window.__define_resource&&__define_resource("LBL02219","LBL06862","LBL04602","LBL04596","LBL03132","LBL01680","LBL01161","LBL00777","LBL02890","LBL08019","BTN00357","LBL05716","LBL04417","LBL01937","LBL01936","LBL09575","LBL06847","LBL09576","LBL06848","LBL09577","LBL06849","LBL09578","LBL06850","LBL09579","LBL06851","LBL09580","LBL06852","LBL09581","LBL06853","LBL09582","LBL06854","LBL09583","LBL06855","LBL09584","LBL06856","LBL09585","LBL06857","LBL09586","LBL06858","LBL00785","LBL06789","LBL11300","LBL07516","LBL13169","LBL02875","LBL08724","LBL08723","LBL01541","LBL15848","LBL11874","LBL06069","LBL03444","LBL03638","LBL11141","LBL00330","LBL04331","LBL03606","LBL10187","LBL02449","LBL00500","LBL12437","LBL02870","LBL08722","LBL08849","LBL09712","LBL11578","LBL03399","LBL19816","LBL11503","LBL04124","LBL02686","LBL12172","LBL04853","LBL20257","LBL06524","LBL12794","LBL70830","LBL02097","LBL02871","LBL02424","LBL03436","LBL17882","LBL13689","LBL90144","LBL06286","LBL04045","LBL06621","LBL02079","LBL17028","LBL15209","LBL21402","LBL03088","LBL22822","LBL22824","LBL12711");widget.calendar={};widget.calendar._baseLoaded=!1;widget.calendar._export=function(){return{_default:{controlType:"widget.calendar",__inheritParent:"ecount.control.calendar.holiday",viewName:"widget.view.calendar",dayClickName:"onCalendarItemClick",init:function(){ecount.control.calendar.holiday.prototype.init.apply(this,arguments)},createView:function(){return this.ecview=new widget.view.calendar},initializeOptions:function(n){$.extend(this,{disableControl:n.disableControl,datas:n.datas,_dataFilter:n._dataFilter});ecount.control.calendar.holiday.prototype.initializeOptions.apply(this,arguments)},setCalendarDay:function(n,t,i){var r=this.setCalendarDayDatas(n),e=r.dayValue,u=r.dataRow,o=r.value,f=r.currentWeekForMat,s=u.value?f[1]:f[0];return{dataRow:u,roleIndex:t+"-"+n,value:o,currentColor:s,year:this.year,dayValue:e,dayCnt:i}},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i].date==t)return n[i];return""},getDataRow:function(n){return this.datas?this.getDataByDay(this.datas,n):""},render:function(){this.setData(this.datas);ecount.control.calendar.holiday.prototype.render.apply(this,arguments)}},schedule:{controlType:"widget.calendar.schedule",viewName:"widget.view.calendar.schedule",__inheritParent:"ecount.control.calendar.schedule",dayClickName:"onCalendarItemClick",init:function(){ecount.control.calendar.schedule.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{disableWeekend:n.disableWeekend,datas:n.datas,announcement:n.announcement,_setDateConverter:n._setDateConverter});ecount.control.calendar.schedule.prototype.initializeOptions.apply(this,arguments)},initializeViewOptions:function(){ecount.control.calendar.schedule.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{_startDay:this._startDay,weeks:this.weeks,weekColors:this.weekColors,disableWeekend:this.disableWeekend,datas:this.datas,month:this.month,year:this.year,form:this.form})},setMonthItems:function(){var t=Date.daysInMonth(this.month,this.year),f=new Date(this.year,this.month,t).getDay(),e=new Date(this.year,this.month,1),i=e.getDay(),r=Math.ceil((t+i)/7),u=[],n;for(f==0&&this.disableWeekend&&r--,this.dayCnt=0,n=0;n<r;n++)u.push(this.setDayOfWeek(n,i,t));return u},setDayOfWeek:function(n,t,i){for(var r=[],u=0;u<7;u++)n==0?u>=t?(this.dayCnt++,r.push(this.setCalendarDay(u,n,this.dayCnt))):r.push(this.setCalendarEmptyDay()):(this.dayCnt++,this.dayCnt<=i?r.push(this.setCalendarDay(u,n,this.dayCnt)):r.push(this.setCalendarEmptyDay()));return r},setCalendarDay:function(n,t,i){var r=String.format("{0}{1}{2}",this.year,this.getMonthValue(),this.getDayValue()),u=this.getEduData(r),f={tdClass:""};return u.length&&this._setDateConverter(u,r,t,n,f),{todayClass:this.matchFullDate(i),tdClass:_.get(f,"tdClass",""),dayCnt:i,dateValue:r,dataValue:u}},getEduData:function(n){return Object.clone(this.datas[n]||[],!0)},render:function(){this.setData(this.datas);ecount.control.calendar.schedule.prototype.render.apply(this,arguments)},dayClick:function(n,t,i,r){var u=r.parsedIndex,f=this.monthItems[u.weekIndex][u.dayOfWeedIndex].dataValue[u.itemIndex];f&&(r.value=f.value,r.command=this.dayClickName)}},scheduleManagement:{controlType:"widget.calendar.scheduleManagement",viewName:"widget.view.calendar.scheduleManagement",__inheritParent:"ecount.control.calendar.holiday",_daySeparator:"DAY_",displayTwoWeeks:!1,_$dragTarget:null,_$dropTarget:null,_dragImg:null,_dragShowTime:null,init:function(){ecount.control.calendar.holiday.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{openPopUpCallback:n.openPopUpCallback,displayTwoWeeks:n.displayTwoWeeks,_holiday:n._holiday,_scheduleCount:n._scheduleCount,_scheduleDayListArray:n._scheduleDayListArray,_holidayDetail:n._holidayDetail,TYPE_VALUE:n.TYPE_VALUE,BUSINESS_NO:n.BUSINESS_NO,CAT_DV_VAL:n.CAT_DV_VAL,NUM_LINES:n.NUM_LINES,subTitle:n.subTitle,form:n.form,startDay:n.startDay,rowCount:n.rowCount,WIDGET_SEQ:n.WIDGET_SEQ,_callBack:n._callBack,_popoverContentsClickCallBack:n._popoverContentsClickCallBack,_calendarNewScheduleCallback:n._calendarNewScheduleCallback,_popoverHeader:n._popoverHeader,_popoverContents:n._popoverContents,_scheduleTableTemplate:n._scheduleTableTemplate,isNewSchedulerDayStyle:n.isNewSchedulerDayStyle||!1,isDragAble:n.isDragAble||!1,dragStopEventCallback:n.dragStopEventCallback||!1});ecount.control.calendar.holiday.prototype.initializeOptions.apply(this,arguments)},initializeViewOptions:function(n){ecount.control.calendar.holiday.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{contentsClickCallBack:this.contentsClickCallBack.bind(this),isNewSchedulerDayStyle:n.isNewSchedulerDayStyle||!1})},contentsClickCallBack:function(n){n.target.getAttribute("class")=="close"&&(this.destroyPopover(this._IT_SELF),this.setState(this._IT_SELF,"popover.ecroleindex",""));this._popoverContentsClickCallBack?this._popoverContentsClickCallBack(n):this.viewSchedule(n)},viewSchedule:function(n){var i=n.target.getAttribute("data-value"),t,r;return!n||n.target.nodeName!="A"?!1:(i&&(t=i.split(ecount.delimiter),r={width:"800",height:"600",hidYMD:t[0],hidSNo:t[1],DEL_GUBUN:t[2],hidPGM:"Monthly",Search:"",hidLinkFrom:"main",responseID:this.callbackID,__ecPageID:this.ecPageID},this.openPopup(_.extend({url:"/ECERP/EGJ/EGJ006P_01",name:ecount.resource.LBL02219,popupType:!1,additional:!1,fpopupID:this.ecPageID},r)),n.stopPropagation()),!1)},onInitState:function(n,t){$.extend(t,{"popover.title":"","popover.ecroleindex":""})},render:function(){ecount.control.calendar.prototype.render.apply(this,arguments)},onLazyRender:function(){var n=this.getContainerElement();n&&this.isDragAble&&this.setDragEvent(n)},setDragEvent:function(n){this.dragInstance=new ecount.draggable;this.dragInstance.setDragData({id:this.id,target:n,droppable:n,drag_start:this.dragStartEvent.bind(this),drag_move:this.dragMoveEvent.bind(this),drag_stop:this.dragStopEvent.bind(this),drag_clear:this.dragClear.bind(this),helper:this.makeDragHelper.bind(this),helperDistance:{x:20,y:10},axis:"vertical"})},getFamilyEl:function(n,t){function f(n){return n.length>0?n[0]:!1}var i=!1,r,u;return _.upperCase(t)=="LI"?(i=n.tagName=="LI"?n:n.tagName=="A"?n.parentElement:!1,u="calendar.cell"):_.upperCase(t)=="A"&&(i=n.tagName=="A"?n:n.tagName=="LI"?f(n.getElementsByTagName("A")):!1,u="calendar.cellContents"),i===!1&&(r=$(n).closest(t),i=r.attr("data-role")==u?r[0]:!1),i},dragStartEvent:function(n){var t=this.getFamilyEl(n.originalEvent.target,"LI");if(this._$dragTarget=$(t),t)this._$dragTarget=$(t),this._$dragTarget.css("opacity","0.6");else return this._$dragTarget=null,!1},makeDragHelper:function(n,t){var i=2-ecount.common.getZoomRatio(),r=this.getFamilyEl(t.originalEvent.target,"LI"),u=r.cloneNode(!0),f="left: "+(t.clientX/i|0)+"px; top: "+(t.clientY/i|0)+"px;";return this._dragImg=["<div class='draggable-helper' style='"+f+"'>",'<ul class="schedule" style="width: '+r.parentElement.offsetWidth+'px;">',u.outerHTML,"<\/ul>","<\/div>"].join(""),this._dragImg},dragMoveEvent:function(n){var t=n.helper;t.hasClass("not-droppable")&&n.isDroppable?t.removeClass("not-droppable"):t.hasClass("not-droppable")||n.isDroppable||t.addClass("not-droppable")},dragStopEvent:function(n){var t=$(n.originalEvent.target).closest("td"),i=this._$dragTarget.closest("td"),r=t.attr("data-role-index")!=i.attr("data-role-index");this._$dropTarget=null;n.isDroppable&&t.length>0&&!t.hasClass("disabled-day")&&r&&(this._$dropTarget=t,this._dragStopEventCallback(n))},_dragStopEventCallback:function(n){var i=null,r=null,u={param:n,contentsDatas:{},changeDate:""},t,f,e;n.isDroppable&&this._$dragTarget&&this._$dragTarget.length>0&&(t=this.getEcRoleIndexParse(this._$dragTarget.find("a").attr("data-role-index")),r=this.monthItems[t.weekIndex][t.dayOfWeedIndex].contentsDatas[t.itemIndex]);n.isDroppable&&this._$dropTarget&&this._$dropTarget.length>0&&(i=this._$dropTarget.find("span.day").text());r&&(u.contentsDatas=_.merge({},r));i&&(u.changeDate=[this.year,this.month+1,i].join("-"));f=function(n){n&&(this._$dropTarget.find("ul").append("<li id='dummySchedulerLi'><\/li>"),$("#dummySchedulerLi").replaceWith(this._$dragTarget));this._$dragTarget=null;this._$dropTarget=null}.bind(this);this.dragStopEventCallback?this.dragStopEventCallback(u,f):(e="background: yellow; color: red",console.info("%c [drag 기능 사용 시 dragStopEventCallback 함수를 페이지 소스에서 구현해야 합니다]",e),f(!1))},dragClear:function(){this._$dragTarget&&this._$dragTarget.css("opacity","");this._dragImg=null;this.dragTimeOverCheck()},dragTimeOverCheck:function(n){var t,i;if(n)return t=!0,this._dragShowTime&&(i=(new Date).getTime(),t=i-this._dragShowTime>n),this._dragShowTime=(new Date).getTime(),t;this._dragShowTime=(new Date).getTime()},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i].DATE==t)return n[i];return""},getHTML:function(){return this.getComposedDomString()},setCalendarDay:function(n,t,i){var r=this.setCalendarDayDatas(n),s=r.monthValue,h=r.dataValue,f=r.dataRow,c=r.value,e=r.currentWeekForMat,l=f.VALUE?e[1]:e[0],o=this.displayTwoWeeks?this._daySeparator+(this.month+1)+i:this._daySeparator+i,u=t+"-"+n;return{roleIndex:u,currentColor:l,value:c,dayCnt:this.showMonth?s+"."+i:i,todayClass:this.matchFullDate(i),contentsDatas:this.getContentsDatas(o,u),summaryDatas:this.getSummaryDatas(o,u,h),dataRow:f}},getDataRow:function(n){return this._holidayDetail?this.getDataByDay(this._holidayDetail,n):""},getContentsDatas:function(n,t){if(!this._scheduleDayListArray)return[];var r=this._scheduleDayListArray[n]||[],i=ecount.delimiter;return r.forEach(function(n,r){var f=n.PRG_ID||"",u=this.getOtherSlipInfoPrefix(f);n.isPrivateClass=n.PRIVATE_FLAG==="Y"?"text-bold":"";n.value=n.YYYYMMDD+i+n.SER_NO+i+n.DEL_GUBUN+i+n.SCH_REPT_TF+i+n.PARENT_YYYYMMDD+i+n.CLNDR_SNO+i+f+i+n[u+"_DATE"]+i+n[u+"_NO"]+i+n.HID+i+u+i+n.CLNDR_TYPCD;n.roleIndex=t+"-"+r}.bind(this)),r},setDayListUpdate:function(n,t,i){var r=_.merge({},n),u=Object.keys(r).map(function(n){return n.replace(/[^0-9]/g,"")}),e=ecount.delimiter,f=_.isArray(t)&&_.isArray(t[0])&&_.isArray(t[1]);f&&(this._cellSummaryList=t);this.monthItems.map(function(n){n.map(function(n){u.contains(n.dayCnt)&&(n.contentsDatas=r["DAY_"+n.dayCnt].map(function(t,i){return _.merge(t,{isPrivateClass:t.PRIVATE_FLAG==="Y"?"text-bold":"",value:[t.YYYYMMDD,t.SER_NO,t.DEL_GUBUN].join(e),roleIndex:[n.roleIndex,i].join("-")})},this),f&&(n.summaryDatas=this.getSummaryDatas("DAY_"+n.dayCnt,n.roleIndex,n.value)))},this)},this);i!==!1&&this.setReloadScheduleByDay(u)},setReloadScheduleByDay:function(n){var t,i;if(this.ecview&&this.ecview.$el&&n&&_.isArray(n)&&n.length>0)for(t=0;t<n.length;t++)i=this.monthItems.find(function(i){return i.some(function(i){return i.dayCnt==n[t]})}).find(function(i){return i.dayCnt==n[t]}),this.ecview.getScheduleByDayTemplate(i)},getSummaryDatas:function(n,t,i){if(!this._scheduleCount)return[];var u=function(n,t,i,r){var e=n==0?!1:!0,o="btn-default",u,f,s;e===!0&&(o="btn-primary");u=0;f=0;switch(this.TYPE_VALUE.toString()){case"1":case"2":u=this.TYPE_VALUE;f=this.TYPE_VALUE;break;case"3":u="99";f="2"}return s=String.format("{0}"+ecount.delimiter+"{1}",r.split("-").join(""),e==!0?u:f),{isShow:this.TYPE_VALUE==1&&n==0?!1:!0,css:o,value:s,count:"+"+i,roleIndex:t+"-"+n,popoverOpen:"Y"}}.bind(this),f=[this._scheduleCount[0][0][n],this._scheduleCount[1][0][n]],r=[];return f.forEach(function(n,f){n>0&&r.push(u(f,t,n,i))}.bind(this)),r},summaryClick:function(n,t,i,r){var u=r.parsedIndex,f=this.monthItems[u.weekIndex][u.dayOfWeedIndex].summaryDatas,e=f[u.itemIndex];return u.itemIndex=="1"&&f.length==1&&(e=f[0]),e&&this.getscheduleData(e,n,t,i,r),!1},getscheduleData:function(n,t){var u=t.ecRoleIndex,f=this._IT_SELF;if(this.isShowPopover(u)==!0)return this.setState(this._IT_SELF,"popover.ecroleindex",""),!1;var i=n.value,r=ecount.delimiter,e={TIME_CHART_TYPE:"D",FROM_DATE:i.split(r)[0],TO_DATE:i.split(r)[0],TYPE_VALUE:i.split(r)[1],IsIncludeEPInfo:!1,BUSINESS_NO:this.BUSINESS_NO,CAT_DV_VAL:this.CAT_DV_VAL,WIDGET_SEQ:this.WIDGET_SEQ,IsOnlyTargetDay:!0};t.cid=="scheduleMngCalendar"&&$.isFunction(this._callBack)&&this._callBack(e);ecount.common.api({ecPageID:this.ecPageID,url:this._url||"/Service/EP/GetListScheduleForWidget",data:e,error:function(){}.bind(this),success:function(t){var e,o,s,h,c;if(t.Data.data.length>0){if(e=t.Data.data,o=[],e.length){s=this._daySeparator+parseInt(i.split(r)[0].substring(6,8)).toString();h=this._scheduleDayListArray[s].select(function(n){return n.YYYYMMDD_KEY});function l(t){return t.filter(function(t){return n.css!="btn-primary"||t.PRIVATE_FLAG=="Y"}).reduce(function(n,t){var i=t.CLNDR_SNO;return n[i]===undefined&&(n[i]=0),n[i]++,n},{})}c=l(e[0]);o=e[0].filter(function(t){return!h.contains(t.YYYYMMDD_KEY)&&(n.css!="btn-primary"||t.PRIVATE_FLAG=="Y")})}this.destroyPopover(f);this.setPopover(f,{message:this.getPopoverMessage(o),title:this.getPopoverTitle(i,c,t.Data.calendarList),ecroleindex:u,directShow:!0,trigger:"click"})}}.bind(this)})},getPopoverTitle:function(n,t,i){var f="",u="",r;if($.isFunction(this._popoverHeader))u=this._popoverHeader(n);else{for(r=0;r<i.length;r++){var e=i[r],o=t[e.Key.CLNDR_SNO]||0;f+=String.format("<span class ='label' style='background-color:{0}'>{1}<\/span>&nbsp;",e.CLNDR_COLOR_CD,o)}var s=n.substr(0,4),h=Number(n.substr(4,2))-1,c=Number(n.substr(6,2));u=ecount.infra.getECDateFormat("DATE10",!1,new Date(s,h,c))+" "+ecount.resource.LBL06862}return String.format('<div>{0}&nbsp;&nbsp;{1}<a herf="javascript:;" class="close" data-role="popover.close" data-role-index=\'0\'><\/a><\/div>',u,f)},getOtherSlipInfoPrefix:function(n){return{E020715:"SLIP",E040307:"ORD",E040212:"REQ",E040228:"OUT"}[n]},getPopoverMessage:function(n){var t=ecount.delimiter,i="",r="",u;return $.isFunction(this._popoverContents)?i=this._popoverContents(n):n.forEach(function(n){var f=n.PRG_ID||"",u=this.getOtherSlipInfoPrefix(f);r=n.YYYYMMDD;i+=String.format('<tr class=\'{5}\'><td>{0}<\/td><td><a href="javascript:;" data-value="{1}" {6}>{2}{3}<\/a><\/td><td>{4}<\/td><\/tr>',n.TIME,r.toDate().format("yyyy-MM-dd")+t+n.SER_NO+t+n.DEL_GUBUN+t+n.SCH_REPT_TF+t+n.PARENT_YYYYMMDD.toDate().format("yyyyMMdd")+t+n.CLNDR_SNO+t+f+t+n[u+"_DATE"]+t+n[u+"_NO"]+t+n.HID+t+u+t+n.CLNDR_TYPCD,"["+(n.VCTYPE_DES?n.VCTYPE_DES.escapeHTML():"")+"] ",n.TITLE,n.VCWHERE||"",n.DEL_GUBUN=="Y"?"text-danger":"",n.DEL_GUBUN=="Y"?'class="text-danger"':"")}.bind(this)),u=this._scheduleTableTemplate||'<table class="table table-ellipsis table-schedule-more-list table-border-no-h"><colgroup><col class="col1"><col class="col2"><col class="col3"><\/colgroup><tbody>{{CONTENTS}}<\/tbody><\/table>',ecount.widget.replaceAttr(u,{CONTENTS:i})},destroy:function(){this.destroyPopover(this._IT_SELF);ecount.control.prototype.destroy.call(this)},requestData:function(){var n=this.todayDate.format("yyyyMM"),t={TIME_CHART_TYPE:"M",FROM_DATE:n+"01",TO_DATE:n+Date.daysInMonth(this.month,this.year).toString(),TYPE_VALUE:this.TYPE_VALUE,IsIncludeEPInfo:!1};$.isFunction(this._callBack)&&this._callBack(t);ecount.common.api({ecPageID:this.ecPageID,url:this._url||"/Service/EP/GetListScheduleForWidget",data:Object.toJSON(t),complete:function(){return!1},success:function(n){var t,i;if(n.Status!="200")ecount.alert(n.fullErrorMsg);else{for(t=Object.clone(n.Data),i=0;i<t.length;i++)t[i]=this._dataFilter(t[i]);this.setData(t);this.reDraw()}}})}},book:{controlType:"widget.calendar.book",viewName:"widget.view.calendar.scheduleManagement",__inheritParent:"ecount.control.calendar.holiday",_daySeparator:"DAY_",displayTwoWeeks:!1,_$dragTarget:null,_$dropTarget:null,_dragImg:null,_dragShowTime:null,init:function(){ecount.control.calendar.holiday.prototype.init.apply(this,arguments)},initializeOptions:function(n){if($.extend(this,{openPopUpCallback:n.openPopUpCallback,_bookStyle:$.isEmpty(n._bookStyle)?0:n._bookStyle,form:n.form,firstDayStyle:n.firstDayStyle,_contentsTooltip:$.isEmpty(n._contentsTooltip)?!1:n._contentsTooltip,_setCellTemplate:n._setCellTemplate,_setContentsTemplate:n._setContentsTemplate,_setPopoverHeaderTemplate:n._setPopoverHeaderTemplate,_setPopoverContentsTemplate:n._setPopoverContentsTemplate,_setPopoverContentsTableTemplate:n._setPopoverContentsTableTemplate,_setSummaryBtnTemplate:n._setSummaryBtnTemplate,_summaryCallBack:n._summaryCallBack,_setTootipTarget:n._setTootipTarget,_dayTextAlign:n._dayTextAlign?n._dayTextAlign:"right",_striped:n._striped===!0?n._striped:!1,_holiday:n._holiday,_holidayDetail:n._holidayDetail,_cellContentsList:n._cellContentsList,_cellContentsViewCount:n._cellContentsViewCount,_cellSummaryList:n._cellSummaryList,_popoverType:$.isEmpty(n._popoverType)?"button":n._popoverType,_popoverTarget:$.isEmpty(n._popoverTarget)?"button":n._popoverTarget,_popoverScroll:$.isBoolean(n._popoverScroll)?n._popoverScroll:n._popoverType=="hover"?!1:!0,TYPE_VALUE:n.TYPE_VALUE,rowCount:n.rowCount,startDay:n.startDay,displayTwoWeeks:n.displayTwoWeeks,_cellClickCallBack:n._cellClickCallBack,_cellContentsClickCallBack:n._cellContentsClickCallBack,isDragAble:n.isDragAble||!1,dragStopEventCallback:n.dragStopEventCallback||!1}),n.weeks&&(this.weeks=n.weeks),this._bookStyle!=0){var t=this.getBookTemplateStyle(this._bookStyle);n.form||(this.form=t.form);n._contentsTooltip||(this._contentsTooltip=t._contentsTooltip);n._dayTextAlign||(this._dayTextAlign=t._dayTextAlign);n._popoverType||(this._popoverType=t._popoverType);n._popoverTarget||(this._popoverTarget=t._popoverTarget);n._popoverScroll||(this._popoverScroll=t._popoverScroll);n._setTootipTarget||(this._setTootipTarget=t._setTootipTarget)}ecount.control.calendar.holiday.prototype.initializeOptions.apply(this,arguments)},initializeViewOptions:function(){ecount.control.calendar.holiday.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{contentsClickCallBack:this.contentsClickCallBack.bind(this),_contentsTooltip:this._contentsTooltip,_dayTextAlign:this._dayTextAlign,_striped:this._striped,_popoverScroll:this._popoverScroll,_popoverType:this._popoverType,_popoverTarget:this._popoverTarget,_bookStyle:this._bookStyle,form:this.form,firstDayStyle:this.firstDayStyle,_setCellTemplate:this._setCellTemplate,_cellContentsViewCount:this._cellContentsViewCount,_setContentsTemplate:this._setContentsTemplate,_setSummaryBtnTemplate:this._setSummaryBtnTemplate,_setTootipTarget:this._setTootipTarget,getBookTemplateStyle:this.getBookTemplateStyle.bind(this)})},setWeek:function(){var n=ecount.resource;this.weeks||(this.weeks=[n.LBL04602,n.LBL04596,n.LBL03132,n.LBL01680,n.LBL01161,n.LBL00777,n.LBL02890]);this.dayOfTheWeek=this.weeks[this.todayIndex]},cellClick:function(n,t,i,r){var e=r.parsedIndex,u=this.monthItems[e.weekIndex][e.dayOfWeedIndex],f;return u&&$.isFunction(this._cellClickCallBack)&&(f={},r.value=u.value,_.merge(f,r,u),this._cellClickCallBack(t,f)),!1},contentsClickCallBack:function(n){var t,i,r,u;if((n.target.getAttribute("class")=="close"&&(this.destroyPopover(this._IT_SELF),this.setState(this._IT_SELF,"popover.ecroleindex","")),n.target.getAttribute("class")=="close")||(t=$(n.target),(!n||n.target.nodeName!="A")&&(t=t.closest("td > a"),t.length==0))||(i=t.attr("data-roleIndex"),$.isEmpty(i)&&this._bookStyle!==5))return!1;i&&(r=this.getEcRoleIndexParse(i),u=this.monthItems[r.weekIndex][r.dayOfWeedIndex].contentsDatas[r.itemIndex]);this._cellContentsClickCallBack?this._cellContentsClickCallBack(n,u):this.cellContentsClick(n,u)},cellContentsClick:function(){return!1},onInitState:function(n,t){$.extend(t,{"popover.title":"","popover.ecroleindex":""})},render:function(){ecount.control.calendar.prototype.render.apply(this,arguments)},onLazyRender:function(){var n=this.getContainerElement();n&&this.isDragAble&&this.setDragEvent(n)},setDragEvent:function(n){this.dragInstance=new ecount.draggable;this.dragInstance.setDragData({id:this.id,target:n,droppable:n,drag_start:this.dragStartEvent.bind(this),drag_move:this.dragMoveEvent.bind(this),drag_stop:this.dragStopEvent.bind(this),drag_clear:this.dragClear.bind(this),helper:this.makeDragHelper.bind(this),helperDistance:{x:20,y:10},axis:"vertical"})},getFamilyEl:function(n,t){function f(n){return n.length>0?n[0]:!1}var i=!1,r,u;return _.upperCase(t)=="LI"?(i=n.tagName=="LI"?n:n.tagName=="A"?n.parentElement:!1,u="calendar.cell"):_.upperCase(t)=="A"&&(i=n.tagName=="A"?n:n.tagName=="LI"?f(n.getElementsByTagName("A")):!1,u="calendar.cellContents"),i===!1&&(r=$(n).closest(t),i=r.attr("data-role")==u?r[0]:!1),i},dragStartEvent:function(n){var t=this.getFamilyEl(n.originalEvent.target,"LI");if(t)this._$dragTarget=$(t),this._$dragTarget.css("opacity","0.6");else return this._$dragTarget=null,!1},makeDragHelper:function(n,t){var i=2-ecount.common.getZoomRatio(),r=this.getFamilyEl(t.originalEvent.target,"LI"),u=r.cloneNode(!0),f="left: "+(t.clientX/i|0)+"px; top: "+(t.clientY/i|0)+"px;";return this._dragImg=["<div class='draggable-helper' style='"+f+"'>",'<ul class="schedule" style="width: '+r.parentElement.offsetWidth+'px;">',u.outerHTML,"<\/ul>","<\/div>"].join(""),this._dragImg},dragMoveEvent:function(n){var t=n.helper;t.hasClass("not-droppable")&&n.isDroppable?t.removeClass("not-droppable"):t.hasClass("not-droppable")||n.isDroppable||t.addClass("not-droppable")},dragStopEvent:function(n){var t=$(n.originalEvent.target).closest("td"),i=this._$dragTarget.closest("td"),r=t.attr("data-role-index")!=i.attr("data-role-index");this._$dropTarget=null;n.isDroppable&&t.length>0&&!t.hasClass("disabled-day")&&r&&(this._$dropTarget=t,this._dragStopEventCallback(n))},_dragStopEventCallback:function(n){var i=null,r=null,u={param:n,contentsDatas:{},changeDate:""},t,f,e,o;n.isDroppable&&this._$dragTarget&&this._$dragTarget.length>0&&(t=this.getEcRoleIndexParse(this._$dragTarget.find("a").attr("data-role-index")),r=this.monthItems[t.weekIndex][t.dayOfWeedIndex].contentsDatas[t.itemIndex]);n.isDroppable&&this._$dropTarget&&this._$dropTarget.length>0&&(f=this.getEcRoleIndexParse(n.eventTarget.dataset.roleIndex),i=this.monthItems[f.weekIndex][f.dayOfWeedIndex].value);r&&(u.contentsDatas=_.merge({},r));i&&(u.changeDate=i);e=function(n){n&&(this._$dropTarget.find("ul").append("<li id='dummySchedulerLi'><\/li>"),$("#dummySchedulerLi").replaceWith(this._$dragTarget));this._$dragTarget=null;this._$dropTarget=null}.bind(this);this.dragStopEventCallback?this.dragStopEventCallback(u,e):(o="background: yellow; color: red",console.info("%c [drag 기능 사용 시 dragStopEventCallback 함수를 페이지 소스에서 구현해야 합니다]",o),e(!1))},dragClear:function(){this._$dragTarget&&this._$dragTarget.css("opacity","");this._dragImg=null;this.dragTimeOverCheck()},dragTimeOverCheck:function(n){var t,i;if(n)return t=!0,this._dragShowTime&&(i=(new Date).getTime(),t=i-this._dragShowTime>n),this._dragShowTime=(new Date).getTime(),t;this._dragShowTime=(new Date).getTime()},getDataRow:function(n){return this._holidayDetail?this.getDataByDay(this._holidayDetail,n):""},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i].DATE==t)return n[i];return""},getHTML:function(){return this.getComposedDomString()},setCalendarDay:function(n,t,i){var r=this.setCalendarDayDatas(n),s=r.monthValue,h=r.dataValue,f=r.dataRow,c=r.value,e=r.currentWeekForMat,l=f.VALUE?e[1]:e[0],o=this.displayTwoWeeks?this._daySeparator+(this.month+1)+i:this._daySeparator+i,u=t+"-"+n;return{roleIndex:u,currentColor:l,value:c,dayCnt:this.showMonth?s+"."+i:i,todayClass:this.matchFullDate(i),contentsDatas:this.getContentsDatas(o,u),summaryDatas:this._getSummaryDatas(o,u,h),dataRow:f}},getContentsDatas:function(n,t){if(!this._cellContentsList)return[];var r=[],i=this._cellContentsList[n],u=ecount.delimiter;return $.isArray(i)&&i.length!=0&&(i.forEach(function(n,i){n.addClass=$.isEmpty(n.CLASS)?"":n.CLASS;n.value=n.YYYYMMDD+u+n.SER_NO+u+n.DEL_GUBUN;n.roleIndex=t+"-"+i}),r=i),r},setDayListUpdate:function(n,t,i){var r=_.merge({},n),u=Object.keys(r).map(function(n){return n.replace(/[^0-9]/g,"")}),e=ecount.delimiter,f=_.isArray(t)&&_.isArray(t[0])&&_.isArray(t[1]);f&&(this._cellSummaryList=t);this.monthItems.map(function(n){n.map(function(n){var t=n.dayCnt,i;this.displayTwoWeeks&&(i=n.value.toDate(),t=(i.getMonth()+1).toString()+i.getDate().toString());u.contains(t)&&(n.contentsDatas=r["DAY_"+t].map(function(t,i){return _.merge(t,{isPrivateClass:t.PRIVATE_FLAG==="Y"?"text-bold":"",value:[t.YYYYMMDD,t.SER_NO,t.DEL_GUBUN].join(e),roleIndex:[n.roleIndex,i].join("-")})},this),f&&(n.summaryDatas=this.getSummaryDatas("DAY_"+t,n.roleIndex,n.value)))},this)},this);i!==!1&&this.setReloadCellByDay(u)},getViewByDay:function(n,t){if(n){var i=n.toDate(),r=i.getDate().toString();return this.displayTwoWeeks&&(r=(i.getMonth()+1).toString()+i.getDate().toString()),r==t}return!1},setReloadCellByDay:function(n){var t,i;if(this.ecview&&this.ecview.$el&&n&&_.isArray(n)&&n.length>0)for(t=0;t<n.length;t++)i=this.monthItems.find(function(i){return i.some(function(i){return this.getViewByDay(i.value,n[t])},this)},this).find(function(i){return this.getViewByDay(i.value,n[t])},this),this.ecview.getDayTemplate(i)},_getSummaryDatas:function(){return this._bookStyle===5?this.getSummaryDatas.apply(this,arguments):this.getAutoCutSummaryDatas.apply(this,arguments)},getSummaryDatas:function(n,t,i){if(!this._cellSummaryList)return[];var u=function(t,i,r,u){function s(n){return n.filter(function(n){return f||n.IS_PARTICIPANTS}).reduce(function(n,t){var i=t.originData.CLNDR_SNO;return n[i]===undefined&&(n[i]=0),n[i]++,n},{})}var f=t==0?!0:!1,e="btn-primary",o;return f===!0&&(e="btn-default"),o=String.format("{0}"+ecount.delimiter+"{1}",u.split("-").join(""),f==!0?"99":"2"),{isShow:!0,css:e,value:o,count:"+"+r,roleIndex:i+"-"+t,popoverOpen:"Y",calendarDataCount:s(this._cellContentsList[n])}}.bind(this),f=[this._cellSummaryList[1][0][n],this._cellSummaryList[0][0][n]],r=[];return f.forEach(function(n,f){n>0&&r.push(u(f,t,n,i))}.bind(this)),r},getAutoCutSummaryDatas:function(n,t,i){var f=[],e=this._cellContentsList[n],o=[],u=[{value:"",css:"btn-primary"}],s=function(n,t){var f=[],i,e,r;if(t.length>0)for(i=0;i<u.length;i++){for(e=0,r=this._cellContentsViewCount;r<n.length;r++)(u[i].value===""||n[r].OVER_COUNT_KEY===u[i].value)&&e++;f.push(e)}else f.push(n.length-this._cellContentsViewCount);return f}.bind(this),h=function(n,t,i,r,u){var f=u||"btn-primary",e=String.format("{0}"+ecount.delimiter+n,r.split("-").join(""));return{isShow:i>0?!0:!1,css:f,value:e,count:"+"+i,roleIndex:t+"-"+n,popoverOpen:"Y"}}.bind(this),r;if($.isArray(e)&&(f=s(e,u)),f.length>0)for(r=0;r<f.length;r++)o.push(h(r,t,f[r],i,u[r].css));return o},cellContentsClick:function(n,t,i,r){var u=r.parsedIndex,f=this.monthItems[u.weekIndex][u.dayOfWeedIndex].contentsDatas[u.itemIndex];return r&&r.parsedIndex&&(r.parsedIndex=null,delete r.parsedIndex),f&&(_.merge(r,f),$.isFunction(this._cellContentsClickCallBack)&&this._cellContentsClickCallBack(t,r)),!1},summaryClick:function(n,t,i,r){var o=r.parsedIndex,l=this.monthItems[o.weekIndex][o.dayOfWeedIndex].summaryDatas,u=l[o.itemIndex],e=this._IT_SELF;if(u&&this._popoverType=="button"&&this._popoverTarget!="td"){var s=Number(u.value.split(ecount.delimiter)[0].substr(6)),h=Number(u.value.split(ecount.delimiter)[0].substr(4,2)),c=this.displayTwoWeeks?this._daySeparator+h+s:this._daySeparator+s,f=this._cellContentsList[c];if(f[0].isSummaryRow!=undefined&&(f=f.filter(function(n){return n.isSummaryRow===!0})),o.itemIndex==1&&f[0].IS_PARTICIPANTS!=undefined&&(f=f.where(function(n){return n.IS_PARTICIPANTS==!0})),this.isShowPopover(u.roleIndex)==!0)return this.setState(this._IT_SELF,"popover.ecroleindex",""),this.destroyPopover(e),!1;this.destroyPopover(e);this.setPopover(e,{title:this.getPopoverTitle(u.value,u.calendarDataCount),message:this.getPopoverMessage(f),ecroleindex:u.roleIndex,directShow:!0,trigger:"click"})}else if(u&&this._popoverType=="button"&&this._popoverTarget=="td"){var s=Number(u.value.split(ecount.delimiter)[0].substr(6)),h=Number(u.value.split(ecount.delimiter)[0].substr(4,2)),c=this.displayTwoWeeks?this._daySeparator+h+s:this._daySeparator+s,f=this._cellContentsList[c];if(this.isShowPopover(u.roleIndex)==!0)return this.setState(this._IT_SELF,"popover.ecroleindex",""),this.destroyPopover(e),!1;this.destroyPopover(e);this.setPopover(e,{title:this.getPopoverTitle(u.value),message:this.getPopoverMessage(f),ecroleindex:u.roleIndex,directShow:!0,trigger:"click"})}return!1},getPopoverTitle:function(n,t){var i="",r=this.getBookTemplateStyle(this._bookStyle);if($.isFunction(this._setPopoverHeaderTemplate))i=this._setPopoverHeaderTemplate(n,t);else if(this._bookStyle!=0&&$.isFunction(r._setPopoverHeaderTemplate))i=r._setPopoverHeaderTemplate(n);else{var f=n.substr(0,4),e=Number(n.substr(4,2))-1,o=Number(n.substr(6,2)),s=ecount.infra.getECDateFormat("DATE10",!1,new Date(f,e,o))+" "+ecount.resource.LBL06862,u="";u='<a herf="javascript:;" class="close" data-role="popover.close" data-role-index=\'0\'><\/a>';i=String.format('<div class="{2}">{0}{1}<\/div>',s,u,"")}return i},getPopoverMessage:function(n,t){var i="",e,r=this.getBookTemplateStyle(this._bookStyle),u,f;return $.isFunction(this._setPopoverContentsTemplate)?i=this._setPopoverContentsTemplate(n,t):this._bookStyle!=0&&$.isFunction(r._setPopoverContentsTemplate)?i=r._setPopoverContentsTemplate(n,t):(u=ecount.delimiter,f="",n.forEach(function(n,t){f=n.YYYYMMDD_KEY||n.YYYYMMDD;i+=String.format('<tr {5}><td>{0}<\/td><td><a href="javascript:;" {6} data-value="{1}" data-roleIndex="{2}">{3}<\/a><\/td><td>{4}<\/td><\/tr>',n.originData.TIME,f.toDate().format("yyyy-MM-dd")+u+n.SER_NO+u+n.DEL_GUBUN,n.roleIndex,"["+(t+1)+"] "+n.TITLE,"[냉무]",n.DEL_GUBUN=="Y"?'class="text-danger"':"",n.DEL_GUBUN=="Y"?'class="text-danger"':"")})),e=$.isFunction(this._setPopoverContentsTableTemplate)?this._setPopoverContentsTableTemplate():this._bookStyle!=0&&$.isFunction(r._setPopoverContentsTableTemplate)?r._setPopoverContentsTableTemplate():'<table class="table table-hover"><colgroup><col class="col1"><col class="col2"><col class="col3"><\/colgroup><tbody>{{CONTENTS}}<\/tbody><\/table>',ecount.widget.replaceAttr(e,{CONTENTS:i})},destroy:function(){this.destroyPopover(this._IT_SELF);ecount.control.prototype.destroy.call(this)},ON_MOUSEOVER:function(n){var t,r,e;if(this._popoverType=="hover"){if(t=n.ecRoleIndex,!$.isEmpty(t)){var u=this.getEcRoleIndexParse(t),i=this.monthItems[u.weekIndex][u.dayOfWeedIndex],f=this._IT_SELF;i&&i.contentsDatas.length>0&&(this.destroyPopover(f),this.setPopover(f,{title:i.value+"test 입니다",message:"ddd",ecroleindex:i.roleIndex,directShow:!0}))}}else if(this._contentsTooltip&&n.ecRole=="calendar.cellContents"&&(t=n.ecRoleIndex,!$.isEmpty(t))){var u=this.getEcRoleIndexParse(t),i=this.monthItems[u.weekIndex][u.dayOfWeedIndex],f=this._IT_SELF;i&&i.contentsDatas.length>0&&(r=i.contentsDatas.filter(function(n){return n.roleIndex==t}),r.length>0&&(e=r[0].tooltip?r[0].tooltip:r[0].TITLE,this.ecview.setTooltip({ecRoleIndex:t,message:e})))}return!1},ON_MOUSEOUT:function(){return this._popoverType=="hover"&&(this.destroyPopover(this._IT_SELF),this.ecview.clearPopover()),!1},reDraw:function(n){$.isEmpty(n.rowCount)?(this.rowCount=null,this.startDay=null,this.displayTwoWeeks=!1):(this.rowCount=n.rowCount,this.startDay=n.startDay,this.displayTwoWeeks=n.displayTwoWeeks);$.isEmpty(n.form)||(_.merge(this.form,n.form),_.merge(this.ecview.form,n.form));this.year=n.year;this.month=n.month;this.__viewOptions.year=n.year;this.__viewOptions.month=n.month;this._holiday=n._holiday;this._holidayDetail=n._holidayDetail;this._cellContentsList=n._cellContentsList;var t=this.setMonthItems();this.monthItems=t;this.__viewOptions.monthItems=t;this.destroyView();this.render()},getBookTemplateStyle:function(n){var t={};$.isEmpty(n)&&(n=0);switch(n){case 1:t._dayTextAlign="left";t._popoverType="button";t._popoverScroll=!1;t._contentsTooltip=!1;t._setContentsTemplate=function(n){var t="",i='<div class="ellipsis {3}" data-role="calendar.cell" data-role-index="{1}"><a href="javascript:;" class="{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}<\/a><\/div>';return n.length&&n.forEach(function(n){t+=String.format(i,n.addClass,n.roleIndex,n.TITLE,this.getContentsClass("getContents"))}.bind(this)),t};t._setPopoverContentsTableTemplate=function(){return'<table class="table table-hover"><colgroup><col class="col1"><col class="col2"><col class="col3"><\/colgroup><tbody>{{CONTENTS}}<\/tbody><\/table>'};t._setPopoverHeaderTemplate=function(n){var i=n.substr(0,4),r=Number(n.substr(4,2))-1,u=Number(n.substr(6,2)),f=ecount.infra.getECDateFormat("DATE10",!1,new Date(i,r,u))+" "+ecount.resource.LBL06862,t="";return t='<a herf="javascript:;" class="close" data-role="popover.close" data-role-index=\'0\'><\/a>',String.format('<div class="{2}">{0}{1}<\/div>',f,t,"")};t._setPopoverContentsTemplate=function(n){var t=ecount.delimiter,i="",r="";return n.forEach(function(n,u){r=n.YYYYMMDD_KEY||n.YYYYMMDD;i+=String.format('<tr {5}><td>{0}<\/td><td><a href="javascript:;" {6} data-value="{1}" data-roleIndex="{2}">{3}<\/a><\/td><td>{4}<\/td><\/tr>',n.originData.TIME,r.toDate().format("yyyy-MM-dd")+t+n.SER_NO+t+n.DEL_GUBUN,n.roleIndex,"["+(u+1)+"] "+n.TITLE,"[냉무!]",n.DEL_GUBUN=="Y"?'class="text-danger"':"",n.DEL_GUBUN=="Y"?'class="text-danger"':"")}),i};t._setSummaryBtnTemplate=function(n){var t=n.summaryDatas,u='<button class="btn {0} btn-sm" data-role="calendar.summaryClick" data-role-index="{1}">{2}<\/button>',i="",r="";return t.length&&(t.forEach(function(n){n.isShow==!0&&(i+=String.format(u,n.css,n.roleIndex,n.count))}.bind(this)),r=String.format('<div class="schedule-more" data-role="calendar.cell" data-role-index="{1}">{0}<\/div>',i,n.roleIndex)),r};t._setTootipTarget=function(){var n=this.$el.find("a[data-role-index='"+this.tooltipIndex+"']");return n.width()>100?this.$el.find("a[data-role-index='"+this.tooltipIndex+"']").parent():n};break;case 2:t._dayTextAlign="left";t._popoverType="button";t._popoverScroll=!1;t._contentsTooltip=!1;t._setContentsTemplate=function(n){var t="",i='<div class="ellipsis {3}" data-role="calendar.cell" data-role-index="{1}"><span class="{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}<\/span><\/div>';return n.length&&n.forEach(function(n){t+=String.format(i,n.addClass,n.roleIndex,n.TITLE,this.getContentsClass("getContents"))}.bind(this)),t};t._setPopoverContentsTableTemplate=function(){return'<table class="table table-hover"><colgroup><col class="col1"><col class="col2"><col class="col3"><\/colgroup><tbody>{{CONTENTS}}<\/tbody><\/table>'};t._setPopoverHeaderTemplate=function(n){var i=n.substr(0,4),r=Number(n.substr(4,2))-1,u=Number(n.substr(6,2)),f=ecount.infra.getECDateFormat("DATE10",!1,new Date(i,r,u))+" "+ecount.resource.LBL06862,t="";return t='<a herf="javascript:;" class="close" data-role="popover.close" data-role-index=\'0\'><\/a>',String.format('<div class="{2}">{0}{1}<\/div>',f,t,"")};t._setPopoverContentsTemplate=function(n){var t=ecount.delimiter,i="",r="";return n.forEach(function(n,u){r=n.YYYYMMDD_KEY||n.YYYYMMDD;i+=String.format('<tr {5}><td>{0}<\/td><td><a href="javascript:;" {6} data-value="{1}" data-roleIndex="{2}">{3}<\/a><\/td><td>{4}<\/td><\/tr>',n.originData.TIME,r.toDate().format("yyyy-MM-dd")+t+n.SER_NO+t+n.DEL_GUBUN,n.roleIndex,"["+(u+1)+"] "+n.TITLE,"[냉무!]",n.DEL_GUBUN=="Y"?'class="text-danger"':"",n.DEL_GUBUN=="Y"?'class="text-danger"':"")}),i};t._setSummaryBtnTemplate=function(n){var t=n.summaryDatas,u='<button class="btn {0} btn-sm" data-role="calendar.summaryClick" data-role-index="{1}">{2}<\/button>',i="",r="";return t.length&&(t.forEach(function(n){n.isShow==!0&&(i+=String.format(u,n.css,n.roleIndex,n.count))}.bind(this)),r=String.format('<div class="schedule-more" data-role="calendar.cell" data-role-index="{1}">{0}<\/div>',i,n.roleIndex)),r};t._setTootipTarget=function(){var n=this.$el.find("a[data-role-index='"+this.tooltipIndex+"']");return n.width()>100?this.$el.find("a[data-role-index='"+this.tooltipIndex+"']").parent():n};break;case 3:t._dayTextAlign="left";t._popoverType="button";t._popoverTarget="td";t._popoverScroll=!1;t._contentsTooltip=!1;t._setContentsTemplate=function(n){var t="",i='<div class="ellipsis {3}" data-role="calendar.cell" data-role-index="{1}"><span class="{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}<\/span><\/div>';return n.length&&n.forEach(function(n){t+=String.format(i,n.addClass,n.roleIndex,n.TITLE,this.getContentsClass("getContents"))}.bind(this)),t};t._setPopoverContentsTableTemplate=function(){return'<table class="table table-hover text-center" style="width: 140px;"><tbody>{{CONTENTS}}<\/tbody><\/table>'};t._setPopoverHeaderTemplate=function(n){var i=n.substr(0,4),r=Number(n.substr(4,2))-1,u=Number(n.substr(6,2)),f=ecount.infra.getECDateFormat("DATE10",!1,new Date(i,r,u))+" "+ecount.resource.LBL06862,t="";return t="text-center",String.format('<div class="{2}">{0}{1}<\/div>',f,"",t)};t._setPopoverContentsTemplate=function(n){var r=ecount.delimiter,t="",i="";return n.forEach(function(n){i=n.YYYYMMDD_KEY||n.YYYYMMDD;t+=String.format("<tr><td>{0}<br>{1}<\/td><td>{2}<br>{3}<\/td><\/tr>",n.originData.TIME,n.TITLE,n.originData.TIME,"[냉무]")}),t};t._setSummaryBtnTemplate=function(n){var t=n.summaryDatas,r='<div class="btn-group btn-group-xs" style="min-width:150px;">\n<button style="min-width:16px;" class="btn btn-info dropdown-toggle" data-role="calendar.summaryClick" data-role-index="{0}">{1}<\/button>\n<\/div>',i="";return t.length&&t.forEach(function(n){n.isShow==!0&&(i=String.format(r,n.roleIndex,n.count))}.bind(this)),i};t._setTootipTarget=function(){var n=this.$el.find("div[data-role-index='"+this.tooltipIndex+"'] > span");return n.width()>100?this.$el.find("div[data-role-index='"+this.tooltipIndex+"']"):n};break;case 4:t._dayTextAlign="left";t._popoverType="hover";t._popoverScroll=!1;t._contentsTooltip=!1;t._setContentsTemplate=function(n){var t="",i='<div class="ellipsis {3}" data-role="calendar.cell" data-role-index="{1}"><span class="{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}<\/span><\/div>';return n.length&&n.forEach(function(n){t+=String.format(i,n.addClass,n.roleIndex,n.TITLE,this.getContentsClass("getContents"))}.bind(this)),t};t._setPopoverHeaderTemplate=function(n){var i=n.substr(0,4),r=Number(n.substr(4,2))-1,u=Number(n.substr(6,2)),f=ecount.infra.getECDateFormat("DATE10",!1,new Date(i,r,u))+" "+ecount.resource.LBL06862,t="";return t="text-center",String.format('<div class="{2}">{0}{1}<\/div>',f,"",t)};t._setPopoverContentsTemplate=function(n){var r=ecount.delimiter,t="",i="";return n.forEach(function(n){i=n.YYYYMMDD_KEY||n.YYYYMMDD;t+=String.format("<tr><td>{0}<br>{1}<\/td><td>{2}<br>{3}<\/td><\/tr>",n.originData.TIME,n.TITLE,n.originData.TIME,"[냉무]")}),t};t._setPopoverContentsTableTemplate=function(){return'<table class="table table-hover text-center" style="width: 140px;"><tbody>{{CONTENTS}}<\/tbody><\/table>'};t._setSummaryBtnTemplate=function(n){var t=n.summaryDatas,r='<div class="btn-group btn-group-xs" style="min-width:150px;">\n<button style="min-width:16px;" class="btn btn-info dropdown-toggle" data-role="calendar.summaryClick" data-role-index="{0}">{1}<\/button>\n<\/div>',i="";return t.length&&t.forEach(function(n){n.isShow==!0&&(i=String.format(r,n.roleIndex,n.count))}.bind(this)),i};break;case 5:t._popoverType="button";t._popoverTarget="button";t._popoverScroll=!0;t._setCellTemplate=function(n){return String.format('<td class="{0}" style="color:{1}" data-role="calendar.cell" data-role-index="{2}"><span class="day" data-role="calendar.cell" data-role-index="{2}">{3}<\/span><ul class="schedule {6}" data-role="calendar.cell" data-role-index="{2}">{4}<\/ul><div class="schedule-more" data-role="calendar.cell" data-role-index="{2}">{5}<\/div><\/td>',n.todayClass,n.currentColor,n.roleIndex,n.dayCnt,this.getContents(n),this.getSummary(n),this.getContentsClass())};t._setContentsTemplate=function(n){var t="";return n.length&&n.forEach(function(n){var i=n.ICONCOLOR?String.format('<span class="calendar-state" style="background-color: {0};" data-role="calendar.cellContents" data-role-index="{1}"><\/span>',n.ICONCOLOR,n.roleIndex):"",r=n.BGCOLOR?ecview.util.getRandomContrastColor(n.BGCOLOR).textColor=="#000000":!1,u=String.format('<li {0}{1} data-role="calendar.cell" data-role-index="{2}">',n.BGCOLOR?r?'class="allday allday-light"':'class="allday"':"",n.BGCOLOR?' style="background-color: '+n.BGCOLOR+';"':"",n.roleIndex);t+=String.format(u+'<a href="javascript:;" class= "{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}{3}<\/a><\/li>',n.CLASS||"",n.roleIndex,i,n.TITLE)}.bind(this)),t};t._setSummaryBtnTemplate=function(n){var t=n.summaryDatas,u='<button class="btn {0} btn-sm" data-role="calendar.summaryClick" data-role-index="{1}">{2}<\/button>',i="",r="";return t.length&&(t.forEach(function(n){n.isShow==!0&&(i+=String.format(u,n.css,n.roleIndex,n.count))}.bind(this)),r=i),r};t._setPopoverContentsTableTemplate=function(){return'<table class="table table-ellipsis table-schedule-more-list table-border-no-h"><colgroup><col class="col1"><col class="col2"><col class="col3"><\/colgroup><tbody>{{CONTENTS}}<\/tbody><\/table>'};t._setPopoverHeaderTemplate=function(n){var t="",i=n.substr(0,4),r=Number(n.substr(4,2))-1,u=Number(n.substr(6,2));return t=ecount.infra.getECDateFormat("DATE10",!1,new Date(i,r,u))+" "+ecount.resource.LBL06862,String.format('<div>{0}<a herf="javascript:;" class="close" data-role="popover.close" data-role-index=\'0\'><\/a><\/div>',t)};t._setPopoverContentsTemplate=function(n){var t=ecount.delimiter,i="",r="";return n.forEach(function(n){r=n.YYYYMMDD_KEY||n.YYYYMMDD;i+=String.format('<tr {5}><td>{0}<\/td><td><a href="javascript:;" data-value="{1}" {6}>{2}{3}<\/a><\/td><td>{4}<\/td><\/tr>',n.TIME,r.toDate().format("yyyy-MM-dd")+t+n.SER_NO+t+n.DEL_GUBUN,"["+(n.VCTYPE_DES?n.VCTYPE_DES.escapeHTML():"")+"] ",n.VCTITLE,n.VCWHERE,n.DEL_GUBUN=="Y"?'class="text-danger"':"",n.DEL_GUBUN=="Y"?'class="text-danger"':"")}),i}}return t}},clockInOut:{controlType:"widget.calendar.clockInOut",viewName:"widget.view.calendar.clockInOut",__inheritParent:"ecount.control.calendar.holiday",dayClickName:"onCalendarItemClick",isGroupedUsers:!1,init:function(){ecount.control.calendar.holiday.prototype.init.apply(this,arguments)},render:function(){this.setData(this.datas);this.setHolidays(this.holidays);ecount.control.calendar.holiday.prototype.render.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{disableControl:n.disableControl,datas:n.datas,isGroupedUsers:!!n.isGroupedUsers,holidays:n.holidays,clockInResource:n.clockInResource,clockOutResource:n.clockOutResource,_dataFilter:n._dataFilter,_setDropdownTitleConverter:n._setDropdownTitleConverter,_setDateConverter:n._setDateConverter});ecount.control.calendar.holiday.prototype.initializeOptions.apply(this,arguments)},setInitDatas:function(){ecount.control.calendar.holiday.prototype.setInitDatas.apply(this,arguments);this.datas&&this.datas.length&&this._dataFilter&&(this.datas=this._filterData(this.datas))},initializeViewOptions:function(n){ecount.control.calendar.holiday.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{isGroupedUsers:!!n.isGroupedUsers,clockInResource:n.clockInResource,clockOutResource:n.clockOutResource,_setDateConverter:this._setDateConverter})},onInitState:function(n,t){$.extend(t,{"popover.title":"","popover.ecroleindex":""})},setCalendarDay:function(n,t,i){var u=this.setCalendarDayDatas(n),a=u.monthValue,c=u.dayValue,v=u.dataValue,o=u.dataRow,e=u.value,l=o.HOL_COLOR?String.format('style="color:{0}"',o.HOL_COLOR):"",s=t+"-"+n,h={},f={},r;return this.isGroupedUsers==!1?$.isEmpty(this.datas)||(r=$.grep(this.datas,function(n){return n.COL_DATE==e}),r.length>1&&(r=r.sortBy("ROWNUMBER")),f=Object.clone(r.shift(),!0),r&&(f=$.extend(f,{roleIndex:s,count:r.length}),h=Object.clone(r,!0))):f=this.datas?this.getDataByDay(this.datas,e):[],{roleIndex:s,value:e,currentColor:l,year:this.year,dayValue:c,dayCnt:i,todayClass:this.matchFullDate(i),contentsDatas:f,summaryDatas:h}},getDataRow:function(n){return this.holidays?this.getDataByDay(this.holidays,n):""},summaryClick:function(n){var t=n.ecRoleIndex,i=t.split("-"),r=i[0],u=i[1],f=this.monthItems[r][u].contentsDatas,e=this.monthItems[r][u].summaryDatas;return f&&e&&this.setPopover(this._IT_SELF,e,f,t,!0,"manual"),!1},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i]&&n[i].DATE==t)return n[i];return""},_setDateConverter:function(n){return new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},_filterData:function(n){for(var t=0;t<n.length;t++)n[t]=this._dataFilter(n[t]);return n},setPopover:function(n,t,i,r,u,f){if(!t||!i)return!1;if(!this.getIsGroupedUsers()&&(this.destroyPopover(this._IT_SELF),this.isShowPopover(r)==!0))return this.setState(this._IT_SELF,"popover.ecroleindex",""),!1;ecount.control.prototype.setPopover.call(this,n,{message:this.getPopoverMessage(t),title:this.getPopoverTitle(i),ecroleindex:r,directShow:u||!0,trigger:f})},getPopoverMessage:function(n){if(this.getIsGroupedUsers())return n.Contents||"";var i='<table class="table table-hover text-center" style="width: 140px;"><tbody>{{message}}<\/tbody><\/table>',r="<tr><td>{{clockInResource}}{{clockOutResource}}<\/td><td>{{clockInTime}}{{clockOutTime}}<\/td><\/tr>",t="";return n.forEach(function(n){t+=ecount.widget.replaceAttr(r,{clockInResource:$.isEmpty(n.S_TIME)?"":this.clockInResource,clockOutResource:$.isEmpty(n.E_TIME)?"":"<br/>"+this.clockOutResource,clockInTime:$.isEmpty(n.S_TIME)?"":this._setDateConverter(n,"in"),clockOutTime:$.isEmpty(n.E_TIME)?"":"<br/>"+this._setDateConverter(n,"out")})}.bind(this)),ecount.widget.replaceAttr(i,{message:t})},getPopoverTitle:function(n){return this.getIsGroupedUsers()?n.Title||"":this._setDropdownTitleConverter(n)},getIsGroupedUsers:function(){return this.isGroupedUsers===!0},ON_MOUSEOVER:function(n){var t,r,u,i;return this.getIsGroupedUsers()?(t=n.ecRoleIndex,$.isEmpty(t)||(r=this.getEcRoleIndexParse(t),u=this.monthItems[r.weekIndex][r.dayOfWeedIndex],u&&(i=u.contentsDatas,i&&this.setPopover(this._IT_SELF,i,i,t))),!1):!1},ON_MOUSEOUT:function(){if(!this.getIsGroupedUsers())return!1;this.destroyPopover(this._IT_SELF);this.ecview.clearPopover()},requestData:function(n){console.log("출퇴근 달력 데이터 조회 >>>  "+this.year+"-"+(this.month+1).toString().padLeft(2,"0")+"-01");ecount.common.api({ecPageID:this.ecPageID,url:this.calendarApiUrl||"/Groupware/ClockInOut/GetListClockInOutUser",data:Object.toJSON({CURDATE:this.year+"-"+(this.month+1).toString().padLeft(2,"0")+"-01",WID:n}),error:function(){return!1},complete:function(){return!1},success:function(n){var t,i;n.Status!="200"?ecount.alert(n.fullErrorMsg):(t=Object.clone(n.Data||[]),t=t.map(function(n){return n.DATE=n.COL_DATE,n}),t&&this._dataFilter&&(this.datas=this._filterData(t)),i=this.setMonthItems(),this.monthItems=i,this.__viewOptions.monthItems=i,this.getHolidaySettings())}.bind(this)})},getHolidaySettings:function(){console.log("출퇴근 휴일 데이터 조회 >>>  "+this.year+"년 "+String.format("{0}{1}",(this.month+1).toString().padLeft(2,"0"),"01"));ecount.common.api({ecPageID:this.ecPageID,url:"/SelfCustomize/Config/GetListCobsHolDetail",data:Object.toJSON({YYYY:this.year,MMDD:String.format("{0}{1}",(this.month+1).toString().padLeft(2,"0"),"01"),FLAG:"MONTH"}),complete:function(){return!1},success:function(n){if(n.Status!="200")ecount.alert(n.fullErrorMsg);else{var t=Object.clone(n.Data);this.holidays=t;this.reDraw()}}.bind(this)})}},create:function(n){var t,i,r,u,f;(n=n||"_default",t=widget.calendar.repository[n]||{},i=widget.view.calendar.repository[n]||{},widget.calendar._baseLoaded||(r=$.Class(ecount.control.calendar.holiday,widget.calendar.repository._default),u=$.Class(ecount.control.view.calendar.holiday,widget.view.calendar.repository._default),widget.calendar=$.extend(r,widget.calendar),widget.view.calendar=$.extend(u,widget.view.calendar),widget.calendar._baseLoaded=!0,n!="_default"))&&(widget.calendar[n]||(t.init||(t.init=function(){widget.calendar.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.calendar.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){var n,t;return this.viewName?(n=i,n!="function"&&(t=n.__inheritParent?ecount.common.createNamespace(n.__inheritParent):widget.view.calendar,n=$.Class(t,n)),this.ecview=new n):widget.calendar.prototype.createView.apply(this,arguments)}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.calendar,widget.calendar[n]=$.Class(f,t)))}}};widget.view.calendar||(widget.view.calendar={});widget.view.calendar._export=function(){return{_default:{__inheritParent:"ecount.control.view.calendar.holiday",renderCalendarDay:function(n,t){var r="",i=n.value.split("-"),f=String.format("{0}-{1}{2}",i[0],i[1],i[2]),u;return n.dataRow=t.datas?this.getDataByDay(t.datas,f):n.dataRow,u=n.dataRow!=""?n.dataRow.HOL_COLOR:n.currentColor,r=t._setDaycallBack?t._setDaycallBack(n):String.format('<div class="text-center wrapper-toolbar" data-role="calendar.dayClick" data-role-index="{0}" > {1} <\/div>',n.roleIndex,n.dataRow!=""?n.dataRow.value:""),String.format('<td class="calItem cursor-pointer" data-role="calendar.dayClick" data-role-index="{0}" style="color:{1}" id="calendar-item" data-id="calday-{2}"><span class="day" data-role="calendar.dayClick" data-role-index="{0}">{2}<\/span>{3}<\/td>',n.roleIndex,u,n.dayCnt,r)},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i].DATE==t)return n[i];return""},renderCalendarEmptyDay:function(){return"<td> <\/td>"}},schedule:{__inheritParent:"ecount.control.view.calendar.schedule",onInitTemplate:function(n,t){return n=ecount.widget.replaceAttr(n,{weekend:t.disableWeekend?"calendar-weekday":""}),ecount.control.view.calendar.schedule.prototype.onInitTemplate.apply(this,arguments)},getHeaderTemplate:function(n){var t="",i=n.weeks;return i.forEach(function(n){t+="<th>"+n+"<\/th>"}),t},renderCalendarDay:function(n,t){var r=n.dataValue,u=n.dateValue,f=_.trim(n.todayClass+" "+n.tdClass),i="";return i=t._setDaycallBack(r,u,n),String.format('<td class="{0}"><div class="wrapper-day"><span class="day">{1}<\/span>{2}<\/div><\/td>',f,n.dayCnt,i)}},scheduleManagement:{__inheritParent:"ecount.control.view.calendar.holiday",css:"schedule",colGroupTempalate:'<col class="colgroup-col" style="width:{0}px;">',headerTempalate:'<tr style="{0}">{1}<\/tr>',scheduleListTempalate:'<a href="javascript:;" class= "{0}" data-role="calendar.scheduleClick" data-role-index="{1}">{2}<\/a> <br>',popoverTemplate:'<div class="popover popover-ep-schedule popover-schedule-more"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>',scheduleSummaryTempalate:'<button class="btn {0} btn-sm" data-role="calendar.summaryClick" data-role-index="{1}">{2}<\/button>',useFormTemplate:!0,popoverUnusedbodyclickhandler:!0,onInitTemplate:function(n,t){return this.contentsClickCallBack=t.contentsClickCallBack,this.isNewSchedulerDayStyle=t.isNewSchedulerDayStyle||!1,ecount.control.view.calendar.holiday.prototype.onInitTemplate.apply(this,arguments)},getColGroupTemplate:function(n){var r=n.form&&n.form.columnWidth||"",t="",i;if(!$.isEmpty(r)){for(i=0;i<7;i++)t+=String.format(this.colGroupTempalate,r);t="<colgroup>"+t+"<\/colgroup>"}return t},getUseFormMonthTemplate:function(n){return"<tr style='"+(n&&n.bodyHeight?"height:"+n.bodyHeight+"px;":"")+"'>"},renderCalendarDay:function(n,t){return $.isFunction(t._setDaycallBack)?t._setDaycallBack(n.dataRow):t.isNewSchedulerDayStyle?String.format('<td class="{0}" style="color:{1}" data-role="calendar.addScheduleClick" data-role-index="{2}"><span class="day" data-role="calendar.addScheduleClick" data-role-index="{2}">{3}<\/span><ul class="schedule" data-role="calendar.addScheduleClick" data-role-index="{2}">{4}<\/ul><div class="schedule-more" data-role="calendar.addScheduleClick" data-role-index="{2}">{5}<\/div><\/td>',n.todayClass,n.currentColor,n.roleIndex,n.dayCnt,this.getContentsNewStyle(n),this.getSummary(n)):String.format('<td class="{0}" style="color:{1}" data-role="calendar.addScheduleClick" data-role-index="{2}"><span class="day" data-role="calendar.addScheduleClick" data-role-index="{2}">{3}<\/span><div class="wrapper-toolbar text-left ellipsis" data-role="calendar.addScheduleClick" data-role-index="{2}">{4}<\/div><div class="schedule-more" data-role="calendar.addScheduleClick" data-role-index="{2}">{5}<\/div><\/td>',n.todayClass,n.currentColor,n.roleIndex,n.dayCnt,this.getContents(n),this.getSummary(n))},getScheduleByDayTemplate:function(n){if(ecount.popover.clear(null,null,!0),this.$el&&n){var u=this.getContentsNewStyle(n),r=this.getSummary(n),i=this.$el.find("ul[data-role-index='"+n.roleIndex+"']"),t=this.$el.find("div[class='schedule-more'][data-role-index='"+n.roleIndex+"']");t.length>0&&t.empty();i.length>0&&(i.empty(),i.append(u),t.length>0&&r&&t.append(r))}},getContents:function(n){var t=n.contentsDatas,i="";return t.length&&t.forEach(function(n){i+=String.format(this.scheduleListTempalate,n.isPrivateClass,n.roleIndex,n.TITLE)}.bind(this)),i},getContentsNewStyle:function(n){var t=n.contentsDatas,i="";return t.length&&t.forEach(function(n){var t=n.ICONCOLOR?String.format('<span class="calendar-state" style="background-color: {0};"><\/span>',n.ICONCOLOR):"",r=n.BGCOLOR?ecview.util.getRandomContrastColor(n.BGCOLOR).textColor=="#000000":!1,u=String.format("<li{0}{1}>",n.BGCOLOR?r?' class="allday allday-light"':' class="allday"':"",n.BGCOLOR?' style="background-color: '+n.BGCOLOR+';"':"");i+=String.format(u+t+'<a href="javascript:;" class= "{0}" data-role="calendar.scheduleClick" data-role-index="{1}">{2}<\/a><\/li>',n.isPrivateClass,n.roleIndex,n.TITLE)}.bind(this)),i},getSummary:function(n){var t=n.summaryDatas,i="";return t.length&&t.forEach(function(n){n.isShow==!0&&(i+=String.format(this.scheduleSummaryTempalate,n.css,n.roleIndex,n.count))}.bind(this)),i},_getPopoverTarget:function(){return this.$el.find("button[data-role-index='"+this.popoverTargetRoleIndex+"']")},clearPopover:function(){$("div.popover.popover-schedule-more").remove()}},book:{__inheritParent:"ecount.control.view.calendar.holiday",css:"schedule",colGroupTempalate:'<col class="colgroup-col" style="width:{0}px;">',headerTempalate:'<tr style="{0}">{1}<\/tr>',contentsTemplate:'<div class="ellipsis {3}" data-role="calendar.cell" data-role-index="{1}"><a href="javascript:;" class="{0}" data-role="calendar.cellContents" data-role-index="{1}">{2}<\/a><\/div>',popoverTemplate:'<div class="popover popover-ep-schedule popover-schedule-more"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content" {0}><\/div><\/div>',summaryTempalate:'<button class="btn {0} btn-sm" data-role="calendar.summaryClick" data-role-index="{1}">{2}<\/button>',useFormTemplate:!0,popoverUnusedbodyclickhandler:!0,onInitTemplate:function(n,t){return this.contentsClickCallBack=t.contentsClickCallBack,this._contentsTooltip=t._contentsTooltip,this._dayTextAlign=t._dayTextAlign,this.css=t._striped===!0&&t.monthItems.length>1?ecount.convertor.uniqSumClass(this.css,"table-striped"):ecount.convertor.removeClass(this.css,"table-striped"),this._popoverScroll=t._popoverScroll,this._popoverType=t._popoverType,this._popoverTarget=t._popoverTarget,this._bookStyle=t._bookStyle,this.form=t.form,this.firstDayStyle=t.firstDayStyle||"",this._setCellTemplate=t._setCellTemplate,this._setContentsTemplate=t._setContentsTemplate,this._cellContentsViewCount=t._cellContentsViewCount,this._setSummaryBtnTemplate=t._setSummaryBtnTemplate,this._setTootipTarget=t._setTootipTarget,this.getBookTemplateStyle=t.getBookTemplateStyle,ecount.control.view.calendar.holiday.prototype.onInitTemplate.apply(this,arguments)},getHeaderTemplate:function(n){var u="",t=n.form,f,i,r;for(n._startDay>0&&(f=n.weeks.splice(0,n._startDay),n.weeks=n.weeks.concat(f)),i="",t&&(i+=t.headFont?"font-"+t.headFont+" ":"",i+=t.headFontBold?"text-bold ":"",i+=t.headFontItalic?"text-italic ":"",i+=t.headHAlign?"text-"+t.headHAlign+" ":"",i+=t.headVAlign?"valign-"+t.headVAlign+" ":"",i+=t.headFontSize?"font-"+t.headFontSize+"px ":"",t.headFontStrike&&t.headFontUnderline?i+="grid-text-uline-through":(i+=t.headFontStrike?"text-line-through ":"",i+=t.headFontUnderline?"text-uline ":"")),r=0;r<7;r++)u+=String.format('<th class="{2}" style="color:{1}">{0}<\/th>',n.weeks[r],n.weekColors?n.weekColors[r].HOLIDAYYN==="N"?n.weekColors[r].WORKCOLOR:n.weekColors[r].HOLCOLOR:"",i);return this.headerTempalate&&(u=String.format(this.headerTempalate,t&&t.headHeight?"height:"+t.headHeight+"px":"",u)),u},getColGroupTemplate:function(n){var r=n.form&&n.form.columnWidth||"",t="",i;if(!$.isEmpty(r)){for(i=0;i<7;i++)t+=String.format(this.colGroupTempalate,r);t="<colgroup>"+t+"<\/colgroup>"}return t},getUseFormMonthTemplate:function(n){return"<tr style='"+(n&&n.bodyHeight?"height:"+n.bodyHeight+"px;":"")+"'>"},renderCalendarDay:function(n){var t=this._dayTextAlign=="left"?"":"day",i=this.getBookTemplateStyle(this._bookStyle),r=this.getContentsStyle();return this.firstDayStyle&&n.value&&n.value.split("-").pop()=="01"&&(t=t+" "+this.firstDayStyle),t='class="'+t+'"',$.isFunction(this._setCellTemplate)?this._setCellTemplate.call(this,n):this._bookStyle!=0&&$.isFunction(i._setCellTemplate)?i._setCellTemplate.call(this,n):String.format('<td class="cursor-pointer {0}" style="color:{1}" data-role="calendar.cell" data-role-index="{2}"><span {6} data-role="calendar.cell" data-role-index="{2}">{3}<\/span><div class="wrapper-toolbar text-left ellipsis {7}" data-role="calendar.cell" data-role-index="{2}" {8}>{4}<\/div>{5}<\/td>',n.todayClass,n.currentColor,n.roleIndex,n.dayCnt,this.getContents(n),this.getSummary(n),t,this.getContentsClass(),_.isEmpty(r)?"":'style="'+r+'"')},getContentsClass:function(n){var i="",t=this.form;return t&&n=="getContents"?i+=t.contentsHAlign?"text-"+t.contentsHAlign+" ":"":t&&(i+=t.contentsFont?"font-"+t.contentsFont+" ":"",i+=t.contentsFontBold?"text-bold ":"",i+=t.contentsFontItalic?"text-italic ":"",i+=t.contentsFontSize?"font-"+t.contentsFontSize+"px ":"",t.contentsFontStrike&&t.contentsFontUnderline?i+="grid-text-uline-through":(i+=t.contentsFontStrike?"text-line-through ":"",i+=t.contentsFontUnderline?"text-uline ":"")),i},getContentsStyle:function(){var t="",n=this.form;return n&&(t+=n.contentsFontColor?"color:"+n.contentsFontColor:""),t},getDayTemplate:function(n){if(ecount.popover.clear(null,null,!0),this.$el&&n){var u=this.getContents(n),r=this.getSummary(n),i=this.$el.find("ul[data-role-index='"+n.roleIndex+"']"),t=this.$el.find("div[class='schedule-more'][data-role-index='"+n.roleIndex+"']");t.length>0&&t.empty();i.length>0&&(i.empty(),i.append(u),t.length>0&&r&&t.append(r))}},getContents:function(n){var t=n.contentsDatas,i="",u=this.contentsTemplate,r=this.getBookTemplateStyle(this._bookStyle);return $.isArray(t)&&t.length>0&&!$.isEmpty(this._cellContentsViewCount)&&(t=t.slice(0,this._cellContentsViewCount)),$.isFunction(this._setContentsTemplate)?i=this._setContentsTemplate.call(this,t):this._bookStyle!=0&&$.isFunction(r._setContentsTemplate)?i=r._setContentsTemplate.call(this,t):t.length&&t.forEach(function(n){i+=String.format(u,n.addClass,n.roleIndex,n.TITLE,this.getContentsClass("getContents"),n.roleIndex.slice(0,3))}.bind(this)),i},getSummary:function(n){var i=n.summaryDatas,r="",t="",u=this.getBookTemplateStyle(this._bookStyle);return $.isFunction(this._setSummaryBtnTemplate)?t=this._setSummaryBtnTemplate.call(this,n):this._bookStyle!=0&&$.isFunction(u._setSummaryBtnTemplate)?t=u._setSummaryBtnTemplate.call(this,n):i.length&&(i.forEach(function(n){n.isShow==!0&&(r+=String.format(this.summaryTempalate,n.css,n.roleIndex,n.count))}.bind(this)),t=String.format('<div class="schedule-more" data-role="calendar.cell" data-role-index="{1}">{0}<\/div>',r,n.roleIndex)),t},_getPopoverTarget:function(){var n="",t;return this._popoverType=="hover"&&this.popoverTargetRoleIndex||this._popoverTarget=="td"&&this.popoverTargetRoleIndex?(t=this.popoverTargetRoleIndex.split("-"),n=this.$el.find("td[data-role-index='"+t[0]+"-"+t[1]+"']")):n=this.$el.find("button[data-role-index='"+this.popoverTargetRoleIndex+"']"),n},_getTooltipTarget:function(){var n="",t=this.getBookTemplateStyle(this._bookStyle);return $.isFunction(this._setTootipTarget)?n=this._setTootipTarget.call(this,{calendarThis:this}):this._bookStyle!=0&&$.isFunction(t._setTootipTarget)?n=t._setTootipTarget.call(this):(n=this.$el.find("a[data-role-index='"+this.tooltipIndex+"']"),n.width()>100&&(n=this.$el.find("a[data-role-index='"+this.tooltipIndex+"']").parent())),n},setTooltip:function(n){this.tooltipIndex=null;n&&n.ecRoleIndex&&(this.tooltipIndex=n.ecRoleIndex,this._setTooltip({type:"tooltip",trigger:"hover",message:n.message||"testMessage",directShow:!0,isClearOnBodyClick:!0}))},_setTooltip:function(n){var t=this._getTooltipTarget(),u=this.isLayerPopup?$("div[data-ecpageid="+this.ecPageID+"]").closest("div.ui-dialog"):"body",i=(n.message||"").cr2br(),f=t.is(":visible")?n.directShow:!1,e=n.placement||"auto",o=n.trigger?n.trigger:"manual",r;$.isEmpty(i)||(r=_.merge({type:n.type,content:i,placement:e,container:u,html:!0,animation:!1,trigger:o,followMouse:!0,directShow:f},n||{}),ecount.popover.create(t,r))},onChangePopoverToggle:function(n,t){var i=this.popoverUnusedbodyclickhandler,r=this.contentsClickCallBack;this._popoverType=="hover"&&(i=null,r=null);t==!0?this.setPopover({title:this.popoverTitle,template:String.format(this.popoverTemplate,this._popoverScroll?"":'style="max-height: none;"'),unusedbodyClickHandler:i,contentsClickCallBack:r,isClearOnBodyClick:!0}):this.destroyPopover()}},clockInOut:{__inheritParent:"ecount.control.view.calendar.holiday",contentsTemplate:'<div class="calendar-info" data-role="calendar.dayClick" data-role-index="{{releIndex}}">{{clockInTime}}<br/>{{clockOutTime}}<\/div>',buttonTemplate:'<div class="btn-group btn-group-xs" style="min-width:150px;">\n<button style="min-width:16px;" class="btn btn-info dropdown-toggle" data-role="calendar.summaryClick" data-role-index="{0}">{1}<\/button>\n<\/div>',popoverTemplate:'<div class="popover popover-schedule-more"><div class="arrow"><\/div><div class="popover-title text-center"><\/div><div class="popover-content" style="max-height: none;"><div><\/div><\/div><\/div>',onMount:function(n){this.isGroupedUsers=n.isGroupedUsers},renderCalendarDay:function(n,t){var i="",r=n.contentsDatas,e=n.roleIndex,u=n.value.split("-"),o=n.value,s=String.format("{0}-{1}{2}",u[0],u[1],u[2]),c=t.datas?this.getDataByDay(t.datas,o):"",f=t.holidays?this.getDataByDay(t.holidays,s):"",h=f.HOL_COLOR?String.format('style="color:{0}"',f.HOL_COLOR):"";return t.isGroupedUsers==!1?$.isEmptyObject(r)||(i=this.getContents(r,e,t),r.count>0&&(i+=this.getSummary(r))):i+=t._setDaycallBack(n),String.format('<td class="calItem cursor-pointer {0}" {1} data-role="calendar.dayClick" data-role-index="{2}" id="calendar-item" data-id="calday-{3}"><div data-role="calendar.dayClick" data-role-index="{2}">{4}<\/div>{5}<\/td>',n.todayClass,h,n.roleIndex,n.dayValue,n.dayCnt,i)},getDataByDay:function(n,t){for(var i=0;i<n.length;i++)if(n[i].DATE==t)return n[i];return""},getContents:function(n,t,i){return ecount.widget.replaceAttr(this.contentsTemplate,$.extend(n||{},{clockInTime:!n||$.isEmpty(n.S_TIME)?"<br/>":String.format("{0} {1}",i.clockInResource,i._setDateConverter(n,"in")),clockOutTime:!n||$.isEmpty(n.E_TIME)?"<br/>":String.format("{0} {1}",i.clockOutResource,i._setDateConverter(n,"out")),releIndex:t}))},getSummary:function(n){return String.format(this.buttonTemplate,n.roleIndex,"+"+n.count)},_getPopoverTarget:function(){return this.$el.find("td[data-role-index='"+this.popoverTargetRoleIndex+"']")},clearPopover:function(){$("div.popover.popover-schedule-more").remove()}}}};ecount.class("ecount.control.input","ecount.control",{ecPackage:"ecount.control.input",_showZeroInPoint:!1,_defaultCss:"form-control",_useResetData:!0,_beforePasteValue:null,init:function(){ecount.control.prototype.init.apply(this,arguments)},render:function(){ecount.control.prototype.render.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{isNotChangeWidth:n.isNotChangeWidth,subLabel:n.subLabel||n.addonText,_isUseGroupForSubLable:!1,_addonText:n.addonText,_alignRight:n.alignRight,_isPassword:n.isPassword,_isSetupInput:n._isSetupInput,_headerTitle:n._headerTitle,_index:n._index,_setDefaultPlaceholder:!0,_isRowSpan:n._isRowSpan,_colSize:n.colSize})},initializeViewOptions:function(){this._isPassword&&(this.__viewOptions._isPassword=this._isPassword)},onInitState:function(n,t,i){function u(n){$.isNull(n)&&(n=!1);$.isArray(n)||(n=[n]);for(var t=0,i=n.length;t<i;t++)if(n[t]!==!0)return!1;return!0}t.components||(t.components=[{}]);_.merge(t,{recommendValue:i.recommendValue||{},useRecommendOption:i.useRecommendOption||!1});this.numericOnly||(t["validate.containstype"]=t["validate.containstype"]||"gen");var r=u(i._readOnly);r==!0&&(t["attr.disabled"]=!1,t["attr.readonly"]=!0);$.isNull(t["validate.datarules"])&&(t["validate.datarules"]=!1)},onInitComponent:function(n,t,i,r,u){r.value=_.isNumber(r.value)?r.value+"":r.value||"";(this.numericOnly||this.alignRight)&&(r["style.css"]+=" text-right");this._inline&&(r["style.css"]+=" textbox-inline flex-none");r["attr.readonly"]=i["attr.readonly"]||!1;r["attr.disabled"]=!!u.attrDisabled;r["style.imeMode"]="";r.ecLazyService=u.isFromFavoriteCode||u.useRecommendOption?"layer.recommenddropdown":"";r.ecServiceAttr=u.isFromFavoriteCode||u.useRecommendOption?ecount.layer.constValue.FOCUSABLE:"";r.originValue="";r.viewValue=""},onAfterInitialize:function(){if(this.numericOnly){this.disableStateObserving();for(var t,n=0,i=this.getComponents().length;n<i;n++)t=this.getComponent(n),this.setValue(n,t.value);this.enableStateObserving()}},onLazyRender:function(){var r=this.getState(this._IT_SELF,"validate.containstype"),n,t,i;for(n,t=0,i=this.getComponents().length;t<i;t++)n=this.getValue(t),$.isEmpty(n)||this._checkContainsType(n,r);this.numericOnly?this._setNumericInputWidth():!_.isEmpty(this.getPrettyFilter())&&this.getValue()&&this.setConvertPrettyValue(null,null,{isEmptyPass:!0})},setImeMode:function(n,t){this.setState(t||0,"style.imeMode",n)},setReadOnly:function(){var n=Array.prototype.slice.call(arguments,0);n.length==0?n.unshift(!0):n.length==1&&n.unshift(0);n.unshift("attr.readonly");this._setStateByType.apply(this,n)},setDisalbed:function(n){var n=n===undefined?!0:n;this.setState(0,"attr.disabled",n)},getValue:function(n){var t,e=this.strCase||"",u=!0,i,f,r;return n!=undefined&&!this.getComponent(n)?"":(arguments.length==0||$.isNull(n)?n=0:arguments.length>1&&(u=arguments[1]),t=!_.isEmpty(this.getPrettyFilter())&&this.getState(n,"originValue")?this.getState(n,"originValue"):this.getState(n,"value"),t=t==undefined?"":(t+"").replace(/\u00A0/g," "),i=this.getState(this._IT_SELF,"validate.containstype"),t!=""&&i!="gap"&&(t=t.trim()),this._noReplacement||(t=t.replaceSpecial(e,i)),this.numericOnly&&(f=/^[-]$/,r=this.isUseOriginVal(n)?this.getState(n,"originValue"):null,_.isEmpty(r)||(t=r),t=this._numericRTrim(f.test(t)?"":t,{showZeroInPoint:!1}),t=u==!0?Number.removeSeparator(this.replacesSeparatorOrigin(t)):Number.removeSeparator(t)),t)},setStateValue:function(n,t){var i=this.isUseOriginVal(n),r=i?this.getState(n,"viewValue"):null;i&&!_.isEmpty(r)?(this.setState(n,"value",t,!1),this.setState(n,"viewValue",r,!0)):this.setState(n,"value",t)},isUseOriginVal:function(n){return this.numericOnly&&this.hasState(_.isNil(n)?this._ALL_COMP:n,"originValue")&&_.isArray(this.ecKeyInputFilters)&&this.ecKeyInputFilters.some(function(n){return n.type==="numericOnly"&&_.get(n,"options.numericViewKeepOrigin")===!0})},useRecommend:function(n){this.setState(this._IT_SELF,"useRecommendOption",n)},setRecommendValue:function(n){var t={dataValue:n,label:n};this.setState(this._IT_SELF,"recommendValue",t);this.setState(this._IT_SELF,"useRecommendOption",!0)},resetRecommend:function(){this.setState(this._IT_SELF,"recommendValue","",{});this.setState(this._IT_SELF,"useRecommendOption",!1)},setValue:function(n,t,i){arguments.length==1?(t=n,n=0):(n=arguments[0],t=$.isNull(arguments[1])?"":arguments[1],i=$.isNull(arguments[2])?!1:arguments[2]);ecount.control.prototype.setValue.call(this,n,t,i);this._during_input_event||this.setConvertPrettyValue(n,this.getState(n,"value"),{isEmptyPass:!0})},resetData:function(){return this.setValue(this._savedValue),!0},setEmpty:function(){var n=this.numericOnly;n&&(this.numericOnly=!1);this.setValue(0,"");this.numericOnly=n},getText:function(){return this.getState(0,"value")},getResetState:function(){return this.getOriginState(["opt.dualStep","value"])},getGridSelectedLabel:function(){return this.getText()},_setResetValue:function(n,t,i){this.setValue(n,i);this.setConvertPrettyValue(n)},reset:function(){ecount.control.prototype.reset.apply(this,arguments);var n;(n=this.getDualStep())&&this.setDualStep(n,!1,!0)},getSyncData:function(n){var t,n=$.isNull(n)?0:n,i=this.getState(0,"originValue");return t=this.numericOnly?[[n,"value",this.getValue(n)]]:$.isEmpty(i)?this.getExtractState(["value"]):this.getExtractState(["originValue"]),this.isDualMode()&&(t=t.concat(this.getExtractState(["opt.dualStep"],!0))),{data:t}},serialize:function(n){var t=[],i,r;return t={key:n||this.name,value:this.getValue().replace(/^[\s\xC2\xA0]+/,"").replace(/\u00A0/g," ")},this.useFnActivedItem()&&(i=this.getFnActivedId(),r=(n||this.name)+"_FN",t[r]=i),ecount.control.prototype.serialize.call(this,t,n)},checkValidate:function(n,t,i){var r=n||[],t=t||"",u=this._getValidateValue(i);if(r.contains(ecount.validator.EMPTY)){if(u=="")return[];r=r.filter(function(n){return n!=ecount.validator.EMPTY})}return ecount.validator.validate(u,r,t)},useNumericOnly:function(n,t,i,r,u){var h=arguments.length===1&&_.isPlainObject(n)?n:{numericMsg:i,numericRange:[n,t],isPositiveInteger:u},e,o,f,s;for(_.merge(this._numericOptions.options,h),e=!0,f=0;f<this.__filter.length;f++)this.__filter[f].type=="numericOnly"&&(this.__filter[f]=this._numericOptions,e=!1);if(e&&this.__filter.push(this._numericOptions),this.removeFilterOptions(["numericOnly"]),this.registerKeyInputFilter(this._numericOptions),!this.numericOnly)for(this.numericOnly=!0,f=0,s=this.getComponents().length;f<s;f++)o=this.getState(f,"style.css"),this.setState(f,"style.css",[o,"form-control text-right"].join(" "))},_setNumericInputWidth:function(){var n,t,i=_.get(ecount,"config.companyForm.MULTICOL_SETTINGS"),r=ecount.global.getPublicInfo(this.ecPageID,"xFormMultiColSettings");if(!_.isEmpty(r)&&r[this.__formId]&&(i=r[this.__formId]),_.isArray(i)&&!_.isEmpty(i)&&(n=i.find(function(n){return n.COL_TYPE=="1"}),n&&n.FILL_NUMBER_CHK_YN=="0"&&(t=n.INPUT_NUMBER_WIDTH)),t&&this.isVisibleElement()&&this.isNotChangeWidth!=!0&&!$.isNull(this.gridID)){var u=this.getContainerBoundary(),f=this.getParentContainerBoundary(),s=this.hasFn?this.getFunctionBoundary("fn").zoomedWidth:0,h=this.subLabel?this.getFunctionBoundary("sublabel").zoomedWidth:0,e,o;o=this._getAllClass();this.changeWidth(t);this.changeWrapperFlex(!1);this.addClass("flex-none");e=f.left+f.zoomedWidth-(u.left+t+s+h)<15||u.zoomedHeight!=this.getContainerBoundary().zoomedHeight;e&&(this.changeInlineStyle(""),o.indexOf("flex-none")<0&&(this.changeWrapperFlex(!0),this.removeClass("flex-none")))}},reflowContainer:function(){this.numericOnly&&this._setNumericInputWidth()},setAlignRight:function(n){n=n||0;this.addClass(n,"text-right")},setAlignLeft:function(n){n=n||0;this.removeClass(n,"text-right")},setMaxByte:function(n,t){if($.isNumber(n))for(var i,r=0;r<this.ecKeyInputFilters.length;r++)if(i=this.ecKeyInputFilters[r],i.type=="maxbyte"){i.max=n;i.message=t||i.message;return}},onMessage:function(n,t){t=t||{};this.getNationalFlag()&&_.get(t,"data.STATE_CODE")&&this.setNationalFlag(_.get(t,"data.STATE_CODE"),!0);this._sendMessage(n,_.merge({},t,{callback:null,data:t.originalDataset||t.data}));t.callback&&t.callback()},_sendMessage:function(n,t){n||(n={pageID:this.popupURL?this.popupURL.split("/").last():""});n.controlID=this.id;t.control=this;ecount.global.executeCallback(this.ecPageID,this.responseID,n,t)},isSetFilteredValueChangeBlur:function(){return!0},save:function(){var n=this.useFnActivedItem()?this.getFnActivedId():null,t;return t=$.isNull(n)?this.getValue():{value:this.getValue(),fn:n},_.merge({key:this.id,value:t},this.getNationalFlag()?{nationalCode:this.getNationalFlag()}:null)},ON_FOCUSIN:function(n){var t=n.cindex;return this.setConvertUnPrettyValue(t),$.isNull(t)||this.isReadOnly(t)!=!1||this.setState(t,"opt.selectRange",!0,!0),!0},ON_FOCUSOUT:function(n){var t=n.cindex,i;return $.isNull(t)||this.setState(n.cindex,"opt.selectRange",!1),this.setConvertPrettyValue(t,{isEmptyPass:!0}),(ecount.constValue.isIE||ecount.constValue.isEdge||ecount.constValue.isSafari)&&(t=n.cindex||0,i=this.getValue(t),$.isNull(this._beforePasteValue)||i==this._beforePasteValue||this.setValue(t,i,!0),this.isInGridWithoutCombineParent()&&this.isGridV3&&this.executeChangeDelegator(n)),!0},setConvertPrettyValue:function(n,t,i){var e=this.getPrettyFilter("replaceFilter"),u=_.isEmpty(e),r,f;this.__prettyFilter!==null&&(u&&_.get(i,"isEmptyPass")||(n=n||0,!u&&_.isString(t)?(r=t,this.setState(n,"originValue","")):r=this.getValue(n),u?(this.setState(n,"originValue",""),this.setState(n,"value",r)):(f=this.getConvertPrettyFilter(e,r),f.isChange?(this.setState(n,"originValue",r),this.setState(n,"value",f.value,!0)):(this.setState(n,"originValue",""),this.setState(n,"value",r)))))},setConvertUnPrettyValue:function(n){var r=this.getPrettyFilter("replaceFilter"),i,t;_.isEmpty(r)||(i=this.getState(n,"value"),t=this.getState(n,"originValue"),t&&i!==t&&(this.setState(n,"value",t),this.setState(n,"originValue","")))},ON_KEYDOWN_ENTER:function(n,t,i,r){r.name=this.name},ON_KEYDOWN_ENTER_SERVICE:function(n,t,i,r){this.setValueFromLayer(n,t,i,r)},ON_KEYDOWN_TAB:function(){},ON_INPUT_SERVICE:function(n,t,i,r){n.cid==this.cid&&this._onInputAction(n,t,i,r)},ON_CHANGE:function(n,t){var i=this._getDefaultDelegatorInfo(n,t);this.delegator&&this.delegator.triggerEvent("control.change",i)},ON_PASTE:function(n){ecount.constValue.isIE&&(this._beforePasteValue=this.getValue(n.cindex||0))},triggerUserHandler:function(n){if(n=="click")return!1;ecount.control.prototype.triggerUserHandler.apply(this,arguments)},ON_CLICK:function(){return!1},ON_CLICK_SERVICE:function(n,t,i,r){this.setValueFromLayer(n,t,i,r)}});ecount.class("ecount.control.view",null,{_IT_SELF:ecount.constValue.CONTROL_UPDATE_IT_SELF,_ALL_COMP:ecount.constValue.CONTROL_UPDATE_ALL_COMPONENT,$el:null,_$parent:null,ecPageID:null,baseTemplateType:null,popoverMessage:null,popoverDirectShow:null,popoverPlacement:null,popoverTrigger:null,popoverTitle:null,popoverTemplate:null,popoverUnusedbodyclickhandler:null,useWrapperSet:!0,wrapperSet:'<div class="control-set {{style.multiline}} {{style.display}} {{wrapperSetCss}} {{isWholeRow}}" {{style.inline}}>{{selector}}',wrapperTemplate:'<div class="{{style.wrapper}} {{noneFlex}} {{style.display}}" data-ecpath="{{ecPath}}" {{style.inline}}>\n{{selector}}\n((this.template))\n<\/div>',fnTemplate:"((fn))",addonTitleTemplate:'<div>\n<span {{opt.addontitleOption}} class="label label-default label-light {{style.addoncss}}" addon-cid="addon-{{cid}}">{{opt.addontitle}}<\/span>\n<\/div>',sublabelTemplate:'<span data-function="sublabel">{{label}}<\/span>',exceptedTemplate:'<span class="{{style.css}} {{style.display}}" data-function="{{function}}"><\/span>',selectorFunctionTemplate:'<a data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-function="selector" data-service="layer.selector" class="control-selector {{style.display}}" data-service-attr="layer.fixed"><\/a>',gridID:null,pcid:null,ecPageID:null,setGridViewEmpty:null,render:function(n,t){this._$parent=t||this._$parent;this.baseTemplateType=n.baseType||this.baseTemplateType;this.ecPageID=n.ecPageID;this.isLayerPopup=n.isLayerPopup;this.id=n.id;this.initializeViewOptions(n);this.beforeMount(n);this._$parent&&this._$parent.append(this.$el);this._onMount(n)},initializeViewOptions:function(){},setBorderRadius:function(n){var t=this.$el,i;return(n instanceof jQuery?t=n:n instanceof Element&&(t=$(n)),!t)?n:(i=t.hasClass("control")?t.children():t.find("div.control").children(),i.removeClass("first-child").removeClass("last-child"),i.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):first").addClass("first-child"),i.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):last").addClass("last-child"),t)},getComposedDomString:function(n){var t=this._onInitTemplate(n),i=this.addonTitleTemplate,u=this._onInitWrapperTemplate(n),r;if(t=this._onInitFunctions(t,n),n._addonTitle&&(t=this.parseAddonTitle(t)),n.noneFlex=n.noneFlex?"flex-none":"",!$.isNull(n["opt.addontitle"])){if(n["opt.addontitleOption"]){var f=n["opt.addontitleOption"].ecRole||"click.addontitle",e=n["opt.addontitleOption"].cid||n.cid,o=String.format('data-role="{0}" data-role-index="{1}" data-cid="{2}"',f,0,e);i=i.replace("{{opt.addontitleOption}}",o)}i=ecount.widget.replaceAttr(i,n);i=i.replace("{{style.addoncss}}","");t=i+t}return u=ecount.widget.replaceAttr(u,n),t=u.replace("((this.template))",t.replaceRegexpString()),r=$(this.parseHTML(t,n)),r=this.setBorderRadius(r,!0),r.outerHTML()},beforeMount:function(n){var t=this.getComposedDomString(n);this.ecPageID=n.ecPageID;this.gridID=n.gridID;this.pcid=n.pcid;this.containerZIndex=n.containerZIndex;this.setGridViewEmpty=n.setGridViewEmpty;this.$el=$(t);this.$el[0].ecIKey=n.ecIKey},_onMount:function(n){var t=n.functions;t.addonPopover&&this.createAddonPopover(n);this.onMount(n)},onMount:function(){},update:function(){var t=[].slice.call(arguments),n=t.shift(),r=t.shift(),i=isNaN(+n)&&!~[this._IT_SELF,this._ALL_COMP].indexOf(n)?n.ecCapitalize(!0):"",u=["on_change_",r.replace(/\./g,"_"),i].join("").ecCamelize(!0),f=["on_before_change_",r.replace(/\./g,"_"),i].join("").ecCamelize(!0),e=(i?[]:[n]).concat(t);typeof this[u]=="function"&&(typeof this[f]!="function"||this[f].apply(this,e)!=!1)&&this[u].apply(this,e)},executeTransaction:function(n){var t,i=this.$el&&this.$el.hasClass("hidden");if(n.length){for(this.$el.addClass("hidden");t=n.shift();)this.update.apply(this,t);i||this.$el.removeClass("hidden")}},parseAddonTitle:function(n){return n},hasFocus:function(n){var t=this.getElements(n);return document.activeElement==t.get(0)},setFunctionFocus:function(n){this.getFunctionElement(n).focus()},set$El:function(n,t){this.$el=n;n&&(this.$el[0].ecIKey=t)},destroyView:function(){this.$el.remove();this.$el=null},destroy:function(){},_onInitWrapperTemplate:function(n){var t,i=this.useWrapperSet=n.useWrapperSet!=!1;t=i==!1?ecount.widget.replaceAttr(this.wrapperTemplate,{"style.display":n["style.display"]===!1?"hidden":"","style.inline":n.inlineStyle||"",selector:n.functions.selector?this.selectorFunctionTemplate:""}):[ecount.widget.replaceAttr(this.wrapperSet,{"style.multiline":n.isVertical?"multi-line":"",wrapperSetCss:n.wrapperSetCss?n.wrapperSetCss:"","style.display":n["style.display"]===!1?"hidden":"","style.inline":n.inlineStyle||"",isWholeRow:n.isWholeRow?"whole-row":"",selector:n.functions.selector?this.selectorFunctionTemplate:""}),ecount.widget.replaceAttr(this.wrapperTemplate,{"style.display":"","style.inline":"",selector:""}),"<\/div>"].join("");t=t.replace("{{style.wrapper}}",[n.isVertical?"":"control",n.wrapperCss].join(" "));return this.onInitWrapperTemplate(t,n)},onInitWrapperTemplate:function(n){return n},_onInitTemplate:function(n){var t=this.template;(this.baseTemplateType||n.baseType)&&(t=this.cloneTemplateAsManyState(t,n));return this.onInitTemplate(t,n)},onInitTemplate:function(n){return n},onChangeOptTriggerChange:function(n,t){var i=this.getElements(t);i.trigger("change")},onChangeWrapperIsFlex:function(n,t){var i=this.useWrapperSet===!0?this.$el.find("div.control").eq(0):this.$el.filter("div.control").eq(0);t==!0?i.removeClass("flex-none"):i.addClass("flex-none")},onChangeStyleDisplay:function(n,t){t?this.getElements(n).removeClass("hidden"):this.getElements(n).addClass("hidden");this.setBorderRadius()},onChangeStyleCss:function(n,t){this.getElements(n)[0].className=t},onChangeStyleInline:function(n,t){this.getElements(n).attr("style",t)},onChangeStyleInlineFn:function(n){var t=this.$el.find('[data-function="fn"]');t.attr("style",n)},onChangeStyleWidth:function(n,t){this.getElements(n).width(t)},onChangeLabelSublabel:function(n){var t=this.$el.find('[data-function="sublabel"]');t.html(n)},onChangeOptAddontitle:function(n,t){this.$el.find("span[addon-cid]").text(t)},onBeforeChangeValue:function(n,t){return this.getElements(n).val()===t?!1:!0},onChangeValue:function(n,t){var r=this.getElements(n),i=r.prop("nodeName");i=i?i.toLowerCase():i;i=="input"&&(i=r.prop("type"));ecount.control.view.setValue[i]||(i="_default");ecount.control.view.setValue[i](r,t)},onChangeViewValue:function(){this.onChangeValue.apply(this,arguments)},onChangeAttrReadonly:function(){},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);n!=this._IT_SELF&&i.prop("disabled",t)},onChangeAttrDisabledFn:function(n){var t=this.$el.find('[data-function="fn"]');t&&t.prop("disabled",n)},onChangeCssDisabled:function(n,t){var i=this.getElements(n);i.addClass(t?"form-control-disabled":"").removeClass(t?"":"form-control-disabled")},onChangeAttrChecked:function(n,t){var i=this.getElements(n);i.prop("checked",t)},onChangeAttrMaxlength:function(n,t){this.getElements(n).attr("maxlength",t)},onChangeFocusIndex:function(n,t){var i=this.getElements(n).filter(":visible");i&&(t?i.trigger("mousedown").focus():i.blur())},onChangeAttrPlaceholder:function(n,t){$.isNull(n)&&(n=0);var i=this.getElements(n);i&&i.attr("placeholder",t)},onChangeOptSelectRange:function(n,t){typeof t=="boolean"&&t&&ecview.util.select(this.getElements(n),this.ecPageID)},onChangePopoverType:function(n,t){this.popoverType=t},onChangePopoverDirectShow:function(n,t){this.popoverDirectShow=t},onChangePopoverTrigger:function(n,t){this.popoverTrigger=t},onChangePopoverPlacement:function(n,t){this.popoverPlacement=t},onChangePopoverMessage:function(n,t){this.popoverMessage=t},onChangePopoverTitle:function(n,t){this.popoverTitle=t},onChangePopoverTemplate:function(n,t){this.popoverTemplate=t},onChangePopoverUnusedbodyclickhandler:function(n,t){this.popoverUnusedbodyclickhandler=t},onChangePopoverIsClearOnBodyClick:function(n,t){this.popoverIsClearOnBodyClick=t},onChangePopoverToggle:function(n,t){if(this._isInGridWithoutCombineParent())return null;t==!0?this.setPopover():this.destroyPopover()},onChangeValidateNeedvalidate:function(n,t){if(this._isInGridWithoutCombineParent())return null;var i=this._getErrorContainer();t==!0?this.isVisibleElement(n)&&(i.hasClass("has-error")||(i.addClass("has-error"),i.prepend($("<div class='validation'>")))):(i.removeClass("has-error"),i.find("div.validation").remove())},onChangeNationalCodeNationalFlag:function(n){this.$el.find("img[data-function=nationalFlag]").attr("src",this.nationalFlagBaseUrl+n+".png")},onChangeStyleDisplayNationalFlag:function(n){this.$el.find("img[data-function=nationalFlag]")[n?"removeClass":"addClass"]("hidden");this.setBorderRadius()},onChangeStyleDisplayExcepted:function(n){var t=this.$el.find("[data-function='excepted']");t&&n?t.removeClass("hidden"):t&&!n&&t.addClass("hidden");this.setBorderRadius()},onChangeStyleDisplayFn:function(n){var t=this.$el.find('[data-service="layer.fn"]');t&&n?t.removeClass("hidden"):t&&!n&&t.addClass("hidden");this.setBorderRadius()},onChangeBlurChange:function(n){var t=this.getElements(n);t.one("blur",function(){t.trigger("change")}.bind(this))},onBlur:function(){this.$el.blur()},setPopover:function(n,t){n||(n={});var i=t||this._getPopoverTarget(),r=this.isLayerPopup?$("div[data-ecpageid="+this.ecPageID+"]").closest("div.ui-dialog"):"body",u=(this.popoverMessage||n.popoverMessage||"").cr2br(),e=i.is(":visible")?this.popoverDirectShow:!1,o=this.popoverPlacement||"auto",s=this.popoverTrigger?this.popoverTrigger:"manual",f;n.otherPopoverContainer&&(r=n.otherPopoverContainer);$.isEmpty(u)||(f=_.merge({type:this.popoverType,content:u,placement:o,container:r,html:!0,animation:!1,trigger:s,followMouse:!0,directShow:e,isClearOnBodyClick:this.popoverIsClearOnBodyClick},n||{}),ecount.popover.create(i,f))},createAddonPopover:function(n){var i=n.functions,t=i.addonPopover,r=this.$el.find("span[data-function=addonPopover]");this.popoverMessage=t.content;this.setPopover(t,r)},destroyPopover:function(n){var t=n||this._getPopoverTarget();ecount.popover.destroy(t)},_getPopoverTarget:function(){return this._getErrorContainer()},_getErrorContainer:function(){var n;return n=this.useWrapperSet===!0?"div.control-set":"div.control",this.$el.filter(n).length>0?this.$el.filter(n):this.$el.find(n)},cloneTemplateAsManyState:function(n,t){for(var e=n,f=t.components,i=[],r,u=0,o=f.length;u<o;u++)r=f[u],r.template?i.push(r.template):i.push(e);return i.join("")},_onInitFunctions:function(n,t){for(var u=t.functions,e=Object.getOwnPropertyNames(u),f=0,o=e.length,i,r;f<o;f++)i=e[f],r=this[i+"Template"]||ecount.control.template[i],r&&(r=r.replace(ecount.widget.control.template,function(n,t){return ecount.control.template[t]}),u[i].ecFunction=="nationalFlag"&&(this.nationalFlagBaseUrl=u[i].nationalFlagBaseUrl),u[i]["style.display"]=u[i]["style.display"]===!1?"hidden":"",r=ecount.widget.replaceAttr(r,u[i]),r=this.parseFunction(r,u[i],i),n=n.indexOf("[["+i+"]]")>-1?n.replace("[["+i+"]]",r):u[e[f]].isLeftView?r+n:n+r);return n.replace(/\[\[\w*?\]\]/gi,"")},parseFunction:function(n){return n},parseHTML:function(n,t){var a=t.components,s=ecount.control.template,f=n||this.template,u=f.match(ecount.widget.control.template),o,r,h,i,c,l,e;if(u===null)return ecount.widget.replaceAttr(f,t);for(i=0,c=u.length;i<c;i++)(r=s[u[i].replace(/\(\(|\)\)/g,"")],r!==undefined)&&(r=r.replace(ecount.widget.control.template,function(n,t){return s[t]}),this.pcid&&u[i].toUpperCase().indexOf("FN")>-1&&(r=r.replace(new RegExp("{{cid}}","g"),'{{cid}}" data-pcid="'+t.pcid)),o=a[i],this._parseAttrsValue(o,t,i),h=r,l=ecount.widget.replaceAttr(h,o),e=f.split(u[i]),e.length>1&&(f=[e.shift(),e.join(u[i])].join(l)));return f},_parseAttrsValue:function(n,t,i){n&&(n.index=$.isEmpty(t.__index)?i:t.__index,n.findex=$.isEmpty(t.findex)?"":"data-findex="+t.findex,n["style.display"]=n["style.display"]===!1?"hidden":"",n["attr.disabled"]=n["attr.disabled"]==!0?"disabled":"",n["attr.readonly"]=n["attr.readonly"]==!0?"readonly":"",n["attr.maxlength"]=$.isEmpty(n["attr.maxlength"])?"":"maxlength="+n["attr.maxlength"],n["attr.inputmode"]=$.isEmpty(n["attr.inputmode"])?"":"inputmode="+n["attr.inputmode"],n.ecService=$.isEmpty(n.ecService)?"":"data-service="+n.ecService,n.ecLazyService=$.isEmpty(n.ecLazyService)?"":"data-lazy-service="+n.ecLazyService,n.ecServiceAttr=$.isEmpty(n.ecServiceAttr)?"":"data-service-attr="+n.ecServiceAttr,n.ecServiceTrigger=$.isEmpty(n.ecServiceTrigger)?"":"data-service-trigger="+n.ecServiceTrigger,this.parseAttrsValue(n,t,i))},_isInGridWithoutCombineParent:function(){return this.gridID&&!this.pcid},parseAttrsValue:function(){},getElements:function(n){if(n==this._IT_SELF||$.isNull(n))return this.$el;var t=this.$el.find("[data-index]");return t.length===0?this.$el:$.isNull(n)?t:t.filter("[data-index="+n+"]")},getFunctionElement:function(n){return this.$el.find('[data-function="'+n+'"]')},getGridCellElement:function(){var n;return this.gridID&&(n=this.$el.closest(".edit_container")),n},getGridViewTemplate:function(n){for(var u,t,e,f,o,i=ecount.control.template["gridView"],r=0,s=n.length;r<s;r++)if(u=n[r].title,t=n[r].label,this.setGridViewEmpty&&(_.isEmpty(u)&&(u=this.setGridViewEmpty.titleEmpty?"&nbsp;":""),_.isEmpty(t)&&(t=this.setGridViewEmpty.contentsEmpty?"&nbsp;":"")),i=i.replace("((this.title))",u),$.isArray(t)&&t.length>1){for(e=[],f=0,o=t.length;f<o;f++)e.push(t[f]);i=i.replace("((this.label))",e).split(",").join(", ")}else i=i.replace("((this.label))",t);return i},getBoundaryElement:function(){var t=this.$el.get(0),n=this.getGridCellElement();return n&&n.length&&(t=n.get(0)),t},getOwnElement:function(n,t){if(!t)return $(this.$el.find(n).andSelf(n).get(0));var i=this.$el.attr("data-ecPath")||this.$el.find("[data-ecPath]").attr("data-ecPath");return this.$el.find(n).filter(function(n,t){return $(t).closest("[data-ecPath]").attr("data-ecPath")==i})},getParentContainerBoundary:function(){var n=this._$parent||this.$el.parent();return n?ec$.getZoomedBoundary(n.get(0),{}):this.getDefaultBoundaryObject()},getContainerBoundary:function(){var n=0,t=this.getBoundaryElement();return this.$el.find(".control").length&&(n=parseInt(this.$el.find(".control").css("margin-left"))),this.$el.length?ec$.getZoomedBoundary(t,{left:n}):this.getDefaultBoundaryObject()},getComponentBoundary:function(n){var t=this.$el.find("[data-cid][data-index="+n+"]");return t.length>1&&(t=t.filter(":visible")),t.length?ec$.getZoomedBoundary(t.get(0)):this.getDefaultBoundaryObject()},getFunctionBoundary:function(n,t,i){var r,u;return $.isNull(i)&&!isNaN(+t)&&(i=t,t=undefined),r=['[data-function="'+n+'"]'],$.isNull(t)||r.push('[data-function-id="'+t+'"]'),$.isNull(i)||r.push('[data-function-index="'+i+'"]'),u=this.$el.find(r.join("")),u.length?ec$.getZoomedBoundary(u.get(0)):this.getDefaultBoundaryObject()},getRoleHolderBoundary:function(n,t,i){var r,u;return $.isNull(i)&&!isNaN(+t)&&(i=t,t=undefined),r=['[data-role="'+n+'"]'],$.isNull(t)||r.push('[data-role-id="'+t+'"]'),$.isNull(i)||r.push('[data-role-index="'+i+'"]'),r.push(":visible"),u=this.$el.find(r.join("")),u.length?ec$.getZoomedBoundary(u.get(0)):this.getDefaultBoundaryObject()},getCaretBoundary:function(){var t,n;return t=['[data-service="layer.caretdropdown"]'],n=this.$el.find(t.join("")),n.length?ec$.getZoomedBoundary(n.get(0)):this.getDefaultBoundaryObject()},getDefaultBoundaryObject:function(){return{top:0,left:0,width:0,height:0}},setGridElementInfo:function(n){var t=ec$.parseGridElement(this.$el.get(0));_.merge(n,{gridId:t.gridID,tableId:t.gridTableID,rowId:t.dataKey,columnId:t.columnID,sectionType:t.sectionType})},getGridElementInfo:function(){return ec$.parseGridElement(this.$el.get(0))},isVisibleElement:function(n){var t=this.getElements(n);return t.length>0?ecount.widget.isVisible(t[0]):!1},reflowContainer:function(){},appendSpace:function(){this.$el.after(" ")},destroy:function(){this.$el&&(this.destroyPopover(),this.$el.remove())}});ecount.control.view.formElements=["input","button"];ecount.control.view.setValue={text:function(n,t){$.isNull(t)||(t=t.toString()||"",n.val(t),n.attr("value",t))},textarea:function(n,t){$.isNull(t)||(this._isUseHtmlFormate?n.val(t.toString()||""):n.val(this._notLineAlignment?t.toString()||"":(t.toString()||"").trimHtml()))},_default:function(n,t){$.isNull(t)||n.val(t.toString())}};ecount.class("ecount.control.view.input","ecount.control.view",{template:"((input))[[fn]]",init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){var n=arguments[0];n&&n._isPassword&&($.extend(this,{_isPassword:n._isPassword}),delete n._isPassword);ecount.control.view.prototype.render.apply(this,arguments)},onMount:function(n){n.isUseFakeFocus&&this.$el&&(this.$fakeInp=$('<input type="text" style="position: absolute; opacity: 0; height: 0;">'),this.$el.append(this.$fakeInp))},onInitTemplate:function(n){return this._isPassword&&(n="((inputPassword))[[fn]]"),n},onChangeStyleImeMode:function(n,t){this.getElements(n).css("ime-mode",t)},onChangeAttrReadonly:function(n,t){var i=this.getElements(n);i.prop("readonly",t)},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);i.prop("disabled",t)},onBlur:function(){this.$el.find("input:visible").blur()},getElements:function(n){if(n==this._IT_SELF)return this.$el;var t=this.$el.find("[data-index]");return t.length===0?this.$el:$.isNull(n)?t:t.filter("[data-index="+n+"]")}});ecount.class("ecount.control.view.button","ecount.control.view",{template:"((button))",init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){ecount.control.view.prototype.render.apply(this,arguments)},onChangeLabel:function(n,t){this.getElements(n).text(t)},onChangeStyleCss:function(n,t){this.getElements(n).attr("class",t)}});ecount.class("ecount.control.codes","ecount.control",{callbackID:undefined,responseID:undefined,ecPageID:undefined,carretIndex:undefined,labelColumn:undefined,valueColumn:undefined,bgColorColumn:undefined,autocompleteSearchUrl:undefined,searchURL:undefined,preSearchDataKey:null,hasCodeComplete:!1,checkMaxCount:0,casesensitive:!1,isCheckBoxDisplayFlag:!0,isAddAsteriskCode:!1,isNotUseSearch:!1,isGMC:!1,isSVC:!1,_isSmall:!1,isContainLevelGroup:!1,_searchBtnClickStatus:!1,useAsteriskMode:!1,hasCodeComplete:!1,resetInputByOpenPopup:!1,disableValueSetting:!1,preventOpenPopupByEnter:!1,parentPageID:undefined,__subTarget:undefined,defaultLabel:undefined,defaultValue:undefined,defaultParam:undefined,dataRulesLabel:"",dataRulesLabelMsg:"",_setDefaultPlaceholder:!0,_addPopUpOpenParam:!1,useAsyncFocusChange:!0,itemCss:"label-primary",_useResetData:!0,isOthersDataFlag:null,casesensitive:!1,initializeOptions:function(n,t){_.merge(this,{label:n.label,labelColumn:n.labelColumn,valueColumn:n.valueColumn,bgColorColumn:n.bgColorColumn,popupURL:n.popupURL,searchURL:n.searchURL,autocompleteSearchUrl:n.autocompleteSearchUrl,preSearchDataKey:n.preSearchDataKey||this.preSearchDataKey,useAsteriskMode:n.useAsteriskMode,isNotUseSearch:n.isNotUseSearch,isCheckBoxDisplayFlag:n.isCheckBoxDisplayFlag,isContainLevelGroup:n.isContainLevelGroup,checkMaxCount:n.checkMaxCount,hasCodeComplete:n.hasCodeComplete,codeType:n.codeType||"1",controlOption:this._getParsedControlOption(n.controlOption),dataRulesLabel:n.dataRulesLabel,dataRulesLabelMsg:n.dataRulesLabelMsg,itemCss:n.itemCss,casesensitive:n.casesensitive,isGMC:n.isGMC===undefined?this.isGMC:n.isGMC,isSVC:n.isSVC===undefined?this.isSVC:n.isSVC,width:n.width,height:n.height,setupHandler:n.setupHandler||this.setupHandler,afterResetKeywordAction:n.afterResetKeywordAction,afterRemoveButtonClickAction:n.afterRemoveButtonClickAction,beforeAddCodeCallback:n._beforeAddCodeCallback||this.beforeAddCodeCallback});this.initSVCOptions(n,t);this.defaultParam=_.cloneDeep(n.defaultParam||this.defaultParam);this.initCodeOptions(n,t);this.isInGridWithoutCombineParent()&&this.isGridV3&&this._observeCodeChange()},addControlOptions:function(n){n&&n[0].type==="checkbox"&&n[0].data&&n[0].data[0].label?this.label=n[0].data[0].label:this._addPopUpOpenParam=!0},initializeViewOptions:function(n){_.merge(this.__viewOptions,{codeType:this.codeType,isSmall:n._isSmall})},initSVCOptions:function(){},initCodeOptions:function(){},onInitState:function(n,t,i){_.merge(t,{additionalData:i._additionalData||{},"opt.preventOpenPopup":!1,"opt.hasSingleSearchResult":!1,"opt.disabledInputbox":i.disabledInputbox||this.disabledInputbox||!1,"validate.containstype":i.containsType||"search"})},onInitComponents:function(n,t){ecount.control.prototype.onInitComponents.apply(this,arguments);_.merge(this.__originData,{dualStep:t["opt.dualStep"]})},onInitComponent:function(n,t,i,r){r["opt.selectRange"]=!1},onInitFunction:function(n,t){var i=t.functions;this.isNotUseSearch||(i.openpopup={ecFunction:"button",ecFunctionId:"code.openpopup",cid:this.id});i.removeall={ecFunction:"button",ecFunctionId:"code.removeall","style.display":!1,cid:this.id}},onInitExtractComponent:function(){},render:function(){ecount.control.prototype.render.apply(this,arguments)},show:function(){ecount.control.prototype.show.apply(this,arguments);this.reflowContainer()},onLazyRender:function(){var i,t,n,r;for(t,n=0,r=this.getComponents().length;n<r;n++)i=this.getState(n,"validate.containstype")||this.getState(this._IT_SELF,"validate.containstype"),t=this.getComponent(n).value,!$.isEmpty(t)&&this.isVisible(n)&&this._checkContainsType(t,i);this.reflowContainer()},getInitDataComponents:function(n,t,i){if(i.data){var r=_.cloneDeep(i.data);return r.map(function(n){return _.extend(n,{itemList:this.hasCodeComplete?[]:undefined,ecService:this.hasCodeComplete?"layer.autocomplete":"",ecLazyService:i.isFromFavoriteCode||i.useRecommendOption?"layer.recommenddropdown":"",ecServiceAttr:i.isFromFavoriteCode||i.useRecommendOption?ecount.layer.constValue.FOCUSABLE:""})}.bind(this))}},getInitComponents:function(n,t,i){return components=[{cid:this.id,value:"",oldValue:"",itemList:this.hasCodeComplete?[]:undefined,ecRole:"code.input",ecService:this.hasCodeComplete?"layer.autocomplete":"",ecLazyService:i.isFromFavoriteCode||i.useRecommendOption?"layer.recommenddropdown":"",ecServiceAttr:i.isFromFavoriteCode||i.useRecommendOption?ecount.layer.constValue.FOCUSABLE:"","style.css":"textbox-inline noneEvent","style.inputborder":!1}],this.label&&components.push({cid:this.id,label:this.label,ecRole:"code.sidelabel","attr.labelid":["control",this.tabID||"",this.gridID||"",this.ecPageID,this.id,k].join("-"),"attr.checked":!!i.isCheckCodeTypeCheckBox}),components},getSearchResult:function(n,t){ecount.common.api({ecPageID:this.ecPageID,isGMC:n&&n.isGMC||this.isGMC,url:this.searchURL,data:Object.toJSON(n),async:!1,success:function(n){n.Data&&n.Data.Data?t(n.Data.Data):t(n.Data)}.bind(this),error:function(n,t,i){if(this.resetInputField(),n.status==200){ecount.error(i.Message,{title:"System Error "+t,trace:i.MessageDetail});throw new Error(t);}}.bind(this)})},getLayerAutocompleteOption:function(){var n=this.getComponent(0),t=ecount.global.findCallback(this.getParentPageID(),ecount.widget.beforeAutoCompleteRequest)||this.setupHandler;return _.merge(ecount.control.prototype.getLayerAutocompleteOption.apply(this,arguments),n,{ecPageID:this.getParentPageID(),boundary:this.getRoleHolderBoundary("code.autocomplete"),searchURL:this.searchURL||this.autocompleteSearchUrl,disableValueSetting:this.disableValueSetting,setupHandler:t.bind(this,this),isSVC:this.isSVC,copyParamToRequestData:this._copyParamToRequestData,responseFilter:function(n){return this.responseFilter(n).map(function(n){return _.extend(n,{label:[n.value,"[",n.label,"]"].join("")})})}.bind(this)})},getValue:function(){return ecount.control.prototype.getValue.apply(this,arguments)},getStandardValue:function(){return this.getSelectedItem()},getSearchKeyword:function(){var n=this.getComponent(0).value;return $.isEmpty(n)?"":""+n},getRawDataOfSelectedItem:function(){},getSelectedItem:function(){},getAdditionalData:function(){var n=this.getState(this._IT_SELF,"additionalData");return $.isEmptyObject(n)?null:n},getSelectedCode:function(){},getSelectedLabel:function(){},getCheckLabelStatus:function(){var n=this.getComponents().find(function(n){return n.ecRole=="code.sidelabel"});return n?n["attr.checked"]:!1},getParentPageID:function(){return this.ecPageID||""},getGridSelectedLabel:function(){var n=this.getSelectedItem(),i=[],t,r;if(n&&n.length>0){for(t=0;t<n.length;t++)r=n[t],i.push(r.label);return i}return""},setValue:function(n,t,i){var r=this._getSideLabelComp();if(r&&r.index==n){this.setState(r.index,"attr.checked",!!t);i&&this.executeChangeDelegator();return}ecount.control.prototype.setValue.apply(this,arguments)},setValueFromLayer:function(n,t,i,r){if(r.type==ecount.layer.constValue.RECOMMENDDROPDOWN){if(!r.value)return!1;if(r.isGridAction)this.delegator&&this.delegator.triggerEvent("control.sendData",{cid:this.id,type:r.type,gridID:r.gridID,gridSectionType:this.gridSectionType,gridColumnID:this.gridColumnID,gridDataKey:this.gridDataKey,value:r.value,callbackID:r.callbackID,tabID:this.tabID});else{var u=$.isArray(r.value)?r.value[0]:r.value;ecount.control.prototype.removeDropdownLayer.apply(this,arguments);this.addCode(u);this._openPopupByLazyLayer(u.value,r.cindex)}}},setPlaceHolder:function(n,t){this.setState(t||0,"attr.placeholder",n)},setSearchURL:function(n){$.isEmpty(n)||(this.searchURL=n)},setStandardValue:function(n,t){var i;_.isBoolean(t)&&(i=this.singleCode?t:!t);this.removeAll(i);$.isArray(arguments[0])?this.addCodes.apply(this,arguments):this.addCode.apply(this,arguments)},setFocus:function(n,t){var u=this.__state,i=this.getComponent(n),r=t&&t.readonly===!0&&this.getState(this._IT_SELF,"validate.needvalidate");if(r&&this.isReadOnly(n)&&this.setState(this._IT_SELF,"opt.lockErrorStatus",!0),i&&this.isVisibleElement(n)&&!this.isReadOnly(n))this.setFocusOnComponent(n,!0);else if(!this.isReadOnly(this._IT_SELF)&&this.getState(this._IT_SELF,"opt.disabledInputbox")&&n===0&&this.getState(n,"attr.disabled"))this.notify("openpopup","focus.index",!0);else this.onNextFocus(n)},setContainsType:function(){this.setState(this._IT_SELF,"validate.containstype")},setAdditionalData:function(n){this.setState(this._IT_SELF,"additionalData",n)},isChangedCode:function(){return!0},isSelectableCount:function(){return!0},isExistItem:function(){return!1},isEmpty:function(){return!1},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<2:n<2:!0},addItemExtraData:function(){return{}},reflowContainer:function(){},setupHandler:function(n,t,i,r){r(i)},clearAdditionalData:function(){this.setState(this._IT_SELF,"additionalData",{})},addCodes:function(n,t){var r=this._preventSync;this.pendingViewUpdate(!0);r||this.disableTabSync();for(var i=0,u=n.length,f=!1;i<u;i++)i==u-1&&(r||this.enableTabSync()),!_.isBoolean(t)&&this.isGridV3&&(f=i==n.length-1?!1:!0),this.addCode(n[i],f?!0:t);n.length||r||this.enableTabSync();this.pendingViewUpdate(!1);this.batchUpdateView()},addCode:function(){},addCodeImmediately:function(n){var i,r,t,u;if(!$.isEmpty(n))for(i=n.split(","),r=this._preventSync,r||this.disableTabSync(),t=0,u=i.length;t<u;t++)t==u-1&&(r||this.enableTabSync()),this._addCodeDirectly(i[t])},beforeAddCodeCallback:function(){return!0},beforeAddCodeCallbackValidAction:function(){},beforeAddcodeCallbackInvalidAction:function(){},removeCode:function(){},setRequestParameter:function(n,t){t.PARAM=n;this.parentPageID&&(t.parentPageID=this.parentPageID);this.addPopupOpenParam(t)},addPopupOpenParam:function(){},responseFilter:function(n,t){return this._responseFilter(n,t)},compareKeyCode:function(n,t){return this.casesensitive?n.value.toUpperCase()==t.value.toUpperCase():n.value==t.value},checkCodeUsageByApi:function(n){var t=this.getSelectedCode(),i;if(t.length==0)return!1;t=t[0];i=ecount.global.findCallback(this.getParentPageID(),ecount.widget.beforeAutoCompleteRequest)||this.setupHandler;$.isEmpty(this.searchURL)||i(this,t,_.merge({isEqualCode:!0},this.defaultParam||{}),function(t){return new Promise(function(n,i){ecount.common.api({ecPageID:this.ecPageID,isGMC:t&&t.isGMC||this.isGMC,url:this.searchURL,data:JSON.stringify(t),success:n,error:function(n,t,r){i({errorCode:t,msgObj:r})}})}.bind(this)).then(function(t){var i=t.Data;n(i)}).catch(function(n){ecount.error(n.msgObj.Message,{title:"System Error "+n.errorCode,trace:n.msgObj.MessageDetail})})}.bind(this))},changeCodeIfValid:function(){},openPopup:function(n,t,i){var r,e,u,f;if(_.isPlainObject(t)&&_.get(t,"url")==="/ECERP/SVC/eck/eck001p_05"){ecount.control.prototype.openPopup.apply(this,arguments);return}if(this.isGridV3){this._openPopupForGridV3(n,t,i);return}if(this.isInGridWithoutCombineParent()&&this._observeCodeChange(),t=$.isEmpty(t)?this.getSearchKeyword():t,i=i?i:{},r=_.cloneDeep(i.gridInfo),e=i.cellInfo,u=this._getOpenPopupEventTarget(i),this._isAbleToOpenPopup()){if(this._isAbleToSetDataDirectly(n)){f=_.merge({isAdded:!0,data:this._getFirstOrItself(data),addPosition:"current",isApi:!0},i);this._setSeachResultDataDirectly(f);return}if(r&&r.data=="F9"){this._openPopupWithKeyword({keyword:t,eventTarget:u,isMinimunSearchLength:!1,__gridOpenPopupTriggerInfo:r});return}this._preSearchBeforePopupOpen(t,i,function(n){this.setFocusOutTrigger();this._isAbleToOpenPopupAfterPreSearch(n,i)&&this._openPopupWithKeyword({keyword:t,eventTarget:u,isMinimunSearchLength:n&&n.length===this._getMinimunDataLength(),__gridOpenPopupTriggerInfo:r,preSearchData:n})}.bind(this))}},_getOpenPopupEventTarget:function(n){return typeof n=="string"?n:n.gridInfo&&n.gridInfo.event?n.gridInfo.event:void 0},_openPopupForGridV3:function(n,t,i){var r,u;if(t=$.isEmpty(t)?this.getSearchKeyword():t,i=i?i:{},this._isAbleToOpenPopup()){if(i&&(r=i.eventTarget?i.eventTarget:i),this._isAbleToSetDataDirectly(n)){u=_.merge({isAdded:!0,data:this._getFirstOrItself(data),addPosition:"current",isApi:!0},i);this._setSeachResultDataDirectly(u);return}this._preSearchBeforePopupOpen(t,i,function(n){this.setFocusOutTrigger();this._isAbleToOpenPopupAfterPreSearch(n,i)&&this._openPopupWithKeyword({keyword:t,eventTarget:r,isMinimunSearchLength:n&&n.length===this._getMinimunDataLength(),preSearchData:n})}.bind(this))}},_observeCodeChange:function(){var t=this.gridDataKey,i=this.gridColumnID,r=this.gridSectionType,n=[t,i,r].join(ecount.constValue.gridDelimiter);ecount.runtime.observe("code.beforeChange",this.ecIKey,function(t){ecount.runtime.notify("code.beforeChange",n,t)});ecount.runtime.observingOnce("code.destroy",this.ecIKey,function(){ecount.runtime.stopObserving("code.beforeChange",n)});ecount.runtime.observe("code.afterChange",this.ecIKey,function(n){this.changeCodeIfValid(n.currentCode)}.bind(this));ecount.runtime.observe("code.setPreSearchResult",this.ecIKey,function(n){this.changeCodeIfValid(n.currentCode)}.bind(this))},removeAll:function(){},resetKeyword:function(){this.afterResetKeywordAction()},afterResetKeywordAction:function(){},afterRemoveButtonClickAction:function(){},resetInputField:function(){},checkValidate:function(){},cancelAsteriskMode:function(){this.isAddAsteriskCode&&(this.removeAll(!0),this.isAddAsteriskCode=!1)},showLevelGroupError:function(){this._focusOutFromInputAction(0);ecount.global.setTimeout(this.ecPageID,function(){ecount.alert(ecount.resource.message.INCLUDESUBGROUP,{target:this})}.bind(this),0)},unregister:function(){ecount.runtime.stopObserving("code.afterChange",this.ecIKey,{ecPageID:this.ecPageID});ecount.runtime.stopObserving("code.setPreSearchResult",this.ecIKey,{ecPageID:this.ecPageID});ecount.control.prototype.unregister.apply(this,arguments)},onMaxCountExceeded:function(){this.checkMaxCount!=1&&(this.setState(0,"opt.selectRange",!1),ecount.global.setTimeout(this.ecPageID,function(){ecount.alert(String.format(ecount.resource.message.MAXCOUNT,this.isCheckBoxDisplayFlag?this.checkMaxCount:1),{target:this,uniqKey:"onMaxCountExceeded"})}.bind(this),0))},onMessage:function(n,t){var r=this.getSelectedItem(),i;if(t=t||{},this.getNationalFlag()&&_.get(t,"data.STATE_CODE")){this.setNationalFlag(_.get(t,"data.STATE_CODE"),!0);this._sendMessage(n,_.merge({},t,{callback:null,data:t.originalDataset||t.data}));t.callback&&t.callback();return}i=$.isArray(t.data)?t.data:t.data?[t.data]:[];this._beforeAddCodeByMessageAction(i,t,function(){this._addCodeByMessage(i,t);this._sendMessage(n,_.merge({},t,{isChangedCode:this.isChangedCode(i,t.code||this.valueColumn),callback:null,data:t.originalDataset||t.data}));this._executeMessageCallback(t);ecount.runtime.notify("code.afterChange",this.ecIKey,{currentCode:r,message:t})}.bind(this))},onClickButtonHandler:function(){},onLayerClickHandler:function(n,t,i,r){if(n.ecFunction=="autocomplete"){var u=r.itemList[r.selectedIndex];this._addCodeByAutoComplete(u);this._clearAutoCompleteLayer(n,t,r)}this.setValueFromLayer(n,t,i,r)},onChangeHandler:function(n){switch(n.ecRole){case"code.sidelabel":if(this.setState(n.cindex,"attr.checked",n.checked),!this.isValidContainLevelGroup(this.getSelectedItem().length))return this.setState(n.cindex,"attr.checked",!1),this.showLevelGroupError(),!1;this.executeChangeDelegator()}},onKeyInputHandler:function(){},onSearchKeyDownHandler:function(n,t,i){ecount.runtime.stopObserving("page.runkeydown.save",this.ecPageID+"."+this.cid);ecount.runtime.observe("page.runkeydown.save",this.ecPageID+"."+this.cid,function(){var r=n.value||this.getSearchKeyword();if((this._focusOutFromInputAction(n.cindex),this._isChangedSearchKeyword(r))&&r.trim().length&&!this.hasError()){this._preSearchBeforePopupOpen(n.value,{},function(n){this.setFocusOutTrigger();this._isAbleToPreSearchForResult(n)||(this.resetKeyword(),n.length!=this._getEmptyDataLength()&&this._openPopupWithKeyword({keyword:r,preSearchData:n}))}.bind(this));this.onKeydownHandler(n,t,i);return!1}}.bind(this))},onKeydownHandler:function(n,t,i){this.disableValueSetting&&ecount.global.setTimeout(this.ecPageID,function(){this._isAsteriskMode(n.value)&&(this.disableValueSetting=!1)}.bind(this),1);this._clearAutoCompleteLayer(n,t,i)},onEnterKeydownHandler:function(n,t,i){var r=$.isEmpty(n.value)?this.getSearchKeyword():n.value,u;if((this._setSearchKeyword(r),!this.doPreventAction())&&!this.isInGridWithoutCombineParent()&&this._isAbleToOpenPopup()){if(this.disableValueSetting){this._setAsteriskMode();return}!this._isAsteriskMode(r)&&this._isAbleToOpenPopupByFocusChangeKey(r,n.cindex)&&(this._openPopupByEnter(r,n.cindex),u=!1);this.onKeydownHandler(n,t,i);return u}},onTabKeydownHandler:function(n,t,i){var r=this.getSearchKeyword(),u={};if(this._setSearchKeyword(r),!this.doPreventAction()){if(i.itemList){this._addCodeByTab(n,t,i);return}if(!this._isAbleToOpenPopup()){this._preSearchBeforePopupOpen(r,u,function(n){this._isAbleToOpenPopupAfterPreSearch(n,u)&&(this.resetKeyword(),this._openPopupWithKeyword(_.extend(u,{keyword:r,preSearchData:n,eventTarget:"blur"})))}.bind(this));return this.onKeydownHandler(n,t,i)}}},onKeyupHandler:function(){this.dualModeShowButtonDisplay()&&this.delegator&&this.delegator.triggerEvent("dualMode.buttonDisplay",{id:this.id,isShow:!1})},onSearchBtnClickHandler:function(n){var t=this.getSearchKeyword();if(this._searchBtnClickStatus||this.isPreventHideError())return!1;this._isChangedSearchKeyword()&&this.resetKeyword(n);this.setState(this._IT_SELF,"opt.hasSingleSearchResult",!1);this._openPopupWithKeyword({keyword:t,ispopupCloseUse:!1,isOnePopupClose:!1,eventTarget:"btn-search"})},onMousedownHandler:function(){},onClickHandler:function(){},onDblClickHandler:function(n,t,i){if(this._isAbleToDblClick(n,t,i)){if(this.isPreventHideError())return!1;var r=this.getSearchKeyword();(this._setSearchKeyword(n.value),this.doPreventAction())||this._openPopupWithKeyword({keyword:r,isOnePopupClose:!1,eventTarget:n.oType,__gridOpenPopupTriggerInfo:i.__gridOpenPopupTriggerInfo})}},onFocusInHandler:function(n){var t=this.getLayerServiceKey(n);t&&ecount.layer.removeLayer(t)},onFocusOutHandler:function(n,t,i,r){if(this._isAutoCompleteLayerClicked(n,t,i)){this._clearAutoCompleteLayer(n,t,i);return}if(this.disableValueSetting||this._isAsteriskMode(n.value)){this._setAsteriskMode(n);this._focusOutFromInputAction(n.cindex);return}this._openPopupByFocusOut(n,t,i,r);this.gridID||this._focusOutFromInputAction(n.cindex);this.reflowContainer()},save:function(){if(this.getComponentsByAttr("ecRole")==="code.sidelabel")var n=this.getCheckLabelStatus()?"1":"0";return{key:this.id,value:{code:this.getSelectedItem(),dualStep:this.getDualStep(),label:n,additionalData:this.getAdditionalData(),nationalCode:this.getNationalFlag()||null}}},saveWithoutEmpty:function(){function f(n){$.type(n)==="array"?n.length||r++:$.isEmpty(n)&&r++}var i=this.save(),n=Object.keys(i.value),r=0,t,u;if(n.length)for(t=0;t<n.length;t++)u=i.value[n[t]],f(u);return r==n.length?!1:i},restore:function(){},restoreSideLabel:function(n){var t;n&&(t=this._getSideLabelComp(),t&&this.setState(t.index,"attr.checked",!!(n=="1")))},getSyncData:function(){return ecount.control.prototype.getSyncData.call(this)},reset:function(n){var f=ecount.common.makeServiceKey(this.ecPath,0),t;if(ecount.layer.hide(f),this.hasError()&&this.hideError(this._IT_SELF),ecount.control.prototype.reset.apply(this,arguments),n&&n.codes&&this._setCodeFromExternalData(n.codes),(t=this.getDualStep())&&this.setDualStepByData(t),this.hasLabelMode){var i=this.getState(this._IT_SELF,"linkoptions"),r=i.filter(function(n){return n.selected}),u=_.isArray(r)?r[0]:[],e=u&&u.id||"";this._setModeActive(e,i)}this.adjustItemContainer(!0)},extract:function(){var n=ecount.control.prototype.extract.apply(this,arguments);return n.codes=this.getSelectedItem(),n},adjustItemContainer:function(){},adjustItemContainerOnRenderComplete:function(){},resetStateByData:function(n){var r,i,u,t;for(this.pendingViewUpdate(!0),i=0,u=n.length;i<u;i++){if(t=n[i],t.path=="opt.dualStep"){r=t.state;continue}this.setState(t[0],t[1],t[2])}this.pendingViewUpdate(!1);this.batchUpdateView();this.setDualStepByData(r)},setDualStepByData:function(n){n&&this.setDualStep(n,!1,!0)},hasSingleSearchResult:function(){return this.getState(this._IT_SELF,"opt.hasSingleSearchResult")},serialize:function(n){return _.merge({key:n||this.name,value:this.getSelectedCode().join(ecount.delimiter)},this.getNationalFlag()?{nationalCode:this.getNationalFlag()}:null)},serializeById:function(){return this.serialize(this.id)},serializeAdditionalData:function(){var n={name:this.subTitle||"",value:this.getSelectedItem().map(function(n){return n.label})};return ecount.control.prototype.serialize.apply(this,[n])},resetData:function(){return!0},executeChangeDelegator:function(n){if(n=n||{},n.control=this,n.cid=this.cid,n.messageObj){var t=n.messageObj,i=0;t.data&&(i=$.isArray(t.data)?t.data.length:1);t.length=i;n.message=t;n.isApi=!!t.isApi}ecount.control.prototype.executeChangeDelegator.call(this,n);this.pcid&&this.executeParentChangeDelegator&&this.executeParentChangeDelegator(n)},_focusOutFromInputAction:function(n){this.doPreventAction()||this.executeChangeDelegator({value:"",cindex:n})},_addCodeDirectly:function(n){n=n.trim();this.addCode({label:n,value:n},!1);this.destroyPopover(this._IT_SELF)},_addCodeByMessage:function(n,t){this.cancelAsteriskMode();n=n.filter(function(n){return n}).map(this._getCodeDataFromMessage.bind(this,t));!t.isAdded&&this._isRemoveCodeBeforeAddCode(t)&&this.removeAll(this.isGridV3&&!this.singleCode?!1:!0);this._addFilteredData(n,t);this.adjustItemContainerOnRenderComplete()},_addFilteredData:function(n,t){var i,r=this._preventSync;this.pendingViewUpdate(!0);this.isChangeEventPostpone&&this.disableDelegatorExecution();r||this.disableTabSync();i={label:t.name||this.labelColumn,value:t.code||this.valueColumn};this.responseFilter(n,i).forEach(function(i,u,f){var e=_.merge({},n[u],i),s=_.extend(this._getMessageData(e,t),{index:u,length:n.length}),o=!1;u==f.length-1&&(this.isChangeEventPostpone&&this.enableDelegatorExecution(),r||this.enableTabSync());this.isGridV3&&(o=u==f.length-1?!1:!0);e&&e.value!==undefined&&this.addCode(e,o?!0:!1,s)}.bind(this));this.pendingViewUpdate(!1);this.batchUpdateView()},_responseFilter:function(n,t){return n.map(function(n){return{label:n[this.labelColumn||t.label],value:n[this.valueColumn||t.value],bgColor:n[this.bgColorColumn],rawData:n}}.bind(this))},_getDefaultGridOptions:function(){return{gridID:this.gridID,gridDataKey:this.gridDataKey,gridColumnID:this.gridColumnID,gridSectionType:this.gridSectionType,labelColumn:this.labelColumn,valueColumn:this.valueColumn}},_getMinimunCodeData:function(n){return{label:n.originLabel||n.label,value:n.value||n.code,bgColor:n["style.backgroundcolor"]||""}},_getParsedControlOption:function(n){return n?$.parseJSON(n):null},_getMessageData:function(n,t){return _.extend({},t,{data:t.originalDataset||n,length:n.length,position:t.addPosition,isApi:t.isApi,isChangedCode:t.isChangedCode})},_getSelectedItemData:function(n,t){if(!n)return n;var i=t&&t.name?t.name:this.labelColumn,r=t&&t.code?t.code:this.valueColumn,u=n.label||n[i]||"",f=n.value==undefined?n[r]:n.value;return _.extend({cid:this.id,label:u,value:f,rawData:n.rawData||n},this.addItemExtraData(n))},_getSideLabelComp:function(){return this.getComponents().find(function(n){return n.ecRole=="code.sidelabel"})},_getMinimunDataLength:function(){return 1},_getEmptyDataLength:function(){return 0},_getNotDuplicatedItem:function(n,t){return n.filter(function(n){return!this.isExistItem(this._getSelectedItemData(n,t))}.bind(this))},_getPreSearchResultData:function(n,t){var r=ecount.global.findCallback(this.ecPageID,ecount.widget.beforeAutoCompleteRequest),u=this._getDefaultParam(_.extend({},this.defaultParam,{keyword:n})),i=!1;$.isEmpty(this.searchURL)&&t([]);this._isAbleToPreSearchForResult()||t([]);r(this,n,u,function(n){var r=n;$.isEmpty(this.searchURL)||(this.isSVC&&(r=this._copyParamToRequestData(n)),this.getSearchResult(r,t),i=!0)}.bind(this));i||t(new Error("canclePreSearch"))},_copyParamToRequestData:function(n){var i=_.cloneDeep(n),t=_.cloneDeep(n),r;return $.isNull(i.Request)||delete i.Request,$.isNull(t.Request)?t.Request={Data:i}:$.isNull(t.Request.Data)?t.Request.Data=i:_.merge(t.Request.Data,i),n.keyword&&(r=n.keyword.replaceSpecial()),t.Request.Data.PARAM=r,t},_getPopupOpenParameter:function(n){var t=this.callbackID;return n.preSearchData&&(this.preSearchDataKey&&(n[this.preSearchDataKey]=JSON.stringify(n.preSearchData)),delete n.preSearchData),_.extend({},this.defaultParam,{width:this.width||450,height:this.height||500,name:(this.popupType===!0?this.id:this.subTitle)||"",url:this.popupURL,popupType:this.popupType===!0,checkMaxCount:this.checkMaxCount,responseID:t,keyword:"",selectedCodes:this.getSelectedCode().join(ecount.delimiter),isCheckBoxDisplayFlag:this.isCheckBoxDisplayFlag,isContainLevelGroup:this.isContainLevelGroup?this.getCheckLabelStatus():!1,tabID:this.tabID,controlID:this.id,gridID:this.gridID,ispopupCloseUse:!0,isOnePopupClose:!0,eventTarget:null,__ecPageID:this.ecPageID,__gridOpenPopupTriggerInfo:n.__gridOpenPopupTriggerInfo},n)},_getSetableAutoCompleteCode:function(n,t){var i=n[t];return i||n.length!=1||(i=n[0]),i?i:void 0},_getValidateValue:function(){return this.getState(0,"value")},_getCodeDataFromMessage:function(n,t){var i={},r=$.isNull(n.name)?this.labelColumn:n.name,u=$.isNull(n.code)?this.valueColumn:n.code,f=$.isNull(n.bgColor)?this.bgColorColumn:n.bgColor;return i[this.valueColumn]=t[u],i[this.labelColumn]=t[r],i[this.bgColorColumn]=t[f],_.merge({},t,i)},_getFirstOrItself:function(n){return $.isArray(n)?n[0]:n},_setSearchKeyword:function(n){this.setFilteredValueToComponent(n,0)},_setSeachResultDataDirectly:function(n,t){t&&t()},_setAsteriskMode:function(n){var u=n.value||this.getSearchKeyword(),t={},i,r;t[this.labelColumn]=u;t[this.valueColumn]=u;i=[t];r={name:this.labelColumn,code:this.valueColumn,isChangedCode:this.isChangedCode(i,this.valueColumn),isAdded:!1,data:t};this._beforeAddCodeByMessageAction(i,r,function(){this._addCodeByMessage(i,r);this.isAddAsteriskCode=!0;this._sendMessage(null,r);this._decideFocus(!0);this.disableValueSetting=!1}.bind(this))},_sendMessage:function(n,t){if(n||(n={pageID:this.popupURL?this.popupURL.split("/").last().split("?")[0]:""}),n.controlID||(n.controlID=this.id),t.control||(t.control=this),t.gridID&&t.gridDataKey&&t.gridColumnID){ecount.global.executeCallback(this.ecPageID,this.responseID,n,t);return}this._getGridCellInfo(t,function(t){ecount.global.executeCallback(this.ecPageID,this.responseID,n,t)}.bind(this))},_setCodeFromExternalData:function(n){n&&(this.disableStateObserving(),this.removeAll(!1),this.addCodes(n),this.enableStateObserving())},_isAutoCompleteLayerClicked:function(n,t,i){var r=this.getLayerServiceKey(n),u=ecount.layer.getActivatedLayer();return r?!!(n.ecService=="service.layer"&&n.ecFunction=="autocomplete"&&u.type=="autocomplete")||!!i.hasAutocompleteFocus:!1},_isRemoveCodeBeforeAddCode:function(n){var t=$.isNull(n.name)?this.labelColumn:n.name,i=$.isNull(n.code)?this.valueColumn:n.code;return this.isInGridWithoutCombineParent()&&this.codeType==9||!(t===!1&&i===!1)},_isChangedSearchKeyword:function(){return!0},_isAbleToDblClick:function(n){var t=!$.isNull(n.cindex)&&!this.getState(n.cindex,"attr.disabled")&&!this.getState(n.cindex,"attr.readonly");return n.cindex!==undefined&&n.cindex=="0"&&(t||this.isInGrid())},_isAbleToSetDataDirectly:function(n){return n&&n.length!=this._getEmptyDataLength()},_isAbleToSetPreSearchData:function(n,t){return n&&n.length===this._getMinimunDataLength()&&t.isOnePopupClose!==!1},_isAbleToPreSearchForResult:function(){return!!ecount.global.findCallback(this.getParentPageID(),ecount.widget.beforeAutoCompleteRequest)},_isAbleToOpenPopupByFocusChangeKey:function(n){var t=n==="";return!t&&this._isAbleToOpenPopup()&&!this.preventOpenPopupByEnter&&this._isChangedSearchKeyword(n)},_isAbleToOpenPopupByFocusOut:function(n){return this._isAbleToOpenPopup()&&n.value&&n.value.trim()!=""},_isAbleToOpenPopupAfterPreSearch:function(n,t){return!this._isAbleToSetPreSearchData(n,t)},_isAbleToOpenPopup:function(){return this.__state["attr.disabled"]||this.disableValueSetting||this.isNotUseSearch||this.isPreventHideError()?!1:!0},_isAsteriskMode:function(n){var t=n||this.getSearchKeyword();return this.useAsteriskMode&&this._isAsteriskString(t)?!0:!1},_isAsteriskString:function(n){return n!="*"&&n&&n.slice(-1)=="*"},_isAbleToCallApi:function(){return!0},_preSearchBeforePopupOpen:function(n,t,i){if(!this._isAbleToCallApi(n,t)){this._notifyGridPopupOpenError();this._doApiCallPreventAction(n,t);return}this._getPreSearchResultData(n,function(r){if(r instanceof Error){this._notifyGridPopupOpenError();return}this._preSearchResultHandler(n,r,t||{});this.hasError()&&this.setPreventHideError(!0);i(r)}.bind(this))},_notifyGridPopupOpenError:function(){ecount.runtime.notify("code.beforeChange",this.ecIKey,{isSearchMultiItem:!1,isPopupOpened:!0})},_doApiCallPreventAction:function(){},_openPopupWithKeyword:function(n){if(this.resetInputField(),!this._isAbleToOpenPopup()){this._notifyGridPopupOpenError();return}this._openPopup(n)},_openPopupByLazyLayer:function(n,t){this._openPopupAfterPreSearch(n,t)},_openPopupByEnter:function(n,t){this._openPopupAfterPreSearch(n,t)},_openPopupAfterPreSearch:function(n){var t={};return this._preSearchBeforePopupOpen(n,t,function(i){this._isAbleToOpenPopupAfterPreSearch(i,t)&&(this.isInGrid()||this.resetKeyword(),this._openPopup(_.extend(t,{keyword:n,preSearchData:i})))}.bind(this)),!1},_openPopupByFocusOut:function(n,t,i){var u=this.getSearchKeyword(),r={preventAutoFocusMove:!0};this._isAbleToOpenPopupByFocusOut(n,t,i)&&this._preSearchBeforePopupOpen(u,r,function(n){this._isAbleToOpenPopupAfterPreSearch(n,r)&&(this.resetInputField(),this._openPopup(_.extend(r,{keyword:u,preSearchData:n,eventTarget:"change"})))}.bind(this))},_openPopupDirectly:function(n){var t=this._getPopupOpenParameter(n||{}),i;t.popupLevel=this.popupLevel;t.parentPageID=this.parentPageID;t=this._getDefaultParam(t);i={url:t.url,name:t.name||"control_popup",param:t,popupType:t.popupType,alreadyIncludedLayout:!t.popupType,popupID:this.id,modal:this._modal,control:{name:this.subTitle,id:this.id},useGlobalSetTime:!0};ecount.runtime.notify("code.beforeChange",this.ecIKey,{isSearchMultiItem:n.isMinimunSearchLength||!0,isPopupOpened:!0,keyCode:n.keyCode});ecount.popup.openWindow(i)},_openPopup:function(n){var t,r=this._openPopupDelegatorCallback.bind(this),i=!1;if(this.isInGridWithoutCombineParent()&&this.isGridV3&&this.setFocusOnComponent(this.getCurrentFocusedIndex(),!1),!this.delegator){this._openPopupDirectly(n);return}t=this._getPopupOpenParameter(n||{});this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:t,handler:function(t,u,f,e){i=!0;r(t,u,f,e,n)}});i||this._notifyGridPopupOpenError()},_preSearchResultHandler:function(n,t,i){var f=ecount.global.findCallback(this.ecPageID,ecount.widget.preInitPopupHandler),r,u;f(this,n,i,t);this._isAbleToSetPreSearchData(t,i)?(r=_.merge({isAdded:_.isNil(i.isAdded)?!0:!!i.isAdded,data:this._getFirstOrItself(t),addPosition:"current",isApi:!0},i),u=this._getSelectedItem(),ecount.runtime.notify("code.beforeChange",this.ecIKey,{isSearchMultiItem:!1,keyCode:i.keyCode}),this.setState(this._IT_SELF,"opt.hasSingleSearchResult",!0),i&&i.cellInfo&&_.extend(r,i.cellInfo),this._setSeachResultDataDirectly(r,function(){(ecount.runtime.notify("code.setPreSearchResult",this.ecIKey,{message:r,currentCode:u}),this.hasCodeComplete||i.preventAutoFocusMove)||this._decideFocus(!0)}.bind(this))):this.setState(this._IT_SELF,"opt.hasSingleSearchResult",!1)},_getSelectedItem:function(){},_decideFocus:function(n){n||!this.isCheckBoxDisplayFlag||this.checkMaxCount==1?this.setFocusOutTrigger():this.setFocus(0)},_addCodeByTab:function(n,t,i){var r=this._getSetableAutoCompleteCode(i.itemList,i.selectedIndex);if(r){this._addCodeByAutoComplete(r);return this.onKeydownHandler(n,t,i)}},_addCodeByAutoComplete:function(n){n&&(n.rawData&&this.labelColumn&&this.valueColumn&&_.extend(n,{label:n.rawData[this.labelColumn],value:n.rawData[this.valueColumn]}),this.addCode(n),this._afterAddCodeByAutocompleteAction())},_openPopupDelegatorCallback:function(n,t,i,r,u){var f;u.eventTarget!="dblclick"&&ecount.runtime.notify("code.beforeChange",this.ecIKey,{isSearchMultiItem:u.isMinimunSearchLength||!0,keyCode:u.keyCode});this.responseID=t;n.popupLevel=r;n.ecRepositoryID=ecount.common.createPageOption(this.ecPageID,n.pageOption);this.addPopupOpenParam(n);n=this._getDefaultParam(n);n.parentPageID=i||this.parentPageID;f={url:n.url,name:n.name||"",param:n,popupType:n.popupType,popupID:this.id,modal:n.modal||this._modal,control:{ctype:this.controlType,name:this.subTitle,id:this.id},popupLevel:r,parentPageID:n.parentPageID,isChangePopupType:n.isChangePopupType,alreadyIncludedLayout:!n.popupType,additional:n.additional,useGlobalSetTime:!0};ecount.popup.openWindow(f)},_getDefaultParam:function(n){var t=n.keyword.replaceSpecial();return this.isSVC?this._copyParamToRequestData(n):_.extend({},n,{keyword:t,PARAM:t})},_executeMessageCallback:function(n){ecount.global.setTimeout(this.ecPageID,function(){if(n.callback)try{n.callback()}catch(t){console.log(t)}ecount.global.isDisableAlert()&&this._decideFocus()}.bind(this),0)},_beforeAddCodeByMessageAction:function(n,t,i){var r;if(t.name!==!1||t.code!==!1){if(r=this._getNotDuplicatedItem(n,t),!this.isValidContainLevelGroup(t.isAdded==!0?r.length+this.getSelectedItem().length:r.length)){this.showLevelGroupError();return}if(!this.isSelectableCount(r.length||0)){if(this.onMaxCountExceeded(),this.checkMaxCount!=1)return;this.removeAll(!0)}i()}},_afterAddCodeByAutocompleteAction:function(){this.resetKeyword()},_clearAutoCompleteLayer:function(n,t,i){if(i.ecIKey)ecount.layer.clearTimer(i.ecIKey);else{var r=this.getLayerServiceKey(n);ecount.layer.clearTimer(r)}},ON_MOUSEDOWN:function(n,t,i,r){if(!$.isNull(r.index))return this.onMousedownHandler(n,t,i,r)},ON_MOUSEDOWN_SERVICE:function(n,t,i,r){n.ecFunction=="autocomplete"&&(n.suspend=!0,r.itemList&&this._addCodeByAutoComplete(r.itemList[r.selectedIndex]))},ON_FOCUSIN_SERVICE:function(){},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_CONTROL:return this.onClickHandler(n,t,r);case ECountEvent.Type.CLICK_BUTTON:return this.onClickButtonHandler(n,t,r)}},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_LAYER:return this.onLayerClickHandler(n,t,i,r)}},ON_DBLCLICK:function(n,t,i,r){if(!this.isInGridWithoutCombineParent()||this.isGridV3){this.onDblClickHandler(n,t,r);return!1}},ON_CHANGE:function(n,t,i,r){if(n.ecFunctionId||n.ecRole)return this.onChangeHandler(n,t,r);var u=this._getDefaultDelegatorInfo(n,t);this.executeChangeDelegator(_.merge(u,{event:t}))},ON_LAYER_AUTOCOMPLTE:function(n){var i=this.getLayerDefaultOption(n),r=this.getRoleHolderBoundary("code.input"),t=this.getComponent(n.ccindex);return t["attr.readonly"]?!1:_.merge(i,t,r)},ON_KEYDOWN_ENTER:function(n,t,i,r){this._clearAutoCompleteLayer(n,t,r);n.ecRole=="code.sidelabel"?this.setFocusOutTrigger():this.onEnterKeydownHandler(n,t,r)!==!1&&this.setFocusOutTrigger()},ON_KEYDOWN_ENTER_SERVICE:function(n,t,i,r){if(n.suspend=!0,r.itemList){var u=this._getSetableAutoCompleteCode(r.itemList,r.selectedIndex);if(this._clearAutoCompleteLayer(n,t,r),u){if(n.value==""&&this.isExistItem(u)){this.onNextFocus(n.cindex);return}this._addCodeByAutoComplete(u);this._decideFocus(!0);return this.onKeydownHandler(n,t,r)}}this.setValueFromLayer(n,t,i,r);return this.onEnterKeydownHandler(n,t,r)},ON_KEYDOWN_F8_SERVICE:function(n,t,i,r){this.setValueFromLayer(n,t,i,r)},ON_KEYDOWN_F9:function(n){if(this.isInGridWithoutCombineParent()&&this.isGridV3)return this.setState(this._IT_SELF,"opt.preventOpenPopup",!0),this._openPopupWithKeyword({keyword:n.value,isMinimunSearchLength:!1,isOnePopupClose:!1,eventTarget:"keyDown",keyCode:n.which}),!1},ON_KEYDOWN_TAB:function(n,t,i,r){this._clearAutoCompleteLayer(n,t,r);return this.onTabKeydownHandler(n,t,r)},ON_KEYDOWN_TAB_SERVICE:function(n,t,i,r){this._clearAutoCompleteLayer(n,t,r);return this.onTabKeydownHandler(n,t,r)},ON_KEYDOWN_F2:function(n,t,i,r){this.onSearchKeyDownHandler(n,t,r)},ON_KEYDOWN_F3:function(n,t,i,r){this.onSearchKeyDownHandler(n,t,r)},ON_KEYDOWN_F4:function(n,t,i,r){this.onSearchKeyDownHandler(n,t,r)},ON_KEYDOWN_F7:function(n,t,i,r){this.onSearchKeyDownHandler(n,t,r)},ON_KEYDOWN_F8:function(n,t,i,r){this.onSearchKeyDownHandler(n,t,r)},ON_KEY_OTHERS:function(n,t,i,r){this.setFilteredValueToComponent(n.value,0);this.onSearchKeyDownHandler(n,t,r)},ON_INPUT:function(n,t,i,r){this.onKeyInputHandler(n,t,r)},ON_KEYUP:function(n,t,i,r){this.onKeyupHandler(n,t,r)},_ON_BEFORE_MOUSEDOWN:function(){return this.isReadOnly(this._IT_SELF)?!1:!0},ON_FOCUSIN:function(n,t,i,r){var u=this.getState(this._IT_SELF,"selectedItems"),e=n.ecFunction,o=n.ecFunctionId,f=!$.isNull(n.cindex)||Array.isArray(u)&&u.length==0&&e==="button"&&o==="code.openpopup";if(this.resetInputByOpenPopup&&(this.resetInputByOpenPopup=!1),f)this.onFocusInHandler(n,t,r);return f},_ON_BEFORE_FOCUSOUT:function(n,t,i,r){if(this._clearAutoCompleteLayer(n,t,r),this.getState(this._IT_SELF,"opt.preventOpenPopup"))return this.setState(this._IT_SELF,"opt.preventOpenPopup",!1),!1;if(n.handler!=ECountEvent.Type.FOCUSOUT_CONTROL)return n.handler==ECountEvent.Type.RECOMMEND_FOCUSOUT_CONTROL?!0:!1;if(r&&r.hasAutocompleteFocus)return!1;this.isInGridWithoutCombineParent()||$.isEmpty(n.cindex)||this.getState(n.cindex,"attr.readonly")||this.setState(n.cindex,"opt.selectRange",!1)},ON_FOCUSOUT:function(){},ON_FOCUSOUT_SERVICE:function(){}});ecount.class("ecount.control.view.codes","ecount.control.view",{wrapperTemplate:'<div class="{{style.wrapper}} {{style.css}} {{style.display}}" data-ecpath="{{ecPath}}" >((this.template))<\/div>',template:"",searchTemplate:'[[modechanger]]<div data-role="code.container"><div class="tags-input-typeahead" data-role="code.autocomplete">((codeSearchInput))<\/div> {{selectedItemList}}<\/div>',openpopupTemplate:'<button class="btn btn-default btn-code-search btn-vertical-top" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>',removeallTemplate:'<button class="btn btn-default btn-remove btn-vertical-top hidden" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>',fnTemplate:"((fn))",isUseTooltip:!1,initializeViewOptions:function(n){this.codeType=n.codeType},onInitTemplate:function(n,t){return n=n.replace(/{{cid}}/g,t.cid),n.replace("{{codeSearchInput}}",ecount.widget.replaceAttr(this.searchTemplate,t))},getSideLabelCodeTemplate:function(n){var t=n.components.head(function(n){return n.ecRole=="code.sidelabel"});return t?"((sideLabelCode))":""},onChangeValue:function(n,t){n===0&&this.getElements(n).val(t)},onChangeStyleDisplayRemoveall:function(n){this.toggleRemoveBtn(n)},onChangeFocusIndexOpenpopup:function(n){var t=this.$el.find('[data-function-id="code.openpopup"]');n&&t.trigger("mousedown").focus()},onBlur:function(){this.$el.find("input:visible").blur()},toggleRemoveBtn:function(n){var t=this.$el.find('[data-function-id="code.removeall"]');n?t.removeClass("hidden"):t.addClass("hidden");this.setBorderRadius()}});ecount.class("ecount.control.codes.c01","ecount.control.codes",{ecPackage:"ecount.control.codes.c01",singleCode:!1,_editable:!1,isUseTooltip:!1,hasLabelMode:!1,label:undefined,labelModeId:null,codeModeId:null,dropdownLinkOptions:null,modeDefaultValue:null,initializeOptions:function(n,t){n.popupOptions&&(_.merge(n,n.popupOptions),delete n.popupOptions);_.extend(this,{_editable:n._editable||this._editable,isUseTooltip:n._overTooltip===undefined?this.isUseTooltip:n._overTooltip,hasLabelMode:n.hasLabelMode===undefined?this.hasLabelMode:n.hasLabelMode,_beforeChangeDropdown:n._beforeChangeDropdown||this._beforeChangeDropdown});this.initializeModeChangerOptions(n,t);this.dropdownLinkOptions=this.dropdownLinkOptions.map(function(n){return n.selected=n.id==this.modeDefaultValue,n}.bind(this));ecount.control.codes.prototype.initializeOptions.apply(this,arguments)},initializeModeChangerOptions:function(n){this.labelModeId=n.labelModeId||"A";this.codeModeId=n.codeModeId||"S";this.modeDefaultValue=n._modeDefaultValue!==undefined?n._modeDefaultValue:this.codeModeId;this.dropdownLinkOptions=n.dropdownLinkOptions?_.cloneDeep(n.dropdownLinkOptions):[{id:this.labelModeId,label:ecount.resource.LBL08019},{id:this.codeModeId,label:ecount.resource.BTN00357}]},initializeViewOptions:function(){_.extend(this.__viewOptions,{label:this.label,labelModeId:this.labelModeId,codeModeId:this.codeModeId})},onInitState:function(n,t,i){var r,f,u,o,e;for(ecount.control.codes.prototype.onInitState.apply(this,arguments),r=i.codes||[],!r.length&&this.defaultLabel&&this.defaultValue&&r.push({cid:this.id,label:this.defaultLabel,value:this.defaultValue}),t.selectedItems=[],t.additionalData=i._additionalData||{},f=r.map(function(n){return this._getSelectedItemData(n)}.bind(this)),u=0,o=f.length;u<o;u++)e=f[u],this.isExistItem(e)||t.selectedItems.push(e);this.hasLabelMode&&(_.extend(this.__state,{linkoptions:this.dropdownLinkOptions,mode:this.modeDefaultValue}),_.extend(this.__originData,{linkoptions:this.dropdownLinkOptions,mode:this.modeDefaultValue}))},onInitComponents:function(n,t){ecount.control.prototype.onInitComponents.apply(this,arguments);_.merge(this.__originData,{selectedItems:_.cloneDeep(t.selectedItems)})},onInitComponent:function(n,t,i,r,u){ecount.control.codes.prototype.onInitComponent.apply(this,arguments);r["style.css"]=r.ecRole==="code.sidelabel"?"":"form-control form-control-code noneEvent";r["attr.disabled"]=u._readOnly||!this.getState(this._IT_SELF,"opt.enableLabelInput")&&this.getState(this._IT_SELF,"opt.disabledInputbox")},onInitFunction:function(n,t){ecount.control.codes.prototype.onInitFunction.apply(this,arguments);var i=t.functions;i.more={cid:this.id,ecFunction:"button",ecFunctionId:"code.more","opt.isExpanded":!1};i.modeSelector={ecFunction:"link",ecService:"layer.dropdown",ecServiceAttr:"layer.fixed",cid:this.id,label:this.dropdownLinkOptions.first(function(n){return n.selected}).label,"attr.href":"javascript:;","style.display":this.hasLabelMode};ecount.runtime.observe("code.reflowItemList",this.ecIKey,function(n){this.setState("more","opt.isExpanded",n.isExpanded);this.onAfterViewChange()}.bind(this))},onInitExtractComponent:function(){var n=this.extractData.codes.length?this.extractData.codes:this.extractData.__state.selectedItems.map(this._getMinimunCodeData.bind(this))||[];this._setCodeFromExternalData(n)},getValue:function(){return this.hasLabelMode?[this.getLabel(),this.getSelectedItem()]:this.getSearchKeyword()},getComponentValue:function(n){return this.hasLabelMode?this.getState(n,"value"):this.getSearchKeyword()},getLabel:function(){return this.__state.mode},setLabel:function(n){this.setState("modeSelector","label",n)},setFocus:function(n){if(this.getState(this._IT_SELF,"mode")==this.labelModeId){if(n==0)this.ecview&&this.ecview.setFocusToSelector(!0);else this.onNextFocus(0);return}ecount.control.codes.prototype.setFocus.apply(this,arguments)},setModeActive:function(n){var i=this.getState(this._IT_SELF,"linkoptions"),t;n&&(t=i.map(function(t){return $.extend(t,{selected:!!(t.id==n)})}),this._setModeActive(n,t))},setValue:function(){if(this.hasLabelMode){this._setValueForLabelMode.apply(this,arguments);return}ecount.control.codes.prototype.setValue.apply(this,arguments)},onNextFocus:function(){if(this.getState(this._IT_SELF,"mode")==this.labelModeId){this.setFocusOutTrigger();return}ecount.control.codes.prototype.onNextFocus.apply(this,arguments)},addCode:function(n,t,i){var n=this._getSelectedItemData(n),r=this.isExistItem(n),f=!t&&(!r||r&&i),u;if(!r){if(!this.isSelectableCount(1))if(u=this.getMaxCount(),this.onFocusOut(),u==1)this.removeAll(!0);else{ecount.alert(String.format(ecount.resource.message.MAXCOUNT,this.isCheckBoxDisplayFlag?this.checkMaxCount:1),{target:this,uniqKey:"onMaxCountExceeded"});return}this.beforeAddCodeCallback(n.value,n)?this.beforeAddCodeCallbackValidAction(n.value,n):this.beforeAddcodeCallbackInvalidAction(n.value,n);this.setState(this._IT_SELF,"selectedItems",this.getState(this._IT_SELF,"selectedItems").concat([n]))}f&&this.executeChangeDelegator({messageObj:i,action:"addCode",isDuplicated:r,args:[_.cloneDeep(n),!0]});this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"))},removeCode:function(n,t){if(n!==undefined){this.isAddAsteriskCode&&(this.isAddAsteriskCode=!1);var r=this.getState(this._IT_SELF,"selectedItems"),u,i;r&&r.length&&(u=this.__state.selectedItems.filter(function(t,i){return i!=n}),i=this.__state.selectedItems[n],this.setState(this._IT_SELF,"selectedItems",u),!t&&i&&this.executeChangeDelegator({action:"removeCode",args:[i.value,i.label]}))}},removeAll:function(n){var t=this.getSelectedItem();this.isAddAsteriskCode&&(this.isAddAsteriskCode=!1);this.setState(this._IT_SELF,"selectedItems",[]);this.adjustItemContainer(!0);n&&!this.isInGridWithoutCombineParent()&&this.executeChangeDelegator({action:"removeCodesAll",removeItems:arguments&&arguments.length>1?arguments[1]:t,args:[!1]})},resetKeyword:function(){this.resetInputField();this.afterResetKeywordAction()},resetInputField:function(){this.isInGridWithoutCombineParent()||this.setState(0,"value","")},changeCodeIfValid:function(n){this.disableDelegatorExecution();this.removeAll();$.isArray(n)&&this.addCodes(n,!0);this.enableDelegatorExecution()},executeChangeDelegator:function(n){var t;n=n||{};var r=n&&n.ecEvent?n.ecEvent:undefined,u=n&&n.event?n.event:undefined,f=this._getDefaultDelegatorInfo(r,u),i={};(n.messageObj&&(t=n.messageObj,i={gridDataKey:t.gridDataKey,gridColumnID:t.gridColumnID,gridSectionType:t.gridSectionType}),this.isAbleToExecuteDelegator())&&(this.delegator&&this.delegator.triggerEvent("control.change",_.merge(f,{type:"control.change",value:this._getValueForDelegate(n),preventTriggerEvent:n?n.preventTriggerEvent:undefined},n,i)),this.pcid&&this.executeParentChangeDelegator&&(_.merge(n,{cid:this.cid}),this.executeParentChangeDelegator(n)))},_getSelectedItem:function(){return this.getState(this._IT_SELF,"selectedItems").map(this._getMinimunCodeData.bind(this))},getSelectedItem:function(){return this._getSelectedItem()},getSelectedCode:function(){return this.getState(this._IT_SELF,"selectedItems").map(function(n){return n.value||n.code})},getSelectedLabel:function(){return this.getState(this._IT_SELF,"selectedItems").map(function(n){return n.originLabel||n.label})},getRawDataOfSelectedItem:function(){return _.cloneDeep(this.getState(this._IT_SELF,"selectedItems"))},getLayerDropdownOption:function(n,t){return $.extend(this.getLayerDefaultOption(n,t),{boundary:this.getFunctionBoundary(n.ecFunction),showingUpDelay:0,ownerKey:this.ecIKey,items:this.getState(this._IT_SELF,"linkoptions")||[],baseType:!0})},getLayerAutocompleteOption:function(){return _.merge(ecount.control.codes.prototype.getLayerAutocompleteOption.apply(this,arguments),{isSingleCode:!1})},getMaxCount:function(){return this.isCheckBoxDisplayFlag?this.checkMaxCount:1},setMaxCount:function(n){this.checkMaxCount=n},isSelectableCount:function(n){return this.checkMaxCount?this.__state.selectedItems.length+(n||0)<=this.getMaxCount():!0},isExistItem:function(n){for(var r=this.__state.selectedItems,u={value:n.value,label:n.label},t=0,f=r.length,i;t<f;t++)if(i=r[t],isExits=this.compareKeyCode(_.merge({value:i.value},i),u),isExits)return!0;return!1},isEmpty:function(){return!this.__state.selectedItems.length},toggleRemoveButton:function(n){this.pendingViewUpdate(!0);this.setState("removeall","style.display",n);this.setState(0,"style.inputborder",!n);this.pendingViewUpdate(!1);this.batchUpdateView()},reflowContainer:function(){this.ecview&&(this.getSelectedItem().length&&this.ecview.displayFunctions(),this.getState("more","opt.isExpanded")&&this.toggleItemList(!0))},isItemListExpanded:function(){return this.ecview?this.ecview.isItemListExpanded():!1},isAllItemHidden:function(){if(!this.ecview)return!1;this.ecview.isItemListHidden()},adjustItemContainerOnRenderComplete:function(){ecount.runtime.observingOnce("code.adjustContainer",this.ecIKey,this.executeAdjustContainerDelegator.bind(this))},adjustItemContainer:function(n){this.ecview&&(this.getSelectedItem().length&&this.toggleItemList(!0),(n||this.isItemListExpanded())&&this.executeAdjustContainerDelegator())},toggleItemList:function(n){if(!this.ecview)return!1;this.ecview.toggleItemList(n);this.ecview.changeButtonVisibility()},clearReflowSetTimeout:function(){if(!this.ecview)return!1;this.ecview.clearReflowSetTimeout()},executeAdjustContainerDelegator:function(){this.containerName==widget.generator.HEADER?this.delegator&&this.delegator.triggerEvent("page.adjustHeaderSearchDimensions"):this.delegator&&this.delegator.triggerEvent("page.adjustContentsDimensions");this.onAfterViewChange()},checkValidate:function(n,t){var i=n||[],r=this.getSelectedCode().join("");return(i.length==1&&i[0]=="required"||i=="required")&&this.getLabel()==this.labelModeId?[]:ecount.validator.validate(r,i,t)},getResetState:function(){return this.getOriginState(["opt.dualStep","selectedItems","attr.checked","linkoptions"])},getSyncData:function(){var n=ecount.control.codes.prototype.getSyncData.call(this);return _.merge(n,{data:n.data.concat(this.getExtractState(["opt.dualStep","selectedItems","linkoptions"],!0)).concat(this.getExtractState(["attr.checked","value"]))})},setDataToItem:function(n,t,i){var r=this.getState(this._IT_SELF,"selectedItems").first(function(t){return t.value===n});r&&(r[t]=i)},save:function(){if(this.getComponentsByAttr("ecRole")==="code.sidelabel")var n=this.getCheckLabelStatus()?"1":"0";return{key:this.id,value:{code:this.getSelectedItem(),dualStep:this.getDualStep(),additionalData:this.getAdditionalData(),data:this.__state.components.clone(!0),mode:this.__state.mode,linkOptions:_.cloneDeep(this.getState(this._IT_SELF,"linkoptions")||[]),funcs:_.extend({},this.getState(this._IT_SELF,"functions")),label:n}}},restore:function(n){var s=n.dualStep,i=n.code.map(function(n){return _.extend(n,{label:n.label.unescapeHTML()})}).map(this._getSelectedItemData.bind(this)),h=n.additionalData||{},c=this.getState("more","opt.isExpanded"),r,o;if(n.data){var t=n.data.clone(!0),u=n.mode,f=n.linkOptions,e=$.extend({},n.funcs);_.isArray(t)&&(t=t.map(function(n){return delete n["attr.placeholder"],n}));this.__state=$.extend(!0,{},this.__state,{components:t,functions:e,mode:u,linkoptions:f});this.updateEcViewWithTransaction({components:t,functions:e,mode:u,linkoptions:f})}for(this.__state=_.merge({},this.__state),this.__state.selectedItems=i,this.__state.additionalData=h,this.adjustItemContainerOnRenderComplete(),this.updateEcViewWithTransaction({selectedItems:i}),this.clearReflowSetTimeout(),this.toggleItemList(!1),this.restoreSideLabel(n.label),this.setDualStepByData(s),r=0,o=i.length;r<o;r++)this.executeChangeDelegator({args:[this._getSelectedItemData(i[r]),!0]})},serialize:function(n){var t=ecount.control.codes.prototype.serialize.apply(this,arguments),i=this._serializeCustomizer(this);return i&&(t=customized),this._getSerializedValue(n,t)},toggleContainerHeight:function(n){(this.toggleItemList(n),this.isInGridWithoutCombineParent())||this.delegator&&this.delegator.triggerEvent("page.adjustHeaderSearchDimensions")},beforeAddCodeCallbackValidAction:function(n,t){t["opt.isvalid"]=!0},beforeAddcodeCallbackInvalidAction:function(n,t){t["opt.isvalid"]=!1},selectOnly:function(n){n?(this.setState(this._IT_SELF,"mode",this.codeModeId),this.setState("modeSelector","style.display",!1)):this.setState("modeSelector","style.display",!0)},destroy:function(){ecount.runtime.stopObserving("code.reflowItemList",this.ecIKey,{ecPageID:this.ecPageID});ecount.runtime.stopObserving("code.adjustContainer",this.ecIKey,{ecPageID:this.ecPageID});ecount.control.codes.prototype.destroy.apply(this,arguments)},onClickHandler:function(n,t,i){if(n.ecFunction=="autocomplete"){this._addCodeByAutoComplete(i.itemList[i.selectedIndex]);return}switch(n.ecRole){case"code.removeitem":this.removeCode(n.ecRoleIndex);break;case"code.itemlabel":this.onItemLabelFocusInHandler(n,t,i);default:return!1}},onClickButtonHandler:function(n,t,i,r){ecount.control.codes.prototype.onClickButtonHandler.apply(this,arguments);var u=n.ecFunctionId;switch(u){case"code.openpopup":this.onSearchBtnClickHandler(n,t,r);break;case"code.more":this.toggleContainerHeight();break;case"code.removeall":this.removeAll(!0);this.afterRemoveButtonClickAction()}},onLayerClickHandler:function(n,t,i,r){if(r.type=="dropdown.click"){if(r.originId===this.codeModeId){this._beforeChangeDropdown(r,i,this._modeChangeHandler.bind(this,n,t,i,r));return}this._modeChangeHandler(n,t,i,r);return}n.ecFunction=="autocomplete"&&this._addCodeByAutoComplete(r.itemList[r.selectedIndex]);this.setValueFromLayer(n,t,i,r)},setValueFromLayer:function(n,t,i,r){r.type==ecount.layer.constValue.RECOMMENDDROPDOWN&&r.value&&r.value.length&&(ecount.control.prototype.removeDropdownLayer.apply(this,arguments),this.addCodes(r.value))},onFocusInHandler:function(n){serviceKey=this.getLayerServiceKey(n);serviceKey&&(ecount.layer.removeLayer(serviceKey),this.hasError()||this.resetInputField());this.toggleContainerHeight(!0)},onKeyInputHandler:function(n,t){this.useAsteriskMode&&t.shiftKey&&n.which==56&&(this.disableValueSetting=!0,ecount.global.setTimeout(this.ecPageID,function(){this._isAsteriskMode(n.value)&&(this.disableValueSetting=!1)},1));this.setFilteredValueToComponent(n.value,n.cindex)},onItemLabelFocusInHandler:function(n){var t=this.getState(this._IT_SELF,"selectedItems")[n.ecRoleIndex];this._editable&&($.isEmpty(t.value)||n.text==t.value||(this.ecview&&this.ecview.changeEditableItemContent(n.ecRoleIndex,t.value),this.adjustItemContainer(!0)))},onItemLabelFocusOutHandler:function(n){if(this._editable){var i=this.getState(this._IT_SELF,"selectedItems"),t=i[n.ecRoleIndex];if(!t)return;ecount.global.setTimeout(this.ecPageID,function(){var i=this.getState(this._IT_SELF,"selectedItems");nextTickItem=i[n.ecRoleIndex];nextTickItem.value==t.value&&nextTickItem.label==t.label&&this._setDirectInputToItem(n)}.bind(this),0)}},onItemLabelEnterHandler:function(n){this._editable&&this._setDirectInputToItem(n)},resetData:function(){return this.resetInputField(),!0},reset:function(){ecount.control.codes.prototype.reset.apply(this,arguments);this.hasError()||this.resetInputField()},setEditable:function(n){this.setState(this._IT_SELF,"opt.editable",$.isBoolean(n)?n:!0)},_isExceptionOfReadOnly:function(n){return n.handler==ECountEvent.Type.CLICK_BUTTON&&n.ecFunctionId=="code.more"},_getSerializedValue:function(n,t){var i=this.getComponents().find(function(n){return n.ecRole=="code.sidelabel"}),r=i&&!i["opt.notVisible"];return(r||!$.isNull(this.getDualStep()))&&(t=[t],r&&t.push({key:(n||this.name)+"_CHK",value:this.getState(1,"attr.checked")===!0?"1":"0"}),$.isNull(this.getDualStep())||this.serializeDualStep===!1||t.push(this._getDualStepInfoForSerialize(n))),this.hasLabelMode&&($.isArray(t)||(t=[t]),t[0].key=(n||this.name)+"_CODE",t.push({key:(n||this.name)+"_DROPDOWN",value:this.getLabel()})),t},_getDualStepInfoForSerialize:function(n){var t=this.getDualStep();return{key:(n||this.name)+"_DUALSTEP",value:$.isNull(t)?"":t,resetItemValue:""}},_getSelectedItemData:function(n,t){var f=t&&t.name?t.name:this.labelColumn,e=t&&t.code?t.code:this.valueColumn,r=(n.label||n[f]||"").toString(),o=this._useSafeEscape?r.unescapeHTML().escapeHTML():r.escapeHTML(),u=n.value==undefined?n[e]:n.value,i,s=n.CSS||"";return i=$.isNull(t)||$.isNull(t.data)||$.isNull(this.bgColorColumn)?(n.bgColor||n[this.bgColorColumn]||"").toString().escapeHTML():t.data[this.bgColorColumn]||"",/#(\w{1})\1{2}\b/.test(i)&&(i=i+i.replace("#","")),_.extend({cid:this.id,label:o,originLabel:r,value:u,isUseTooltip:this.isUseTooltip,rawData:n,"style.css":s||this.itemCss,"style.backgroundcolor":i,"style.isfixed":!1,"opt.editable":!!this._editable,"opt.tooltipmsg":this.isUseTooltip?u:"","opt.isvalid":!0},this.addItemExtraData(n))},_setSeachResultDataDirectly:function(n,t){this._beforeAddCodeByMessageAction([n.data],n,function(){this.resetInputField();this._addCodeByMessage([n.data],n);this.isInGridWithoutCombineParent()&&this.isGridV3?ecount.global.setTimeout(this.ecPageID,this._sendMessage.bind(this,null,n)):this._sendMessage(null,n);this.disableValueSetting=!1;t&&t()}.bind(this))},_setDirectInputToItem:function(n){var r=this.getState(this._IT_SELF,"selectedItems"),t=r[n.ecRoleIndex],i=n.text;if(t&&t.value!=i){var f=t.value,e=t.originLabel,u=_.extend({},t,{value:i,originLabel:i,label:i.escapeHTML()});_.extend(t,u,this.addItemExtraData(u),{isEdited:!0,"opt.tooltipmsg":""});this.beforeAddCodeCallback(t.value,t)?this.beforeAddCodeCallbackValidAction(t.value,t):this.beforeAddcodeCallbackInvalidAction(t.value,t);this.setState(this._IT_SELF,"selectedItems",r,!0);this.executeChangeDelegator({action:"editableItem",args:[{beforeValue:{value:f,label:e},currentValue:{value:t.value,label:t.originLabel}}]})}else this.ecview&&this.ecview.changeEditableItemContent(n.ecRoleIndex,t.label)},_decideFocus:function(){this.setFocus(0)},_setModeActive:function(n,t){var i=t.filter(function(n){return n.selected===!0})[0].label;this.setState("modeSelector","label",i);this.setState(this._IT_SELF,"mode",n);this.setState(this._IT_SELF,"linkoptions",t);this.reflowContainer()},_setValueForLabelMode:function(){var n=arguments[0];$.isArray(n)&&(n.length>0&&this._modeChangeHandler({cid:this.id},{},this,{originId:n[0]}),n.length>1&&this.addCodes(n[1]))},_beforeChangeDropdown:function(n,t,i){i()},_modeChangeHandler:function(n,t,i,r){var f=this.getState(this._IT_SELF,"linkoptions"),u,e,o;(f&&(u=f.first(function(n){return n.id==r.originId}),u&&(e=f.map(function(n){return $.extend(n,{selected:!!(n.id==u.id)})}),this._setModeActive(u.id,e))),_.isEmpty(t)&&_.isEmpty(n.oType))||(o=this._getDefaultDelegatorInfo(n,t),this.delegator&&this.delegator.triggerEvent("control.change",_.merge(o)))},_focusOutFromInputAction:function(n){this.isPreventHideError()||($.isNull(n)&&(n=0),this.disablePopup||this.setState(0,"value",""),this.executeChangeDelegator({value:"",cindex:n}),this.setState(n,"itemList",[]))},_openPopupWithKeyword:function(n){if(this._isAbleToOpenPopup()){var t=this.__state.selectedItems;$.isEmpty(t.value)&&$.isEmpty(t.label)&&this.resetInputField();this._openPopup(n)}},_addCodeByExtractedData:function(n){var t;n.__state?item=n.__state.selectedItem:(t=n.find(function(n){return n[0]==this._IT_SELF&&n[1]=="selectedItems"}.bind(this)),t&&(item=t[2]));this.addCodes([],!1)},_showItemTooltip:function(n){var t;n.ecRole=="code.itemlabel"&&(t=this.__state.selectedItems[n.ecRoleIndex],t.isUseTooltip)},_hideItemTooltip:function(n){var t;n.ecRole=="code.itemlabel"&&(t=this.__state.selectedItems[n.ecRoleIndex],t.isUseTooltip)},_ON_BEFORE_FOCUSIN:function(n){if(n.ecFunction=="link"&&this.getState(this._IT_SELF,"mode")==this.codeModeId){this.setFocus(0);return}return ecount.control.codes.prototype._ON_BEFORE_FOCUSIN.apply(this,arguments)},ON_FOCUSIN:function(n,t,i,r){var u=ecount.control.codes.prototype.ON_FOCUSIN.apply(this,arguments);if(n.ecRole=="code.itemlabel")this.onItemLabelFocusInHandler(n,t,r);return u},_ON_BEFORE_INPUT:function(){return ecount.control.codes.prototype._ON_BEFORE_INPUT.apply(this,arguments)},ON_KEYDOWN_ENTER:function(n,t,i,r){if(this.__state.mode==this.labelModeId){this.setFocusOutTrigger();return}if(n.ecRole=="code.itemlabel"){this._clearAutoCompleteLayer(n,t,r);this.onItemLabelEnterHandler(n,t,r);return}ecount.control.codes.prototype.ON_KEYDOWN_ENTER.apply(this,arguments)},ON_MOUSEOVER:function(n,t,i,r){if(n.ecService&&n.ecService=="layer.dropdown")return!1;this.isUseTooltip&&this._showItemTooltip(n,t,r)},ON_MOUSEDOWN:function(n,t,i,r){return $.isNull(n.cindex)?this.onClickHandler(n,t,r):this.onMousedownHandler(n,t,i,r)},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_LAYER:return this.onLayerClickHandler(n,t,i,r)}return ecount.control.codes.prototype.ON_CLICK.apply(this,arguments)},ON_MOUSEOUT:function(n,t,i,r){this.isUseTooltip&&this._hideItemTooltip(n,t,r)},ON_FOCUSOUT:function(n,t,i,r){if(!this.isInGridWithoutCombineParent()||this.isGridV3){if(!$.isNull(n.cindex)&&n.ecRole!="code.sidelabel"&&!$.isEmpty(n.value))this.onFocusOutHandler(n,t,r);if(n.ecRole=="code.itemlabel")this.onItemLabelFocusOutHandler(n,t,r);this.resetInputByOpenPopup&&(this.resetInputByOpenPopup=!1)}}});ecount.class("ecount.control.view.codes.c01","ecount.control.view.codes",{template:"",_defaultCss:null,wrapperTemplate:'<div class="{{style.wrapper}} {{style.css}} {{style.display}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}">((this.template))<\/div>',modeSelectorTemplate:'<a href="{{attr.href}}" data-cid="{{cid}}" class="{{style.display}}" data-service="{{ecService}}" data-service-attr="{{ecServiceAttr}}" data-function="{{ecFunction}}">{{label}}<\/a>',moreTemplate:'<button class="btn btn-default btn-ellipsis btn-vertical-top hidden" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>',itemTemplate:'<span class="tag label label-light {{style.css}}" {{style.backgroundcolor}} data-label="{{label}}"><span data-cid="{{cid}}" data-role="code.itemlabel" data-role-index={{index}} {{opt.editable}} {{opt.tooltipmsg}}>{{label}}<\/span><button class="tag-remove{{style.isfixed}}" data-cid="{{cid}}" data-role="code.removeitem" data-role-index={{index}} data-value={{value}}><\/button><\/span>',tagStringRegx:/[&lt;|&gt;]/g,labelModeId:null,codeModeId:null,reflowSetimeoutId:null,$condContainer:null,onInitTemplate:function(n,t){return n=this.getOwnTemplate(t),this._defaultCss=t["opt.addontitle"]?"wrapper-toolbar":"",n=n.replace(/{{cid}}/g,t.cid),n=n.replace("{{codeSearchInput}}",ecount.widget.replaceAttr(this.searchTemplate,t)),n=n.replace("{{sideLabelCode}}",this.getSideLabelCodeTemplate(t)),n.replace("{{selectedItemList}}",this.getSelectedItemTemplate(t.selectedItems))},onInitWrapperTemplate:function(n,t){return ecount.widget.replaceAttr(n,{isWholeRow:t.isWholeRow?"whole-row":"","style.css":t.wrapperCss?t.wrapperCss:""})},set$El:function(){ecount.control.view.prototype.set$El.apply(this,arguments);this.$condContainer=null},getOwnTemplate:function(n){return n.codeType!=9?this._getTemplateForForm(n):this._getTemplateForGrid(n)},_getTemplateForForm:function(n){var t='[[modeSelector]]\n<div class="hidden" data-role="code.wrapper">\n{{code.wrapper.contents}}\n<\/div>\n{{code.wrapper.siblings}}',i=["[[openpopup]]",'<div class="tags-input" data-cid="{{cid}}">','<div class="input-height-fixed" data-role="height.decider" data-cid="{{cid}}">',"<div>",'<div class="tags-input-typeahead">',"{{codeSearchInput}}","<\/div>","<\/div>","<\/div>","<\/div>","[[more]]","[[removeall]]","[[codeCaretDropdown]]","[[fn]]","{{sideLabelCode}}",].join("\n"),r=!!(n.mode===(n.labelModeId||"A"));return r?t.replace("{{code.wrapper.contents}}",i).replace("{{code.wrapper.siblings}}",""):t.replace("{{code.wrapper.contents}}","").replace("{{code.wrapper.siblings}}",i)},_getTemplateForGrid:function(n){var t='[[modeSelector]]\n<div class="hidden" data-role="code.wrapper">\n{{code.wrapper.contents}}\n<\/div>\n{{code.wrapper.siblings}}',i=["[[openpopup]]",'<div class="tags-input" data-cid="{{cid}}">','<div class="input-height-fixed" data-role="height.decider" data-cid="{{cid}}">',"{{codeSearchInput}}","<\/div>","<\/div>","[[more]]","[[removeall]]","[[codeCaretDropdown]]","[[fn]]","{{sideLabelCode}}",].join("\n"),r=!!(n.mode===(n.labelModeId||"A"));return t.replace("{{code.wrapper.contents}}","").replace("{{code.wrapper.siblings}}",i)},_getCodeContainer:function(){if(this.$condContainer)return this.$condContainer;if(this.$el){var n=this.$el.find('[data-role="code.container"]');if(n.length)return this.$condContainer=n}},getSelectedItemTemplate:function(n){var f,r,o,t,e,u,s,i;if(!n||!n.length)return"";for(f=[],r=0,o=n.length;r<o;r++)t=n[r],i=this.itemTemplate,$.isString(t["style.backgroundcolor"])&&t["style.backgroundcolor"].length>0&&(e=t["style.backgroundcolor"].substring(0,1)=="#"?t["style.backgroundcolor"]:"#"+t["style.backgroundcolor"],u=ecview.util.getContrastColor(e),s=["background-color:",e,";",$.isString(u)&&u.length>0?"color:"+u+";":""],t["style.backgroundcolor"]='style="'+s.join("")+'"',i=i.replace("label-light","")),t.index=r,t["opt.editable"]=t["opt.editable"]?"contenteditable":"",t["style.css"]=t["style.css"]?t["style.css"]:"",t["style.isfixed"]=t["style.isfixed"]?" hidden":"",t["opt.tooltipmsg"]=t.isUseTooltip&&t["opt.tooltipmsg"]&&t["opt.isvalid"]?'data-original-title="'+t["opt.tooltipmsg"]+'"':"",i=ecount.widget.replaceAttr(i,t),f.push(i);return f.join(" ")},toggleMoreBtn:function(n){var t=this.$el.find('[data-function-id="code.more"]');t.hasClass("hidden")==n&&(n?t.removeClass("hidden"):t.addClass("hidden"));this.setBorderRadius()},toggleItemList:function(n){var t=this.$el.find('[data-role="height.decider"]');n===undefined?(n=t.hasClass("input-height-fixed"),t.toggleClass("input-height-fixed")):n?t.removeClass("input-height-fixed"):t.addClass("input-height-fixed");ecount.runtime.notify("code.reflowItemList",this.$el[0].ecIKey,{ecPageID:this.ecPageID,ecIKey:this.$el[0].ecIKey,isExpanded:n})},beforeMount:function(n){ecount.control.view.codes.prototype.beforeMount.apply(this,arguments);this.labelModeId=n.labelModeId;this.codeModeId=n.codeModeId},onMount:function(){this._bindTooltip()},isRemoveBtnDisplayed:function(){return this.$el&&!this.$el.find('[data-function-id="code.removeall"]').hasClass("hidden")},isRemoveBtnNeeded:function(){var u=this._getCodeContainer(),r,n,f,t,i,e;if(u)for(r=u.get(0),n=0,f=r.childElementCount;n<f;n++)if(t=r.children[n],t.getAttribute("data-label")!==null)for(i=0,e=t.childElementCount;i<e;i++)if(t.children[i].getAttribute("data-role")!=="code.removeitem")return!0;return!1},isMoreBtnDispalyed:function(){return!this.$el.find('[data-function-id="code.more"]').hasClass("hidden")},isMoreBtnNeeded:function(){return this.$el&&(this.isItemListExpanded()||this.isItemListOverflow())},isItemListExpanded:function(){var n=this._getCodeContainer(),t;return n?(t=n.get(0).offsetHeight,t>35):!1},isItemListOverflow:function(){var n=!1;return this.$el.is(":visible")?(this.$el.find('[data-role="code.container"] [data-label]').has("button:visible").each(function(){if(!$(this).is(":visible")){n=!0;return}}),n):!1},isAllItemHidden:function(){var n,t,i,r;return this.$el.is(":visible")?(n=this.$el.find('[data-role="height.decider"]'),t=n.width(),i=n.find('input[type="text"]').outerWidth(),r=this.$el.find('[data-role="code.container"] [data-label]').has("button:visible").filter(":first").outerWidth(),t-(i+r)<0):!1},toggleContainer:function(n){this.toggleItemList(n)},displayFunctions:function(){this.isRemoveBtnDisplayed()||this.toggleRemoveBtn(!0);!this.isMoreBtnDispalyed()&&this.isMoreBtnNeeded()&&this.toggleMoreBtn(!0);this.isAllItemHidden()&&this.toggleItemList(!0)},changeEditableItemContent:function(n,t){var i=this._getCodeContainer();i&&($item=i.find('span[data-role="code.itemlabel"][data-role-index='+n+"]"),$item.text()!=t&&$item.text(t))},reflowContainer:function(){this.reflowCodeContainer()},reflowCodeContainer:function(){this.reflowSetimeoutId=ecount.global.setTimeout(this.ecPageID,function(){this.changeButtonVisibility();this.reflowItemList();ecount.isIE&&window.document.activeElement==null&&window.document.body.focus();ecount.runtime.notify("code.adjustContainer",this.$el[0].ecIKey,{ecPageID:this.ecPageID})}.bind(this),0)},clearReflowSetTimeout:function(){this.clearSetTimeout(this.reflowSetimeoutId)},clearSetTimeout:function(n){n&&ecount.global.clearTimeoutByTimerNo(this.ecPageID,n)},changeButtonVisibility:function(){var t=this.isRemoveBtnNeeded(),n;this.toggleRemoveBtn(t);n=this.isItemListExpanded();this.toggleMoreBtn(n)},reflowItemList:function(){var n=this.isItemListExpanded();this.toggleItemList(n)},_bindTooltip:function(){var n=this.$el.find('[data-role="code.itemlabel"][data-role-index]');n.each(function(n,t){var u,i,r;(u=t.getAttribute("data-original-title"))&&(i=$(t),r=i.closest(".ui-dialog"),i.attr("data-popoverindex",n),ecount.popover.create(i,{container:r.length?r:"body",delay:{show:400,hide:0},html:!0,placement:"auto",title:u,trigger:"hover",type:"tooltip"}))})},_unbindTooltip:function(){var n=this.$el.find('[data-role="code.itemlabel"][data-role-index]');n.each(function(n,t){ecount.popover.destroy($(t),"tooltip")})},onChangeMode:function(n,t){var i=this.$el.find('div[data-role="code.wrapper"]'),r;t===this.labelModeId?(r=i.parent().children().slice(i.index()),i.append(r)):i.after(i.children());this.setBorderRadius()},onChangeLinkoptions:function(n,t){var i=t.first(function(n){return n.selected==!0});i&&this.$el.find("[data-function=link]").html(i.label)},onChangeStyleDisplayModeSelector:function(n){this.$el.find("[data-function=link]").toggleClass("hidden",!n)},onChangeLabelModeSelector:function(n){this.$el.find("[data-function=link]").text(n)},setFocusToSelector:function(n){var t=this.$el.find("[data-function=link]");n?t.trigger("mousedown").focus():t.blur()},onChangeSelectedItems:function(n,t){var e=this._getCodeContainer(),r,u,o;if(this._unbindTooltip(),e){var s=this.$el.get(0).ecIKey,i=e.get(0),f=[];for(r=0,u=i.childElementCount;r<u;r++)i.children[r].getAttribute("data-label")!==null&&f.push(i.children[r]);for(i.className+=" hidden",this.$el.get(0).ecIKey=null,r=0,u=f.length;r<u;r++)o=f[r],i.removeChild(o);i.innerHTML=[i.innerHTML,this.getSelectedItemTemplate(t)].join(" ");i.className=i.className.replace(/\s?hidden\s?/g,"");this.$el.get(0).ecIKey=s;this._bindTooltip();this.reflowCodeContainer()}},onChangeAttrChecked:function(n,t){this.getElements(n).attr("checked",t)}});ecount.class("ecount.control.codes.c04","ecount.control.codes",{ecPackage:"ecount.control.codes.c04",singleCode:!0,codeType:1,isCheckBoxDisplayFlag:!1,checkMaxCount:1,labelCompIndex:0,valueCompIndex:1,requiredLabel:!1,_enableDirectInput:!1,_maxlengthOfCodeName:50,labelContainsType:"name",valueContainsType:"search",initializeOptions:function(n){ecount.control.codes.prototype.initializeOptions.apply(this,arguments);var t=[4,6,7,10].contains(+this.codeType);_.merge(this,{_maxlengthOfCodeName:n._maxlengthOfCodeName,_enableDirectInput:n._enableDirectInput,requiredLabel:n.requiredLabel,executeChangeOnRemove:n.executeChangeOnRemove,labelCompIndex:Number(!t),valueCompIndex:Number(t),labelContainsType:n.labelContainsType||this.labelContainsType,valueContainsType:n.valueContainsType||this.valueContainsType})},onInitState:function(n,t,i){ecount.control.codes.prototype.onInitState.apply(this,arguments);var r=[];_.merge(t,{recommendValue:i.recommendValue||{},useRecommendOption:i.useRecommendOption||!1,"opt.isAbleToDirectCodeInput":!!(i._enableDirectInput||i._enableDirectInput==undefined&&this._enableDirectInput),"opt.isAbleToDirectLabelInput":!!(i._enableDirectInput||i._enableDirectInput==undefined&&this._enableDirectInput)||!!(i.disableLabelInput===!1||this.disableLabelInput===!1)});i.codes&&i.codes.length&&i.codes[0]&&(r=i.codes.map(function(n){var t=n.label===""&&n.value==="";return _.extend({label:!t&&!$.isNull(n.label)?n.label:this._getEmptyValue(),value:!t&&!$.isNull(n.value)?n.value:this._getEmptyValue()},this.addItemExtraData(n))}.bind(this)));!i.codes&&this.defaultLabel&&this.defaultValue&&r.push({label:this.defaultLabel,value:this.defaultValue});r.length||r.push({label:this._getEmptyValue(),value:this._getEmptyValue()});_.merge(this.__state,{selectedItem:this._getSelectedItemData(r[r.length-1])})},onInitComponents:function(n,t){ecount.control.codes.prototype.onInitComponents.apply(this,arguments);_.merge(this.__originData,{selectedItem:_.cloneDeep(t.selectedItem)})},onInitComponent:function(n,t,i,r,u){ecount.control.codes.prototype.onInitComponent.apply(this,arguments);var o=this.getState(this._IT_SELF,"opt.isAbleToDirectLabelInput"),e=i.selectedItem,f=this.isSingleInputType(),s=this.isLabelDisplayOnly();t==this.labelCompIndex?(r["validate.containstype"]=this.labelContainsType,r.value=this._isEmptyValue(e.label)?"":e.label,r.ecLazyService=u.isFromFavoriteCode||u.useRecommendOption?"layer.recommenddropdown":"",r.ecServiceAttr=u.isFromFavoriteCode||u.useRecommendOption?ecount.layer.constValue.FOCUSABLE:"",r["style.css"]=this.codeType==8?" form-control form-control-code":!f&&u._readOnly?"form-control":"form-control",r["attr.readonly"]=!!(!o&&!f),r["attr.disabled"]=r["attr.disabled"]||!!(!o&&this.getState(this._IT_SELF,"opt.disabledInputbox")),o&&!f&&(r["opt.maxlength"]=this._maxlengthOfCodeName),(u._inline||this.codeType==8||u._isSmall)&&(r["style.css"]+=" textbox-inline flex-none"),f&&!s&&(r["style.display"]=!1)):(r["validate.containstype"]=this.valueContainsType,r.value=this._isEmptyValue(e.value)?"":e.value,r.ecLazyService=u.isFromFavoriteCode||u.useRecommendOption?"layer.recommenddropdown":"",r.ecServiceAttr=u.isFromFavoriteCode||u.useRecommendOption?ecount.layer.constValue.FOCUSABLE:"",r["style.css"]=this.codeType==8?"noneEvent form-control form-control-code textbox-inline":"noneEvent form-control form-control-code",f&&s&&(r["style.display"]=!1))},getInitDataComponents:function(n,t,i){if(i.data){var r=_.cloneDeep(i.data);return r=r.map(function(n){return _.extend(n,{itemList:this.hasCodeComplete?[]:undefined,ecService:this.hasCodeComplete?"layer.autocomplete":"",ecLazyService:i.isFromFavoriteCode||i.useRecommendOption?"layer.recommenddropdown":"",ecServiceAttr:i.isFromFavoriteCode||i.useRecommendOption?ecount.layer.constValue.FOCUSABLE:""})}.bind(this)),r.length>1?r:r.concat({value:r[0].value})}return[]},getInitComponents:function(n,t,i){var r={value:"",label:""};return i.codes&&i.codes.length&&i.codes[0]&&(r.value=i.codes[0].value,r.label=i.codes[0].label),this._getComponentFormat(n,t,i).map(function(n){var t;switch(n){case"label":t=this._getLabelCompFormat(r,i);break;case"value":t=this._getValueCompFormat(r,i);break;default:t={}}return t}.bind(this))},onInitFunction:function(n,t){ecount.control.codes.prototype.onInitFunction.apply(this,arguments);var i=t.selectedItem;t.functions.removeall["style.display"]=!!(this.isRemoveBtnAttachedType()&&!this._isEmptyValue(i.label)&&!this._isEmptyValue(i.value))},onInitExtractComponent:function(n,t,i){function r(n,i){this.extractData.codeType!==undefined&&(n.codeType=this.extractData.codeType);n._addonTitle=t["opt.addontitle"];this._initializeOptions(n,i);this._initializeAdditionalOption(n);this._initializeViewOptions(n,i);this._initializeState(n,i);this._onInitState(i,this.__state,n);this.onInitComponents(i,this.__state,n);this.onInitFunctions(i,this.__state,n)}if(t.selectedItems)i.codes=t.selectedItems,r.call(this,i,n);else{this.extractData&&this.extractData.codeType&&this.codeType!=this.extractData.codeType&&r.call(this,i,n);var u=this.extractData.codes.length?this.extractData.codes:this.extractData.__state.selectedItem.map(this._getMinimunCodeData.bind(this))||[];this._setCodeFromExternalData(u)}},_getMinimunCodeData:function(n){return{label:n.originLabel||n.label||this._getEmptyValue(),value:n.value||n.code||this._getEmptyValue()}},_setCodeFromExternalData:function(n){if(n){for(var t=0,i=n.length;t<i;t++)n[t].label===""&&n[t].value===""&&(n[t]=this._getMinimunCodeData(n[t]));this.disableStateObserving();this.removeAll(!1);this.addCodes(n);this.enableStateObserving()}},_moveFocusOnNoValueStatus:function(n){var i=this.getState(this._IT_SELF,"selectedItem"),t=!this.isEmpty();n==this.labelCompIndex?t||this.setFocus(0):t&&(this.removeCode(null,!0),this.setFocusOutTrigger())},onNextFocus:function(n){var r=this.getState(this.labelCompIndex,"value"),u=this.getState(this.valueCompIndex,"value"),t=n+1,i=this.getComponent(t);this.isAbleToDirectCodeInput()||this.requiredLabel?i?this.setFocus(t):this.setFocusOutTrigger():this.setFocusOutTrigger()},addCode:function(n,t,i,r){var s=this.isInGridWithoutCombineParent(),e,o,u,f,h;n&&(n=this._getSelectedItemData(n),e=this._isEmptyValue(n.label),o=this._isEmptyValue(n.value),u=$.isEmpty(n.label),f=$.isEmpty(n.value),h=e&&o||u&&f,r===!0||this.isAbleToDirectCodeInput()||!h||s)&&(this.setState(this.labelCompIndex,"value",u?"":n.label),this.setState(this.valueCompIndex,"value",f?"":n.value),this.setState(this._IT_SELF,"selectedItem",n),this.isRemoveBtnAttachedType()&&(e||o||u&&f?this.setState("removeall","style.display",!1):this.setState("removeall","style.display",!0)),this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate")),s?i&&!t&&this._executeAddCodeDelegator(i):t||this._executeAddCodeDelegator(i),this.setState(this.valueCompIndex,"opt.selectRange",!1),this.setState(this.labelCompIndex,"opt.selectRange",!1))},addPopupOpenParam:function(){},removeCode:function(n,t){this.isAddAsteriskCode&&(this.isAddAsteriskCode=!1);this.setState(this.labelCompIndex,"opt.selectRange",!1);this.setState(this.valueCompIndex,"opt.selectRange",!1);this.setState(this._IT_SELF,"opt.hasSingleSearchResult",!1);var i=this.getComponent(0).value;(this.resetInputField(),this.isEmpty())||(this.setState(this._IT_SELF,"selectedItem",{label:"",value:""}),this.setState("removeall","style.display",!1),t||this.executeChangeDelegator({syncHandler:this.removeCode,action:"removeCode",args:[null,!0],keyword:i}))},removeAll:function(n){this.removeCode(null,n)},resetKeyword:function(){var n=this.getState(this._IT_SELF,"selectedItem"),t;if(!this._isEmptyValue(n.label)&&!this._isEmptyValue(n.value)){t=_.cloneDeep(n);this.removeCode(t);this.afterResetKeywordAction(t);return}this.resetInputField();this.afterResetKeywordAction()},resetInputField:function(){this.isInGridWithoutCombineParent()||(this.setState(this.valueCompIndex,"value",""),this.setState(this.labelCompIndex,"value",""))},validate:function(){var n,t,i,r,u,f;return this.isAbleToDirectCodeInput()&&this.getState(this.valueCompIndex,"style.display")&&(i=this.getValue(this.valueCompIndex),r=this.valueContainsType,n=this.validationResult(i,r),n&&n.length>0)?n:this.isAbleToDirectLabelInput()&&this.getState(this.labelCompIndex,"style.display")&&(u=this.getValue(this.labelCompIndex),f=this.labelContainsType,t=this.validationResult(u,f),t&&t.length>0)?t:ecount.control.prototype.validate.apply(this,arguments)},validationResult:function(n,t){var i=[];return!!n&&t&&(i=this._checkContainsType(n,t)),i},checkValidate:function(n,t){var i=[],r=n||[],t=t||"",u=this.dataRulesLabel,f=this.dataRulesLabelMsg,e=this.getState(this.valueCompIndex,"value"),o=this.getState(this.labelCompIndex,"value");return this.isAbleToDirectLabelInput()&&u&&(i=i.concat(ecount.validator.validate(o,u,f))),r&&r.length&&(i=i.concat(ecount.validator.validate(e,r,t))),i},getResetState:function(){return this.getOriginState(["value","opt.dualStep","selectedItem","attr.checked"],["removeall"])},getSyncData:function(){var n=ecount.control.codes.prototype.getSyncData.call(this);return _.merge(n,{data:n.data.concat(this.getExtractState(["opt.dualStep","selectedItem"],!0)).concat(this.getExtractState(["value","attr.checked"])).concat(this.getExtractFunctionState(["removeall"]))})},serialize:function(n){var t=ecount.control.codes.prototype.serialize.apply(this,[n]);return ecount.control.prototype.serialize.apply(this,[t,n])},restore:function(n){var t=n.dualStep;n.code.length>0&&(this.removeAll(),this.addCodes(n.code));_.isEmpty(n.additionalData)||this.setAdditionalData(n.additionalData);this.getNationalFlag()&&_.get(n,"nationalCode")&&this.setNationalFlag(_.get(n,"nationalCode"));this.restoreSideLabel(n.label);this.setDualStepByData(t)},getValue:function(n){return this.getState(n||0,"value")},getSelectedItem:function(){return[this._getSelectedItem()]},getSelectedCode:function(){var i=this.getComponents(),r=i[this.valueCompIndex].value,n=this.getState(this._IT_SELF,"selectedItem"),t=this.isAbleToDirectCodeInput();return!n&&!t?[""]:t?[r]:[this._isEmptyValue(n.value)?"":n.value]},getSelectedLabel:function(){var i=this.getComponents(),r=i[this.labelCompIndex].value,n=this.getState(this._IT_SELF,"selectedItem"),t=this.isAbleToDirectLabelInput();return!n&&!t?[]:t?[r]:[this._isEmptyValue(n.label)?"":n.label]},getRawDataOfSelectedItem:function(){return _.cloneDeep(this.getState(this._IT_SELF,"selectedItem"))},getLayerAutocompleteOption:function(){return _.merge(ecount.control.codes.prototype.getLayerAutocompleteOption.apply(this,arguments),{isSingleCode:!0})},useRecommend:function(n){this.setState(this._IT_SELF,"useRecommendOption",n)},setRecommendValue:function(n){n.dataValue=n.value+"∬"+n.label;this.setState(this._IT_SELF,"recommendValue",n);this.setState(this._IT_SELF,"useRecommendOption",!0)},resetRecommend:function(){this.setState(this._IT_SELF,"recommendValue","",{});this.setState(this._IT_SELF,"useRecommendOption",!1)},setEmpty:function(){this.removeCode(null)},setEnableDirectInput:function(n){n=n!==!1;this.setState(this._IT_SELF,"opt.isAbleToDirectCodeInput",n);this._enableDirectInput=n;this.isSingleInputType()||(this.setState(this.labelCompIndex,"opt.maxlength",n?this._maxlengthOfCodeName:1e6),this.getState(this._IT_SELF,"opt.isAbleToDirectLabelInput")||this.setState(this.labelCompIndex,"attr.readonly",!n))},setEnableLabelInput:function(n){n=n!==!1;this.setState(this._IT_SELF,"opt.isAbleToDirectLabelInput",n);this.setState(this.labelCompIndex,"attr.readonly",n&&!this.isSingleInputType())},setLabelContainsType:function(n){this.setState(this.labelCompIndex,n)},setValueContainsType:function(n){this.setState(this.valueCompIndex,n)},isSelectableCount:function(){return!0},isExistItem:function(n){var t=this.getState(this._IT_SELF,"selectedItem");return t&&t.code==n.code&&t.label==n.label},isEmpty:function(){return!this.__state.selectedItem||this._isEmptyValue(this.__state.selectedItem.value)||$.isEmpty(this.__state.selectedItem.value)&&$.isEmpty(this.__state.selectedItem.label)},isSingleInputType:function(){return![1,2,8,10].contains(+this.codeType)},isRemoveBtnAttachedType:function(){return+this.codeType==7},isLabelDisplayOnly:function(){return[4,6,7,10].contains(+this.codeType)},isAbleToDirectCodeInput:function(){return!!this.getState(this._IT_SELF,"opt.isAbleToDirectCodeInput")},isAbleToDirectLabelInput:function(){return!!this.getState(this._IT_SELF,"opt.isAbleToDirectLabelInput")},isChangedCode:function(n,t){var i=($.isArray(n)?n[0]:n)||[];return this.__state.selectedItem==null||this.__state.selectedItem.value==""&&this.__state.selectedItem.label==""||this.__state.selectedItem.value!=i[t]},isRemoveCode:function(){return!0},reflowContainer:function(){var n=this.getState(this._IT_SELF,"selectedItem"),t=$.isEmpty(n.label)&&$.isEmpty(n.value);!this.isRemoveBtnAttachedType()||this._isEmptyValue(n.label)||this._isEmptyValue(n.value)||t||this.setState("removeall","style.display",!0)},changeCodeIfValid:function(n){this.disableDelegatorExecution();this.removeAll();!n||this._isEmptyValue(n.label)||this._isEmptyValue(n.value)||this.addCode(n,!0);this.enableDelegatorExecution()},_getSelectedItem:function(){var t=this.getComponents(),u=t[this.labelCompIndex].value,f=t[this.valueCompIndex].value,n=this.getState(this._IT_SELF,"selectedItem"),i=this.isAbleToDirectCodeInput(),r=this.isAbleToDirectLabelInput(),e=this._isEmptyValue(n.value)||this._isEmptyValue(n.label);return e&&!i&&!r?{label:"",value:""}:i||r?{label:u,value:f}:n},resetData:function(){if(this.isEmpty())this.resetInputField();else{var n=this.getState(this._IT_SELF,"selectedItem");this.isAbleToDirectCodeInput()||this.setState(this.valueCompIndex,"value",n.value);this.isAbleToDirectLabelInput()||this.setState(this.labelCompIndex,"value",n.label)}return!0},onClickButtonHandler:function(n,t,i){var r=n.ecFunctionId;switch(r){case"code.openpopup":this.onSearchBtnClickHandler(n,t,i);break;case"code.removeall":this.removeCode();this.afterRemoveButtonClickAction()}},onKeyInputHandler:function(n){var t=_.cloneDeep(n);this.codeType!="1"||n.ecRoleIndex!="1"||this.hasError()||(t.action="");this.executeChangeDelegator(t)},onSpecialKeyDownOnLabelHandler:function(n){var t=this.labelContainsType;if(this._checkContainsType(n.value,t).length>0)return!1;this.setState(n.cindex,"value",n.value)},onMousedownHandler:function(n){this.getState(n.cindex,"attr.readonly")&&(this.setState(0,"opt.selectRange",!this.getState(0,"opt.selectRange")),this.setState(0,"opt.selectRange",!0),n.suspend=!0)},setFocusOnComponent:function(n,t){this.notify(n,"focus.index",t);this.isInGridWithoutCombineParent()&&this.isGridV3&&n==0&&this.setState(n,"opt.selectRange",t)},onFocusInHandler:function(n){var t=this.getState(n.cindex,"value");this.getState(n.cindex,"attr.readonly")||($.isEmpty(t)?this.setState(n.cindex,"opt.selectRange",!1):this.setState(n.cindex,"opt.selectRange",!this.getState(n.cindex,"opt.selectRange")))},onSearchBtnClickHandler:function(){if(this._searchBtnClickStatus||this.isPreventHideError())return!1;this._openPopupWithKeyword({keyword:"",ispopupCloseUse:!1,isOnePopupClose:!1,eventTarget:"btn-search"})},onDblClickHandler:function(n,t,i){this._isAbleToDblClick(n,t,i)&&(this.doPreventAction()||this._openPopupWithKeyword({keyword:"",isOnePopupClose:!1,eventTarget:"dblclick",__gridOpenPopupTriggerInfo:i.__gridOpenPopupTriggerInfo}))},onKeyInputHandler:function(n,t){this.useAsteriskMode&&t.shiftKey&&n.which==56&&(this.disableValueSetting=!0,ecount.global.setTimeout(this.ecPageID,function(){this._isAsteriskMode(n.value)&&(this.disableValueSetting=!1)},1));this.setFilteredValueToComponent(n.value,n.cindex)},extract:function(){var n=ecount.control.prototype.extract.apply(this,arguments);return n.codes=this.getSelectedItem(),n.codeType=this.codeType,n},_isChangedSearchKeyword:function(n){var t=this.getState(this._IT_SELF,"selectedItem");return(n||(n=this.getSearchKeyword()),(!t||this._isEmptyValue(t.value))&&n)?!0:this.isLabelDisplayOnly()?t.label!=n:t.value!=n},_isAsteriskMode:function(n){var t=n||this.getComponent(this.valueCompIndex).value;return this.useAsteriskMode&&this._isAsteriskString(t)?!0:!1},_isEmptyValue:function(n){return n===Number.NEGATIVE_INFINITY||$.isNull(n)},_getEmptyValue:function(){return Number.NEGATIVE_INFINITY},_getValidateValue:function(){return this.getState(this.valueCompIndex,"value")},_getComponentFormat:function(){return this.isLabelDisplayOnly()?["label","value"]:["value","label"]},_getLabelCompFormat:function(n){return{cid:this.id,value:n.label}},_getValueCompFormat:function(n,t){return{cid:this.id,value:n.value,oldValue:"",ecService:t.hasCodeComplete||this.hasCodeComplete?"layer.autocomplete":""}},_getContainsType:function(n){return this.getState(n,"validate.containstype")},_setAsteriskMode:function(n){var i=n.value||this.getComponent(this.valueCompIndex).value,t={};t[this.labelColumn]=i;t[this.valueColumn]=i;this.onMessage(null,{name:this.labelColumn,code:this.valueColumn,isAdded:!1,isAsteriskMode:!0,data:t});this.disableValueSetting=!1},_setSeachResultDataDirectly:function(n,t){this._beforeAddCodeByMessageAction([n.data],n,function(){this._addCodeByMessage([n.data],n);this.isInGridWithoutCombineParent()&&this.isGridV3?ecount.global.setTimeout(this.ecPageID,this._sendMessage.bind(this,null,n)):this._sendMessage(null,n);this.disableValueSetting=!1;t&&t()}.bind(this))},_setFilteredLabel:function(n){var t=n.value,i=this.getState(n.cindex,"opt.maxlength");i!=undefined&&t.length>i&&(t=t.substring(0,i));this.setFilteredValueToComponent(t,n.cindex)},_getNotDuplicatedItem:function(n,t){return n.map(function(n){return this._getSelectedItemData(n,t)}.bind(this))},_openPopupWithKeyword:function(n){if(this._isAbleToOpenPopup()){var t=this.getState(this._IT_SELF,"selectedItem");!this.isAbleToDirectCodeInput()&&(this._isEmptyValue(t.label)||this._isEmptyValue(t.value))&&this.resetInputField();this._openPopup(n)}},_isAbleToOpenPopupByFocusChangeKey:function(n){return this._isAbleToOpenPopup()&&this._isChangedSearchKeyword(n)},_isAbleToOpenPopupByFocusOut:function(n){return this._isAbleToOpenPopup()&&this._isChangedSearchKeyword(n.value)},_executeAddCodeDelegator:function(n){this.executeChangeDelegator({action:"addCode",args:[_.cloneDeep(this.getSelectedItem())],messageObj:n,keyword:""})},_focusOutFromInputAction:function(){},_decideFocus:function(){this.setFocusOutTrigger()},_getCallableOption:function(n,t){return{keyword:n,cindex:t,hasNoKeyword:n==="",isAbleToDirectCodeInput:this.isAbleToDirectCodeInput(),isLabelColumn:this.isAbleToDirectLabelInput()&&t==this.labelCompIndex}},_isCallableOpenPopupAfterPreSearch:function(n){var t=!0,i;if(n.hasNoKeyword&&!n.isLabelColumn){this.removeAll();this.onNextFocus(n.cindex);t=!1}if(n.isLabelColumn){this.onNextFocus(n.cindex);t=!1}if(n.isSearchKeywordCheckable&&n.isSearchKeywordCheckable()){this.onNextFocus(n.cindex);t=!1}return n.isLabelColumn||n.isAbleToDirectCodeInput||!n.cindex||(i=this.getSelectedItem()[0],this.resetInputByOpenPopup=!0,this.setState(n.cindex,"value",i.value||"")),t},_openPopupByLazyLayer:function(n,t){var i=this._getCallableOption(n,t);i.isSearchKeywordCheckable=function(){return!1};this._isCallableOpenPopupAfterPreSearch(i)&&this._openPopupAfterPreSearch(n,t,i.isAbleToDirectCodeInput)},_openPopupByEnter:function(n,t){var i=this._getCallableOption(n,t);i.isSearchKeywordCheckable=function(){return!this._isChangedSearchKeyword(i.keyword)}.bind(this);this._isCallableOpenPopupAfterPreSearch(i)&&this._openPopupAfterPreSearch(n,t,i.isAbleToDirectCodeInput)},_openPopupAfterPreSearch:function(n,t,i){var r={};this._preSearchBeforePopupOpen(n,r,function(u){if(this._isAbleToOpenPopupAfterPreSearch(u,r)){if(t==this.valueCompIndex&&i){var f=!u.length;if(f){this.onNextFocus(t);return}}this.preventOpenPopupByEnter||(this.resetKeyword(),this._openPopup(_.extend(r,{keyword:n,preSearchData:u})))}}.bind(this))},_openPopupByFocusOut:function(n,t,i,r){var u=this.getSearchKeyword(),e=u==="",f={preventAutoFocusMove:!0};if(this._isChangedSearchKeyword(u)){if(e){this.removeAll();return}this._preSearchBeforePopupOpen(u,f,function(t){if(this._isAbleToOpenPopupAfterPreSearch(t,f)){if(n.cindex==this.valueCompIndex&&r){var i=!t.length;if(i){this.onNextFocus(n.cindex);return}}this.removeCode(0,this.isInGridWithoutCombineParent());this._openPopup(_.extend(f,{keyword:u,preSearchData:t,eventTarget:"change"}))}}.bind(this))}},_ON_BEFORE_CHANGE:function(n){return this.isInGridWithoutCombineParent()&&this.isGridV3&&this.executeChangeDelegator(n),n.cindex!==undefined?this.getState(n.cindex,"value")!=n.value:void 0},ON_KEYDOWN_ENTER:function(n,t,i,r){if(n.ecRole=="code.sidelabel")return this.setFocusOutTrigger(),!0;if(!this.isSingleInputType()&&n.cindex==this.labelCompIndex){if(this.onSpecialKeyDownOnLabelHandler(n,t,r)!==!1)this.onNextFocus(n.cindex);return}if(this.onEnterKeydownHandler(n,t,r)!==!1)this.onNextFocus(n.cindex)},ON_KEYDOWN_TAB:function(n,t,i,r){return n.cindex==this.labelCompIndex?this.onSpecialKeyDownOnLabelHandler(n,t,r):this.onTabKeydownHandler(n,t,r)},ON_KEYDOWN_F7:function(n,t,i,r){return n.cindex!=this.labelCompIndex||this.isSingleInputType()?this.onSearchKeyDownHandler(n,t,r):this.onSpecialKeyDownOnLabelHandler(n,t,r)},ON_KEYDOWN_F8:function(n,t,i,r){return n.cindex!=this.labelCompIndex||this.isSingleInputType()?this.onSearchKeyDownHandler(n,t,r):this.onSpecialKeyDownOnLabelHandler(n,t,r)},ON_KEY_OTHERS:function(n,t,i,r){this.isAbleToDirectLabelInput()&&!this.isSingleInputType()&&n.cindex==this.labelCompIndex?this._setFilteredLabel(n,t,r):this.setFilteredValueToComponent(n.value,1)},ON_FOCUSOUT:function(n,t,i,r){var f=n.cindex==this.valueCompIndex,e=!$.isEmpty(n.value),o=this.isAbleToDirectCodeInput()&&e,s=this.isAbleToDirectLabelInput(),u;if($.isEmpty(n.cindex)||this.getState(n.cindex,"attr.readonly")||this.setState(n.cindex,"opt.selectRange",!1),!this.isInGridWithoutCombineParent()||this.isGridV3){if(this.doPreventAction())return this.setPopover(this._IT_SELF),!1;if(f||!s){if(f||this.isSingleInputType()){if(u=this.getSearchKeyword(),$.isEmpty(u)&&this._isChangedSearchKeyword(u)&&!this.resetInputByOpenPopup){this.removeCode();return}if(!$.isNull(n.cindex)&&!this.resetInputByOpenPopup)this.onFocusOutHandler(n,t,r,o)}(ecount.constValue.isIE||ecount.constValue.isEdge||ecount.constValue.isSafari)&&this.isInGridWithoutCombineParent()&&this.isGridV3&&this.executeChangeDelegator(n);this.resetInputByOpenPopup&&(this.resetInputByOpenPopup=!1)}}}});ecount.class("ecount.control.view.codes.c04","ecount.control.view.codes",{template:"singleControl{{nth}}{{isSmall}}",fnTemplate:"((fn))",openpopupTemplate:null,removeallTemplate:'<button class="btn btn-default btn-remove {{style.display}}" id="btn-remove" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"/>',onInitTemplate:function(n,t){var i=1,r=+t.codeType||1,u=![2,3,4,5].contains(r)||r==6&&t.isSmall;switch(r){case 1:case 2:i=r;break;case 3:case 4:i=3;break;case 5:case 6:i=4;break;case 7:case 8:i=r-2;break;case 10:i=7;break;case 11:i=11}return n=n.replace("{{nth}}",i).replace("{{isSmall}}",t.isSmall?"-sm":""),n=ecount.control.template[n],this.openpopupTemplate=u?r==7||r==11?'<button class="btn btn-default btn-code-search popupHandler" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>':"((codeSearchButton))":"",n=n.replace(/{{cid}}/g,t.cid),n.replace("{{codeSearchInput}}",ecount.widget.replaceAttr(this.searchTemplate,t))},onChangeValue:function(n,t){var i=this.getElements(n);i.length&&i.val(t)},onChangeAttrReadonly:function(n,t){var r=this.getElements(n),i=ecount.control.view.formElements.join(",");r.find(i).andSelf(i).prop("readonly",t)}});ecount.class("ecount.control.codes.c05","ecount.control.codes.c01",{ecPackage:"ecount.control.codes.c05",itemPrimaryCss:"text-primary-inverse",itemCss:"",isEpWidget:!1,isDisableCheckboxesWithAddingMore:!1,isAddCodeAfterPopupClosed:!0,isRemoveAllCodesAfterPopupClosed:!0,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{isCheckBoxDisplayFlag:!!n.isDisableCheckboxesWithAddingMore,checkMaxCount:n.isRemoveAllCodesAfterPopupClosed?this.checkMaxCount:0,isEpWidget:n.isEpWidget})},onInitState:function(){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);_.merge(this.__state,{})},onInitComponent:function(n,t,i,r,u){ecount.control.codes.prototype.onInitComponent.apply(this,arguments);r["style.css"]=["form-control",u.isEpWidget?"":"form-control-code"].join(" ");r["attr.disabled"]=!!(!this.getState(this._IT_SELF,"opt.enableLabelInput")&&this.getState(this._IT_SELF,"opt.disabledInputbox"))},initializeViewOptions:function(n){ecount.control.codes.c01.prototype.initializeViewOptions.apply(this,arguments);_.merge(this.__viewOptions,{isEpWidget:n.isEpWidget})},onInitFunction:function(n,t){ecount.control.codes.prototype.onInitFunction.apply(this,arguments);var i=t.functions;i.more={ecFunction:"button",ecFunctionId:"code.more",cid:this.id}},addCode:function(n){var t=n.value==undefined?n[this.valueColumn]:n.value,i=(n.label||n[this.labelColumn]||"").toString();this.isDisableCheckboxesWithAddingMore==!0&&(this.isCheckBoxDisplayFlag=!0);$.isEmpty(i)||$.isEmpty(t)||ecount.control.codes.c01.prototype.addCode.apply(this,arguments)!==!1&&this.isDisableCheckboxesWithAddingMore==!0&&(this.isCheckBoxDisplayFlag=!1)},setActiveItem:function(n){var t=this.__state.selectedItems.map(function(t){return t.value==n?_.merge(t,{"style.css":this.itemPrimaryCss}):t}.bind(this));this.setState(this._IT_SELF,"selectedItems",t)},setInputText:function(n){$.isString(n)&&(this.setState(0,"oldValue",n),n.length>0&&this.setState(0,"value",n))},resetKeyword:function(){this.setState(0,"value","")},adjustItemContainer:function(n){this.ecview&&(n||this.isItemListExpanded())&&this.executeAdjustContainerDelegator()},toggleContainerHeight:function(){this.ecview&&this.ecview.toggleItemList();this.executeChangeDelegator({type:"height.changed",args:["height.changed",null]})},executeChangeDelegator:function(n){ecount.control.codes.c01.prototype.executeChangeDelegator.call(this,n);this.isEpWidget&&this.executeParentChangeDelegator&&this.executeParentChangeDelegator(n)},onMessage:function(n,t){this.isRemoveAllCodesAfterPopupClosed==!1&&(t.isAdded=!0);ecount.control.codes.c01.prototype.onMessage.apply(this,arguments)},onFocusInHandler:function(n){n.cindex!==undefined&&this.setState(n.cindex,"opt.selectRange",!this.getState(n.cindex,"opt.selectRange"))},onFocusOutHandler:function(n){return this._isChangedSearchKeyword(n.value)?ecount.control.codes.c01.prototype.onFocusOutHandler.apply(this,arguments):!1},onClickHandler:function(n){var t=this.__state.selectedItems[n.ecRoleIndex];switch(n.ecRole){case"code.allinonetype":this.executeChangeDelegator({action:"anchor.click",args:["anchor.click",_.extend({},t,t.rawData)]})}ecount.control.codes.prototype.onClickHandler.apply(this,arguments)},onKeyInputHandler:function(n){this.setFilteredValueToComponent(n.value,n.cindex)},onSearchBtnClickHandler:function(n){var i=this.getComponent(0),t;if(this._searchBtnClickStatus||this.isPreventHideError())return!1;(this._isChangedSearchKeyword(n.value)?(t=n.value,this._setSearchKeyword("")):(t="",this._setSearchKeyword(i.oldValue)),this.hasError())||this._openPopupWithKeyword({keyword:t,ispopupCloseUse:!0,isOnePopupClose:!1,eventTarget:"btn-search"})},onDblClickHandler:function(n,t,i){if(this._isAbleToDblClick(n,t,i)){if(this.isPreventHideError())return!1;var u=this.getComponent(0),r=this.getSearchKeyword();if(this.isPreventHideError())return!1;(this._isChangedSearchKeyword(n.value)?(r=n.value,this._setSearchKeyword("")):(r="",this._setSearchKeyword(u.oldValue)),this.hasError())||this._openPopupWithKeyword({keyword:r,isOnePopupClose:!1,eventTarget:"dblclick"})}},onLazyRender:function(){this.ecview&&this.ecview.toggleItemList(!1)},_getSelectedItemData:function(n){var t=ecount.control.codes.prototype._getSelectedItemData.apply(this,arguments);return _.merge(t,{"style.css":[t["style.css"]||"",n.isPrimary?this.itemPrimaryCss:this.itemCss].join(" ")})},_isChangedSearchKeyword:function(n){var t=this.getComponent(0);return t.oldValue!=n},_decideFocus:function(){ecount.global.setTimeout(this.ecPageID,function(){this.setFocus(0);this.setState(0,"opt.selectRange",!1)}.bind(this),0)},_addCodeByMessage:function(n,t){if(t.name!==!1||t.code!==!1){if(this.cancelAsteriskMode(),n=n.map(this._getCodeDataFromMessage.bind(this,t)),!this.isValidContainLevelGroup(t.isAdded==!0?n.length+this.getSelectedItem().length:n.length)){this.showLevelGroupError();return}if(t.isAdded||this.removeAll(!0),this._addFilteredData(n,t),!this.isSelectableCount(n.length||0)){if(this.onMaxCountExceeded(),this.checkMaxCount!=1)return;this.removeAll(!0)}}},onEnterKeydownHandler:function(n){var t=$.isEmpty(n.value)?this.getSearchKeyword():n.value;if(!$.isEmpty(t)&&this._isChangedSearchKeyword(t))return ecount.control.codes.c01.prototype.onEnterKeydownHandler.apply(this,arguments)},_getNotDuplicatedItem:function(n){return n},_isAbleToOpenPopupByEnter:function(){return this._isAbleToOpenPopup()&&!this.preventOpenPopupByEnter},_focusOutFromInputAction:function(n){this.isPreventHideError()||(this.executeChangeDelegator({value:"",cindex:n}),this.setState(n,"itemList",[]))},_addFilteredData:function(n,t){this.responseFilter(n).forEach(function(n,i){var r=_.merge(this._getMessageData(n,t),{index:i});this.isAddCodeAfterPopupClosed?this.addCode(n,!1,r):this.executeChangeDelegator({action:"item.added",args:["item.added",n.rawData]})}.bind(this))},_ON_BEFORE_FOCUSOUT:function(n){if(n.handler!=ECountEvent.Type.FOCUSOUT_CONTROL)return!1}});ecount.class("ecount.control.view.codes.c05","ecount.control.view.codes.c01",{wrapperTemplate:'<div class="control wrapper-all-in-one {{style.css}} {{style.display}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-function-id="code.autocomplete">((this.template))<\/div>',itemTemplate:'<span data-cid="{{cid}}" data-label="{{label}}">\n<a href="javascript:;" class="{{style.css}}" data-cid="{{cid}}" data-role="code.allinonetype" data-role-index={{index}} data-value={{value}}>{{label}}<\/a>\n<span class="inline-divider"><\/span>\n<\/span>',getOwnTemplate:function(n){return n.isEpWidget?'[[openpopup]]\n((codeInput))\n<div class="wrapper-toolbar" data-role="code.container"/><\/div>\n<div style="display:none" data-role="function.container">[[more]][[fn]]<\/div>':["[[openpopup]]",'<div class="tags-input" data-cid="{{cid}}">','<div class="input-height-fixed" data-role="height.decider" data-cid="{{cid}}">',"<div>","<div>","{{codeSearchInput}}","<\/div>","<\/div>","<\/div>","<\/div>","[[more]]","[[fn]]",].join("\n")},toggleMoreBtn:function(n){var t=this.$el.find('[data-function-id="code.more"]');n?t.removeClass("hidden"):t.addClass("hidden")},displayFunctions:function(){this.isMoreBtnNeeded()&&!this.isMoreBtnDispalyed()&&this.toggleMoreBtn(!0)},isRemoveBtnDisplayed:function(){return!0},isRemoveBtnNeeded:function(){return!1},reflowCodeContainer:function(){ecount.global.setTimeout(this.ecPageID,function(){this.changeButtonVisibility();this.toggleItemList(!1);ecount.isIE&&window.document.activeElement==null&&window.document.body.focus()}.bind(this),0)}});ecount.class("ecount.control.simpleMultiCode","ecount.control",{ecPackage:"ecount.control.simpleMultiCode",itemCss:"label-primary",isButtonType:!0,init:function(){ecount.control.prototype.init.apply(this,arguments)},render:function(){ecount.control.prototype.render.apply(this,arguments)},getInitComponents:function(n,t,i){return components=[{cid:this.id,value:"",oldValue:"",itemList:this.hasCodeComplete?[]:undefined,ecRole:"code.input",ecService:this.hasCodeComplete?"layer.autocomplete":"",ecLazyService:i.isFromFavoriteCode||i.useRecommendOption?"layer.recommenddropdown":"",ecServiceAttr:i.isFromFavoriteCode||i.useRecommendOption?ecount.layer.constValue.FOCUSABLE:"","style.css":"textbox-inline noneEvent","style.inputborder":!1}],this.label&&components.push({cid:this.id,label:this.label,ecRole:"code.sidelabel","attr.labelid":["control",this.tabID||"",this.gridID||"",this.ecPageID,this.id,k].join("-"),"attr.checked":!!i.isCheckCodeTypeCheckBox}),components},onInitState:function(n,t,i){var u=i.codes||[],f,r,o,e;for(!u.length&&this.defaultLabel&&this.defaultValue&&u.push({cid:this.id,label:this.defaultLabel,value:this.defaultValue}),t.selectedItems=[],f=u.map(function(n){return this._getSelectedItemData(n)}.bind(this)),r=0,o=f.length;r<o;r++)e=f[r],this.isExistItem(e)||t.selectedItems.push(e)},onInitComponent:function(n,t,i,r,u){ecount.control.codes.prototype.onInitComponent.apply(this,arguments);r["style.css"]="form-control form-control-code noneEvent";r["attr.disabled"]=u._readOnly||!this.getState(this._IT_SELF,"opt.enableLabelInput")&&this.getState(this._IT_SELF,"opt.disabledInputbox")},onInitFunction:function(n,t){var i=t.functions;i.removeall={ecFunction:"button",ecFunctionId:"code.removeall","style.display":!1,cid:this.id};i.more={cid:this.id,ecFunction:"button",ecFunctionId:"code.more","opt.isExpanded":!1};ecount.runtime.observe("code.reflowItemList",this.ecIKey,function(n){this.setState("more","opt.isExpanded",n.isExpanded)}.bind(this))},onLazyRender:function(){var i,t,n,r;for(t,n=0,r=this.getComponents().length;n<r;n++)i=this.getState(n,"validate.containstype")||this.getState(this._IT_SELF,"validate.containstype"),t=this.getComponent(n).value,!$.isEmpty(t)&&this.isVisible(n)&&this._checkContainsType(t,i);this.reflowContainer()},getSelectedCode:function(){return this.getState(this._IT_SELF,"selectedItems").map(function(n){return n.value||n.code})},getSelectedLabel:function(){return this.getState(this._IT_SELF,"selectedItems").map(function(n){return n.originLabel||n.label})},onEnterKeydownHandler:function(n){var t=$.isEmpty(n.value)?this.getSearchKeyword():n.value;this.addCodeImmediately(t);this.resetInputField();return},addCodeImmediately:function(n){var i,r,t,u;if($.isEmpty(n))this.onNextFocus(0);else for(i=n.split(","),r=this._preventSync,r||this.disableTabSync(),t=0,u=i.length;t<u;t++)t==u-1&&(r||this.enableTabSync()),this._addCodeDirectly(i[t])},_addCodeDirectly:function(n){n=n.trim();this.addCode({label:n,value:n},!1);this.destroyPopover(this._IT_SELF)},addCode:function(n,t,i){var n=this._getSelectedItemData(n),r=this.isExistItem(n),f=!t&&(!r||r&&i),u;if(!r){if(!this.isSelectableCount(1))if(u=this.getMaxCount(),this.onFocusOut(),u==1)this.removeAll(!0);else{ecount.alert(String.format(ecount.resource.message.MAXCOUNT,u),{target:this});return}this.beforeAddCodeCallbackValidAction(n.value,n);this.setState(this._IT_SELF,"selectedItems",this.getState(this._IT_SELF,"selectedItems").concat([n]))}f&&this.executeChangeDelegator({messageObj:i,action:"addCode",isDuplicated:r,args:[_.cloneDeep(n),!0]});this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"))},addCodes:function(n,t){var r=this._preventSync,i,u;for(this.pendingViewUpdate(!0),r||this.disableTabSync(),i=0,u=n.length;i<u;i++)i==u-1&&(r||this.enableTabSync()),this.addCode(n[i],t);n.length||r||this.enableTabSync();this.pendingViewUpdate(!1);this.batchUpdateView()},setStandardValue:function(){this.removeAll();$.isArray(arguments[0])?this.addCodes.apply(this,arguments):this.addCode.apply(this,arguments)},_getSelectedItemData:function(n,t){var f=t&&t.name?t.name:this.labelColumn,e=t&&t.code?t.code:this.valueColumn,r=(n.label||n[f]||"").toString(),o=this._useSafeEscape?r.unescapeHTML().escapeHTML():r.escapeHTML(),u=n.value==undefined?n[e]:n.value,i,s=n.CSS||"";return i=$.isNull(t)||$.isNull(t.data)||$.isNull(this.bgColorColumn)?(n.bgColor||n[this.bgColorColumn]||"").toString().escapeHTML():t.data[this.bgColorColumn]||"",/#(\w{1})\1{2}\b/.test(i)&&(i=i+i.replace("#","")),_.extend({cid:this.id,label:o,originLabel:r,value:u,isUseTooltip:this.isUseTooltip,rawData:n,"style.css":s||this.itemCss,"style.backgroundcolor":i,"style.isfixed":!1,"opt.editable":!!this._editable,"opt.tooltipmsg":this.isUseTooltip?u:"","opt.isvalid":!0},this.addItemExtraData(n))},addItemExtraData:function(){return{}},isExistItem:function(n){for(var r=this.__state.selectedItems,u={value:n.value,label:n.label},t=0,f=r.length,i;t<f;t++)if(i=r[t],isExits=this.compareKeyCode(_.merge({value:i.value},i),u),isExits)return!0;return!1},isSelectableCount:function(n){return this.checkMaxCount?this.__state.selectedItems.length+(n||0)<=this.getMaxCount():!0},getMaxCount:function(){return this.checkMaxCount},beforeAddCodeCallback:function(){return!0},beforeAddCodeCallbackValidAction:function(n,t){t["opt.isvalid"]=!0},compareKeyCode:function(n,t){return this.casesensitive?n.value.toUpperCase()==t.value.toUpperCase():n.value==t.value},resetInputField:function(){this.setState(0,"value","")},getValue:function(){return this.getSearchKeyword()},getStandardValue:function(){return this.getSelectedItem()},getSearchKeyword:function(){var n=this.getComponent(0).value;return $.isEmpty(n)?"":""+n},onFocusInHandler:function(n){serviceKey=this.getLayerServiceKey(n);serviceKey&&(ecount.layer.removeLayer(serviceKey),this.hasError()||this.resetInputField());this.ecview.toggleContainer(!0)},onClickHandler:function(n,t,i){if(n.ecFunction=="autocomplete"){this._addCodeByAutoComplete(i.itemList[i.selectedIndex]);return}switch(n.ecRole){case"code.removeitem":this.removeCode(n.ecRoleIndex);break;default:return!1}},removeCode:function(n,t){if(n!==undefined){this.isAddAsteriskCode&&(this.isAddAsteriskCode=!1);var r=this.getState(this._IT_SELF,"selectedItems"),u,i;r&&r.length&&(u=this.__state.selectedItems.filter(function(t,i){return i!=n}),i=this.__state.selectedItems[n],this.setState(this._IT_SELF,"selectedItems",u),!t&&i&&this.executeChangeDelegator({action:"removeCode",args:[i.value,i.label]}))}},onFocusOutHandler:function(n){this.setState(n.cindex,"opt.hasErrorFocus",!1);n.value&&(this.addCode({label:n.value,value:n.value}),this._focusOutFromInputAction(n.cindex));this.reflowContainer()},_focusOutFromInputAction:function(n){this.isPreventHideError()||($.isNull(n)&&(n=0),this.setState(0,"value",""),this.executeChangeDelegator({value:"",cindex:n}),this.setState(n,"itemList",[]))},reflowContainer:function(){this.ecview&&(this.getSelectedItem().length&&this.ecview.displayFunctions(),this.getState("more","opt.isExpanded")&&this.toggleItemList(!0))},executeChangeDelegator:function(n){n=n||{};var t=n&&n.ecEvent?n.ecEvent:undefined,i=n&&n.event?n.event:undefined,r=this._getDefaultDelegatorInfo(t,i);this.isAbleToExecuteDelegator()&&(this.delegator&&this.delegator.triggerEvent("control.change",_.merge(r,{type:"control.change",value:this._getValueForDelegate(n),preventTriggerEvent:n?n.preventTriggerEvent:undefined},n)),this.pcid&&this.executeParentChangeDelegator&&(_.merge(n,{cid:this.cid}),this.executeParentChangeDelegator(n)))},isPreventHideError:function(){return this.getState(this._IT_SELF,"validate.errpreventhide")},onClickButtonHandler:function(n){ecount.control.codes.prototype.onClickButtonHandler.apply(this,arguments);var t=n.ecFunctionId;switch(t){case"code.more":this.toggleContainerHeight();break;case"code.removeall":this.removeAll(!0);this.afterRemoveButtonClickAction()}},toggleContainerHeight:function(){this.toggleItemList()},removeAll:function(){var n=this.getSelectedItem();this.isAddAsteriskCode&&(this.isAddAsteriskCode=!1);this.setState(this._IT_SELF,"selectedItems",[]);this.adjustItemContainer(!0)},getSelectedItem:function(){return this.getState(this._IT_SELF,"selectedItems").map(this._getMinimunCodeData.bind(this))},_getMinimunCodeData:function(n){return{label:n.originLabel||n.label,value:n.value||n.code,bgColor:n["style.backgroundcolor"]||""}},adjustItemContainer:function(n){this.ecview&&(this.cdpFocusNotOpen||this.toggleItemList(!0),(n||this.isItemListExpanded())&&this.executeAdjustContainerDelegator())},toggleItemList:function(n){if(!this.ecview)return!1;this.ecview.toggleItemList(n)},isItemListExpanded:function(){return this.ecview?this.ecview.isItemListExpanded():!1},executeAdjustContainerDelegator:function(){this.containerName==widget.generator.HEADER?this.delegator&&this.delegator.triggerEvent("page.adjustHeaderSearchDimensions"):this.delegator&&this.delegator.triggerEvent("page.adjustContentsDimensions")},afterRemoveButtonClickAction:function(){},onMousedownHandler:function(){},ON_KEYDOWN_ENTER:function(n,t,i,r){this.onEnterKeydownHandler(n,t,r)!==!1&&this.setFocusOutTrigger()},ON_MOUSEDOWN:function(n,t,i,r){return $.isNull(n.cindex)?this.onClickHandler(n,t,r):this.onMousedownHandler(n,t,i,r)},ON_FOCUSOUT:function(n,t,i,r){if(!$.isNull(n.cindex)&&n.ecRole!="code.sidelabel"&&!$.isEmpty(n.value))this.onFocusOutHandler(n,t,r)},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_CONTROL:return this.onClickHandler(n,t,r);case ECountEvent.Type.CLICK_BUTTON:return this.onClickButtonHandler(n,t,r)}},ON_FOCUSIN:function(n,t,i,r){var u=!$.isNull(n.cindex);if(u)this.onFocusInHandler(n,t,r);return u}});ecount.class("ecount.control.view.simpleMultiCode","ecount.control.view",{template:'<div class="tags-input" data-cid="{{cid}}">\n<div class="input-height-fixed" data-role="height.decider" data-cid="{{cid}}">\n{{codeSearchInput}}\n<\/div>\n<\/div>\n[[more]]\n[[removeall]]',searchTemplate:'<div data-role="code.container"><div class="tags-input-typeahead" data-role="code.autocomplete">((codeSearchInput))<\/div> {{selectedItemList}}<\/div>',removeallTemplate:'<button class="btn btn-default btn-remove btn-vertical-top hidden" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>',moreTemplate:'<button class="btn btn-default btn-ellipsis btn-vertical-top hidden" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}"><\/button>',itemTemplate:'<span class="tag label label-light {{style.css}}" {{style.backgroundcolor}} data-label="{{label}}"><span data-cid="{{cid}}" data-role="code.itemlabel" data-role-index={{index}} {{opt.editable}} {{opt.tooltipmsg}}>{{label}}<\/span><button class="tag-remove{{style.isfixed}}" data-cid="{{cid}}" data-role="code.removeitem" data-role-index={{index}} data-value={{value}}><\/button><\/span>',onInitTemplate:function(n,t){return this._defaultCss=t["opt.addontitle"]?"wrapper-toolbar":"",n=n.replace(/{{cid}}/g,t.cid),n=n.replace("{{codeSearchInput}}",ecount.widget.replaceAttr(this.searchTemplate,t)),n.replace("{{selectedItemList}}",this.getSelectedItemTemplate(t.selectedItems))},init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){ecount.control.view.prototype.render.apply(this,arguments)},onChangeSelectedItems:function(n,t){var i=this.$el.find('[data-role="code.container"]'),r=i.find("[data-label]");i.addClass("hidden");r.find("[data-role-index]").andSelf(r).attr("data-role-index","-1");r.remove();i.append(" "+this.getSelectedItemTemplate(t));i.removeClass("hidden");this._bindTooltip();this.toggleItemList(!0);this.reflowCodeContainer()},getSelectedItemTemplate:function(n){var f,r,o,t,e,u,s,i;if(!n||!n.length)return"";for(f=[],r=0,o=n.length;r<o;r++)t=n[r],i=this.itemTemplate,$.isString(t["style.backgroundcolor"])&&t["style.backgroundcolor"].length>0&&(e=t["style.backgroundcolor"].substring(0,1)=="#"?t["style.backgroundcolor"]:"#"+t["style.backgroundcolor"],u=ecview.util.isValidColor(e),s=["background-color:",e,";",$.isString(u)&&u.length>0?"color:"+u+";":""],t["style.backgroundcolor"]='style="'+s.join("")+'"',i=i.replace("label-light","")),t.index=r,t["opt.editable"]=t["opt.editable"]?"contenteditable":"",t["style.css"]=t["style.css"]?t["style.css"]:"",t["style.isfixed"]=t["style.isfixed"]?" hidden":"",t["opt.tooltipmsg"]=t.isUseTooltip&&t["opt.tooltipmsg"]&&t["opt.isvalid"]?'data-original-title="'+t["opt.tooltipmsg"]+'"':"",i=ecount.widget.replaceAttr(i,t),f.push(i);return f.join(" ")},reflowCodeContainer:function(){ecount.global.setTimeout(this.ecPageID,function(){this.changeButtonVisibility();this.reflowItemList();ecount.isIE&&window.document.activeElement==null&&window.document.body.focus();ecount.runtime.notify("code.adjustContainer",this.ecPageID,{ecPageID:this.ecPageID})}.bind(this),0)},changeButtonVisibility:function(){var t=this.isRemoveBtnNeeded(),n;this.toggleRemoveBtn(t);n=this.isItemListExpanded();this.toggleMoreBtn(n)},isRemoveBtnNeeded:function(){return this.$el&&!!this.$el.find('[data-role="code.container"] [data-label]').has("button:visible").length},toggleRemoveBtn:function(n){var t=this.$el.find('[data-function-id="code.removeall"]');n?t.removeClass("hidden"):t.addClass("hidden")},isItemListExpanded:function(){var n=this.getRoleHolderBoundary("code.container"),t=n?n.height:0;return t>35},toggleMoreBtn:function(n){var t=this.$el.find('[data-function-id="code.more"]');t.hasClass("hidden")==n&&(n?t.removeClass("hidden"):t.addClass("hidden"))},reflowItemList:function(){var n=this.isItemListExpanded();this.toggleItemList(n)},toggleItemList:function(n){var t=this.$el.find('[data-role="height.decider"]');n===undefined?(n=t.hasClass("input-height-fixed"),t.toggleClass("input-height-fixed")):n?t.removeClass("input-height-fixed"):t.addClass("input-height-fixed");ecount.runtime.notify("code.reflowItemList",this.$el[0].ecIKey,{ecPageID:this.ecPageID,ecIKey:this.$el[0].ecIKey,isExpanded:n})},toggleContainer:function(n){this.toggleItemList(n)},displayFunctions:function(){this.isRemoveBtnDisplayed()||this.toggleRemoveBtn(!0);this.isMoreBtnNeeded()&&!this.isMoreBtnDispalyed()&&this.toggleMoreBtn(!0);this.isAllItemHidden()&&this.toggleItemList(!0)},isRemoveBtnDisplayed:function(){return this.$el&&!this.$el.find('[data-function-id="code.removeall"]').hasClass("hidden")},isMoreBtnNeeded:function(){return this.$el&&(this.isItemListExpanded()||this.isItemListOverflow())},isItemListOverflow:function(){var n=!1;return this.$el.is(":visible")?(this.$el.find('[data-role="code.container"] [data-label]').has("button:visible").each(function(){if(!$(this).is(":visible")){n=!0;return}}),n):!1},isMoreBtnDispalyed:function(){return!this.$el.find('[data-function-id="code.more"]').hasClass("hidden")},isAllItemHidden:function(){var n,t,i,r;return this.$el.is(":visible")?(n=this.$el.find('[data-role="height.decider"]'),t=n.width(),i=n.find('input[type="text"]').width(),r=this.$el.find('[data-role="code.container"] [data-label]').has("button:visible").filter(":first").width(),t-(i+r)<0):!1},_bindTooltip:function(){var n=this.$el.find('[data-role="code.itemlabel"][data-role-index]');n.each(function(n,t){var u,i,r;(u=t.getAttribute("data-original-title"))&&(i=$(t),r=i.closest(".ui-dialog"),i.attr("data-popoverindex",n),ecount.popover.create(i,{container:r.length?r:"body",delay:{show:400,hide:0},html:!0,placement:"auto",title:u,trigger:"hover",type:"tooltip"}))})}});ecount.class("ecount.control.date","ecount.control",{baseControlType:undefined,dateFormat:undefined,timeFormat:undefined,dateIndex:undefined,timeIndex:undefined,startWeek:undefined,holidayInfo:undefined,notUseHolidayConfig:!1,_isLastDay:!1,_isTime:!1,_isOnlyMonth:!1,_isOnlyUseTime:!1,_minYearLimit:null,_maxYearLimit:null,hasYearLimit:!1,notUseManualInput:!1,cancelLayerRenderCall:!1,_onlyThisYear:!1,_isYearCalender:!1,_isMonthCalendar:!0,_isTimeRange:!1,_isNotShowDay:!1,_isDateSpace:!1,_hideDateControl:!1,_hideCheckboxLabel:!1,_hideDateButton:!1,_extractFormat:undefined,_alertBaseYM:undefined,_minYear:1900,_minimumDate:undefined,_minimumError:undefined,_baseDateControlId:"",_useSlip:!0,_ERA_LIST:undefined,nonNumericReg:/[^\d]/g,manualInputItemId:undefined,emptyItemId:undefined,label:undefined,_keyStack:"",keyStackID:"",defaultRepeatParam:null,repeatSetup:null,repeatFlag:!1,repeatSaveType:null,repeatDateList:null,initialRepeatFlag:!1,initialRepeatSaveType:null,holidayURL:"/ECAPI/SVC/Common/Infra/GetListHolidayCache",isCalendarAlreadyOpened:!1,initializeOptions:function(n,t){_.merge(this,{_minYear:n._minYear||this._minYear,_onlyThisYear:n._onlyThisYear,_isOnlyMonth:n._isOnlyMonth,_isMonthCalendar:n._isMonthCalendar,_isYearCalender:n._isYearCalender,_isOnlyUseTime:n._isOnlyUseTime,_isOnlyUseDatepicker:n._isOnlyUseDatepicker,_isDateSpace:n._isDateSpace,_isNotShowDay:n._isNotShowDay,_isLastDay:n._isLastDay,_hideDateControl:n._hideDateControl,_hideDateButton:n._hideDateButton,_hideCheckboxLabel:n._hideCheckboxLabel,_baseDateControlId:n._baseDateControlId||this._baseDateControlId,_useSlip:n._useSlip,_minimumDate:n._minimumDate,_minimumError:n._minimumError,_isTime:n._isTime===undefined?this._isTime:n._isTime,_isTimeRange:n._isTimeRange===undefined?this._isTimeRange:n._isTimeRange,_isSyncCustomTab:n._isSyncCustomTab===undefined?!0:n._isSyncCustomTab,label:n.label,subLabel:n.subLabel,startWeek:t.result.Data.STARTWEEK,calendarData:ecount.control.date.setHolidayInfo(t.result.Data),notUseHolidayConfig:n.notUseHolidayConfig,notUseManualInput:n.notUseManualInput,notUseHide:n.notUseHide,_readOnlyIndex:n._readOnlyIndex||null,onCallbackBeforeCalendarOnce:n.onCallbackBeforeCalendarOnce||this.onCallbackBeforeCalendarOnce,_ERA_LIST:this.getERAArrayList(),repeatSetup:n.repeatSetup||{},repeatFlag:n.REPEAT_FLAG,repeatSaveType:n.REPEAT_SAVE_TYPE,repeatDateList:[],initialRepeatFlag:n.REPEAT_FLAG,initialRepeatSaveType:n.REPEAT_SAVE_TYPE,manualInputItemId:this.id+"_manual",emptyItemId:this.id+"_empty",triggerChangeEventOnce:n.triggerChangeEventOnce},this._getYearLimit(n,t));n._isOnlyFixedDatePicker&&(this._hideDateControl=!0,this._hideDateButton=!0,this._isOnlyFixedDatePicker=!0,this.todayCallbackName=n.todayCallbackName||null);this.dateFormat=this.getFormatDateOnly(n);this.timeFormat=this.getFormatTimeOnly(n)},initializeViewOptions:function(n){_.merge(this.__viewOptions,{"style.contextCss":this._isMonthCalendar?"":"datepicker-year",_hideDateControl:this._hideDateControl,_isOnlyFixedDatePicker:this._isOnlyFixedDatePicker,dateFormat:this.dateFormat.slice(0),timeFormat:this.timeFormat.slice(0),label:n.label});this._isOnlyFixedDatePicker&&(this.__viewOptions.wrapperSetCss=ecount.convertor.uniqSumClass(n.wrapperSetCss,"flex-align-center"))},onInitState:function(n,t){_.merge(t,{hasBaseYMError:!1,hasInvalidYearError:!1,keepFocusInside:!1,focusChangeFiredByDateSelect:!1,"opt.useYearLimit":!!this._useSlip});ecount.runtime.observe("date.showBaseYMError",this.ecPageID,function(n){n.cid==this.cid&&this.setState(this._IT_SELF,"hasBaseYMError",!0)}.bind(this));ecount.runtime.observe("date.hideBaseYMError",this.ecPageID,function(n){n.cid==this.cid&&this.setState(this._IT_SELF,"hasBaseYMError",!1)}.bind(this))},onInitComponents:function(n,t){ecount.control.prototype.onInitComponents.apply(this,arguments);_.isArray(this._readOnlyIndex)&&_.isArray(t.components)&&this._readOnlyIndex.length==t.components.length&&(t["attr.disabled"]=t.components.every(function(n){return!!~_.indexOf(this._readOnlyIndex,n.index)}.bind(this))?!0:t["attr.disabled"])},onInitComponent:function(n,t,i,r){r["attr.disabled"]=this._readOnlyIndex&&!!~_.indexOf(this._readOnlyIndex,t)?!0:r["attr.disabled"]},onInitFunction:function(n,t,i){var u=t.functions,r=this._hideDateControl&&!i._isDateOptionChecked;i._isYearCalender||this._isOnlyMonth||this._hideDateButton||(u.datepicker={ecFunction:"button",ecFunctionId:"date.picker",ecService:"layer.datepicker","opt.notVisible":!!r||!!i._isOnlyUseTime,"style.display":!r&&!i._isOnlyUseTime,cid:this.id});this._isTimeRange&&(u.waveMark={ecFunction:"delimiter",ecRole:"delimiter","style.display":!r});this.subLabel&&(u.sublabel["style.display"]=!r)},onInitExtractComponent:function(n,t,i){var r=i.extractData;this.getComponents().forEach(function(n){if(n.ecRole=="date.hide"){this._hideDateControl=!0;return}if(n.ecRole=="date.label"){this.label=!0;return}}.bind(this))},getInitData:function(n){var t=ecount.control.getInitData(n.controlType,n.inIncludePage,n.ecPageID);return(!t||$.isEmptyObject(t))&&(t=ecount.control.getInitData(this.baseControlType,n.inIncludePage,n.ecPageID)),t||(t={}),t.result?t:_.merge(t,{result:{Data:{STARTWEEK:null,MAXYEAR:null,MINYEAR:null,WEEK:null}}})},getInitDataComponents:function(n,t,i){var r=i.data;return this.getCompInOrder(n,t,i).map(function(n,i){if(!n.format)return n;this.setFormatIndex(n.format);switch(n.format){case"y":return this._getSelectboxYearComponent(n,r[0].selectedValue,i,t);case"m":return this._getSelectboxComponent(n,r[1].selectedValue,i,t);case"d":return this._getInputboxComponent(n,r[2].value,i,t);case"h1":return this._getSelectboxComponent(n,r[3].selectedValue,i,t);case"mi1":return this._getSelectboxComponent(n,r[4].selectedValue,i,t);case"h2":return this._getSelectboxComponent(n,r[5].selectedValue,i,t);case"mi2":return this._getSelectboxComponent(n,r[6].selectedValue,i,t);default:return n}}.bind(this))},getInitComponents:function(n,t,i){var r=this.getDefaultSelectedValue(n,t,i);return this.getCompInOrder(n,t,i).map(function(n,i){if(!n.format)return n;this.setFormatIndex(n.format);switch(n.format){case"y":return this._getSelectboxYearComponent(n,r.startYear,i,t);case"m":return this._getSelectboxComponent(n,r.startMonth,i,t);case"d":return this._getInputboxComponent(n,r.startDay,i,t);case"h1":return this._getSelectboxComponent(n,r.startHours,i,t);case"mi1":return this._getSelectboxComponent(n,r.startMinutes,i,t);case"h2":return this._getSelectboxComponent(n,r.endHours,i,t);case"mi2":return this._getSelectboxComponent(n,r.endMinutes,i,t);default:return n}}.bind(this))},_getYearLimit:function(n,t){var i={hasYearLimit:n.hasYearLimit};return n.hasYearLimit&&(i._minYearLimit=n._minYearLimit||(t.config?t.config.beginYear:n._minYear),i._maxYearLimit=n._maxYearLimit||(t.config?t.config.endYear:ecount.control.date.getYearScope(self.ecPageID).maxYear)),i},getFormatDateOnly:function(){return ecount.control.date.getDateFormat()},getFormatTimeOnly:function(){var n=[];return this._isTime&&(n.push("h1"),n.push("mi1"),this._isTimeRange&&(n.push("h2"),n.push("mi2"))),n},getFormatIndex:function(){return this.dateIndex.concat(this.timeIndex||[])},getDateComponents:function(n,t,i){var e=this.getDateRange(n,i),r=this._getComponentHiddenInfo(n,i),u=this._hideDateControl&&!i._isDateOptionChecked,f={"style.css":"btn btn-default btn-selectbox btn-group-select-inline"};return this.dateFormat.map(function(n){var t;switch(n){case"y":t=_.merge({"opt.notVisible":r.isYearHidden,"style.display":!r.isYearHidden&&!u,format:"y",manualInput:!1,ecService:"layer.selectbox","ecService.input":"layer.autocomplete",ecRole:"date.selectbox",mode:"button",option:this.getContinuosDataByRange(e.year,n).map(this._getYearViewType.bind(this)).concat(this.notUseManualInput?[]:[{id:this.manualInputItemId,value:ecount.resource.LBL05716,label:ecount.resource.LBL05716,functionalCss:"noneFocus"}])},f);break;case"m":t=_.merge({"opt.notVisible":r.isMonthHidden,"style.display":!r.isMonthHidden&&!u,format:"m",ecService:"layer.selectbox","ecService.input":"",ecRole:"date.selectbox",isResponsiveHeight:!0,option:ecount.control.date.getResourceAppliedMonth(this.getContinuosDataByRange(e.month,n))},f);break;case"d":t=_.merge({"opt.notVisible":r.isDayHidden,"style.display":!r.isDayHidden&&!u,ecRole:"date.input",format:"d"},f)}return this._isDateSpace&&t.option&&t.option.unshift(this._getEmptyOptionRow(n)),this._getAddonLabel(t)}.bind(this))},getTimeComponents:function(n,t,i){var r=this.getTimeRange(n,i),u=this._hideDateControl&&!i._isDateOptionChecked,f={ecService:"layer.selectbox","style.css":"btn btn-default btn-selectbox btn-group-select-inline"};return this.timeFormat.map(function(n){var t;switch(n){case"h1":case"h2":t=_.merge({"opt.notVisible":!1,"style.display":!u,format:n,option:this.getContinuosDataByRange(r.hour,n).map(this._getHoursViewType.bind(this))},f);break;case"mi1":case"mi2":t=_.merge({"opt.notVisible":!1,"style.display":!u,format:n,option:this.getContinuosDataByRange(r.minute,n).map(this._getMinuteViewType.bind(this))},f)}return this._isDateSpace&&t.option&&t.option.unshift(this._getEmptyOptionRow(n)),this._getAddonLabel(t)}.bind(this))},getOptionalComponents:function(n,t,i){var r=[];return this._hideDateControl&&r.push({cid:this.cid,label:i._hideCheckboxLabel||ecount.resource.LBL04417,ecRole:"date.hide","style.css":"form-checkbox","attr.checked":i._isDateOptionChecked||!1,"attr.name":this.cid+(this.pid?"_"+this.pid:""),"attr.labelid":["control",this.tabID||"",this.gridID||"",this.ecPageID,this.id].join("-")}),this.label&&r.push({cid:this.cid,ecRole:"date.label",label:this.label,"style.css":"form-checkbox","attr.checked":!1,"attr.name":this.cid+(this.pid?"_"+this.pid:"")+"label","attr.labelid":["control","label",this.tabID||"",this.gridID||"",this.ecPageID,this.id].join("-")}),r},getCompInOrder:function(n,t,i){var r=this.getDateComponents(n,t,i),u=this.getTimeComponents(n,t,i),f=this.getOptionalComponents(n,t,i);return r.concat(u).concat(f).map(function(n,t){return _.merge(n,{index:t})})},getDateRange:function(n,t){var u=ecount.control.date.getYearScope(t.ecPageID),i=u.maxYear,r=u.minYear,f=this.getState(this._IT_SELF,"opt.useYearLimit")||this._useSlip;return f||!n.config||$.isNull(n.config.beginYear)||$.isNull(n.config.endYear)||(r=parseInt(n.config.beginYear),i=parseInt(n.config.endYear)),this._minYearLimit&&this._minYearLimit>r&&(r=this._minYearLimit),this._maxYearLimit&&this._maxYearLimit<i&&(i=this._maxYearLimit),{year:{from:i,to:r,step:1},month:{from:"01",to:"12",step:1}}},getTimeRange:function(){return{hour:{from:"00",to:"23"},minute:{from:"00",to:"59"}}},getDefaultSelectedValue:function(n,t,i){var u=this.getDefaultDate(n,t,i),f=this._isTime?this.getDefaultTime(n,t,i):{},r=_.merge(u,f);return this._isLastDay?_.merge(r,{startDay:"01",endDay:this.getLastDayOfMonth(r.endYear,r.endMonth)}):r},setPrimaryDefaultDateBySimpleSearch:function(n){if(n._useDefaultServerParamDate)return!1;var t=ecount.control.getInitData("widget.button.simpleSearch",this.inIncludePage,this.ecPageID);return(t&&t.config&&this.simpleSearchConfig&&(t.config=this.simpleSearchConfig),t&&t.config&&!t.config.IsSlipbarcode&&t.config.CofmDateShortCutMenuMappingButtons&&(t=t.config.CofmDateShortCutMenuMappingButtons,t=t.find(function(n){return n.IS_DEFAULT==!0}),t))?this.isSingleDate()?{defaultBeginDate:t.TO_DATE,defaultEndDate:t.TO_DATE}:{defaultBeginDate:t.FROM_DATE,defaultEndDate:t.TO_DATE}:!1},getDefaultDate:function(n,t,i){var f=ecount.control.date.serverDate(this.ecPageID),e="",o="",s="",h="",c="",l="",r,u,a;return a=this.setPrimaryDefaultDateBySimpleSearch.call(this,i),a&&(r=a.defaultBeginDate,u=a.defaultEndDate),n&&n.config&&(r||$.isNull(n.config.beginDate)||n.config.beginDate.length!=8||(r=n.config.beginDate),u||$.isNull(n.config.endDate)||n.config.endDate.length!=8||(u=n.config.endDate),r?(e=r.substring(0,4),o=r.substring(4,6),s=r.substring(6,8)):this._isDateSpace||(e=f.getFullYear(),o=(f.getMonth()+1).toString().padLeft(2,"0"),s=f.getDate().toString().padLeft(2,"0")),u?(h=u.substring(0,4),c=u.substring(4,6),l=u.substring(6,8)):this._isDateSpace||(h=f.getFullYear().toString(),c=(f.getMonth()+1).toString().padLeft(2,"0"),l=f.getDate().toString().padLeft(2,"0"))),this._isDateSpace&&(e=h="====",o=c="==",s=l=""),{startYear:e,startMonth:o,startDay:s,endYear:h,endMonth:c,endDay:l}},getDefaultTime:function(n){var t="00",i="00",r="00",u="00";return n.config&&!$.isNull(n.config.beginTime)&&n.config.beginTime.length==4&&(t=n.config.beginTime.substring(0,2),i=n.config.beginTime.substring(2,4)),this._isTimeRange&&n.config&&!$.isNull(n.config.endTime)&&n.config.endTime.length==4&&(r=n.config.endTime.substring(0,2),u=n.config.endTime.substring(2,4)),this._isDateSpace&&(t=r=i=u="=="),{startHours:t,startMinutes:i,endHours:r,endMinutes:u}},getStartWeek:function(){return this.startWeek||"0"},getSYear:function(){var n=this.getComponent(this.getPositionIndex("y")),t=(""+n.selectedValue).replace("====","");return n["opt.notVisible"]&&$.isEmpty(t)?(new Date).getFullYear():t},getSMonth:function(){return this._getDate("m",0).replace("==","")},getSRMonth:function(){var n=this.getPositionIndex("m"),t=+this.getSMonth(),i=this._getDateComponentOnly();return t===0?"":i[n].selectedLabel},getSDay:function(){return this._isLastDay?"1":this._getDate("d",0)},getSHours:function(){return this._getDate("h1",0).replace("==","")},getSMinutes:function(){return this._getDate("mi1",0).replace("==","")},getEHours:function(){return this._getDate("h2").replace("==","")},getEMinutes:function(){return this._getDate("mi2").replace("==","")},getDate:function(){var n=new Date,t=this.getComponent(this.getPositionIndex("y")),i=!this._checkYearRange(t,t.selectedValue),r=this.isEmptyStartDate();return r?n=null:(n.setDate(1),n.setYear(i?n.getFullYear():this.getSYear()),n.setMonth(this.getSMonth()-1),n.setDate(this.getSDay())),[n]},isEmptyStartDate:function(){return this.getStartDateComponent().all(function(n){return this._isEmptyValue(n.format=="d"?n.value:n.selectedValue)}.bind(this))},isEmptyEndDate:function(){return this.getEndDateComponent().all(function(n){return this._isEmptyValue(n.format=="d"?n.value:n.selectedValue)}.bind(this))},getStartDateComponent:function(){return this._getDateComponentOnly().filter(function(n,t){if(t<this.dateFormat.length)return n}.bind(this))},getEndDateComponent:function(){return this._getDateComponentOnly().filter(function(n,t){if(t>=this.dateFormat.length+(this.timeFormat&&this.timeFormat.length/2))return n}.bind(this))},getStandardValue:function(){return this.getDate()},getDateFormat:function(n){var t=this.getDate();return $.isNull(n)&&(n="yyyy-MM-dd"),t.map(function(t){return t?t.format(n):""})},getComposedSetupDate:function(){var n=[],t=this.getComponents();return t.map(function(t,i){var r="",u=i==this.dateFormat.length?"~":"",f=t.format=="d"?t.value:t.selectedLabel,e=t.prefixSpace?" ":"",o=t.postfixSpace?" ":"",s=$.isEmpty(t.prefix)?"":t.prefix,h=$.isEmpty(t.postfix)?"":t.postfix;r=u+e+s+f+h+o;n.push(r)}.bind(this)),n.join("")},getDateFormatByIndex:function(n){if(n!=undefined&&this.dateIndex&&this.dateIndex.length){n=+n;var t=this.getFormatIndex(),i=t.length>n?n:n%t.length,r=t.length>n?"s":"e";return r+t[i]}},getValue:function(n){var i=this.getComponents(),t=i[parseInt(n||0)];if(t)return t.format=="d"?t.value:t.ecRole=="date.hide"?t["attr.checked"]:t.selectedValue},getGridSelectedLabel:function(){return this.getComposedSetupDate()},hasCheckControlType:function(n){return/^widget.(date|multiDate|dualDate).*/.test(n.controlType)},getFromDateDisplayState:function(){for(var t=this.dateFormat.length,i=0,n=0;n<t;n++)this.getState(n,"style.display")||(i+=1);return i===t?!1:!0},getPriorityDateFocusIndex:function(n,t){var o=this.dateFormat,f=t||["d","m","y"],e=0,i,r,u;for(n=_.isUndefined(n)&&this.getFromDateDisplayState()?!1:!0,i=0;i<f.length;i++)if(r=f[i],u=n?this.getPositionIndex(r)+o.length:this.getPositionIndex(r),this.isVisibleElement(u)){e=u;break}return e},setSYear:function(n){var t=this.getComponent(this.getPositionIndex("y"));this._checkYearRange(t.index,n)?(this.hideError(t.index),this._setDate(this.getPositionIndex("y"),n)):(this._setErrorYearValue(t.index,n),this._showInvalidYearError())},setSMonth:function(n){this._setDate(this.getPositionIndex("m"),n)},setSDay:function(n){this._setDate(this.getPositionIndex("d"),this._isLastDay?"1":n)},setSHours:function(n){n==24&&(n="00");this._setDate(this.getPositionIndex("h1"),n)},setSMinutes:function(n){n==60&&(n="00");this._setDate(this.getPositionIndex("mi1"),n)},setEHours:function(n){n==24&&(n="00");this._setDate(this.getPositionIndex("h2"),n)},setEMinutes:function(n){n==60&&(n="00");this._setDate(this.getPositionIndex("mi2"),n)},setDate:function(n,t){var f=$.isArray(n),u=f?n[0]:n,i=this.dateFormat.map(function(n,t){return t}),r;this._isTime?(i=i.concat(this.timeFormat.map(function(n,t){return t+i.length})),r=this.splitDate(u,this.dateFormat.concat(this.timeFormat))):r=this.splitDate(u,this.dateFormat);t&&this.setNotChangeDelegatorFlag(!0);this.setDateItem(i,r);t&&this.setNotChangeDelegatorFlag(!1);this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"));this._isOnlyFixedDatePicker&&this.datepickerLayer&&(this.datepickerLayer.setDateRange(this.getDate()),this.datepickerLayer.redraw())},setFormatIndex:function(n){~["y","m","d"].indexOf(n)&&(this.dateIndex||(this.dateIndex=[]),this.dateIndex.push(n));~["h1","mi1","h2","mi2"].indexOf(n)&&(this.timeIndex||(this.timeIndex=[]),this.timeIndex.push(n))},setStandardValue:function(){this.setDate.apply(this,arguments)},setValidDate:function(n,t){var i;isNaN(t)||parseInt(t,10)<=0?this.setValue(n,1):(i=Date.daysInMonth(this.getSMonth()-1,this.getSYear()),i!==undefined&&t>i&&this.setValue(n,i,!0))},setValue:function(n,t){arguments.length&&(t=arguments.length>1?arguments[1]:"",this._setDate(n,t))},setDateByString:function(n){var i,r,t;for($.isArray(n)||(n=[n]),i=0,r=n.length;i<r;i++)n[i]=n[i]||"",t=n[i],t&&t!=""&&!t.test(/\D/g)&&(t=t.match(/^(.{4})(.{2})(.{2})$/),t.shift(),t=t.join("-")),$.isDate(t)&&(n[i]=t.toDate());this.setDate(n)},getERAArrayList:function(){return ecount.control.date.getERAList(this.ecPageID)},getDateUseChecked:function(){if(!this._hideDateControl)return"";var n=this.getComponentByAttr("ecRole","date.hide");return n&&n["attr.checked"]?"1":"0"},setDateUseChecked:function(n,t){if(this._hideDateControl&&n!==undefined){var i=this.getComponentByAttr("ecRole","date.hide");this.setState(i.index,"attr.checked",Boolean(n));this.displayDateControl(t===undefined?!0:t);n||this.resetYearValidation()}},setReadOnly:function(){var n=Array.prototype.slice.call(arguments,0),t,i;n.length==1?this._setStateByType.apply(this,["attr.disabled"].concat(n)):n.length==2&&(t=n.unshift(n.pop()),this._setStateByType.apply(this,["attr.disabled"].concat(n).concat(t)));n.length!=1&&(i=n[1],this._setReadonlyState(i))},setSyncedEmtpyData:function(n,t){this._wrappingDateChangeFunc(this._setSyncEmptyData)(n,t)},validate:function(){return this.checkYearValidation()&&this.setPreventHideError(!0),ecount.control.prototype.validate.apply(this,arguments)},checkValidate:function(n,t){var i=n||[],o=this._getValidateValue(),r=this.getDate(),u,f,e;return r.contains(null)?this._isDateSpace&&i.contains("required")?ecount.validator.validate(o,i,t):[]:this._hideDateControl&&(e=this.getComponentByAttr("ecRole","date.hide"),!e["attr.checked"])?[]:(u=this.checkYearValidation())?u:(f=this.checkDateValidation(r))?f:[]},checkYearValidation:function(){for(var r=this.getPositionIndex("y"),i=[this.getComponent(r)],n=0,u=i.length,t;n<u;n++)if(t=i[n],!this._checkYearRange(t,t.selectedValue))return this.setState(this._IT_SELF,"hasInvalidYearError",!0),[{message:ecount.resource.message.INVALID_YEAR,method:"checkInvalidYear"}];this.hideInvalidYearError();this.setState(this._IT_SELF,"hasInvalidYearError",!1)},checkDateValidation:function(){},validateYearForDateChange:function(){this.getState(this._IT_SELF,"hasInvalidYearError")&&!this.checkYearValidation()&&(this.setPreventHideError(!1),this.hideError(this._IT_SELF))},validateYearForFocusEvent:function(n){if(!n||!n.isFromFormToggle)return this.checkYearValidation()?(this.setPreventHideError(!0),this.hasError()?this.resetPopover(this._IT_SELF,{directshow:!0}):this._showInvalidYearError(),!0):(this.hideInvalidYearError(),!1)},hideInvalidYearError:function(){this.getState(this._IT_SELF,"hasInvalidYearError")&&(this.setPreventHideError(!1),this.hideError(this._IT_SELF))},isDateControl:function(){return!0},isVisible:function(){return this.pcid&&this._hideDateButton&&this._isOnlyUseDatepicker?!0:ecount.control.prototype.isVisible.apply(this,arguments)},displayChange:function(n,t,i){i=i==undefined?!0:i;var r=this.getComponentByAttr("ecRole","date.hide");r&&(this.setState(r.index,"attr.checked",n),this.setState(r.index,"attr.disabled",t),this.displayDateControl(i),n||this.resetYearValidation())},save:function(){var n=this.getComponentByAttr("ecRole","date.hide"),t=this._isTime?"yyyy-MM-dd hh:mm":"yyyy-MM-dd",i=this.getDate().map(function(n){return n?n.format(t):""}),r=this.useFnActivedItem()?this.getFnActivedId():null;return{key:this.id,value:{date:i,checkbox:n?n["attr.checked"]:undefined,fn:r}}},restore:function(n){var u=this._getDateFromDateString(n.date),i,r,t;n.checkbox!==undefined&&(i=this.getComponentByAttr("ecRole","date.hide"),i&&(r=i.index,t=n.checkbox,typeof t=="string"&&(t=t=="1"?!0:!1),this.setState(r,"attr.checked",t),this.displayDateControl(!1)));this.setDate(u);n.checkbox===!1&&this.resetYearValidation();this.useFnActivedItem()&&!$.isNull(n.fn)&&this.setFnActivedId(n.fn)},getSyncData:function(){return{data:this.getExtractState(["value","selectedValue","selectedLabel","attr.checked","style.display"])}},getResetState:function(){return this.getOriginState(["value","selectedValue","selectedLabel","attr.checked","style.display"])},isSyncCustomTab:function(){return this._isSyncCustomTab},getInitFocusIndex:function(){return this.getPriorityDateFocusIndex()},extract:function(){var n=""+(new Date).getFullYear(),t=this._checkYearRange.bind(this),i=this._getYearViewType.bind(this);return{__state:_.extend({},this.__state,{components:this.__state.components.map(function(r){var u=_.cloneDeep(r),f;return r.mode&&(u.mode="button"),r.format!="y"||t(r,r.selectedValue)||(f=i({value:n,label:n}),u.selectedValue=f.value,u.selectedLabel=f.label),u}),hasBaseYMError:!1,hasInvalidYearError:!1}),__viewOptions:_.cloneDeep(this.__viewOptions)}},reset:function(n,t){var i;ecount.control.prototype.reset.apply(this,arguments);i=this.getComponentByAttr("ecRole","date.hide");this.displayDateControl(t);i&&!i["attr.checked"]?this.resetYearValidation():this.checkYearValidation()||(this.setState(this._IT_SELF,"hasInvalidYearError",!1),this.setPreventHideError(!1),this.hideError(this._IT_SELF,!1,!0))},serialize:function(){},serializeById:function(){return this.serialize(this.id)},toString:function(n){return n=n||"yyyyMMdd",this.getDate().map(function(t){return t.format(n)})},destroy:function(){ecount.runtime.stopObserving("date.showBaseYMError",this.ecPageID);ecount.runtime.stopObserving("date.hideBaseYMError",this.ecPageID);ecount.control.prototype.destroy.call(this)},displayDateControl:function(n){var i=this.getComponentByAttr("ecRole","date.hide"),h=this._getDefaultDelegatorInfo(),e=this.getComponents(),o=Object.getOwnPropertyNames(this.getState(this._IT_SELF,"functions")),s=this._getNotDisplayFlagMap(),u,t,r,f;if(i){for(t=0,r=e.length;t<r;t++)u=e[t],t==i.index||s[u.format]||u["opt.notVisible"]||this.setState(t,"style.display",i["attr.checked"]);for(t=0,r=o.length;t<r;t++)f=o[t],s[f]||this.setState(f,"style.display",i["attr.checked"]);this._hideDateControl&&n&&this.delegator&&this.delegator.triggerEvent("dateControl.display",_.extend(h,{targetID:this.id,baseID:this._baseDateControlId,dateChange:!this._hideDateIndividual&&i["attr.checked"]}))}},displayTimeControl:function(){},resetYearValidation:function(){for(var f=this._getYearComponentIndexes(),r=f.map(function(n){return this.getComponent(n)}.bind(this)),u=""+(new Date).getFullYear(),t=0,e=r.length,n,i;t<e;t++)n=r[t],this._checkYearRange(n,n.selectedValue)||(i=this._getYearViewType({value:u,label:u}),this.setState(n.index,"selectedValue",i.value),this.setState(n.index,"selectedLabel",i.label));this.checkYearValidation()||(this.setPreventHideError(!1),this.hideError(this._IT_SELF))},resetStateByData:function(n){var t,i,r;for(this.pendingViewUpdate(!0),n.sort(function(n,t){return t[1]=="value"?-1:0}),i=0,r=n.length;i<r;i++)t=n[i],t[1]=="value"?this._setResetValue(t[0],t[1],t[2]):this.setState(t[0],t[1],t[2]);this.pendingViewUpdate(!1);this.batchUpdateView()},setNotChangeDelegatorFlag:function(n){this.isNotChangeDelegatorFlag=n},getNotChangeDelegatorFlag:function(){return this.isNotChangeDelegatorFlag},executeChangeDelegator:function(n){if($.isEmpty(n)&&(n={}),!this.isAbleToExecuteDelegator()){this._delegatorQueue.push(n);return}if(this.gridID&&this.executeParentChangeDelegator){this.executeParentChangeDelegator(n);return}this.getNotChangeDelegatorFlag()||(ecount.control.prototype.executeChangeDelegator.call(this,n),this.pcid&&this.executeParentChangeDelegator&&(_.merge(n,{cid:this.cid}),this.executeParentChangeDelegator(n)))},executeDelegatorQueue:function(){var t=this.getGridDelegatorOption(),i,n;if(this._delegatorQueue&&this._delegatorQueue.length){if(this.gridID){n=this._getChangedDataFormGrid();this._delegatorQueue=[];t&&_.extend(n,t);this.executeChangeDelegator(n);return}if(this.triggerChangeEventOnce)this.executeChangeDelegator(this._delegatorQueue);else while(this._delegatorQueue.length)i=this._delegatorQueue.shift(),this.executeChangeDelegator(i)}},notifyGridDateChange:function(){if(this.isInGridWithoutCombineParent()){var n=this._getChangedDataFormGrid();_.extend(n,this.getGridDelegatorOption()||{});this.executeChangeDelegator(n)}},onLazyRender:function(){this.validateYearForFocusEvent()},onAutoCompleteClickHandler:function(){},onKeydownSaveHandler:function(n,t,i,r){ecount.runtime.stopObserving("page.runkeydown.save",this.ecPageID+"."+this.cid);ecount.runtime.observe("page.runkeydown.save",this.ecPageID+"."+this.cid,function(){var f=this._isLayerShow(r.ecIKey),e=this._getDateComponentOnly().filter(function(n){return n.format=="d"}),i,o,u;if(!this._isDateSpace)for(i=0,o=e.length;i<o;i++)this._setDayCompNonEmptyValue(e[i].index,e[i].value);return n.ecService==ecount.layer.constValue.AUTOCOMPLETE&&(this.setState(n.cindex,"mode","button"),u=ecount.control.date.getSelctedERA(this._ERA_LIST,n.value),u&&(this.setState(n.cindex,"selectedLabel",u.label),this.setState(n.cindex,"selectedValue",u.value)),this.executeChangeDelegator({cindex:n.cindex,value:this.getState(n.cindex,"selectedValue")}),f=!1),f||this._keepFocusInsideControl(n,t,r),f?!1:void 0}.bind(this))},onLayerClickHandler:function(n,t,i,r){switch(n.ecFunction){case"select":this._wrappingDateChangeFunc(this._dateChangeHandler)(n,t,r);break;case"autocomplete":this._wrappingDateChangeFunc(this._autoCompleteChangeHandler)(n,t,r);break;case"datepicker":this._wrappingDateChangeFunc(this._datePickHandler)(n,t,r)}this.validateYearForDateChange()},onFocusOut:function(n){var t=this.getCurrentFocusedIndex();this.getState(this._IT_SELF,"opt.lockErrorStatus")||this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate")&&!this.doPreventAction());this.setState(this._IT_SELF,"opt.lockErrorStatus",!1);n===!0&&this.ecview&&this.ecview.onBlur(t)},onBeforeComponentFocusInHandler:function(n){var t=this.getComponent(n.ecRoleIndex||n.cindex);t&&(t.format=="y"&&(t.mode=="button"?this.validateYearForFocusEvent(n):this.hideInvalidYearError()),t.format=="d"&&this.setState(n.cindex,"opt.selectRange",!0))},onBeforeComponentFocusOutHandler:function(n,t,i,r){var u=this.getComponent(n.ecRoleIndex||n.cindex),f,o,e,s;if(u)return this.getState(this._IT_SELF,"keepFocusInside")?(n.suspend=!0,!1):u.format=="y"?(f=this.getState(u.index,"focusChangeFiredByModeChange"),o=u.mode=="input",f||(e=ecount.control.date.getSelctedERA(this._ERA_LIST,n.value),e&&(this.setState(u.index,"selectedLabel",e.label),this.setState(u.index,"selectedValue",e.value)),this.setState(u.index,"mode","button"),this._wrappingDateChangeFunc(this._setSyncEmptyDataBeforeChangeHandler)(u),this.executeTabSync()),s=this.validateYearForFocusEvent(n),!o||s||f||(this._addManualYearOption(u.index),this._wrappingDateChangeFunc(this._dateChangeHandler)(n,t,r)),!f&&!o):u.format=="d"?(this.setState(u.index,"opt.selectRange",!1),!0):void 0},onServiceComponentFocusOutHandler:function(n){var t=this.getComponent($.isNull(n.cindex)?n.ecRoleIndex:n.cindex),i=n.value||t.selectedValue,r=t.option.find(function(n){return n.value==i}),u=ecount.layer.getActivatedLayer();if(!u||u.type!="autocomplete"||t.mode!="input"){if(r)switch(r.id){case this.emptyItemId:return;case this.manualInputItemId:this._changeManualInputCompValue(t,r);i=t.option[t.option.length-2].value}i&&typeof i=="string"&&i.test(/\D/g)||(t.format=="y"?this._setValidYearData(n,i):this._setValidMonthData(n,i))}},_onKeypressOthersHandler:function(n,t){var u=String.fromCharCode(t.which),i=this.getComponent(n.ecRoleIndex||n.cindex),f,r;if(i&&i.format!="d"&&i.mode!="input"){if(r=i.option,i.format=="y"&&i.mode=="button"){this.setState(i.index,"focusChangeFiredByModeChange",!0);this.setState(i.index,"mode","input");this.setState(i.index,"value","input");this.setFocusOnComponent(i.index,!0);return}f=ecount.control.select.getCurrentOptionIndex(i);u!=this._keyStack&&(this._keyStack+=u.toLowerCase());this.keyStackID&&ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.keyStackID);ecount.control.select.autoCompleteHandler(this._keyStack,f,r,function(n){this._setDateValueState(i,r[n].value)}.bind(this));this.keyStackID=ecount.global.setTimeout(this.ecPageID,function(){this.keyStackID=null;this._keyStack=""}.bind(this),300)}},onCallbackBeforeCalendar:function(){},onCallbackBeforeCalendarOnce:function(){},getContinuosDataByRange:function(n,t){var r=null,u=["m","h1","h2","mi1","mi2"].contains(t),i=ecount.control.select.getContinuosDataByRange(n,function(n){var t=[];return $.isNull(n)||t.push(u?n.padding(2):n),t=t.join(""),{id:this.id+"_"+t,label:n.padding(2),value:t}}.bind(this));return r=i[0].value<i[i.length-1].value,!this.sortAsc&&r&&!u?i.reverse():i},getDateSetLength:function(){var n=3;return this._isTime&&(n+=2,this._isTimeRange&&(n+=2)),n},getLastDayOfSelectedMonth:function(){return this.getStartDateLastDay()},getStartDateLastDay:function(){return this.getLastDayOfMonth(this.getSYear(),this.getSMonth())},getLastDayOfMonth:function(n,t){var i=new Date;return i.setDate(1),i.setYear(n),i.setMonth(+t-1),i.daysInMonth()},toDateString:function(n){var t=this.getDate()[0],i=this._getDateComponentOnly().reduce(function(n,t){return t["style.display"]&&n.push(t.format),n}.bind(this),[]);return[t?this.splitDate(t,i,n).join(""):""]},splitDate:function(n,t,i){var f,u,r,e;if(n instanceof Date)return t.map(function(t){switch(t){case"y":return n.getFullYear();case"m":return i?n.getMonth()+1:(n.getMonth()+1).padding(2);case"d":return i?n.getDate():n.getDate().padding(2);case"h1":case"h2":return i?n.getHours():n.getHours().padding(2);case"mi1":case"mi2":return i?n.getMinutes():n.getMinutes().padding(2)}});if(this._isDateSpace&&n=="")return t.map(function(n){switch(n){case"y":return"====";case"m":case"h1":case"h2":case"mi1":case"mi2":return"==";case"d":return""}});if(typeof n=="string"){for(f=[],u=n.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3").split("-"),r=0,e=t.length;r<e;r++)f.push(t[r]=="y"?u[0]:t[r]=="m"?u[1]:u[2]);return f}},onKeyInputFilter:function(n){var t=+n.ecRoleIndex;switch(t){case this.getPositionIndex("y"):this.setFilteredYearInput(n);break;case this.getPositionIndex("d"):this.setFilteredDayInput(n)}},onMessage:function(n,t){if(n.pageID=="EGJ006P_21"){switch(t.type){case"getRepeatInfo":this.sendRepeatInfo(t);return;case"delete":this.deleteRepeatInfo(t);break;default:this.setRepeatInfo(t)}t.callback&&t.callback()}},getPositionIndex:function(n){var t=this.getFormatIndex().indexOf(n);return t===-1&&(t=undefined),t},getLayerAutocompleteOption:function(n){var t=ecount.control.prototype.getLayerAutocompleteOption.apply(this,arguments);return _.extend(t,{value:n.value,autoHighlightFirstResult:!0,searchSourceList:this._ERA_LIST||[],setupHandler:this.setManualInputAutoCompleteSetting.bind(this,this),responseFilter:this.getManualInputAutocompleteList.bind(this)})},getManualInputAutocompleteList:function(n,t){return(t=this._getOnlyNumericValue(t),$.isEmpty(t)||!_.isNumber(+t))?[]:Object.getOwnPropertyNames(n).filter(function(i){return i!="length"&&n[i].indexOf(t)>1}).map(function(t){return{id:t,label:n[t],value:t}})},getLayerDatepickerOption:function(){if(this._isYearCalender)return!1;var f=ecount.control.prototype.getLayerDatepickerOption.apply(this,arguments),i=this._getDateComponentOnly(),r=this.getPositionIndex("y"),u=this.getPositionIndex("m"),n=i[r],t=i[u];return _.merge(f,{minYear:this._minYear,minYearLimit:this.hasYearLimit?this._minYearLimit:undefined,maxYearLimit:this.hasYearLimit?this._maxYearLimit:ecount.control.date.getYearScope(self.ecPageID).maxYear,calendarData:this.calendarData,selectedSYear:{label:n.selectedLabel,value:n.selectedValue},selectedSMonth:{label:t.selectedLabel,value:t.selectedValue},isMonthCalendar:this._isMonthCalendar,isDateSpace:this._isDateSpace,isYearFirst:r<u,onlyThisYear:this._onlyThisYear,notUseHolidayConfig:this.notUseHolidayConfig,notUseHide:this.notUseHide,setInvalidYear:this._setInvalidYear.bind(this),sYearData:n.option.filter(this._getOptionsExceptEmpty.bind(this)),sMonthData:t.option.filter(this._getOptionsExceptEmpty.bind(this)),holidayURL:this.holidayURL,eraList:ecount.config.company.MYPAGECOMPANY_DATE&&ecount.config.company.MYPAGECOMPANY_DATE.GROUP_CD_INPUT?_.cloneDeep(this._ERA_LIST):undefined,beforeShowDatePickerHandler:this._ON_BEFORE_SHOW_DATEPICKER.bind(this)})},setDateItem:function(n,t){var s=this._getDateComponentOnly(),h=this.getDateSetLength(),c=["y","m","d"],i=[],r,u,f,e,o;if(t!=undefined&&$.isArray(t)){for(n.forEach(function(n){var t=c.indexOf(s[n].format);i[t]=n}),i=i.filter(function(n){return n!==undefined}),this.disableStateObserving(),this.disableDelegatorExecution(),r=0,o=i.length;r<o;r++)(u=i[r],f=s[u],e=u>=h?u-h:u,value=t[e],!$.isNull(t[e])&&f)&&(r==o-1&&this.enableStateObserving(),this._setDateValueState(f,value));this.enableDelegatorExecution();this.executeDelegatorQueue()}},setManualInputAutoCompleteSetting:function(n,t,i,r){r(i)},setFocusToSDate:function(){this.setFocus(this.getPositionIndex("d"))},setFocusToEDate:function(){},setFilteredYearInput:function(n){var t=n.value;(t.length&&isNaN(Number(t))&&(t=t.replace(this.nonNumericReg,"")),t.length>4&&(t=t.substring(0,4)),t.trim().length)&&this.setState(n.ecRoleIndex,"selectedValue",t,!0)},setFilteredDayInput:function(n){var t=n.value,i=this.getLastDayOfSelectedMonth(n.ecRoleIndex);this.nonNumericReg.test(t)&&(t=t.replace(this.nonNumericReg,""));t.length>2&&(t=t.substring(0,2));+t>+i&&(t=i);this.setState(n.ecRoleIndex,"oldValue",this.getState(n.ecRoleIndex,"value"));this.setState(n.ecRoleIndex,"value",t,!0)},hasEmptyComponent:function(){var t=this._getDateComponentOnly(),n=this.getDateSetLength();return t.any(function(t,i){var u=i>=n&&["y","m","d"].contains(t.format)?n:0,r=this._getDate(t.format,u);return!r||~r.indexOf("=")},this)},hasEmptyYearMonth:function(n){var t=this._getDateComponentOnly();return n=n||0,t.any(function(t){var i=this._getDate(t.format,n);return~i.indexOf("=")},this)},isEmptyDate:function(){return this._getDateComponentOnly().all(function(n){return this._isEmptyValue(n.format=="d"?n.value:n.selectedValue)}.bind(this))},_getYearComponentIndexes:function(){return[this.getPositionIndex("y")]},_getSelectboxYearComponent:function(n,t,i,r){var u=this._getSelectboxComponent(n,t,i,r),f;return this._ERA_LIST&&this._ERA_LIST[u.selectedLabel]&&(u.selectedLabel=this._ERA_LIST[u.selectedLabel]),$.isEmpty(t)||u.option.find(function(n){return n.value==t})||(f=this._getYearViewType({value:t,label:t,isTemp:!0}),u.option.unshift(f)),u.focusChangeFiredByModeChange=!1,u},_getSelectboxComponent:function(n,t){($.isEmpty(t)||n.format=="m"&&t=="00")&&(t=n.option[0].value);var i=n.option.find(function(n){return n.value==t});return _.extend({selectedValue:t,selectedLabel:i?i.label:t},n)},_getInputboxComponent:function(n,t){return this._isLastDay&&n.foramt=="d"?_.merge({},n,{value:"01"}):_.merge({value:t,"opt.selectRange":!1,oldValue:""},n)},_getYearViewType:function(n){return ecount.control.date.getResourceAppliedYear(this._ERA_LIST,n)},_getDayViewType:function(n){return typeof n=="number"&&(n=""+n),n=n.trim(),n&&n!="0"&&n!="00"||(n="1"),ecount.config.company.MYPAGECOMPANY_DATE&&ecount.config.company.MYPAGECOMPANY_DATE.DAY_INPUT_FORMAT=="d"||(n=(""+n).padLeft(2,"0")),n},_getHoursViewType:function(n){if(!n)return n;var t=""+n.value,r="1",u="h",i="";ecount.config.company.MYPAGECOMPANY_DATE&&(ecount.config.company.MYPAGECOMPANY_DATE.HS_TYPE&&(r=ecount.config.company.MYPAGECOMPANY_DATE.HS_TYPE.toString()),ecount.config.company.MYPAGECOMPANY_DATE.HOUR_OUTPUT_FORMAT&&(u=ecount.config.company.MYPAGECOMPANY_DATE.HOUR_OUTPUT_FORMAT));r!="3"?(t=+t,t>11?(i=ecount.resource.LBL01937,t>12&&(t=t-12)):i=ecount.resource.LBL01936):u=="hh"&&(t=t.toString().padLeft(2,"0"));switch(r){case"1":return _.merge(n,{label:[i," ",t].join("")});case"2":return _.merge(n,{label:[t," ",i].join("")});default:return n}},_getMinuteViewType:function(n){if(!n)return n;var t=""+n.value;return ecount.config.company.MYPAGECOMPANY_DATE&&ecount.config.company.MYPAGECOMPANY_DATE.MIN_OUTPUT_FORMAT=="m"||(t=t.padLeft(2,"0")),_.merge(n,{label:t})},_getComponentHiddenInfo:function(){var t,i,n;switch(!0){case this._onlyThisYear:t=!0;break;case!this._isMonthCalendar:case this._isNotShowDay:n=!0;break;case this._isOnlyMonth:t=n=!0;break;case this._isYearCalender:i=n=!0;break;case this._isOnlyUseTime:case this._isOnlyUseDatepicker:t=i=n=!0}return{isYearHidden:t,isMonthHidden:i,isDayHidden:n}},_getAddonLabel:function(n){if(!(ecount.config.company.MYPAGECOMPANY_DATE&&!this._isYearCalender&&!this._isOnlyUseTime))return n;var i=ecount.config.company.MYPAGECOMPANY_DATE,t=[],r,u,f,e;switch(n.format){case"y":t.push("YEAR");break;case"m":t.push("MONTH");break;case"d":t.push("DAY");break;case"h1":case"h2":t.push("HOUR");break;case"mi1":case"mi2":t.push("MIN")}return t.push("_INPUT_"),r=i[t.concat(["FRONT_CHAR"]).join("")],u=i[t.concat(["BACK_CHAR"]).join("")],f=i[t.concat(["FRONT_BLANK"]).join("")],e=i[t.concat(["BACK_BLANK"]).join("")],_.merge({prefix:r,postfix:u,prefixSpace:f,postfixSpace:e},n)},_getSelectLabel:function(n,t){var r=n.option.find(function(n){return n.value==t}),i=(""+t).substring(0,4);return r&&(i=r.label),n.format=="y"&&ecount.config.company.MYPAGECOMPANY_DATE&&ecount.config.company.MYPAGECOMPANY_DATE.GROUP_CD_INPUT&&this._ERA_LIST[t]&&(i=this._ERA_LIST[t]),typeof i!="string"&&(i=""+i),i},_getEmptyOptionRow:function(n){var t="".padLeft(n=="y"?4:2,"=");return{id:this.id+"_empty",label:t,value:t}},_getDateComponentOnly:function(){return this.__state.components.filter(function(n){return n.format})},_getOptionsExceptEmpty:function(n){return n.id!=this.emptyItemId},_getSelectedLayerData:function(n,t){var e=t.index,i=t.selected,r="",u="",f=!1;return i&&i.id==this.manualInputItemId?{label:r,value:u,manual:f,isModeChange:!0}:(i?(r=i.label,u=i.value,f=!1):this.getComponent(e).mode=="input"&&(r=n.value,u=n.value,f=!0),{label:r,value:u,manual:f,isModeChange:!1})},_getDate:function(n,t){var i=this.getPositionIndex(n),r=this._getDateComponentOnly(),u;return(t=t||0,n=="d")?(u=r[i+t].value?(""+r[i+t].value).padLeft(2,"0"):"",u=="00"?"01":u):String(r[i+(t||0)].selectedValue)||""},_getDayComponent:function(){return this.getComponent(this.dateFormat.indexOf("d"))},_getValidateValue:function(){return this.getDateFormat("yyyyMMdd").join("")},_getNotDisplayFlagMap:function(){return{y:this._onlyThisYear||this._isOnlyMonth||this._isOnlyUseTime,m:this._isYearCalender||this._isOnlyUseTime,d:!this._isMonthCalendar||this._isNotShowDay||this._isOnlyMonth||this._isYearCalender||this._isOnlyUseTime,datepicker:this._isYearCalender||this._isOnlyMonth,waveMark:!this._isTimeRange}},_getPaddedDayValue:function(n){return $.isEmpty(n)?""+n:(""+n).padLeft(2,"0")},_getYearValueFromEvent:function(){return this.getSYear()},_getDayValueFromEvent:function(n){var i=n.ecRoleIndex||n.cindex,t=this.getDateSetLength(),r=i>t?t:0;return+n.value?n.value:this._hasEmptyComponentInDateSet(r)?"":1},_getDateFromDateString:function(n){var t=[function(n,t){n.setMonth(+t[1]-1)},function(n,t){n.setYear(t[0])},function(n,t){n.setDate(t[2])},function(n,t){t[3]&&n.setHours(t[3])},function(n,t){t[4]&&n.setMinutes(t[4])}];return n.map(function(n){var u,i,r,f;if(n==="")return"";for(n instanceof Date&&(n=n.format("yyyy-MM-dd hh:ss")),u=n.split(/[-\s:TZ]/),i=new Date,i.setDate(1),r=0,f=t.length;r<f;r++)t[r](i,u);return i})},_getYearList:function(n){var t=this.getComponent(n).option.filter(function(n){return n.id!=this.emptyItemId&&n.id!=this.manualInputItemId&&!n.isTemp}.bind(this));return t[0].value>t[t.length-1].value&&t.reverse(),t},_getOnlyNumericValue:function(n){return $.isNull(n)&&(n=""),(""+n).replace(/\D*/g,"")},_getChangedDataFormGrid:function(){return{cid:this.cid,gridColumnID:this.gridColumnID,gridControlArea:this.gridControlArea,gridDataKey:this.gridDataKey,gridDetailTableID:this.gridDetailTableID,gridID:this.gridID,gridSectionType:this.gridSectionType,data:this.isEmptyDate()?[null]:this.getDateFormat("yyyy-MM-dd")}},_setDayCompValueByFocusOut:function(n,t,i){var r=$.isEmpty(t.value);this._isDateSpace?i||r?!i&&r?this.setSyncedEmtpyData(t.index,""):i&&!r&&this._wrappingDateChangeFunc(this._setValidDayData)(n):this._setDayCompNonEmptyValue(t.index,n.value):this._setDayCompNonEmptyValue(t.index,n.value)},_setInputValue:function(n,t,i,r){this._updateInputValue(n,t,i,r)},_updateInputValue:function(n){var u=this._getDateComponentOnly(),i=n.cindex,r=u[i],t=this._getOnlyNumericValue(n.value);if(this._during_input_event=!0,r.format=="y"){if($.isEmpty(t))return;this.setState(i,"selectedValue",t);this.setState(i,"selectedLabel",this._getSelectLabel(r,t));this.setState(i,"value",t)}else this._setDateValueState(r,t);this._during_input_event=!1},_setDate:function(n,t){var r=this._getDateComponentOnly(),i=r[n];i&&(!t&&this._isDateSpace&&(t=this._getEmptyDateValue([i.format])[0]),this._setDateValueState(i,t))},_setDateValueState:function(n,t){var i=n.index,f=this._getDayComponent(i),r=!!(n.format=="d"),u;n&&(r||(u=this.getState(i,"selectedValue")!=t,this.setState(i,"selectedValue",t),this.setState(i,"selectedLabel",this._getSelectLabel(n,t))),this.setFilteredDayInput({ecRoleIndex:f.index,value:r?t:f.value}),r&&(u=n.oldValue!=n.value),(n["style.display"]||this._isOnlyFixedDatePicker)&&u&&(r&&this.setState(i,"oldValue",this.getState(i,"value")),this.executeChangeDelegator({cindex:i,value:t})))},_setSyncedTime:function(n){if(!(this.getDateSetLength()<7)&&!$.isNull(n.ecRoleIndex)&&!this.noTimeSync){var t=this.getDate(),u=this.getComponent(n.ecRoleIndex),i,r;t.any(function(n){return!n})||(i=[t[0].format("hh"),t[0].format("mm")],r=[t[1].format("hh"),t[1].format("mm")],i.join("")>r.join("")&&(~["h2","mi2"].indexOf(u.format)?(this.setSHours(r[0]),this.setSMinutes(r[1])):(this.setEHours(i[0]),this.setEMinutes(i[1]))))}},_setDateToComponent:function(n,t,i,r){var e=i?this.splitDate(i,this.dateFormat):this._getEmptyDateValue(this.dateFormat),u=this._isMonthCalendar?this.getPositionIndex("d"):this.getPositionIndex("m"),f=e[t],o=f>=this._minYear,s=!this.getState(this._IT_SELF,"opt.useYearLimit")||f<=n,h=this._isDateSpace&&f=="",c=this.getDateSetLength(),l=this.dateFormat.map(function(n,t){return r?t+c:t});o&&s||h?(this.setDateItem(l,e),r!=0&&this.setFocus(r==0?u:u+this.getDateSetLength())):(this.hasError()||this.showError(this._IT_SELF,ecount.resource.message.INVALID_YEAR,!0),this.setFocus(r==0?u:u+this.getDateSetLength()))},_getEmptyDateValue:function(n){var t=[];return!n||n.forEach(function(n){switch(n){case"y":t.push("====");break;case"m":case"h1":case"h2":case"mi1":case"mi2":t.push("==");break;case"d":t.push("")}}),t},_setInvalidYear:function(n,t){var i=this._getYearComponentIndexes()[n],r=this.getComponent(i);this._checkYearRange(r,t.value)?this.hideError(i):this._showInvalidYearError();this.setState(i,"selectedValue",t.value);this.setState(i,"selectedLabel",t.label)},_setValidYearData:function(n,t){var i=n.ecRoleIndex||n.cindex,r=this.getComponent(i),u=this._checkYearRange(i,t);u?(this.setState(this._IT_SELF,"hasInvalidYearError",!1),this.setPreventHideError(!1),this.hideError(i),this._setDateValueState(r,t),this.setState(i,"mode","button"),this._addManualYearOption(i)):(this.setState(this._IT_SELF,"hasInvalidYearError",!0),this._setErrorYearValue(i,t),this._showInvalidYearError())},_setValidMonthData:function(n,t){var i=n.ecRoleIndex||n.cindex,r=this.getComponent(i);this._setDateValueState(r,t)},_setValidDayData:function(n){var t=this.getComponent($.isNull(n.cindex)?n.ecRoleIndex:n.cindex),i=this._getDayValueFromEvent(n);this.setState(t.index,"oldValue",t.value);this._setDateValueState(t,this._getPaddedDayValue(i));this._setSyncEmptyData(n.cindex,this.getState(n.cindex,"value"))},_setDayCompNonEmptyValue:function(n,t){var r=this.getState(n,"value"),i;this.setState(n,"value",this._getDayViewType(t));i=this.getState(n,"value");r!=i&&this.executeChangeDelegator({cindex:n,value:this.getState(n,"value")})},_setSyncEmptyData:function(n,t){this._isDateSpace&&(this._isEmptyValue(t)?this._deleteSelectedDate(0):this._hasEmptyComponentInDateSet(0)&&this._setDateToEmptyComponents(0))},_setDateToEmptyComponents:function(n){for(var i=ecount.control.date.serverDate(this.ecPageID),f=new Date,s=this._getDateComponentOnly(),e=this.getDateSetLength(),o=n?e:0,h=o+e,r=o,c=h,t,u;r<c;r++)if(t=s[r],u=t[t.format=="d"?"value":"selectedValue"],!u||isNaN(u))switch(t.format){case"y":this._setDateValueState(t,i.getFullYear());continue;case"m":this._setDateValueState(t,(i.getMonth()+1).padding(2));continue;case"d":this._setDateValueState(t,this._getPaddedDayValue(i.getDate()));continue;case"h1":case"h2":this._setDateValueState(t,f.getHours().padding(2));continue;case"mi1":case"mi2":this._setDateValueState(t,f.getMinutes().padding(2));continue}},_setSyncEmptyDataBeforeChangeHandler:function(n){var t=this.getState(n.index,"selectedValue");this._setSyncEmptyData(n.index,t)},_isLastChangedComponent:function(n){return n==this.getDateSetLength()-1},_isEmptyValue:function(n){return typeof n=="number"&&(n=""+n),$.isEmpty(n)||n=="".padLeft(n.length,"=")},_hasEmptyComponentInDateSet:function(n){var r=this._getDateComponentOnly(),t,i;for(n==undefined&&(n=0),t=0,i=this.getDateSetLength();t<i;t++)if(~this._getDate(r[t+n].format).indexOf("="))return!0},_hasInvalidDataToProcess:function(){return!1},_checkYearRange:function(n,t){var u=this.hasYearLimit&&this._maxYearLimit?this._maxYearLimit:ecount.control.date.getYearScope(this.ecPageID).maxYear,f=this.hasYearLimit&&this._minYearLimit&&this._minYearLimit<this._minYear?this._minYearLimit:this._minYear,e=t<f,o=!isNaN(+t)&&t>u,i=e||this.getState(this._IT_SELF,"opt.useYearLimit")&&o,s=!(this._isDateSpace&&n.manualInput&&!isNaN(+t)),r=this.getState(this._IT_SELF,"hasInvalidYearError");return(r||this.setState(this._IT_SELF,"hasInvalidYearError",!0),s&&i)?!1:!this._isDateSpace&&t&&i?!1:this.hasYearLimit&&i?!1:(r||this.setState(this._IT_SELF,"hasInvalidYearError",!1),!0)},_showInvalidYearError:function(){var n=ecount.resource.message.INVALID_YEAR;this.setPreventHideError(!0);this.showError(this._IT_SELF,n,!0)},_setErrorYearValue:function(n,t){this.getComponent(n).mode=="input"&&(this.setState(n,"focusChangeFiredByModeChange",!0),this.setState(n,"mode","button"),this.setState(n,"selectedValue",t),this.setState(n,"selectedLabel",t),this.setFocus(n),this._callChangeDelegator({cindex:n,value:t}))},_deleteSelectedDate:function(n,t){for(var u=this.getFormatIndex(),r=this.getDateSetLength(),i=0,f=r;i<f;i++)this._emptyComponent(i+ +n,u,i);t||this.executeChangeDelegator({cindex:r-1,value:""})},_changeManualInputCompValue:function(n,t){var i=n.option[n.option.length-2];t.value||this._setDateValueState(n,i.value)},_emptyComponent:function(n,t,i){var r;switch(t[i]){case"d":this.setState(n,"value","");break;case"m":case"h1":case"h1":case"mi1":case"mi2":r="".padLeft(2,"=");this.setState(n,"selectedValue",r);this.setState(n,"selectedLabel",r);break;case"y":r="".padLeft(4,"=");this.setState(n,"selectedValue",r);this.setState(n,"selectedLabel",r)}},_addManualYearOption:function(n){var t=this.getComponent(n),i,r=ecount.layer.getActivatedLayer();_.isNull(r)&&(t.option=t.option.filter(function(n){return n.id!="manualInput"}));i=!t.option.find(function(n){return n.value==t.selectedValue});i&&t.option.splice(t.option.length-1,0,{id:"manualInput",label:t.selectedLabel,value:t.selectedValue});t.manualInput=!1},_changeSelectionByKeyboard:function(n,t){var i=this.getComponent(n.ecRoleIndex),e,r,f,u;if(!i)return!1;if(i.format!="d"){r=_.findIndex(i.option,function(n){return n.value==i.selectedValue});e=!!(i.mode=="input");switch(n.handler){case ECountEvent.Type.KEYDOWN_ARROW_UP_SELECT_LAYER:f=e?i.option.length-2:r<=0?r:r-1;break;case ECountEvent.Type.KEYDOWN_ARROW_DOWN_SELECT_LAYER:f=e?i.option.length-1:r+1>=i.option.length?r:r+1;break;case ECountEvent.Type.KEYDOWN_ARROW_DOWN_AUTOCOMPLETE_LAYER:return!1;default:f=r}if(u=i.option[f],!_.isUndefined(u))return this._dateChangeHandler(n,t,{index:n.ecRoleIndex,selected:{id:u.id,value:u.value,label:u.label}}),this.validateYearForDateChange(),this.isGridV3?!1:void 0}},_changeAutocompleteByKeyboard:function(n,t,i){return i.itemList||(this.setState(n.cindex,"focusChangeFiredByModeChange",!0),this.setState(n.cindex,"mode","button"),this.executeChangeDelegator({cindex:n.cindex,value:this.getState(n.cindex,"selectedValue")})),this.isGridV3?!1:void 0},_changeSelectboxLayerSelection:function(n,t){var i=this.getLayerServiceKey(_.extend({},n,{ecService:ecount.layer.constValue.SELECTBOX})),r=ecount.layer.getLayer(i);r.setCurrentSelection(t)},_dateChangeHandler:function(n,t,i){var r=$.isEmpty(i.index)?n.ecRoleIndex:i.index,u=this.getComponent(r),f;if(i.selected||(i.selected=u.option.find(function(n){return u.mode=="input"?n.id==this.manualInputItemId:n.value==u.selectedValue}.bind(this))),f=this._getSelectedLayerData(n,i),f.isModeChange){this.setState(r,"focusChangeFiredByModeChange",!0);this.setState(r,"mode","input");this.setFocus(r);return}f.manual&&this.setState(r,"manualInput",!0);this._changeComponentValue(u,f);this.setState(this._IT_SELF,"focusChangeFiredByDateSelect",!0);this.setFocus(r)},_autoCompleteChangeHandler:function(n,t,i){var f=this.getComponent(n.ecRoleIndex||i.index),e=this.getLayerServiceKey(n),u,r;i.itemList?u=i.itemList[i.selectedIndex||0]:(r=n.value,this.ERA_LIST&&this.ERA_LIST[r]&&(r=this.ERA_LIST[r]),u={label:r,value:r});u||(u={label:n.value,value:n.value});this._changeComponentValue(f,u);this.setFocus(f.index);ecount.layer.hide(e)},_changeComponentValue:function(n,t){if(this.isInGridWithoutCombineParent()){this.disableDelegatorExecution();this._funcChangeComponentValue(n,t);this.enableDelegatorExecution();this.executeDelegatorQueue();return}this._funcChangeComponentValue(n,t)},_funcChangeComponentValue:function(n,t){var i=n.index,r=t.value||n.selectedValue;n.format=="y"?this._checkYearRange(n,r)?(this.hideError(i),this._setDate(i,r),this.setState(i,"mode","button"),this._addManualYearOption(i)):(this._setErrorYearValue(i,r),this._showInvalidYearError()):(this._setDate(i,r),this.setState(i,"mode","button"));this._setSyncEmptyData(i,r)},_datePickHandler:function(n,t,i){var u=i.selectedDate,r=this._getDayComponent(+(n.ecDatepickerIndex||0)+this.dateFormat.indexOf("d")),f,e,o;if(n.ecFunctionId=="calendar.delete")return o=n.ecDatepickerIndex==="1"?this.getDateSetLength():0,this.setFocus(r.index),this._deleteSelectedDate(o);if(this.pcid&&n.ecFunctionId){if(["calendar.prev","calendar.next"].contains(n.ecFunctionId))return;this.setFocus(r.index);this.setState(r.index,"opt.selectRange",!0);this._notifyDatepickerPick(n.ecFunctionId,u);return}u&&(f=this.getPositionIndex("y"),e=this._getYearList(f),u.forEach(this._setDateToComponent.bind(this,e[e.length-1].value,f)),this.setFocus(r.index),this.setState(r.index,"opt.selectRange",!0,!0))},_notifyDatepickerPickForGrid:function(n,t){t&&(this.disableDelegatorExecution(),t.forEach(this._setDateToComponent.bind(this,yearList[yearList.length-1].value,yearIndex)),this.enableDelegatorExecution(),this.executeDelegatorQueue())},_notifyDatepickerPick:function(n,t){var i=this.getPositionIndex("y"),r=this._getYearList(i);t&&(this.disableStateObserving(),t.forEach(this._setDateToComponent.bind(this,r[r.length-1].value,i)),this.enableStateObserving());this.pcid&&this.executeParentChangeDelegator&&this.executeParentChangeDelegator({searchName:n,date:this.getDateFormat("yyyyMMdd")[0]})},_callChangeDelegator:function(n,t){var i=this.getComponent(n.ecRoleIndex||n.cindex),r=i.ecRole=="date.hide"?i["attr.checked"]:i.format=="d"?i.value:i.selectedValue,u=this._getDefaultDelegatorInfo(n,t);i["style.display"]&&this.executeChangeDelegator(_.merge(u,{event:t,value:r}))},_keepFocusInsideControl:function(){},_wrappingDateChangeFunc:function(n){return this.isInGridWithoutCombineParent()?function(){this.disableDelegatorExecution();n.apply(this,arguments);this.enableDelegatorExecution();this.executeDelegatorQueue()}.bind(this):n.bind(this)},_ON_BEFORE_CLICK:function(n){var i,t,r;return ecount.control.prototype._ON_BEFORE_CLICK.apply(this,arguments)===!1?!1:(i=n.ecRoleIndex,t=this.getComponent(i),n.handler==ECountEvent.Type.CLICK_SELECT)?(t.format=="y"&&(r=t.option.find(function(n){return n.isTemp}),r&&r.value!=t.selectedValue&&this.setState(i,"option",t.option.filter(function(n){return!n.isTemp}))),t.mode!="input"&&!~[this.manualInputItemId,this.emptyItemId].indexOf(t.id)):(t&&t.format=="d"&&this.setState(n.cindex,"opt.selectRange",!this.getState(n.cindex,"opt.selectRange")),!0)},ON_CLICK_SERVICE:function(n,t,i,r){var e=n.cindex!=undefined?n.cindex:n.ecRoleIndex,u,f;switch(n.handler){case ECountEvent.Type.CLICK_SELECT:return this.ecview&&!this.ecview.hasFocus(n.ecRoleIndex)&&this.setFocus(n.ecRoleIndex),!1;case ECountEvent.Type.CLICK_DATEPICKER:return!1;case ECountEvent.Type.CLICK_LAYER:if(this._isOnlyFixedDatePicker&&n.ecFunctionId=="calendar.today"){u=new Date;f=!0;u.format("yyyy-MM-dd")==this.getDateFormat("yyyy-MM-dd")[0]&&(f=!1);this.setDate([u]);this.todayCallbackName&&(r.command=this._makeCommandString(this.todayCallbackName),r.changed=f);return}ecount.layer.clearTimer(r.ecIKey);return this.onLayerClickHandler(n,t,i,r)}},ON_CHANGE:function(n,t,i,r){var e=$.isNull(n.cindex)?n.ecRoleIndex:n.cindex,o=this.__state.components[e],u,f;o["attr.disabled"]||(this.setState(e,"attr.checked",n.checked),o.ecRole=="date.hide"&&(u=this.getComponentByAttr("ecRole","date.hide"),f=this.getPositionIndex("d"),this.displayDateControl(!0),this.setFocus(f),this.setState(f,"opt.selectRange",!0),u&&!u["attr.checked"]&&this.resetYearValidation()));this._wrappingDateChangeFunc(this._callChangeDelegator)(n,t,r)},_ON_BEFORE_SHOW_DATEPICKER:function(){return this.onCallbackBeforeCalendar(),this.isCalendarAlreadyOpened||(this.onCallbackBeforeCalendarOnce(),this.isCalendarAlreadyOpened=!0),this.getDate()},_ON_BEFORE_INPUT:function(n){var t=this.getComponent(n.ecRoleIndex||n.cindex),i;if(t.format=="y"&&t.mode!="input")return!1;n.ecService==ecount.layer.constValue.AUTOCOMPLETE&&(i=this.getLayerServiceKey(n),ecount.layer.clearTimer(i));this.setState($.isNull(n.cindex)?n.ecRoleIndex:n.cindex,"oldValue",this.getState(n.cindex,"value"))},ON_INPUT:function(n){this.onKeyInputFilter(n)},ON_KEYDOWN_ENTER:function(n){var r=this.getComponent(n.ecRoleIndex||n.cindex),i,t;if(n.ecService==ecount.layer.constValue.AUTOCOMPLETE&&(i=ecount.control.date.getSelctedERA(this._ERA_LIST,n.value)))return t=this.getLayerServiceKey(n),this._changeComponentValue(r,i),this.validateYearForDateChange(),ecount.layer.clearTimer(t),ecount.layer.clear(t),this.notifyGridDateChange(),!1},ON_KEYDOWN_F2:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_F3:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_F4:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_F7:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_F8:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_OTHERS:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_F8_SERVICE:function(n,t,i,r){return this.onKeydownSaveHandler(n,t,i,r)},ON_KEYDOWN_ENTER_SERVICE:function(n,t,i,r){if(r){switch(n.ecService){case"layer.selectbox":this._dateChangeHandler(n,t,r);break;case"layer.autocomplete":this._autoCompleteChangeHandler(n,t,r)}if(r.index!==undefined){var u=this.getComponent($.isNull(n.cindex)?n.ecRoleIndex:n.cindex);u.format=="y"&&(this._wrappingDateChangeFunc(this.onServiceComponentFocusOutHandler)(n,t,r),this.executeChangeDelegator({cindex:n.cindex,value:this.getState(n.cindex,"selectedValue")}));this.onNextFocus(r.index)}}},ON_KEYDOWN_ARROW_UP:function(n,t){return n.suspend=!0,this._changeSelectionByKeyboard(n,t)},ON_KEYDOWN_ARROW_UP_SERVICE:function(n,t,i,r){switch(n.ecService){case"layer.selectbox":return this._changeSelectionByKeyboard(n,t);case"layer.autocomplete":return this._changeAutocompleteByKeyboard(n,t,r),!1}},ON_KEYDOWN_ARROW_DOWN:function(n,t){return n.suspend=!0,this._changeSelectionByKeyboard(n,t)},ON_KEYDOWN_ARROW_DOWN_SERVICE:function(n,t){switch(n.ecService){case"layer.selectbox":return this._changeSelectionByKeyboard(n,t);case"layer.autocomplete":return!1}},ON_KEYPRESS_OTHERS:function(n,t,i,r){if(r.selected&&r.selected.selectedIndex!==undefined){var f=r.selected.selectedIndex,u=this.getComponent(r.selected.index).option[f];this.setState(r.index,"selectedValue",u.value);this.setState(r.index,"selectedLabel",u.label)}else{if($.isNull(n.ecRoleIndex)&&$.isNull(n.cindex))return;this._onKeypressOthersHandler(n,t,r)}},ON_KEYPRESS_OTHERS_SERVICE:function(n,t,i,r){var f=this.getComponent(n.cindex),u,e;r.selected&&f&&f.mode!="input"&&(u=r.selected,e=this.getState(u.index,"option"),this._setDateValueState(this.getComponent(u.index),e[u.selectedIndex].value));$.isNull(n.cindex)||this.notifyGridDateChange()},_ON_BEFORE_FOCUSIN:function(n,t,i,r){var f=this.getComponent($.isNull(n.cindex)?n.ecRoleIndex:n.cindex),u=ecount.layer.getActivatedLayer();if(u&&u.type=="datepicker"&&(r.showLayerInFocus=!1),f)return this.onBeforeComponentFocusInHandler(n,t,i,r)},ON_FOCUSIN:function(n){var t=this.getComponent(n.ecRoleIndex||n.cindex);return t&&t.focusChangeFiredByModeChange&&this.setState(t.index,"focusChangeFiredByModeChange",!1),this.getState(this._IT_SELF,"focusChangeFiredByDateSelect")?(this.setState(this._IT_SELF,"focusChangeFiredByDateSelect",!1),!1):void 0},_ON_BEFORE_FOCUSOUT:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.FOCUSOUT_CONTROL:return this.onBeforeComponentFocusOutHandler(n,t,i,r)}return!0},ON_FOCUSOUT:function(n,t,i,r){var e=this.getDateFormat(),u,f;if(n.ecService=="layer.datepicker"||n.ecPath!=this.ecPath)return!1;u=this.getComponent($.isNull(n.cindex)?n.ecRoleIndex:n.cindex);u&&(u.format=="d"?(f=this.hasEmptyYearMonth(),this._setDayCompValueByFocusOut(n,u,f)):u.format&&this._wrappingDateChangeFunc(this.onServiceComponentFocusOutHandler)(n,t,r));this.checkYearValidation();this._wrappingDateChangeFunc(this._setSyncedTime)(n,t,r);this.notifyGridDateChange()},ON_MOUSEDOWN_SERVICE:function(n,t,i,r){var u,f;r.hasAutocompleteFocus&&!$.isNull(r.index)&&(u=this.getComponent(r.index),u&&u.format=="y"&&(r.itemList&&r.itemList[r.selectedIndex]&&(f=ecount.layer.getLayer(r.ecIKey),this._changeComponentValue(u,r.itemList[r.selectedIndex]),this.validateYearForDateChange(),f.destroy()),ecount.layer.clearTimer(r.ecIKey)))}});ecount.control.date.getDateFormat=function(){var n;return n=ecount.config.company.MYPAGECOMPANY_DATE?ecount.config.company.MYPAGECOMPANY_DATE.DATE_INPUT_ORDER.toLowerCase().split(""):Date.CultureInfo.CAL_FORMAT.toLowerCase().split(Date.CultureInfo.CAL_DELIMITER),n.map(function(n){return n.charAt(0)})};ecount.control.date.serverDate=function(n){var r,t,u,i=ecount.global.executeCallback(n,ecount.widget.serverNowDate);return i?(r=i.substr(0,4),t=i.substr(5,2),u=i.substr(8,2),t=+t-1,new Date(r,t,u)):new Date};ecount.control.date.getERAList=function(n){var u={},t,r,o,f,s,e,i,h;if(!ecount.config.company.MYPAGECOMPANY_DATE||!ecount.config.company.MYPAGECOMPANY_DATE.GROUP_CD_INPUT||(t=ecount.infra.getEraList({GROUP_CD:ecount.config.company.MYPAGECOMPANY_DATE.GROUP_CD_INPUT}),!t))return u;for(i=0,h=t.length;i<h;i++)for(r=parseInt(t[i].BEGIN_YEAR),o=t.length-1==i?ecount.control.date.serverDate(n).getFullYear()+50:t[i+1].BEGIN_YEAR-1,f=r,["00003","00004"].contains(t[i].GROUP_CD)&&(f=0-r);f<=o;f++)e=f-r,s=(r+e).toString(),u[s]=t[i].GROUP_CD==="00002"&&r>=2020?t[i].ERA_NM+(+e+2):t[i].GROUP_CD==="00003"?(+e+1).toString().padStart(4,"0").substring(2):t[i].ERA_NM+(+e+1);return u.length=Object.getOwnPropertyNames(u).length,u};ecount.control.date.strToDate=function(n){var t=n.substr(0,4),i=+n.substr(4,2)-1,r=n.length<8?1:n.substr(6,2);return new Date(t,i,r)};ecount.control.date.compareDate=function(n,t,i){return i===!1?n.getTime()>t.getTime():n.getTime()>=t.getTime()};ecount.control.date.getSelctedERA=function(n,t){var f,i,u,r,e;if(n){if(f=n[t])return{label:f,value:t};for(u=Object.getOwnPropertyNames(n),r=0,e=u.length;r<e;r++)if(i=u[r],(""+n[i]).replace(/\D*/g,"")==t)return{label:n[i],value:i}}};ecount.control.date.period={today:function(n){var t=ecount.control.date.serverDate(n);return[t,t]},yesterday:function(n){var t=ecount.control.date.serverDate(n);return[t.addDays(-1),t.addDays(-1)]},week:function(n){var t=ecount.control.date.serverDate(n);return[t.firstDayOfWeek(),t]},lastWeek:function(n){var t=ecount.control.date.serverDate(n).addWeeks(-1);return[t.firstDayOfWeek(),t.lastDayOfWeek()]},month:function(n){var t=ecount.control.date.serverDate(n);return[t.firstDayOfMonth(),t]},lastMonth:function(n){var t=ecount.control.date.serverDate(n),i=new Date(t.getFullYear(),t.getMonth(),1).addMonths(-1);return[i.firstDayOfMonth(),i.lastDayOfMonth()]},monthLastday:function(n){var t=ecount.control.date.serverDate(n);return[t.lastDayOfMonth(),t.lastDayOfMonth()]},lastMonthLastday:function(n){var t=ecount.control.date.serverDate(n),i=new Date(t.getFullYear(),t.getMonth(),1).addMonths(-1);return[i.lastDayOfMonth(),i.lastDayOfMonth()]},year:function(n){var t=ecount.control.date.serverDate(n);return t.setMonth(0),t.setDate(1),[t,ecount.control.date.serverDate(n)]},lastYear:function(n){var t=ecount.control.date.serverDate(n);return t.setMonth(0),t.setDate(1),[t.addYears(-1),t.addDays(-1)]},season:function(n){var i=ecount.control.getInitData("widget.button.simpleSearch",this.inIncludePage,this.ecPageID).config,r=ecount.control.date.strToDate(this.simpleSearchConfig?this.simpleSearchConfig.AccountCurrentPeriodFromDate:i.AccountCurrentPeriodFromDate).firstDayOfMonth(),t=ecount.control.date.serverDate(n);return this.controlType==="widget.multiDate"||this.controlType==="widget.custom"?[r,t]:[t]},lastSeason:function(){var n=ecount.control.getInitData("widget.button.simpleSearch",this.inIncludePage,this.ecPageID).config,i=ecount.control.date.strToDate(this.simpleSearchConfig?this.simpleSearchConfig.AccountPreviousPeriodFromDate:n.AccountPreviousPeriodFromDate).firstDayOfMonth(),t=ecount.control.date.strToDate(this.simpleSearchConfig?this.simpleSearchConfig.AccountPreviousPeriodToDate:n.AccountPreviousPeriodToDate).lastDayOfMonth();return this.controlType==="widget.multiDate"||this.controlType==="widget.custom"?[i,t]:[t]},endDay:function(n,t){var i=t||this.getDate();return i.length==1&&i.push(i[0].clone()),i?[i[1],i[1].clone()]:[]},endMonth:function(n,t){var i=t||this.getDate();return i.length==1&&i.push(i[0].clone()),i?[i[1],i[1].clone()]:[]},quarter:function(n){var u=ecount.control.date.serverDate(n),r=u.getMonth()+1,t=ecount.control.date.serverDate(n),i=ecount.control.date.serverDate(n);return r<4?(t=new Date(t.addYears(-1).setMonth(9)),i=new Date(i.addYears(-1).setMonth(11))):r<7?(t.setMonth(0),i.setMonth(2)):r<10?(t.setMonth(3),i.setMonth(5)):(t.setMonth(6),i.setMonth(8)),[t.firstDayOfMonth(),i.lastDayOfMonth()]},half:function(n){var r=ecount.control.date.serverDate(n),u=r.getMonth()+1,t=ecount.control.date.serverDate(n),i=ecount.control.date.serverDate(n);return u<7?(t=new Date(t.addYears(-1).setMonth(6)),i=new Date(i.addYears(-1).setMonth(11))):(t.setMonth(0),i.setMonth(5)),[t.firstDayOfMonth(),i.lastDayOfMonth()]}};ecount.control.date.getYearScope=function(n){var t=ecount.control.date.serverDate(n),i=t.addYears(1).getFullYear(),r=t.addYears(-2).getFullYear();return{maxYear:i,minYear:r}};ecount.control.date.getResourceAppliedYear=function(n,t){return n&&n.length?_.merge(t,{label:n[t.label]}):ecount.config.company.MYPAGECOMPANY_DATE&&ecount.config.company.MYPAGECOMPANY_DATE.YEAR_INPUT_FORMAT&&ecount.config.company.MYPAGECOMPANY_DATE.YEAR_INPUT_FORMAT.toUpperCase()=="YY"?_.merge(t,{label:t.label.toString().substring(2)}):t};ecount.control.date.getResourceAppliedMonth=function(n){var i=!1,t="mmm";return ecount.config.company.MYPAGECOMPANY_DATE&&(t=ecount.config.company.MYPAGECOMPANY_DATE.MONTH_INPUT_FORMAT.toLowerCase(),t=="mmmm"&&(i=!0)),n.map(ecount.control.date.setResource.bind(null,t,i))};ecount.control.date.setResource=function(n,t,i){var r,u=ecount.resource;switch(n){case"mm":r=i.label;break;case"m":r=parseInt(i.label,"10").toString();break;default:switch(i.label){case"01":r=u[t?"LBL06847":"LBL09575"];break;case"02":r=u[t?"LBL06848":"LBL09576"];break;case"03":r=u[t?"LBL06849":"LBL09577"];break;case"04":r=u[t?"LBL06850":"LBL09578"];break;case"05":r=u[t?"LBL06851":"LBL09579"];break;case"06":r=u[t?"LBL06852":"LBL09580"];break;case"07":r=u[t?"LBL06853":"LBL09581"];break;case"08":r=u[t?"LBL06854":"LBL09582"];break;case"09":r=u[t?"LBL06855":"LBL09583"];break;case"10":r=u[t?"LBL06856":"LBL09584"];break;case"11":r=u[t?"LBL06857":"LBL09585"];break;case"12":r=u[t?"LBL06858":"LBL09586"]}}return i.label=r,i};ecount.control.date.setHolidayInfo=function(n){var t={};return t.STARTWEEK=(n.STARTWEEK||1)-1,t.MAXYEAR=n.MAXYEAR||"9999",t.MINYEAR=n.MINYEAR||"1",t.WEEK=n.WEEK||{},t.HOLIDAYLIST=n.HOLIDAYLIST||[],t.WEEK.WEEKDAY1=n.WEEK&&n.WEEK.WEEKDAY1||{HOLIDAYYN:"Y",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY2=n.WEEK&&n.WEEK.WEEKDAY2||{HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY3=n.WEEK&&n.WEEK.WEEKDAY3||{HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY4=n.WEEK&&n.WEEK.WEEKDAY4||{HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY5=n.WEEK&&n.WEEK.WEEKDAY5||{HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY6=n.WEEK&&n.WEEK.WEEKDAY6||{HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},t.WEEK.WEEKDAY7=n.WEEK&&n.WEEK.WEEKDAY7||{HOLIDAYYN:"Y",WORKCOLOR:"#666666",HOLCOLOR:"#049cdb"},t};ecount.class("ecount.control.calendar","ecount.control",{notCallback:"notCallback",init:function(){ecount.control.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{_url:n._url,year:n.year,month:n.month,isShowToday:n.isShowToday,calendarApiUrl:n.calendarApiUrl,calendarApiUserParam:n.calendarApiUserParam});this.setCurrentDate();this.setWeek();this.monthItems=this.setMonthItems()},initializeViewOptions:function(n){$.extend(this.__viewOptions,{_setDaycallBack:n._setDaycallBack,monthItems:this.monthItems,wrapperSetCss:"control-table"})},render:function(){ecount.control.prototype.render.apply(this,arguments)},onLazyRender:function(){this.delegator&&this.delegator.triggerEvent("page.adjustContentsDimensions")},setCurrentDate:function(){this.startDay&&(this._startDay=$.isDate(this.startDay)?this.startDay.getDay():this.startDay);this.todayDate=ecount.control.date.serverDate(this.ecPageID);this.todayYear=this.todayDate.getFullYear();this.todayMonth=this.todayDate.getMonth();this.todayDay=this.todayDate.getDate();this.todayIndex=this.todayDate.getDay()},setWeek:function(){var n=ecount.resource;this.weeks=[n.LBL04602,n.LBL04596,n.LBL03132,n.LBL01680,n.LBL01161,n.LBL00777,n.LBL02890];this.dayOfTheWeek=this.weeks[this.todayIndex]},setCalendarEmptyDay:function(){return{}},setCalendarDayDatas:function(){return{}},getMonthValue:function(){return(this.month+1).toString().padLeft(2,"0")},getDayValue:function(){return this.dayCnt.toString().padLeft(2,"0")},getEcRoleIndexParse:function(n){var t=n.split("-");if(t.length)return{weekIndex:t[0],dayOfWeedIndex:t[1],itemIndex:t[2]}},ON_CLICK:function(n,t,i,r){var f=n.ecRole,u,e;switch(f){case"calendar.dayClick":case"calendar.scheduleClick":case"calendar.addScheduleClick":case"calendar.summaryClick":if(u=f.split(".")[1],r.parsedIndex=this.getEcRoleIndexParse(n.ecRoleIndex),this.isDragAble&&this.dragTimeOverCheck&&!this.dragTimeOverCheck(200))return!1;this[u](n,t,i,r);break;case"calendar.cell":case"calendar.cellContents":if((u=f.split(".")[1]+"Click",e=n.ecRoleIndex||ec$.getClosestAttr(t.target,"data-role-index"),!e)||(r.parsedIndex=this.getEcRoleIndexParse(e),this.isDragAble&&this.dragTimeOverCheck&&!this.dragTimeOverCheck(200)))return!1;this[u](n,t,i,r)}},dayClick:function(n,t,i,r){var u=r.parsedIndex,f=this.monthItems[u.weekIndex][u.dayOfWeedIndex];r&&r.parsedIndex&&(r.parsedIndex=null,delete r.parsedIndex);f&&(r.value=f.value,r.command=this.dayClickName)},scheduleClick:function(n,t,i,r){var u=r.parsedIndex,f=this.monthItems[u.weekIndex][u.dayOfWeedIndex].contentsDatas[u.itemIndex];return r&&r.parsedIndex&&(r.parsedIndex=null,delete r.parsedIndex),f&&(r.value=f.value,$.isFunction(this._popoverContentsClickCallBack)&&this._popoverContentsClickCallBack(t,r)),!1},addScheduleClick:function(n,t,i,r){var o=r.parsedIndex,e=this.monthItems[o.weekIndex][o.dayOfWeedIndex],f,u;if(e){if($.isFunction(this._calendarNewScheduleCallback))return u={},_.merge(u,r,e),this._calendarNewScheduleCallback(t,u),!1;if(f=e.value,$.isEmpty(f))return!1;u={width:"785",height:"610",EditMode:ecenum.editMode.new,Request:{YYYYMMDD:f,TO_YYYYMMDD:f,hidYMD:f},responseID:this.callbackID,__ecPageID:this.ecPageID};this.openPopup(_.extend({url:"/ECERP/SVC/EGJ/EGJ006P_03",name:ecount.resource.LBL02219,popupType:!1,additional:!1,fpopupID:this.ecPageID},u))}return!1},summaryClick:function(){return!1},matchFullDate:function(n){var t=Number(this.year),i=this.todayYear,r=Number(this.month),u=this.todayMonth;return t!=i||r!=u?"":this.todayDay==(this.dayCnt||n)?"today":""},getTodayInfoText:function(){return""},isShowPopover:function(n){return this.getState(this._IT_SELF,"popover.ecroleindex")===n},reDraw:function(){this.destroyView();this.render()},setData:function(n){(this.__viewOptions===""||this.__viewOptions===null||this.__viewOptions===undefined)&&(this.__viewOptions={});$.extend(this.__viewOptions,{datas:n})},setMonth:function(n){return this.month=n,this},setYear:function(n){return this.year=n,this},reLoadData:function(){this.requestData()},requestData:function(){},excuteCallback:function(){var i;if(!this.callback)return this.notCallback;var n=Array.prototype.slice.apply(arguments),r=n.shift(),t=this.callback[r];return $.isFunction(t)?(i=Object.clone(n),t.apply(null,i)):this.notCallback}});ecount.class("ecount.control.view.calendar","ecount.control.view",{notCallback:"notCallback",init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){ecount.control.view.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){return n=n.replace(/{{HEADER}}/,this.getHeaderTemplate(t)),n.replace(/{{MONTH}}/,this.getMonthTemplate(t))},getMonthTemplate:function(n){var i=n.monthItems,r=n.form,t="";return i&&i.forEach(function(i){t+=this.getUseFormMonthTemplate(r);i.forEach(function(i){t+=$.isEmptyObject(i)?this.renderCalendarEmptyDay():this.renderCalendarDay(i,n)}.bind(this));t+="<\/tr>"}.bind(this)),t},getUseFormMonthTemplate:function(){return"<tr>"},renderCalendarDay:function(){},renderCalendarEmptyDay:function(){return'<td class="disabled-day"><\/td>'},onChangePopoverEcroleindex:function(n,t){this.popoverTargetRoleIndex=t},onChangePopoverToggle:function(n,t){t==!0?this.setPopover({title:this.popoverTitle,template:this.popoverTemplate,unusedbodyClickHandler:this.popoverUnusedbodyclickhandler,contentsClickCallBack:this.contentsClickCallBack,isClearOnBodyClick:!0}):this.destroyPopover()},excuteCallback:function(){var i;if(!this.callback)return this.notCallback;var n=Array.prototype.slice.apply(arguments),r=n.shift(),t=this.callback[r];return $.isFunction(t)?(i=Object.clone(n),t.apply(null,i)):this.notCallback}});ecount.class("ecount.control.calendar.holiday","ecount.control.calendar",{_startDay:0,ecPackage:"ecount.control.calendar.holiday",init:function(){ecount.control.calendar.prototype.init.apply(this,arguments)},render:function(){ecount.control.calendar.prototype.render.apply(this,arguments)},initializeOptions:function(n,t){$.extend(this,{isDisableDataControl:n.isDisableDataControl});this.setInitDatas(n,t);ecount.control.calendar.prototype.initializeOptions.apply(this,arguments)},initializeViewOptions:function(n){ecount.control.calendar.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{_startDay:this._startDay,weeks:this.weeks,weekColors:this.weekColors||n.weekColors,month:this.month,year:this.year,form:this.form})},getInitComponents:function(){return[{}]},setInitDatas:function(n,t){var i,r;this._holiday&&!$.isEmptyObject(this._holiday)&&this._holiday.WEEK.WEEKDAY1&&(i=this._holiday,this.weekColors=[],this._startDay=(i.STARTWEEK||1)-1,this._setHoliday(i.WEEK));t&&t.result&&t.result.Data.WEEK.WEEKDAY1&&(r=t.result.Data,this.weekColors=[],this._startDay=(r.STARTWEEK||1)-1,this._setHoliday(r.WEEK))},_setHoliday:function(n){for(var r,u,n=n,t,i=1;i<8;i++)t=n["WEEKDAY"+i],r={WEEKDAY:i,HOLIDAYYN:t.HOLIDAYYN,WORKCOLOR:t.WORKCOLOR,HOLCOLOR:t.HOLCOLOR},this.weekColors.push(r);this._startDay>0&&(u=this.weekColors.splice(0,this._startDay),this.weekColors=this.weekColors.concat(u));this.weekColors&&this.weekColors!=0||(this.weekColors=[{WEEKDAY:"1",START_YN:"N",HOLIDAYYN:"Y",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"2",START_YN:"Y",HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"3",START_YN:"N",HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"4",START_YN:"N",HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"5",START_YN:"N",HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"6",START_YN:"N",HOLIDAYYN:"N",WORKCOLOR:"#666666",HOLCOLOR:"#ff3c3c"},{WEEKDAY:"7",START_YN:"N",HOLIDAYYN:"Y",WORKCOLOR:"#666666",HOLCOLOR:"#049cdb"}]);return},setMonthItems:function(){var r=Date.daysInMonth(this.month,this.year),e=new Date(this.year,this.month,1),n=e.getDay(),t;this._startDay>0&&(n-=this._startDay,n<0&&(n=n+7));var u=(r-(7-n))%7,i=1+(r-(7-n+u))/7+(u>0?1:0),f=[];for(this.displayTwoWeeks&&(i=this.rowCount||2,this.year=this.startDay.getFullYear(),this.month=this.startDay.getMonth(),this.dayCnt=this.startDay.getDate(),this.showMonth=!0,this.endDay=new Date(this.year,this.month,this.startDay.getDate()+i*7-1),this.startDay.getMonth()!=this.endDay.getMonth()&&(this.midDay=new Date(this.startDay.getYear(),this.startDay.getMonth()+1,0).getDate())),t=0;t<i;t++)f.push(this.setDayOfWeek(t,n,this.dayCnt));return f},setDayOfWeek:function(n,t){for(var u=Date.daysInMonth(this.month,this.year),r=[],i=0;i<7;i++)this.displayTwoWeeks?(r.push(this.setCalendarDay(i,n,this.dayCnt)),this.showMonth=!1,this.midDay==this.dayCnt?(this.showMonth=!0,this.midDay=new Date(this.startDay.getYear(),this.startDay.getMonth()+2,0).getDate(),this.dayCnt=1,this.month==11?(this.month=0,this.year++):this.month++):this.dayCnt++):n==0&&t==i?(this.dayCnt=1,r.push(this.setCalendarDay(i,n,this.dayCnt))):(n==0&&t<=i||n>0)&&this.dayCnt<u?(this.dayCnt++,r.push(this.setCalendarDay(i,n,this.dayCnt))):r.push(this.setCalendarEmptyDay());return r},setCalendarDayDatas:function(n){var t=this.getMonthValue(),i=this.getDayValue(),r=String.format("{0}-{1}{2}",this.year,t,i);return{monthValue:t,dayValue:i,dataValue:r,value:String.format("{0}-{1}-{2}",this.year,t,i),dataRow:this.getDataRow(r),currentWeekForMat:this.dayOfWeekFormat(n)}},getDataValue:function(){return String.format(dataValueFormat,this.year,monthValue,dayValue)},getDataRow:function(){return""},dayOfWeekFormat:function(n){return this.weekColors?[this.weekColors[n].WORKCOLOR,this.weekColors[n].HOLCOLOR]:["",""]},setHolidays:function(n){(this.__viewOptions===""||this.__viewOptions===null||this.__viewOptions===undefined)&&(this.__viewOptions={});_.merge(this.__viewOptions,{holidays:n})},getTodayInfoText:function(){return String.format("{0} : {1}/{2} ({3})",ecount.resource.LBL00785,this.todayMonth,this.todayDay,this.dayOfTheWeek)},openPopup:function(n){var t=$.extend({},n,{width:n.width||900,height:n.height||600,name:(this.popupType===!0?this.id:this.subTitle)||"",url:n.url,popupType:n.popupType===!0,responseID:this.callbackID},$.isFunction(this.openPopUpCallback)?this.openPopUpCallback():{}),i;this.delegator?this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:t,handler:function(n,t,i,r){var e,u,f;this.responseID=t;n.popupLevel=r;n.__ecPageID=this.ecPageID;n.alreadyIncludedLayout=!0;e=n.modal||this._modal;u=n.additional;delete n.modal;delete n.additional;f={url:n.url,name:n.name||ecount.resource.LBL06789,param:n,popupType:n.popupType,modal:n.modal||this._modal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:u,parentPageID:i||this.parentPageID,fpopupID:n.fpopupID,alreadyIncludedLayout:!0};ecount.popup.openWindow(f)}.bind(this)}):(t.popupLevel=this.popupLevel,t.parentPageID=this.parentPageID,t.__ecPageID=this.ecPageID,t.alreadyIncludedLayout=!0,i={url:t.url,name:t.name||"control_popup",param:t,popupType:t.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID},ecount.popup.openWindow(i))},requestData:function(){console.log("휴일 데이터 조회 >>>  "+this.year+"년 "+String.format("{0}{1}",(this.month+1).toString().padLeft(2,"0"),"01"));ecount.common.api({ecPageID:this.ecPageID,url:"/SelfCustomize/Config/GetListCobsHolDetail",data:Object.toJSON({YYYY:this.year,MMDD:String.format("{0}{1}",(this.month+1).toString().padLeft(2,"0"),"01"),FLAG:"MONTH"}),complete:function(){return!1},success:function(n){var t,i,r;if(n.Status!="200")ecount.alert(n.fullErrorMsg);else{for(t=Object.clone(n.Data),i=0;i<t.length;i++)t[i]=this._dataFilter(t[i]);this.datas=t;r=this.setMonthItems();this.monthItems=r;this.__viewOptions.monthItems=r;this.reDraw()}}.bind(this)})}});ecount.class("ecount.control.view.calendar.holiday","ecount.control.view.calendar",{css:"calendar",template:'<div class="wrapper-calendar">\n<table class="caledar table table-bordered {{css}}">\n{{COLGROUP}}\n<thead>\n{{HEADER}}\n<\/thead>\n<tbody class="calendar-body">\n{{MONTH}}\n<\/tbody>\n<\/table>\n<\/div>',onInitTemplate:function(n,t){return n=ecount.control.view.calendar.prototype.onInitTemplate.apply(this,arguments),n=n.replace(/{{css}}/,this.css),n.replace(/{{COLGROUP}}/,this.getColGroupTemplate(t))},getHeaderTemplate:function(n){var u="",t=n.form,f,i,r;for(n._startDay>0&&(f=n.weeks.splice(0,n._startDay),n.weeks=n.weeks.concat(f)),i="",t&&(i+=t.headFontBold?"text-bold ":"",i+=t.headFontItalic?"text-italic ":"",i+=t.headHAlign?"text"+t.headHAlign+" ":"",i+=t.headVAlign?"valign"+t.headVAlign+" ":"",i+=t.headFontSize?"font"+t.headFontSize+"px ":"",t.headFontStrike&&t.headFontUnderline?i+="grid-text-uline-through":(i+=t.headFontStrike?"text-line-through ":"",i+=t.headFontUnderline?"text-uline ":"")),r=0;r<7;r++)u+=String.format('<th class="{2}" style="color:{1}">{0}<\/th>',n.weeks[r],n.weekColors?n.weekColors[r].HOLIDAYYN==="N"?n.weekColors[r].WORKCOLOR:n.weekColors[r].HOLCOLOR:"",i);return this.headerTempalate&&(u=String.format(this.headerTempalate,t&&t.headHeight?"height:"+t.headHeight+"px":"",u)),u},getColGroupTemplate:function(){return""}});widget.multiCode={};widget.multiCode._baseLoaded=!1;widget.multiCode._export=function(){return{"default":{controlType:"widget.multiCode"},single:{controlType:"widget.multiCode.single"},account:{name:"ACCOUNT",searchURL:"/Account/Basic/GetListAccountCodeForOneActoin",controlType:"widget.multiCode.account",id:"계정검색",subTitle:"계정검색",popupURL:"/ECERP/Popup.Search/CM007P",valueColumn:"GYE_CODE",labelColumn:"GYE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{TYPE:"",PAGE_FLAG:"",CALL_TYPE:"",GYE_CODE:"",CUST_CD:"",TRX_TYPE:"",SER_NO:"",BUSINESS_NO:"",isTopTen:!1,isPutWhenOneDataFlag:!0,isTreeEventDisable:!1,isTreeEventOnLabel:!0,isParentCheckBoxDisplayFlag:!0,isSpecialCase:!1,isViewNoChildParent:!1}},serial:{name:"serial",id:"serial",searchURL:"/Inventory/Serial/GetSerialLotSearch",controlType:"widget.multiCode.serial",data:null,subTitle:ecount.resource.LBL11300,title:ecount.resource.LBL11300,popupURL:"/ECERP/SVC/Popup/ES027P",valueColumn:"SERIAL_IDX",labelColumn:"SERIAL_IDX",checkMaxCount:200,isCheckBoxDisplayFlag:!0,_isDefaultSetting:!0,defaultValue:null,defaultLabel:null,defaultParam:{IsMultiCode:!0}},gyeType:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.gyeType",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"AR03",PARAM:"",Title:ecount.resource.LBL07516}},inputGubun:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.inputGubun",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"AR02",PARAM:"",Title:ecount.resource.LBL13169}},sourceType:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.sourceType",popupURL:"/ECERP/EAD/EAD025P_01",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"MC01",PARAM:"",Title:ecount.resource.LBL02875}},bankAccount:{name:"bankAccount",searchURL:"/Account/Basic/GetListCustAcc",controlType:"widget.multiCode.bankAccount",id:"BUSINESS_NO",subTitle:"들어올 계좌",popupURL:"/ECERP/Popup.Search/CM008P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{TYPE:"",PARAM:"",CALL_TYPE:"",DEL_FLAG:"",SORT_COLUMN:"",SORT_TYPE:"",GYE_CODE:"",IO_TYPE:"",ACC002_FLAG:"",EMP_FLAG:"",PAGE_SIZE:"0",PAGE_CURRENT:"0"}},billSearch:{name:"BillSearch",searchURL:"/Account/Common/GetListInvoiceNoForSearch",controlType:"widget.multiCode.billSearch",id:"txtBillSearch",subTitle:"건별번호검색",popupURL:"/ECERP/Popup.Search/CM012P_01",valueColumn:"JANECK_CODE2",labelColumn:"JANECK_CODE2",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{GYE_CODE:"",SUB_CODE:"",CUST:"",TRX_DATE:""},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},cust:{name:"CUST",searchURL:"/SVC/Account/Basic/GetListCustForSearchForPopUp",controlType:"widget.multiCode.cust",id:"txtSCustCd",subTitle:"거래처",popupURL:"/ECERP/SVC/ESA/ESA001P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",checkMaxCount:200,isCheckBoxDisplayFlag:!0,useAsteriskMode:!0,isSVC:!0,preSearchDataKey:"FORM_LIST",defaultParam:{ACC002_FLAG:"N",CALL_TYPE:102,DEL_FLAG:"N",EMP_FLAG:"N",GYE_CODE:"",IO_TYPE:"10",PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A",CallFlag:"O",PARENT:"",SeachType:"B"},initializeOptions:function(n,t){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);var i=t?t.config||{}:{};$.extend(this.defaultParam,{TREE_CUST:!$.isNull(i.ALL_GROUP_CUST)&&i.ALL_GROUP_CUST=="1"?"1":"0"})},addPopupOpenParam:function(n){if(this._addPopUpOpenParam===!0&&!$.isNull(this.controlOption))for(var t in this.controlOption)n[t]=this.controlOption[t]}},custGroup:{name:"CUST_GROUP",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.custGroup",id:"txtCustGroup1",subID:"txtCustGroup2",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);var t=n.CODE_CLASS||"A11",i=n.custGroupCodeClass||"";this.id==this.subID&&(t="A12",i="A12");_.merge(this,{defaultParam:n.defaultParam?n.defalutParam:{Request:{Data:{CODE_CLASS:t,DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0,custGroupCodeClass:i,ViewMode:"2"}}}});_.merge(this,{isApplyDisplayFlag:n.isApplyDisplayFlag})}},custLevelGroup:{name:"CUST_LEVEL_GROUP",searchURL:"/SVC/Account/Basic/GetEqualSearchCustLevelGroupInfo",controlType:"widget.multiCode.custLevelGroup",id:"txtTreeCustCd",subTitle:"거래처계층그룹",popupURL:"/ECERP/SVC/ESA/ESA065M",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,isSVC:!0,valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:"",Type:"SEARCH"},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);t.components[1]&&(t.components[1]["attr.checked"]=ecount.config.company.SUBGROUP_INCLUDE_TF==="1"?!0:!1,t.components[1]["style.display"]=!1)},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<101:n<101:!0},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)}},defectType:{name:"CUST",searchURL:"/Account/Basic/GetListCustForSearch",controlType:"widget.multiCode.defectType",id:"txtSCustCd",subTitle:"불량유형",popupURL:"/ECERP/Popup.Search/CM022P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,useAsteriskMode:!0,defaultParam:{ACC002_FLAG:"N",CALL_TYPE:102,DEL_FLAG:"N",EMP_FLAG:"N",GYE_CODE:"",IO_TYPE:"10",PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A",CallFlag:"O",PARENT:"",SeachType:"B"},initializeOptions:function(n,t){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);var i=t?t.config||{}:{};$.extend(this.defaultParam,{TREE_CUST:!$.isNull(i.ALL_GROUP_CUST)&&i.ALL_GROUP_CUST=="1"?"1":"0"})},addPopupOpenParam:function(n){if(this._addPopUpOpenParam===!0&&!$.isNull(this.controlOption))for(var t in this.controlOption)n[t]=this.controlOption[t]}},defectTypeGroup:{name:"CUST_GROUP",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.defectTypeGroup",id:"txtCustGroup1",subID:"txtCustGroup2",subTitle:"불량유형그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CODE_CLASS:this.isIdsMatch()?"A12":"A11",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0,custGroupCodeClass:this.isIdsMatch()?"A12":null,ViewMode:"2"}}}})},isIdsMatch:function(){return this.id===this.subID}},defectTypeLevelGroup:{name:"CUST_LEVEL_GROUP",searchURL:"/SVC/Account/Basic/GetEqualSearchCustLevelGroupInfo",controlType:"widget.multiCode.defectTypeLevelGroup",id:"txtTreeCustCd",subTitle:"불량유형계층그룹",popupURL:"/ECERP/SVC/ESA/ESA065M",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,isSVC:!0,valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:"",Type:"SEARCH"},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)}},deptLevelGroup:{name:"DEPT_LEVEL_GROUP",searchURL:"/SVC/Account/Basic/GetDeptLevelGroupSearch",controlType:"widget.multiCode.deptLevelGroup",data:null,id:"txtTreeDeptCd",subTitle:"부서계층그룹",popupURL:"/ECERP/ESA/ESA056M",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,isSVC:!0,defaultParam:{TYPE:"SEARCH"},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);t.components[1]&&(t.components[1]["attr.checked"]=ecount.config.company.SUBGROUP_INCLUDE_TF==="1"?!0:!1,t.components[1]["style.display"]=!1)},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<101:n<101:!0},valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;t.SEARCH_TYPE="S";$.extend(t,this.defaultParam)}},cashFlowPeriod:{controlType:"widget.multiCode.cashFlowPeriod",searchURL:"/SVC/Account/CashFlowStatement/GetListCashFlowPeriodByComCode",popupURL:"/ECERP/SVC/EBZ/EBZ039P_06",width:300,valueColumn:"PERIOD_SID",labelColumn:"PERIOD_DATE",defaultParam:{PARAM:""}},cashFlowItem:{controlType:"widget.multiCode.cashFlowItem",searchURL:"/SVC/Account/CashFlowStatement/GetListCashFlowItemForSearchPopup",name:"CASH_FLOW_ITEM_CD",id:"CASH_FLOW_ITEM_CD",popupURL:"/ECERP/SVC/EBZ/EBZ039P_05",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,valueColumn:"CASH_FLOW_ITEM_CD",labelColumn:"CASH_FLOW_ITEM_NM",defaultParam:{PARAM:""},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},menuLevelGroup:{controlType:"widget.multiCode.menuLevelGroup",name:"MENU_LEVEL_GROUP",searchURL:"/SelfCustomize/User/GetSearchMypageDetailLevelGroupInfo",id:"txtTreeGroupMenu",subTitle:"MENU_LEVEL_GROUP",popupURL:"/ECERP/EMW/EMW002M",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",defaultParam:{Type:"SELECT",Parent_Type:"",CS_FLAG:0},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)}},MgmtField:{name:"ITEM_CD",searchURL:"/Inventory/Basic/GetListMgmtFieldForSearch",controlType:"widget.multiCode.MgmtField",id:"txtItemCd",popupURL:"/ECERP/Popup.Search/CM003P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{WH_CD:"",PROD_CD:"",USE_GUBUN:"",PROD_SEARCH:"",PARAM:"",MOBILE_FLAG:"N",STR_ALL_FLAG:"Y",STR_MULTI_FLAG:"N"}},modifier:{name:"LAST_UPDATED_ID",searchURL:"/Inventory/Sale/GetListModifierForSearch",controlType:"widget.multiCode.modifier",id:"txtLastUpdatedID",popupURL:"/ECERP/Popup.Search/CM013P",valueColumn:"ID",labelColumn:"UNAME",checkMaxCount:100},mgmtProcess:{name:"mgmtProcess",controlType:"widget.multiCode.mgmtProcess",id:"mgmtProcess",subTitle:ecount.resource.LBL08724,title:ecount.resource.LBL08724,popupURL:"/ECERP/SVC/ESO/ESO002P_02",valueColumn:"TYPE_CD",labelColumn:"TYPE_NM",defaultParam:{Request:{Data:{PARAM:"",PAGE_CURRENT:0,PAGE_SIZE:0}}}},mgmtOrderID:{name:"mgmtOrderID",id:"mgmtOrderID",searchURL:"/SVC/Inventory/OrderMgmt/GetListOrderProcNumSelect",controlType:"widget.multiCode.mgmtOrderID",subTitle:ecount.resource.LBL08723,title:ecount.resource.LBL08723,popupURL:"/ECERP/SVC/ESO/ESO003P_01",width:500,valueColumn:"PROC_NO",labelColumn:"PROC_NM",checkMaxCount:100,defaultParam:{Request:{Data:{PARAM:"",SORT_COLUMN:"",SORT_TYPE:"",PAGE_SIZE:20,PAGE_CURRENT:0,PROC_NO:"",PROC_NM:"",TYPE_NM:""}}}},modifierFirst:{name:"LAST_UPDATED_ID",searchURL:"/Inventory/Sale/GetListModifierForSearch",controlType:"widget.multiCode.modifierFirst",id:"txtLastUpdatedID",popupURL:"/ECERP/Popup.Search/CM013P",valueColumn:"ID",labelColumn:"UNAME",checkMaxCount:100},ectaxflag99:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.ectaxflag",popupURL:"/ECERP/Popup.Search/ECTAX023P_04",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX09",PARAM:"",Title:"(세금)계산서구분",TYPE:"M",GUBUN:"99"}},ectaxflag:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.ectaxflag",popupURL:"/ECERP/Popup.Search/ECTAX023P_04",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX09",PARAM:"",Title:"(세금)계산서구분",TYPE:"M"}},ectaxtype:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.ectaxtype",popupURL:"/ECERP/Popup.Search/ECTAX023P_04",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX08",PARAM:"",Title:"진행상태",TYPE:"Y"}},gyeType:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.mutliCode.gyeType",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"AR03",PARAM:"",Title:"계정종류",TYPE:"G"}},subGubun:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.mutliCode.subGubun",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"AR04",PARAM:"",Title:"관련업무",TYPE:"G"}},invoiceKind:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.invoiceKind",popupURL:"/ECERP/Popup.Search/ECTAX023P_04",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX11",PARAM:"",Title:"종류",TYPE:"Y"}},programId:{searchURL:"/Admin/MenuManage/GetListProgramForSearch",controlType:"widget.multiCode.programId",popupURL:"/ECERP/EAM/EAM007P_07",valueColumn:"PROGRAM_SEQ",labelColumn:"PROGRAM_ID",defaultParam:{PARAM:"",LAN_TYPE:""}},processType:{searchURL:"/Inventory/SaleOrder/GetListOutprocType",controlType:"widget.multiCode.processType",popupURL:"/ECERP/ESD/ESD030P_04",valueColumn:"CODE_NO",labelColumn:"CODE_DES",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:"",LAN_TYPE:""}}},menuId:{searchURL:"/Admin/MultiManual/GetListMenuForSearch",controlType:"widget.multiCode.programId",popupURL:"/ECERP/EAM/EAM007P_04",valueColumn:"MENU_CD",labelColumn:"FULL_MENU_NM",defaultParam:{PARAM:""}},prgId:{searchURL:"/Admin/MultiManual/GetListPrgIdForSearch",controlType:"widget.multiCode.prgId",popupURL:"/ECERP/EAM/EAM007P_09",valueColumn:"PRG_ID",labelColumn:"FULL_MENU_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:""}}},PIC:{name:"EMP_CD",searchURL:"/Account/Basic/GetListPicForSearch",controlType:"widget.multiCode.PIC",id:"txtEmpCd",popupURL:"/ECERP/Popup.Search/ES006P",valueColumn:"EMP_CD",labelColumn:"EMP_NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,_isDefaultSetting:!0,defaultValue:null,defaultLabel:null,defaultParam:{ACCT_CHK:"",SALE_CHK1:"",SALE_CHK2:"",SALE_CHK3:"",SALE_CHK4:"",DEL_FLAG:"N",PARAM:"",MOBILE_FLAG:"N",EMP_CD:"",PAGE_SIZE:100,PAGE_CURRENT:0},onInitControlOptions:function(n,t){var i=!$.isEmpty(ecount.user.BS_STAFF_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0;i||n.isDefaultSet==!1&&n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label)},initCodeOptions:function(n,t){if(this.defaultValue===null&&(!n.data||n.data.length==0)&&!this.defaultValue&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}}},PICCust:{name:"CUST_EMP_CD",searchURL:"/Account/Basic/GetListPicForSearch",controlType:"widget.multiCode.PICCust",id:"txtCustEmpCd",popupURL:"/ECERP/Popup.Search/ES006P",valueColumn:"EMP_CD",labelColumn:"EMP_NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{ACCT_CHK:"",SALE_CHK1:"",SALE_CHK2:"",SALE_CHK3:"",SALE_CHK4:"",DEL_FLAG:"N",PARAM:"",MOBILE_FLAG:"N",EMP_CD:"",PAGE_SIZE:100,PAGE_CURRENT:0}},repairType:{searchURL:"/SVC/Common/Infra/GetListCmAddItem",popupURL:"/ECERP/SVC/POPUP/CmAddItem_01",width:500,valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:{PARAM:""}},priceGroup:{searchURL:"/svc/Inventory/Basic/GetListPriceGroupForSearch",controlType:"widget.multiCode.priceGroup",popupURL:"/ECERP/Popup.Search/CM020P",valueColumn:"CODE_CLASS",labelColumn:"CLASS_DES",defaultParam:{PARAM:"",SORT_COLUMN:"CODE_CLASS",SORT_TYPE:"A"}},importTracking:{searchURL:"/ECAPI/SVC/Common/SlipTransfer/GetListXFormSlipAccountCommon",controlType:"widget.multiCode.importTracking",subTitle:"검색할 관리번호를 입력 바랍니다.",popupURL:"/ECERP/SVC/Popup/EB013P",valueColumn:"A.TRADE_CODE",labelColumn:"A.TRADE_NAME",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{Request:{Data:{PRG_ID:"E060201",FORM_TYPE:"AP731",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN731",PAGE_CURRENT:1,PAGE_SIZE:0,PARAM:"",USE_YN:"N"}}}},inPersonPayroll:{name:"inPersonPayroll",searchURL:"/Tax2017/Basic/GetListPayRollByTax",controlType:"widget.multiCode.inPersonPayroll",id:"inPersonPayroll",subTitle:"급여대장검색",title:"급여대장검색",popupURL:"/ECERP/ETD2017/ETD002P_01",valueColumn:"YYYYMM",labelColumn:"PAY_GUBUN",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(n){n.popupOptions&&(this.popupURL=n.popupOptions.popupURL,this.searchURL=n.popupOptions.searchURL)}},inPersonRetire:{name:"inPersonRetire",searchURL:"/Tax2017/Basic/GetListPayRollByTax",controlType:"widget.multiCode.inPersonRetire",id:"inPersonRetire",subTitle:"중도퇴사검색",title:"중도퇴사검색",popupURL:"/ECERP/ETD2017/ETD002P_03",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(n){n.popupOptions&&(this.popupURL=n.popupOptions.popupURL,this.searchURL=n.popupOptions.searchURL,this.subTitle=n.popupOptions.subTitle,this.title=n.popupOptions.title)}},inPersonDayWorkerPayroll:{name:"inPersonDayWorkerPayroll",searchURL:"/Tax2017/Basic/GetListDayWorkerPayRollByTax",controlType:"widget.multiCode.inPersonDayWorkerPayroll",id:"inPersonDayWorkerPayroll",subTitle:"일용직급여대장검색",title:"일용직급여대장검색",popupURL:"/ECERP/ETD2017/ETD002P_02",valueColumn:"YYYYMM",labelColumn:"PAY_GROUP",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(n){n.popupOptions&&(this.popupURL=n.popupOptions.popupURL,this.searchURL=n.popupOptions.searchURL)}},inPersonIncomeByType:{name:"inPersonIncomeByType",searchURL:"/Tax2017/Basic/GetListIncomeByType",controlType:"widget.multiCode.inPersonIncomeByType",id:"inPersonIncomeByType",subTitle:"사업소득검색",title:"사업소득검색",popupURL:"/ECERP/ETD2017/ETD002P_04",valueColumn:"PER_NO",labelColumn:"PER_NAME",isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(n){n.popupOptions&&(this.popupURL=n.popupOptions.popupURL,this.searchURL=n.popupOptions.searchURL,this.subTitle=n.popupOptions.subTitle,this.title=n.popupOptions.title)}},inPersonWithHoldingTax:{name:"inPersonWithHoldingTax",searchURL:"/Tax2017/Basic/GetListIncomeByType",controlType:"widget.multiCode.inPersonWithHoldingTax",id:"inPersonWithHoldingTax",subTitle:"원천세신고서검색",title:"원천세신고서검색",popupURL:"/ECERP/ETD2017/ETD002P_05",valueColumn:"YYYYMM",labelColumn:"YYYYMM",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(n){n.popupOptions&&(this.popupURL=n.popupOptions.popupURL,this.searchURL=n.popupOptions.searchURL)}},processCode:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.processCode",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",width:550,labelColumn:"CODE_DES",codeClass:"G10",isSVC:!0,defaultParam:{Request:{Data:{PARAM:"",SORT_COLUMN:"CODE_NO",SORT_TYPE:"A",CODE_CLASS:"G10",DEL_FLAG:"N",ViewMode:2}}}},process:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.multiCode.prodGroup",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{Request:{Data:{CODE_CLASS:"L03",ViewMode:2,PARAM:"",titlename:ecount.resource.LBL01541,custGroupCodeClass:"L03"}}}},prod:{controlType:"widget.multiCode.prod",searchURL:"",popupURL:"",valueColumn:"PROD_CD",labelColumn:"PROD_DES",isSVC:!0,checkMaxCount:200,isCheckBoxDisplayFlag:!0,preSearchDataKey:"PROD_FORM_LIST",defaultParam:{},useAsteriskMode:!0,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments)},initSVCOptions:function(n,t){if(this.isSVC)_.extend(this,{searchURL:"/SVC/Inventory/Basic/GetListProdForSearchPopup",popupURL:"/ECERP/SVC/Popup/ES020P",defaultParam:{Request:{Data:{PARAM:"",CANCEL:"N",inputMethod:"K"}}}});else{_.extend(this,{searchURL:"/Inventory/Basic/GetListProdForSearch",popupURL:"/ECERP/Popup.Search/ES020P",defaultParam:{IO_TYPE:"10",POS:"1",CLASS_TYPE:"9",PROD_SEARCH:"5",PARAM:"",SORT:"PROD_CD ASC",SORT_AD:"A",SFLAG:"N",REQ_TYPE:"0",DEL_GUBUN:"N",BARCODE2:"N",LAN_TYPE:"ko-KR",BARCODE_SEARCH:"N",WH_CD:"",MAIN_YN:"",ADD_COLUMN:"",WH_CD_T:"",FORM_SEQ:"",SEARCH_GB:"",PROD_CD2:"",PROD_DES:"",SIZE_DES:"",UNIT:"",BAR_CODE:"",CLASS_CD:"",CLASS_CD2:"",CLASS_CD3:"",REMARKS_WIN:"",MAIN_PROD_CD:"",MAIN_PROD_DES:"",CONT1:"",CONT2:"",CONT3:"",CONT4:"",CONT5:"",CONT6:"",NOW_DATE:null,SeachType:"B"}});var i=t?t.config||{}:{};$.isEmptyObject(i)||$.extend(this.defaultParam,{PRICE_GROUP_FLAG:i.PRICE_GROUP_FLAG,SERIAL_FLAG:i.USE_SERIAL,OUT_VAT_RATE_YN:i.USE_OUT_VAT_RATE,OUT_VAT_RATE:i.OUT_VAT_RATE,IN_VAT_RATE_YN:i.USE_IN_VAT_RATE,IN_VAT_RATE:i.IN_VAT_RATE,LAST_SELL_FUTURE_YN:i.USE_LAST_SELL_FUTURE,SERIAL_WH_FLAG:i.USE_SERIAL_WH,INI_COM_CODE:i.INNER_GYESET_CD,ALL_GROUP_PROD:i.ALL_GROUP_PROD,ALL_GROUP_WH:i.ALL_GROUP_WH})}}},prodGroup:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.multiCode.prodGroup",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isSVC:!0,isCheckBoxDisplayFlag:!0,init:function(){this.defaultParam={Request:{Data:{CODE_CLASS:"L07",ViewMode:2,PARAM:""}}};ecount.control.codes.c01.prototype.init.apply(this,arguments)},initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);switch(this.id){case"txtClassCd2":this.defaultParam.Request.Data.CODE_CLASS="L08";break;case"txtClassCd3":this.defaultParam.Request.Data.CODE_CLASS="L09"}}},prodLevelGroup:{searchURL:"/SVC/Inventory/Basic/GetEqualSearchProdLevelGroupInfo",controlType:"widget.multiCode.prodLevelGroup",popupURL:"/ECERP/SVC/ESA/ESA066M",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",isSVC:!0,setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);t.components[1]&&(t.components[1]["attr.checked"]=ecount.config.company.SUBGROUP_INCLUDE_TF==="1"?!0:!1,t.components[1]["style.display"]=!1)},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<101:n<101:!0}},project:{searchURL:"/SVC/Account/Basic/GetListSiteProjectForSearchAction",controlType:"widget.multiCode.project",popupURL:"/ECERP/SVC/Popup/ES007P",valueColumn:"PJT_CD",labelColumn:"PJT_DES",checkMaxCount:200,isCheckBoxDisplayFlag:!0,_isDefaultSetting:!0,defaultValue:null,defaultLabel:null,preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{PRG_ID:"E010112",MENU_SEQ:"173",FORM_TYPE:"SP988",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN988",PAGE_CURRENT:1,PAGE_SIZE:0,PARAM:"",searchCategoryFlag:"S",CANCEL:"N",LIMIT_FLAG:1,LIMIT_COUNT:200},onInitControlOptions:function(n,t){var i=!$.isEmpty(ecount.user.BS_PJT_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0;i||n.isDefaultSet==!1&&n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label)},initCodeOptions:function(n,t){if(n.initOptions&&this.defaultValue===null&&(!n.data||n.data.length==0)&&!this.defaultValue&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}},initCodeOptions:function(n,t){if(ecount.control.codes.prototype.initCodeOptions.apply(this,arguments),(!n.data||n.data.length==0)&&!this.defaultValue&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}}},user:{searchURL:"/Groupware/CRM/GetListSelectPerson",controlType:"widget.multiCode.user",popupURL:"/ECERP/Popup.Search/EGD002P_02",valueColumn:"ID",labelColumn:"UNAME",defaultValue:"",defaultLabel:"",defaultParam:{Type:"",Flag:""},casesensitive:!0,setRequestParameter:function(n,t){$.extend(t,this.defaultParam)}},siteGroup:{searchURL:"/SVC/Account/Basic/GetSiteList",controlType:"widget.multiCode.siteGroup",popupURL:"/ECERP/SVC/EBA/EBA003P",valueColumn:"SITE",labelColumn:"SITE_DES",defaultValue:"",defaultLabel:"",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{PRG_ID:"E010105",FORM_TYPE:"AP774",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN774",PAGE_SIZE:0,PAGE_CURRENT:1,PARAM:"",CHKFLAG:"A",CHK_FLAG:"A",CANCEL:"N",LIMIT_FLAG:1,LIMIT_COUNT:200}},wh:{searchURL:"/ECAPI/SVC/Inventory/Basic/GetListLocationForSearch",controlType:"widget.multiCode.wh",popupURL:"/ECERP/SVC/Popup/ES008P",valueColumn:"WH_CD",labelColumn:"WH_DES",checkMaxCount:200,isCheckBoxDisplayFlag:!0,defaultValue:null,_isDefaultSetting:!0,_resetItemValue:!0,isSVC:!0,defaultParam:{Request:{Data:{PRG_ID:"E040102",FORM_TYPE:"SP971",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN971",PAGE_CURRENT:1,PAGE_SIZE:100,PARAM:"",FLAG:"3",DEL_GUBUN:"N",IO_TYPE:"00",FT_FLAG:" ",LIMIT_FLAG:1,LIMIT_COUNT:200,WH_GUBUN:null,ALL_GROUP_WH:null}}},getInitData:function(n){var t;return t=n.additionalInitDataControlType?n.additionalInitDataControlType:n.baseControlType||n.controlType,ecount.control.getInitData(t,n.inIncludePage,n.ecPageID)},onInitControlOptions:function(n,t){var r=t?t.config||{}:{},u=!$.isEmpty(ecount.user.WH_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&r.IsFormSet==!0,i;r.UseInitWidgetData!=!1&&(u||n.isDefaultSet==!1&&n.editCode&&(i=n.editCode,this.defaultValue=i.value,this.defaultLabel=i.label,this.whVatRate=i.whVatRate,this.isWhVatRate=i.isWhVatRate))},initCodeOptions:function(n,t){var i=t?t.config||{}:{};n.data&&n.data.length>0||(_.merge(this,{defaultParam:{Request:{Data:{PRG_ID:"E040102",FORM_TYPE:"SP971",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN971",PAGE_CURRENT:1,PAGE_SIZE:100,PARAM:"",FLAG:"3",DEL_GUBUN:"N",IO_TYPE:"00",FT_FLAG:" ",LIMIT_FLAG:1,LIMIT_COUNT:200,WH_GUBUN:null,ALL_GROUP_WH:null}}}},n.defaultParam),_.merge(this.defaultParam.Request.Data,{MOVE_STAND:i.MOVE_STAND,PROD_STAND:i.PROD_STAND,WH_GUBUN:i.WH_GUBUN,ALL_GROUP_WH:i.ALL_GROUP_WH}),i.UseInitWidgetData!=!1)&&this.defaultValue===null&&this.initDefaultColumnData(n,t)},initDefaultColumnData:function(n,t){var s=t&&t.config,h=t&&t.result,f=h&&t.result.Data,i=t?t.config||{}:{},e=i.ALL_GROUP_WH=="1",u=e&&!$.isEmpty(t.config.ALLOW_WH_CD),r,o;n.initOptions&&t&&f?f.length==1&&(r=f[0],this.defaultValue=u?i.ALLOW_WH_CD:r&&r[this.valueColumn],this.defaultLabel=u?i.ALLOW_WH_DES:r&&r[this.labelColumn],this.whVatRate=u?i.ALLOW_WH_VAT_RATE:r&&r.WH_VAT_RATE,this.isWhVatRate=u?i.ALLOW_WH_VAT_RATE_YN=="Y"?!0:!1:r&&r.WH_VAT_RATE_YN=="N"?!1:!0):this.dualMode&&this.additionalInitDataControlType?e&&initDataArray&&initDataArray.length==1&&$.isEmpty(initDataArray[0].WH_CD)==!1&&(r=f[0],this._resetItemValue=!1,this.defaultValue=r.WH_CD,this.defaultLabel=r.WH_DES,this.whVatRate=r.WH_VAT_RATE,this.isWhVatRate=r.WH_VAT_RATE_YN=="Y"?!0:!1):s&&u&&(o=i.WH_GUBUN=="1",this._resetItemValue=!1,this.defaultValue=n.allGroupWhByInvBalance?o?i.ALLOW_WH_CD:null:i.ALLOW_WH_CD,this.defaultLabel=n.allGroupWhByInvBalance?i.WH_GUBUN=="1"?i.ALLOW_WH_DES:null:i.ALLOW_WH_DES,this.whVatRate=n.allGroupWhByInvBalance?i.WH_GUBUN=="1"?i.ALLOW_WH_VAT_RATE:null:i.ALLOW_WH_VAT_RATE,this.isWhVatRate=n.allGroupWhByInvBalance?i.WH_GUBUN=="1"?i.ALLOW_WH_VAT_RATE_YN=="Y"?!0:!1:!1:i.ALLOW_WH_VAT_RATE_YN=="Y"?!0:!1)},changeSubTitle:function(n){this.delegator.triggerEvent("form.changeSubTitle",{rowId:this.id,title:n})},isSerializeEnabled:function(){var n=ecount.control.codes.c01.prototype.isSerializeEnabled.apply(this,arguments);return!$.isNull(this.getDualStep())&&this.isVisible()!=!0?!1:n},_getDualStepInfoForSerialize:function(n){var t=this.getDualStep();return{key:(n||this.name)+"_DUALSTEP",value:$.isNull(t)?"":t,resetItemValue:this._resetItemValue}}},whGroup:{searchURL:null,controlType:"widget.multiCode.whGroup",popupURL:null,popupType:null,label:ecount.resource.widget.INCLUDE_SUBGROUP},whLevelGroup:{searchURL:"/SVC/Inventory/Basic/GetEqualSearchLocationLevelInfo",controlType:"widget.multiCode.whLevelGroup",popupURL:"/ECERP/ESA/ESA068M",valueColumn:"CODE",labelColumn:"CODE_DES",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,isSVC:!0,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);t.components[1]&&(t.components[1]["attr.checked"]=ecount.config.company.SUBGROUP_INCLUDE_TF==="1"?!0:!1,t.components[1]["style.display"]=!1)},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<101:n<101:!0}},site:{searchURL:"/SVC/Account/Basic/GetSiteList",controlType:"widget.multiCode.site",popupURL:"/ECERP/SVC/EBA/EBA003P",valueColumn:"SITE",labelColumn:"SITE_DES",defaultValue:"",defaultLabel:"",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{PRG_ID:"E010105",FORM_TYPE:"AP774",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN774",PAGE_SIZE:0,PAGE_CURRENT:1,PARAM:"",CHKFLAG:"A",CHK_FLAG:"A",CANCEL:"N",LIMIT_FLAG:1,LIMIT_COUNT:200},onInitControlOptions:function(n,t){var i=!$.isEmpty(ecount.user.BS_SITE_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0);t&&t.config&&t.config.UseInitWidgetData==!1||i&&(n.isDefaultSet==!1?n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label):this._setDefaultValue(n))},initCodeOptions:function(n,t){var r=t?t.config||{}:{},i;n.data&&n.data.length!=0||!this.defaultValue&&t&&t.result&&t.result.Data&&(i=t.result.Data,i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn],this._setDefaultValue(n.initOptions)))},_setDefaultValue:function(n){if(!this.defaultValue){var t=n;this.defaultValue=this.empty(t.requestCode)||($.isEmpty(t.cookieCode)?"":this.getCookies(t.cookieCode)||"");this.defaultLabel=this.empty(t.requestName)||($.isEmpty(t.cookieDes)?"":this.getCookies(t.cookieDes)||"")}}},siteLevelGroup:{searchURL:"/Account/Basic/GetDeptLevelGroupSearch",controlType:"widget.multiCode.siteLevelGroup",popupURL:"/ECERP/ESA/ESA056M",valueColumn:"CD_GROUP",labelColumn:"NM_GROUP",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:100,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);$.extend(this,{defaultParam:{Type:"SEARCH",GUBUN:1,limitCount:1},RetUrl:this.pageID})},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);t.components[1]&&(t.components[1]["attr.checked"]=ecount.config.company.SUBGROUP_INCLUDE_TF==="1"?!0:!1,t.components[1]["style.display"]=!1)},isValidContainLevelGroup:function(n){return this.isContainLevelGroup&&this.getCheckLabelStatus()?n==undefined?this.getSelectedItem().length<101:n<101:!0}},trackingType:{searchURL:"/Account/ExpenseMgmt/GetListBySearchTrackingType",controlType:"widget.multiCode.trackingType",popupURL:"/ECERP/EBO/EBO002P_02",checkMaxCount:100,isCheckBoxDisplayFlag:!1,isIncludeInactive:!0,isNewDisplayFlag:!0,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"CTRLTYPE_CD",labelColumn:"CTRLTYPE_NM"},expenseCode:{searchURL:"/Account/ExpenseMgmt/GetListBySearchExpenseCode",controlType:"widget.multiCode.expenseCode",popupURL:"/ECERP/EBO/EBO003P_02",checkMaxCount:100,isIncludeInactive:!0,isNewDisplayFlag:!0,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"COST_CD",labelColumn:"COST_NM"},expenseGroupCode:{searchURL:"/Account/ExpenseMgmt/GetListBySearchExpenseGroupCode",controlType:"widget.multiCode.expenseGroupCode",popupURL:"/ECERP/EBO/EBO003P_03",checkMaxCount:100,isIncludeInactive:!0,isNewDisplayFlag:!0,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"COSTGRP_CD",labelColumn:"COSTGRP_NM"},fixedAssetsCode:{searchURL:"/Account/FixedAssets/GetListFixedAssetsCode",controlType:"widget.multiCode.fixedAssetsCode",popupURL:"/ECERP/Popup.Search/EB007P",valueColumn:"ASSETS_CODE",labelColumn:"ASSETS_DES",checkMaxCount:20,defaultParam:{PARAM:""}},fixedAssetsType:{searchURL:"/ECAPI/SVC/Common/SlipTransfer/GetListXFormSlipAccountCommon",controlType:"widget.multiCode.fixedAssetsType",popupURL:"/ECERP/SVC/EBH/EBH014P_02",valueColumn:"CLASS_CD",labelColumn:"CLASS_DES",checkMaxCount:20,isCheckBoxDisplayFlag:!0,preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{Request:{Data:{PARAM:"",USE_YN:"N",PAGE_CURRENT:1,PRG_ID:"E010609",FORM_TYPE:"AP667",SEARCH_FORM_TYPE:"AN667",FORM_SEQ:1,PAGE_SIZE:0}}}},prodSize:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.multiCode.prodSize",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isSVC:!0,subTitle:ecount.resource.LBL15848,defaultParam:{Request:{Data:{CODE_CLASS:"L06",PARAM:""}}}},prodSizeCd:{searchURL:"/Inventory/Common/GetListSpecForCodeSearch",controlType:"widget.multiCode.prodSizeCd",popupURL:"/ECERP/ESA/ESA010P_08",valueColumn:"CODE_NO",labelColumn:"SIZE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{DEL_FLAG:"N",PARAM:"",SORT_COLUMN:"CODE_NO",SORT_TYPE:"A"}},prodSizeCalc:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.multiCode.prodSizeCalc",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,subTitle:ecount.resource.LBL11874,isSVC:!0,defaultParam:{Request:{Data:{CODE_CLASS:"L18",PARAM:""}}}},prodInspectType:{searchURL:"/Inventory/Basic/GetListForInspectType",controlType:"widget.multiCode.prodInspectType",popupURL:"/ECERP/Popup.Common/ESA060P_02",valueColumn:"CODE2",labelColumn:"NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{DATA_TYPE:"C",PARAM:"",TYPE:"TYPE"}},prodInspectSubItem:{searchURL:"/Inventory/QcInspection/GetListSearchStqcSubItemDetail",controlType:"widget.multiCode.prodInspectSubItem",id:"InspSubTypeItemCd",subTitle:"INSP SUB ITEM",popupURL:"/ECERP/Popup.Common/ESA060P_02",valueColumn:"CODE2",labelColumn:"NAME",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={DATA_TYPE:"C",PARAM:"",TYPE:"SUB_ITEM"}},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},searchType:{searchURL:"/Common/Infra/GetRequestQualityControl",controlType:"widget.multiCode.searchType",popupURL:"/ECERP/Popup.Search/ESQ310P_02",valueColumn:"ITEM5",labelColumn:"ITEM1",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultValue:"",defaultLabel:"",defaultParam:{Title:""},setRequestParameter:function(n,t){$.extend(t,this.defaultParam)}},omStatusAction:{searchURL:"/Inventory/OpenMarket/GetListCmcdByStatus",controlType:"widget.multiCode.omStatusAction",popupURL:"/ECERP/ESK/ESK004P_01",valueColumn:"ACTION_CD",labelColumn:"ACTION_NAME",defaultParam:{PARAM:"",OrderTypeCd:"",OrderStatusCd:""}},omCd:{searchURL:"/SVC/Inventory/OpenMarket/GetListRegisterOnlineStoreForSearch",controlType:"widget.multiCode.omCd",popupURL:"/ECERP/SVC/ESK/ESK001P",valueColumn:"OPENMARKET_CD",labelColumn:"OPENMARKET_NM",subTitle:"오픈마켓검색",preSearchDataKey:"FORM_LIST",width:550,checkMaxCount:100,isSVC:!0,defaultParam:{PRG_ID:"E041003",FORM_TYPE:"SP783",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN783",PAGE_SIZE:100,PAGE_CURRENT:1,PARAM:"",CANCEL:"Y",MENU_SEQ:"2575"}},omId:{searchURL:"/Inventory/OpenMarket/GetListStetOmPmLoginId",controlType:"widget.multiCode.omId",popupURL:"/ECERP/ESK/ESK011P_02",valueColumn:"LOGIN_ID",labelColumn:"LOGIN_ID",subTitle:"오픈마켓로그인아이디검색",width:550,checkMaxCount:100,defaultParam:{PARAM:"",SORT_COLUMN:"OPENMARKET_CD",SORT_TYPE:"A",DEL_FLAG:"N"}},omSt:{searchURL:"/Inventory/OpenMarket/GetListStetOmPmSettingCd",controlType:"widget.multiCode.omSt",popupURL:"/ECERP/ESK/ESK011P_03",valueColumn:"OMST",labelColumn:"SETTING_NM",subTitle:"오픈마켓유형코드검색",width:550,checkMaxCount:100,defaultParam:{PARAM:"",SORT_COLUMN:"OPENMARKET_CD",SORT_TYPE:"A",DEL_FLAG:"N"}},taxType:{searchURL:"/Account/Basic/GetListCom011ForTaxType",controlType:"widget.multiCode.taxType",popupURL:"/ECERP/Popup.Search/CM023P",valueColumn:"VAT_CODE",labelColumn:"VAT_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",USE_YN:"Y"}},taxTypeGroup:{searchURL:"/Account/Basic/GetListCom011ClassForTaxTypeGroup",controlType:"widget.multiCode.taxTypeGroup",popupURL:"/ECERP/Popup.Search/CM023P_01",valueColumn:"VAT_CLASS_CD",labelColumn:"VAT_CLASS_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",USE_YN:"Y"}},CustVen:{name:"ID",searchURL:"/Account/Basic/GetCustomerList",controlType:"widget.multiCode.CustVen",data:null,id:"txtCustVen",subTitle:"창고",title:"주문서조회",popupURL:"/ECERP/Popup.Search/EG007P",popupType:!1,valueColumn:"ID",labelColumn:"CUST_NAME",whVatRate:0,isWhVatRate:!1,checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}},CustVenCode:{name:"ID",searchURL:"/Account/Basic/GetListVendorByComCode",controlType:"widget.multiCode.CustVenCode",data:null,id:"txtCustVenCode",subTitle:"창고",title:"주문서조회",popupURL:"/ECERP/Popup.Search/EGA004P_01",popupType:!1,valueColumn:"USERID",labelColumn:"USERNAME",whVatRate:0,isWhVatRate:!1,checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{COM_CODE:""}},approve:{name:"APPROVAL_ID",searchURL:!1,controlType:"widget.multiCode.approve",id:"APPROVAL_ID",popupURL:"/ECERP/SVC/POPUP/EGD002P_01",isSVC:!0,valueColumn:"TGTR_ID",labelColumn:"TGTR_NM",__inheritParent:"ecount.control.codes.c02",viewName:"widget.view.multiCode.approve",additionalItem:null,width:650,initCodeOptions:function(){this.defaultParam={Request:{Data:{DTS_ID:"",FORM_SEQ:""}}}},onInitComponent:function(n,t,i,r){ecount.control.codes.c02.prototype.onInitComponent.apply(this,arguments);r["style.display"]=!1},initializeOptions:function(){ecount.control.codes.c02.prototype.initializeOptions.apply(this,arguments);this.fnDynamicView=!1;this.fnAlwaysShow=!0},setAdditionalItem:function(n){var t=n.ApprovalMaster||n;this.additionalItem=_.cloneDeep(t)},removeAdditionalItem:function(){this.additionalItem={}},getSelectedCode:function(){return{ApprovalMaster:_.cloneDeep(this.additionalItem),ApprovalDetails:this.getState(this._IT_SELF,"selectedItems").map(function(n){return n.rawData||n})}},isEmpty:function(){return this.getState(this._IT_SELF,"selectedItems").length<=1},isDrafter:function(n){return n.DTLS_SNO===1},isFirstApprover:function(n){return n.APRV_TGT_TYPE_CD==="1"},isSecondApprover:function(n){return n.APRV_TGT_TYPE_CD==="2"},isRemoveableCode:function(n){var t=n.rawData||n;return!(this.isDrafter(t)&&this.isFirstApprover(t))},addItemExtraData:function(n){var t=n.rawData||n;return this.isFirstApprover(t)&&(this.isDrafter(t)?(n["style.css"]="label-muted",n["style.isfixed"]=!0):n["style.css"]="label-primary"),this.isSecondApprover(t)&&(n["style.css"]="label-warning"),n.code=[t[this.valueColumn],t.DTLS_SNO,t.APRV_TGT_TYPE_CD].join(ecount.delimiter),n},restore:function(n){var t=n.code.ApprovalDetails,i=n.code.ApprovalMaster;t.forEach(function(n){return n.label||(n.label=n.TGTR_NM),n.value||(n.value=n.TGTR_ID),n});this.__state.selectedItems=t;this.updateEcViewWithTransaction({selectedItems:t});this.setAdditionalItem(i)},responseFilter:function(n){var t=this.getState(this._IT_SELF,"selectedItems")[0],i=t&&this.isFirstApprover(t)&&this.isDrafter(t);return n.map(function(n){return i&&this.isFirstApprover(n)&&this.isDrafter(n)?$.extend({},t.rawData||t,n.rawData||n):n}.bind(this))},updateNotRemoveableCode:function(n,t){var r=this._getSelectedItemData(n),i=this.getState(this._IT_SELF,"selectedItems");n.APRV_TGT_TYPE_CD==1&&n.DTLS_SNO==1?(_.merge(i[t],{POSN_NM:r.POSN_NM}),_.merge(i[t].rawData,{POSN_NM:r.POSN_NM})):i[t]=r;this.setState(this._IT_SELF,"selectedItems",i,!0)}},cofmFormCmcd:{name:"cofmFormCmcd",searchURL:"/Common/Infra/GetListCMCD",controlType:"widget.multiCode.cofmFormCmcd",data:null,id:"cofmFormCmcd",subTitle:"구분검색",title:"구분검색",popupURL:"/ECERP/Popup.Form/ES024P",valueColumn:"FORM_TYPE",labelColumn:"FORM_NM",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",CLASS_CD:""}},serialLot:{controlType:"widget.multiCode.serialLot",searchURL:"/Inventory/Serial/GetListSerialLotNoSearch",popupURL:"/ECERP/Popup.Search/ESQ202P_11",valueColumn:"SERIAL_IDX",labelColumn:"SERIAL_IDX",subTitle:ecount.resource.LBL06069,width:450,height:530,checkMaxCount:100,useAsteriskMode:!0,defaultParam:{PARAM:""}},serialLotNo:{name:"serialLotNo",searchURL:"/Inventory/Serial/GetListSerialLot",controlType:"widget.multiCode.serialLotNo",checkMaxCount:100,subTitle:ecount.resource.LBL06069,title:ecount.resource.LBL06069,popupURL:"/ECERP/Popup.Search/ES028P",valueColumn:"SERIAL_IDX",labelColumn:"SERIAL_IDX",defaultParam:{SERIAL_IDX:""}},transactionType:{controlType:"widget.multiCode.transactionType",searchURL:"/Common/Infra/GetListTransactionType",popupURL:"/ECERP/Popup.Search/CM100P_30",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03444,valueColumn:"ITEM11",labelColumn:"ITEM9",defaultParam:{PARAM:"",CLASS_CD:"LU01"}},codeTypeAddField:{controlType:"widget.multiCode.codeTypeAddField",searchURL:"/Inventory/Basic/GetListForSearchField",popupURL:"/ECERP/Popup.Search/ESQ202P_07",checkMaxCount:5,width:450,height:530,subTitle:ecount.resource.LBL03638,valueColumn:"UDC_CD",labelColumn:"UDC_NM",defaultParam:{DEL_FLAG:"N"}},country:{name:"country",searchURL:"/Common/Infra/GetListCountry",controlType:"widget.multiCode.country",data:null,id:"country",popupURL:"/ECERP/ECK/ECK001P_04",valueColumn:"STATE_CODE",labelColumn:"STATE_TEXT",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}},MKT:{name:"MKT",searchURL:"/Admin/Tracking/GetListMarketingFlag",controlType:"widget.multiCode.MKT",data:null,id:"MKT",popupURL:"/ECERP/EAD/EAD029P_01",valueColumn:"CMCD_ID",labelColumn:"KEYWORD",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",CLASS_CD:""}},contract:{controlType:"widget.multiCode.contract",searchURL:"/Account/Basic/GetListContractForSearch",popupURL:"/ECERP/Popup.Search/ES029P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL11141,valueColumn:"CT_CD",labelColumn:"CT_CDNM",defaultParam:{PARAM:"",SORT_COLUMN:"",CD_TYPE:1}},contractItem:{controlType:"widget.multiCode.contractItem",searchURL:"/Account/Basic/GetListContractTypeForSearch",popupURL:"/ECERP/Popup.Search/ES030P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03638,valueColumn:"CT_ITEM_CD",labelColumn:"CT_ITEM_NM",defaultParam:{PARAM:"",SORT_COLUMN:""}},customerVendor:{controlType:"widget.multiCode.customerVendor",searchURL:"/Groupware/CRM/GetListCustForSearch",popupURL:"/ECERP/Popup.Search/EG002P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL00330,valueColumn:"CUST_IDX",labelColumn:"COMPANY_DES",defaultParam:{PARAM:"",SORT_COLUMN:"",CANCEL_TYPE:"N"}},person:{controlType:"widget.multiCode.person",searchURL:"/Groupware/CRM/GetListSelectPerson",popupURL:"/ECERP/Popup.Search/EGD002P_02",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL04331,valueColumn:"ID",labelColumn:"UNAME",defaultParam:{SEARCH_TEXT:"",CANCEL:"N",GW_USE:"0"},autoCompleteFocus:!0,isSharing:!0,isCS:!0,isDualGroupType:!0,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{isSharing:n.isSharing,isCS:n.isCS})},onInitState:function(n,t){ecount.control.codes.c01.prototype.onInitState.apply(this,arguments);_.merge(t,{isSharing:this.isSharing,isCS:this.isCS});this.extractData&&this.extractData.__state&&(this.extractData.__state.dualModeData=t.dualModeData)}},cs:{controlType:"widget.multiCode.cs",searchURL:"/Groupware/CRM/GetListSelectSharePerson",popupURL:"/ECERP/Popup.Search/EGM025P_06",checkMaxCount:100,width:600,height:530,subTitle:ecount.resource.LBL04331,valueColumn:"ID",labelColumn:"ID",defaultParam:{SEARCH_TEXT:""},autoCompleteFocus:!0},personLink:{controlType:"widget.multiCode.personLink",searchURL:"/Groupware/CRM/GetListSelectPerson",popupURL:"/ECERP/Popup.Search/EGD002P_02",checkMaxCount:1e3,width:450,height:530,subTitle:ecount.resource.LBL04331,valueColumn:"ID",labelColumn:"UNAME",defaultParam:{SEARCH_TEXT:"",CANCEL:"N",GW_USE:"0"},hasCodeComplete:!0,hasLabelMode:!0,casesensitive:!0,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);this._beforeChangeDropdown=n._beforeChangeDropdown||this._beforeChangeDropdown},serialize:function(n){var t=ecount.control.codes.c01.prototype.serialize.apply(this,arguments);return t[1].key=(n||this.name)+"_RADIO",t}},csLink:{controlType:"widget.multiCode.csLink",searchURL:"/Groupware/CRM/GetListSelectSharePerson",popupURL:"/ECERP/Popup.Search/EGM025P_06",checkMaxCount:100,width:600,height:530,subTitle:ecount.resource.LBL04331,valueColumn:"ID",labelColumn:"ID",defaultParam:{SEARCH_TEXT:""},hasCodeComplete:!0,hasLabelMode:!0,serialize:function(n){var t=ecount.control.codes.c01.prototype.serialize.apply(this,arguments);return t[1].key=(n||this.name)+"_RADIO",t}},myPage:{controlType:"widget.multiCode.myPage",searchURL:"/SelfCustomize/User/GetSearchMypageMenu",popupURL:"/ECERP/EMW/EMW002M",width:450,height:500,valueColumn:"GROUP_SEQ",labelColumn:"HIGH_GROUP",defaultParam:{TYPE:"CREATE",PARENT_SEQ:0,programId:"",programName:"",selectedCodes:""}},searchUser:{name:"searchUser",searchURL:"/ECAPI/Tax2016/Basic/GetListUser",controlType:"widget.multiCode.searchUser",data:null,id:"searchUser",subTitle:"사원 검색",title:"사원검색",popupURL:"/ECERP/ETD2016/ETD010P_02",popupType:!1,valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.extend(this,{popupURL:n.popupOptions?n.popupOptions.popupURL:n.popupURL,searchURL:n.popupOptions?n.popupOptions.searchURL:n.searchURL})}},customizeCode:{controlType:"widget.multiCode.customizeCode",searchURL:"/Groupware/CRM/GetListCustomizeCodeForSearch",popupURL:"/ECERP/Popup.Search/EGM025P_02",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03638,valueColumn:"COLCODE_CD",labelColumn:"COLCODE_NM",defaultParam:{SEARCHTEXT:"",USE_STOP_YN:"N",BOARD_CD:"1",COL_SEQ:"1"}},contact:{controlType:"widget.multiCode.contact",searchURL:"/Groupware/CRM/GetListContactForSearch",popupURL:"/ECERP/Popup.Search/EGU007P_05",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03606,valueColumn:"HP_NO",labelColumn:"COMPANY_DES",defaultParam:{SEARCHTEXT:"",POPUP_YN:"Y",SER_NO:0}},label:{controlType:"widget.multiCode.label",searchURL:"/SVC/Groupware/Common/GetListLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL10187,valueColumn:"LBL_CD",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",defaultParam:{SEARCHTEXT:"",BOARD_CD:"1"},isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100,Data:{openFrom:"B"}}}}},remarks:{controlType:"widget.multiCode.remarks",searchURL:"/Account/Basic/GetListRemarkForSearch",popupURL:"/ECERP/Popup.Search/EB009P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL02449,valueColumn:"REMARKS_CD",labelColumn:"REMARKS_DES",defaultParam:{PARAM:"",gyeCode:""},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},TblAccount:{name:"TblAccount",searchURL:"/SVC/Account/Others/GetListTblAccountPgWidget",controlType:"widget.multiCode.TblAccount",data:null,id:"TblAccount",subTitle:ecount.resource.LBL00500,title:ecount.resource.LBL00500,popupURL:"/ECERP/EBS/EBS003P_01",popupType:!1,valueColumn:"DW_ACCN",labelColumn:"RENAMES",isCheckBoxDisplayFlag:!0,defaultParam:null,isSVC:!0},cardSales:{id:"cardSales",name:"cardSales",searchURL:"/SVC/Account/Others/GetListCardSalesCode",controlType:"widget.multiCode.cardSales",data:null,width:300,height:350,subTitle:ecount.resource.LBL12437,title:ecount.resource.LBL12437,popupURL:"/ECERP/SVC/EBD/EBD020P_05",popupType:!1,valueColumn:"CRDCO_CD",labelColumn:"CRDCO_NM",isCheckBoxDisplayFlag:!0,defaultParam:{isChangePopupType:!1}},merchantAccount:{controlType:"widget.multiCode.merchantAccount",searchURL:"/Account/CashIn/GetInfoMerchantAccount",popupURL:"/ECERP/Popup.Search/CM001P_CM",checkMaxCount:100,width:450,height:530,subTitle:"",valueColumn:"CUST",labelColumn:"CUST_NAME",defaultParam:{PARAM:"",CALL_TYPE:"0",DEL_FLAG:"N"}},processMenu:{controlType:"widget.multiCode.processMenu",popupURL:"/ECERP/SVC/ESO/ESO002P_04",id:"processMenu",name:"processMenu",subTitle:ecount.resource.LBL08722,title:ecount.resource.LBL08722,width:400,height:700,isSVC:!0,valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},loadStandard:{controlType:"widget.multiCode.loadStandard",popupURL:"/ECERP/SVC/ESO/ESO001P_05",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL08849,valueColumn:"PROC_STEP",labelColumn:"STET_ID",defaultParam:{}},accessibleMenuGroup:{controlType:"widget.multiCode.accessibleMenuGroup",searchURL:"/SelfCustomize/User/GetListMnGroupForSearch",popupURL:"/ECERP/EMP/EMP003P_01",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL09712,valueColumn:"ALL_MN_GROUPCD",labelColumn:"ALL_MN_GROUPNM",defaultParam:{PARAM:""}},category:{searchURL:"/Inventory/OpenMarket/GetListStetOmPmCategory",controlType:"widget.multiCode.category",popupURL:"/ECERP/ESK/ESK001P_07",valueColumn:"CATEGORY",labelColumn:"LABEL",subTitle:"카테고리검색",width:1e3,checkMaxCount:1,defaultParam:{PARAM:""}},service:{name:"txtServCd",searchURL:"/Account/Basic/GetListServiceForSearch",controlType:"widget.multiCode.service",popupURL:"/ECERP/Popup.Search/EB015P",valueColumn:"SERVICE_CD",labelColumn:"SERVICE_NAME",data:null,id:"txtServCd",subTitle:"Search Service Code",title:"Search Service Code",checkMaxCount:100,popupType:!1,isCheckBoxDisplayFlag:!0,defaultParam:{DEL_FLAG:"Y",CHK_FLAG:"P",PARAM:""}},costingDate:{searchURL:"/SVC/Inventory/Costing/GetListInventoryMonthlyCost",controlType:"widget.multiCode.costingDate",popupURL:"/ECERP/SVC/ESS/ESS012R_02",width:550,valueColumn:"COSTING_CD",labelColumn:"COSTING_DES",defaultParam:{PARAM:""}},smsSendType:{controlType:"widget.multiCode.smsSendType",searchURL:"/Common/Infra/GetListSendType",popupURL:"/ECERP/Popup.Search/ECC002P_01",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL11578,valueColumn:"ITEM12",labelColumn:"ITEM11",defaultParam:{PARAM:"",CLASS_CD:"LU20"}},sendType:{controlType:"widget.multiCode.sendType",searchURL:"/SVC/Common/Infra/GetListSendType",popupURL:"/ECERP/SVC/Popup/ECC002P_01",checkMaxCount:100,width:550,height:530,subTitle:ecount.resource.LBL11578,valueColumn:"DOC_PRG_ID",labelColumn:"DOC_RESX_NAME",defaultParam:{Request:{Data:{PARAM:""},SEARCH:"",keyword:""},MENU_FLAG:"1"}},smsProgressStatus:{controlType:"widget.multiCode.smsProgressStatus",searchURL:"/Common/Infra/GetListStatus",popupURL:"/ECERP/Popup.Search/ECC002P_02",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03399,valueColumn:"ITEM1",labelColumn:"ITEM3",defaultParam:{PARAM:"",CLASS_CD:"LU21"}},limitDateMenuType:{controlType:"widget.multiCode.limitDateMenuType",searchURL:"/SVC/Common/Infra/GetListLimitDateSetupMenu",popupURL:"/ECERP/SVC/Popup/ES076P",id:"",name:"",isSVC:!0,defaultParam:null,valueColumn:"ITEM12",labelColumn:"ITEM11",initCodeOptions:function(){this.defaultParam={PARAM:"",CLASS_CD:"LU20",MENU_CD:"ST005",MENU_SEQ:0,MENU_SEARCH_TARGET:"JS"}},addItemExtraData:function(n){var t=n.ITEM11;return t?ecount.resource[t]?{label:ecount.resource[t],originLabel:ecount.resource[t]}:null:null}},receiveStatus:{controlType:"widget.multiCode.receiveStatus",searchURL:"/SVC/Common/Infra/GetListStatus",popupURL:"/ECERP/SVC/Popup/ECC002P_02",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL19816,valueColumn:"VALUES",labelColumn:"NAME",defaultParam:{Request:{keyword:"",SEARCH:""}}},openMarketProdCd:{controlType:"widget.multiCode.openMarketProdCd",searchURL:"/Inventory/OpenMarket/GetListStetOmPMInfoProd",popupURL:"/ECERP/ESK/ESK012P_01",valueColumn:"OPENMARKET_PROD_CD",labelColumn:"PROD_NM",subTitle:ecount.resource.LBL11503,width:550,checkMaxCount:100,defaultParam:{PARAM:"",USE_YN:"N"}},foreignCurrency:{name:"foreignCurrency",searchURL:"/Account/Basic/GetForeignCurrencySearchAction",controlType:"widget.multiCode.foreignCurrency",popupURL:"/ECERP/Popup.Search/CM306P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,width:550,isCheckBoxDisplayFlag:!0,defaultParam:{USE_GUBUN:"N",PARAM:"",SORT_COLUMN:"",SORT_TYPE:""}},bankCd:{controlType:"widget.multiCode.bankCd",searchURL:"/Account/Basic/GetListPayBank",popupURL:"/ECERP/SVC/EBQ/EBQ003P",valueColumn:"BANK_CD",labelColumn:"BANK_DES",subTitle:"은행코드검색",width:550,checkMaxCount:100,defaultParam:{PARAM:"",SEARCH_TYPE:"2",SORT_COLUMN:"BANK_CD",SORT_TYPE:"A"}},departmentLevelGroup:{searchURL:"/SelfCustomize/User/GetSearchDepartmentLevelInfo",controlType:"widget.multiCode.departmentLevelGroup",popupURL:"/ECERP/Popup.Search/EMM002P_24",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},valueColumn:"CD_GROUP",labelColumn:"NM_GROUP"},employee:{name:"employee",searchURL:"/Account/Basic/GetListEmployeeForSearch",controlType:"widget.multiCode.employee",id:"employee",subTitle:ecount.resource.LBL04124,title:ecount.resource.LBL04124,popupURL:"/ECERP/Popup.Search/EP001P",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",defaultParam:{PARAM:"",SORT_COLUMN:"",isOthersDataFlag:""}},tempEmployee:{name:"tempEmployee",searchURL:"/Account/Basic/GetListTempEmployeeForSearch",controlType:"widget.multiCode.tempEmployee",id:"tempEmployee",subTitle:ecount.resource.LBL04124,title:ecount.resource.LBL04124,popupURL:"/ECERP/Popup.Search/EP004P",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",defaultParam:{PARAM:"",SORT_COLUMN:""}},progressStatus:{controlType:"widget.multiCode.progressStatus",searchURL:"/Groupware/Common/GetListBoardStatusForSearch",popupURL:"/ECERP/EGM/EGM023P_03",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL02686,valueColumn:"STATUS_CD",labelColumn:"STATUS_NM",defaultParam:{PARAM:""}},boardMngSlip:{searchURL:"/Groupware/Common/GetBoardManageSlip",controlType:"widget.multiCode.boardMngSlip",popupURL:"/ECERP/EGM/EGM023P_13",valueColumn:"MNGSLIP_CODE",labelColumn:"MNGSLIP_DES",width:550},codeTypeData:{searchURL:"/Groupware/Common/GetListUserTableCodeForSearch",controlType:"widget.multiCode.codeTypeData",popupURL:"/ECERP/EGM/EGM023P_06",valueColumn:"ITEM_CD",labelColumn:"ITEM_NM",width:550,isApplyDisplayFlag:!0,defaultParam:{PARAM:"",SORT_COLUMN:"SORT",SORT_TYPE:"A",isMultiCode:!0,isApplyDisplayFlag:!0}},boardMngRef:{searchURL:"/Groupware/Common/GetBoardManageRef",controlType:"widget.multiCode.boardMngRef",popupURL:"/ECERP/EGM/EGM023P_09",valueColumn:"MNGSLIP_CODE",labelColumn:"MNGSLIP_DES",width:550},CopyDetail:{name:"CopyDetail",controlType:"widget.multiCode.CopyDetail",searchURL:"/SelfCustomize/Config/GetCopyDetail",id:"txtCopyDetail",subTitle:"거래처",popupURL:"/ECERP/Popup.Search/EMM002P_06",valueColumn:"VALUECOPY",labelColumn:"NAMECOPY",checkMaxCount:100,isCheckBoxDisplayFlag:!0,useAsteriskMode:!0,isApplyDisplayFlag:!1},billingUnit:{controlType:"widget.multiCode.billingUnit",searchURL:"/Account/Basic/GetListUnitForSearch",popupURL:"/ECERP/Popup.Search/EM002P",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL12172,valueColumn:"CT_CD",labelColumn:"CT_CDNM",defaultParam:{PARAM:"",SORT_COLUMN:"",CD_TYPE:2}},card:{searchURL:"/SVC/Account/Others/GetListCardInfo",controlType:"widget.multiCode.card",popupURL:"/ECERP/SVC/EBD/EBD006P_15",valueColumn:"CRD_NO",labelColumn:"CRD_NM",checkMaxCount:15,id:"card",name:"card",subTitle:ecount.resource.LBL12437,width:780,height:550,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",OPEN_SEARCH_YN:"N"}}}}},allInOne:{__inheritParent:"ecount.control.codes.c05",searchURL:"/SVC/Inventory/Basic/GetListProdForSearchPopup",controlType:"widget.multiCode.allInOne",popupURL:"/ECERP/SVC/Popup/ES020P",valueColumn:"PROD_CD",labelColumn:"PROD_DES",checkMaxCount:100,preSearchDataKey:"FORM_LIST",isDisableCheckboxesWithAddingMore:!0,isAddCodeAfterPopupClosed:!1,isRemoveAllCodesAfterPopupClosed:!1,isDisableRemoveAllButton:!0,isClearInputBoxWhenUnfocus:!1,useAsteriskMode:!0,isSVC:!0,defaultParam:{Request:{Data:{PARAM:"",CANCEL:"N",inputMethod:"K"}}}},searchAddBusinessNo:{name:"searchAddBusinessNo",searchURL:"/ECAPI/SelfCustomize/Config/GetOtherEstablishmentsList",controlType:"widget.multiCode.searchAddBusinessNo",data:null,id:"searchAddBusinessNo",subTitle:"세무신고사업장",title:"세무신고사업장",popupURL:"/ECERP/ETA/ETA005P_01",popupType:!1,width:450,height:530,isCheckBoxDisplayFlag:!0,checkMaxCount:100,defaultParam:null,valueColumn:"BUSINESS_NO",labelColumn:"COM_DES"},groupUser:{name:"groupUser",searchURL:"/SVC/SelfCustomize/User/GetListGroupAuthorization",controlType:"widget.multiCode.groupUser",popupURL:"/ECERP/SVC/EMM/EMM004P_01",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,width:500,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isCheckBoxDisplayFlag:!0,checkMaxCount:100,PARAM:"",SORT_COLUMN:"CODE_NO",SORT_TYPE:"A"}}}},omShop:{searchURL:"/Inventory/OpenMarket/GetListStetOmShopCode",controlType:"widget.multiCode.omShop",popupURL:"/ECERP/ESK/ESK001P_34",valueColumn:"SHOP_CD",labelColumn:"SHOP_NM",subTitle:"쇼핑몰검색",width:550,checkMaxCount:100,defaultParam:{PARAM:""}},companyByZone:{isGMC:!0,controlType:"widget.multiCode.companyByZone",popupURL:"/ECERP/EAA/EAA046P_01",searchURL:"/Admin/Common/GetAdminCompanyList",width:380,height:600,subTitle:"",valueColumn:"COM_CODE",labelColumn:"COM_DES",checkMaxCount:100,defaultParam:{PARAM:""}},statusList:{searchURL:"/Inventory/Common/GetListStatusListByDailyReport",controlType:"widget.multiCode.statusList",popupURL:"/ECERP/ESZ/ESZ004R_01",valueColumn:"VALUEDATA",labelColumn:"SEARCH_MENU_VALUE",subTitle:ecount.resource.LBL04853,width:800,checkMaxCount:100,defaultParam:{PARAM:""}},scheduleType:{searchURL:"/Groupware/Schedule/GetListScheduleType",controlType:"widget.multiCode.scheduleType",popupURL:"/ECERP/EGJ/EGJ006P_18",valueColumn:"VCTYPE",labelColumn:"VCTYPE_DES",defaultValue:"",defaultLabel:"",defaultParam:{}},scheduleLabel:{searchURL:"/SVC/Groupware/Common/GetListLabel",controlType:"widget.multiCode.scheduleLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",valueColumn:"LBL_CD",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:{PARAM:""},isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100,Data:{openFrom:"S"}}}}},enoteLabel:{searchURL:"/SVC/Groupware/Common/GetListLabel",controlType:"widget.multiCode.enoteLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",valueColumn:"LBL_ID",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100}}}},equipmentInfo:{searchURL:"/Groupware/Equipment/GetListEquipment",controlType:"widget.multiCode.equipmentInfo",popupURL:"/ECERP/EGK/EGK001P_03",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultValue:"",defaultLabel:"",defaultParam:{}},equipmentLabel:{searchURL:"/SVC/Groupware/Common/GetListLabel",controlType:"widget.multiCode.equipmentLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",valueColumn:"LBL_CD",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:{PARAM:""},isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100,Data:{openFrom:"O"}}}}},departmentWebmail:{controlType:"widget.multiCode.departmentWebmail",searchURL:"/Manage/Department",popupURL:"/WMAIL/Manage/Department",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},valueColumn:"CODE",labelColumn:"CODE_DES"},webmailUserBehavior:{controlType:"widget.multiCode.webmailUserBehavior",searchURL:"/WMAPI/Setting/GetBehaviorList",popupURL:"/WMAIL/Setting/UserBehavior",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isContainLevelGroup:!0,defaultParam:{PARAM:""},valueColumn:"ACTION_DESC",labelColumn:"ACTION_NAME"},serviceMenu:{searchURL:"/Admin/Manage/GetListServiceManageMenu",controlType:"widget.multiCode.serviceMenu",popupURL:"/ECERP/ECU/ECU302P_02",valueColumn:"MENU_CD",labelColumn:"MENU_NM",subTitle:"Menu List",checkMaxCount:100,defaultParam:{PARAM:""}},serviceMenuCountry:{searchURL:"/Admin/Manage/GetListCountryForServiceManageMenu",controlType:"widget.multiCode.serviceMenuCountry",popupURL:"/ECERP/ECU/ECU302P_04",valueColumn:"COUNTRY_CD",labelColumn:"COUNTRY_NM",subTitle:"Search Country Code",checkMaxCount:100,defaultParam:{PARAM:""}},purPose:{searchURL:"/Groupware/Equipment/GetListCarPurPoseForSearch",controlType:"widget.multiCode.purPose",popupURL:"/ECERP/Popup.Search/EGK002P_03",valueColumn:"PURPOSE_CD",labelColumn:"PURPOSE_DES",checkMaxCount:100,defaultParam:{PARAM:"",isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0}},carNum:{searchURL:"/Groupware/Equipment/GetListCarNumberForSearch",controlType:"widget.multiCode.carNum",popupURL:"/ECERP/Popup.Search/EGK002P_01",valueColumn:"CAR_NUMBER",labelColumn:"CAR_DES",checkMaxCount:100,defaultParam:{PARAM:"",isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0}},serviceType:{name:"serviceType",searchURL:"/GMCAPI/Admin/Manage/GetSearchServiceTypeList",controlType:"widget.multiCode.serviceType",id:"serviceType",subTitle:"Search Service Type",title:"Search Service Type",popupURL:"/ECERP/EAA/EAA002P_01",valueColumn:"ID",labelColumn:"SERVICESTATUS",defaultParam:{PARAM:""}},epWidgetList:{searchURL:"/Service/EP/GetListEpWidgetNameForPopup",controlType:"widget.multiCode.epWidgetList",popupURL:"/ECERP/EMM/EMM016P_01",valueColumn:"WIDGET_ID",labelColumn:"RESX_DES",subTitle:ecount.resource.LBL20257,width:300,height:600,checkMaxCount:100,defaultParam:{PARAM:""}},paidLeave:{name:"paidLeave",searchURL:"/SVC/Manage/Common/GetDataWidgetPaidLeave",controlType:"widget.multiCode.PaidLeave",popupURL:"/ECERP/SVC/Popup/EPA032P",valueColumn:"REST_CD",labelColumn:"REST_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",isOpenSearchYN:"Y",isApplyDisplayFlag:!0}}}},timeCode:{name:"timeCode",title:ecount.resource.LBL06524,subTitle:ecount.resource.LBL06524,searchURL:"/SVC/Manage/Common/GetListSearchTimeCode",controlType:"widget.multiCode.timeCode",popupURL:"/ECERP/SVC/Popup/EPA030P_01",valueColumn:"ATTEND_CD",labelColumn:"ATTEND_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",isOpenSearchYN:"Y",isApplyDisplayFlag:!0,ChkFlag:"S"}}}},calculatePaidLeave:{id:"calculatePaidLeave",name:"calculatePaidLeave",controlType:"widget.multiCode.calculatePaidLeave",searchURL:"/Manage/TimeMgmt/GetCalculatePaidleaveSearch",subTitle:ecount.resource.LBL12794,title:ecount.resource.LBL12794,popupURL:"/ECERP/EPA/EPA041P_02",valueColumn:"REST_CALC_CD",labelColumn:"REST_CALC_DES",defaultParam:{PARAM:"",SORT_COLUMN:""}},earning:{searchURL:"/Manage/Payroll/GetListEarningsForSearch",controlType:"widget.multiCode.earning",popupURL:"/ECERP/EPL/EPL015P_03",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NM",checkMaxCount:20,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",DEL_FLAG:"N"}},appointCust:{name:"APPOINT_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.appointCust",id:"appointCust",subID:"",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CODE_CLASS:"I30",custGroupCodeClass:"I30",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0,ViewMode:"2"}}}})}},joinCust:{name:"JOIN_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.joinCust",id:"txtCustGroup1",subID:"txtCustGroup2",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CODE_CLASS:"I02",custGroupCodeClass:"I02",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0,ViewMode:"2"}}}})}},rankCust:{name:"RANK_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.rankCust",id:"txtCustGroup1",subID:"txtCustGroup2",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:null,initializeOptions:function(){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CODE_CLASS:"I01",custGroupCodeClass:"I01",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0,ViewMode:"2"}}}})}},PaidLeave:{searchURL:"/SVC/Manage/Common/GetDataWidgetPaidLeave",controlType:"widget.multiCode.PaidLeave",popupURL:"/ECERP/SVC/Popup/EPA032P",valueColumn:"REST_CD",labelColumn:"REST_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,_isDefaultSetting:!0,defaultValue:null,defaultLabel:null,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{DEL_FLAG:"N",CHK_FLAG:"S",PARAM:"",REST_CD:"",isOpenSearchYN:"Y"}}},onInitControlOptions:function(n,t){var i=$.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0;i||n.isDefaultSet==!1&&n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label)},initCodeOptions:function(n,t){if(n.initOptions&&this.defaultValue===null&&(!n.data||n.data.length==0)&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}}},payrollEmp:{searchURL:"/Manage/Payroll/GetListEmployeeForSearch",controlType:"widget.multiCode.payrollEmp",popupURL:"/ECERP/EPL/EPL015P_02",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",checkMaxCount:20,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:"",DEL_FLAG:"N"}},company:{controlType:"widget.multiCode.company",popupURL:"/ECERP/EAA/EAA046P_01",searchURL:"/GMCAPI/Admin/Common/GetAdminCompanyList",width:380,height:600,subTitle:"",valueColumn:"COM_CODE",labelColumn:"COM_DES",checkMaxCount:100,defaultParam:{PARAM:""}},trackingType:{searchURL:"/Account/ExpenseMgmt/GetListBySearchTrackingType",controlType:"widget.multiCode.trackingType",popupURL:"/ECERP/EBO/EBO002P_02",checkMaxCount:100,isCheckBoxDisplayFlag:!1,isIncludeInactive:!0,isNewDisplayFlag:!0,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"CTRLTYPE_CD",labelColumn:"CTRLTYPE_NM"},expenseCode:{searchURL:"/Account/ExpenseMgmt/GetListBySearchExpenseCode",controlType:"widget.multiCode.expenseCode",popupURL:"/ECERP/EBO/EBO003P_02",checkMaxCount:100,isIncludeInactive:!0,isNewDisplayFlag:!0,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"COST_CD",labelColumn:"COST_NM"},counselCategory:{searchURL:"/Service/CustomerCenter/GetListCounselCategory",controlType:"widget.multiCode.counselCategory",popupURL:"/ECERP/POPUP.SEARCH/ECU006P_01",checkMaxCount:100,isIncludeInactive:!0,isCheckBoxDisplayFlag:!0,valueColumn:"CATEGORY",labelColumn:"CATEGORY_DES_RES",isGMC:!0,defaultParam:{PARAM:""}},counselor:{searchURL:"/Service/CustomerCenter/GetListCounselor",controlType:"widget.multiCode.counselor",popupURL:"/ECERP/POPUP.SEARCH/ECU005P_02",valueColumn:"ECOUNT_ID",labelColumn:"ECOUNT_NAME",isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""},isGMC:!0},shoppingMallName:{controlType:"widget.multiCode.shoppingMallName",popupURL:"/ECERP/Popup.Search/ESK001P",searchURL:"/Inventory/Basic/GetListForSearchShoppingMallName",id:"txtShoppingMallName",valueColumn:"ITEM1",labelColumn:"ITEM3",checkMaxCount:100,defaultParam:{PARAM:"",ITEM1:"",isCheckBoxDisplayFlag:!0,isApplyDisplayFlag:!0}},codeTypeText:{searchURL:"/Inventory/SaleOrder/GetListCofsAddItem",controlType:"widget.multiCode.codeTypeText",popupURL:"/ECERP/ESD/ESD029P_02",valueColumn:"ADD_CD",labelColumn:"ADD_NAME",width:550,isApplyDisplayFlag:!0,defaultParam:{PARAM:"",SORT_COLUMN:"ADD_CD",SORT_TYPE:"A",isMultiCode:!0,isApplyDisplayFlag:!0}},attendTimeCode:{searchURL:"/SVC/Manage/Attendance/GetListInsa501ForSearch",controlType:"widget.multiCode.attendTimeCode",popupURL:"/ECERP/SVC/EPD/EPD001P",valueColumn:"CODE2",labelColumn:"DES",width:550,isMultiCode:!1,isApplyDisplayFlag:!1,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,Data:{SORT_COLUMN:"CODE",SORT_TYPE:"A",CALC_TYPE:1,PARAM:"",PARAM2:"",PARAM3:""}}}}},ERPvoucher:{searchURL:"/Groupware/EApproval/GetListMappingInfo",controlType:"widget.multiCode.ERPvoucher",popupURL:"/ECERP/Popup.Search/EMM009P_05",valueColumn:"CODE",labelColumn:"NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}},languageDetail:{searchURL:"/SelfCustomize/Config/GetLanguageDetail",controlType:"widget.multiCode.languageDetail",popupURL:"/ECERP/popup.search/EGD002P_03",valueColumn:"LANGUAGE_CODE",labelColumn:"LANGUAGE_NAME",id:"LANGUAGE_CODE",name:"LANGUAGE_NAME",width:450,height:350,defaultParam:{PARAM:""}},ntaxrdc:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.multiCode.ntaxrdc",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",width:800,isMultiCode:!1,defaultParam:{Request:{Data:{PARAM:"",TAX_TYPE:"1",isApplyDisplayFlag:!1,isIncludeInactive:!0}}}},AlloDeduType:{searchURL:"/SVC/Manage/Allowance/GetListPspyAllodeduItemSet",controlType:"widget.multiCode.AlloDeduType",popupURL:"/ECERP/SVC/EPA/EPA004P",valueColumn:"ALLODEDU_TYPE_CD",labelColumn:"ALLODEDU_ITEM_NM",width:600,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{UseApply:!1,UseNewAndEdit:!0,QUICK_TXT:"",Data:{IS_SHOW_ALL:!1,IS_FROM_INPUT:!1}}}}},earningGroup:{searchURL:"/SVC/Manage/Allowance/GetAllodeduGroupUntyForSearch",controlType:"widget.multiCode.earningGroup",popupURL:"/ECERP/SVC/EPA/EPA003P",valueColumn:"ALLODEDU_GRP_CD",labelColumn:"GRP_NM",width:500,isMultiCode:!1,isApplyDisplayFlag:!1,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,Data:{PAGE_SIZE:100,PAGE_CURRENT:1,ALLODEDU_GUBUN:1,OPEN_SEARCH_YN:"Y",PARAM:"",USE_TF:1}}}}},deductionGroup:{searchURL:"/SVC/Manage/Allowance/GetAllodeduGroupUntyForSearch",controlType:"widget.multiCode.deductionGroup",popupURL:"/ECERP/SVC/EPA/EPA003P",valueColumn:"ALLODEDU_GRP_CD",labelColumn:"GRP_NM",width:500,isMultiCode:!1,isApplyDisplayFlag:!1,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,Data:{PAGE_SIZE:100,PAGE_CURRENT:1,ALLODEDU_GUBUN:2,OPEN_SEARCH_YN:"Y",PARAM:"",USE_TF:1}}}}},businessType:{name:"businessType",searchURL:"/TaxOthers/Basic/GetCmcdTaxListByPopup",controlType:"widget.multiCode.businessType",data:null,groupId:null,id:"businessType",popupURL:"/ECERP/ETG/ETG002P_02",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX01",PARAM:"",PARAM2:"",PARAM3:"",SORT_COLUMN:"ITEM1",SORT_TYPE:"A"}},taxpayerType:{name:"taxpayerType",controlType:"widget.multiCode.taxpayerType",data:null,groupId:null,id:"taxpayerType",popupURL:"/ECERP/ETG/ETG002P_01",valueColumn:"ITEM1",labelColumn:"ITEM2",width:800,height:550,defaultParam:{CLASS_CD:"TX09",PARAM:"",PARAM2:"",PARAM3:"",SORT_COLUMN:"ITEM1",SORT_TYPE:"A"}},manageNoType:{controlType:"widget.multiCode.manageNoType",searchURL:"/Common/Infra/GetListTransactionType",popupURL:"/ECERP/Popup.Search/CM100P_36",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03444,valueColumn:"ITEM11",labelColumn:"ITEM9",defaultParam:{PARAM:"",CLASS_CD:"LU35"}},earningsCode:{searchURL:"/SVC/Manage/Allowance/GetListAllowanceUntySearch",controlType:"widget.multiCode.earningsCode",popupURL:"/ECERP/SVC/EPA/EPA009P",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NAME",width:550,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",UseApply:!0,UseNewAndEdit:!1,Data:{ALLODEDU_GUBUN:1,IS_SHOW_ALL:!1,IS_FROM_INPUT:!1}}}}},earningsType:{searchURL:"/SVC/Manage/Allowance/GetListPspyAllodeduItemSet",controlType:"widget.multiCode.earningsType",popupURL:"/ECERP/SVC/EPA/EPA004P",valueColumn:"ALLODEDU_TYPE_CD",labelColumn:"ALLODEDU_ITEM_NM",width:560,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",Data:{ALLODEDU_GUBUN:1}}}}},taxExamtionTypeCodeNon:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.multiCode.taxExamtionTypeCodeNon",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",width:1150,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{keyword2:"",Data:{TAX_TYPE:""}}}}},taxExamtionTypeCode:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.multiCode.taxExamtionTypeCode",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",width:1150,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{keyword2:"1",Data:{TAX_TYPE:1}}}}},nonTaxableType:{searchURL:"/SVC/Manage/Allowance/GetGeneralDataForSearchPopup",controlType:"widget.multiCode.nonTaxableType",popupURL:"/ECERP/SVC/EPA/EPA008P",valueColumn:"CODE",labelColumn:"NAME",width:100,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!0,Data:{SearchStaticPopupType:"TAXAPPLYTYPE",PARAM:""}}}}},deductionCode:{searchURL:"/SVC/Manage/Allowance/GetListAllowanceUntySearch",controlType:"widget.multiCode.deductionCode",popupURL:"/ECERP/SVC/EPA/EPA009P",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NAME",width:550,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",UseApply:!0,UseNewAndEdit:!1,Data:{ALLODEDU_GUBUN:2,IS_SHOW_ALL:!1,IS_FROM_INPUT:!1}}}}},deductionType:{searchURL:"/SVC/Manage/Allowance/GetListPspyAllodeduItemSet",controlType:"widget.multiCode.deductionType",popupURL:"/ECERP/SVC/EPA/EPA004P",valueColumn:"ALLODEDU_TYPE_CD",labelColumn:"ALLODEDU_ITEM_NM",width:560,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",Data:{ALLODEDU_GUBUN:2}}}}},reducedCode:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.multiCode.reducedCode",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",width:1150,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{keyword2:"2",Data:{TAX_TYPE:2}}}}},reducedType:{searchURL:"/SVC/Manage/Allowance/GetGeneralDataForSearchPopup",controlType:"widget.multiCode.reducedType",popupURL:"/ECERP/SVC/EPA/EPA008P",valueColumn:"CODE",labelColumn:"NAME",width:100,isApplyDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!0,Data:{SearchStaticPopupType:"REDUCEDTYPE",PARAM:""}}}}},sumStandard:{searchURL:"/SVC/Manage/Allowance/GetGeneralDataForSearchPopup",controlType:"widget.multiCode.sumStandard",popupURL:"/ECERP/SVC/EPA/EPA008P",valueColumn:"CODE",labelColumn:"NAME",checkMaxCount:1,width:150,isMultiCode:!1,isApplyDisplayFlag:!1,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,Data:{SearchStaticPopupType:"STANDARDSUMIFS",PARAM:""}}}}},searchIncomeAddType:{name:"searchIncomeAddType",controlType:"widget.multiCode.searchIncomeAddType",data:null,groupId:null,id:"searchIncomeAddType",subTitle:"소득구분 검색",title:"소득구분 검색",popupURL:"/ECERP/ETG/ETG003P_01",popupType:!1,valueColumn:"FLAG",labelColumn:"FLAG_DES",isCheckBoxDisplayFlag:!1,defaultParam:null},searchIncomeEarner:{name:"searchIncomeEarner",searchURL:"/Account/Basic/GetListForSearchIncomeEarner",controlType:"widget.multiCode.searchIncomeEarner",data:null,groupId:null,id:"searchIncomeEarner",subTitle:"소득자 검색",title:"소득자 검색",popupURL:"/ECERP/Popup.Common/ET002P",popupType:!1,valueColumn:"PER_NO",labelColumn:"PER_NAME",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},searchBusinessType:{name:"searchBusinessType",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchBusinessType",data:null,groupId:null,id:"searchBusinessType",subTitle:"업종코드 검색",title:"업종코드 검색",popupURL:"/ECERP/ETG/ETG009P_06",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},searchIncomeCode:{name:"searchIncomeCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchIncomeCode",data:null,groupId:null,id:"searchIncomeCode",subTitle:"소득코드 검색",title:"소득코드 검색",popupURL:"/ECERP/ETG/ETG009P_03",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:{CLASS_CD:"TX00",PARENT_SEQ:0,programId:"",programName:"",selectedCodes:""}},searchTaxationCode:{name:"searchTaxationCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchTaxationCode",data:null,groupId:null,id:"searchTaxationCode",subTitle:"과세구분코드 검색",title:"과세구분코드 검색",popupURL:"/ECERP/ETG/ETG009P_01",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},searchSpecialTaxationCode:{name:"searchSpecialTaxationCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchSpecialTaxationCode",data:null,groupId:null,id:"searchSpecialTaxationCode",subTitle:"조세특례코드 검색",title:"조세특례코드 검색",popupURL:"/ECERP/ETG/ETG009P_05",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},searchProdCode:{name:"searchProdCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchProdCode",data:null,groupId:null,id:"searchProdCode",subTitle:"금융상품코드 검색",title:"금융상품코드 검색",popupURL:"/ECERP/ETG/ETG009P_04",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},searchIntersetFlag:{name:"searchIntersetFlag",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.multiCode.searchIntersetFlag",data:null,groupId:null,id:"searchIntersetFlag",subTitle:"채권이자구분 검색",title:"채권이자구분 검색",popupURL:"/ECERP/ETG/ETG009P_02",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!0,defaultParam:null},svcType:{popupURL:"/ECERP/EAA/EAA063P_01",valueColumn:"SVC_TYPE_CD",labelColumn:"SVC_TYPE_NM",searchURL:"/Admin/Manage/GetListServiceTypeCode",isGMC:!0,controlType:"widget.multiCode.svcType",name:"svcType",id:"svcType",subTitle:"",groupId:"",defaultParam:{SEARCH_DEL_TF:0}},svcTypeGrp:{popupURL:"/ECERP/EAA/EAA063P_02",valueColumn:"SVC_TYPE_GRP_CD",labelColumn:"SVC_TYPE_GRP_NM",searchURL:"/Admin/Manage/GetListServiceTypeGroupCode",isGMC:!0,controlType:"widget.multiCode.svcTypeGrp",name:"svcTypeGrp",id:"svcTypeGrp",subTitle:"",groupId:"",width:550,defaultParam:{SEARCH_DEL_TF:0,isCheckBoxDisplayFlag:!0}},comChgDateCd:{popupURL:"/ECERP/EAA/EAA063P_04",valueColumn:"CODE",labelColumn:"DES",searchURL:"",controlType:"widget.multiCode.comChgDateCd",name:"comChgDateCd",id:"comChgDateCd",subTitle:"",groupId:"",defaultParam:{}},EmployeeType:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.EmployeeType",name:"EmployeeType",id:"EmployeeType",valueColumn:"CODE_NO",labelColumn:"CODE_DES",popupURL:"/ECERP/SVC/Popup/CM002P",width:500,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"I10",PARAM:"",DEL_FLAG:"N",ViewMode:"2"}}}}},payrollForCopy:{searchURL:"/SVC/Manage/Pay/GetListPspyPaymentTermUntyForCopy",controlType:"widget.multiCode.payrollForCopy",name:"payrollForCopy",id:"payrollForCopy",popupURL:"/ECERP/SVC/EPC/EPC001P",valueColumn:"PAY_SEQ",labelColumn:"PAYROLL_NM",width:780,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{IS_COMPARISON_PERIOD:!1,isCheckBoxDisplayFlag:!0,isApplyDisplayFlag:!0}}}}},einvoicebussinessType:{searchURL:"/SVC/Invoice/TW/GetGeneralDataForSearchPopup",controlType:"widget.multiCode.einvoicebussinessType",popupURL:"/ECINVOICE/SVC/TW/TW400P",valueColumn:"CODE",labelColumn:"NAME",id:"einvoicebussinessType",name:"einvoicebussinessType",width:100,isApplyDisplayFlag:!0,defaultParam:{Request:{QUICK_TXT:"",Data:{SearchStaticPopupType:"BUSSINESSTYPE"}}}},einvoiceCust:{searchURL:"/SVC/Invoice/TW/GetListCocsCustInfo",controlType:"widget.multiCode.einvoiceCust",popupURL:"/ECINVOICE/SVC/TW/TW900P_01",valueColumn:"CUST_CD",labelColumn:"CUST_NM",id:"einvoiceCust",name:"einvoiceCust",width:800,isMultiCode:!1,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceItem:{searchURL:"/SVC/Invoice/TW/GetListStpdProductInfo",controlType:"widget.multiCode.einvoiceItem",popupURL:"/ECINVOICE/SVC/TW/TW900P_02",valueColumn:"PROD_CD",labelColumn:"PROD_NM",id:"einvoiceItem",name:"einvoiceItem",width:800,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceCode:{searchURL:"/SVC/Invoice/TW/GetListTWInvoiceSlipDisposal",controlType:"widget.multiCode.einvoiceCode",popupURL:"/ECINVOICE/SVC/TW/TW900P_03",valueColumn:"CRE_NO_USE_SEQ",labelColumn:"TGT_NO",id:"einvoiceCode",name:"einvoiceCode",width:950,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceSlipDetail:{searchURL:"/SVC/Invoice/TW/GetListTWInvoiceSlipDetailDisposal",controlType:"widget.multiCode.einvoiceSlipDetail",popupURL:"/ECINVOICE/SVC/TW/TW900P_04",valueColumn:"CRE_NO_USE_SEQ",labelColumn:"TGT_NO",id:"INVOICE_NO",name:"INVOICE_NO",isSVC:!0,width:1120,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceCodeRange:{searchURL:"/SVC/Invoice/TW/GetListStpdInvoiceGetNoInfo",controlType:"widget.multiCode.einvoiceCodeRange",popupURL:"/ECINVOICE/SVC/TW/TW900P_06",valueColumn:"INVOICE_SEQ",labelColumn:"INVOICE_RANGE",id:"einvoiceCodeRange",name:"einvoiceCodeRange",width:1120,defaultParam:{Request:{Data:{PARAM:""}}}},twEInvoiceNo:{searchURL:"/SVC/Account/Invoice/GetListTWInvoiceSlip",controlType:"widget.multiCode.twEInvoiceNo",popupURL:"/ECERP/SVC/ECTAX/ECTAX100M",valueColumn:"INVOICE_NO",labelColumn:"INVOICE_NO",id:"twEInvoiceNo",name:"twEInvoiceNo",width:1e3,defaultParam:{Request:{Data:{PARAM:""}},IsPopupOpen:!0,PType:"1"},addPopupOpenParam:function(n){var i=this.name,t={};switch(i){case"INVOICE_NO":n.PType="1";t={PARAM:n.PARAM,INVOICE_KIND:n.Request.Data.INVOICE_KIND,INVOICE_TYPE:n.Request.Data.INVOICE_TYPE,SUBMIT_STATUS:"C∬O",CUST:n.Request.Data.CUST,CUST_NAME:n.Request.Data.CUST_NAME};break;case"INVOICE_NO2":n.PType="2";t={PARAM:n.PARAM,INVOICE_KIND:n.Request.Data.INVOICE_KIND,INVOICE_TYPE:n.Request.Data.INVOICE_TYPE,SUBMIT_STATUS:"C∬O",CUST:n.Request.Data.CUST,CUST_NAME:n.Request.Data.CUST_NAME,CONFIRM_TF:"1"};break;case"DISCOUNT_NO":n.PType="3";t={PARAM:n.PARAM,INVOICE_KIND:n.Request.Data.INVOICE_KIND,INVOICE_TYPE:n.Request.Data.INVOICE_TYPE,SUBMIT_STATUS:"C∬O",CUST:n.Request.Data.CUST,CUST_NAME:n.Request.Data.CUST_NAME}}n.Request.Data=t;return}},vnEInvoiceSerial:{searchURL:"/SVC/Account/ETaxInvoice/GetListVnEInvoiceSerial",controlType:"widget.multiCode.vnEInvoiceSerial",popupURL:"/ECERP/SVC/ECTAX/ECTAX201P_01",valueColumn:"SERIAL_NO",labelColumn:"SERIAL_NO",id:"vnEInvoiceSerial",name:"vnEInvoiceSerial",width:500,defaultParam:{Request:{Data:{PARAM:"",SERIAL_YEAR_FROM:"",SERIAL_YEAR_TO:""}}}},vnEInvoiceProgressStatus:{searchURL:"/SVC/Account/ETaxInvoice/GetListVnEInvoiceTaxStatusList",controlType:"widget.multiCode.vnEInvoiceProgressStatus",popupURL:"/ECERP/SVC/ECTAX/ECTAX201P_02",valueColumn:"STATUS_CD",labelColumn:"STATUS_NM",id:"vnEInvoiceProgressStatus",name:"vnEInvoiceProgressStatus",height:550,width:400,defaultParam:{Request:{Data:{PARAM:""}}}},vnEInvoiceTaxOfficeStatus:{searchURL:"/SVC/Account/ETaxInvoice/GetListVnEInvoiceTaxOfficeStatusList",controlType:"widget.multiCode.vnEInvoiceTaxOfficeStatus",popupURL:"/ECERP/SVC/ECTAX/ECTAX201P_03",valueColumn:"STATUS_CD",labelColumn:"STATUS_NM",id:"vnEInvoiceTaxOfficeStatus",name:"vnEInvoiceTaxOfficeStatus",height:350,width:400,defaultParam:{Request:{Data:{PARAM:"",SERIAL_YEAR_FROM:"",SERIAL_YEAR_TO:""}}}},twEInvoiceCodeRange:{searchURL:"/SVC/Account/Invoice/GetListStpdInvoiceGetNoInfo",controlType:"widget.multiCode.twEInvoiceCodeRange",popupURL:"/ECERP/SVC/EBD/EBD010P_06",valueColumn:"INVOICE_SEQ",labelColumn:"INVOICE_RANGE",id:"twEInvoiceCodeRange",name:"twEInvoiceCodeRange",width:1120,defaultParam:{Request:{Data:{PARAM:""}}}},einvoicePid:{searchURL:"",controlType:"widget.multiCode.einvoicePid",popupURL:"/ECERP/SVC/EAA/EAA070P_01",valueColumn:"PID",labelColumn:"COM_NM",id:"einvoicePid",name:"einvoicePid",width:150,isCheckBoxDisplayFlag:!1,defaultParam:{isCheckBoxDisplayFlag:!1,Request:{Data:{PARAM:""}}}},payType:{searchURL:"/SVC/Manage/Pay/GetListPayType",controlType:"widget.multiCode.payType",popupURL:"/ECERP/SVC/EPC/EPC011P",width:500,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{PARAM:""}}}}},payStdTpnm:{searchURL:"/SVC/Manage/Pay/GetDataPayrollFrequency",controlType:"widget.multiCode.payStdTpnm",popupURL:"/ECERP/SVC/EPB/EPB005P",valueColumn:"PAY_STD_TPCD",labelColumn:"PAY_STD_TPNM",width:500,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{PAGE_SIZE:100,PAGE_CURRENT:1,USE_TF:1}}}}},summaryTarget:{popupURL:"/ECERP/SVC/Popup/FM075P_01",valueColumn:"SUMR_SEQ",labelColumn:"TITLE",searchURL:"/SVC/Common/Form/GetListCofsColumnsetSearchSumr",controlType:"widget.multiCode.summaryTarget",name:"summaryTarget",id:"summaryTarget",subTitle:"",groupId:"",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{FORM_TYPE:"",PARAM:"",IS_TARGET:!0,IS_CONDITION:!1}}}}},searchEmployee:{name:"searchEmployee",searchURL:"/SVC/Manage/Employee/GetListForSearchRegisterEmployee",controlType:"widget.multiCode.searchEmployee",id:"searchEmployee",subTitle:ecount.resource.LBL04124,title:ecount.resource.LBL04124,popupURL:"/ECERP/SVC/EPB/EPB012P",valueColumn:"INSA001.EMP_CD",labelColumn:"INSA001.EMP_KNAME",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isApplyDisplayFlag:!0,isIncludeInactive:!1,isNewDisplayFlag:!1,PARAM:""}}}}},counselLabel:{name:"counselLabel",id:"counselLabel",controlType:"widget.multiCode.counselLabel",searchURL:"/Admin/Manage/GetListLabelForSearch",popupURL:"/ECERP/Popup.Search/EAA064P_02",checkMaxCount:100,width:450,height:530,isGMC:!0,subTitle:ecount.resource.LBL10187,valueColumn:"LABEL_CD",labelColumn:"LABEL_NM",bgColorColumn:"LABEL_COLOR",defaultParam:{SEARCHTEXT:"",MENU_CD:"1"}},codeTypeDIY:{name:"CmAddGroup_01",searchURL:"/SVC/Common/Infra/GetListCmAddGroup",controlType:"widget.multiCode.codeTypeDIY",groupId:null,id:"USERTABLE_CD",subTitle:"Code Type",popupURL:"/ECERP/SVC/POPUP/CmAddGroup_01",defaultValue:"",defaultLabel:"",valueColumn:"USERTABLE_CD",labelColumn:"CD_GRP_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:"",isApplyDisplayFlag:!1}}},codeTypeCommonAddField:{controlType:"widget.multiCode.codeTypeCommonAddField",searchURL:"/SVC/Common/Infra/GetListCmAddItem",popupURL:"/ECERP/SVC/Popup/CmAddItem_01",checkMaxCount:5,width:450,height:530,subTitle:ecount.resource.LBL03638,valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={isMultiSelectFlag:!0,isApplyDisplayFlag:!0,DEL_FLAG:"N"}}},codeTypeDIYItem:{name:"CmAddItem_01",searchURL:"/SVC/Common/Infra/GetListCmAddItem",controlType:"widget.multiCode.codeTypeDIYItem",groupId:null,id:"ITEM_CD",subTitle:"Code Type",popupURL:"/ECERP/SVC/POPUP/CmAddItem_01",defaultValue:null,defaultLabel:null,valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:"",USERTABLE_CD:66,IsApplyDisplayFlag:!0,isSystemCode:!1}}},searchBusinessContacts:{controlType:"widget.multiCode.searchBusinessContacts",searchURL:null,popupURL:"/ECERP/SVC/PBM/PBM006P_01",width:650,height:600,valueColumn:"EMAIL",labelColumn:"UNAME",checkMaxCount:200,autoCompleteFocus:!0,hasCodeComplete:!0,hasCarretButton:!0,hasLabelMode:!0,useAsteriskMode:!0,hasBeforeAddCodeCallback:!1,angleBracketRegex:/\<|\>/g,emptySpaceRegex:/\s{2,}/g,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);n._beforeAddCodeCallback&&(this.hasBeforeAddCodeCallback=!0)},initializeModeChangerOptions:function(n){this.labelModeId="M";this.codeModeId="S";this.modeDefaultValue=n._modeDefaultValue!==undefined?n._modeDefaultValue:this.codeModeId;this.dropdownLinkOptions=[{id:"M",label:ecount.resource.LBL70830},{id:"S",label:ecount.resource.BTN00357,selected:!0}]},compareKeyCode:function(n,t){return arguments.length<0?!1:n.originLabel&&t.originLabel?n.code+n.originLabel==t.code+t.originLabel:n.value+n.label==t.value+t.label},onTabKeydownHandler:function(n){var t=this.getSearchKeyword();(this._setSearchKeyword(t),this.doPreventAction())||(this.addCodeImmediately(t),this.resetInputField(),t.trim().length&&(n.suspend=!0))},onEnterKeydownHandler:function(n,t,i){var r=$.isEmpty(n.value)?this.getSearchKeyword():n.value,u,f;if(this._setSearchKeyword(r),!this.doPreventAction())return this.isInGridWithoutCombineParent()?void 0:(n.ecService==ecount.layer.constValue.AUTOCOMPLETE&&i.itemList&&i.itemList.length?this.addCode(i.itemList[i.selectedIndex||0]):this.addCodeImmediately(r),this.resetInputField(),u=ecount.common.makeServiceKey(this.ecPath,0),f=ecount.layer.getLayer(u),f&&ecount.layer.cancelShow(u),_.isEmpty(r)||this._decideFocus(!0),!r.trim().length)},_focusOutFromInputAction:function(n){this.doPreventAction()||(this.resetInputField(),this.executeChangeDelegator({value:"",cindex:n}),this.setState(n,"itemList",[]))},_isAbleToOpenPopupByFocusChangeKey:function(){return!1},_isAbleToOpenPopupByFocusOut:function(){return!1},getSelectedItem:function(){return this.getState(this._IT_SELF,"selectedItems").map(function(n){return{label:n.label,value:n.value,isEdited:n.isEdited,isEditable:n.isEditable,hpNo:n.hpNo,isDirect:n.isDirect}})},beforeAddCodeCallbackValidAction:function(n,t){t["style.css"]=[t["style.css"].replace("label-danger",""),"label-primary"].join(" ").replace(/\s{2,}/g," ");t["opt.isvalid"]=!0},beforeAddcodeCallbackInvalidAction:function(n,t){t["style.css"]=[t["style.css"].replace(/(label-danger\s?|label-primary\s?)/g,""),"label-danger"].join(" ").replace(/\s{2,}/g," ");t["opt.isvalid"]=!1},validate:function(){if(this.hasBeforeAddCodeCallback)return this.checkValidate()},checkValidate:function(n){return n=="required"&&this.getLabel()==this.labelModeId?[]:ecount.control.codes.c01.prototype.checkValidate.apply(this,arguments)},isExistWrongEmail:function(){for(var i=this.getState(this._IT_SELF,"selectedItems"),n,t=0,r=i.length;t<r;t++)if(n=i[t],!this.beforeAddCodeCallback(n.value,n))return!0;return!1},getLayerAutocompleteOption:function(n){var t=ecount.control.codes.c01.prototype.getLayerAutocompleteOption.apply(this,arguments);return _.extend(t,{value:n.value,autoHighlightFirstResult:!0,getLabelFilter:function(n){var t=this.value.replace(/([\+\-\*\/\(\)])/g,"\\$1"),i='"'+n.label+'" &lt'+n.value+"&gt";return i.replace(new RegExp("("+t+")"),"<b>$&<\/b>")},responseFilter:this._autoCompleteResponseFilter.bind(this)})},addItemExtraData:function(n){var i=n.label||n[this.labelColumn],t=n.value||n[this.valueColumn],r=n.isEdite||i===t;return{value:r?t.replace(this.angleBracketRegex,"").trim():t,label:r?i.replace(this.angleBracketRegex,"").trim():i,"opt.tooltipmsg":r?"":t,isEdited:n.isEdited,isEditable:n.isEditable,hpNo:(n.rawData||n).HP_NO,isDirect:$.isEmpty(n.isDirect)?!1:n.isDirect===!0}},_autoCompleteResponseFilter:function(n){return n.map(function(n){return _.extend(n,{label:n[this.labelColumn],value:n[this.valueColumn]||"",rawData:{HP_NO:n.HP_NO}})}.bind(this))},_addCodeByTab:function(n,t,i){this._addInputKeywordAsCode(n,t,i)},_addInputKeywordAsCode:function(n,t,i){this._clearAutoCompleteLayer(n,t,i);this.addCode({label:n.value,value:n.value});this.setFocus(n.cindex);n.suspend=!0},_addCodeDirectly:function(n){n=n.trim();this.addCode({label:n,value:n,isEditable:!0,isDirect:!0},!1);this.destroyPopover(this._IT_SELF)},_openPopupByFocusOut:function(n){if(!$.isEmpty(n.value)){this.addCode({label:n.value,value:n.value});this.setState(n.cindex,"value","");return}},ON_KEYDOWN_F8:function(n,t,i,r){if(!$.isEmpty(n.value))return this._addInputKeywordAsCode(n,t,r),!1}},multimanualSearch:{popupURL:"/ECERP/SVC/POPUP/EAM007P_08",valueColumn:"BLTN_SNO",labelColumn:"BLTN_TTL",searchURL:"/SVC/Common/Infra/GetListContentsWriteForSearch",controlType:"widget.multiCode.multimanualSearch",name:"multimanualSearch",id:"multimanualSearch",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,BLTN_SNO:"",BLTN_TTL:"",PARAM:""}},callbackInquiryMessageType:{popupURL:"/ECERP/SVC/EAA/EAA060P_04_01",valueColumn:"MSG_SNO",labelColumn:"MSG_TTL",searchURL:"/SVC/Admin/Manage/GetListEtBaseMsgSetupM",isGMC:!0,controlType:"widget.multiCode.callbackInquiryMessageType",name:"callbackInquiryMessageType",id:"callbackInquiryMessageType",subTitle:"",groupId:"",defaultParam:{}},menuByCompany:{popupURL:"/ECERP/SVC/POPUP/TC108P",valueColumn:"INPUT_PRG_ID",labelColumn:"MENU_NM",searchURL:"/SVC/Common/TransCustomize/GetListMappingCenterMenu",isSVC:!0,controlType:"widget.multiCode.menuByCompany",name:"menuByCompany",id:"menuByCompany",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{IsMultiSelect:!0,PARAM:"",linkType:"A"}}}}},ioType:{popupURL:"/ECERP/SVC/Popup/ES051P",valueColumn:"IO_CODE",labelColumn:"IO_DES",searchURL:"/SVC/Account/Common/GetListIoType",controlType:"widget.multiCode.ioType",name:"ioType",id:"ioType",subTitle:"",groupId:"",defaultParam:{IO_TYPE:"",USER_GUBUN:!0}},exchange_type:{popupURL:"/ECERP/SVC/Popup/ES052P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListExchangeType",controlType:"widget.multiCode.exchange_type",name:"exchange_type",id:"exchange_type",subTitle:"",groupId:"",defaultParam:{CODE_CLASS:""}},foreign_type:{popupURL:"/ECERP/SVC/Popup/ES054P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListForeignType",controlType:"widget.multiCode.foreign_type",name:"foreign_type",id:"foreign_type",subTitle:"",groupId:"",defaultParam:{CLASS_CD:""}},screen:{popupURL:"/ECERP/SVC/Popup/ES055P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListScreenMode",controlType:"widget.multiCode.screen",name:"screen",id:"screen",subTitle:"",groupId:"",defaultParam:{}},calculationFieldCode:{popupURL:"/ECERP/SVC/EPA/EPA001P_03",valueColumn:"CALC_ITEM_CD",labelColumn:"CALC_ITEM_NM",searchURL:"/SVC/Manage/Allowance/GetListCalcItemForSearch",controlType:"widget.multiCode.calculationFieldCode",name:"calculationFieldCode",id:"calculationFieldCode",subTitle:"",groupId:"",defaultParam:{}},publicMailAccount:{popupURL:"/ECERP/SVC/PBM/PBM_AccountManagement_02",valueColumn:"MAIL_ADDR",labelColumn:"MAIL_USER_NM",searchURL:"/SVC/Groupware/PublicMail/GetListPublicMailAccountForSearch",controlType:"widget.multiCode.publicMailAccount",name:"publicMailAccount",id:"publicMailAccount",subTitle:"",groupId:"",defaultParam:{PARAM:"",IsFromWidget:!0}},zoneSearch:{popupURL:"/ECERP/SVC/Popup/ZoneSearch",valueColumn:"ZONE",labelColumn:"ZONE",searchURL:"/SVC/Manage/Common/GetZoneMasterSearchList",isGMC:!0,controlType:"widget.multiCode.zoneSearch",name:"zoneSearch",id:"zoneSearch",subTitle:"",groupId:"",hasLabelMode:!0,defaultParam:{},initializeModeChangerOptions:function(n){this.labelModeId="A";this.codeModeId="S";this.modeDefaultValue=n._modeDefaultValue!==undefined?n._modeDefaultValue:this.codeModeId;this.dropdownLinkOptions=[{id:"A",label:"All"},{id:"S",label:"Select"}]}},gbType:{popupURL:"/ECERP/SVC/Popup/ES056P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListGbType",controlType:"widget.multiCode.gbType",name:"gbType",id:"gbType",subTitle:"",groupId:"",defaultParam:{}},bankAccountInsa:{popupURL:"/ECERP/SVC/EPB/EPB007P",valueColumn:"BANK_CD",labelColumn:"BANK_DES",searchURL:"/SVC/Manage/Employee/FindBankCode",controlType:"widget.multiCode.bankAccountInsa",name:"bankAccountInsa",id:"bankAccountInsa",subTitle:"",groupId:"",defaultParam:{Request:{isApplyDisplayFlag:!0,Data:{PARAM:""}},PARAM:""}},locationWMS:{name:"locationWMS",searchURL:"/SVC/Inventory/WMS/GetListWMSLocForSearch",controlType:"widget.multiCode.locationWMS",id:"locationWMS",popupURL:"/ECERP/SVC/WMS/WMS200P_01",valueColumn:"LOC_CD",labelColumn:"LOC_LABEL",defaultParam:{Request:{Data:{FORM_TYPE:"SP661",FORM_SEQ:1,isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0,DEL_TF:"0",PARAM:"",WMS_ID:""}}}},jobTypeWMS:{name:"jobTypeWMS",searchURL:"/SVC/Inventory/WMS/GetListWMSJobForSearch",controlType:"widget.multiCode.jobTypeWMS",id:"jobTypeWMS",popupURL:"/ECERP/SVC/WMS/WMS200P_03",valueColumn:"JOB_CD",labelColumn:"JOB_NM",defaultParam:{Request:{Data:{FORM_TYPE:"SP751",FORM_SEQ:1,PARAM:""}}}},ioTypeSales:{popupURL:"/ECERP/SVC/Popup/ES057P",valueColumn:"IO_CODE",labelColumn:"IO_DES",searchURL:"/SVC/Account/Common/GetListIoType",controlType:"widget.multiCode.ioTypeSales",name:"ioType",id:"ioType",subTitle:"",groupId:"",height:600,width:550,defaultParam:{IO_TYPE:"1",USER_GUBUN:"Y"}},ioTypePurchases:{popupURL:"/ECERP/SVC/Popup/ES058P",valueColumn:"IO_CODE",labelColumn:"IO_DES",searchURL:"/SVC/Account/Common/GetListIoType",controlType:"widget.multiCode.ioTypePurchases",name:"ioType",id:"ioType",subTitle:"",groupId:"",height:600,width:550,defaultParam:{IO_TYPE:"2",USER_GUBUN:"Y"}},ioTypeSalesPurchases:{popupURL:"/ECERP/SVC/Popup/ES064P",valueColumn:"IO_CODE",labelColumn:"IO_DES",searchURL:"/SVC/Account/Common/GetListIoType",controlType:"widget.multiCode.ioTypeSalesPurchases",name:"ioType",id:"ioType",subTitle:"",groupId:"",height:600,width:550,defaultParam:{IO_TYPE:"3",USER_GUBUN:"Y"}},translip:{popupURL:"/ECERP/SVC/WMS/WMS200P_02",id:"translip",controlType:"widget.multiCode.translip",valueColumn:"SLIP_CD",labelColumn:"MENU_NM",searchURL:"/SVC/Inventory/WMS/GetListWMSTranslipForSearch",defaultParam:{Request:{Data:{PARAM:"",FORM_TYPE:"SP666",FORM_SEQ:1,isERPSlipType:"N",isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0}}},isSVC:!0},bankCodebyNation:{searchURL:"/SVC/Account/Others/GetListBank",controlType:"widget.multiCode.bankCodebyNation",popupURL:"/ECERP/SVC/EBS/EBS002P_03",valueColumn:"BKCODE",labelColumn:"RESX_NM",id:"bankCodebyNation",name:"bankCodebyNation",subTitle:ecount.resource.LBL02097,title:ecount.resource.LBL02097,defaultParam:{Request:{Data:{isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0,CNTY_CD:"",PARAM:""}}},isSVC:!0},cardCodebyNation:{searchURL:"/SVC/Account/Others/GetListCard",controlType:"widget.code.cardCodebyNation",popupURL:"/ECERP/SVC/EBD/EBD006P_12",valueColumn:"CRDCO_CD",labelColumn:"RESX_NM",id:"cardCodebyNation",name:"cardCodebyNation",subTitle:ecount.resource.LBL02871,title:ecount.resource.LBL02871,defaultParam:{Request:{Data:{isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0,CNTY_CD:"",GTHR_TYPE_CD:"M",PARAM:""}}},isSVC:!0},invtSeqNoWMS:{name:"invtSeqNoWMS",controlType:"widget.multiCode.invtSeqNoWMS",id:"invtSeqNoWMS",popupURL:"/ECERP/SVC/WMS/WMS030P",valueColumn:"INVT_SEQ_NO",labelColumn:"INVT_SEQ_NO",width:900,height:700,defaultParam:{Request:{WMS_ID:""},isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0}},pFlag:{name:"pFlag",controlType:"widget.multiCode.pFlag",id:"pFlag",searchURL:"/SVC/Common/Infra/GetListPFlag",popupURL:"/ECERP/SVC/Popup/ES059P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",height:250},csConfirmStatus:{name:"csConfirmStatus",controlType:"widget.multiCode.csConfirmStatus",id:"csConfirmStatus",searchURL:"/SVC/Common/Infra/GetListCsConfirmStatus",popupURL:"/ECERP/SVC/Popup/ES060P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",height:250},progressStepCode:{id:"progressStepCode",name:"progressStepCode",searchURL:"/SVC/Common/Infra/GetListTabSettingSearch",controlType:"widget.multiCode.progressStepCode",popupURL:"/ECERP/SVC/POPUP/GetListTabSetting",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",isSVC:!0,defaultParam:{Request:{titleName:ecount.resource.LBL02424,Data:{isMultiSelectFlag:!0,PAGE_CURRENT:1,PAGE_SIZE:100}}},_setControlOptions:function(n){if(n&&n.controlOption){var t=n.controlOption;t=typeof t=="string"?$.parseJSON(t):t;t&&_.merge(this.defaultParam.Request.Data,t)}}},asGetListCmAddItem:{id:"asGetListCmAddItem",name:"asGetListCmAddItem",searchURL:"/SVC/Common/Infra/GetListCmAddItem",popupURL:"/ECERP/SVC/POPUP/CmAddItem_01",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:{Request:{USERTABLE_CD:"C",titleName:ecount.resource.LBL03436,isNewDisplayFlag:!0,systemItemInfo:{isSystemCode:!0,PROGRAM_ID:"E040605"},Data:{USERTABLE_CD:"C",FORM_TYPE:"PR052",FORM_SEQ:1,PAGE_CURRENT:1,PAGE_SIZE:100}}},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},workingTime:{searchURL:"/SVC/Manage/Employee/GetListForSearchRegisterEmployee",controlType:"widget.multiCode.workingTime",id:"workingTime",name:"workingTime",subTitle:ecount.resource.LBL17882,title:ecount.resource.LBL17882,popupURL:"/ECERP/SVC/EPB/EPB001P_02",valueColumn:"WORK_TIME_CD",labelColumn:"WORK_TIME_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isApplyDisplayFlag:!0,PARAM:""}}}}},searchEmployeeHr:{popupURL:"/ECERP/SVC/EPD/EPD003P",valueColumn:"INSA001.EMP_CD",labelColumn:"INSA001.EMP_KNAME",searchURL:"/SVC/Manage/HR/GetListForSearchEmployeeHR",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isApplyDisplayFlag:!0,isIncludeInactive:!1,isNewDisplayFlag:!1,PARAM:""}}}}},workType:{controlType:"widget.multiCode.workType",id:"workType",name:"workType",popupURL:"/ECERP/SVC/EAB/EAB010P_01_01",searchURL:"/SVC/Admin/Manage/GetListEC_CLNT_MGNT_CD_M",width:500,height:600,subTitle:"",valueColumn:"TYPE_CODE",labelColumn:"TYPE_NAME",checkMaxCount:100,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,Data:{SORT_COLUMN:"TYPE_CODE",SORT_TYPE:"A",PARAM:"",PARAM2:"",PARAM3:"",USE_SPNS_TF:"Y"}}}}},secondInputDraft:{searchURL:"/SVC/Groupware/EApproval/GetListCmcdForErpSlip",controlType:"widget.multiCode.secondInputDraft",popupURL:"/ECERP/SVC/EGD/EGD020P_02",valueColumn:"ERP_CD",labelColumn:"ERP_NM",width:550,id:"secondInputDraft",name:"secondInputDraft",isSVC:!0,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",REPORTS_YN:"Y"}}}}},companyGroup:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.companyGroup",name:"companyGroup",id:"companyGroup",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"G20",PARAM:"",DEL_FLAG:"N",ViewMode:"2"}}};ecount.control.codes.c01.prototype.init.apply(this,arguments)}},crmClient:{searchURL:"/SVC/Groupware/CRM/GetListCrmClientForSearch",controlType:"widget.multiCode.crmClient",name:"crmClient",id:"crmClient",valueColumn:"CUST_IDX",labelColumn:"COMPANY_DES",popupURL:"/ECERP/SVC/POPUP/EG002P",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{Data:{FORM_TYPE:"GP910",FORM_SEQ:1,isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,PARAM:""}}};ecount.control.codes.c01.prototype.init.apply(this,arguments)}},menuType:{controlType:"widget.multiCode.menuType",popupURL:"/ECERP/EBZ/EBZ055P_02",searchURL:"/Svc/Account/Others/GetListCmcdMenuType",subTitle:ecount.resource.LBL13689,valueColumn:"CLASS_SEQ",labelColumn:"ITEM11",defaultParam:{PARAM:"",CLASS_CD:"LU48"}},cmcd:{controlType:"widget.multiCode.cmcd",searchURL:"/SVC/Common/Infra/GetListCmcd",popupURL:"/ECERP/ESK/ESK001P_39",valueColumn:"ITEM1",labelColumn:"ITEM2",id:"OPENMARKET_TYPE_CD_MM",subTitle:"오픈마켓코드검색",width:550,isCheckBoxDisplayFlag:!0,defaultParam:{CLASS_CD:"OM06"}},EmployeePosition:{popupURL:"/ECERP/SVC/Popup/CM002P",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.EmployeePosition",name:"EmployeePosition",id:"EmployeePosition",valueColumn:"CODE_NO",labelColumn:"CODE_DES",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"I01",PARAM:"",DEL_FLAG:"N",ViewMode:"2"}}};ecount.control.codes.c01.prototype.init.apply(this,arguments)}},EmployeeTitle:{popupURL:"/ECERP/SVC/Popup/CM002P",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.multiCode.EmployeeTitle",name:"EmployeeTitle",id:"EmployeeTitle",valueColumn:"CODE_NO",labelColumn:"CODE_DES",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"I10",PARAM:"",DEL_FLAG:"N",ViewMode:"2"}}};ecount.control.codes.c01.prototype.init.apply(this,arguments)}},dataManageOfdelMenu:{controlType:"widget.multiCode.dataManageOfdelMenu",searchURL:"/ECAPI/SVC/Selfcustomize/DataManagement/GetDataManagementMenuInfo",popupURL:"/ECERP/SVC/EMV/EMV002P_06",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL90144,valueColumn:"DEL_PRG_ID",labelColumn:"ITEM_TYPE",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},mailSendYN:{controlType:"widget.multiCode.mailSendYN",searchURL:"/SVC/Common/Infra/GetListMailSendYN",popupURL:"/ECERP/SVC/Popup/ES065P",name:"MAILSEND_YN",id:"MAILSEND_YN",valueColumn:"CODE_NO",labelColumn:"CODE_DES",height:250},firstInputDraft:{searchURL:"/SVC/Groupware/EApproval/GetListCmcdForErpSlip",controlType:"widget.multiCode.firstInputDraft",popupURL:"/ECERP/SVC/EGD/EGD020P_01",valueColumn:"ERP_CD",labelColumn:"ERP_NM",width:550,id:"firstInputDraft",name:"firstInputDraft",isSVC:!0,isCheckBoxDisplayFlag:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",REPORTS_YN:"N"}}}}},csCust:{popupURL:"/ECERP/SVC/EGS/EGS001P_01",valueColumn:"CS_ID",labelColumn:"CS_ID",searchURL:"/SVC/Groupware/Survey/GetListCsCust",controlType:"widget.multiCode.csCust",name:"csCust",id:"csCust",isSVC:!0,defaultParam:{Request:{Data:{PARAM:""}}}},csGroupCust:{popupURL:"/ECERP/SVC/EGS/EGS001P_02",valueColumn:"ALL_MN_GROUPCD",labelColumn:"ALL_MN_GROUPNM",searchURL:"/SVC/Groupware/Survey/GetListCsGroupCust",controlType:"widget.multiCode.csGroupCust",name:"csGroupCust",id:"csGroupCust",isSVC:!0,defaultParam:{Request:{Data:{PARAM:""}}}},ectaxStatus:{name:"ectaxStatus",searchURL:"/SVC/Account/ETaxInvoice/GetListTaxStatusList",controlType:"widget.multiCode.ectaxStatus",id:"ectaxStatus",popupURL:"/ECERP/SVC/ECTAX/ECTAX023P_03",valueColumn:"STATUS_ID",labelColumn:"STATUS_NM",height:670,width:400},statusAction:{controlType:"widget.multiCode.statusAction",id:"statusAction",name:"statusAction",popupURL:"/ECERP/SVC/Popup/ES068P",searchURL:"/SVC/Common/GetActionStatus",width:500,height:600,subTitle:"",valueColumn:"STATUS_CD",labelColumn:"STATUS_NM",checkMaxCount:100,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!0,PARAM:"",Type:""}}}},qcType:{popupURL:"/ECERP/SVC/Popup/ES066P",searchURL:"/SVC/Common/Infra/GetListQcType",valueColumn:"CODE_NO",labelColumn:"CODE_DES",id:"qcType",name:"qcType",controlType:"widget.multiCode.qcType",height:350},qcInspectStatus:{popupURL:"/ECERP/SVC/Popup/ES067P",searchURL:"/SVC/Common/Infra/GetListQcInspectStatus",valueColumn:"CODE_NO",labelColumn:"CODE_DES",id:"qcInspectStatus",name:"qcInspectStatus",controlType:"widget.multiCode.qcInspectStatus",height:250},linkType:{popupURL:"/ECERP/SVC/Popup/ES066P",searchURL:"/SVC/Common/Infra/GetListQcType",valueColumn:"CODE_NO",labelColumn:"CODE_DES",id:"linkType",name:"linkType",controlType:"widget.multiCode.linkType",height:350},bizCardGroup:{popupURL:"/ECERP/SVC/Popup/CM002P",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",id:"bizCardGroup",name:"bizCardGroup",controlType:"widget.multiCode.bizCardGroup",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,ViewMode:"2",defaultParam:{Request:{Data:{CODE_CLASS:"",Title:"",DEL_GUBUN:"",CODE_NO:"",ViewMode:"2"}}}},searchDayOfWeek:{controlType:"widget.multiCode.searchDayOfWeek",id:"searchDayOfWeek",name:"searchDayOfWeek",popupURL:"/ECERP/SVC/ESC/ESC002P_08",searchURL:"/SVC/SelfCustomize/Config/GetListDayOfWeek",width:500,height:600,subTitle:"",valueColumn:"CODE",labelColumn:"NAME",checkMaxCount:100,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},stateFlag:{id:"txtStateFlag",searchURL:"/SVC/Common/Form/GetListPFlag",controlType:"widget.multiCode.stateFlag",popupURL:"/ECERP/SVC/POPUP/ES066P",valueColumn:"STATE_INFO",labelColumn:"P_FLAG_NM",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},autoRecommend:{searchURL:"/SVC/Common/Form/GetListAutoRecommendItem",controlType:"widget.multiCode.autoRecommend",popupURL:"/ECERP/SVC/Popup/FM076P_02",valueColumn:"COL_CD",labelColumn:"COL_NM",checkMaxCount:100,isCheckBoxDisplayFlag:!0,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{FORM_TYPE:"",Data:{}}}}},callMenu:{popupURL:"/ECERP/SVC/Popup/ES071P",valueColumn:"ITEM1",labelColumn:"ITEM3",searchURL:"/SVC/Common/Infra/GetListCallMenu",controlType:"widget.multiCode.callMenu",name:"callMenu",id:"callMenu",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},callMenu:{popupURL:"/ECERP/SVC/Popup/ES071P",valueColumn:"ITEM1",labelColumn:"ITEM3",searchURL:"/SVC/Common/Infra/GetListCallMenu",controlType:"widget.multiCode.callMenu",name:"callMenu",id:"callMenu",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},clockInOut:{controlType:"widget.multiCode.clockInOut",valueColumn:"ATTDC_RFLC_BASIC_CD",labelColumn:"ATTDC_RFLC_BASIC_NM",searchURL:"/SVC/Manage/TimeMgmt/GetDataWidgetClockInOutApplyingStandard",popupURL:"/ECERP/SVC/EPF/EPF006P",name:"clockInOut",id:"clockInOut",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!0,isIncludeInactive:!1,isNewDisplayFlag:!1,Data:{PARAM:""}}}},width:550},txtProgressStatus:{id:"txtProgressStatus",searchURL:"/SVC/Common/Form/GetListPFlag",controlType:"widget.multiCode.txtProgressStatus",popupURL:"/ECERP/SVC/Popup/CommonStateCodeSearch",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",isSVC:!0,defaultParam:null,initializeOptions:function(n){ecount.control.codes.c01.prototype.initializeOptions.apply(this,arguments);$.extend(this,{defaultParam:n.defaultParam?n.defaultParam:{Request:{Data:{}}}})}},chatRoomList:{popupURL:"/ECERP/SVC/ECP/ChatRoomList",searchURL:"/SVC/Common/Infra/GetMessengerChatRoomList",valueColumn:"ROOM_SEQ",labelColumn:"ROOM_VIEW",id:"",name:"",controlType:"widget.multiCode.chatRoomList",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},language:{searchURL:"",controlType:"widget.multiCode.language",popupURL:"/ECERP/SVC/EMP/EMP002P_01",name:"language",id:"language",groupId:null,subTitle:"",valueColumn:"LANGUAGE_CODE",labelColumn:"LANGUAGE_NAME",defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{keyword:"",isApplyDisplayFlag:!0}}}},memoCategory:{searchURL:"/SVC/Groupware/ENote/GetListENoteEPMemoCategory",controlType:"widget.multiCode.memoCategory",popupURL:"/ECERP/SVC/ENT/ENT003P",valueColumn:"CAT_ID",labelColumn:"CAT_NM",width:450,height:530,subTitle:ecount.resource.LBL06286,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:""}}}},addField:{id:"addField",searchURL:"/Account/Basic/GetListAddFieldForSearch",controlType:"widget.multiCode.addField",popupURL:"/ECERP/Popup.Search/EB014P",valueColumn:"NM_CD",labelColumn:"CD_DES",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={searchCodeType:"1"}}},accManageNoType:{controlType:"widget.multiCode.accManageNoType",searchURL:"/Common/Infra/GetListTransactionType",popupURL:"/ECERP/Popup.Search/CM100P_36",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL03444,valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{CLASS_CD:"LU35"}},authorizationGroup:{id:"authorizationGroup",searchURL:"/ECAPI/SelfCustomize/User/GetListGroupAuthorization",controlType:"widget.multiCode.authorizationGroup",popupURL:"/ECERP/SVC/Popup/ES074PAction",valueColumn:"CODE_NO",labelColumn:"CODE_DES",isSVC:!0,initCodeOptions:function(n){ecount.control.codes.c01.prototype.initCodeOptions.apply(this,arguments);_.merge(this,{defaultParam:n.defaultParam?n.defaultParam:{CODE_CLASS:"M01",PARAM:"",FORM_SEQ:1,FORM_TYPE:"MR014",PAGE_CURRENT:1,PAGE_SIZE:100,SORT_COLUMN:"CODE_NO",SORT_TYPE:"A"}})}},prdnRscList:{id:"prdnRscList",searchURL:"/SVC/Inventory/Basic/GetListForSearchPrdnRsc",controlType:"widget.multiCode.prdnRscList",popupURL:"/ECERP/SVC/ESJ/ESJ040P",valueColumn:"PRDN_RSC_CD",labelColumn:"PRDN_RSC_NM",isSVC:!0,width:800,height:450,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",isCheckBoxDisplayFlag:!0,isApplyDisplayFlag:!0}}}}},prdnJobList:{id:"prdnJobList",searchURL:"/SVC/Inventory/Basic/GetListForSearchPrdnJob",controlType:"widget.multiCode.prdnJobList",popupURL:"/ECERP/SVC/ESJ/ESJ039P",valueColumn:"PRDN_JOB_CD",labelColumn:"PRDN_JOB_NM",isSVC:!0,width:800,height:450,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.multiCode.repository[n]||{},i=ecount.control.codes.c01,widget.multiCode._baseLoaded||(ecount.control.loadRepository(ecount.control.codes.c01,ecount.control.view.codes.c01,"widget.multiCode"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.multiCode,t,"widget.multiCode",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.multiCode")){r=t.controlType.replace("widget.multiCode.","");ecount.control.mountMixinWidget(widget.multiCode,t,"widget.multiCode",[widget.multiCode,r]);return}widget.multiCode[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.multiCode,ecount.control.mountWidget(widget.multiCode,n,i,t))}},logType:{id:"logType",name:"logType",popupURL:"/ECERP/SVC/EAJ/EAJ006P",valueColumn:"LOG_TYPE_CD",labelColumn:"LOG_TYPE_NM",searchURL:"/SVC/Admin/Development/GetEcountErrorLogType",isGMC:!0,controlType:"widget.multiCode.logType",defaultParam:null},errorType:{id:"errorType",name:"errorType",popupURL:"/ECERP/SVC/EAJ/EAJ007P",valueColumn:"ERR_TYPE_CD",labelColumn:"ERR_TYPE_CD",searchURL:"/SVC/Admin/Development/GetEcountErrorType",isGMC:!0,controlType:"widget.multiCode.errorType",defaultParam:null},faxSendYN:{controlType:"widget.multiCode.faxSendYN",searchURL:"/SVC/Common/Infra/GetListFaxSendYN",popupURL:"/ECERP/SVC/Popup/ES070P",name:"FAXSEND_YN",id:"FAXSEND_YN",isSVC:!0,valueColumn:"CODE_NO",labelColumn:"CODE_DES",height:250,initCodeOptions:function(){this.defaultParam={Request:{FORM_TYPE:"",Data:{}}}}},ZACode:{id:"zaCodeList",name:"zaCodeList",popupURL:"/ECERP/SVC/EAA/EAA101P_01",valueColumn:"ZA_CODE",labelColumn:"ZA_NAME",searchURL:"/SVC/Admin/Manage/GetListZACodeData",isSVC:!0,controlType:"widget.multiCode.ZACode",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},scheduleCalendar:{controlType:"widget.multiCode.scheduleCalendar",searchURL:"/SVC/Groupware/Schedule/GetListScheduleCalendar",popupURL:"/ECERP/SVC/EGJ/EGJ006P_25",name:"CLNDR_NM",id:"CLNDR_SNO",isSVC:!0,valueColumn:"CLNDR_SNO",labelColumn:"CLNDR_NM",height:250,initCodeOptions:function(){this.defaultParam={Request:{FORM_TYPE:"GI090",IsFromCalendarSettings:!1}}}},masterLabel:{id:"masterLabel",name:"masterLabel",popupURL:"/ECERP/SVC/EAM/EAM002P_03",valueColumn:"LABEL_CODE",labelColumn:"LABEL_NAME",searchURL:"/SVC/Admin/Manage/GetListZACodeData",isSVC:!0,controlType:"widget.multiCode.masterLabel",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},Sort:{id:"Sort",name:"Sort",popupURL:"/ECERP/SVC/EAM/EAM002P_05",valueColumn:"SORT_CD",labelColumn:"SORT_CD_NM",searchURL:"/ECAPI/SVC/Admin/MultiManual/GetListContentsWriteSort",isSVC:!0,controlType:"widget.multiCode.Sort",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},learnToUse:{id:"learnToUse",name:"learnToUse",popupURL:"/ECERP/SVC/EAM/EAM002P_07",valueColumn:"LTU_CODE",labelColumn:"LTU_NAME",searchURL:"/SVC/Admin/Manage/GetListZACodeData",isSVC:!0,controlType:"widget.multiCode.learnToUse",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},flowChart:{id:"flowChart",name:"flowChart",popupURL:"/ECERP/SVC/EAM/EAM002P_10",valueColumn:"CAT_ID",labelColumn:"CAT_NM",searchURL:"/SVC/Admin/MultiManual/GetListContentsWriteFlowChart",isSVC:!0,controlType:"widget.multiCode.flowChart",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",tabID:""}}}},treeCategory:{id:"treeCategory",name:"treeCategory",popupURL:"/ECERP/SVC/EAM/EAM002P_09",valueColumn:"CAT_ID",labelColumn:"CAT_NM",searchURL:"/SVC/Admin/MultiManual/GetListContentsWriteCategory",isSVC:!0,controlType:"widget.multiCode.treeCategory",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",CAT_NM:""}}}},custBusinessNo:{id:"custBusinessNo",name:"custBusinessNo",popupURL:"/ECERP/Popup.Search/EAA031P",searchURL:"/Admin/Manage/GetListCustForBusinessNo",isSVC:!0,isCheckBoxDisplayFlag:!0,isApplyDisplayFlag:!0,controlType:"widget.multiCode.custBusinessNo",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",initCodeOptions:function(){this.defaultParam={PARAM:"",isCheckBoxDisplayFlag:!0,isApplyDisplayFlag:!0}}},jobType:{popupURL:"/ECERP/SVC/Popup/ES077P",valueColumn:"CODE",labelColumn:"NAME",searchURL:"/SVC/Common/Infra/GetListFormSearchInfo",controlType:"widget.multiCode.jobType",name:"jobType",id:"jobType",defaultParam:{TYPE:"JOBGUBUN",PARAM:""}},management:{popupURL:"/ECERP/SVC/Popup/ES077P",valueColumn:"CODE",labelColumn:"NAME",searchURL:"/SVC/Common/Infra/GetListFormSearchInfo",controlType:"widget.multiCode.management",name:"management",id:"management",defaultParam:{TYPE:"MANAGEMENT",PARAM:""}},asclDocNoCode:{searchURL:"/SVC/Common/Infra/GetListForSearchAcDocManageNo",controlType:"widget.multiCode.asclDocNoCode",id:"txtAsclDocNo",name:"asclDocNoCode",popupURL:"/ECERP/SVC/POPUP/CM005P",valueColumn:"CODE_NO",labelColumn:"CODE_NO",defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={CODE_CLASS:"ACSL_DOC_NO",DEL_FLAG:"N",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:1}}},accApplyType:{popupURL:"/ECERP/SVC/Popup/ES079P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListAccoRflc",controlType:"widget.multiCode.accApplyType",subTitle:ecount.resource.LBL04045,isSVC:!0,height:600,width:550,defaultParam:{PARAM:""},initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},slipType:{popupURL:"/ECERP/SVC/Popup/ES080P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListSlipGubun",controlType:"widget.multiCode.slipType",subTitle:ecount.resource.LBL06621,isSVC:!0,height:600,width:550,defaultParam:{PARAM:""},initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},personalInfo:{controlType:"widget.multiCode.personalInfo",name:"personalInfo",id:"personalInfo",valueColumn:"PERSONAL_TABLE_NO",labelColumn:"DISPLAY_NM",searchURL:"",popupURL:"/ECERP/SVC/EPD/EPD003P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",TAB_CD:"A6"}}}}},fileaction:{name:"fileaction",searchURL:"/SVC/Groupware/ECDrive/GetActionBehaviorItemList",controlType:"widget.multiCode.fileaction",groupId:null,id:"fileaction",title:ecount.resource.LBL02079,subTitle:ecount.resource.LBL02079,popupURL:"/ECERP/SVC/EDV/EDV001P_013",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"CODE",labelColumn:"NAME",defaultParam:{Request:{Data:{NAME:"",TYPE:""}}}},filetype:{name:"filetype",searchURL:"/SVC/Groupware/ECDrive/GetFileSupperBehaviorItemList",controlType:"widget.multiCode.filetype",groupId:null,id:"filetype",title:ecount.resource.LBL02079,subTitle:ecount.resource.LBL02079,popupURL:"/ECERP/SVC/EDV/EDV001P_014",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"CODE",labelColumn:"NAME",defaultParam:{Request:{Data:{NAME:""}}}},hrInfo:{controlType:"widget.multiCode.hrInfo",name:"hrInfo",id:"hrInfo",valueColumn:"HR_TABLE_NO",labelColumn:"DISPLAY_NM",searchURL:"",popupURL:"/ECERP/SVC/EPD/EPD003P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",TAB_CD:"A7"}}}}},collectedData:{name:"FORM_TYPE",searchURL:"/SVC/Selfcustomize/Config/GetListCollectDataStandValsDataCenter",controlType:"widget.multiCode.collectedData",groupId:null,id:"COLLECTED_DATA",subTitle:"board",popupURL:"/ECERP/SVC/EDC/EDC006P_03",width:700,height:500,defaultValue:"",defaultLabel:"",valueColumn:"GTHR_STND_CD",labelColumn:"GTHR_STND_NM",defaultParam:{Request:{Data:{PARAM:"",GTHR_TYPCD:"M"}}}},homTaxMapping:{controlType:"widget.multiCode.homTaxMapping",name:"homTaxMapping",id:"homTaxMapping",valueColumn:"SCRPN_KEY",labelColumn:"SCRPN_KEY_NM",searchURL:"SVC/Account/Basic/GetListSearchETaxScrapMapping",popupURL:"/ECERP/SVC/ECTAX/ECTAX102P_02",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",MAPPER_TYPE:"S"}}}}},conditionItem:{name:"conditionItem",searchURL:"/SVC/Common/DataCenter/GetSearchExternalFormCol",controlType:"widget.multiCode.conditionItem",groupId:null,id:"conditionItem",title:ecount.resource.LBL17028,subTitle:ecount.resource.LBL17028,popupURL:"/ECERP/SVC/EDC/EDC005P_02",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"COL_CD",labelColumn:"DISPLAY_NM",defaultParam:{Request:{Data:{PARAM:""}}}},aggregateTargets:{name:"aggregateTargets",searchURL:"/SVC/Common/TransCustomize/GetListBundleColAction",controlType:"widget.multiCode.aggregateTargets",groupId:null,id:"aggregateTargets",title:ecount.resource.LBL15209,subTitle:ecount.resource.LBL15209,popupURL:"/ECERP/SVC/Popup/TC103P_02",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"MAPPER_CD",labelColumn:"MAPPER_CD_NM",defaultParam:{Request:{Data:{PARAM:""}}}},restoreCollectData:{name:"restoreCollectData",searchURL:"/SVC/Common/DataCenter/GetInflowBoardCondition",controlType:"widget.multiCode.restoreCollectData",groupId:null,id:"restoreCollectData",title:ecount.resource.LBL21402,subTitle:ecount.resource.LBL21402,popupURL:"/ECERP/SVC/EDC/EDC007P_01",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"GTHR_STND_CD",labelColumn:"GTHR_STND_NM",defaultParam:{Request:{Data:{PARAM:""}}}},totalMenuType:{controlType:"widget.multiCode.totalMenuType",searchURL:"/SVC/Common/Infra/GetListSendType",popupURL:"/ECERP/SVC/Popup/ECC002P_03",checkMaxCount:100,width:550,height:530,subTitle:ecount.resource.LBL11578,valueColumn:"DOC_PRG_ID",labelColumn:"DOC_RESX_NAME",defaultParam:{Request:{Data:{PARAM:""},SEARCH:"",keyword:""},MENU_FLAG:"21"}},ProofMenu:{name:"ProofMenu",searchURL:"/SVC/Common/GetListSearchMenuByProofCenter",controlType:"widget.multiCode.ProofMenu",groupId:null,id:"proofMenu",title:ecount.resource.LBL03088,subTitle:"",popupURL:"/ECERP/SVC/Popup/ES082P",width:450,height:500,valueColumn:"PRG_ID",labelColumn:"PRG_NM",defaultParam:{Request:{PARAM:""}}},setlStatusType:{controlType:"widget.multiCode.setlStatusType",id:"setlStatusType",name:"setlStatusType",popupURL:"/ECERP/SVC/Popup/ES083P",searchURL:"/SVC/Common/GetListSetlStatusType",width:500,height:600,subTitle:"",valueColumn:"CODE",labelColumn:"NAME",checkMaxCount:100,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!0,PARAM:"",Type:""}}}},fileLocation:{controlType:"widget.multiCode.fileLoaction",id:"fileLocation",name:"fileLocation",popupURL:"/ECERP/SVC/Popup/ES084P",searchURL:"/SVC/Common/Infra/GetListFileLocation",subTitle:"",valueColumn:"FILE_LOC_CD",labelColumn:"FILE_LOC_NM",defaultParam:null},CardAuthInfo:{controlType:"widget.multiCode.CardAuthInfo",id:"txtCardAuthInfo",name:"txtCardAuthInfo",popupURL:"/ECERP/SVC/EBD/EBD006P_02",searchURL:"/SVC/Account/Others/GetListSfExtnCertInfoT",subTitle:"",valueColumn:"ITEM_NM",labelColumn:"CRDCO_NM",defaultParam:{Request:{Data:{width:ecount.infra.getPageWidthFromConfig(),height:300}},SearchGubun:"1"}},PNDType:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.PNDType",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM2",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"WT01",PARAM:"",Title:ecount.resource.LBL22822}},payMethod:{searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.multiCode.payMethod",popupURL:"/ECERP/Popup.Search/EBA001P_20",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"WT02",PARAM:"",Title:ecount.resource.LBL22824}},payeTypeCd:{searchURL:"/SVC/Account/Basic/GetListPayeTypeCdForSearch",controlType:"widget.multiCode.payMethod",popupURL:"/ECERP/SVC/EBW/EBW002P",valueColumn:"PAYE_TYPE_CD",labelColumn:"PAYE_TYPE_NM",checkMaxCount:200,isCheckBoxDisplayFlag:!0,isSVC:!0,defaultParam:{FORM_TYPE:"AP671",FORM_SEQ:1,PARAM:"",STATUS_TYPE:"U"}}}};widget.view.multiCode._export=function(){return{approve:{getOwnTemplate:function(){return'[[openpopup]]\n<div class="tags-input" data-cid="{{cid}}">\n<div class="input-height-fixed" data-role="height.decider" data-cid="{{cid}}">\n[[modechanger]]\n<div data-role="code.container">\n{{selectedItemList}}\n<\/div>\n<\/div>\n<\/div>\n[[more]]\n[[removeall]]\n[[codeCaretDropdown]]\n[[fn]]\n{{sideLabelCode}}'}},tutorial:{searchTemplate:['<div class="tags-input-typeahead" data-role="code.autocomplete">',"((codeSearchInput))","<\/div>",].join(""),itemTemplate:['<li class="normal" data-label="{{SCENARIO_ID}}">','<span class="label label-default label-light {{style.css}}">',ecount.resource.LBL12711,"<\/span>",'<span class="span-driver"><\/span>{{label}}','<span class="file-status" data-cid="{{cid}}" data-role="code.removeitem" data-role-index={{index}}><\/span>',"<\/li>"].join(""),moreTemplate:"",removeallTemplate:"",getOwnTemplate:function(){return['<div class="control">',"[[openpopup]]",'<div class="tags-input" data-cid="{{cid}}">','<div class="input-height-fixed">',"<div>",'<div class="tags-input-typeahead">',"{{codeSearchInput}}","<\/div>","<\/div>","<\/div>","<\/div>","<\/div>",'<div class="control">','<ul class="wrapper-attach-file" data-role="code.container">',"{{selectedItemList}}","<\/ul>","<\/div>",].join("\n")}}}};widget.simpleMultiCode={};widget.simpleMultiCode._baseLoaded=!1;widget.simpleMultiCode._export=function(){return{_default:{controlType:"widget.simpleMultiCode",initializeOptions:function(n){_.extend(this,{checkMaxCount:n.checkMaxCount||10,inFocus:n.inFocus||!1,casesensitive:n.casesensitive||!0,alwaysShowInputBorder:n.alwaysShowInputBorder||!0,_during_input_event:n._during_input_event||!0})},onInitComponent:function(n,t,i,r){ecount.control.simpleMultiCode.prototype.onInitComponent.apply(this,arguments);r["opt.hasErrorFocus"]=!1},onInitFilters:function(n,t,i){i.__checkMaxlength&&this.registerKeyInputFilter({type:"maxbyte",cindex:0,max:i.__checkMaxlength.total,message:i.__checkMaxlength.message})},_addCodeDirectly:function(n){n=n.trim();this.addCode({label:n,value:n})},toggleRemoveButton:function(n){this.setState("removeall","style.display",n)},onKeyInputHandler:function(n){if(this.ecKeyInputFilters&&this._hasMaxlengthError(n.value))return!1;this.setFilteredValueToComponent(n.value,n.cindex)},onMousedownHandler:function(n){if(this._hasMaxlengthError(this.getState(n.cindex,"value"))&&!this.getState(n.cindex,"opt.hasErrorFocus"))return setTimeout(function(){this.getState(n.cindex,"opt.hasErrorFocus",!0);this.setState(n.cindex,"opt.selectRange",!0)}.bind(this),0),!1;ecount.control.simpleMultiCode.prototype.onMousedownHandler.apply(this,arguments)},onFocusOutHandler:function(n){this.setState(n.cindex,"opt.hasErrorFocus",!1);n.value&&(this.addCode({label:n.value,value:n.value}),this._focusOutFromInputAction(n.cindex));this.reflowContainer()},_hasMaxlengthError:function(n){if(!this.ecKeyInputFilters)return!1;for(var t=0,r=this.ecKeyInputFilters.length,i;t<r;t++)if(i=this.ecKeyInputFilters[t],i.type=="maxbyte"&&n.length>=i.max&&this.hasError())return!0}},immediatelyCallback:{controlType:"widget.simpleMultiCode.immediatelyCallback",checkMaxCount:10,casesensitive:!0,initializeOptions:function(n){_.extend(this,{checkMaxCount:n.checkMaxCount||10,casesensitive:n.casesensitive||!0});n._beforeAddCodeCallback&&(this.beforeAddCodeCallback=n._beforeAddCodeCallback)},initializeViewOptions:function(){_.merge(this.__viewOptions,{isWholeRow:!0})},addCodeImmediately:function(n){this.beforeAddCodeCallback(n)},onFocusOutHandler:function(n){n.value&&(this.beforeAddCodeCallback(n.value),this.resetInputField())},beforeAddCodeCallback:function(){}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.simpleMultiCode.repository[n]||{},i=ecount.control.simpleMultiCode,widget.simpleMultiCode._baseLoaded||(ecount.control.loadRepository(ecount.control.simpleMultiCode,ecount.control.view.simpleMultiCode,"widget.simpleMultiCode"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.simpleMultiCode,t,"widget.simpleMultiCode",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.simpleMultiCode")){r=t.controlType.replace("widget.simpleMultiCode.","");ecount.control.mountMixinWidget(widget.simpleMultiCode,t,"widget.simpleMultiCode",[widget.simpleMultiCode,r]);return}widget.simpleMultiCode[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.simpleMultiCode,ecount.control.mountWidget(widget.simpleMultiCode,n,i,t))}}}};widget.view.simpleMultiCode._export=function(){return{_default:{template:'<div class="col-xs-{{column}}" data-cid="{{cidData}}" ><div class="panel panel-default"><div class="list-group" data-index={{index}} CATEGORY_DEPTH="{{depth}}">{{categoryItemsTemplate}}<\/div><\/div><\/div>',categoryItemTemplate:'<a href="javascript:;" data-role={{roleData}} data-role-id={{roleIdData}} class="{{classData}}" CATEGORY_ID="{{categoryIdData}}"> {{categoryLabel}} <\/a>',$parent:null,$el:null,init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(n,t){this.$parent=t;this.maxDepth=n.maxDepth;ecount.control.view.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){var i,u,r;for(categoryItemsTemplate=[],t.components[0].items.forEach(function(n,t){categoryItemsTemplate.push(ecount.widget.replaceAttr(this.categoryItemTemplate,this._makeCategoryItemTemplate(n,t)))}.bind(this)),categoryGroupTemplate=[],i=0,u=t.maxDepth-1;i<=u;i++)r="",r=i===0?n.replace("{{categoryItemsTemplate}}",categoryItemsTemplate.join("")):n.replace("{{categoryItemsTemplate}}",""),categoryGroupTemplate.push(ecount.widget.replaceAttr(r,this._makeCategoryDepthTemplate(t,i)));return'<div class="row">'+categoryGroupTemplate.join("")+"<\/div>"},_makeCategoryItemTemplate:function(n,t){var i=n.actived?"list-group-item active":"list-group-item";return{classData:i,categoryIdData:n.id,categoryLabel:n.label,roleData:"categoryItem",roleIdData:t}},_makeCategoryDepthTemplate:function(n,t){var i=12/n.maxDepth;return{column:i,index:t,depth:t+1,cidData:n.cid}},onChangeOptSelectedItemId:function(n,t){var i=this.getElements(n).parent();$.isEmpty(t)?i.find("a.list-group-item").removeClass("active"):(i.find("a.list-group-item").removeClass("active"),target=i.find("[category_id="+t+"]"),target.addClass("active"))},onChangeItems:function(n,t){var r=t[0]?Number(t[0].depth):null,u,i,f,e;if(!r)return this.removeItems(n+1),!1;for(u=this.$el.find("[CATEGORY_DEPTH="+r+"]"),this.removeItems(r),i=0,f=t.length;i<f;i++)e=ecount.widget.replaceAttr(this.categoryItemTemplate,this._makeCategoryItemTemplate(t[i],i)),u.append(e)},removeItems:function(n){for(var i,t=n,r=this.maxDepth;t<=r;t++)i=this.$el.find("[CATEGORY_DEPTH="+t+"]"),i.children().length>0&&i.children().remove()}}}};ecount.class("ecount.handler",null,{control:null,callback:null,init:function(n,t,i){this.control=n;this.scope=n;this.callback=t;$.extend(this,i||{})},invoke:function(n,t){if(n&&this.callback[n])return this.callback[n].apply(this.scope,t)},on:function(){},un:function(){}});ecount.handler.SELECTION="selection";ecount.handler.CONTEXTMENU="contextmenu";ecount.class("ecount.handler.autocomplete","ecount.handler",{name:null,searchURL:null,searchParams:null,minLength:1,autoFocus:!1,delay:300,multiSelect:!0,singleCode:!1,cache:null,responseList:null,isInvalidKeyword:null,init:function(){ecount.handler.prototype.init.apply(this,arguments);this.cache={};this.responseList=[];this.isInvalidKeyword=!1},bindEvent:function(){function i(t,i,r){var u=t.length==1?n.cache[i]:null;n.control.openPopup(t||n.responseList,i,r,u?u[0]:null)}function u(t){var r=n.control,u;return r._isChangedSearchKeyword()?(u=r.getSearchKeyword(),n.control._enableDirectInput||n.control.doPreventAction()||r.resetKeyword(),i(t,u,"blur"),!1):!0}function f(){if(n.disableHandler)return n.setAsteriskMode(),!1;if(n.checkAsteriskMode())return!1;if(!$(this).hasClass("hidden")){var t=!1;if(n.$itemList&&(t=n.$itemList.find("a.ui-state-focus").length>0),n.$itemList&&t)return!1;if(this.value.trim()!=""){if(n.control._isAddCodeImmediately==!0)return n.control.addCodeImmediately(this.value),n.initFocus(),!1;if(n.control.disablePopup===undefined)if(n.control.singleCode){if(!u(n.responseList))return!1}else if(i(n.responseList),n.control.doPreventAction())return!1}(n.control.singleCode||!n.control.gridID)&&n.unfocusHandler();n.control.singleCode||n.control.reflowContainer(null,!0)}return!1}var n=this,r=n.container,t=n.target;r&&r.find(" > div > div").on("focus",function(){n.onfocusHandler()});t.bind("blur",f);t.bind("keydown",function(r){var f=r.which||r.keyCode||r.charCode,e=t.val(),s,o;if(ecount.__isEventCaptureMode()&&(s={type:"widget.code.keydown",__self:n,data:{keycode:f,value:e}},ecount.eventLog("widget.code.keydown",s)),f==13||f==9){if(n.control.__filter&&!ecount.control.input.prototype._ON_FILTERING.call(n.control))return n.isInvalidKeyword=!0,!1;if((n.isShowItemList()==!1||f==9)&&n.control._isAddCodeImmediately==!0)return n.control.addCodeImmediately(e),n.initFocus(),!1;n.isInvalidKeyword=!1}else f!==118&&f!==119&&n.control&&ecount.global.setTimeout(n.control.ecPageID,function(){n.control.__filter&&!ecount.control.input.prototype._ON_FILTERING.call(n.control)&&(n.isInvalidKeyword=!0,n.resetItemList())},0);if(f==13){if(n.disableHandler)n.setAsteriskMode();else if(!n.checkAsteriskMode()&&(o=!1,n.$itemList&&(o=n.$itemList.find("a.ui-state-focus").length>0),e!=="")){if(o)return!1;if(n.control.singleCode){if(!n.control.preventOpenPopupByEnter&&!u(n.responseList))return!1}else if(!n.control.preventOpenPopupByEnter)return n.unfocusHandler(!0),i(n.responseList,e),!1}}else if(f==118||f==119)if(n.control._isChangedSearchKeyword()){if(e=t.val(),n.unfocusHandler(),e!=""&&n.control.preOpenPopup(e))return t.blur(),!1}else n.resetItemList();else r.shiftKey&&f==56&&n.control.useAsteriskMode?(n.disableHandler=!0,n.resetItemList()):f==8&&e.toString().length==1&&n.resetItemList();n.disableHandler&&ecount.global.setTimeout(n.control.ecPageID,function(){var i=t.val();(i=="*"||i.slice(-1)!="*")&&(n.disableHandler=!1)},1);ecount.global.setTimeout(n.control.ecPageID,function(){e!=t.val()&&n.responseComplete?(n.responseComplete=!1,n.resetItemList()):t.val()==""&&n.resetItemList()},0)})},setAsteriskMode:function(n){n=n||this.target.val();this.unfocusHandler();var i={},t=this.control;i[t.labelColumn]=n;i[t.valueColumn]=n;t.onMessage(null,{name:t.labelColumn,code:t.valueColumn,isAdded:!1,isAsteriskMode:!0,data:i});this.disableHandler=!1},checkAsteriskMode:function(){var n=this.target.val();return this.control.useAsteriskMode&&this.isAsteriskString(n)?(this.setAsteriskMode(n),!0):!1},isAsteriskString:function(n){return this.control.useAsteriskMode&&n!="*"&&n.slice(-1)=="*"},settingTarget:function(n){var t=null;return n.control.singleCode&&(t=n.container),t},setupHandler:function(n,t,i,r){i.PARAM=t;r(i)},on:function(){var n,t,i;(ecount.handler.prototype.on.apply(this,arguments),n=this,t="aui-"+n.control.id+"-"+(n.control.pId||"list"),n.target)&&(n.bindEvent(),n.target.autocomplete({create:function(){$(this).prev(".ui-helper-hidden-accessible").remove()},source:function(t,i){var r=t.term.trim(),u,f;if(!n.isAsteriskString(r)&&!n.isInvalidKeyword&&!n.control.doPreventAction())if(n.responseList=[],r!==""){if(n.control._disableCacheOnAutocomplete)this.clearCache();else if(r in n.cache){if(n.disableHandler)return;u=n.control.responseFilter?n.control.responseFilter(n.cache[r]):n.invoke("filter",[n.cache[r]]);n.responseList=u;n.responseComplete=!0;i(u);return}f=ecount.global.findCallback(n.control.getParentPageID(),ecount.widget.beforeAutoCompleteRequest)||n.setupHandler;f(n.control,t.term,n.defaultParam||{},function(t){var u=i;n.resetItemList();n._requestID=Date.now();t.keyword&&(t.keyword=t.keyword.replaceSpecial());t.PARAM&&(t.PARAM=t.PARAM.replaceSpecial());n.control.parentPageID&&(t.parentPageID=n.control.parentPageID);ecount.common.api({url:n.autocompleteSearchUrl||n.searchURL,data:JSON.stringify(t),__ecRequestInfo:{id:n._requestID},success:function(t,i,f){var e,o;n.disableHandler||f.__ecRequestInfo.id==n._requestID&&(e=t.Data,e&&e.length>0?(o=n.control.responseFilter?n.control.responseFilter(e):n.invoke("filter",[e]),n.responseList=o,n.cache[r]=e,u(o),ecount.__isEventCaptureMode()&&ecount.eventLog("widget.code.autocomplete",{type:"widget.code.autocomplete",id:this.id,controlType:this.controlType,__self:this,parentPageID:this.parentPageID,ecPageID:this.ecPageID})):u([]),n.responseComplete=!0)}})})}else n.unfocusHandler()},focus:function(){return!1},select:$.proxy(n.selectItem,n),minLength:n.minLength,autoFocus:n.autoFocus,delay:n.delay}).autocomplete("widget").attr("id",t).addClass("dropdown-menu"),i=n.callback.renderItem&&typeof n.callback.renderItem=="function"?n.callback.renderItem:function(n,t){var i=t.value+"["+t.label+"]",r=i.split(this.term).join("<strong>"+this.term+"<\/strong>");return $("<li><\/li>").append("<a>"+r+"<\/a>").appendTo(n)},n.target.data("ui-autocomplete")._renderItem=i,this.$itemList=$("#"+t),this.$itemList.length==0&&(this.$itemList=this.container))},un:function(){ecount.handler.prototype.un.apply(this,arguments);this.control.hasCodeComplete&&this.target.autocomplete("destroy")},selectItem:function(n,t){var u,i,r,f;if(n.keyCode===9||this.isShowItemList()==!1)return!1;for(u=this.cache[this.control.getSearchKeyword()]||[],i=t.item,i.label=i.label.toString().unescapeHTML(),r=0,f=u.length;r<f;r++)if(u[r][this.control.valueColumn]==i.value){n.dataset=u[r];break}if(this.invoke("selectItem",[i,n]),this.multiSelect)this.initFocus();else{this.unfocusHandler();this.control.onNextFocus(1)}return n.stopPropagation(),!1},getResponseList:function(){return this.responseList},onfocusHandler:function(){this.singleCode||(this.container.removeClass("input-height-fixed"),this.target.focus())},unfocusHandler:function(n){this.singleCode||this.control.doPreventAction()||(this.resetItemList(!0),this.target.data().uiAutocomplete&&(this.target.data().uiAutocomplete.term=null),this.control.disablePopup||this.target.val(""),this.control.delegator&&this.control.delegator.triggerEvent("control.change",{__self:this.control,cid:this.control.id,value:"",cindex:this.control.data[0].index}));n||(this.responseList=[])},clearCache:function(){$.isEmpty(this.cache)||(this.cache={})},resetItemList:function(n){this.$itemList&&(this.$itemList.hide(),this.$itemList.find("a.ui-corner-all").removeClass("ui-state-focus"),this._requestID=null,n||(this.responseList=[]))},initFocus:function(){this.target.val("")},isShowItemList:function(){return this.$itemList?this.$itemList.is(":visible"):!1}});