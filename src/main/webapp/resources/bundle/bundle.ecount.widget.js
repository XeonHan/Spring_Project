window.__define_resource&&__define_resource("MSG05227","MSG02827","MSG00297","BTN00168","LBL06789","LBL02929","MSG08613","MSG10663","MSG10972","LBL21267","MSG09969","MSG05733","MSG03587","MSG07500","MSG04180","MSG03611","MSG07502","MSG07503","MSG07504","MSG07885","MSG07886","MSG08536","MSG10680","BTN00170","LBL10711","BTN40001","BTN00008","LBL12964","LBL20548","LBL22430","MSG03646","MSG03657","MSG06393","BTN00065","BTN00064","BTN00033","MSG00962","LBL10187","LBL00956","LBL09963","LBL10177","LBL93024","LBL93002","LBL02695","LBL10288","LBL08162","LBL02354","LBL10790","LBL02458","LBL02715","LBL10989","LBL09977","MSG07348","MSG07297","LBL11203","LBL80195","LBL18109","LBL18110","LBL18111","LBL18112","LBL10722","MSG06115","LBL10734","LBL10735","BTN00069","LBL03311","LBL09363","LBL03312","LBL00040","LBL00564","LBL08019","MSG01088","LBL05716","LBL08793","LBL22741","MSG05387","MSG05388","MSG05389","LBL01246","LBL13166","MSG03452","LBL02475","LBL02025","LBL01387","LBL02538","LBL01250","LBL01523","LBL15087","LBL01750","LBL02690","LBL01683","LBL01541","LBL03017","LBL10728","LBL10729","LBL10730","LBL15848","LBL02086","LBL00476","LBL11391","LBL06069","LBL11141","LBL03638","LBL04331","LBL00330","LBL02870","LBL11300","LBL10911","LBL03606","LBL08722","LBL08256","LBL08849","LBL09712","LBL21013","LBL01628","LBL04124","LBL06046","LBL04100","LBL11392","LBL11956","LBL11955","LBL06286","LBL11757","LBL11758","LBL02686","LBL01635","LBL12124","LBL08724","LBL05334","LBL06303","LBL06365","LBL15081","LBL02097","LBL03253","LBL03755","LBL04294","MSG04553","LBL17024","LBL17025","LBL17026","MSG10957","LBL02871","LBL11267","LBL19829","LBL02424","LBL03478","LBL03436","LBL06400","LBL21443","LBL02079","LBL05419","LBL22826","LBL04842","LBL04822","LBL04808","LBL04809","LBL04810","LBL04811","LBL04812","LBL07080","LBL01024","LBL01676","LBL02014","LBL01731","LBL00916","LBL05531","LBL09376","LBL09377","LBL09372","LBL09373","LBL09374","LBL09375","LBL05625","BTN00424","LBL01169","BTN00211","LBL01084","LBL02999","LBL13072","MSG04486","LBL01918","LBL02876","LBL03589","LBL18169","BTN00107","BTN00070","MSG01377","MSG09779","LBL02211","MSG00590","LBL02072","LBL01593","LBL09208","LBL09209","LBL01992","LBL09237","LBL00703","LBL02203","LBL02074","LBL03135","LBL01713","LBL01164","LBL00782","LBL02891","LBL11536","LBL10726","MSG70527","MSG11547","LBL22702","LBL12309","LBL22703","LBL19307","LBL70644","LBL70208","LBL08076","LBL93000","LBL20965","MSG09693","MSG09694","LBL70303","LBL70321","LBL08015","LBL70785","MSG09695","LBL09004","LBL04317","LBL05097","LBL09480","BTN00261","BTN40002","LBL40340","LBL00253","LBL00540","LBL01356","LBL02031","LBL20391","LBL20365","LBL40378","LBL05612","MSG70617","LBL40373","LBL08602","MSG40249","LBL15850","LBL19480","LBL01451","LBL20361","BTN00004","LBL10796","LBL85023","BTN00332","LBL70634","LBL70632","LBL00832","LBL13344","LBL11081","LBL11079","LBL00001","LBL00002","LBL00003");widget.keyHelper={};widget.keyHelper._baseLoaded=!1;widget.keyHelper._export=function(){return{_default:{},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.keyHelper.repository[n]||{},i=widget.view.keyHelper.repository[n]||{},widget.keyHelper._baseLoaded||(r=$.Class(ecount.control.keyHelper,widget.keyHelper.repository._default),view=$.Class(ecount.control.view.keyHelper,widget.view.keyHelper.repository._default),widget.keyHelper=$.extend(r,widget.keyHelper),widget.view.keyHelper=$.extend(view,widget.view.keyHelper),widget.keyHelper._baseLoaded=!0,n!="_default"))&&(widget.keyHelper[n]||(t.init||(t.init=function(){widget.keyHelper.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.keyHelper.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.keyHelper.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.keyHelper,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.keyHelper,widget.keyHelper[n]=$.Class(u,t)))}}};widget.view.keyHelper._export=function(){return{_default:{}}};widget.searchGroup={};widget.searchGroup._baseLoaded=!1;widget.searchGroup._export=function(){return{_default:{controlType:"widget.searchGroup",viewName:"widget.view.searchGroup",category:null,baseType:!1,containsType:"search",errorContainer:"bottom",init:function(){ecount.control.input.prototype.init.apply(this,arguments);this.setComponetsIndex()},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{category:n.category,status:n.status,maxLength:n.maxLength,label:n.label});this.__filter=[]},initializeViewOptions:function(){$.extend(this.__viewOptions,{category:!!this.category})},getInitComponents:function(n,t,i){return[{"style.css":i._inline?"textbox-inline flex-none":"",name:"keyword",value:"","opt.inFocus":!1,"opt.selectRange":!1,"opt.focus":!1}]},onInitState:function(n,t){this.status&&$.extend(t,{status:this.status.first()})},onInitFunction:function(){var n=this.__state.functions;n.search={ecFunction:"button",ecFunctionId:"search.clickHandler",cid:this.id,label:this.label,"style.css":"btn btn-default",ecPath:this.ecPath,ecService:""};this.status&&(n.status={ecFunction:"button",ecFunctionId:"status.clickHandler",cid:this.id,label:this.status[0].label,"style.css":"btn btn-default",ecPath:this.ecPath,ecService:""})},createView:function(){return this.ecview=new widget.view.searchGroup},onFocus:function(n){this.getState(n,"style.display")||(n=n==0?1:0);this.setFocusOnComponent(n,!0)},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_BUTTON:this.onButtonClickHandler(n,t,i,r);break;default:return!1}},ON_FOCUSIN:function(n){var t=n.cindex;this.isSearchInput(t)&&this._inFocus(t);this.getState(this._IT_SELF,"validate.needvalidate")&&this.getState(this._IT_SELF,"popover.toggle")&&this.resetPopover(this.getState(this._IT_SELF,"popover.message"))},ON_FOCUSOUT:function(n){var t=n.cindex;this.isSearchInput(t)&&(this.setState(t,"opt.inFocus",!1),this.setState(t,"opt.focus",!1),this.setState(t,"opt.selectRange",!1))},ON_KEYDOWN_ENTER:function(n,t){this.keydownHandler(n,t)},ON_INPUT:function(n,t){this.keydownHandler(n,t)},ON_KEYDOWN_ESC:function(){return!0},setValue:function(n){arguments.length>1&&(n=arguments[1]);ecount.control.prototype.setValue.apply(this,[this.searchInputIndex,n])},getValue:function(){return{keyword:this.getState(this.searchInputIndex,"value").replaceSpecial(),category:this.category?this.getState(this.categoryIndex,"selectedValue"):null,status:this.status?this.getState(this._IT_SELF,"status").value:null}},_inFocus:function(n){var i=this.getState(n,"opt.inFocus"),t;i||(t=this.getState(this.searchInputIndex,"value"),t==""?this.setState(n,"opt.focus",!0):this.setState(n,"opt.selectRange",!0),this.isVisibleElement(1)&&this.setState(n,"opt.inFocus",!0))},_getValidateValue:function(){return this.getState(this.searchInputIndex,"value")},_getValidateValue_temp:function(){return this.getValue().keyword},serialize:function(){},serializeById:function(){},setComponetsIndex:function(){this.category?(this.categoryIndex=0,this.searchInputIndex=1):this.searchInputIndex=0},onButtonClickHandler:function(n,t,i,r){var u=n.ecFunctionId,o,f,e;$.isEmpty(u)||(o=this.displayID||["btn",this.containerName,this.id].join("-"),_.merge(r,{__self:this,event:event,index:u=="search.clickHandler"?1:2,targetID:this.displayID||["btn",this.containerName,this.id].join("-"),command:["on",this.containerName,this.id].join("-").ecCamelize(!0)},this.getValue()),this.getState(this._IT_SELF,"validate.needvalidate")||u!="status.clickHandler"||(f=this.getState(this._IT_SELF,"status"),f&&(e=this.status.filter(function(n){return n.value!=f.value}),e&&this.setState(this._IT_SELF,"status",e[0]))),this.setState(this.searchInputIndex,"opt.inFocus",!1),this.setState(this.searchInputIndex,"opt.focus",!1),this.setState(this.searchInputIndex,"opt.selectRange",!1))},keydownHandler:function(n,t){var i=n.cindex,r=this.isSearchInput(i);if(t.keyCode===13)return r&&(this.setState(i,"opt.inFocus",!1),this.setState(i,"opt.focus",!1),this.setState(i,"opt.selectRange",!1)),!1},getResetData:function(){return this.getValue().keyword},_needSetHeightOfErrorContainer:function(){return this.__pnode&&this.__pnode==widget.generator.FORM},isSearchInput:function(n){return n==this.searchInputIndex}},create:function(n){var t,i,r,u,f;(n=n||"_default",t=widget.searchGroup.repository[n]||{},i=widget.view.searchGroup.repository[n]||{},widget.searchGroup._baseLoaded||(r=$.Class(ecount.control.input,widget.searchGroup.repository._default),u=$.Class(ecount.control.view.input,widget.view.searchGroup.repository._default),widget.searchGroup=$.extend(r,widget.searchGroup),widget.view.searchGroup=$.extend(u,widget.view.searchGroup),widget.searchGroup._baseLoaded=!0,n!="_default"))&&(widget.searchGroup[n]||(t.init||(t.init=function(){widget.searchGroup.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.searchGroup.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.searchGroup.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.searchGroup,n)),this.ecview=new n}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.searchGroup,widget.searchGroup[n]=$.Class(f,t)))}}};widget.view.searchGroup._export=function(){return{_default:{template:"((input))[[search]][[status]]",searchTemplate:'<button class="{{style.css}}" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}">{{label}}<\/button>',statusTemplate:'<button class="{{style.css}}" data-cid="{{cid}}" data-function="{{ecFunction}}" data-function-id="{{ecFunctionId}}">{{label}}<\/button>',getElements:function(n){if(n==this._IT_SELF)return this.$el;var t=this.$el.find("[data-index]");return t.length===0?this.$el:$.isNull(n)?t:t.filter("[data-index="+n+"]")},onChangeSelectedLabel:function(n,t){var r=this.getElements(n),i=r.parent();i.find("input[type='text']").val(t);i.find("button").text(t)},onChangeStatus:function(n,t){if(n==this._IT_SELF){var i=this.$el.find("button[data-function-id='status.clickHandler']");i&&i.text(t.label)}}}}};widget.searchBar={};widget.searchBar._baseLoaded=!1;widget.searchBar._export=function(){return{_default:{ecPackage:"widget.searchBar",controlType:"widget.searchBar",tempType:"default",_defaultCss:"",initializeViewOptions:function(){_.merge(this.__viewOptions,{wrapperSetCss:"input-group"})},getInitDataComponents:function(n,t,i){return this.getOptionalPrefixComp(n,t,i).concat([{}]).concat(this.getOptionalPostfixComp(n,t,i))},getInitComponents:function(n,t,i){var r=ecount.control.input.prototype.getInitComponents.apply(this,arguments);return this.getOptionalPrefixComp(n,t,i).concat(r).concat(this.getOptionalPostfixComp(n,t,i))},getOptionalPrefixComp:function(n,t,i){var r=i.category?this._getSelectOptions(i.category,i.category.length):[{label:"",value:""}];return[{ecService:"layer.selectbox",ecRole:"search.category",option:r,selectedValue:r[0].value,selectedLabel:r[0].label,"style.display":!0}]},getOptionalPostfixComp:function(n,t,i){var r=i.checkbox,f="",u={label:"",value:""};return r&&(f=r.containercss,u=r.item),[{ecRole:"search.button",label:"","style.display":!0,"style.css":"btn btn-default"},{ecRole:"search.checkbox",label:u.label,value:u.value,"attr.checked":!1,"style.display":"","style.wrapperCss":f,"style.css":"form-checkbox"}]},onInitComponent:function(n,t,i,r,u){ecount.control.input.prototype.onInitComponent.apply(this,arguments);t==1&&(r.ecRole="search.text",r.value="",r["opt.selectRange"]=!1,r["attr.placeholder"]=t==1?u._placeHolder||u._addonTitle||u.subTitle:"",r["validate.containstype"]="search")},onLazyRender:function(){},createView:function(){return this.ecview=new widget.view.searchBar},setPlaceHolder:function(n){var t=this.getComponentByAttr("ecRole","search.text");this.setState(t.index,"attr.placeholder",n)},setCategory:function(n){var r=this.getComponentByAttr("ecRole","search.category"),t,i;r&&(t=this.getComponent(this.selectCompIndex),i=t.option.find(function(t){return t.value==n}),this._changeSelectedValue(this.selectCompIndex,i||{value:n}))},getValue:function(){var t=this.getComponentByAttr("ecRole","search.text"),n=this.getComponentByAttr("ecRole","search.category"),i=this.getComponentByAttr("ecRole","search.checkbox");return{keyword:t.value.replaceSpecial(),category:n["style.display"]?n.selectedValue:null,checked:n["style.display"]?i["attr.checked"]:null}},ON_PASTE:function(){},_getValidateValue:function(){return this.getValue().keyword},onButtonClickHandler:function(n,t,i){this.toggleShow("category",!1);this.toggleShow("checkbox",!0);_.extend(i,this.getValue())},toggleShow:function(n,t){var i=this.getComponentByAttr("ecRole","search."+n);i&&this.setState(i.index,"style.display",t)},serialize:function(){},serializeById:function(){},extract:function(){},onChangeSelectedValueHandler:function(n,t,i){var r=this._getSelectedOption(n,i);this._changeSelectedValue(n.cindex,r);this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"))},onChangeSelectedValueByKeyboard:function(){},onChangeSelectedValueOnServiceByKeyboard:function(){},_onKeypressOthersHandler:function(n,t){var r=String.fromCharCode(t.which),i=this.getComponent(n.cindex),u=i.option,f;r!=this._keyStack&&(this._keyStack+=r.toLowerCase());this.keyStackID&&ecount.global.clearTimeout(this.ecPageID);f=ecount.control.select.getCurrentOptionIndex(i);ecount.control.select.autoCompleteHandler(this._keyStack,f,u,function(n){this._changeSelectedValue(i.cindex,u[n])}.bind(this));this.keyStackID=ecount.global.setTimeout(this.ecPageID,function(){this.keyStackID=null;this._keyStack=""}.bind(this),300)},_getOptionId:function(n,t){return arguments.length==2?this.id+"_"+(isNaN(+n)?t:t+n):this.id+"_"+(isNaN(+n)?"":n)},_getSelectOptions:function(n,t){return ecount.control.select.getOptionsFromArray(n,this._getOptionId.bind(this,t),this._getOptionObjFromArray)},_getOptionObjFromArray:function(n){return{value:""+n[0],label:""+n[1]}},_getSelectedOption:function(n,t){var i=this.getComponentByAttr("ecRole","search.category"),r=t.selected?t.selected:i.option.find(function(n){return n.value==i.selectedValue});return{label:r.label,value:r.value}},_changeSelectedValue:function(n,t){var i=this.getState(n,"option");this.pendingViewUpdate(!0);typeof t=="object"?(this.setState(n,"selectedValue",t.value),this.setState(n,"selectedLabel",$.isNull(t.label)?this._getSelectedLabel(t.value,i):t.label)):(this.setState(n,"selectedValue",t),this.setState(n,"selectedLabel",this._getSelectedLabel(t,i)));this.pendingViewUpdate(!1);this.batchUpdateView()},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.cindex);if(u&&u.ecRole=="search.button")this.onButtonClickHandler(n,t,r);else return!1},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_LAYER:return this.onChangeSelectedValueHandler(n,t,r)}},ON_KEYPRESS_OTHERS:function(n,t,i,r){if(r.selected&&r.selected.selectedIndex!==undefined){var u=r.selected.selectedIndex,f=this.getComponent(r.selected.index).option[u];this._changeSelectedValue(r.index,f)}else n.ecService==ecount.layer.constValue.SELECTBOX&&this._onKeypressOthersHandler(n,t,r)},ON_KEYDOWN_ARROW_UP:function(n,t,i,r){this.onChangeSelectedValueByKeyboard(n,t,r);n.suspend=!0},ON_KEYDOWN_ARROW_UP_SERVICE:function(n,t,i,r){this.onChangeSelectedValueOnServiceByKeyboard(_.merge({cid:this.cid,cindex:r.index},n),t,r)},ON_KEYDOWN_ARROW_DOWN:function(n,t,i,r){this.onChangeSelectedValueByKeyboard(n,t,r,!0);n.suspend=!0},ON_KEYDOWN_ARROW_DOWN_SERVICE:function(n,t,i,r){this.onChangeSelectedValueOnServiceByKeyboard(_.merge({cid:this.cid,cindex:r.index},n),t,r)},ON_KEYDOWN_ENTER:function(n,t,i,r){var u=this.getComponent(n.cindex);this.onChangeSelectedValueHandler(n,t,r||{});u&&u.ecRole=="search.button"&&this.setState(n.cindex,"opt.selectRange",!1)},ON_KEYDOWN_ENTER_SERVICE:function(n,t,i,r){this.onChangeSelectedValueHandler(_.merge({cid:this.cid,cindex:r.index},n),t,r||{});this.onNextFocus(n+1)},ON_KEYDOWN_ESC_SERVICE:function(n,t,i,r){this.onChangeSelectedValueHandler(_.merge({cid:this.cid,cindex:r.index},n),t,r||{})},ON_KEYPRESS_OTHERS:function(n,t,i,r){if(r.selected&&r.selected.selectedIndex!==undefined){var u=r.selected.selectedIndex,f=this.getComponent(r.selected.index).option[u];this._changeSelectedValue(r.index,f)}else n.ecService==ecount.layer.constValue.SELECTBOX&&this._onKeypressOthersHandler(n,t,r)},ON_KEYPRESS_OTHERS_SERVICE:function(n,t,i,r){if(r.selected){var u=r.selected,f=this.getState(r.index,"option");this._changeSelectedValue(r.index,f[u.selectedIndex])}},ON_FOCUSIN:function(n){if(!$.isNull(n.cindex)){var t=this.getComponent(n.cindex);t&&t.ecRole=="search.button"&&this.setState(n.cindex,"opt.selectRange",!this.getState(n.cindex,"opt.selectRange"))}}},options:{ecPackage:"widget.searchBar",controlType:"widget.searchBar.options",viewName:"widget.view.searchBar.options",getInitDataComponents:function(n,t,i){var r=ecount.control.prototype.getInitDataComponents.apply(this,arguments);return r.concat(this.getOptionalPostfixComp(n,t,i))},getInitComponents:function(n,t,i){var r=ecount.control.input.prototype.getInitComponents.apply(this,arguments);return r.concat(this.getOptionalPostfixComp(n,t,i))},getOptionalPostfixComp:function(n,t,i){return[{id:_.camelCase(this.cid+"_btn"),ecRole:"search.button",label:"","style.display":!0,"style.css":"btn btn-default btn-inquiry-search"},{id:_.camelCase(this.cid+"_options"),ecRole:"search.options",label:_.isArray(i.data)?i.data[0].label||"":"","style.display":!0,"style.css":"btn btn-default btn-inquiry-option btn-arrow"}]},initializeViewOptions:function(){},onInitComponent:function(){ecount.control.input.prototype.onInitComponent.apply(this,arguments)},getValue:function(){return{keyword:this.getState(0,"value").replaceSpecial()}},onChangeSelectedValueHandler:function(){this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"))},onButtonClickHandler:function(n,t,i){_.extend(i,this.getValue())},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.cindex);if(u&&!!~_.indexOf(["search.button","search.options"],u.ecRole)){r.buttonType=u.ecRole;this.onButtonClickHandler(n,t,r)}else return!1},ON_KEYDOWN_ENTER:function(n,t,i,r){if(t.target.tagName=="INPUT")_.extend(r,this.getValue()),r.cid=this.id,r.command=_.camelCase(["on",i.containerName,i.id,"keydown","enter"].join("_"));else return!1}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.searchBar.repository[n]||{},i=ecount.control.input,widget.searchBar._baseLoaded||(ecount.control.loadRepository(ecount.control.input,ecount.control.view.input,"widget.searchBar"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.searchBar,t,"widget.searchBar",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.searchBar")){r=t.controlType.replace("widget.searchBar.","");ecount.control.mountMixinWidget(widget.searchBar,t,"widget.searchBar",[widget.searchBar,r]);return}widget.searchBar[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.searchBar,ecount.control.mountWidget(widget.searchBar,n,i,t))}}}};widget.view.searchBar._export=function(){return{_default:{baseType:!1,wrapperSet:'<div class="{{style.multiline}} {{style.display}} {{wrapperSetCss}} {{isWholeRow}}" {{style.inline}}>',template:['<div class="input-group">',"{{category}}","((input))",'<div class="input-group-btn search">',"((button))","<\/div>","{{checkbox}}","<\/div>",].join("\n"),categoryTemplate:'<div class="input-group-addon category" data-role="{{ecRole}}">\n<div class="btn-group" data-area="dropdown" data-role="category">\n((select))\n<\/div>\n<\/div>',checkboxTemplate:'<div class="input-group-addon result-search {{style.wrapperCss}}" data-role="{{ecRole}}">\n((checkbox))\n<\/div>',onInitTemplate:function(n,t){var i=t.components;return n.replace("{{category}}",ecount.widget.replaceAttr(this.categoryTemplate,i[0])).replace("{{checkbox}}",ecount.widget.replaceAttr(this.checkboxTemplate,i[3]))},onChangeStyleDisplay:function(n,t){var i=this.getElements(n),r=i.attr("data-role");switch(r){case"search.category":case"search.checkbox":i=i.parents('[data-role="'+r+'"]')}t?i.removeClass("hidden"):i.addClass("hidden")}},options:{baseType:!1,wrapperSet:'<div class="control-set {{style.multiline}} {{style.display}} {{wrapperSetCss}} {{isWholeRow}}" {{style.inline}}>',template:"((input))\n((button))\n{{optionTemplate}}",optionTemplate:"((button))",onInitTemplate:function(n,t){var i=t.components;return n.replace("{{optionTemplate}}",ecount.widget.replaceAttr(this.optionTemplate,i[2]))}}}};widget.input={};widget.input._baseLoaded=!1;widget.input._export=function(){return{_default:{controlType:"widget.input",init:function(){ecount.control.input.prototype.init.apply(this,arguments)},render:function(){ecount.control.input.prototype.render.apply(this,arguments)}},general:{controlType:"widget.input.general",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="gen";t["validate.datafilter"]=ecount.common.ValidCheckSpecial}},codeName:{controlType:"widget.input.codeName",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="name";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForCodeName}},codeType:{controlType:"widget.input.codeType",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="code";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForCodeType}},progressStepCode:{controlType:"widget.input.progressStepCode",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="progressStepCode";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForCodeType}},search:{controlType:"widget.input.search",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="search";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForSearch}},barcodeType:{controlType:"widget.input.barcodeType",onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="barcode";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForSearch}},header:{controlType:"widget.input.header",css:"form-transparent"},border:{controlType:"widget.input.formset",initializeOptions:function(){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this._noReplacement=!0},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="formset"}},size:{controlType:"widget.input.size",viewName:"widget.view.input.size",sideLabel:"",init:function(){widget.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this.alignRight=!0;this.sideLabel=n.leftTitle||n.rightTitle||""},initializeViewOptions:function(n){ecount.control.input.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{leftTitle:n.leftTitle,rightTitle:n.rightTitle})},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="code";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForCodeType},onInitFunction:function(n,t){ecount.control.input.prototype.onInitFunction.apply(this,arguments);this.sideLabel&&(t.functions.inputSideLabel={sideLabel:this.sideLabel,cid:this.id})},render:function(){widget.input.prototype.render.apply(this,arguments)}},buttonGroup:{controlType:"widget.input.buttonGroup",viewName:"widget.view.input.buttonGroup",init:function(){widget.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this.buttonLabels=n.label||[]},initializeViewOptions:function(){ecount.control.input.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{buttonCount:this.buttonLabels.length})},onInitState:function(n,t,i){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]=i.containsType||"code";t["validate.datafilter"]=ecount.common.ValidCheckSpecialForCodeType},getInitDataComponents:function(n,t,i){var r=i.data.slice(0),f=this.buttonLabels,u,e,o;if(r[0].cid=this.id,r[0].value=r[0].value||"",f.length>0)for(u=0,e=f.length;u<e;u++)o={cid:this.id,label:this.buttonLabels[u],css:"btn btn-default",ecService:""},r.push(o);return r},getInitComponents:function(){return[{value:"",cid:this.id}]},render:function(){widget.input.prototype.render.apply(this,arguments)}},digit:{controlType:"widget.input.digit",init:function(){widget.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this.maxLength=n.maxLength||30},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]="digit"},onInitFilters:function(){ecount.control.input.prototype.onInitFilters.apply(this,arguments);this._registerFilter("ecKeyInputFilters",{cindex:0,type:"imeMode",options:{mode:"N"}})}},between:{controlType:"widget.input.between",viewName:"widget.view.input.between",delimiter:"~",init:function(){ecount.control.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);$.extend(this,{_betweenSuffix:n._betweenSuffix||["FROM","TO"],_inline:!1,isNotChangeWidth:!0,_isNumberOnly:n._isNumberOnly})},getInitDataComponents:function(n,t,i){var r=i.data;return r.length<=1&&r.push({}),r},getInitComponents:function(){return[{value:""},{value:""}]},onInitComponent:function(n,t,i,r){ecount.control.input.prototype.onInitComponent.apply(this,arguments);t==1&&(r["style.display"]=this.isSingleInlineMode()?!1:!0);$.isArray(r["attr.maxlength"])&&(r["attr.maxlength"]=r["attr.maxlength"][1])},onInitFunction:function(n,t,i){ecount.control.input.prototype.onInitFunction.apply(this,arguments);this.__state.functions.delimiter={"style.display":this.isSingleInlineMode()?!1:!0,delimiter:i.delimiter==undefined?this.delimiter:i.delimiter,cid:this.id}},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},onAfterRender:function(){this._isNumberOnly&&this.setNumberOnly()},ON_FOCUSIN:function(){return ecount.control.input.prototype.ON_FOCUSIN.apply(this,arguments)},ON_FOCUSOUT:function(){return ecount.control.input.prototype.ON_FOCUSOUT.apply(this,arguments)},onNextFocus:function(){ecount.control.prototype.onNextFocus.apply(this,arguments)},setActiveInlineMode:function(n,t){ecount.control.input.prototype.setActiveInlineMode.apply(this,arguments);this.isSingleInlineMode()?(this.setState("delimiter","style.display",!1),this.hide(1)):(this.setState("delimiter","style.display",!0),this.show(1));t!=!1&&this.setFocus(0)},restore:function(n){$.isEmpty(n.activeInlineMode)||this.setActiveInlineMode(n.activeInlineMode);this.setValue(n.value);this.useFnActivedItem()&&!$.isNull(n.fn)&&this.setFnActivedId(n.fn)},save:function(){var n=this.useFnActivedItem()?this.getFnActivedId():null;return{key:this.id,value:{activeInlineMode:this.getActiveInlineMode(),value:this.getValue(),fn:n}}},getValue:function(n){return $.isNull(n)?[this.replacesSeparatorOrigin(this.getState(0,"value")),this.replacesSeparatorOrigin(this.getState(1,"value"))]:this.replacesSeparatorOrigin(this.getState(n,"value"))},setValue:function(n){arguments.length==1&&_.isArray(n)?(ecount.control.input.prototype.setValue.call(this,0,n[0]),ecount.control.input.prototype.setValue.call(this,1,n[1])):ecount.control.input.prototype.setValue.apply(this,arguments)},serialize:function(n){var t=[],r;if(this.isSingleInlineMode())t.push({key:n||this.name,value:this.getValue(0)});else for(i=0;i<this.getComponents().length;i++)t.push({key:(n||this.name)+"_"+this._betweenSuffix[i],value:this.getValue(i)});return this.useFnActivedItem()&&(r=this.getFnActivedId(),t.push({key:(n||this.name)+"_FN",value:r})),t},checkValidate:function(n){for(var i,f,r,u,t=0;t<this.getComponents().length;t++){if(i=this.getState(t,"attr.maxlength"),r=n||this.ecValidateFilters||[],i&&i.length>0&&(f=String.format(ecount.resource.MSG05227,i[t]),r.push({rangelength:[i[t],i[t]]})),$.isEmpty(r))return[];if(u=ecount.control.input.prototype.checkValidate.call(this,r,f,t),u.length>0)return this.setFocus(t),u}return[]},setNumberOnly:function(){for(var n=0;n<this.getComponents().length;n++)this.setImeModeKeydownHandler(n,!1,"N",!0)}},contactInfo:{controlType:"widget.input.contactInfo",init:function(){ecount.control.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);$.extend(this,{dualStep:n.dualStep||n.dualPageType||0,dualMode:!0})},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},reset:function(){ecount.control.prototype.reset.apply(this,arguments);var n,t=this.getValue();(n=this.getDualStep())&&(this.setDualStep(n,!1,!0),this.setValue(t))},setDualStep:function(){this.setValue("");ecount.control.input.prototype.setDualStep.apply(this,arguments)}},password:{controlType:"widget.input.password",viewName:"widget.view.input.password",_defaultCss:"form-control",init:function(){ecount.control.input.prototype.init.apply(this,arguments)},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this.passwordLevel=n.passwordLevel||!1;this.passWordValidationInfo=n.passWordValidationInfo;this._notRequired=!!n._notRequired;_.isFunction(n.passwordValidate)&&(this.passwordValidate=n.passwordValidate)},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]=null},onInitFilters:function(){ecount.control.input.prototype.onInitFilters.apply(this,arguments);this.passwordLevel!==!1&&this.registerKeyInputFilter({type:"password",level:this.passwordLevel,options:{passWordValidationInfo:this.passWordValidationInfo}})},checkValidate:function(n,t){var i=n||[],t=t||"",u=this.getValue(),r=this.getState(this._IT_SELF,"validate.filterResult");if(this.passwordLevel!==!1){if(i=[],u==""){if(this._notRequired)return i;i.push({message:_.isString(r.message)&&!~r.message.indexOf("undefined")?r.message:ecount.resource.MSG02827,control:this,method:"minLength"});this.showError()}return r.stepResult||i.push({message:r.message||ecount.resource.MSG02827,control:this,method:"inValidPassword"}),i}return ecount.validator.validate(u,i,t)},applyFilter:function(n,t,i){var r=this;_.defer(function(){r.setFilteredValueToComponent.call(r,t.target.value,n.cindex);var u=i.getState(r._IT_SELF,"validate.filterResult");u&&r.passwordLevel!==!1&&i.getValue()!==""?r.hasError()||r.showError(r._IT_SELF,u.message,!0):r.hasError()&&r.hideError(r._IT_SELF)})},setPasswordValidate:function(n,t){var i={};this.setValue("");_.isFunction(n)&&(this.passwordValidate=n);_.isObject(t)&&(_.isArray(this.ecKeyInputFilters)&&(i=this.ecKeyInputFilters.filter(function(n){return n.type==="password"}),i=i[i.length-1]?i[i.length-1]:{}),this.passwordLevel=_.isNil(t.passwordLevel)?i.level:t.passwordLevel,i.options&&t.passWordValidationInfo?(delete i.options.passWordValidationInfo,i.options.passWordValidationInfo=t.passWordValidationInfo):!i.options&&t.passWordValidationInfo?i.options={passWordValidationInfo:t.passWordValidationInfo}:i.options||t.passWordValidationInfo||(i.options={passWordValidationInfo:[]}),this.registerKeyInputFilter({type:"password",level:this.passwordLevel,options:i.options}))},ON_KEYDOWN_OTHERS:function(n,t,i,r){this.applyFilter(n,t,i,r)},ON_KEYDOWN_BACKSPACE:function(n,t,i,r){this.applyFilter(n,t,i,r)},ON_FOCUSIN:function(n,t,i){var r=i.getState(this._IT_SELF,"validate.filterResult");this.passwordLevel!==!1?r&&!r.stepResult?this.resetPopover(this._IT_SELF,r.message):this.destroyPopover(this._IT_SELF):this.hasError()&&this.resetPopover(this._IT_SELF,r.message)},_ON_BEFORE_FOCUSOUT:function(n,t,i){this.getState(this._IT_SELF,"validate.needvalidate")||this._applyFilters(n.value,n.cindex);var r=i.getState(this._IT_SELF,"validate.filterResult");if(this.passwordLevel!==!1)this.destroyPopover(this._IT_SELF),this.hasError()&&this.hideError(this._IT_SELF);else if(this.hasError())return this.setFocus(0),this.resetPopover(this._IT_SELF,{message:r.message,trigger:"focus hover"},!0),!1;return!1}},dateFormat:{controlType:"widget.input.dateFormat",viewName:"widget.view.input.dateFormat",pattern:{"10":"yyyy/mm/dd","11":"mm/dd/yyyy","12":"dd/mm/yyyy","13":"yyyy-mm-dd","14":"mm-dd-yyyy","15":"dd-mm-yyyy"},init:function(){ecount.control.input.prototype.init.apply(this,arguments)},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},ON_INPUT:function(n,t,i){var r=this,u=0,f=r.pattern["15"].replaceAll(/[a-z]/,function(){return _.toString(i.getValue().replaceAll(/[^0-9]/,""))[u++]});i.setValue(f.replace(/\/\/$|--$/,"").replace(/\/$|-$/,""))},ON_FOCUSOUT:function(){var i=this.getValue(),t,n;i.length===0?(this.setValue(this.dateTemplate),this.needValidate&&this.hideError(n)):(t=this.dateCheck(i),n=this.getElements(),t.result?this.needValidate&&this.hideError(n):this.needValidate||this.showError(n,t.message,!0))},dateCheck:function(n){var u={result:null,message:this.customMsg||String.format(this.dataRuleMsg,this.dateTemplate)},i=n.split(/[\s-|/]+/),r=this.dateType,t={year:null,month:null,day:null},f;return r=="10"||r=="13"?(t.year=i[0],t.month=i[1],t.day=i[2]):r=="11"||r=="14"?(t.year=i[2],t.month=i[0],t.day=i[1]):(t.year=i[2],t.month=i[1],t.day=i[0]),f=t.year+"-"+t.month+"-"+t.day,u.result=/^(10[0-9][0-9]|20\d{2})-(0[0-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(f),u},setColor:function(n){var n=n?n:0,t=this.getState(n,"style.css");this.setState(n,"style.css",t,!0)}},prod:{controlType:"widget.input.prod",viewName:"widget.view.input.prod",_defaultCss:"",baseType:!0,init:function(){ecount.control.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);$.extend(this,{typeNumber:n.typeNumber,readOnlyIndex:n.readOnlyIndex,_notRequired:n._notRequired})},initializeViewOptions:function(){ecount.control.input.prototype.initializeViewOptions.apply(this,arguments);_.merge(this.__viewOptions,{baseType:this.baseType})},onInitState:function(){ecount.control.input.prototype.onInitState.apply(this,arguments)},getInitComponents:function(){return[{value:""},{value:""},{value:""}]},onInitComponent:function(n,t,i,r){ecount.control.input.prototype.onInitComponent.apply(this,arguments);t==this.readOnlyIndex&&(r["attr.readonly"]=!0);t==0&&_.merge(r,{"style.css":"textbox-inline w-200"});t==1&&_.merge(r,{"attr.maxlength":1,"style.css":"textbox-inline text-center w-20"})},onInitFilters:function(n,t,i){var u=i._maxlength,f,r,e;if(u&&_.isArray(u))for(r=0,e=u.length;r<e;r++)f=u[r],this.registerKeyInputFilter({type:"maxbyte",message:String.format(ecount.resource.MSG00297,Math.floor(f/2),f),max:f,cindex:r})},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},checkValidate:function(n,t){var n=[],t=t||"",i,r;for(this._notRequired||n.push("required"),i=0;i<3;i++)if(r=ecount.validator.validate(this.getValue(i),n,t),r.length>0)return r;return[]},setValue:function(){var t=Array.prototype.slice.apply(arguments),i,n;if(t.length==1)for(i=t[0],n=0;n<i.length;n++)ecount.control.input.prototype.setValue.call(this,n,i[n]);else ecount.control.input.prototype.setValue.apply(this,t)},getValue:function(n){for(var t=[],i=0,r=this.getComponents().length;i<r;i++)t.push(ecount.control.input.prototype.getValue.call(this,i));return n==undefined?t:t[n]}},regNumber:{controlType:"widget.input.regNumber",viewName:"widget.view.input.regNumber",init:function(){ecount.control.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.input.prototype.initializeOptions.apply(this,arguments);this.maxLength=[3,2,5];this.inputWidth=[40,30,50];this._notRequired=n._notRequired},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t.noneFlex=!0},getInitComponents:function(){return[{value:"",cid:this.cid,pcid:this.pcid},{value:"",cid:this.cid,pcid:this.pcid},{value:"",cid:this.cid,pcid:this.pcid}]},onInitComponent:function(n,t,i,r){ecount.control.input.prototype.onInitComponent.apply(this,arguments);r["attr.placeholder"]="";r["style.css"]=r["style.css"]+" first-child last-child"},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},onAfterRender:function(){var n=this;_.each(this.getComponents(),function(t){n.setWidth(t.index,n.inputWidth[t.index])})},getFunctionListParentFn:function(){},setValue:function(n,t){var i=this;$.isArray(n)?_.each(n,function(n,t){i.setState(t,"value",_.replace(n,/[^0-9]/g,""))}):i.setState(n,"value",_.replace(t,/[^0-9]/g,""))},getValue:function(n){var t=_.map(this.getComponents(),function(n){return n.value});return _.isUndefined(n)?t:t[n]},setWidth:function(n,t){this.setState(n,"style.width",t);this.setState(n,"style.css","flex-none")},checkValidate:function(n){var i=n||this.ecValidateFilters||[],r,f,u,t;for(this._notRequired||i.push("required"),t=0;t<this.getComponents().length;t++){if(r=this.getState(t,"attr.maxlength"),r&&r>0&&(f="사업자 등록번호를 입력하세요.",this._notRequired&&$.isEmpty(this.getValue(t))?i.push({rangelength:[0,0]}):i.push({rangelength:[r,r]})),$.isEmpty(i))return[];if(u=ecount.control.input.prototype.checkValidate.call(this,i,f,t),u.length>0)return this.setFocus(t),u}return[]},isContainsLimitedSpecial:function(){for(var i=this.getValue(),r,n,t=0;t<i.length;t++)if(r=i[t],n=r.isContainsLimitedSpecial(this.containsType),n.result==!0)return n;return n},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()},n])},ON_KEYDOWN_OTHERS:function(){},ON_FOCUSIN:function(){},ON_FOCUSOUT:function(n){return this.numericOnly&&this._numericRTrim(n.cindex),this.doPreventAction()?(this.resetPopover({message:this.errorMessage,trigger:"focus hover"},!0),!1):void 0}},searchLayer:{controlType:"widget.input.searchLayer",viewName:"widget.view.input.searchLayer",onInitComponent:function(n,t,i,r){ecount.control.input.prototype.onInitComponent.apply(this,arguments);r["opt.scrollIntoView"]=!1},scrollIntoView:function(n,t){t&&t.resetSearching&&(this.setState(n,"opt.selectRange",!1),this.setState(this._IT_SELF,"opt.scrollIntoView",!0,!0))},setFocus:function(n,t){t&&t.resetSearching&&this.setState(n,"opt.scrollIntoView",!0,!0);this._super.setFocus.apply(this,arguments)}},mail:{controlType:"widget.input.mail",viewName:"widget.view.input.searchLayer",setValue:function(n,t){t=this.checkAngleBracket(t);this._super.setValue.apply(this,arguments)},getValue:function(){return this.checkAngleBracket(this._super.getValue.apply(this,arguments))},checkAngleBracket:function(n){var t=n.match(/^\<|\>$/g);return t&&t.length>1&&(n=n.replace(/^\<|\>$/g,"")),n}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.input.repository[n]||{},i=ecount.control.input,widget.input._baseLoaded||(ecount.control.loadRepository(ecount.control.input,ecount.control.view.input,"widget.input"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.input,t,"widget.input",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.input")){r=t.controlType.replace("widget.input.","");ecount.control.mountMixinWidget(widget.input,t,"widget.input",[widget.input,r]);return}widget.input[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.input,ecount.control.mountWidget(widget.input,n,i,t))}}}};widget.view.input._export=function(){return{_default:{},between:{template:"((input))[[delimiter]]((input))",delimiterTemplate:'<span class="{{style.display}}" data-function="delimiter">\n{{delimiter}}\n<\/span>',onChangeStyleDisplayDelimiter:function(n){var t=this.$el.find("span[data-function=delimiter]");n?t.removeClass("hidden"):t.addClass("hidden")},setBorderRadius:function(n,t){var i=this.$el,r;return(n instanceof jQuery?i=n:n instanceof Element&&(i=$(n)),t=_.isBoolean(t)?t:!this.gridID,!i||!t)?n:(r=i.hasClass("control")?i.children():i.find("div.control").children(),r.removeClass("first-child").removeClass("last-child"),r.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):first").addClass("first-child"),r.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):last").addClass("last-child"),r.filter("input[type='text']").filter(":not(.hidden):first").addClass("last-child"),r.filter("input[type='text']").filter(":not(.hidden):last").addClass("first-child"),i)}},size:{template:"((input))",inputSideLabelTemplate:"<span>{{sideLabel}}<\/span>",onInitTemplate:function(n,t){var i=n;return t.leftTitle?i="[[inputSideLabel]]"+i:t.rightTitle&&(i=i+"[[inputSideLabel]]"),i}},buttonGroup:{template:"((input))",buttonTemplate:"((button))",onInitTemplate:function(n,t){for(var r=n,u=t.buttonCount,i=0;i<u;i++)r+=this.buttonTemplate;return r}},password:{template:"((inputPassword))",onInitTemplate:function(n){return n}},dateFormat:{template:"((input))",onInitTemplate:function(n){return n}},prod:{template:"((input))"},regNumber:{template:"((input)) <span> - <\/span> ((input))<span> - <\/span> ((input))",onChangeStyleWidth:function(n,t){this.getElements(n).width(t)},onChangeStyleCss:function(n,t){var i=this.getElements(n);i.hasClass(t)||this.getElements(n).addClass(t)},setBorderRadius:function(n){return n}},searchLayer:{template:"((input))",onMount:function(n){this.$el.find("input[type=text]").attr("id",n.cid)},onChangeOptScrollIntoView:function(n,t){t&&(ecview.util.select(this.getElements(n),this.ecPageID),this.$el[0].scrollIntoView(!1))}}}};widget.textarea={};widget.textarea._baseLoaded=!1;widget.textarea._export=function(){return{_default:{controlType:"widget.textarea",viewName:"widget.textarea",maxBytes:null,rowSize:null,disableBytes:!0,maxRows:5,minRowSize:2,hasFn:!1,flexible:!0,containsType:"gen",resizable:0,_setDefaultPlaceholder:!0,_defaultCss:"form-control",enableFocus:!0,_useResetData:!0,_valueInFocus:null,_notChangeSelectRange:!1,notChangeSelectRange:!1,init:function(){ecount.control.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{noFocus:n.noFocus,maxBytes:n.maxBytes,bytesMessage:n.bytesMessage,__filter:n.__filter||[],flexible:n.flexible,rowSize:n.rowSize,maxRows:n.rowSize?n.rowSize:n.maxRows,maxLength:n.maxLength,hasFn:n.hasFn===!0,containsType:n.containsType,_notLineAlignment:n._notLineAlignment,__handler:n.__handler,resizable:n.resizable,_isUseHtmlFormate:n._isUseHtmlFormate,overRowMsg:n.overRowMsg,notChangeSelectRange:n.notChangeSelectRange,minRowSize:n.minRowSize})},initializeViewOptions:function(n){$.extend(this.__viewOptions,{maxBytes:n.maxBytes,minRowSize:n.minRowSize||this.minRowSize,maxRows:this.maxRows,flexible:this.flexible,isVertical:n.maxBytes?!0:!1,hasFn:this.hasFn,_multiLine:this._multiLine})},onInitState:function(n,t,i){function u(n){$.isNull(n)&&(n=!1);$.isArray(n)||(n=[n]);for(var t=0,i=n.length;t<i;t++)if(n[t]!==!0)return!1;return!0}t["validate.containstype"]=this.containsType;_.merge(t,{recommendValue:i.recommendValue||{},useRecommendOption:i.useRecommendOption||!1});i.maxBytes&&$.extend(t,{usedBytes:0});var r=u(i._readOnly);r==!0&&(t["attr.disabled"]=!1,t["attr.readonly"]=!0)},onInitComponent:function(n,t,i,r){var f,u;r.value=this._notLineAlignment?r.value||"":(r.value||"").toString().replace(/<br[^>]*>/g,"\r\n").replace(/<br[^>]*>/g,"\n");this.flexible?(f=r.value.split("\r\n").length,r.rows=f==1?this.minRowSize:Math.min(f,this.maxRows)):r.rows=this.rowSize?this.rowSize:this.maxRows;r["opt.rows"]=!1;r.maxBytes=r.maxBytes||this.maxBytes;r["attr.readonly"]=i["attr.readonly"]||!1;r["attr.disabled"]=!1;u="";this.resizable!=0&&(this.resizable==1?u="resize:vertical !important;":this.resizable==2?u="resize:horizontal !important;":this.resizable==3&&(u="resize:auto !important;"));$.isEmpty(this.inlineStyle)||(u=(u&&u+" ")+this.inlineStyle);r["css.style"]=u},onInitFilters:function(){_.isArray(this.__filter)&&_.isArray(this.ecKeyInputFilters)&&this.ecKeyInputFilters.length>0&&(this.__filter.forEach(function(n){n.type==="maxlength"&&(n.isLineBreakLengthPlus=!0)}),this.ecKeyInputFilters.forEach(function(n){n.type==="maxlength"&&(n.isLineBreakLengthPlus=!0)}))},createView:function(){return this.ecview=new widget.view.textarea},render:function(){ecount.control.prototype.render.apply(this,arguments)},onMessage:function(n,t){t=t||{};this.getNationalFlag()&&_.get(t,"data.STATE_CODE")&&this.setNationalFlag(_.get(t,"data.STATE_CODE"),!0);this._sendMessage(n,_.merge({},t,{callback:null,data:t.originalDataset||t.data}));t.callback&&t.callback()},_sendMessage:function(n,t){n||(n={pageID:this.popupURL?this.popupURL.split("/").last():""});n.controlID=this.id;t.control=this;ecount.global.executeCallback(this.ecPageID,this.responseID,n,t)},onKeyInputFilter:function(n){this.setState(Number(n.cindex||0),"value",n.value);this.setByteValue()},useRecommend:function(n){this.setState(this._IT_SELF,"useRecommendOption",n)},setRecommendValue:function(n){var t={dataValue:n,label:n};this.setState(this._IT_SELF,"recommendValue",t);this.setState(this._IT_SELF,"useRecommendOption",!0)},resetRecommend:function(){this.setState(this._IT_SELF,"recommendValue","",{});this.setState(this._IT_SELF,"useRecommendOption",!1)},getValue:function(){var n=(this.getState(0,"value")||"").replace(/<br[^>]*>/g,"\r\n").replace(/<br[^>]*>/g,"\n").replace(/\u00A0/g," ");return $.isEmpty(n)||(n=n.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n").toString(),this._noReplacement||(n=n.convertSpecial())),n},setValue:function(){this.enableFocus=!1;ecount.control.prototype.setValue.apply(this,arguments);this.setAdjustValue();this.enableFocus=!0},setValueScrollFocus:function(){this._notChangeSelectRange=!0;this.setValue("");this.setFocus(0);this.setValue.apply(this,arguments);this.ecview&&(this.ecview.setAutoScroll(),console.log(this.ecview.$el.find("textarea").prop("selectionStart")));this._notChangeSelectRange=!1},getSyncData:function(){return{data:this.getExtractState(["value"])}},setAdjustValue:function(){this.maxBytes&&this.setByteValue()},setByteValue:function(){if(this.maxBytes){var n=this.getValue(),t=n.byte();t>this.maxBytes?this.setValue(n.subStringBytes(this.maxBytes)):this.setState(this._IT_SELF,"usedBytes",t)}},setFocus:function(n){if(this.noFocus)return this.onNextFocus(),!1;n==0&&(ecount.control.prototype.setFocus.call(this,n),this._inFocus(n))},setTextareaHeight:function(n){this.ecview&&this.ecview.setTextareaHeight(n)},_inFocus:function(n){var t=this.getState(n,"attr.disabled");t!==!0&&this.enableFocus&&(this._notChangeSelectRange||this.notChangeSelectRange||this.isVisibleElement(0)&&this.setState(n,"opt.selectRange",!0))},setReadOnly:function(){var n=Array.prototype.slice.call(arguments,0);n.length==0?n.unshift(!0):n.length==1&&n.unshift(0);n.unshift("attr.readonly");this._setStateByType.apply(this,n)},checkValidate:function(n,t){var i=n||[],r=this._getValidateValue();return ecount.validator.validate(r,i,t)},_getValidateValue:function(){return this.getState(0,"value")},save:function(){return _.merge({key:this.id,value:this._getValidateValue()},this.getNationalFlag()?{nationalCode:this.getNationalFlag()}:null)},resetData:function(){return this.setValue(this._savedValue),!0},getResetState:function(){return this.getOriginState(["value"])},reset:function(){ecount.control.prototype.reset.apply(this,arguments);this.setAdjustValue()},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this._notLineAlignment?this.getValue():this.getValue().replace(/\r\n|\n/g,"<br>")},n])},serializeById:function(){return this.serialize(this.id)},keyupHandler:function(n,t){var i=this.__handler,r;if(i)for(r in i)i[r](t,this);this.flexible&&(this.setState(0,"opt.rows",!0),this.setState(0,"opt.rows",!1),this.delegator&&this.delegator.triggerEvent("page.adjustContentsDimensions",{type:"page.adjustContentsDimensions"}))},keydownHandler:function(){this.maxBytes&&this.setByteValue()},getRows:function(n){return this.ecview?this.ecview.getRows(n):this.rowSize},_ON_BEFORE_FOCUSIN:function(n){var i=n.cindex||0,t=this.getValue(i||0);return ecount.constValue.isChrome&&this._valueInFocus!=null&&this._valueInFocus!=t&&this.setValue(i,t,!0),this._valueInFocus=t,!0},ON_FOCUSIN:function(n){var t=n.cindex;this.getState(this._IT_SELF,"validate.needvalidate")&&this.getState(this._IT_SELF,"popover.toggle")&&this.resetPopover(n.cindex,{message:this.getState(this._IT_SELF,"popover.message"),trigger:"focus hover"},!0);t==0&&this._inFocus(n.cindex)},ON_FOCUSOUT:function(n){var t=n.cindex||0;if(this.setState(t,"opt.selectRange",!1),this.isPreventHideError())return this.resetPopover(this._IT_SELF,{message:this.errorMessage,trigger:"focus hover"},!0),!1;this.getState(this._IT_SELF,"validate.needvalidate")||ecount.control.prototype.setValue.apply(this,[t,this.getState(t||0,"value")])},ON_INPUT:function(n,t){this.keydownHandler(n,t);this.keyupHandler(n,t)},ON_KEYDOWN_ENTER:function(n,t){if(!t.shiftKey){var i=this.getValue().split("\r\n").length;return this.ecview&&this.ecview.setNotClearContent(),this.overRowMsg&&i>=this.getRows()?(ecount.alert(this.overRowMsg),n.suspend=!0):n.suspend=!1,n.stopPropagation=!0,!1}},ON_CHANGE:function(n,t){this._valueInFocus=this.getValue(n.cindex||0);var i=this._getDefaultDelegatorInfo(n,t);this.delegator&&this.delegator.triggerEvent("control.change",i)}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.textarea.repository[n]||{},widget.textarea._baseLoaded||(i=$.Class(ecount.control,widget.textarea.repository._default),r=$.Class(ecount.control.view,widget.view.textarea.repository._default),widget.textarea=$.extend(i,widget.textarea),widget.view.textarea=$.extend(r,widget.view.textarea),widget.textarea._baseLoaded=!0,n!="_default"))&&(widget.textarea[n]||(t.init||(t.init=function(){widget.textarea.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.textarea.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.textarea.prototype.createView.apply(this,arguments);var n=viewProperty;return n!="function"&&(n=$.Class(widget.view.textarea,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.textarea,widget.textarea[n]=$.Class(u,t)))}}};widget.view.textarea._export=function(){return{_default:{wrapperSet:'<div class="control-set {{multiLineCSS}} {{wrapperSetCss}} {{isWholeRow}} {{style.display}}">',template:"((textarea))[[fn]]{{bytesTemplate}}",templateItem:'<div class="control flow-right">\n<span>Bytes<\/span>&nbsp<span>{{bytes}}<\/span>&nbsp;/&nbsp;\n<span data-role="item.bytes">{{usedBytes}}<\/span>\n<\/div>',fnTemplate:"((fn))",onInitTemplate:function(n,t){if(t.isVertical===!0){var i=t.components[0].value||"",r=this.templateItem.replace("{{usedBytes}}",i.byte()).replace("{{bytes}}",t.maxBytes);n=n.replace(/(\(\(\w+\)\))/g,'<div class="control">$&<\/div>').replace("{{bytesTemplate}}",r)}else n=n.replace("{{bytesTemplate}}","");return t.multiLineCSS=t._multiLine===!1?"":"multi-line",n},onMount:function(n){this.minRowSize=n.minRowSize;this.maxRows=n.maxRows;this.flexible=n.flexible;this.hasFn=n.hasFn},onChangeAttrReadonly:function(n,t){var i=this.getElements(n);i&&i.prop("readonly",t)},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);i&&i.prop("disabled",t)},onChangeOptRows:function(n,t){var i,r;if(!t)return!1;if(i=this.getElements(n||0)[0],i){for((!i.rows||i.rows<this.minRowSize)&&(i.rows=this.minRowSize),i.style.height&&(i.style.height=null);i.clientHeight>=i.scrollHeight&&i.rows>this.minRowSize;)i.rows-=1;if(r=Math.floor((i.scrollHeight-23)/17+1),r<=this.minRowSize)return;i.rows=Math.min(r,10)}},getRows:function(n){return this.getElements(n||0)[0].rows},adjustHeight:function(n,t){if(t=t||this.getElements(n||0)[0],t)for(var i=0;t.clientHeight<t.scrollHeight;i++){if(t.rows>=this.maxRows)break;t.rows+=1}},setAutoScroll:function(){if(this.$el&&this.$el.length>0){var n=this.$el.find("textarea")[0].scrollHeight;n>0&&this.$el.find("textarea").scrollTop(n)}},setTextareaHeight:function(n){if(this.$el&&this.$el.length>0){var t=this.$el.find("textarea");t.length>0&&(n=(n+"").replace(/[^0-9]/g,""),n==""?t.css("height",""):t.css("height",n+"px"))}},onChangeUsedBytes:function(n,t){var i=this.$el.find('[data-role="item.bytes"]');i&&i.text(t)},setNotClearContent:function(){var n=this.$el.find("textarea")[0],t;cursorPosition=n.selectionEnd;n.setSelectionRange?(n.focus(),n.setSelectionRange(cursorPosition,cursorPosition)):n.createTextRange&&(t=n.createTextRange(),t.move("character",cursorPosition),t.select())},onBlur:function(){this.$el.find("textarea").blur()}}}};widget.view.textEditor._export=function(){return{_default:{},webMail:{__inheritParent:"ecount.control.view.textEditor.e02"},webMailNew:{__inheritParent:"ecount.control.view.textEditor.e03"}}};widget.textEditor={};widget.textEditor._baseLoaded=!1;widget.textEditor._export=function(){return{_default:{controlType:"widget.textEditor",viewName:"widget.view.textEditor",init:function(){ecount.control.textEditor.e01.prototype.init.apply(this,arguments)},render:function(){ecount.control.textEditor.e01.prototype.render.apply(this,arguments)},createView:function(){return this.ecview=new ecount.control.view.textEditor.e01}},webMail:{controlType:"widget.textEditor.webMail",viewName:"widget.view.textEditor.webMail",usingWebmailToolbar:!0,__inheritParent:"ecount.control.textEditor.e02",init:function(){this.rootPath="/wmail";ecount.control.textEditor.e02.prototype.init.apply(this,arguments)},onInitState:function(){ecount.control.textEditor.e02.prototype.onInitState.apply(this,arguments)},render:function(){ecount.control.textEditor.e02.prototype.render.apply(this,arguments)},destroy:function(){ecount.control.textEditor.e02.prototype.destroy.apply(this,arguments)}},webMailNew:{controlType:"widget.textEditor.webMailNew",viewName:"widget.view.textEditor.webMailNew",usingWebmailToolbar:!0,__inheritParent:"ecount.control.textEditor.e03",init:function(){this.rootPath="/wmail";ecount.control.textEditor.e03.prototype.init.apply(this,arguments)},onInitState:function(){ecount.control.textEditor.e03.prototype.onInitState.apply(this,arguments)},render:function(){ecount.control.textEditor.e03.prototype.render.apply(this,arguments)},destroy:function(){ecount.control.textEditor.e03.prototype.destroy.apply(this,arguments)}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.textEditor.repository[n]||{},i=ecount.control.textEditor,widget.textEditor._baseLoaded||(ecount.control.loadRepository(ecount.control.textEditor.e01,ecount.control.view.textEditor.e01,"widget.textEditor"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.textEditor,t,"widget.textEditor",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.textEditor")){r=t.controlType.replace("widget.textEditor.","");ecount.control.mountMixinWidget(widget.textEditor,t,"widget.textEditor",[widget.textEditor,r]);return}widget.textEditor[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.textEditor,ecount.control.mountWidget(widget.textEditor,n,i,t))}}}};widget.label={};widget.label._baseLoaded=!1;widget.label._export=function(){return{_default:{controlType:"widget.label",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)},initializeOptions:function(){ecount.control.prototype.initializeOptions.apply(this,arguments);this.fnDynamicView=!1;this.fnAlwaysShow=!0}},combineView:{controlType:"widget.label.combineView",viewName:"widget.view.label.combineView",baseType:!1,init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r){r["style.css"]="label label-default label-light label-hover cursor-pointer";ecount.control.label.prototype.onInitComponent.apply(this,arguments)},getGridSelectedLabel:function(){return this.getComponents().filter(function(n){return n["style.display"]}).map(function(n){return'<span class="label label-default label-light word-break-all text-left mb-2" style="white-space: normal !important;">'+n.label+"<\/span>"}).join("&nbsp;")},showLabelById:function(n){var t=this.getComponents().filter(function(t){return t["attr.data-value"]===n});this.setState(t[0].index,"style.display",!0);this.setState(t[0].index,"opt.notVisible",!1)},hideLabelById:function(n){var t=this.getComponents().filter(function(t){return t["attr.data-value"]===n});this.setState(t[0].index,"style.display",!1);this.setState(t[0].index,"opt.notVisible",!0)},getShowLabelList:function(){var n=[],t=this.getComponents().filter(function(n){return n["opt.notVisible"]===!1}).forEach(function(t){n.push(t["attr.data-value"])});return n},addClass:function(n,t){var i=this.getComponents().filter(function(n){return typeof t=="number"?n.index===t:n["attr.data-value"]===t});i&&i.length>0&&ecount.control.prototype.addClass.apply(this,[i[0].index,n])},removeClass:function(n,t){var i=this.getComponents().filter(function(n){return typeof t=="number"?n.index===t:n["attr.data-value"]===t});i&&i.length>0&&ecount.control.prototype.removeClass.apply(this,[i[0].index,n])}},multi:{controlType:"widget.label.multi",viewName:"widget.view.label.multi",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){r["style.css"]=u.isTextDirection=="vertical"?"label label-light label-block text-left":"label label-default label-light label-hover";ecount.control.label.prototype.onInitComponent.apply(this,arguments)}},colLabel:{controlType:"widget.label.colLabel",viewName:"widget.view.label.colLabel",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},onInitComponent:function(n,t,i,r){ecount.control.label.prototype.onInitComponent.apply(this,arguments);_.extend(r,{id:"",name:"","style.css":"virtual-td text-right","css.style":"",labelCSS:""});t==0&&(r["css.style"]="width:38%")}},stylePreview:{controlType:"widget.label.stylePreview",viewName:"widget.view.label.stylePreview",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)},onInitState:function(n,t,i){$.extend(t,{"style.font":i.font||!1,"style.fontSize":i.fontSize||!1,"style.color":i.color||!1,"style.background-color":i.backColor||!1,"style.fontWeight":i.fontWeight||!1,"style.textDecoration":i.textDecoration||!1,"style.fontStyle":i.fontStyle||!1,"style.toggle":!1})},setStyle:function(n){var r,u,t,i;if(typeof n=="object"){for(r=Object.keys(n),_IT_SELF=this._IT_SELF,i=0;i<r.length;i++){u=r[i];t=n[u];switch(u){case"font":this.setState(_IT_SELF,"style.font",t);break;case"color":this.setState(_IT_SELF,"style.color",t);break;case"backColor":this.setState(_IT_SELF,"style.background-color",t);break;case"fontWeight":this.setState(_IT_SELF,"style.fontWeight",t);break;case"textDecoration":this.setState(_IT_SELF,"style.textDecoration",t);break;case"fontStyle":this.setState(_IT_SELF,"style.fontStyle",t);break;case"fontSize":this.setState(_IT_SELF,"style.fontSize",t)}}this.setState(_IT_SELF,"style.toggle",this.getState(_IT_SELF,"style.toggle")===!1)}}},preview:{controlType:"widget.label.preview",viewName:"widget.view.label.preview",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)}},iframe:{controlType:"widget.label.iframe",viewName:"widget.view.label.iframe",init:function(){ecount.control.label.prototype.init.apply(this,arguments)},render:function(){ecount.control.label.prototype.render.apply(this,arguments)}},toggleButton:{controlType:"widget.label.toggleButton",viewName:"widget.view.label.toggleButton",checkboxClass:"label-checkbox",radioClass:"label-radio",init:function(n){this.labelToggleButtonType=_.isUndefined(n.labelToggleButtonType)?"checkbox":n.labelToggleButtonType;this.labelToggleButtonData=n.labelToggleButtonData;ecount.control.label.prototype.init.apply(this,arguments)},onInitState:function(n,t){t["opt.isToggleButtonType"]=this.labelToggleButtonType},getInitComponents:function(){for(var n=[],i=this.labelToggleButtonData,t=0,r=i.length;t<r;t++)n.push({});return n},onInitComponent:function(n,t,i,r){ecount.control.label.prototype.onInitComponent.apply(this,arguments);var f=this.labelToggleButtonData,u=f[t];_.extend(r,{id:u.id||u.label,label:u.label,value:u.value,"style.css":this.labelToggleButtonType==="checkbox"?this.checkboxClass:this.radioClass,"style.active":u.checked||!1,"style.hidden":u.hidden||!1,linkLabel:u.link?ecount.resource.BTN00168:"",linkLabelId:u.link?u.id+"_link":"","style.css":(this.labelToggleButtonType==="checkbox"?this.checkboxClass:this.radioClass)+(u.css?" "+u.css:"")})},render:function(){ecount.control.label.prototype.render.apply(this,arguments)},getTargetIndex:function(n){if(n==="all")return this._ALL_COMP;var t=this.getComponents().find(function(t){return t.id===n});return _.isUndefined(t)?0:t.index},getValue:function(n){var t=_.isNumber(n)?n:this.getTargetIndex(n);return this.getState(t,"style.active")},setValue:function(n,t){var i=this.getTargetIndex(n);this.labelToggleButtonType==="radio"&&this.setState(this._ALL_COMP,"style.active",!1);this.setState(i,"style.active",t)},setLabel:function(n,t){var i=this.getTargetIndex(n);this.setState(i,"label",t)},getHidden:function(){for(var n,t,r=[],u=this.getComponents(),i=0,f=u.length;i<f;i++)n=u[i],t={},n["style.hidden"]&&(t.key=n.id,t.value=n.value,r.push(t));return r},setHidden:function(n,t){var i=this.getTargetIndex(n);this.setState(i,"style.hidden",t)},getActiveValue:function(){return this.getComponents().filter(function(n){return n["style.active"]})},serialize:function(n){var t=n==="all"?this.getComponents():this.getActiveValue();return t.map(function(n){return{key:n.id,value:n.value,checked:n["style.active"],display:n["style.display"]}})},ON_CLICK:function(n,t,i,r){var u=n.cindex,f=this.getComponent(u),o=this.getState(u,"style.active"),e;n.ecRole==="widget-focus"?r.linkId=f.linkLabelId:(this.labelToggleButtonType==="radio"&&(e=this.getComponents(),e.forEach(function(n,t){this.setState(t,"style.active",!1)}.bind(this))),this.setState(u,"style.active",!o));_.extend(r,{id:this.id,cid:f.id,cindex:u,value:this.getValue(u),_self:this})}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.label.repository[n]||{},i=ecount.control.label,widget.label._baseLoaded||(ecount.control.loadRepository(ecount.control.label,ecount.control.view.label,"widget.label"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.label,t,"widget.label",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.label")){r=t.controlType.replace("widget.label.","");ecount.control.mountMixinWidget(widget.label,t,"widget.label",[widget.label,r]);return}widget.label[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.label,ecount.control.mountWidget(widget.label,n,i,t))}}}};widget.view.label._export=function(){return{_default:{},combineView:{template:'<div class="wrapper-toolbar">((labelList))<\/div>',render:function(n){this._mergeAttr(n);ecount.control.view.label.prototype.render.apply(this,arguments)},_mergeAttr:function(n){for(var t="",i=0;i<n.components.length;i++)t+="((label))\r\n";this.template=this.template.replace("((labelList))",t)}},multi:{template:'<div class="wrapper-toolbar">((labelList))<\/div>',render:function(n){this._mergeAttr(n);ecount.control.view.label.prototype.render.apply(this,arguments)},_mergeAttr:function(n){for(var t="",i=0;i<n.components.length;i++)t+="((label))\r\n";this.template=this.template.replace("((labelList))",t)}},colLabel:{template:'<div class="table-virtual">((label-div))((label-div))<\/div>',render:function(){ecount.control.view.label.prototype.render.apply(this,arguments)}},stylePreview:{template:"((label-div))",render:function(){ecount.control.view.label.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){this.labelCSS=t&&t.components&&t.components.length?t.components[0].labelCSS:"";var i=this.setStylePreview(t);return $.isEmpty(i)||(i="<style>"+i+"<\/style>"),i+n},setStylePreview:function(n){var t=n||this,i="";return t["style.font"]&&(i+=this.setFont(t["style.font"])),t["style.fontSize"]&&(i+=this.setFontSize(t["style.fontSize"])),t["style.color"]&&(i+=this.setColor(t["style.color"])),t["style.background-color"]&&(i+=this.setBackgroundColor(t["style.background-color"])),t["style.fontWeight"]&&(i+=this.setFontWeight(t["style.fontWeight"])),t["style.textDecoration"]&&(i+=this.setTextDecoration(t["style.textDecoration"])),t["style.fontStyle"]&&(i+=this.setFontStyle(t["style.fontStyle"])),$.isEmpty(i)||(i="."+this.labelCSS+" {"+i+"}"),i},onChangeStyleFont:function(n,t){this["style.font"]=t},onChangeStyleFontSize:function(n,t){this["style.fontSize"]=t},onChangeStyleColor:function(n,t){this["style.color"]=t},onChangeStyleBackgroundColor:function(n,t){this["style.background-color"]=t},onChangeStyleFontWeight:function(n,t){this["style.fontWeight"]=t},onChangeStyleTextDecoration:function(n,t){this["style.textDecoration"]=t},onChangeStyleFontStyle:function(n,t){this["style.fontStyle"]=t},onChangeStyleToggle:function(){var t=this.setStylePreview(),n;$.isEmpty(t)||(n=this.$el.find("style"),n&&n.html(t))},setFont:function(n){var t="";return n.forEach(function(n,i){t+=(i==0?"'":",'")+n.replace("-"," ")+"'"}),"font-family:"+t+";"},setFontSize:function(n){return"font-size:"+n+"px;"},setColor:function(n){return"color:"+n+";"},setBackgroundColor:function(n){return"background-color:"+n+";"},setFontWeight:function(n){return"font-weight:"+n+";"},setTextDecoration:function(n){return"text-decoration: "+n+";"},setFontStyle:function(n){return"font-style: "+n+";"}},preview:{template:"((label-div1))",divTemplate:"((label-div2))",onInitTemplate:function(n,t){var r=t.components[0],i=r.label.getTags("");return i&&i.length>0?this.divTemplate:n}},iframe:{template:"((label-iframe))"},toggleButton:{template:'<span class="label {{style.css}} {{style.active}} {{style.hidden}}" id="{{id}}" value="{{value}}" data-index="{{index}}" data-cid="{{cid}}" data-ecpath="{{ecPath}}"><span data-index="{{index}}" data-cid="{{cid}}" data-ecpath="{{ecPath}}">{{label}}<\/span>{{linkTemplate}}<\/span>',linkTemplate:'<span class="inline-divider {{style.display}}"><\/span><a href="javascript:;" id="{{linkLabelId}}" class="text-light {{style.display}}" data-role="widget-focus" data-index="{{index}}" data-ecpath="{{ecPath}}" data-cid="{{linkLabelId}}">{{linkLabel}}<\/a>',render:function(){ecount.control.view.label.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){for(var i,u,f=t.components,e=[],r=0,o=f.length;r<o;r++)i=f[r],u="",_.isEmpty(i.linkLabel)||(u=ecount.widget.replaceAttr(this.linkTemplate,{index:i.index,linkLabel:i.linkLabel,linkLabelId:i.linkLabelId,"style.display":i["style.active"]?"":"hidden"})),this.template=ecount.widget.replaceAttr(n,{id:i.id,label:i.label,index:i.index,value:i.value,"style.css":i["style.css"],"style.active":i["style.active"]?"active":"","style.hidden":i["style.hidden"]?"hidden":"",linkTemplate:u}),e.push(this.template);return e.join("")},onChangeStyleActive:function(n,t){var i=this.getElements(n),r=i.find(".inline-divider"),u=i.find("a");i.hasClass("label-radio")?(this.$el.find(".label-radio").each(function(){$(this).removeClass("active");$(this).children().addClass("hidden");$(this).children().eq(0).removeClass("hidden")}),i.addClass("active"),r.removeClass("hidden"),u.removeClass("hidden")):(t?i.addClass("active"):i.removeClass("active"),i.hasClass("active")?(r.removeClass("hidden"),u.removeClass("hidden")):(r.addClass("hidden"),u.addClass("hidden")))},onChangeStyleHidden:function(n,t){var i=this.getElements(n);t?i.addClass("hidden"):i.removeClass("hidden")},onChangeLabel:function(n,t){var i=this.getElements(n).children().eq(0);i.text(t)}}}};widget.link={};widget.link._baseLoaded=!1;widget.link._export=function(){return{_default:{controlType:"widget.link",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments);this.__HEADLESS=!1;this.__HEADLESS_STATUS=0},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},attachView:function(n){this.__HEADLESS_STATUS!=2&&(this.__HEADLESS_STATUS=2,this.ecview||this.createView(),this.renderView(n||this._$parent),this.__HEADLESS=!1,this._onAfterRender())},initializeOptions:function(n){ecount.control.anchor.prototype.initializeOptions.apply(this,arguments);this.fnDynamicView=!1;this.fnAlwaysShow=!0;this._preventLayerOpenByHover=n.preventLayerOpenByHover||!1;var t=this.hasIconCSS(n.ownDropdownOptions);t&&(this.hasDropdownLayerIcon=!0,this.isSetDropdownSize=!0);n.ownDropdownOptions=n.ownDropdownOptions&&n.ownDropdownOptions.map(function(n){return n.liCss=n.iconCSS,n})},checkOptions:function(){return this._addonTitle||this.hasFn},setSelector:function(){return this.$el.find("a").eq(0)},showDropdown:function(n){var t={handler:".layer.dropdown",ecService:"layer.dropdown",cindex:0,cid:this.cid,ecPath:this.getEcPath()},i=this.hasIconCSS(n.items);i&&(this.hasDropdownLayerIcon=!0,this.isSetDropdownSize=!0);_.extend(n,{_onClicked:!0});this._showLayer(t,{},n)},hasIconCSS:function(n){return n&&n.filter(function(n){return!!n.iconCSS||!!n.liCss}).length>0?!0:!1},ON_CLICK:function(n){if(ecount.control.anchor.prototype.ON_CLICK.apply(this,arguments),this.isGridV3){var i={type:"button.click"},t=[this.id];!n.gridID||t.unshift(n.gridID);i.command=t&&"on"+t.map(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join("");ecount.control.prototype.executeChangeDelegator.call(this,i)}}},icon:{controlType:"widget.link.icon",viewName:"widget.view.link.icon",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r){ecount.control.anchor.prototype.onInitComponent.apply(this,arguments);r["style.iconcss"]=r.iconCSS;r["style.labelcss"]=r.labelCSS;try{delete r.iconCSS;delete r.labelCSS}catch(u){r.iconCSS=null;r.labelCSS=null}r["style.preventPointer"]=r.preventPointer&&"cursor-default text-uline-no"||""},setTextWarning:function(n){return this.setState(n,"style.labelcss","text-warning")},setTextMuted:function(n){return this.setState(n,"style.labelcss","text-muted")}},iconPopover:{controlType:"widget.link.iconPopover",viewName:"widget.view.link.iconPopover",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){ecount.control.anchor.prototype.onInitComponent.apply(this,arguments);r["style.iconcss"]=r.iconCSS||"";r["style.labelcss"]=r.labelCSS||"";try{delete r.iconCSS;delete r.labelCSS}catch(f){r.iconCSS=null;r.labelCSS=null}u.usePopover&&(r.usePopover=u.usePopover,r.thumbnail=u.thumbnail||null)}},caret:{controlType:"widget.link.caret",viewName:"widget.view.link.caret",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){ecount.control.anchor.prototype.onInitComponent.apply(this,arguments);i.components=i.components.map(function(n){return n["style.direction"]=u.direction||"down",n})},ON_CLICK:function(n){var t=n.cindex,i=this.getComponent(t)["style.direction"];this.setState(t,"style.direction",i=="up"?"down":"up")}},dataToggle:{controlType:"widget.link.dataToggle",viewName:"widget.view.link.dataToggle",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){ecount.control.anchor.prototype.onInitComponent.apply(this,arguments);r["style.css"]=(u.css||"")+(u.collapse===!1?"collapsed":"");r["attr.href"]=u._dataToggleId||"";r["attr.collapse"]=u.collapse===!1?!1:!0;r["data-toggle"]="collapse";r.directToggle=u.directToggle===!0?!0:!1},ON_CLICK:function(n,t,i,r){var u=i.getState(0,"directToggle");u||this.toggleCollapse();r.collapse=this.getToggleState()},toggleCollapse:function(n,t){n=n?n:0;var i=_.isBoolean(t),r=i?t:!this.getState(n,"attr.collapse");this.setState(n,"attr.collapse",r)},getToggleState:function(n,t){return t=t?t:0,this.getState(t,"attr.collapse")}},subLabel:{controlType:"widget.link.subLabel",viewName:"widget.view.link.subLabel",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){r["attr.subLabel"]=r.subLabel||u.subLabel||"";r["attr.popupURL"]=r.popupURL||u.popupURL||"";ecount.control.anchor.prototype.onInitComponent.apply(this,arguments)}},otherRef:{controlType:"widget.link.otherRef",initializeOptions:function(n,t){var i=t.config;$.extend(this,{callbackForClickLayer:n.callBack,editable:n.editable,UPDATE_API_URL:i?i.UPDATE_API_URL||"":"",_callbackID:n._callbackID,hasWrapper:n.hasWrapper});this.fnAlwaysShow=this.fnDynamicView===!1},getInitComponents:function(){return[{id:this.id,label:""}]},getLayerServiceKey:function(n){var t;switch(n.ecService){case ecount.layer.constValue.FN:t="fn";break;default:t=this._layerKey}return ecount.common.makeServiceKey(n.ecPath,t)},getLayerDropdownOption:function(n,t){var i=this.getComponent(n.cindex);return $.extend(this.getLayerDefaultOption(n,t),{items:i.items||[],baseType:!0})},_getDropdownItems:function(n){return n.map(function(n,t){return{id:t,label:ecount.resource[n.RESX_CODE],value:n.CLASS_SEQ,css:n.IS_MENU_LINK?"text-default":"",isFooter:!!n.IS_MENU_LINK}})},_getTableItems:function(n){for(var i,r,u,f=[],t=0,e=n.length;t<e;t++)i=n[t],r=[],i.IS_MENU_LINK?r.push(this._getMenuLinkData(i,t)):(r.push(this._getControlHeaderData(i,t)),i.SHOW_LINK.length&&(u=[],i.SHOW_LINK.reduce(this._getHiddenDropdownItems.bind(this,t),u),r.push({__type:"LINK",items:u}))),f.push(r);return f},_getMenuLinkData:function(n,t){return{label:ecount.resource[n.RESX_CODE],value:n.VALUE,position:widget.generator.FOOTER,css:"text-default",index:t,forceLink:n.FORCE_MENU_LINK}},_getControlHeaderData:function(n,t){return{label:this.notUseTitleResource?n.RESX_CODE:ecount.resource[n.RESX_CODE],value:n.VALUE,__type:"LABEL",position:widget.generator.CONTENTS,index:t,forceLink:n.FORCE_MENU_LINK}},_getHiddenDropdownItems:function(n,t,i,r){return t.push({label:ecount.resource[i.NAME],ecFunction:"layer.link",ecFunctionId:n,position:widget.generator.CONTENTS,index:r}),t},getLayerTableOption:function(){var n=ecount.control.anchor.prototype.getLayerTableOption.apply(this,arguments);return $.extend(n,{"style.css":"generate-other-slips","style.tableCss":"table-hover table-th-left table-border-no-a table-nowrap"})},_callUpdateAPI:function(n){ecount.common.api({ecPageID:this.ecPageID,url:this.UPDATE_API_URL,data:Object.toJSON(n.UPDATE_API_PARAM),success:function(){},error:function(n){console.log(n)}})},_ON_BEFORE_MOUSEOVER:function(n){return this.hasFn&&n.ecService=="layer.fn"?!0:!1},_ON_BEFORE_CLICK:function(){return this.editable?ecount.control.prototype._ON_BEFORE_CLICK.apply(this,arguments):!1},ON_CLICK:function(){return ecount.control.prototype.ON_CLICK.apply(this,arguments),!1},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.ecRole){case"layer.contents":return this.onContentsLinkClickHandler(n,t,i,r);case"layer.footer":return this.onFooterLinkClickHandler(n,t,i,r);default:return}},onContentsLinkClickHandler:function(n,t,i,r){var o=this.getComponent(0).rawInitData,e=r.dataset,s=e.functionid,h=e.index,f=o[+s],c=f.SHOW_LINK[h],u={VALUE:c.VALUE,MENU_SEQ:f.MENU_SEQ};if(!f||(this._callUpdateAPI(f),!this.callbackForClickLayer))return!1;u=this.callbackForClickLayer($.extend(u,f));u&&(u.url&&u.url.toUpperCase().indexOf("SVC")>=0&&u.MENU_TYPE=="SLIP"&&(u.Request={EditMode:ecenum.editMode.new,FromProgramId:u.FROM_PRG_ID,Data:{callPageName:u.callPageName},UIOption:{Width:800,Height:780}}),this.openPopup(u))},onFooterLinkClickHandler:function(n,t,i,r){var e=this.getComponent(0).rawInitData,o=r.dataset,s=o.index,u=e[s],f={};if(!this.callbackForClickLayer)return!1;f=this.callbackForClickLayer($.extend(!0,{IS_MENU_LINK:!0},u));$.isEmptyObject(f)||this.openPopup($.extend(f,{width:500,height:500,url:u.URL_PATH,MENU_TYPE:u.CLASS_CD,MENU_SEQ:u.MENU_SEQ}))},_sendMessage:function(n,t){n||(n={pageID:this.popupURL?this.popupURL.split("/").last():""});n.controlID=this.id;t.control=this;ecount.global.executeCallbak(this.ecPageID,this.responseID,n,t)},openPopup:function(n){var t=$.extend({},n,{width:n.width||900,height:n.height||600,name:(this.popupType===!0?this.id:this.subTitle)||"",url:n.url,popupType:n.popupType===!0,responseID:this._callbackID||this.callbackID});this.delegator||ecount.popup.openWindow({url:n.url,name:t.name||"control_popup",param:$.extend(t,{alreadyIncludedLayout:!0,__ecPageID:this.__ecPageID,parentPageID:this.parentPageID,popupLevel:this.popupLevel}),popupType:t.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID});this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:t,handler:function(n,t,i,r){var u={url:n.url,name:n.name||ecount.resource.LBL06789,param:$.extend({},n,{additional:"",modal:"",responseID:n.responseID||t,popupLevel:r,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0}),popupType:n.popupType,modal:n.modal||this._modal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:n.additional,parentPageID:i||this.parentPageID,fpopupID:n.fpopupID||this.ecPageID,popupID:n.popupID||this.ecPageID};ecount.popup.openWindow(u)}.bind(this)})}},boardRefPost:{__inheritParent:"widget.link.otherRef",controlType:"widget.link.boardRefPost",viewName:"widget.view.link.boardRefPost",editable:!0,hasWrapper:!0,notUseTitleResource:!0,onInitComponent:function(n,t,i,r,u){if(ecount.control.anchor.prototype.onInitComponent.apply(this,arguments),n&&n.result&&n.config){var e=n.result,o=n.config,s=o.UI_TYPE=="TABLE",f;f=u.layerItems?u.layerItems:e.Data;$.extend(r,{ecService:s?"layer.table":"layer.dropdown",ecServiceAttr:"layer.fixed",label:ecount.resource[o.BUTTON_NAME]||r.label,items:s?this._getTableItems(f):this._getDropdownItems(f),rawInitData:e.Data})}}},boardRefSlip:{__inheritParent:"widget.link.otherRef",controlType:"widget.link.boardRefSlip",viewName:"widget.view.link.boardRefSlip",editable:!0,hasWrapper:!0,onInitComponent:function(n,t,i,r,u){if(ecount.control.anchor.prototype.onInitComponent.apply(this,arguments),n&&n.result&&n.config){var e=n.result,o=n.config,s=o.UI_TYPE=="TABLE",f;f=u.layerItems?u.layerItems:e.Data;$.extend(r,{ecService:s?"layer.table":"layer.dropdown",ecServiceAttr:"layer.fixed",label:ecount.resource[o.BUTTON_NAME]||r.label,items:s?this._getTableItems(f):this._getDropdownItems(f),rawInitData:e.Data})}}},approvalRefSlip:{__inheritParent:"widget.link.otherRef",controlType:"widget.link.approvalRefSlip",viewName:"widget.view.link.approvalRefSlip",editable:!0,hasWrapper:!0,onInitComponent:function(n,t,i,r){if(ecount.control.anchor.prototype.onInitComponent.apply(this,arguments),n&&n.result&&n.config){var u=n.result,f=n.config,e=f.UI_TYPE=="TABLE";$.extend(r,{ecService:e?"layer.table":"layer.dropdown",ecServiceAttr:"layer.fixed",label:ecount.resource[f.BUTTON_NAME]||r.label,items:e?this._getTableItems(u.Data):this._getDropdownItems(u.Data),rawInitData:u.Data})}}},approvalOutput:{__inheritParent:"widget.link.otherRef",controlType:"widget.link.approvalOutput",viewName:"widget.view.link.approvalOutput",editable:!0,hasWrapper:!0,initializeOptions:function(n){widget.link.otherRef.prototype.initializeOptions.apply(this,arguments);n.ecServiceTrigger&&(this.ecServiceTrigger=n.ecServiceTrigger)},onInitComponent:function(n,t,i,r){if(ecount.control.anchor.prototype.onInitComponent.apply(this,arguments),n&&n.result&&n.config){var u=n.result,f=n.config,e=f.UI_TYPE=="TABLE";$.extend(r,{ecService:e?"layer.table":"layer.dropdown",ecServiceAttr:"layer.fixed",label:ecount.resource[f.BUTTON_NAME]||r.label,items:e?this._getTableItems(u.Data):this._getDropdownItems(u.Data),rawInitData:u.Data})}},_ON_BEFORE_MOUSEOVER:function(n){return this.hasFn&&n.ecService=="layer.fn"||this.ecServiceTrigger=="mouseover"&&n.ecService=="layer.table"?!0:!1}},file:{viewName:"widget.view.link.file",_defaultUploaderConfig:{url:"/ECAPI/Common/Infra/SaveTempFile",autostart:!1,chunk_size:ecount.common.parseSize("20mb"),extensions:"ai,alz,bmp,cp,csv,doc,docx,dwg,gif,gul,hst,hts,htst,hwp,hwx,jpeg,jpg,mht,odp,ods,odt,pdf,ppt,pptx,rar,tif,tiff,txt,xls,xlsm,xlsx,zip,png,drw,hwpx,hwt,cell,nxl,hcdt,show,hpt,dxf,egg,numbers,psd",dragdrop:!1,attach_file_size:0,max_file_size:ecount.common.parseSize("2gb"),multi_selection:!1,prevent_duplicates:!0,multipart_param:{},tot_size_lmt:{size:"1",flag:!1},com_storage_size:{size:"1",flag:!1},use_storage_size:{size:"1",flag:!1},menu_code:ecenum.filemenuCode.gw03,is_free_groupware:!1,isGMC:!1},_defaultMassStorageConfig:{max_attach_file_size:ecount.common.parseSize("20mb"),big_file_size:0,big_file_start_date:new Date,big_file_end_date:(new Date).addDays(30)},_defaultNewFileStorageConfig:{collection:null,partition:null,comcode:"",owner_key:"",severalOwner_key:!1,storage_host_number:0,upload_path:"/SaveTempFile/",temp_file_lifetime:ecenum.tempfileLifetime.infinity},_canUseDndZone:!0,_storageSizeCheckPassFlag:!1,initializeOptions:function(n){var t=this.group=n.group||{};this.group=this.optInitData=_.merge(!0,{uploaderConfig:n._uploaderConfigs||this._defaultUploaderConfig,newFileStorageConfig:this._defaultNewFileStorageConfig,massStorageConfig:this._defaultMassStorageConfig,uploadFiles:[],insertErrorLog:$.isEmpty(n.insertErrorLog)?!0:n.insertErrorLog},t);$.extend(this,{_isEditable:n._isEditable||!0,_useCloudDriver:n._useCloudDriver,dndID:n.dndID,HID:n.HID,EditFlag:n.EditFlag,onAddFileSuccess:n.onAddFileSuccess,onChangeStatus:n.onChangeStatus,onComplete:n.onComplete,onError:n.onError,getCloudValue:n.getCloudValue,_errorCallback:n._errorCallback,_tempCallback:n._tempCallback,_callback:n._callback,changeFileUploadStatus:n.changeFileUploadStatus,setCloudSelectValue:n.setCloudSelectValue,checkLimitTotalCount:n.checkLimitTotalCount||function(){return!0},removeFileByError:n.removeFileByError||function(){return!0},getParentAttachFilesInfo:n.getParentAttachFilesInfo,checkLimitRealFile:n.checkLimitRealFile,realFilesChekMode:n.realFilesChekMode,limitTotalRealFilesErrorCallback:n.limitTotalRealFilesErrorCallback,isPdfOptions:n.isPdfOptions,_isUploading:!1});this.group.uploaderConfig.isPdfOptions=n.isPdfOptions;this.isPdfOptions=n.isPdfOptions;this.pdfConvertBlobList=null;this.oldFileInfo=null;n._storageSizeCheckPassFlag&&(this._storageSizeCheckPassFlag=!0);this.fileManageQueue=this.createFileManageQueue();this.syncFiles=[];this._initFileManager(n)},isUploading:function(n){return _.isBoolean(n)&&(this._isUploading=n),this._isUploading},initializeViewOptions:function(n){$.extend(this.__viewOptions,{config:this.optInitData,_canUseDndZone:this._canUseDndZone,dndID:n.dndID,isUploading:this.isUploading.bind(this)},this.getFileHandler())},onInitState:function(n,t){$.extend(t,{initplupload:!1,"file.add":{},"file.remove":{},"file.status":!1,"upload.errorcode":"","upload.message":"","upload.triggername":"","upload.file":{},"upload.toggle":!1})},getInitComponents:function(n,t,i){return[{cid:i.id,label:ecount.resource.LBL02929}]},getFileHandler:function(){return{onAddFile:this.onAddFile.bind(this),onAddFileSuccess:this.onAddFileSuccessBridge.bind(this),onChangeStatus:this.onChangeStatusBridge.bind(this),onUploaded:this.onUploadedBridge.bind(this),onComplete:this.onCompleteBridge.bind(this),onError:this.onErrorBridge.bind(this)}},_initFileManager:function(){this.fileManager||(this.fileManager=new ecount.fileManager({ecPageID:this.ecPageID,initData:$.extend(!0,{},this.optInitData),handler:_.extend(this.getFileHandler(),{onError:this._onErrorBridge.bind(this)})}))},createFileManageQueue:function(){var n=[],t=0;return{add:function(t){n.push(t)},remove:function(){n=[];t=0},execute:function(){var i=n[t];t++;i()},isEmpty:function(){return n.length-t==0},get:function(){return n}}},addQueueFunction:function(n,t){var i=Array.prototype.slice.apply(arguments),i=i.slice(2);n.forEach(function(n){var r=Object.clone(i);r.unshift(n);this.fileManageQueue.add(function(){t.apply(this,r)})}.bind(this))},onAddFile:function(n,t,i,r,u){function h(){i.forEach(function(n){this.setState(this._IT_SELF,"file.remove",n)}.bind(this))}function v(n){var e;if(n&&n.Data&&this.fileManager.setConfigsize({provider_seq:ecount.cloudStorage.INNER,result:n}),!_.isNull(this.isPdfOptions)&&this.isPdfOptions.isPdfMode)if(e=i[0],$.isEmpty(e)==!0||e.status==5)this.addQueueFunction(i,this._onAddFileNext.bind(this),u,r),this._onAddFile();else if($.isEmpty(e)==!1){ecount.testLog&&console.log(" ****SUCCESS**** [callOnAddFile] Blob 객체 변환 시작 ");this.delegator&&this.delegator.triggerEvent("page.toggleProgressbarLayer");var t=this,o=this.getBlobTotalPageCount(),s=this.getBlobTotalSize(),h={pdfToImageMaxPageCount:t.getBlobMaxPageCount(),prevPdfToImageMaxPageCount:o,pdfToImageMaxSize:t.getBlobMaxSize(),prevPdfToImageMaxSize:s,isBreak:!1},f=i.map(function(n){return{id:n.id,name:n.name,file:n,fileDataUrl:URL.createObjectURL(n.getNative()),imageData:null,imageCount:0,imageSize:0,isDelete:!1,isDeleteType:""}});f.reduce(function(n,t){return n.then(function(){return ecount.common.getConvertPdfToImageBlob(t,h)})},Promise.resolve()).then(function(){var h,o,e,s,n,c;for(ecount.testLog&&(h=f.reduce(function(n,t){return n.totalCount+=_.get(t,"imageCount",0),n.totalSize+=_.get(t,"imageSize",0),n},{totalCount:0,totalSize:0}),console.log(" ****SUCCESS**** [pdfMaterials reduce] PDF loaded [imageTotalMaxSize: %o] [totalCount: %o] [totalSize: %o] ",t.getBlobMaxSize(),h.totalCount,h.totalSize)),ecount.testPdfImageDownload&&f.forEach(function(n){var t=_.get(n,"imageData.result",[]),i=n.fileData.name.split(".")[0];t.forEach(function(n,t){ecount.common.getBlobImageDownload(i+"_"+(t+1),n)})}),ecount.testLog&&console.log(f),o=!1,e="",s=0;s<f.length;s++)n=f[s],n.isDelete&&(o=!0,e=e?e:n.isDeleteType,c=i.find(function(t){return t.id==n.id}),c&&t.setState(t._IT_SELF,"file.remove",c),_.remove(i,function(t){return t.id==n.id})),n.file=null,n.fileDataUrl=null;t.pdfConvertBlobList=_.concat(t.pdfConvertBlobList||[],f.filter(function(n){return!n.isDelete}));t.addQueueFunction(i,t._onAddFileNext.bind(t),u,r);t._onAddFile();o&&e=="maxPageCount"?ecount.alert(String.format(ecount.resource.MSG10663,t.getBlobMaxPageCount())):o&&e=="maxSize"?ecount.alert(String.format(ecount.resource.MSG10972,t.getBlobMaxSize()/Math.pow(1024,2))):o&&ecount.alert(ecount.resource.LBL21267)},function(n){ecount.testLog&&console.log(" %%%%ERROR%%%% [pdfMaterials reduce] ",n);ecount.alert("[error: "+_.get(n,"code","4000")+"]<br/>"+ecount.resource.MSG09969)}).catch(function(n){ecount.testLog&&console.log(" %%%%ERROR%%%% [pdfMaterials] ",n);ecount.alert("[error: "+_.get(n,"code","5000")+"]<br/>"+ecount.resource.MSG09969)}).finally(function(){ecount.testLog&&console.log(" ====FINALLY==== [pdfMaterials] ");t.delegator&&t.delegator.triggerEvent("page.hideProgressbar")})}else console.log(" %%%%ERROR%%%% [callOnAddFile] 첨부파일을 찾을 수 없습니다 ");else this.addQueueFunction(i,this._onAddFileNext.bind(this),u,r),this._onAddFile();this.isUploading(!1)}var o,f,l,s,e,c,a;if(this.checkLimitTotalCount(i,h.bind(this))==!1)return!1;if(this.realFilesChekMode){if(o=this.linkFileBasicError?_.merge({},this.linkFileBasicError):!1,this.linkFileBasicError=null,f=this.checkLimitRealFile?this.checkLimitRealFile(i,h.bind(this)):!1,f&&f.name!="4000"&&!o)return this.limitTotalRealFilesErrorCallback&&this.limitTotalRealFilesErrorCallback(f),!1;if(o)return i.length>0&&h.call(this),!1}if(this.group.usingMassStorage&&this.getParentAttachFilesInfo&&(l=this.getParentAttachFilesInfo(),s=_.get(this.group,"massStorageConfig.max_attach_file_size"),i.reduce(function(n,t){return n+=t.size,t.size>=s?t.uptypeForce=3:n>=s&&(t.uptypeForce=2),n}.bind(this),_.get(l,"totalFileSize",0))),this.EditFlag=="M"&&this.HID==0)return e="",$.each(i,function(n,t){e+=String.format("<br> - {0}",t.name)}),e.length>0&&ecmodule.common.slipLink.attachFailAlarm(e),!1;c=ecount.global.getPublicInfo(this.ecPageID,"fileSizeInfo");a=i.filter(function(n){return n.status!="5"});c||this.isStorageSizeCheckPass()==!0||i.length>0&&a.length==0?v.call(this,c):this.getStorageFileSize().then(v.bind(this)).catch(function(n){return console.log(" ▶ getStorageFileSize catch: ",n),this.fileManager.handler.onError&&this.fileManager.handler.onError({file:"",code:plupload.COM_STORAGE_SIZE_ERROR,message:String.format(ecount.resource.MSG08613),isOnFileAdd:!0}),this.isUploading(!1),!1}.bind(this));!r&&i&&i.filter(function(n){return n.status==1}).length>0&&ecmodule.common.slipLink&&ecmodule.common.slipLink.saveCmcoAttachHistory({FROM_PRG_ID:this.getSettingConifg().prgId,TO_PRG_ID:"",ATTACH_TYPE:"01"})},getBlobList:function(){return _.isEmpty(this.pdfConvertBlobList)?[]:this.pdfConvertBlobList.reduce(function(n,t){return _.concat(n,t.imageData||[])},[])},getBlobListInfo:function(){return this.pdfConvertBlobList||[]},getBlobTotalSize:function(n){var t=0;return this.group.uploadFiles.forEach(function(i){t+=n&&i.status==plupload.DONE?0:i.isBlobSize||0}),t},getBlobMaxSize:function(){return this.isPdfOptions.pdfToImageMaxSize||0},getBlobTotalPageCount:function(n){var t=0;return this.group.uploadFiles.forEach(function(i){t+=n&&i.status==plupload.DONE?0:_.get(i,"pages.length",0)}),t},getBlobMaxPageCount:function(){return this.isPdfOptions.pdfToImageMaxPageCount||0},clearBlobList:function(n){n?_.remove(this.pdfConvertBlobList,function(t){return t.id==n}):this.pdfConvertBlobList=null},getStorageFileSize:function(){return new Promise(function(n,t){ecount.common.api({ecPageID:this.ecPageID,url:"/SVC/Common/Infra/GetAttachFileSize",success:function(t){ecount.global.setPublicInfo(this.ecPageID,"fileSizeInfo",t);n(t)}.bind(this),error:function(n){t(n)}})}.bind(this))},isStorageSizeCheckPass:function(){var t=!1,n=this.fileManager.getSettingConifg();return n&&n.uploaderConfig&&n.uploaderConfig.com_storage_size&&n.uploaderConfig.com_storage_size.size==0?t=!0:n&&n.usingMassStorage===!0?t=!0:this._storageSizeCheckPassFlag&&(t=!0),t},_onAddFile:function(n,t){this.fileManageQueue.isEmpty()?(this.fileManageQueue.remove(),this._onAddFileComplete(n,t)):this.fileManageQueue.execute()},_onAddFileNext:function(n,t,i){var u,f,r,n,e;n&&(n.id=n.id||n.file_id||ecount.common.uuid(this.id),this._useCloudDriver?(this._useCloudDriver&&(r=this.getCloudValue()),u=r.split(ecount.delimiter)[0],f=r.split(ecount.delimiter)[1],n.provider_seq=u,n.account=f):n.provider_seq=n.provider_seq||ecount.cloudStorage.INNER,i||this.syncFiles.push(Object.clone(n,!0)),e={file:n,isScrolling:this.fileManageQueue.isEmpty(),isCloudChange:t,sync:i},this.fileManager.validate(e))},onAddFileSuccessBridge:function(n){var t=n.file,i=n.isCloudChange,f=n.isScrolling,r=n.sync,u=this.group;if(this.isPdfOptions&&(u.isPdfMode=this.isPdfOptions.isPdfMode),!i){this.setUploadFiles(t,r);this.onAddFileSuccess(t,$.extend(!0,{},u),f)}this._onAddFile(i,r)},_onAddFileComplete:function(n,t){t||(this.executeChangeDelegator({cid:this.id}),this.syncFiles=[])},_getValueForDelegate:function(){return $.extend(!0,[],this.syncFiles)},setUploadFiles:function(n,t){this.group.uploadFiles.push(n);this._isEditable&&(n.status==plupload.DONE||t===!0)&&this.setState(this._IT_SELF,"file.add",n)},onChangeStatusBridge:function(n,t,i,r){this.onChangeStatus(n,t,i,r)},onUploadedBridge:function(n,t){var r,i;if(!n)return!1;if(n.provider_seq==ecount.cloudStorage.INNER)n.target_name=n.id+"."+n.name.split(".").pop(),n.result=$.extend({},{id:n.id,response:$.isEmpty(t.target.response)?"":$.parseJSON(t.target.response)}),($.isNull(this._responses)||this._responses.length>0)&&(this._responses=[]),this._responses.push(n.result);else if(r=this.group.uploadFiles.filter(function(t){return t.id==n.id}),r.length==1){switch((n.provider_seq||"").toString()){case ecount.cloudStorage.GOOGLEDRIVER:case ecount.cloudStorage.ONEDRIVER:case ecount.cloudStorage.DROPBOX:i=JSON.parse(t.target.response).id;break;case ecount.cloudStorage.BOX:i=JSON.parse(t.target.response).entries[0].id}i&&(r[0].id=i,console.log(n.provider_seq+" : "+i))}},onCompleteBridge:function(){this.onComplete(this._responses)},getAddedFileCount:function(){return this.group.uploadFiles.length},removeItem:function(n,t){this.setRemoveFiles(t);t.uptype<=1?this.fileManager.setAttach_file_size("-",t.size):this.fileManager.setBig_file_size("-",t.size)},setRemoveFiles:function(n){var t=this.group;n.uptype>0?t.errorFiles.first()&&t.errorFiles.first().id==n.id&&t.errorFiles.remove():t.removeFiles.push(n);t.uploadFiles=t.uploadFiles.filter(function(t){return t.id!=n.id});this.setState(this._IT_SELF,"file.remove",n)},removeUploadFileAll:function(){this.group.uploadFiles.forEach(function(n){this.removeItem(null,n)}.bind(this))},getAttach_file_size:function(){return this.fileManager.getAttach_file_size()},getBig_file_size:function(){return this.fileManager.getBig_file_size()},setUploadTrigger:function(n,t){t=t||{};for(var i in t)$.isNull(this.getState(n,"upload."+i))||this.setState(n,"upload."+i,t[i]);this.setState(n,"upload.toggle",!0);this.resetUploadTrigger(n,t)},resetUploadTrigger:function(n,t){t=t||{};for(var i in t)$.isNull(this.getState(n,"upload."+i))||this.setState(n,"upload."+i,"");this.setState(n,"upload.toggle",!1)},getFileInfo:function(){return this.group.uploadFiles.select(function(n){if(n.uptype==1)return{id:n.id+"."+n.name.split(".").pop(),name:n.name}})},getFile:function(n){return this.group.uploadFiles.find(function(t){return t.id==n})},getOwnerKey:function(){var n=this.group;return n&&n.newFileStorageConfig&&this.fileManager.getOwnerKey()},setOwnerKey:function(n){this.fileManager.setOwnerKey(n)},getUploadFiles:function(n){return $.isNumber(n)?this.group.uploadFiles.filter(function(t){return t.status==n}):this.group.uploadFiles},getRemoveFiles:function(){return this.group.removeFiles},getTotalSize:function(){var n=0;return this.group.uploadFiles.forEach(function(t){n+=t.size||0}),n},getQueuedFileInfo:function(n){var t=this.group,i=[];return t&&t.uploadFiles.forEach(function(t){t.status==plupload.QUEUED&&t.uptype==1&&i.push(t[n])}),i},getQueuedFile:function(){var n=[];return this.group.uploadFiles.forEach(function(t){t.status==plupload.QUEUED&&t.uptype==1&&n.push(t)}),n},_startUpload:function(){var n=this.group.uploadFiles.filter(function(n){return n.status!=plupload.DONE});n.length?($.isFunction(this._fileSizeErrorCallBack)&&(this.fileManager._fileSizeErrorCallBack=this._fileSizeErrorCallBack),this.fileManager.startUpload(n)):this.onComplete()},startUpload:function(n,t,i){var r,u,f;$.isFunction(n)&&(this._tempCallback=n);$.isFunction(t)&&(this._errorCallback=t);$.isFunction(i)&&(this._fileSizeErrorCallBack=i);this._tempFileCount=0;r=this.group;u=r.errorFiles.pop();u&&(u.status=plupload.STARTED,u.loaded=0,this.setUploadTrigger({triggername:"UploadFile",file:u}));r.uploaderConfig.isGMC===!0?ecount.common.gmcSessionApi({sessionURL:r.uploaderConfig.url,callbackApi:function(n){this.fileManager.setFileUploadUrl(n);this._startUpload()}.bind(this)}):(f=r.uploadFiles.filter(function(n){return n.status!=plupload.DONE}),f.length>0&&typeof this.fileManager.checkStorageQuota=="function"?this.fileManager.checkStorageQuota(f,function(){this._startUpload()}.bind(this),null,function(){_.isFunction(this.onError)&&this.onError()}.bind(this)):this._startUpload())},_onErrorBridge:function(n){var i=n.isCloudChange,r=n.isOnFileAdd,u=this.group,t;if(i||!~_.indexOf(["default","NotFoundError"],n.code)||(t=this.group.uploadFiles.select(function(n){if(n.uptype==1)return{id:n.id,name:n.name,uptype:n.uptype}})||[],t.length>0&&t.forEach(function(n){this.removeItem(null,n);this.removeFileByError(n,$.extend(!0,{},u))}.bind(this))),this.setUploadTrigger(this._IT_SELF,{triggername:"Error",errorcode:n.code||"",message:n.message||""}),_.isFunction(this.onError)&&this.onError(),i==!0){this.setCloudSelectValue();this.fileManageQueue.remove();return}r&&this._onAddFile()},onErrorBridge:function(n,t,i){var r="",e=this.group,u=ecount.resource,o,f;this.realFilesChekMode&&(this.linkFileBasicError=null);switch(i.code){case plupload.FILE_EXTENSION_ERROR:r=String.format(u.MSG05733,e.uploaderConfig.extensions.toUpperCase().replaceAll(",",", "));break;case plupload.FILE_SIZE_ERROR:r=String.format(u.MSG03587,Number.formatSize(plupload.parseSize(t.settings.filters.max_file_size)));break;case plupload.FILE_DUPLICATE_ERROR:r=String.format(u.MSG07500,i.file.name);break;case plupload.FILE_COUNT_ERROR:r=String.format(u.MSG04180,t.settings.max_file_count);break;case plupload.TOT_SIZE_LMT_ERROR:r=String.format(u.MSG03611,Number.formatSize(t.settings.tot_size_lmt));break;case plupload.COM_STORAGE_SIZE_ERROR:r=i.message;break;case plupload.IMAGE_FORMAT_ERROR:r=u.MSG07502;break;case plupload.IMAGE_MEMORY_ERROR:r=u.MSG07503;r+="\nFILE: file.new";r+="\nERROR_CODE: "+i.code;r+="\nERROR_MSG: "+i.message;break;case plupload.HTTP_ERROR:r=u.MSG07504+"<br/>"+i.file.name;break;case plupload.FILE_NAME_ERROR:r=i.message;break;case plupload.CLOUD_STORAGE_SIZE_ERROR:r=i.message;break;case plupload.CLOUD_STORAGE_DUPLICATES_FILENAME_ERROR:r=u.MSG07885;break;case plupload.AUTHORIZATION_ERROR:r=u.MSG07886;break;case plupload.FORBIDDEN_ERROR:r=this._useCloudDriver&&this.fileCloudSelectBox?u.MSG08536:i.message||"error";break;default:r=ecount.resource.MSG10680}return t.settings.autostart&&t.removeFile(i.file),this.onErrorMsg?void 0:(o={reQueue:function(){this.changeFileUploadStatus(i.file,e.id,"QUEUED");t.stop();e.errorFiles.any(function(n){return n.id==i.file.id})||e.errorFiles.push(i.file)}.bind(this)},this._errorCallback&&this._errorCallback(this._response,o),this.onErrorMsg=!0,i.code==plupload.COM_STORAGE_SIZE_ERROR||i.code==plupload.CLOUD_STORAGE_SIZE_ERROR?(f=[],f.push({label:ecount.resource.BTN00170,callback:function(){ecount.popup.openWindow({url:"/ECERP/SVC/ECU/ECU500M",name:ecount.resource.LBL10711,param:{alreadyIncludedLayout:!0,width:700,height:250},popupType:!1,popupFlag:!0,additional:!0})}}),f.push({label:ecount.resource.BTN40001,callback:function(){this.delegator&&this.delegator.triggerEvent("page.toggleProgressbarLayer");ecount.common.api({url:"/SVC/Common/Infra/SaveFileQuotaSum",success:function(n){this.delegator&&this.delegator.triggerEvent("page.hideProgressbar");n.Status!="200"?ecount.alert(n.fullErrorMsg+n.Data):n.Data.Data&&!_.isEmpty(n.Data.Data.Message)?ecount.alert(n.Data.Data.Message):ecount.global.setPublicInfo(this.ecPageID,"fileSizeInfo",n.Data)}.bind(this)})}.bind(this)}),f.push({label:ecount.resource.BTN00008,callback:function(){return!1}}),ecount.customAlert(r,{list:f,width:352,height:210,onBodyLinkClick:function(){this.onErrorMsg=!1;ecount.popup.openWindow({url:"/ECERP/ESC/ESC001P_408",name:ecount.resource.LBL12964,param:{width:850,height:450},popupType:!0,additional:!0})}.bind(this)})):(this.realFilesChekMode&&i.code!="NotFoundError"&&(this.linkFileBasicError={code:i.code,message:unescape(r)}),ecount.alert(unescape(r),function(){this.onErrorMsg=!1}.bind(this))),!1)},setMultipartParams:function(n){this.group.uploaderConfig.multipart_param=$.extend({},n);this.fileManager.setMultipartParams(n)},setFileUploadUrl:function(n){this.group.usingUploader.url=n;this.fileManager&&this.fileManager.setFileUploadUrl(n)},getSettingConifg:function(){return this.fileManager.getSettingConifg()},_getGroup:function(){var n=this.group.uploadFiles.select(function(n){if(n.uptype!=0)return n}),t=$.extend({},this.group,{uploadFiles:n});return $.extend(!0,{},t,this.getSettingConifg())},changeConfigSize:function(n){return this.fileManager.changeConfigSize(n)},onClickHandler:function(){this._callback&&this._callback()},reset:function(n){this.onAddFile(null,null,n,!0)},getSyncData:function(){return this._getValueForDelegate()},openExplorer:function(){var n=this.ecview.$el.find("input[type='file']");n&&n.click()}},addSingleFile:{controlType:"widget.link.addSingleFile",viewName:"widget.view.link.addSingleFile",tempUploadFile:null,tempUploadUrl:"/SaveTempFile",fileStorageHost:ecmodule.common.fileStorage.getFileStorageHost(0),comCode:"",fileKey:"",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{tempUploadFile:n.tempUploadFile||this.tempUploadFile})},initializeViewOptions:function(n){$.extend(this.__viewOptions,{tempUploadFile:this.tempUploadFile,fileStorageHost:n.fileStorageHost||this.fileStorageHost,tempUploadUrl:n.tempUploadUrl||this.tempUploadUrl,comCode:n.comCode||this.comCode,fileKey:n.fileKey||this.fileKey,extensions:n.extensions,extensionErrorMsg:n.extensionErrorMsg,prevent_duplicates:n.prevent_duplicates,multi_selection:n.multi_selection,max_file_count:n.max_file_count,autostart:n.autostart,tot_size_lmt:n.tot_size_lmt,_callBack:n._callBack})},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.id,value:this.getFileInfo()||""},n])},getFileInfo:function(){return this.ecview&&this.ecview.getFileInfo()}},cropFile:{__inheritParent:"widget.link.file",controlType:"widget.link.cropFile",initializeOptions:function(n){var t=this.group=n.group||{};this.group=this.optInitData=_.merge(!0,{uploaderConfig:n._uploaderConfigs||this._defaultUploaderConfig,newFileStorageConfig:this._defaultNewFileStorageConfig,massStorageConfig:this._defaultMassStorageConfig,uploadFiles:[],insertErrorLog:$.isEmpty(n.insertErrorLog)?!0:n.insertErrorLog},t);$.extend(this,{onAddFileSuccess:n.onAddFileSuccess,onAddFile:n.onAddFile||this.onAddFile,onBeforeUpload:n.onBeforeUpload||function(){},onChangeStatus:n.onChangeStatus||this.onChangeStatus,onError:n.onError||this.onError,onComplete:n.onComplete,_errorCallback:n._errorCallback});this.group.uploaderConfig.isPdfOptions=n.isPdfOptions;this.isPdfOptions=n.isPdfOptions;n._storageSizeCheckPassFlag&&(this._storageSizeCheckPassFlag=!0);this.fileManageQueue=this.createFileManageQueue();this.syncFiles=[];this._initFileManager(n)},initializeViewOptions:function(n){$.extend(this.__viewOptions,{config:this.optInitData,_canUseDndZone:this._canUseDndZone,dndID:n.dndID},this.getFileHandler())},getFileHandler:function(){return{onAddFile:this.onAddFile.bind(this),onBeforeUpload:this.onBeforeUpload.bind(this),onAddFileSuccess:this.onAddFileSuccessBridge.bind(this),onChangeStatus:this.onChangeStatusBridge.bind(this),onUploaded:this.onUploadedBridge.bind(this),onComplete:this.onCompleteBridge.bind(this),onError:this.onErrorBridge.bind(this)}},onCompleteBridge:function(){this.onComplete(this.ecview.uploader)}},dropdownFile:{controlType:"widget.link.dropdownFile",viewName:"widget.view.link.dropdownFile",template:"((link))",tempUploadFile:null,tempUploadUrl:"/SaveTempFile",fileStorageHost:ecmodule.common.fileStorage.getFileStorageHost(0),comCode:"",fileKey:"",_dataItems:[],_defaultUploaderConfig:{url:"/ECAPI/Common/Infra/SaveTempFile",autostart:!0,chunk_size:ecount.common.parseSize("20mb"),extensions:"jpg, jpeg, gif, tif",dragdrop:!1,attach_file_size:0,max_file_size:ecount.common.parseSize("2gb"),multi_selection:!1,prevent_duplicates:!0,multipart_param:{},tot_size_lmt:{size:"1",flag:!1},com_storage_size:{size:"1",flag:!1},use_storage_size:{size:"1",flag:!1},menu_code:ecenum.filemenuCode.gw03,is_free_groupware:!1},_defaultNewFileStorageConfig:{collection:null,partition:null,comcode:"",owner_key:"",storage_host_number:0,upload_path:"/SaveTempFile/",temp_file_lifetime:ecenum.tempfileLifetime.infinity},init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},initializeOptions:function(n){var t=n._uploaderConfigs&&n._uploaderConfigs.length>0?n._uploaderConfigs[0][1]:{},i=n._newFileStorageConfigs&&n._newFileStorageConfigs.length>0?n._newFileStorageConfigs[0][1]:{};_.merge(this,{_dataItems:n._dataItems||[],dropdownOptions:n._dataItems||[],dropdownAdditionalOptions:{preventDestroy:!0,onBeforeShow:this._setUpload.bind(this),preventShowWithCreate:!0},initData:{uploaderConfig:$.extend(!0,this._defaultUploaderConfig,t),newFileStorageConfig:$.extend(!0,this._defaultNewFileStorageConfig,i),usingUploader:!0,usingNewFileStorage:!0,usingAlwaysCreateOwnerkey:!0},arrOnAddFiles:[]})},initializeViewOptions:function(n){_.merge(this.__viewOptions,{initData:this.initData,_usingMemu:this._dataItems.length>0,_callBack:n._callBack,onErrorMsg:n.onErrorMsg,extensionErrorMsg:n.extensionErrorMsg})},onInitState:function(n,t){_.merge(t,{"opt.uploader":!1})},onInitComponent:function(n,t,i,r){ecount.control.anchor.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.dropdown";r.ecServiceAttr="layer.fixed"},_getLayerEcEvent:function(){return{cindex:0,cid:this.cid,ecService:"layer.dropdown",handler:".layer.dropdown",ecPath:this.ecPath}},onLazyRender:function(){var n=this._getLayerEcEvent();this._showLayer(n)},destroy:function(){var n=this._getLayerEcEvent(),i=this.getLayerServiceKey(n),t=ecount.layer.getLayer(i);$.isNull(t)||(t.setPreventDestroy(!1),this._hideLayer(n));ecount.control.anchor.prototype.destroy.apply(this,arguments)},_setUpload:function(n){this.setState(this._IT_SELF,"opt.uploader",{layerInstance:n});this.dropdownAdditionalOptions.onBeforeShow=null;n.onBeforeShow=null},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.id,value:this.getFileInfo()||""},n])},getFileInfo:function(){for(var i=Object.clone(this.ecview.tempUploadFile,!0),e=i.length,n=null,r,u,f=[],t=0;t<e;t++)n=i[t],r=n.name.lastIndexOf("."),u=n.name.length,f.push({id:n.id+n.name.substring(r,u),name:n.name});return f},getOwnerKey:function(){return this.ecview.ecountfileManager.getOwnerKey()}},dropdownInput:{controlType:"widget.link.dropdownInput",viewName:"widget.view.link.dropdownInput",isError:!1,isPasswordBox:!0,init:function(){ecount.control.anchor.prototype.init.apply(this,arguments)},onInitState:function(){ecount.control.anchor.prototype.onInitState.apply(this,arguments);this.__state["opt.showinput"]=!1;this.__state["validate.needvalidate"]=!1},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(n,t,i){return[{label:i.data[0].label,cid:this.id,name:this.name||""},{cid:this.id+"_input",name:this.name+"_input",value:i.value||"","attr.placeholder":"","style.css":"textbox-inline","style.display":!1,"focus.index":!1}]},initializeViewOptions:function(n){ecount.control.anchor.prototype.initializeViewOptions.apply(this,arguments);_.merge(this.__viewOptions,{isPasswordBox:_.isNil(n.isPasswordBox)?!0:n.isPasswordBox})},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},open:function(){this.setState(1,"style.display",!0);this.setFocus(1);this.setState(this._IT_SELF,"opt.showinput",!0)},close:function(){this.setState(1,"style.display",!1);this.setState(this._IT_SELF,"opt.showinput",!1)},getValue:function(n){return arguments.length==0&&(n=1),ecount.control.input.prototype.getValue.call(this,n)},setValue:function(n,t){arguments.length==1&&(t=arguments[0],n=1);ecount.control.prototype.setValue.call(this,n,t)},addClass:function(n,t){arguments.length==1&&(t=arguments[0],n=0);ecount.control.prototype.addClass.call(this,n,t)},removeClass:function(n,t){arguments.length==1&&(t=arguments[0],n=0);ecount.control.prototype.removeClass.call(this,n,t)},showError:function(){this.setState(this._IT_SELF,"validate.needvalidate",!0);this.open()},hideError:function(){this.setState(this._IT_SELF,"validate.needvalidate",!1)},hasError:function(){return this.getState(this._IT_SELF,"validate.needvalidate")},setPlaceholder:function(n,t){var i="",r;if($.isNull(t))i=n;else if($.isNumeric(t))for(r=0;r<t;r++)i+=n;this.setState(1,"attr.placeholder",i)},ON_CLICK:function(n){n.cindex==0&&(this.getState(1,"style.display")==!0?this.close():this.open())},ON_FOCUSOUT:function(n){this.getState(this._IT_SELF,"opt.showinput")==!0&&n.eventTriggerFromInternalTarget!=!0&&this.close()},ON_INPUT:function(n,t){this.executeChangeDelegator(n,t);this.hasError()&&this.hideError()}},colorPicker:{controlType:"widget.link.colorPicker",initializeOptions:function(n){this._clickOnce=!0;this.noneBackgroundColor=n.noneBackgroundColor},onInitComponent:function(n,t,i,r){this._super.onInitComponent.apply(this,arguments);r.ecService="layer.palette";r.ecServiceAttr="click"},getLayerPaletteOption:function(n,t){var i=[{id:"palette",isPalette:!0}];return this.noneBackgroundColor&&i.push({id:"noneBackgroundColor",label:ecount.resource.LBL20548,css:"tool-color-none"}),_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",items:i,baseType:!0,color:"#"+(this.getState(0,"style.bgcolor")||"000000"),boundary:this.getContainerBoundary(),showingUpDelay:0})},setColor:function(n){n.indexOf("#")!=0&&(n="#"+n);this.setState(0,"style.bgcolor",n);this.setState(0,"style.color",ecview.util.getContrastColor(n))},getValue:function(n){function t(n){return{label:n.label,color:n["style.bgcolor"]}}return $.isEmpty(n)?this.getComponents().map(t):t(this.getComponent(n))},ON_CLICK_SERVICE:function(n,t,i,r){if(n.ecFunctionId){switch(n.ecFunctionId){case"palette.color":this.setState(0,"style.bgcolor",n.cid);this.setState(0,"style.color",ecview.util.getContrastColor(n.cid));break;case"palette.button":this.setState(0,"style.bgcolor",r.value);this.setState(0,"style.color",ecview.util.getContrastColor("#"+r.value));break;case"noneBackgroundColor":this.setState(0,"style.bgcolor","");this.setState(0,"style.color","")}this.executeChangeDelegator()}}},fileGroup:{controlType:"widget.link.fileGroup",initializeOptions:function(n){this.layerOptionCallback=n.layerOptionCallback||function(){return[]}},onInitComponent:function(n,t,i,r){this._super.onInitComponent.apply(this,arguments);r.ecService="layer.filegroup";r.ecServiceAttr="click"},getLayerFilegroupOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{items:this.layerOptionCallback(),baseType:!0,boundary:this.getContainerBoundary(),showingUpDelay:0,"style.css":"generate-other-slips","style.tableCss":"table-hover table-th-left table-border-no-a table-nowrap"})}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.link.repository[n]||{},i=ecount.control.anchor,widget.link._baseLoaded||(ecount.control.loadRepository(ecount.control.anchor,ecount.control.view.anchor,"widget.link"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.link,t,"widget.link",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.link")){r=t.controlType.replace("widget.link.","");ecount.control.mountMixinWidget(widget.link,t,"widget.link",[widget.link,r]);return}widget.link[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.link,ecount.control.mountWidget(widget.link,n,i,t))}}}};widget.view.link._export=function(){return{_default:{},icon:{template:"((link-icon))",baseTemplateType:!0,onChangeStyleLabelcss:function(n,t){this.getElements(n).removeClass().addClass(t)}},iconPopover:{template:"((link-iconPopover))",popoverTemp:'<div id="{{popoverId}}" class="popover fade top in" style="display: block; {{position}}"><div class="arrow"><\/div>{{thumbnail}}<div class="popover-content">{{label}}<\/div><\/div>',thumbnailTemp:'<div class="movie-thumbnail"><img src="{{src}}"><\/div>',sampleTemp:'<div id="sampleTemp" class="popover fade top hidden" style="{{position}}"><div class="arrow"><\/div><div class="movie-thumbnail"><img src="https://i.ytimg.com/vi/hAifMKpxU8s/mqdefault.jpg"><\/div><div class="popover-content">추가사업장 정보가 변경된 경우 처리 방법<\/div><\/div>',baseTemplateType:!0,onMount:function(n){this.compData=n.components[0];this.setPopover(n)},destroy:function(){ecount.control.view.prototype.destroy.apply(this,arguments);this.popoverId&&$("#"+this.popoverId).remove()},setPopover:function(){if(this.compData.usePopover){this.popoverId=[this.ecPageID,this.compData.id,"popover"].join(ecount.delimiter);var n=ecount.global.findPageInstance(this.ecPageID),t=this.compData.thumbnail?ecount.widget.replaceAttr(this.thumbnailTemp,{src:this.compData.thumbnail}):"",i=ecount.widget.replaceAttr(this.popoverTemp,{popoverId:this.popoverId,label:this.compData.label,thumbnail:t,position:"top: -1000px; left: -1000px;"});n.$el.append(i);this.$el.find("a[id]").hover(function(){var n=$("#"+this.popoverId);n.css({top:"-1000px",left:"-1000px"}).removeClass("hidden");var t=this.getComponentBoundary(0),i=n.outerHeight(),r=n.outerWidth(),u={top:t.top-i+"px",left:t.left+this.$el.outerWidth()/2-r/2+"px"};n.css(u).addClass("in")}.bind(this),function(){$("#"+this.popoverId).addClass("hidden").removeClass("in")}.bind(this))}},onChangeStyleLabelcss:function(n,t){this.getElements(n).removeClass().addClass(t)}},caret:{template:"((link-caret))",onChangeStyleDirection:function(n,t){var i=t=="up"?"down":"up";this.getElements(n).find("span").removeClass("fa-caret-"+i).addClass("fa-caret-"+t)}},dataToggle:{template:"((link-arrow))",onChangeAttrCollapse:function(n,t){var i=this.getElements(n);t?i.removeClass("collapsed"):i.addClass("collapsed")},onChangeLabel:function(n,t){var i=this.getElements(n),r=i.children();i.text(t);r.length>0&&i.prepend(r)}},subLabel:{template:"((link))",render:function(n){this._mergeAttr(n);ecount.control.view.label.prototype.render.apply(this,arguments)},_mergeAttr:function(n){var t=n.components[0]["attr.subLabel"];this.template="<span>"+t+" "+this.template+"<\/span>"}},boardRefPost:{onMount:function(n){n.editable===!1&&this.$el.css("cursor","not-allowed")}},boardRefSlip:{onMount:function(n){n.editable===!1&&this.$el.css("cursor","not-allowed")}},approvalRefSlip:{onMount:function(n){n.editable===!1&&this.$el.css("cursor","not-allowed")}},approvalOutput:{_onInitTemplate:function(n){var t=this.hasCompBtnClass(n)?"((button))":this.template;this.baseTemplateType&&(t=this.cloneTemplateAsManyState(t,n));return this.onInitTemplate(t,n)},hasCompBtnClass:function(n){var r=!1,t,i;if(n&&n.components&&n.components.length>0)for(t=0;t<n.components.length;t++)if(i=n.components[t]["style.css"],i&&i.indexOf("btn")!=-1){r=!0;break}return r},onMount:function(n){n.editable===!1&&this.$el.css("cursor","not-allowed")}},file:{render:function(){this.standbyFiles=[];widget.view.link.prototype.render.apply(this,arguments)},destroy:function(){ecount.runtime.stopObserving("fileDropGuide",this.ecIKey);this._super.destroy.apply(this,arguments)},onMount:function(n){var t=this;this.ecIKey=n.ecIKey;this.isUploading=n.isUploading;this.gridID?ecount.control.registerLazyRenderGrid(this,function(){this.$el.closest("td").attr("id",n.dndID);t.onLazyRender(n)}):ecount.control.registerLazyRender(this,function(){var i=this.$el.closest("div.form");t.fileDropGuide=$('<div class="attach-file-draggable-holder hidden">'+(ecount.resource.LBL22430||"drop file here")+"<\/div>");i.attr("id",n.dndID);i.prepend(t.fileDropGuide);ecount.runtime.observe("fileDropGuide",t.ecIKey,function(n){switch(n.eventType){case"dragenter":t.fileDropGuide.removeClass("hidden");break;case"drop":case"mouseover":t.fileDropGuide.addClass("hidden")}}.bind(this));t.onLazyRender(n)})},onLazyRender:function(n){var f=this.$el.find("a"),r=this,u;if(f){var t=n.config.uploaderConfig,e=n.config.maxFileCount,i=f.plupload({url:t.url||"",filters:{max_file_size:plupload.parseSize(t.max_file_size),prevent_duplicates:t.prevent_duplicates,mime_types:[{title:"All files",extensions:t.extensions}]},autostart:t.autostart,chunk_size:plupload.parseSize(t.chunk_size),dragdrop:t.dragdrop,drop_element:t.drop_element||n._canUseDndZone==!0&&t.dragdrop==!0?n.dndID:undefined,max_file_count:t.max_file_count||e,multi_selection:t.multi_selection,tot_size_lmt:t.tot_size_lmt.size,com_storage_size:t.com_storage_size.size,use_storage_size:t.use_storage_size.size,disabled:n["attr.disabled"]==!0?!0:!1,preventNullExtensions:t.preventNullExtensions,exceptionExtensions:t.exceptionExtensions,useOptions:{isPdfOptions:t.isPdfOptions},checkFileAllowed:function(){r&&r.isUploading&&r.isUploading(!0);ecmodule.common.fileSecurity.checkFileAllowed.apply(this,arguments)},byPassCheckFileAllowed:t.byPassCheckFileAllowed});i.on("addFiles",n.onAddFile);i.on("beforeUpload",n.onBeforeUpload);i.on("changeStatus",n.onChangeStatus);i.on("uploaded",n.onUploaded);i.on("complete",n.onComplete);i.on("error",n.onError);i.on("onready",this._onLoadUploaderComplete.bind(this,n));this.uploader=i.plupload;this.standbyFiles.length>0&&(u=Array.prototype.slice.apply(this.standbyFiles),_.isArray(this.uploader.files)?u.forEach(function(n){this.uploader.files.push(n)}.bind(this)):this.uploader.files=u)}},_onLoadUploaderComplete:function(n){n.components[0]&&n.components[0]["attr.disabled"]&&n.components[0]["attr.disabled"]=="disabled"&&this.uploader.disableBrowse()},onChangeFileAdd:function(n,t){var i=this.uploader;_.isNil(i)?this.standbyFiles.push(t):i.files.push(t)},onChangeFileRemove:function(n,t){var i=this.uploader,r=t.id;i.files.splice(i.files.findIndex(function(n){return n.id==r}),1)},onChangeUploadErrorcode:function(n,t){this.errorCode=t},onChangeUploadMessage:function(n,t){this.errorMsg=t},onChangeUploadTriggername:function(n,t){this.triggerName=t},onChangeUploadTriggerfile:function(n,t){this.triggerFile=t},onChangeUploadToggle:function(n,t){t==!0&&(this.triggerName=="UploadFile"&&(this.uploader.state=plupload.STARTED),this.uploader.trigger(this.triggerName,{code:this.errorCode,message:this.errorMsg}))},onChangeFileStatus:function(){this.uploader.files.forEach(function(n){n.status=plupload.STARTED})},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);n!=this._IT_SELF&&i.prop("disabled",t);this.uploader.settings.disabled=t;this.uploader.disableBrowse(t)}},addSingleFile:{render:function(n){widget.view.link.prototype.render.apply(this,arguments);_.merge(this,n)},onMount:function(){ecount.control.registerLazyRender(this,function(){var n=this,i=window.requestUrl.protocol+"://"+n.fileStorageHost,t=n.$el.plupload({url:i+n.tempUploadUrl,filters:{mime_types:[{title:"Image files",extensions:n.extensions}],max_file_size:10485760,prevent_duplicates:n.prevent_duplicates!=undefined?n.prevent_duplicates:!0},multi_selection:n.multi_selection!=undefined?n.multi_selection:!0,max_file_count:n.max_file_count||5,chunk_size:"20mb",dragdrop:!1,autostart:n.autostart!=undefined?n.autostart:!1,tot_size_lmt:n.tot_size_lmt.size});n.uploader=t.plupload;t.bind("addFiles",function(t,i,r){n.handleAddFiles(r,i)});t.bind("beforeUpload",function(t,i,r){n.handleBeforeUpload(i,r)});t.bind("changeStatus",function(t,i,r){n.handleFileStatus(r)});t.bind("complete",function(t,i,r){n.handleUploadComplete(t,i,r)});t.bind("error",function(t,i,r){switch(r.code){case plupload.FILE_EXTENSION_ERROR:details=n.extensionErrorMsg?String.format(ecount.resource.MSG05733,n.extensions.toUpperCase()):ecount.resource.MSG03646;break;case plupload.FILE_SIZE_ERROR:details=String.format(ecount.resource.MSG03587,plupload.formatSize(i.settings.filters.max_file_size));break;case plupload.FILE_DUPLICATE_ERROR:details=ecount.resource.MSG03657;break;case plupload.FILE_COUNT_ERROR:details=String.format(ecount.resource.MSG04180,i.settings.max_file_count);break;case plupload.TOT_SIZE_LMT_ERROR:details=String.format(ecount.resource.MSG03611,plupload.formatSize(i.settings.tot_size_lmt));break;case plupload.COM_STORAGE_SIZE_ERROR:details=r.message;break;case plupload.IMAGE_FORMAT_ERROR:details="Image format either wrong or not supported.";break;case plupload.IMAGE_MEMORY_ERROR:details="Runtime ran out of available memory.";break;case plupload.HTTP_ERROR:details="Upload URL might be wrong or doesn't exist.";r.file.status=plupload.QUEUED;break;case plupload.IMAGE_RESOLUTION_ERROR:var u=i.settings.filters.max_resolution.width,f=i.settings.filters.max_resolution.height;details=String.format(ecount.resource.MSG06393,u,f)}n.onErrorMsg||(n.onErrorMsg=!0,ecount.alert(unescape(details),function(){n.onErrorMsg=!1}));i.settings.autostart&&i.removeFile(r.file)})})},handleBeforeUpload:function(){},handleFileStatus:function(){},handleAddFiles:function(n,t){var i=this,u=[ecenum.tempfileLifetime.infinity,i.comCode,i.fileKey],r;ecmodule.common.fileStorage.checkFileExists(u,0,function(n){n.Data=="false"?(u=[t.total.size],ecmodule.common.fileStorage.checkStorageQuota(u,0,function(n){if(n.Data=="false"){ecount.alert("Lack of capacity");return}n.Domain&&(i.fileStorageHost=n.Domain);r=window.requestUrl.protocol+"://"+i.fileStorageHost;r=r+i.tempUploadUrl;t.settings.url=r;i.uploader.start()})):(r=window.requestUrl.protocol+"://"+i.fileStorageHost,r=r+i.tempUploadUrl,t.settings.url=r,i.uploader.start())})},handleUploadComplete:function(){var n=this;n.tempUploadFile=Object.clone(n.uploader.files);n.uploader.files.splice(0,1);n._callBack&&n._callBack(n.tempUploadFile[0].name)},uploadStart:function(){this.uploader.start()},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.id,value:this.getFileInfo()||""},n])},getFileInfo:function(){for(var i=Object.clone(this.tempUploadFile,!0),e=i.length,n=null,r,u,f=[],t=0;t<e;t++)n=i[t],r=n.name.lastIndexOf("."),u=n.name.length,f.push({id:n.id+n.name.substring(r,u),name:n.name});return f}},dropdownFile:{render:function(){widget.view.link.prototype.render.apply(this,arguments)},onMount:function(n){_.merge(this,{initData:n.initData,_usingMemu:n._usingMemu,_callBack:n._callBack});this._initFileManager(n)},_initFileManager:function(){this.ecountfileManager||(this.ecountfileManager=new ecount.fileManager({ecPageID:this.ecPageID,initData:$.extend(!0,{},this.initData),handler:{onComplete:this.onComplete.bind(this),onError:this._onError.bind(this),pageID:this.ecPageID}}))},onChangeOptUploader:function(n,t){var r=this,u,f=t.layerInstance,i=this.initData.uploaderConfig;u=this._usingMemu?f.$el.find("a[data-value='share'],a[data-value='personal']"):this.$el;u.each(function(n,t){var f=$(t),u=f.plupload({url:ecount.common.buildSessionUrl(i.url),filters:{mime_types:[{title:"Image files",extensions:i.extensions}],max_file_size:10485760,prevent_duplicates:i.prevent_duplicates!=undefined?i.prevent_duplicates:!0},multi_selection:i.multi_selection!=undefined?i.multi_selection:!0,max_file_count:i.max_file_count||5,chunk_size:"20mb",dragdrop:!1,autostart:i.autostart!=undefined?i.autostart:!1,tot_size_lmt:Number(i.tot_size_lmt.size),isEcountUpload:!0,checkFileAllowed:function(){ecmodule.common.fileSecurity.checkFileAllowed.apply(this,arguments)},byPassCheckFileAllowed:i.byPassCheckFileAllowed});this._usingMemu?this["uploader_"+f.attr("data-value")]=u.plupload:this.uploader=u.plupload;u.bind("addFiles",function(n,t,i){r.onAddFile(i,t)});u.bind("beforeUpload",function(n,t,i){r.onBeforeUpload(t,i)});u.bind("changeStatus",function(n,t,i){r.onChangeStatus(i)});u.bind("complete",function(n,t,i){r.onComplete(n,t,i)});u.bind("autostart",function(n,t){r.uploadStart(n,t)});u.bind("error",function(n,t,i){r.onError(n,t,i)})}.bind(this))},onAddFile:function(){},onBeforeUpload:function(){},onChangeStatus:function(){},onComplete:function(){var t=this,n;n=this._usingMemu?this["uploader_"+this.imageStoragevalue]:this.uploader;this.tempUploadFile=Object.clone(n.files);this.tempUploadFile.length>0&&(n.files.splice(0,1),this._callBack&&this._callBack(t.tempUploadFile[0],this.imageStoragevalue,this.getOwnerKey()))},onError:function(n,t,i){switch(i.code){case plupload.FILE_EXTENSION_ERROR:details=this.extensionErrorMsg?String.format(ecount.resource.MSG05733,this.initData.uploaderConfig.toUpperCase()):ecount.resource.MSG03646;break;case plupload.FILE_SIZE_ERROR:details=String.format(ecount.resource.MSG03587,plupload.formatSize(t.settings.filters.max_file_size));break;case plupload.FILE_DUPLICATE_ERROR:details=ecount.resource.MSG03657;break;case plupload.FILE_COUNT_ERROR:details=String.format(ecount.resource.MSG04180,t.settings.max_file_count);break;case plupload.TOT_SIZE_LMT_ERROR:details=String.format(ecount.resource.MSG03611,plupload.formatSize(t.settings.tot_size_lmt));break;case plupload.COM_STORAGE_SIZE_ERROR:details=i.message;break;case plupload.IMAGE_FORMAT_ERROR:details="Image format either wrong or not supported.";break;case plupload.IMAGE_MEMORY_ERROR:details="Runtime ran out of available memory.";break;case plupload.HTTP_ERROR:details="Upload URL might be wrong or doesn't exist.";i.file.status=plupload.QUEUED;break;case plupload.IMAGE_RESOLUTION_ERROR:var r=t.settings.filters.max_resolution.width,u=t.settings.filters.max_resolution.height;details=String.format(ecount.resource.MSG06393,r,u);break;case plupload.FILE_ZEROSIZE_ERROR:details=i.message;break;default:details="error";console.log(n)}this.onErrorMsg||(this.onErrorMsg=!0,ecount.alert(unescape(details),function(){this.onErrorMsg=!1}));t.settings.autostart&&t.removeFile(i.file)},uploadStart:function(n){var i,t=[],r,u,f;for(this._usingMemu?(this.imageStoragevalue=$(n.target).attr("data-value"),i=this["uploader_"+this.imageStoragevalue]):i=this.uploader,r=0,f=i.files.length;r<f;r++)u=i.files[r],u.status!=plupload.DONE&&(u.provider_seq=ecount.cloudStorage.INNER,t.push(u));t&&t.length>0&&this.ecountfileManager.checkStorageQuota(t,function(){this.ecountfileManager.startUpload(t)}.bind(this))},_onError:function(n){var t=n.file,i=n.code,r=n.message;uploader=this._usingMemu?this["uploader_"+this.imageStoragevalue]:this.uploader;uploader.removeFile(t);uploader.trigger("Error",{code:i,message:r})},getOwnerKey:function(){return this.ecountfileManager.getOwnerKey()}},dropdownInput:{template:"((link))\n<div class=\"dropdown-menu\" style='z-index:1000;'>\n((input))\n<\/div> ",baseTemplateType:!1,onInitTemplate:function(n,t){return t.isPasswordBox==!0?n.replace("((input))","((inputPassword))"):n},onChangeStyleDisplay:function(n,t){var i=this.$el.find("div.dropdown-menu");t===!0?(i.addClass("show"),i.find("input").removeClass("hidden")):(i.removeClass("show"),i.find("input").addClass("hidden"))},onChangeValidateNeedvalidate:function(n,t){var i=this.$el.find("div.dropdown-menu");t?i.addClass("has-error"):i.removeClass("has-error")}}}};widget.button={};widget.button._baseLoaded=!1;widget.button._export=function(){return{_default:{controlType:"widget.button",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},render:function(){ecount.control.button.prototype.render.apply(this,arguments)}},formApply:{controlType:"widget.button.formApply",viewName:"widget.view.button.formApply",_defaultCss:"btn btn-default btn-sm",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},_ON_BEFORE_CLICK:function(n){return n.cindex!=0?!1:!0}},group:{controlType:"widget.button.group",viewName:"widget.view.button.group",_defaultCss:"btn btn-primary",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.fixedDropdown=n.fixedDropdown;this.dropdownOptions=n.dropdownOptions||[];n._isSmall&&(this._defaultCss="btn btn-sm btn-default");this._layerKey="group";this.noActionBtn=n.noActionBtn||!1;this._clickSlipMenuID=n._clickSlipMenuID||null;this._clickSlipMenu=n._clickSlipMenu;this._clickSlipMenuData=n._clickSlipMenuData;this.isNotFixedLayer=!0},onInitState:function(n,t){ecount.control.button.prototype.onInitState.apply(this,arguments);t.components||(t.components=[{}])},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.buttonArrowDirection=u.buttonArrowDirection||"up";r.ecService="layer.dropdown";this.fixedDropdown?(r.ecServiceTrigger="mouseover|click",r.ecServiceAttr=ecount.layer.constValue.FIXED):r.ecServiceTrigger="mouseover"},onInitFunction:function(n,t,i){ecount.control.button.prototype.onInitFunction.apply(this,arguments);this.noActionBtn==!1&&(this.__state.functions.group={ecFunction:"group",ecService:"layer.dropdown",cid:this.id,"style.css":ecount.convertor.uniqSumClass(this._userCss||this._defaultCss||"",i._isSmall?"btn-arrow-down":"btn-arrow-up"),"style.display":!!(this.dropdownOptions&&this.dropdownOptions.length)})},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},getLayerDropdownOption:function(n,t){if(this.dropdownOptions&&this.dropdownOptions.length){var i=this.dropdownOptions||[],r=this.isSetDropdownSize!==undefined?this.isSetDropdownSize:!!(i.length>8);return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",isSetDropdownSize:r,_forcedDisplayPosition:this.containerName=="footer"?"top":"",items:i,baseType:!0,boundary:this.getContainerBoundary(),isNotFixedLayer:this.isNotFixedLayer===!0})}return!1},refresh:function(){var n,t;this.noActionBtn==!1?this.setState("group","style.display",this.getDropdownVisibleItems().length!=0):(n=this.getState("0","style.css"),this.getDropdownVisibleItems().length!=0?(t=this.getState("0","buttonArrowDirection"),this.setState("0","style.css",ecount.convertor.uniqSumClass(n,"btn-arrow btn-arrow-"+t))):this.setState("0","style.css",ecount.convertor.removeClass(n,"btn-arrow btn-arrow-up btn-arrow-down")))},setPrimary:function(n){var t="btn-default",i="btn-primary";n!==!1?(this.addClass(0,i),this.removeClass(0,t),this.addClass("group",i),this.removeClass("group",t)):(this.addClass(0,t),this.removeClass(0,i),this.addClass("group",t),this.removeClass("group",i))},changeClass:function(n,t){arguments.length===1?(this.setState(0,"style.css",n),this.setState("group","style.css",n)):this.setState(t||0,"style.css",n)},addGroupItem:function(){this.addDropdownItem.apply(this,arguments);this.refresh()},removeGroupItem:function(){var n=Array.prototype.slice.call(arguments);n.length==0&&n.push(this.dropdownOptions.map(function(n){return n.id}));this.removeDropdownItem.apply(this,n);this.refresh()},showGroupItem:function(){var n=Array.prototype.slice.call(arguments);n.length==0&&n.push(this.dropdownOptions.map(function(n){return n.id}));this.showDropdownItem.apply(this,n);this.refresh()},hideGroupItem:function(){var n=Array.prototype.slice.call(arguments);n.length==0&&n.push(this.dropdownOptions.map(function(n){return n.id}));this.hideDropdownItem.apply(this,n);this.refresh()},showDropdown:function(){var n={handler:"mouseover.layer.dropdown",ecService:"layer.dropdown",cindex:0,ecPath:this.getEcPath()};this._showLayer(n,{},{fromCommand:!0})},hideDropdown:function(){var n={handler:"mouseover.layer.dropdown",ecService:"layer.dropdown",cindex:0,ecPath:this.getEcPath()};this._hideLayer(n,{})},serialize:function(){},serializeById:function(){},getValue:function(){},setValue:function(){},setPermission:function(){},setClickSlipMenuID:function(n){this._clickSlipMenuID=n},_getClickSlipMenuID:function(n){return n.originId||(this._clickSlipMenuID?this._clickSlipMenuID:this.id)},isClickSlipMenu:function(){return this._clickSlipMenu&&this._clickSlipMenuData&&this._clickSlipMenuData.length>0},_onClickSlipMenu:function(){var t,i,n=arguments[0];if(typeof n=="string")t=n;else if(typeof n=="object")t=n.originId;else return!1;i=this._clickSlipMenuData.find(function(n){return n.Key.BUTTON_ID==t});i&&ecount.common.api({ecPageID:this.ecPageID,url:this.UPDATE_API_URL||"/Common/Infra/SaveComnMenuHistory",data:Object.toJSON(i.API_PARAM||{}),success:function(){},error:function(n){console.log(n)}})},ON_CLICK:function(n,t,i,r){return this.isClickSlipMenu()&&this._onClickSlipMenu(this._getClickSlipMenuID(r)),ecount.control.button.prototype.ON_CLICK.apply(this,arguments)},ON_CLICK_SERVICE:function(n,t,i,r){this.isClickSlipMenu()&&this._onClickSlipMenu(this._getClickSlipMenuID(r))}},save:{__inheritParent:"widget.button.group",controlType:"widget.button.save",init:function(){widget.button.group.prototype.init.apply(this,arguments)},initializeOptions:function(){widget.button.group.prototype.initializeOptions.apply(this,arguments);this._clickOnce=!0},onInitComponent:function(n,t,i,r){widget.button.group.prototype.onInitComponent.apply(this,arguments);r.label=r.label||ecount.resource.BTN00065},render:function(){widget.button.group.prototype.render.apply(this,arguments)}},saveprint:{__inheritParent:"widget.button.group",controlType:"widget.button.saveprint",init:function(){widget.button.group.prototype.init.apply(this,arguments)},initializeOptions:function(){widget.button.group.prototype.initializeOptions.apply(this,arguments);this._clickOnce=!0},onInitComponent:function(n,t,i,r){widget.button.group.prototype.onInitComponent.apply(this,arguments);r.label=r.label||ecount.resource.BTN00064},render:function(){widget.button.group.prototype.render.apply(this,arguments)}},"delete":{__inheritParent:"widget.button.group",controlType:"widget.button.delete",init:function(){widget.button.group.prototype.init.apply(this,arguments)},initializeOptions:function(){widget.button.group.prototype.initializeOptions.apply(this,arguments);this._clickOnce=!0},onInitComponent:function(n,t,i,r){widget.button.group.prototype.onInitComponent.apply(this,arguments);r.label=r.label||ecount.resource.BTN00033},render:function(){widget.button.group.prototype.render.apply(this,arguments)}},filter:{controlType:"widget.button.filter",viewName:"widget.view.button.filter",_defaultCss:"btn btn-sm btn-default dropdown-toggle",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.dropdownOptions=n.dropdownOptions||[];n._quickLabelParams&&(this.quickLabelParams=n._quickLabelParams);this.isCheckedAll=this.dropdownOptions.every(function(n){return n.checked!==!1})},initializeViewOptions:function(){ecount.control.button.prototype.initializeViewOptions.apply(this,arguments);_.extend(this.__viewOptions,{dropdownOptions:this.dropdownOptions})},getInitDataComponents:function(n,t,i){for(var t=(i.data||[]).slice(0),r=0,u=this.dropdownOptions.length;r<u;r++)t.push({});return t},onInitState:function(n,t){t["opt.layerToggle"]=!1;t["opt.checkWhole"]=this.isCheckedAll},onInitComponent:function(n,t,i,r){t!=0&&(r["opt.isChecked"]=this.dropdownOptions[t-1].checked!==!1,r.value=this.dropdownOptions[t-1].value)},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},hide:function(){this.setState(this._IT_SELF,"opt.layerToggle",!1);ecount.control.button.prototype.hide.apply(this,arguments)},ON_CLICK:function(n,t,i,r){if(n.id==this.id+"Apply"&&this.getCheckedValue().length==0)return ecount.alert(ecount.resource.MSG00962),!1;n.id===this.id+"Modify"&&ecount.popup.openWindow({popupID:this.ecPageID||"",url:this.quickLabelParams.url,name:ecount.resource.LBL10187,param:this.quickLabelParams.param,popupType:!1,additional:!1,popupLevel:2});n.id===this.id&&this.setState(this._IT_SELF,"opt.layerToggle",!this.getState(this._IT_SELF,"opt.layerToggle"));(n.ecRole=="close-label"||n.ecRole=="apply-label")&&(this.setState(this._IT_SELF,"opt.layerToggle",!1),_.extend(r,{checkedValue:this.getCheckedValue(),cid:this.id,cname:this.name,cindex:n.cindex,command:["on",this.containerName,n.id].join("_").ecCamelize(!0),event:t,__self:this}))},ON_CHANGE:function(n){var t,i;if(!$.isEmpty(n.id))if(n.id===this.id+"FilterAll")for(t=this.getState(this._IT_SELF,"opt.checkWhole"),this.setState(this._IT_SELF,"opt.checkWhole",!t),i=1;i<this.getComponents().length;i++)this.setState(i,"opt.isChecked",!t);else t=this.getState(n.ecRoleIndex,"opt.isChecked"),this.setState(n.ecRoleIndex,"opt.isChecked",!t),this.setCheckedAll();n.suspend=!0},redrawDropdown:function(n){var i=[this.getComponents().shift()],t,r;for(this.initializeOptions({dropdownOptions:n}),this.initializeViewOptions(),this.setState(this._IT_SELF,"opt.checkWhole",this.isCheckedAll),t=0,r=this.dropdownOptions.length;t<r;t++)component=this.dropdownOptions[t],i.push({"opt.isChecked":component.checked!==!1,value:component.value});this.__state.components=i;this.ecview.redrawDropdown({id:this.id,dropdownOptions:this.dropdownOptions,"opt.checkWhole":this.isCheckedAll});this.setCheckedAll();this.oldValue=this.getCheckedValue()},getCheckedValue:function(){var n=[];return this.getComponents().forEach(function(t){t["opt.isChecked"]===!0&&n.push(t.value)}),n},setCheckedValue:function(n,t){$.isArray(n)||(n=[n]);this.getComponents().forEach(function(i,r){n.contains(i.value)&&this.setState(r,"opt.isChecked",t)}.bind(this));this.setCheckedAll()},setCheckedAll:function(){var n=this.getComponents().every(function(n,t){return t===0?!0:n["opt.isChecked"]===!0});this.setState(this._IT_SELF,"opt.checkWhole",n)},serialize:function(){},serializeById:function(){},getValue:function(){},setValue:function(){},changeLabel:function(){},setPermission:function(){}},nextSlip:{controlType:"widget.button.nextSlip",_defaultCss:"btn btn-default btn-sm",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);$.isNull(r.label)&&(r.label=ecount.resource.LBL00956)}},simpleSearch:{controlType:"widget.button.simpleSearch",viewName:"widget.view.button.simpleSearch",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n,t){ecount.control.button.prototype.initializeOptions.apply(this,arguments);var i=t.config||{};_.extend(this,{subTitle:n.subTitle||ecount.resource.widget.QUICKSEARCH,searchList:n.searchList||null,preventOnFocusAtLastIndex:!0,isShowSeason:$.isEmpty(i.AccountCurrentPeriodToDate)?!1:!0,isShowLastSeason:$.isEmpty(i.AccountPreviousPeriodToDate)?!1:!0,searchDateName:n.searchDateName,defaultDateTab:n.defaultDateTab})},onInitState:function(n,t){ecount.control.button.prototype.onInitState.apply(this,arguments);_.merge(t,{"opt.toggledByToolbar":!1,"opt.foldedItems":[]})},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(n){var f=[],i=n.config,e=ecount.resource.widget,t={},u,o,s,h,c,r,l;if(i&&i.CofmDateShortCutMenuMappingButtons&&i.Is_ScMode){for(o=i.PopupCd,s=i.PRG_ID,h=i.MENU_SEQ,c=i.IsSettingButton,isGroupware=i.IsGroupware,u=i.CofmDateShortCutMenuMappingButtons,r=0;r<u.length;r++)t={ecRole:u[r].U_SHORTCUT_NM||u[r].SHORTCUT_NM,cid:this.id,label:u[r].USER_TITLE,fromDate:u[r].FROM_DATE,toDate:u[r].TO_DATE,css:"btn btn-default btn-sm"},this.isShowSeason||t.id!="season"||(t.css+=" hidden"),this.isShowLastSeason||t.id!="lastSeason"||(t.css+=" hidden"),f.push(t);c&&(t={ecRole:"settingButton",label:ecount.resource.BTN00168,PopupCd:o,PRG_ID:s,MENU_SEQ:h,css:"btn btn-default btn-sm"},f.push(t))}else this.searchList&&(l=ecount.constValue.simpleSearchList,e=ecount.resource,this.searchList.forEach(function(n){t={ecRole:n,id:n,label:e[l[n]]};f.push(t)}));return f},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},show:function(n){if(!$.isNull(n))return this.setState(n,"style.display",!0),!0;this.getComponents().forEach(function(n,t){this.setState(t,"style.display",!0)}.bind(this))},hide:function(n){if(!$.isNull(n))return this.setState(n,"style.display",!1),!0;this.getComponents().forEach(function(n,t){this.setState(t,"style.display",!1)}.bind(this))},showByReflow:function(n){var t=this.getState(this._IT_SELF,"opt.foldedItems").slice(0),i;(i=t.indexOf(n))>-1&&(t.splice(i,1),this.setState(this._IT_SELF,"opt.foldedItems",t),this.setState(n,"style.display",!0))},hideByReflow:function(n){var t=this.getState(this._IT_SELF,"opt.foldedItems").slice(0);this.getState(n,"style.display")&&(t.push(n),this.setState(this._IT_SELF,"opt.foldedItems",t),this.setState(n,"style.display",!1))},isToggledByToolbar:function(){return this.getState(this._IT_SELF,"opt.toggledByToolbar")},toggleByToolbar:function(n){this.setState(ecount.constValue.CONTROL_UPDATE_IT_SELF,"opt.toggledByToolbar",!1);n&&this.show()},chagenSearchDateName:function(n){n&&(this.searchDateName=n)},ON_CLICK:function(n,t,i,r){var f=n.cindex,u=this.getComponent(f);_.extend(r,{shortcutName:n.ecRole,cid:n.cid,event:t},this.getSimpleSearchParam(u));u.PopupCd&&(this.isGroupware?!$.isEmpty(u.PRG_ID):u.PRG_ID)&&(r.PopupCd=u.PopupCd,r.PRG_ID=u.PRG_ID,r.MENU_SEQ=u.MENU_SEQ)},serialize:function(){},serializeById:function(){},getValue:function(){},setValue:function(){},changeLabel:function(){},setPermission:function(){}},notificationLayer:{controlType:"widget.button.notificationLayer",viewName:"widget.view.button.notificationLayer",mouseOverInTimer:ecount.common.mouseHoverInTime,mouseHoverOutTime:ecount.common.mouseHoverOutTime,originDefaultParam:null,defaultParam:null,disableItem:null,layerWidth:null,layerHeight:null,popupType:null,layerKey:null,itemList:null,hasAnchorCtrlCallback:!1,_preventLayerOpenByHover:!0,initializeOptions:function(n,t){ecount.control.button.prototype.initializeOptions.apply(this,arguments);_.merge(this,{itemList:[],isEnableHover:n.isEnableHover,disableItem:n.disableItem||[],layerWidth:n._width||n.width,layerHeight:n.height,mouseHoverOutTime:n.mouseHoverOutTime,defaultParam:this._getDefaultParam(n,t)});this.originDefaultParam=_.cloneDeep(this.defaultParam)},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);_.extend(r,{ecService:ecount.layer.constValue.TABLE,ecServiceAttr:ecount.layer.constValue.FIXED,label:"",isClicked:!1,mode:this.isCheckedNotification()?"selected":"normal"})},onLazyRender:function(){var t,i,n;ecount.control.button.prototype.onLazyRender.apply(this,arguments);t=["SMS","EMAIL","MEMO","APP"];i=["WRITER","REPLY","TO","CC","SHARE","CSSHARE"];this.isShowSilpNoti&&this.disableItem&&_.intersection(this.disableItem,t)&&this.executeChangeDelegator({value:this.getValue(this.disableItem.map(function(n){return t.indexOf(n)}))});this.approveId&&(n=[],this.disableItemApprove&&_.intersection(this.disableItemApprove.contains(t))&&(n=this.disableItemApprove.map(function(n){return t.indexOf(n)})),this.defaultParam.USE_SMS||~this.index.indexOf(0)||n.unshift(0),this.executeChangeDelegator({value:this.getValue(n)}));this.isNotificationTarget&&(_.intersection(this.disableItem.contains(i))||_.intersection(this.disableItemApprove.contains(i)))&&(n=[],this.disableItem&&(n=this.disableItem.map(function(n){return i.indexOf(n)})),this.disableItemApprove&&(n=n.concat(this.disableItem.filter(function(n){return this.disableItem.indexOf(n)<0}.bind(this)).map(function(n){return i.indexOf(n)})).sort()))},getLayerServiceKey:function(n){return ecount.common.makeServiceKey(n.ecPath,"notificationLayerKey")},getLayerTableOption:function(){var n=ecount.control.button.prototype.getLayerTableOption.apply(this,arguments);return this._layerKey=n.serviceKey,_.merge(n,{"style.tableCss":"table table-layout-auto table-send-noti","style.tableWidth":this.layerWidth?this.layerWidth<250?250:this.layerWidth:"",preventDestroy:!0,_forcedDisplayPosition:"top",hideDelay:this.mouseHoverOutTime,items:this._getTableItems()})},toggle:function(){var n=ecount.layer.getLayer(this._layerKey);n?this.hide(!0):this.show(!0)},show:function(n){var t,i,r;if(n){t=ecount.layer.getLayer(this._layerKey);t||(i={ecRoleIndex:0,ecService:ecount.layer.constValue.TABLE},r=this.getLayerTableOption(i),ecount.layer.show(r),this._setHiddenToLayerRow());return}this.setState(this._IT_SELF,"style.display",!0)},hide:function(n){if(n){ecount.layer.hide(this._layerKey);return}this.setState(this._IT_SELF,"style.display",!1)},showControlOnLayer:function(n){var t=this._getControl(n);t&&t.show(index)},hideControlOnLayer:function(n){var t=this._getControl(n);t&&t.hide(index)},showRowOnLayer:function(n){var t=ecount.layer.getLayer(this._layerKey);t&&t.showRow(n)},hideRowOnLayer:function(n){var t=ecount.layer.getLayer(this._layerKey);t&&t.hideRow(n)},isCheckedNotification:function(){return!0},onClickLayerHandler:function(){},onClickTableHandler:function(){},onChangeCheckboxHandler:function(){var n=ecount.layer.getLayer(this._layerKey);this.setButtonClass();n._onClicked=!0},destroy:function(){var n=ecount.layer.getLayer(this._layerKey);n&&n.destroy(!0)},_getControl:function(n){var t=ecount.layer.getLayer(this._layerKey);if(t)return t.getControl(n)},_getDefaultParam:function(){return{}},_getNotiWayCtrlId:function(){return this.id+"_notice"},_getTableItems:function(){var n=[];return n.push([_.extend(this._getDefaultHeaderData(0),{label:ecount.resource.LBL09963,cellCss:""}),this._getNotiwayCheckbox(),]),n},_getDefaultHeaderData:function(n){return _.merge({__type:"LABEL",position:widget.generator.CONTENTS,index:n})},_getNotiwayCheckbox:function(){var u,t=this._getNotiWayCtrlId(),n,i,f,r,e,o,s,h=this.itemList.find(function(n){return n.id=="toolbar_"+t});return h?h:(u=widget.generator.control(),n=u.define("widget.checkbox.noticeWay",t,t,ecount.resource.LBL10177),checked={},f=[ecount.resource.LBL93024,ecount.resource.LBL93002,ecount.resource.LBL02695,ecount.resource.LBL10288],r=["SMS","EMAIL","MEMO","APP"],e=[],o=["0","0","0","0"],s=r.reduce(function(n,t,i){return t=t.toLowerCase(),this.disableItem.contains(t)&&n.push(i),n}.bind(this),[]),n.label(f).value(r).hideCheckbox(s).readOnly(!1).select.apply(n,e).setOptions({number:o}).end(),i=this._getContentToolbar(n),this.itemList.push(i),i)},_getContentToolbar:function(n){var t=widget.generator.toolbar().setOptions({ecPageID:this.ecPageID,tabId:this.tabId,isWholeRow:!0}).setId("toolbar_"+n.id);return t.addLeft(n),new ecount.layout.toolbar(t.end())},_setHiddenToLayerRow:function(){},_setLayerCtrlCss:function(n,t){var i=this._getControl(n);i&&i.changeCss&&i.changeCss(t,!0,0)},_setLayerCtrlAddClass:function(n,t){var i=this._getControl(n);i&&i.changeCss&&i.changeCss(i._addClass(t),!0,0)},_setLayerCtrlRemoveClass:function(n,t){var i=this._getControl(n);i&&i.changeCss&&i.changeCss(i._removeClass(t),!0,0)},_isMessageChecked:function(n){return Object.getOwnPropertyNames(n).any(function(t){return~t.indexOf("CHK_YN")&&n[t]=="Y"})},_doSelectAction:function(){return!0},_fixClickedLayer:function(n,t,i){var u=i.serviceKey,r=ecount.layer.getLayer(u);r&&r._isShow?(r.setOnClicked(!1),r.hideDelay=ecount.common.mouseHoverOutTime,ecount.layer.hide(u)):(ecount.layer.setOnClicked(u,!0),ecount.layer.show(i))},_ON_BEFORE_MOUSEOVER:function(){return this.isEnableHover&&!ecount.common.isIOS&&!this.getState(0,"opt.preventClick")},ON_MOUSEOVER:function(n){n.handler==ECountEvent.Type.MOUSEOVER_TABLE&&this._setHiddenToLayerRow()},_ON_BEFORE_ON_MOUSEOUT:function(){return!ecount.common.isIOS},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_CONTROL:return this.onClickLayerHandler(n,t,{});case ECountEvent.Type.CLICK_TABLE:return this.onClickTableHandler(n,t,i,r)}},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_LAYER:return this.onClickLayerHandler(n,t,{});case ECountEvent.Type.CLICK_TABLE:return this.onClickTableHandler(n,t,i,r)}},ON_CHANGE_SERVICE:function(n,t){return this.onChangeCheckboxHandler(n,t)}},customerSupportNotice:{controlType:"widget.button.customerSupportNotice",__inheritParent:"widget.button.notificationLayer",mouseHoverOutTime:400,show:function(){widget.buttons.notificationLayer.prototype.show.call(this,!0)},hide:function(){widget.buttons.notificationLayer.prototype.hide.call(this,!0)},setButtonClass:function(){this.isCheckedNotification()?this.setState(0,"mode","selected"):this.setState(0,"mode","normal")},isCheckedNotification:function(){return this._isMessageChecked(this.defaultParam)},getValue:function(){return _.cloneDeep(this.defaultParam)},onChangeCheckboxHandler:function(n){var t=ecount.layer.getLayer(this._layerKey),i=n.value,r=n.checked?"Y":"N";this.defaultParam[i.toUpperCase()+"_CHK_YN"]=r;this.setButtonClass();t._onClicked=!0},_getDefaultParam:function(n){return{EMAIL_CHK_YN:n.deselectEmail?"N":"Y",MEMO_CHK_YN:n.deselectMemo?"N":"Y"}},_getTableItems:function(){var n=[],t=0;return n.push([_.extend(this._getDefaultHeaderData(t++),{label:ecount.resource.LBL08162,cellCss:""}),this._getNotiwayCheckbox(),]),n},_getNotiwayCheckbox:function(){var u,i=this._getNotiWayCtrlId(),n,r,f,t,e,o,s,h=this.itemList.find(function(n){return n.id=="toolbar_"+i});return h?h:(u=widget.generator.control(),n=u.define("widget.checkbox",i,i,ecount.resource.LBL08162),f=[ecount.resource.LBL93002,ecount.resource.LBL02695],t=["EMAIL","MEMO"],e=t.map(function(n){return this.defaultParam[n+"_CHK_YN"]=="Y"?n:""}.bind(this)),o=["0","0"],s=t.reduce(function(n,t,i){return t=t.toLowerCase(),this.disableItem.contains(t)&&n.push(i),n}.bind(this),[]),n.label(f).value(t).hideCheckbox(s).readOnly(!1).select.apply(n,e).setOptions({number:o}).end(),r=this._getContentToolbar(n),this.itemList.push(r),r)}},notifications:{controlType:"widget.button.notifications",__inheritParent:"widget.button.notificationLayer",popupURL:"/ECERP/Popup.Common/NoticeSetup",isUseSms:!1,isNotificationTarget:!1,isShowSilpNoti:!0,approveId:undefined,boardId:undefined,notiTargetList:null,isPriorityChecked:null,notiTargetLabelList:[ecount.resource.LBL02354,ecount.resource.LBL10790,ecount.resource.LBL02458,ecount.resource.LBL02715,ecount.resource.LBL10989,ecount.resource.LBL09977],disableItemApprove:null,notDataControl:null,allTabSms:!1,initializeOptions:function(n){widget.button.notificationLayer.prototype.initializeOptions.apply(this,arguments);_.merge(this,{isEnableHover:n.isEnableHover,isNotificationTarget:n.isNotificationTarget,isShowSilpNoti:n.isShowSilpNoti,approveId:n.approveId,boardId:n.boardId,notDataControl:n.notDataControl,popupURL:n.isNewFormType?"/ECERP/SVC/Popup/NoticeSetup":this.popupURL,disableItemApprove:n.disableItemApprove||[],hasAnchorCtrlCallback:!!n.isAnchorControlFunction,notiTargetList:["WRITER","REPLY","TO","CC","SHARE","CSSHARE"],allTabSms:n.allTabSms,popupType:n.popupType,openPopupCallback:n.callBack,anchorCtrlCallback:n.isAnchorControlFunction});n.notiTargetLabelList&&(this.notiTargetLabelList=n.notiTargetLabelList);n.addNotiTargetList&&(this.notiTargetList=this.notiTargetList.concat(n.addNotiTargetList));this.isShowSilpNoti&&(this.defaultParam.SETTING_CSS=this._getLinkHighlightCss(this._isSlipReceiverChecked()));this.approveId&&(this.defaultParam.SETTING_APPROVE_CSS=this._getLinkHighlightCss(this._isApprovalReceiverChecked()));n.isUseSms===!0&&(this.defaultParam.USE_SMS=!0);$.isBoolean(n.isPriorityChecked)&&(this.isPriorityChecked=n.isPriorityChecked);this.originDefaultParam=_.cloneDeep(this.defaultParam)},setSelectedBtn:function(n){n===!0?this.addClass("","btn-warning"):n===!1&&this.removeClass("","btn-warning")},setSelectedLink:function(n){n===!0?this._setLayerCtrlAddClass("setting","text-warning"):n===!1&&this._setLayerCtrlRemoveClass("setting","text-warning")},onLazyRender:function(){this._renderServiceSilently()},addClass:function(n,t){if(n=="setting")this._setLayerCtrlAddClass("setting",t);else{var i=this.getState(0,"style.css"),r=ecount.convertor.uniqSumClass(i,"btn-send-notice",t);this.setState(0,"style.css",r)}},removeClass:function(n,t){if(n=="setting")this._setLayerCtrlRemoveClass("setting",t);else{var i=this.getState(0,"style.css"),r=ecount.convertor.removeClass(i,t);this.setState(0,"style.css",r)}},showValidateAlert:function(n){ecount.alert(n,function(){this.isNotificationTarget}.bind(this))},showNotiTarget:function(n){var i=this.notiTargetList[n],t=this.defaultParam.HIDDEN_NOTI_TARGET_LIST.indexOf(i);t>-1&&this.defaultParam.HIDDEN_NOTI_TARGET_LIST.splice(t,1)},hideNotiTarget:function(n){var t=this.notiTargetList[n];~this.defaultParam.HIDDEN_NOTI_TARGET_LIST.indexOf(t)||this.defaultParam.HIDDEN_NOTI_TARGET_LIST.push(t)},displayNoticeApprove:function(n){var t=ecount.layer.getLayer(this._layerKey);$.isNull(n)&&(n=!this.defaultParam.IS_NOTI_APPROVE_HIDDEN);t&&(n?t.showRow("settingApprove"):t.hideRow("settingApprove"));this.defaultParam.IS_NOTI_APPROVE_HIDDEN=!n},displaySettingApprove:function(n){var t=this._getControl("settingApprove");$.isNull(n)&&(n=!this.defaultParam.IS_SETTING_APPROVE_HIDDEN);t&&(n?t.show():t.hide());this.defaultParam.IS_SETTING_APPROVE_HIDDEN=!n},getCheckBoxValidate:function(n){return n.SMS_CHK_YN!="Y"&&n.EMAIL_CHK_YN!="Y"&&n.MEMO_CHK_YN!="Y"?ecount.resource.MSG07348:this.isNotificationTarget==!0&&n.WRITER_CHK_YN!="Y"&&n.REPLY_CHK_YN!="Y"&&n.TO_CHK_YN!="Y"&&n.CC_CHK_YN!="Y"&&n.SHARE_CHK_YN!="Y"&&n.CSSHARE_CHK_YN!="Y"?ecount.resource.MSG07297:!1},getValue:function(){var t=this,n=_.merge({},this.defaultParam,{SMS_PRICE:new Decimal(this.defaultParam.SMS_PRICE||0),AMT_EMONEY:new Decimal(this.defaultParam.AMT_EMONEY||0),SMS_USE_PRICE:new Decimal(0),TOTAL_SMS_USE_PRICE:new Decimal(0),IS_VALID_SMS_PRICE:!0});return this.isShowSilpNoti&&n.DATA.SLIP_DEFAULT.MESSAGE.SMS_CHK_YN=="Y"&&(this.allTabSms===!0?_.extend(n,this._getSMSRelatedData(this._checkHPNO(n.DATA.SLIP_DATA),n)):_.extend(n,this._getSMSRelatedData(n.DATA.SLIP_DEFAULT.RECEIVERS,n)),n.value="Y"),this.approveId&&n.DATA.APPROVAL_DEFAULT.MESSAGE.SMS_CHK_YN=="Y"&&_.extend(n,this._getSMSRelatedData(n.DATA.APPROVAL_DEFAULT.RECEIVERS,n)),n},_checkHPNO:function(n){var t={};return _.each(n,function(n){_.each(n.DATA.RECEIVERS,function(n){t[n.USER_ID]?n.HPNO_CHK_YN==="Y"&&(t[n.USER_ID]=n):t[n.USER_ID]=n})}),_.map(t)},setSettingClass:function(n){var t,i;this.isShowSilpNoti&&(t=n?this._isEApprovalReceiverChecked():this._isSlipReceiverChecked(),this.defaultParam.SETTING_CSS=this._getLinkHighlightCss(t),this._setLayerCtrlCss("setting",this.defaultParam.SETTING_CSS));this.approveId&&(i=this._isApprovalReceiverChecked(),this.defaultParam.SETTING_APPROVE_CSS=this._getLinkHighlightCss(i),this._setLayerCtrlCss("settingApproval",this.defaultParam.SETTING_APPROVE_CSS))},setButtonClass:function(n){var t=this.isCheckedReceivers(n),i=Object.getOwnPropertyNames(t).any(function(n){return t[n]});$.isBoolean(this.isPriorityChecked)&&(i=this.isPriorityChecked);i&&this.isCheckedNotification()?this.setState(0,"mode","selected"):this.setState(0,"mode","normal")},setCheckboxNumber:function(n,t,i){var r=this._getControl(n);r?r.setCheckboxNumber(t,i):this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE.SMS_CHECKED_COUNT=$.isArray(t)?t[0]:t},setCheckBoxCount:function(n){var i=this._getCheckboxCtrl(n),t=this._getMessage(n);i&&(this.setTargetCount(t.WRITER_CHECKED_COUNT,t.REPLY_CHECKED_COUNT,t.TO_CHECKED_COUNT,t.CC_CHECKED_COUNT,t.SHARE_CHECKED_COUNT,t.CSSHARE_CHECKED_COUNT),i.setCheckboxNumber([t.SMS_CHECKED_COUNT,t.EMAIL_CHECKED_COUNT,t.MEMO_CHECKED_COUNT,t.APP_CHECKED_COUNT]))},setTargetCount:function(){var n=this._getControl(this._getNotiTargetCtrlId()),t=[].all(function(n){return $.isNumeric(n)},arguments);n&&t&&n.setCheckboxNumber([].slice.call(arguments,0))},setTargetSelection:function(n){var i=this._getControl(this._getNotiTargetCtrlId()),t=this._getMessage(n),u=[],f=[],r;i&&this.isNotificationForGWBoard()&&(r=this.notiTargetList,[t.WRITER_CHECKED_COUNT,t.REPLY_CHECKED_COUNT,t.TO_CHECKED_COUNT,t.CC_CHECKED_COUNT,t.SHARE_CHECKED_COUNT,t.CSSHARE_CHECKED_COUNT].forEach(function(n,t){n>0?u.push(r[t]):f.push(r[t])}),i.setCheckedValue(u,!0,!1),i.setCheckedValue(f,!1,!1))},setEApprovalCheckboxValue:function(){var t=this._getControl(this._getNotiWayCtrlId()),n=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE;t&&(t.setCheckboxNumber([n.SMS_CHECKED_COUNT,n.EMAIL_CHECKED_COUNT,n.MEMO_CHECKED_COUNT,n.APP_CHECKED_COUNT]),t.setCheckedValue(["SMS","EMAIL","MEMO","APP"].map(function(t){var i=t=="APP"?"APP_PUSH_CHK_YN":t+"_CHK_YN";return n[i]=="Y"?t:""}),!0,!1))},setValue:function(n){n.ApprovalSNoti&&_.extend(this.defaultParam.DATA.APPROVAL_DATA,this.originDefaultParam.DATA.APPROVAL_DATA,n.ApprovalSNoti);n.ApprovalReceivers&&(this.defaultParam.DATA.APPROVAL_DEFAULT.RECEIVERS=n.ApprovalReceivers);n.boardNoti&&(_.extend(this.defaultParam.DATA.SLIP_DEFAULT,n.boardNoti),this.setCheckBoxCount("slip"));n.eApproval&&(_.extend(this.defaultParam.DATA,_.cloneDeep(n.eApproval)),this.setEApprovalCheckboxValue());this.setButtonClass(!!n.eApproval)},isCheckedReceivers:function(n){var t={};if(this.isShowSilpNoti){if(n)return t.slipReceivers=this._isEApprovalReceiverChecked(),t;t.slipReceivers=this._isSlipReceiverChecked()}return this.approveId&&(t.approveReceivers=this._isApprovalReceiverChecked()),this.isNotificationForGWBoard()&&(t.boardReceivers=this._isBoardReceiverChecked()),t},isCheckedNotification:function(){var t=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE,i=this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE,r=this.defaultParam.DATA.APPROVAL_DATA,n=!1;return this.isShowSilpNoti&&(n=this._isMessageChecked(t)),this.approveId&&(n=n||this._isMessageChecked(i)||r.any(function(n){this._isMessageChecked(n.DATA.MESSAGE)}.bind(this))),n},isNotificationForGWBoard:function(){return this.defaultParam.DOC_GUBUN=="999"},setSlipData:function(n,t){if(!_.isEmpty(n)&&!_.isEmpty(t))for(var i=0;i<this.defaultParam.DATA.SLIP_DATA.length;i++)this.defaultParam.DATA.SLIP_DATA[i].DATA.MESSAGE[n==="APP"?"APP_PUSH":n+"_CHK_YN"]=t,n==="MEMO"&&(this.defaultParam.DATA.SLIP_DATA[i].DATA.MESSAGE.APP_PUSH_CHK_YN=t)},onFocusOut:function(){},onMessage:function(n,t){t=t||{};t.noticeType=="slip"?($.extend(this.defaultParam.DATA.SLIP_DATA,Object.clone(t.DATA.SLIP_DATA,!0)),$.extend(this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE,t.DATA.SLIP_DEFAULT.MESSAGE),this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS=Object.clone(t.DATA.SLIP_DEFAULT.RECEIVERS,!0)):($.extend(this.defaultParam.DATA.APPROVAL_DATA,Object.clone(t.DATA.APPROVAL_DATA,!0)),$.extend(this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE,t.DATA.APPROVAL_DEFAULT.MESSAGE),this.defaultParam.DATA.APPROVAL_DEFAULT.RECEIVERS=Object.clone(t.DATA.APPROVAL_DEFAULT.RECEIVERS,!0));this.setButtonClass(t.eApproval);this.setSettingClass(t.eApproval);this.setCheckBoxCount(t.noticeType);this.setTargetSelection(t.noticeType);n||(n={pageID:this.popupURL?this.popupURL.split("/").last():""});n.controlID=this.id;t.control=this;ecount.global.executeCallback(this.ecPageID,this.responseID,n,t)},onClickLayerHandler:function(n){var t=this._getNoticeTypeFromCtrlId(n.cid),i,r;if(!this.defaultParam.MNG_FLAG&&t)if(this.hasAnchorCtrlCallback){if(r=this._getMessage(t),i=this.getCheckBoxValidate(r)){this.showValidateAlert(i);return}this.anchorCtrlCallback()}else ecount.global.setTimeout(this.ecPageID,this.openPopup.bind(this,t),0)},onChangeCheckboxHandler:function(n){var u=ecount.layer.getLayer(this._layerKey),t=n.value,i=n.checked?"Y":"N",f=this._getControl(n.cid),r=this._getNotiTargetCtrlId();if(f){switch(n.cid){case this._getNotiWayCtrlId():this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE[(t=="APP"?"APP_PUSH":t)+"_CHK_YN"]=i;t=="MEMO"&&(this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE.APP_PUSH_CHK_YN=i);this.setSlipData(t,i);break;case r:this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE[t+"_CHK_YN"]=i;break;case this.approveId:this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE[(t=="APP"?"APP_PUSH":t)+"_CHK_YN"]=i;t=="MEMO"&&(this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE.APP_PUSH_CHK_YN=i)}this.executeChangeDelegator({cid:n.cid==r?r:this.cid});this.setButtonClass();this.notDataControl||this.setSettingClass();u._onClicked=!0}},onClickTableHandler:function(){this._setHiddenToLayerRow()},_getDefaultParam:function(n,t){function u(n,t){var r=[],i,u,f;if($.isArray(t)&&t.length>0)for(i=0;i<t.length;i++)u=t[i],f=n.filter(function(n){return n.CODE==u.CODE}),r.push(_.merge({},f[0],u));else r=n;return r}var i=t&&t.result&&t.result.Data,r=_.merge({DOC_GUBUN:null,CHECK_ID_LIST:null,SMS_USE_PRICE:0,TOTAL_SMS_USE_PRICE:0,IS_VALID_SMS_PRICE:!1,IS_NOTI_APPROVE_HIDDEN:!1,IS_SETTING_HIDDEN:!1,IS_SETTING_APPROVE_HIDDEN:!1,HIDDEN_NOTI_TARGET_LIST:[],SETTING_CSS:"",SETTING_APPROVE_CSS:""},t&&t.config);return r.DATA=r.MNG_FLAG?{SLIP_DEFAULT:_.cloneDeep(ecount.control.button.notification.slip.default),SLIP_DATA:_.cloneDeep(ecount.control.button.notification.slip.data),APPROVAL_DEFAULT:_.cloneDeep(ecount.control.button.notification.approval.default),APPROVAL_DATA:_.cloneDeep(ecount.control.button.notification.approval.data)}:{SLIP_DEFAULT:_.extend({},ecount.control.button.notification.slip.default,i&&t.result.Data.SLIP_DEFAULT||{}),SLIP_DATA:u(ecount.control.button.notification.slip.data,i?t.result.Data.SLIP_DATA:null),APPROVAL_DEFAULT:_.extend({},ecount.control.button.notification.approval.default,i&&t.result.Data.APPROVAL_DEFAULT||{}),APPROVAL_DATA:_.extend([],ecount.control.button.notification.approval.data,i&&t.result.Data.APPROVAL_DATA||{})},r},_getTableItems:function(){var n=[],i=0,t,r;return this.isNotificationTarget&&n.push([_.extend(this._getDefaultHeaderData(i++),{label:ecount.resource.LBL10177,cellCss:""}),this._getNotiTargetContentData(),this._getEmptyToolbar()]),this.approveId&&(r=!this.disableItemApprove.contains("link"),t=r?this._getSettingLinkControl("setting_approve"):null,n.push([_.extend(this._getDefaultHeaderData(i++),{label:ecount.resource.LBL11203,cellCss:""}),this._getApprovalNotiwayCheckbox()].concat(r?t:[]))),this.isShowSilpNoti&&(t=this._getSettingLinkControl("setting"),n.push([_.extend(this._getDefaultHeaderData(i++),{label:ecount.resource.LBL09963,cellCss:""}),this._getNotiwayCheckbox(),t])),n},_getNotiTargetContentData:function(){var u,t=this._getNotiTargetCtrlId(),f,i,n,r,e,o,s,h,c,l=this.itemList.find(function(n){return n.id=="toolbar_"+t});return l?l:(u=widget.generator.control(),f=ecount.control.button.notification.slip.checked,i=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE,n=u.define("widget.checkbox.noticeWay",t,t,ecount.resource.LBL10177),e=f(this.defaultParam.MNG_FLAG?null:i),o=this.notiTargetLabelList,s=this.notiTargetList.map(function(n){return e[n]?n:""}),h=this.notiTargetList.map(function(n){return i[n+"_CHECKED_COUNT"]}),c=this.notiTargetList.reduce(function(n,t,i){var r=new RegExp("\\b"+t+"\\b","gi");return(this.disableItem.toString().match(r)||this.disableItemApprove.toString().match(r)||this.defaultParam.HIDDEN_NOTI_TARGET_LIST.toString().match(r))&&n.push(i),n}.bind(this),[]),n.label(o).value(this.notiTargetList.slice(0)).hideCheckbox(c).readOnly(this.defaultParam.MNG_FLAG).select.apply(n,s).setOptions({number:h}).end(),r=this._getContentToolbar(n),this.itemList.push(r),r)},_getApprovalNotiwayCheckbox:function(){var u,a=this.approveId,f,i,t,r,e,o,n,s,h,c,l=this.itemList.find(function(n){return n.id=="toolbar_"+a});return l?l:(u=widget.generator.control(),f=ecount.control.button.notification.approval.checked,i=this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE,t=u.define("widget.checkbox.noticeWay",this.approveId,this.approveName,ecount.resource.LBL11203),e=f(this.defaultParam.MNG_FLAG?null:i),o=[ecount.resource.LBL93024,ecount.resource.LBL93002,ecount.resource.LBL02695,ecount.resource.LBL10288],n=["SMS","EMAIL","MEMO","APP"],s=n.map(function(n){return e[n]?n:""}),h=n.map(function(n){return i[n+"_CHECKED_COUNT"]}),c=n.reduce(function(n,t,i){return(t=t.toLowerCase(),t=="sms")?((!this.defaultParam.USE_SMS||this.disableItemApprove.contains(t))&&n.push(i),n):(this.disableItemApprove.contains(t)&&n.push(i),n)}.bind(this),[]),t.label(o).value(n).hideCheckbox(c).readOnly(this.defaultParam.MNG_FLAG).select.apply(t,s).setOptions({number:h,names:[,,,"APP_PUSH_CHK_YN"],lockKeyIndex:n.indexOf("MEMO"),lockedIndex:n.indexOf("APP")}).end(),r=this._getContentToolbar(t),this.itemList.push(r),r)},_getNotiwayCheckbox:function(){var f,i=this._getNotiWayCtrlId(),e,r,t,u,o,s,n,h,c,l,a=this.itemList.find(function(n){return n.id=="toolbar_"+i});return a?a:(f=widget.generator.control(),e=ecount.control.button.notification.slip.checked,r=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE,t=f.define("widget.checkbox.noticeWay",i,i,ecount.resource.LBL10177),o=e(this.defaultParam.MNG_FLAG?null:r),s=[ecount.resource.LBL93024,ecount.resource.LBL93002,ecount.resource.LBL02695,ecount.resource.LBL10288],n=["SMS","EMAIL","MEMO","APP"],h=n.map(function(n){return o[n]?n:""}),c=n.map(function(n){return r[n+"_CHECKED_COUNT"]}),l=n.reduce(function(n,t,i){return t=t.toLowerCase(),t!="sms"||this.defaultParam.USE_SMS||n.push(i),this.disableItem.contains(t)&&n.push(i),n}.bind(this),[]),t.label(s).value(n).hideCheckbox(l).readOnly(!!this.defaultParam.MNG_FLAG).select.apply(t,h).setOptions({number:c,names:[,,,"APP_PUSH_CHK_YN"],lockKeyIndex:n.indexOf("MEMO"),lockedIndex:n.indexOf("APP")}).end(),u=this._getContentToolbar(t),this.itemList.push(u),u)},_getSettingLinkControl:function(n){var t=n.ecCamelize(!0),u,i,r,f=this.itemList.find(function(n){return n.id=="toolbar_"+t});return f?f:(u=widget.generator.control(),i=u.define(this.defaultParam.MNG_FLAG?"widget.label":"widget.link",t,t.toUpperCase()).label(ecount.resource.LBL80195).css(this.defaultParam[n.toUpperCase()+"_CSS"]).readOnly(this.defaultParam.MNG_FLAG).setOptions({ecService:"service.layer"}),this.defaultParam[["IS",n.toUpperCase(),"HIDDEN"].join("_")]&&i.hide(),r=this._getContentToolbar(i),this.itemList.push(r),r)},_getEmptyToolbar:function(){var n=this.cid+"_emptylabel",t=widget.generator.control().define("widget.label",n,n.toUpperCase()).label("");return this._getContentToolbar(t)},_getSMSRelatedData:function(n,t){var i=n.count(function(n){return n.HPNO_CHK_YN=="Y"});return{SMS_USE_PRICE:t.SMS_PRICE.times(new Decimal(i||0)),TOTAL_SMS_USE_PRICE:t.TOTAL_SMS_USE_PRICE+t.SMS_USE_PRICE,IS_VALID_SMS_PRICE:!!t.AMT_EMONEY.gte(t.SMS_USE_PRICE)}},_getLinkHighlightCss:function(n){return n?"text-warning":""},_getNotiTargetCtrlId:function(){return this.id+"_target"},_getCheckboxCtrl:function(n){switch(n){case"slip":return this._getControl(this._getNotiWayCtrlId());case"approval":return this._getControl(this.approveId)}},_getMessage:function(n){switch(n){case"slip":return this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE;case"approval":return this.defaultParam.DATA.APPROVAL_DEFAULT.MESSAGE}},_getReceivers:function(n){switch(n){case"slip":return this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS;case"approval":return this.defaultParam.DATA.APPROVAL_DEFAULT.RECEIVERS}},_setHiddenToLayerRow:function(){this.defaultParam.IS_NOTI_APPROVE_HIDDEN&&this.hideRowOnLayer("settingApprove")},_getNoticeTypeFromCtrlId:function(n){switch(n){case"setting":return"slip";case"settingApprove":return"approval"}},_isSlipReceiverChecked:function(){return $.isEmpty(this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS)?!1:this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS.any(function(n){return[n.EMAIL_CHK_YN,n.HPNO_CHK_YN,n.MEMO_CHK_YN,n.APP_PUSH_CHK_YN].contains("Y")})},_isEApprovalReceiverChecked:function(){var n=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE;return!!(n.SMS_CHK_YN=="Y"&&n.SMS_CHECKED_COUNT>0||n.EMAIL_CHK_YN=="Y"&&n.EMAIL_CHECKED_COUNT>0||n.MEMO_CHK_YN=="Y"&&n.MEMO_CHECKED_COUNT>0||n.APP_PUSH_CHK_YN=="Y"&&n.APP_CHECKED_COUNT>0)},_isApprovalReceiverChecked:function(){return $.isEmpty(this.defaultParam.DATA.APPROVAL_DEFAULT.RECEIVERS)?!1:this.defaultParam.DATA.APPROVAL_DEFAULT.RECEIVERS.any(function(n){return[n.EMAIL_CHK_YN,n.HPNO_CHK_YN,n.MEMO_CHK_YN,n.APP_PUSH_CHK_YN].contains("Y")})},_isBoardReceiverChecked:function(){if($.isEmpty(this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS)){var n=this.defaultParam.DATA.SLIP_DEFAULT.MESSAGE;return!this.defaultParam.MNG_FLAG&&[n.SMS_CHK_YN,n.EMAIL_CHK_YN,n.MEMO_CHK_YN].contains("Y")}return this.defaultParam.DATA.SLIP_DEFAULT.RECEIVERS.any(function(n){[n.EMAIL_CHK_YN,n.SMS_CHK_YN,n.MEMO_CHK_YN,n.APP_PUSH_YN].contains("Y")})},openPopupCallback:function(n){n({})},anchorCtrlCallback:function(){},_changeButtonMode:function(n){if(this.cid!=n.cid){var t=this.itemList.any(function(n){return n&&n.itemList?n.itemList.any(function(n){return n.isCheckboxControl()?n.getValue():!1}):!1});t}},openPopup:function(n){this.openPopupCallback(this._openPopup.bind(this,n))},_openPopup:function(n,t){var r=_.merge({},this.defaultParam),f=this._getMessage(n),i,u;if(u=this.getCheckBoxValidate(f)){this.showValidateAlert(u);return}i=_.merge(r,{width:this.layerWidth||900,height:this.layerHeight||600,name:(this.popupType===!0?this.id:this.subTitle)||"",url:this.popupURL,RECEIVERS:Object.toJSON(this._getReceivers(n)),responseID:this.callbackID,noticeType:n,ecRepositoryID:ecount.common.createPageOption(this.ecPageID,_.merge({},r))},t);this.delegator?this._executeOpenPopupDelegator(i):ecount.popup.openWindow({url:i.url,name:i.name||"control_popup",param:_.extend(i,{popupLevel:this.popupLevel,parentPageID:this.parentPageID,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0},t),popupType:i.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID})},_executeOpenPopupDelegator:function(n){this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:n,handler:function(n,t,i,r){ecount.popup.openWindow({url:n.url,name:n.name||ecount.resource.LBL06789,param:_.extend({},n,{madal:null,additional:null,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0,popupLevel:r}),modal:n.modal||this._modal,additional:n.additional,popupType:n.popupType,control:{name:this.subTitle,id:this.id},popupLevel:r,parentPageID:i||this.parentPageID,controlCallBack:function(){}})}.bind(this)})},_renderServiceSilently:function(){this._showLayer({ecPath:this.ecPath,ecPageID:this.ecPageID,pcid:this.pcid,cid:this.id,cindex:this.linkIndex,ecService:ecount.layer.constValue.TABLE,handler:ECountEvent.Type.CLICK_TABLE},{},{boundary:{top:-1e3,left:-1e3}});ecount.global.setTimeout(this.ecPageID,function(){var n=this._getTableLayer();n&&n.hide();ecount.runtime.observe(ECountEvent.Type.LAYER_HIDE,null,function(t){n&&this.ecPageID==t.ecPageID&&n.serviceKey==t.serviceKey&&this.setState(0,"isClicked",!1)}.bind(this))}.bind(this),0);ecount.runtime.observe("resize",this.ecPageID,function(){this.setState(0,"isClicked",!1)}.bind(this))},_getTableLayer:function(){var n=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE});return ecount.layer.getLayer(n)},destroy:function(){var n=this._getTableLayer();n&&(n.preventDestroy=!1,ecount.runtime.stopObserving(ECountEvent.Type.LAYER_HIDE),ecount.layer.destroy(this.ecPageID));ecount.runtime.stopObserving("resize",this.ecPageID);this.itemList=[];ecount.control.checkbox.prototype.destroy.apply(this,arguments)}},formStyleLayer:{controlType:"widget.button.formStyleLayer",viewName:"widget.view.button.formStyleLayer",_layerKey:null,layoutInstance:null,items:null,itemList:null,initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);_.extend(this,{initializer:ecount.global.findCallback(this.ecPageID,ecount.widget.initializer),items:n.items||[]})},onInitState:function(n,t){ecount.control.button.prototype.onInitState.apply(this,arguments);_.merge(t,{})},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);_.extend(r,{ecService:"layout.formstylelayer",ecRole:"layerToggle","attr.pressed":u.pressed||!1,"style.css":[u.pressed?"btn btn-warning":"btn btn-default","btn-send-notice"].join(" ")})},onLazyRender:function(){this._renderLayerSilently();ecount.runtime.observe("button.reposition",this.ecIKey,this.setLayerPosition.bind(this))},destroy:function(){var n=this.getLayerInstance();n&&n.destroy();ecount.runtime.stopObserving("button.reposition",this.ecIKey);ecount.control.button.prototype.destroy.apply(this,arguments)},_renderLayerSilently:function(){var t={type:"formstylelayer",ownerKey:this.ecIKey,ecPath:this.ecPath,ecPageID:this.ecPageID,cid:this.id,pcid:this.pcid,layerId:this.id+"_fsl",cindex:0,containerName:this.containerName,tabID:this.tabID,isGridV3:this.isGridV3,hideDelay:this.mouseHoverOutTime,items:this._getLayerItems(),boundary:this.getComponentBoundary(0),preventDestroy:!0,delegator:this.delegator},n=new ecount.layout.formstylelayer(t);this.layoutInstance=n;n.render($(document.body))},_getLayerItems:function(){for(var i=[],n=0,r=this.items.length,t;n<r;n++)t=this.items[n],t._afterViewChange=this.setLayerPosition.bind(this),i.push(this._getInitializedChildrenItem(t));return i},_getInitializedChildrenItem:function(n){var i=widget.generator.control(),t=i.define(n.controlType,n.id,n.name,n.subTitle,n.groupId);return this.initializer&&this.initializer(t.id||n.id,t),t=t.end(),_.extend(t,n,{ecPageID:this.ecPageID,containerName:this.containerName,tabId:this.tabId,delegator:this.delegator}),t},getLayerInstance:function(){return this.layoutInstance},setLayerVisible:function(n){if(n){var t=this.getComponentBoundary(0);this.getLayerInstance().show(t)}else this.getLayerInstance().hide()},getLayerVisible:function(){return this.getLayerInstance().isVisible()},getItemList:function(){return this.getLayerInstance().getItemList()},get:function(n){return this.getLayerInstance().getControl(n)},getIndex:function(n){return this.getLayerInstance().getIndex(n)},setLayerPosition:function(){var n=this.getComponentBoundary(0);this.getLayerInstance().setPosition(n)},setLayerNotClear:function(n){this.getLayerInstance().setNotClear(n)},setPressed:function(n){this.setState(0,"attr.pressed",n)},getPressed:function(){return this.getState(0,"attr.pressed")},getValue:function(n){for(var f,i=[],e=this.getItemList(),t,r,o,u=0,s=e.length;u<s;u++){t=e[u];o=t.controlType.split(".").slice(0,2).join(".");switch(o){case"widget.radio":case"widget.select":case"widget.input":case"widget.input.general":case"widget.label":case"widget.combine":case"widget.custom":r=t.getValue();break;case"widget.checkbox":f=t.getComponents();r=this.isGridV3&&f.length==1&&f[0].value===undefined?t.getValue():t.getStandardValue();break;default:r=t.getStandardValue()}i.push(r)}return $.isNumber(n)?i[n]:_.isString(n)?i[this.getIndex(n)]:i},setValue:function(n){for(var u=this.getItemList(),t,i,r=0,f=u.length;r<f;r++)if(i=u[r],t=n[r],!$.isNull(t))switch(i.controlType){case"widget.checkbox":$.isBoolean(t)?i.setValue(t):i.setStandardValue(t);break;default:i.setStandardValue(t)}},serialize:function(){for(var t,n=[],r=this.getItemList(),i=0,u=r.length;i<u;i++)t=r[i].serialize(),$.isArray(t)?n=n.concat(t):n.push(t);return n},serializeById:function(){for(var t,n=[],r=this.getItemList(),i=0,u=r.length;i<u;i++)t=r[i].serializeById(),$.isArray(t)?n=n.concat(t):n.push(t);return n},ON_CLICK:function(n){switch(n.handler){case"click.layout.formstylelayer":var t=this.getComponentBoundary(0);this.getLayerInstance()&&this.getLayerInstance().toggle(t)}}},autoNotifications:{viewName:"widget.view.button.autoNotifications",controlType:"widget.button.autoNotifications",originDefaultParam:null,defaultParam:null,disableItem:null,layerWidth:null,layerHeight:null,popupType:null,layerKey:null,itemList:null,popupURL:"/ECERP/SVC/POPUP/NotiDetails",etcType:"ETC",summaryCallBack:null,defaultDropdownOptions:[{id:"A",label:ecount.resource.LBL18109,liCss:"send-notice-confirm"},{id:"C",label:ecount.resource.LBL18110,liCss:"send-notice-auto-confirm"},{id:"N",label:ecount.resource.LBL18111,liCss:"send-notice-not-confirm"},{id:"X",label:ecount.resource.LBL18112,liCss:"send-notice-not-notice"},],initializeOptions:function(n,t){ecount.control.button.prototype.initializeOptions.apply(this,arguments);_.merge(this,{itemList:[],isEnableHover:n.isEnableHover,disableItem:n.disableItem||[],layerWidth:n._width||n.width,layerHeight:n.height,defaultParam:this._getDefaultParam(n,t),dropdownOptions:n.dropdownOptions||this.defaultDropdownOptions,fixedDropdown:n.fixedDropdown,_layerKey:"autoNotifications",popupURL:this.popupURL,popupType:n.popupType,openPopupCallback:n.callBack});this.originDefaultParam=_.cloneDeep(this.defaultParam)},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);_.extend(r,{ecService:ecount.layer.constValue.NOTIFICATIONDROPDOWN,ecServiceTrigger:"click",ecServiceAttr:ecount.layer.constValue.FIXED,label:"",buttonActiveMode:this.checkNotification(this.defaultParam.NoticeMode)?"selected":"normal",noticeMode:this.defaultParam.NoticeMode})},getLayerServiceKey:function(n){return ecount.common.makeServiceKey(n.ecPath,"autoNotificationsKey")},getLayerNotificationdropdownOption:function(n,t){var r=n.ecFunctionId?n.ecFunctionId:this.defaultParam.NoticeMode,i;return this.setActiveClass(this.defaultParam.NoticeMode),this.dropdownOptions&&this.dropdownOptions.length?(i=this.dropdownOptions||[],_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",isSetDropdownSize:!!(i.length>8),_forcedDisplayPosition:this.containerName=="footer"?"top":"",items:i,isNotifications:!0,baseType:!0,boundary:this.getContainerBoundary()})):!1},setActiveClass:function(n){this.dropdownOptions.forEach(function(t){t.liCss.indexOf("active")>-1&&(t.liCss=t.liCss.replace("active",""));t.id===n&&(t.liCss+=" active")})},getValue:function(){return this.defaultParam},setValue:function(){this.setButtonNotiTypeClass(this.defaultParam.NOTICE_MODE);this.setButtonModeClass(this.checkNotification(this.defaultParam.NOTICE_MODE))},getButtonNoticeMode:function(){return this.getState(0,"noticeMode")},setButtonModeClass:function(n){n?this.setState(0,"buttonActiveMode","selected"):this.setState(0,"buttonActiveMode","normal")},setButtonNotiTypeClass:function(n){n&&(this.defaultParam.NoticeMode=n,this.setState(0,"noticeMode",n))},checkNotification:function(n){var t=!1;return(n==="A"||n==="C"||n==="N")&&(t=!0),t},onFocusOut:function(){},onMessage:function(n,t){var i={};t=t||{};$.isNull(t.type)?(this.defaultParam.AutomationReceiver=t.AutomationReceiver,this.defaultParam.AutomationMessage=t.AutomationMessage,t.callback&&t.callback(),this.setButtonModeClass(this.checkNotification("C")),this.setButtonNotiTypeClass("C"),this.defaultParam.NoticeMode="C"):(t.type=="getReceiverInfo"?i={AutomationReceiver:Object.clone(this.defaultParam.AutomationReceiver),AutomationMessage:Object.clone(this.defaultParam.AutomationMessage)}:t.type=="getReceiverInfoSummary"?i={AutomationReceiver:Object.clone(this.defaultParam.AutomationReceiverSummary),AutomationName:Object.clone(this.defaultParam.AutomationName),AutomationMessage:Object.clone(this.defaultParam.AutomationMessage)}:t.type=="setApply"&&(this.defaultParam.AutomationReceiver=t.AutomationReceiver,$.isEmpty(t.AutomationName)&&(this.defaultParam.AutomationInfo=[]),this.summaryCallBack&&this.summaryCallBack()),t.callback&&t.callback(i))},onClickLayerHandler:function(n){n.ecFunctionId&&n.ecFunctionId!=="settings"&&(this.setButtonModeClass(this.checkNotification(n.ecFunctionId)),this.setButtonNotiTypeClass(n.ecFunctionId),this.defaultParam.NoticeMode=n.ecFunctionId);n.ecFunctionId==="settings"&&ecount.global.setTimeout(this.ecPageID,this.openPopup.bind(this,this.getValue().NoticeMode),0)},_ON_BEFORE_MOUSEOVER:function(){return this.isEnableHover&&!ecount.common.isIOS&&!this.getState(0,"opt.preventClick")},_ON_BEFORE_ON_MOUSEOUT:function(){return!ecount.common.isIOS},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_CONTROL:return this.onClickLayerHandler(n,t,{});case ECountEvent.Type.CLICK_TABLE:return this.onClickTableHandler(n,t,i,r)}},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_LAYER:return this.onClickLayerHandler(n,t,{});case ECountEvent.Type.CLICK_TABLE:return this.onClickTableHandler(n,t,i,r)}},_getDefaultParam:function(n,t){var r=t&&t.result&&t.result.Data,i={};return r&&(i={NoticeMode:t.config.NoticeMode,ProgramId:t.config.FromProgramId,WriterId:t.config.WriterId,ModifierId:t.config.ModifierId,AutomationReceiver:[],AutomationName:[],AutomationMessage:{},AutomationInfo:[]}),i},openPopupCallback:function(n){n({})},openPopup:function(){if(this.defaultParam.AutomationReceiver.length==0){var n={Request:{WriterId:this.defaultParam.WriterId,ModifierId:this.defaultParam.ModifierId,FromProgramId:this.defaultParam.ProgramId}};ecount.common.api({ecPageID:this.ecPageID,url:"/Svc/Common/Infra/GetListAutomationNotiDefaultReceiver",data:n,success:function(n){this.defaultParam.AutomationReceiver=Object.clone(n.Data)||[];this.openPopupCallback(this._openPopup.bind(this))}.bind(this)});return}this.openPopupCallback(this._openPopup.bind(this))},_openPopup:function(n){var t=_.merge({},{width:this.layerWidth||1e3,height:this.layerHeight||600,name:(this.popupType===!0?this.id:this.subTitle)||"",url:this.popupURL,responseID:this.callbackID,FromProgramId:this.defaultParam.ProgramId,ecRepositoryID:ecount.common.createPageOption(this.ecPageID,_.merge({},this.defaultParam))},n);this.delegator?this._executeOpenPopupDelegator(t):ecount.popup.openWindow({url:t.url,name:t.name||"control_popup",param:_.extend(t,{popupLevel:this.popupLevel,parentPageID:this.parentPageID,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0,FromProgramId:this.defaultParam.ProgramId},n),popupType:t.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID})},_executeOpenPopupDelegator:function(n){this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:n,handler:function(n,t,i,r){ecount.popup.openWindow({url:n.url,name:n.name||ecount.resource.LBL06789,param:_.extend({},n,{madal:null,additional:null,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0,popupLevel:r}),modal:n.modal||this._modal,additional:n.additional,popupType:n.popupType,control:{name:this.subTitle,id:this.id},popupLevel:r,parentPageID:i||this.parentPageID,controlCallBack:function(){}})}.bind(this)})},openSummaryPopup:function(n,t,i){if(this.summaryCallBack=i,["X"].contains(this.defaultParam.NoticeMode))this.summaryCallBack&&this.summaryCallBack();else{var r={EditMode:t,FromProgramId:this.defaultParam.ProgramId,LoadData:n};ecount.common.api({ecPageID:this.ecPageID,url:"/Svc/Common/Infra/GetListAutomationNotiReceiver",data:r,success:function(n){var t=[],r,u,i,f;for(n.Data.ReceiverInfo&&n.Data.ReceiverInfo.forEach(function(n){this.defaultParam.AutomationReceiver.where(function(t){return t.ID==n.ID&&n.GROUP_TYPE==t.GROUP_TYPE}.bind(this)).length==0&&t.push(n)}.bind(this)),this.defaultParam.AutomationReceiver.forEach(function(n){t.push(n)}.bind(this)),r=[],t.forEach(function(n){n.GROUP_TYPE==this.etcType&&r.add(n)}.bind(this)),u=t.length-1;u>-1;u--)t[u].GROUP_TYPE==this.etcType&&t.remove(u);r=r.sort(function(n,t){return t.SITE-n.SITE});r.forEach(function(n){t.push(n)});this.defaultParam.NoticeMode!="A"&&(this.defaultParam.NoticeMode!="C"||$.isEmpty(n.Data.AutomationInfoList))?(this.defaultParam.AutomationReceiver=t,this.defaultParam.AutomationInfo=n.Data.AutomationInfoList,this.summaryCallBack&&this.summaryCallBack()):(this.defaultParam.AutomationReceiverSummary=t,$.isEmpty(this.defaultParam.AutomationReceiver)&&(this.defaultParam.AutomationName=[],$.isEmpty(n.Data.AutomationInfoList)||n.Data.AutomationInfoList.forEach(function(n){this.defaultParam.AutomationName.push(n.AutomationName)}.bind(this)),this.defaultParam.AutomationInfo=n.Data.AutomationInfoList||[]),i=_.merge({},{width:this.layerWidth||500,height:this.layerHeight||330,name:(this.popupType===!0?this.id:this.subTitle)||"",url:this.popupURL,responseID:this.callbackID,ecRepositoryID:ecount.common.createPageOption(this.ecPageID,_.merge({},f))}),f={Request:_.merge({},this.defaultParam)},i=_.merge({},{width:this.layerWidth||500,height:this.layerHeight||500,name:(this.popupType===!0?this.id:this.subTitle)||"",url:"/ECERP/SVC/POPUP/NotiSummary",responseID:this.callbackID,FromProgramId:this.defaultParam.ProgramId,modal:!0,ecRepositoryID:ecount.common.createPageOption(this.ecPageID,_.merge({},f))}),this.delegator?this._executeOpenPopupDelegator(i):ecount.popup.openWindow({url:i.url,name:i.name||"control_popup",param:_.extend(i,{popupLevel:this.popupLevel,parentPageID:this.parentPageID,__ecPageID:this.ecPageID,alreadyIncludedLayout:!0,modal:!0}),popupType:i.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID}))}.bind(this)})}}},align:{controlType:"widget.button.align",viewName:"widget.view.button.align",_align:"align",alignButtonValue:null,init:function(){ecount.control.button.prototype.init.apply(this,arguments)},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this._align=n._align||"align";this._useFixedValues=n.data.length===3&&n.data.every(function(n){return!$.isNull(n.value)});this._isFixedSelected=this._useFixedValues&&n.data.some(function(n){return!$.isNull(n.selected)})},onInitState:function(n,t,i){var r=i.data?i.data[0].value:-1;ecount.control.button.prototype.onInitState.apply(this,arguments);this.__state["opt.selectedindex"]=r},getInitDataComponents:function(n,t,i){for(var r=Object.clone(i.data||[],!0),u=r.length;u<3;u++)r.push({});return r},getInitComponents:function(){return[{},{},{}]},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);var f=this._align=="align"?["left","center","right"]:["top","middle","bottom"],e=this._isSelected(t,this.getInitDataComponents(n,i,u));_.extend(r,{id:this.id,label:'<span class="icon align-'+f[t]+'" data-index="'+t+'"><\/span>',"style.css":this._defaultCss+(e?" active":""),value:this._useFixedValues?r.value:t,pcid:this._pcid})},_isSelected:function(n,t){return this._isFixedSelected?t[n].selected:t[0].value===n?!0:!1},setValue:function(n){var i,t;if(_.isEmpty(n)&&(n=this._align=="align"?"center":"middle"),this._useFixedValues){for(t=0;t<this.getComponents().length;t++)if(i=this.getComponent(t),n==i.value){this.setValueByIndex(i.index);break}}else this.setValueByIndex(n)},setValueByIndex:function(n){this.setState(this._IT_SELF,"opt.selectedindex",n)},getValue:function(){var n=this.getState(this._IT_SELF,"opt.selectedindex");return this._useFixedValues?this.getComponent(n).value:n},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()},n])},serializeById:function(){return this.serialize(this.id)},ON_CLICK:function(n){$.isNull(n.cindex)||this.setState(this._IT_SELF,"opt.selectedindex",n.cindex)}},fontStyle:{controlType:"widget.button.fontStyle",viewName:"widget.view.button.fontStyle",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(){return[{},{},{},{}]},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);var f=["bold","uline","italic","line-through"],o=(u.data||[]).filter(function(n){return!$.isNull(n.value)}).map(function(n){return n.value}),e=o.contains(t);_.extend(r,{id:this.id,label:'<span class="text-'+f[t]+'" id="'+[this.id,f[t]].join("-").ecCamelize(!0)+'" data-cid="'+r.cid+'" data-index="'+t+'">A<\/span>',"style.css":this._defaultCss+(e?" active":""),"opt.selected":e})},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},setValue:function(n){n=$.isArray(n)?n:[n];for(var t=0,i=this.getComponents().length;t<i;t++)n.contains(t.toString())?this.setState(t,"opt.selected",!0):this.setState(t,"opt.selected",!1)},getValue:function(){for(var t=[],n=0,i=this.getComponents().length;n<i;n++)this.getState(n,"opt.selected")&&t.push(n);return t},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()},n])},serializeById:function(){return this.serialize(this.id)},ON_CLICK:function(n){$.isNull(n.cindex)||this.setState(n.cindex,"opt.selected",!this.getState(n.cindex,"opt.selected"))}},sidePaging:{controlType:"widget.button.sidePaging",baseTemplateType:!0,_defaultCss:"",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},onInitState:function(n,t,i){t.components||(t.components=[{}]);t.baseType=i.baseType||!0},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(){return[{},{}]},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);var f,u;f="((button))";t===0?u="prev":t===1&&(u="next");_.extend(r,{id:this.id,label:"",template:f,"style.css":u})},_getArrowButtonType:function(n){var t="";switch(n.cindex){case 0:t="Previous";break;case 1:t="Next"}return t},ON_CLICK:function(n,t,i,r){var u=this._getArrowButtonType(n,t);r.buttonType=u;r.cid=this.id;r.cindex=n.cindex;r.cname=this.name}},paging:{template:"<span>\r((button))\r((button))\r((button))\r((button))\r((label))\r<\/span>",controlType:"widget.button.paging",viewName:"widget.view.button.paging",_defaultCss:"",init:function(){ecount.control.button.prototype.init.apply(this,arguments);ecount.runtime.observe("mousewheel",this.ecPageID,this._ON_MOUSE_WHEEL.bind(this))},onInitState:function(n,t,i){ecount.control.button.prototype.onInitState.apply(this,arguments);this.__state["opt.currentpage"]=i._currentPage||1;this.__state["opt.totalpage"]=i._totalPage||0;this.__state["opt.isautochangecurrentpage"]=$.isNull(i._isAutoChangeCurrentPage)?!0:i._isAutoChangeCurrentPage},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(){return[{},{},{},{},{}]},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);var h=this.getState(this._IT_SELF,"opt.currentpage"),s=this.getState(this._IT_SELF,"opt.totalpage"),f,e,o;e=u.data&&u.data[t]&&u.data[t].css?u.data[t].css:"btn btn-default btn-width-auto";t===4?(o=String.format(ecount.resource.LBL10722,h,s?s:"0"),f="((label))",e=""):(o='<span class="fa fa-angle-'+["double-left","left","right","double-right"][t]+'" data-cid="'+r.cid+'" data-index="'+t+'"><\/span>',f="((button))");_.extend(r,{id:this.id,label:o,template:f,"style.css":e})},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},_getArrowButtonType:function(n){var t="";switch(n.cindex){case 0:t="First";break;case 1:t="Previous";break;case 2:t="Next";break;case 3:t="Last"}return t},_changeCurrentPageAutomatically:function(n){var t=this.getState(this._IT_SELF,"opt.currentpage"),i=this.getState(this._IT_SELF,"opt.totalpage");switch(n){case"First":t=1;break;case"Previous":t=t>1?t-1:t;break;case"Next":t=t<i?t+1:t;break;case"Last":t=i}this.setState(this._IT_SELF,"opt.currentpage",t)},autoChangeCurrentPage:function(n){this.setState(this._IT_SELF,"opt.isautochangecurrentpage",n===!0)},getCurrentPage:function(){return this.getState(this._IT_SELF,"opt.currentpage")},getTotalPage:function(){return this.getState(this._IT_SELF,"opt.totalpage")},setCurrentPage:function(n){n>0&&n<=this.getState(this._IT_SELF,"opt.totalpage")&&this.setState(this._IT_SELF,"opt.currentpage",n)},setTotalPage:function(n){n>0&&this.setState(this._IT_SELF,"opt.totalpage",n)},destroy:function(){ecount.runtime.stopObserving("mousewheel",this.ecPageID,this._ON_MOUSE_WHEEL.bind(this));ecount.control.button.prototype.render.apply(this,arguments)},ON_CLICK:function(n,t,i,r){var u=this._getArrowButtonType(n,t);if(n.cindex===4)return!1;this.getState(this._IT_SELF,"opt.isautochangecurrentpage")===!0&&this._changeCurrentPageAutomatically(u);r.buttonType=u;r.cid=this.id;r.cindex=n.cindex;r.cname=this.name},_ON_MOUSE_WHEEL:function(n){var t;ec$.getTargetEcIKey(n.target)===this.getEcIKey()&&(t=n.originalEvent.wheelDelta>0||n.originalEvent.detail<0?"Next":"Previous",this.getState(this._IT_SELF,"opt.isautochangecurrentpage")===!0&&this._changeCurrentPageAutomatically(t),n.buttonType=t,n.stopPropagation(),n.preventDefault())}},loadSlip:{controlType:"widget.button.loadSlip",viewName:"widget.view.button.loadSlip",_defaultCss:"btn btn-primary btn-width-auto",slipOptions:null,dropdownOptions:null,initializeOptions:function(n){var t=n._loadSlipOption||{},i=_.extend({},t,ecmodule.inventory.loadslipinfo.setButton(this.ecPageID,t));_.extend(this,{_layerKey:"additional",slipOptions:i,dropdownOptions:n.dropdownOptions||[],applyCallback:n.applyCallBack})},_onInitState:function(n,t,i){_.extend(t,{"opt.isComboWH":this.slipOptions.isComboWH||!1,"opt.isComboAGCon":this.slipOptions.isComboAGCon||!1,"opt.isDataAllApply":this.slipOptions.isDataAllApply||!1,"opt.isDataRemainApply":this.slipOptions.isDataRemainApply||!1,"opt.isCboxPurchasePric":this.slipOptions.isCboxPurchasePric||!1,"opt.isLinetypeCheck":this.slipOptions.isLinetypeCheck||!1,"opt.settingValue":this.slipOptions.settingValue||!1,"opt.hasApplyCallback":!!i.applyCallBack});ecount.control.button.prototype._onInitState.apply(this,arguments)},onInitComponent:function(n,t,i,r){ecount.control.codes.prototype.onInitComponent.apply(this,arguments);r.name=="selectLoadSlip"&&(r["style.css"]="btn-group-select-inline")},getLoadSlipType:function(){return this._getLoadSlipType.apply(this,arguments)},getInitDataComponents:function(n,t,i){return this._getComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getComponents(n,t,i)},getLayerServiceKey:function(n){var t=this._layerKey||n.cindex;return ecount.common.makeServiceKey(this.ecPath,t)},getLayerDropdownOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{items:this.dropdownOptions||[],baseType:!0,boundary:this.getContainerBoundary()})},serialize:function(){},serializeById:function(){},getValue:function(){},setValue:function(){},changeLabel:function(){},setPermission:function(){},refresh:function(){ecount.layer.hide(ecount.common.makeServiceKey(this.ecPath,this._layerKey))},isShowSelectBox:function(){return this.getState(this._IT_SELF,"opt.isComboAGCon")||this.getState(this._IT_SELF,"opt.isComboWH")},getLayerDropdownOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{items:this.dropdownOptions||[],baseType:!0,boundary:this.getContainerBoundary()})},getSelectedValue:function(){return this.getState(0,"selectedValue")},setSelectedValue:function(n){var t=this.getState(0,"option");selectedLabel=this._getSelectLabel(this.getState(0,"option"),n);this.setState(0,"selectedValue",n);this.setState(0,"selectedLabel",selectedLabel)},setReadOnly:function(n,t){var i=this.isShowSelectBox()?0:1;$.isNull(t)?t+=i:t=this._IT_SELF;this._setStateByType.apply(this,["attr.disabled",t])},showElement:function(n){var r=this.isShowSelectBox()?0:1,i,t;for($.isArray(n)||(i=[n]),t=0;t<i.length,n;t++){if(n=i[t]+r,n==2){this.setState("caret","style.display",!0);continue}this.setState(n,"style.display",!0)}},hideElement:function(n){var r=this.isShowSelectBox()?0:1,i,t;for($.isArray(n)||(i=[n]),t=0;t<i.length,n;t++){if(n=i[t]+r,n==2){this.setState("caret","style.display",!1);continue}this.setState(n,"style.display",!1)}},removeGroupItem:function(){this.dropdownOptions&&this.dropdownOptions.length&&this.dropdownOptions.splice(0,1)},addGroupItem:function(){this.dropdownOptions.length==0&&(this.addDropdownOptions(),this.refresh())},applyCallback:function(){},onClickSelectHandler:function(n){return this.ecview&&!this.ecview.hasFocus(n.cindex)&&this.setFocus(n.ecRoleIndex),!1},onButtonClickHandler:function(n){if(this._clickOnce&&(ecount.layer.hide(this.getLayerServiceKey(n)),this.setState(n.cindex,"opt.preventClick",!0)),this.getState(this._IT_SELF,"opt.hasApplyCallback"))this.applyCallback(this._getLoadSlipType());else return ecount.control.button.prototype.ON_CLICK.apply(this,arguments)},onLayerClickHandler:function(n,t,i,r){if(n.ecFunctionId=="allApply")return this.onDropdownClickHandler(n,t,i,r);if(n.ecFunction=="select")return this.onSelectboxClickHandler(n,t,i,r)},onDropdownClickHandler:function(){if(this._clickOnce){if(this.getState(1,"opt.preventClick"))return!1;this.setState(1,"opt.preventClick",!0)}this.getState(this._IT_SELF,"opt.hasApplyCallback")?this.applyCallback("T"):this.delegator.triggerEvent("dropdown.click",this._getDefaultDelegatorInfo())},onSelectboxClickHandler:function(n,t,i,r){var u=r.selected,f=this.getState(r.index,"selectedValue");this.getState(this._IT_SELF,"opt.isComboAGCon")&&this.getState(this._IT_SELF,"opt.isDataAllApply")&&this.getState(this._IT_SELF,"opt.isLinetypeCheck")&&(f=="1"?ecount.confirm(ecount.resource.MSG06115,function(n){n?this.setSelectedValue(u.value):this.setSelectedValue(f)}.bind(this)):this.setSelectedValue(u.value))},_getComponents:function(n,t,i){var e=this.isShowSelectBox()?0:1,f=(i._hiddenIndexList||[]).map(function(n){return n+e}),o=this.getState(this._IT_SELF,"opt.settingValue"),r=this._getSelctBoxOption(),u=o||(r[0]?r[0].value:undefined);return[{name:"selectLoadSlip",ecService:"layer.selectbox",option:r,selectedValue:u,selectedLabel:this._getSelectLabel(r,u),"style.display":this.isShowSelectBox()&&!~f.indexOf(0)},{label:this._getButtonLabel(u),"style.display":!~f.indexOf(1),"opt.preventClick":!1}]},_getSelectLabel:function(n,t){var i=n.find(function(n){return n.value==t});return i?i.label:t},_getSelectedPrefixCss:function(n,t){var i=t.find(function(t){return t.value==n});if(i)return i.prefixCss},_getButtonLabel:function(){return this.isShowSelectBox()?!this.getState(this._IT_SELF,"opt.isDataAllApply")?ecount.resource.LBL10735:ecount.resource.LBL10734:this.getState(this._IT_SELF,"opt.isDataAllApply")?ecount.resource.LBL10734:ecount.resource.BTN00069},_getSelctBoxOption:function(){return this.getState(this._IT_SELF,"opt.isComboAGCon")?[{value:"2",label:ecount.resource.LBL03311,id:this.id+"_opt_2"},{value:"1",label:ecount.resource.LBL09363,id:this.id+"_opt_1"},{value:"4",label:ecount.resource.LBL03312,id:this.id+"_opt_4"}]:this.getState(this._IT_SELF,"opt.isComboWH")?[{value:"3",label:String.format(ecount.resource.LBL00040,"1"),id:this.id+"_opt_3"},{value:"2",label:ecount.resource.LBL00564,id:this.id+"_opt_2"},{value:"1",label:ecount.resource.LBL08019,id:this.id+"_opt_1"}]:[]},_getLoadSlipType:function(){if(this.getState(this._IT_SELF,"opt.isDataAllApply")){if(this.getState(this._IT_SELF,"opt.isDataRemainApply")&&this.getState(this._IT_SELF,"opt.isLinetypeCheck")&&this.getState(this._IT_SELF,"opt.isComboAGCon"))return this.getSelectedValue()=="1"?"R":"T";if(this.getState(this._IT_SELF,"opt.isDataRemainApply")&&this.getState(this._IT_SELF,"opt.isComboWH"))return"R";if(!this.getState(this._IT_SELF,"opt.isDataRemainApply"))return"T"}else if(this.getState(this._IT_SELF,"opt.isDataRemainApply"))return"R";return"A"},_doSelectAction:function(){return!0},_ON_BEFORE_MOUSEOVER:function(n){return(n.cindex==1||n.ecFunctionId=="allApply")&&this.getState(1,"opt.preventClick")?!1:ecount.control.button.prototype._ON_BEFORE_MOUSEOVER.apply(this,arguments)},ON_CLICK:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_SELECT:return this.onClickSelectHandler(n,t,i,r);case ECountEvent.Type.CLICK_CONTROL:return this.onButtonClickHandler(n,t,i,r);case ECountEvent.Type.CLICK_LAYER:return this.onLayerClickHandler(n,t,i,r)}},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.handler){case ECountEvent.Type.CLICK_SELECT:return this.onClickSelectHandler(n,t,i,r);case ECountEvent.Type.CLICK_LAYER:return this.onLayerClickHandler(n,t,i,r)}}},search:{controlType:"widget.button.search",viewName:"widget.view.button.search",_defaultCss:"",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments);this.__state["opt.showinput"]=!1},getInitDataComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(n,t,i){return[{label:i.data[0].label,cid:this.id,name:this.name||"","style.css":"btn btn-sm btn-default"},{value:"",cid:this.id,name:this.name||"","style.css":"textbox-inline"}]},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},showSearchText:function(){this.setState(this._IT_SELF,"opt.showinput",!0);this.setFocus(1)},hideSearchText:function(){this.setState(this._IT_SELF,"opt.showinput",!1)},toggleSearchText:function(){var n=this.getState(this._IT_SELF,"opt.showinput");n===!0?this.hideSearchText():this.showSearchText()},getValue:function(n){return $.isNull(n)&&(n=1),ecount.control.input.prototype.getValue.apply(this,[n])},ON_CLICK:function(n){if(n.cindex!=0)return!1},ON_FOCUSOUT:function(n){n.cindex==1&&(this.hideSearchText(),this.setValue(1,""))}},sideLabel:{controlType:"widget.button.sideLabel",viewName:"widget.view.button.sideLabel",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeViewOptions:function(n){ecount.control.button.prototype.initializeViewOptions.apply(this,arguments);_.extend(this.__viewOptions,{leftText:n.leftText||"",rightText:n.rightText||""})},render:function(){ecount.control.button.prototype.render.apply(this,arguments)}},option:{controlType:"widget.button.option",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this._layerKey="option";this._clickOnce=!0},onInitState:function(n,t){ecount.control.button.prototype.onInitState.apply(this,arguments);t.components||(t.components=[{}])},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.dropdown";r.ecServiceAttr=ecount.layer.constValue.FIXED},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},getLayerDropdownOption:function(n,t){var i=this._layerKey;return _.extend(this.getLayerDefaultOption(n,t),{directionX:"right",items:this.dropdownOptions||[],baseType:!0,boundary:this.getContainerBoundary()})}},otherSlip:{controlType:"widget.button.otherSlip",callbackID:null,responseID:null,ecPageID:null,notUseTitleResource:null,isModal:!1,popupType:!1,parentUrl:"",initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);_.merge(this,{callbackForClickLayer:n.callBack,isModal:n._modal||!1,popupType:n.popupType,rbRptSort:n.rbRptSort,parentUrl:n.parentUrl})},onInitComponent:function(n,t,i,r){if(ecount.control.button.prototype.onInitComponent.apply(this,arguments),n&&n.result&&n.config){var u=n.result,f=n.config,e=f.UI_TYPE=="TABLE";_.extend(r,{ecService:e?ecount.layer.constValue.TABLE:ecount.layer.constValue.DROPDOWN,ecServiceAttr:ecount.layer.constValue.FIXED,label:ecount.resource[f.BUTTON_NAME]||r.label,apiUrl:f.UPDATE_API_URL,items:e?this._getTableItems(u.Data):this._getDropdownItems(u.Data),rawInitData:u.Data})}},openPopup:function(n){var t=_.extend({},n,{width:n.width||900,height:n.height||600,name:(this.popupType===!0?this.id:this.subTitle)||"",url:n.url,popupType:n.popupType===!0,responseID:this.callbackID});if(this.delegator){this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:t,handler:function(n,t,i,r){var u={url:n.url,name:n.name||ecount.resource.LBL06789,param:_.extend({},n,{additional:"",modal:"",responseID:t,popupLevel:r,__ecPageID:this.ecPageID,alreadyIncludedLayout:!n.popupType}),popupType:n.popupType,modal:n.modal||this.isModal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:n.additional,parentPageID:i||this.parentPageID};ecount.popup.openWindow(u)}.bind(this)});return}ecount.popup.openWindow({url:n.url,name:t.name||"control_popup",param:_.extend(t,{alreadyIncludedLayout:!t.popupType,__ecPageID:this.__ecPageID,parentPageID:this.parentPageID,popupLevel:this.popupLevel}),popupType:t.popupType,modal:this.isModal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID})},openPopupAfterCheckInvoice:function(n){ecmodule.account.common.checkConnectInvoice({ecPageID:this.ecPageID,PARAM:{width:800,height:600,EditFlag:"I",s_system:n.TRX_TYPE+n.SER_NO,rbRptSort:this.rbRptSort,popupType:!1,isOpenPopup:!0},hidSearchData:{USE_DEFAULT_DATE:"N",SLIP_TYPE:"",TRX_DATE:"",TRX_NO:"",TRX_TYPE:n.TRX_TYPE,SER_NO:n.SER_NO,PRG_URL:"",PARENT_URL:this.parentUrl||"/ECErp/EBG/EBG001M"},callback:function(t){var i,u,r;if(!t.URL){this.openPopup({width:800,height:600,trx_type:n.TRX_TYPE,ser_no:n.SER_NO,ListYn:"Y",popupType:!0,url:n.URL_PATH,ROOM_SEQ:n.ROOM_SEQ});return}i=_.extend({},t.PARAM,{url:t.URL,IsPopup:!0,isOpenPopup:!0,ROOM_SEQ:n.ROOM_SEQ});["/ECErp/EBA/EBA062M_CON"].indexOf(t.URL)>=0&&(r=ecount.infra.getPageWidthFromConfig()+10,u=r>1020?r:1020,i.width=u,i.height=550,i.url="/ECERP/EBA/EBA062M");~["/ECERP/SVC/EBD/EBD010M_09","/ECERP/SVC/EBD/EBD010M_10"].indexOf(t.URL)&&(i=_.extend(i,{Request:{Key:{Date:null,No:null},EditMode:ecenum.editMode.new,FromProgramId:"",PrevUrl:t.hidSearchData.PARENT_URL,UIOption:{Width:800,Height:600},TrxType:t.hidSearchData.TRX_TYPE,SerNo:t.hidSearchData.SER_NO},width:800,height:600}));this.openPopup(i)}.bind(this)})},getInitComponents:function(){return[{id:this.id,label:""}]},getLayerServiceKey:function(n){var t=this._layerKey||n.cindex;return ecount.common.makeServiceKey(this.ecPath,t)},getLayerDropdownOption:function(n,t){var i=this.getComponent(n.cindex);return _.extend(this.getLayerDefaultOption(n,t),{items:i.items||[],baseType:!0,boundary:this.getContainerBoundary()})},getLayerTableOption:function(){var n=ecount.control.button.prototype.getLayerTableOption.apply(this,arguments);return _.extend(n,{"style.css":"generate-other-slips","style.tableCss":"table-hover table-th-left table-border-no-a table-nowrap"})},onDropdownLinkClickHandler:function(n){var r=this.getComponent(0).rawInitData,t=r[+n.ecFunctionId],i;if(!t)return!1;(t.CLASS_CD=="LU01"||this.callbackForClickLayer)&&(t.IS_MENU_LINK||t.MENU_SEQ=="507"||this._callUpdateAPI(_.extend({URL:this.getState(0,"apiUrl")},t)),t.CLASS_CD!="LU01"||t.IS_MENU_LINK?(i=this._getPopupParameter(t),i&&this.openPopup(i)):this.openPopupAfterCheckInvoice(t))},onContentsLinkClickHandler:function(n,t,i,r){var e=this.getComponent(0).rawInitData,o=r.dataset,s=o.functionid,h=n.cindex,u=e[+s],c=u.SHOW_LINK[h],f={VALUE:c.VALUE,MENU_SEQ:u.MENU_SEQ};if(!u||(u.MENU_SEQ!="507"&&this._callUpdateAPI(_.extend({URL:this.getState(0,"apiUrl")},u)),!this.callbackForClickLayer))return!1;f=this.callbackForClickLayer(_.extend(f,u));f&&(u.MENU_SEQ=="489"&&f.VERSION_NOS?this._callForOrderVersionCheck(f,u):this.openPopup(_.extend(f,{url:f.url||u.URL_PATH})))},onFooterLinkClickHandler:function(n){var r=this.getComponent(0).rawInitData,u=n.cindex,t=r[u],f={width:500,height:500,url:t.URL_PATH,MENU_TYPE:t.CLASS_CD,MENU_SEQ:t.MENU_SEQ,ROOM_SEQ:t.ROOM_SEQ},i;if(!this.callbackForClickLayer)return!1;i=this.callbackForClickLayer(_.cloneDeep(t));i!=undefined&&i!=!1&&this.openPopup(_.extend({},i,f))},onMessage:function(n,t){n||(n={pageID:this.popupURL?this.popupURL.split("/").last():""});n.controlID=this.id;t.control=this;ecount.global.executeCallbak(this.ecPageID,this.responseID,n,t)},_getDropdownItems:function(n){return n.map(function(n,t){return{id:t,label:ecount.resource[n.RESX_CODE],value:n.CLASS_SEQ,css:n.IS_MENU_LINK?"text-default":"",isFooter:!!n.IS_MENU_LINK}})},_getTableItems:function(n){for(var i,r,u,f=[],t=0,e=n.length;t<e;t++)i=n[t],r=[],i.IS_MENU_LINK?r.push(this._getMenuLinkData(i,t)):(r.push(this._getControlHeaderData(i,t)),i.SHOW_LINK.length&&(u=[],i.SHOW_LINK.reduce(this._getHiddenDropdownItems.bind(this,t),u),r.push({__type:"LINK",items:u}))),f.push(r);return f},_getMenuLinkData:function(n,t){return{label:ecount.resource[n.RESX_CODE],value:n.VALUE,position:widget.generator.FOOTER,headerDirection:"top",css:"text-default",index:t}},_getControlHeaderData:function(n,t){return{label:ecount.resource[n.RESX_CODE],value:n.VALUE,__type:"LABEL",cellCss:"",position:widget.generator.CONTENTS,index:t}},_getHiddenDropdownItems:function(n,t,i,r){return t.push({label:i.NAME.isResource()?ecount.resource[i.NAME]:i.NAME,ecFunction:"layer.link",ecFunctionId:n,position:widget.generator.CONTENTS,index:r}),t},_getPopupParameter:function(n){var i,t;return(n.IS_MENU_LINK?(i=_.cloneDeep(n),t={width:500,height:500,MENU_TYPE:n.CLASS_CD,MENU_SEQ:n.MENU_SEQ,ROOM_SEQ:n.ROOM_SEQ}):i=_.extend({VALUE:"",MENU_SEQ:n.MENU_SEQ},n),n.CLASS_CD=="LU01")?_.extend(t,{url:t&&t.url?t.url:n.URL_PATH}):(t=this.callbackForClickLayer(i),_.extend(t,{url:t&&t.url?t.url:n.URL_PATH}))},_callUpdateAPI:function(n){ecount.common.api({ecPageID:this.ecPageID,url:n.URL,data:Object.toJSON(n.UPDATE_API_PARAM),success:function(){}})},_doSelectAction:function(){return!0},_callForOrderVersionCheck:function(n,t){var i=this;ecount.common.api({ecPageID:this.ecPageID,url:"/SVC/Inventory/SaleOrder/GetListSale030VersionCheck",data:Object.toJSON(n.VERSION_NOS),success:function(r){if(r.Data.length>0){var u=String.format(ecount.resource.MSG01088,"","")+"<br/>";return r.Data.forEach(function(n){u+="<br/>"+n.Key.REQ_DATE+"-"+n.Key.REQ_NO}.bind(this)),ecount.alert(u),!1}i.openPopup(_.extend(n,{url:n.url||t.URL_PATH}))}.bind(this)})},ON_CLICK:function(){if(this._clickOnce){if(this.getState(0,"opt.preventClick"))return!1;this.setState(0,"opt.preventClick",!0)}},ON_CLICK_SERVICE:function(n,t,i,r){var u=ecount.layer.getLayer(r.ecIKey);if(this._clickOnce){if(this.getState(0,"opt.preventClick"))return!1;this.setState(0,"opt.preventClick",!0)}u&&u.hide();switch(n.ecRole){case"layer.contents":return this.onContentsLinkClickHandler(n,t,i,r);case"layer.footer":return this.onFooterLinkClickHandler(n,t,i,r);default:return this.onDropdownLinkClickHandler(n,t,i,r)}},_ON_BEFORE_MOUSEOVER:function(){return!ecount.common.isIOS&&!this.getState(0,"opt.preventClick")},_ON_BEFORE_ON_MOUSEOUT:function(){return!ecount.common.isIOS}},controlLayer:{controlType:"widget.button.controlLayer",viewName:"widget.view.button.controlLayer",_isSmall:!1,initializer:null,itemList:null,initializeOptions:function(n){_.merge(this,{initializer:ecount.global.findCallback(this.ecPageID,ecount.widget.initializer),_layerKey:this.id+"_table",colgroup:n.colgroup,customCss:n.customCss,tableType:n.tableType,itemList:[]});n._isSmall===!0||_.isEmpty(n.buttonArrowDirection)||(this.buttonArrowDirection=n.buttonArrowDirection=="up"?"up":"down")},initializeViewOptions:function(n){ecount.control.button.prototype.initializeViewOptions.apply(this,arguments);_.extend(this.__viewOptions,{isSmallButton:n._isSmall})},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService=ecount.layer.constValue.DROPDOWN;u.ecServiceTrigger!==""&&(r.ecServiceTrigger="mouseover");u.items&&(_.extend(r,{ecService:ecount.layer.constValue.TABLE,ecServiceAttr:ecount.layer.constValue.FIXED,items:this._getTableItems(u.items)}),u.headerDirection&&(r.headerDirection=u.headerDirection));u._isSmall!==!0&&this.buttonArrowDirection=="up"?r["style.css"]="btn btn-default btn-arrow btn-arrow-up":u._isSmall!==!0&&this.buttonArrowDirection=="down"&&(r["style.css"]="btn btn-default btn-arrow btn-arrow-down")},onLazyRender:function(){this._renderServiceSilently()},getLayerServiceKey:function(n){var t=this._layerKey||n.cindex;return ecount.common.makeServiceKey(this.ecPath,t)},getLayerTableOption:function(n){var r=ecount.control.button.prototype.getLayerTableOption.apply(this,arguments),u=this.getComponent(n.cindex),t="dropdown-menu-collapsed-control-click",i="table-hover table-th-left table-layout-auto table-border-no-a table-nowrap";return this.tableType=="table"&&(t="text-center",i="table-hover table-bordered table-nowrap"),_.extend(r,u,{showingUpDelay:ecount.common.mouseHoverInTime,hideDelay:ecount.common.mouseHoverOutTime,preventDestroy:!0,colgroup:this.colgroup,_forcedDisplayPosition:this.buttonArrowDirection=="up"?"top":"bottom","style.css":t,"style.tableCss":i})},getStandardValue:function(){return[]},hideDropdown:function(){var n=ecount.common.makeServiceKey(this.ecPath,this._layerKey),t=ecount.layer.getLayer(n);t&&(t.setOnClicked(!1),ecount.layer.hide(n),this.setState(0,"opt.preventClick",!1))},hideDropdownRow:function(n){var i=ecount.common.makeServiceKey(this.ecPath,this._layerKey),t=ecount.layer.getLayer(i);t&&t.hideRow(n)},showDropdownRow:function(n){var i=ecount.common.makeServiceKey(this.ecPath,this._layerKey),t=ecount.layer.getLayer(i);t&&t.showRow(n)},getDropdownControl:function(n){for(var t,i,u=this.itemList,f,r=0;r<u.length;r++)if(t=u[r].itemList,t)for(i=0;i<t.length;i++)if(t[i].id===n){f=t[i];break}return f},onMouseoverHandler:function(n,t,i,r){i.id==this.id&&(r.command=["on",i.containerName,i.id].join("_").ecCamelize(!0))},onClickButtonHandler:function(n,t,i,r){var u=this.getLayerServiceKey(n),f=ecount.layer.getLayer(u);f&&i&&(r.command=["on",i.containerName,i.id].join("_").ecCamelize(!0))},onControlChangeHandler:function(n,t){var i=this.getLayerServiceKey(n),r=ecount.layer.getLayer(i);r&&this.executeChangeDelegator({ecEvent:n,event:t})},destroy:function(){var n=this._getTableLayer();n&&(n.preventDestroy=!1,n.destroy(!0))},_getTableItems:function(n){for(var r,i,u=[],t=0,f=n.length;t<f;t++)r=n[t],i=[],i.push(this._getControlHeaderData(r,t)),i.push(this._getControlContentData(r,t)),u.push(i);return u},_getTableLayer:function(){var n=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE});return ecount.layer.getLayer(n)},_renderServiceSilently:function(){this._showLayer({ecPath:this.ecPath,ecPageID:this.ecPageID,pcid:this.pcid,cid:this.id,cindex:this.linkIndex,ecService:ecount.layer.constValue.TABLE,handler:ECountEvent.Type.CLICK_TABLE},{},{boundary:{top:-1e3,left:-1e3}});ecount.global.setTimeout(this.ecPageID,function(){var n=this._getTableLayer();n&&(this.itemList=n.itemList,n.hide())}.bind(this),ecount.common.mouseHoverInTime)},_getControlHeaderData:function(n,t){return{label:n.subTitle,__type:"LABEL",cellCss:"",position:widget.generator.CONTENTS,index:t}},_getControlContentData:function(n){var t=widget.generator.toolbar().setOptions({ecPageID:this.ecPageID,containerName:this.containerName,tabId:this.tabId,isWholeRow:this.customCss=="text-center"?!1:!0,customCss:this.customCss||""});return t.addLeft(this._getInitializedChildrenItem(n)),t},_getInitializedChildrenItem:function(n){var i=widget.generator.control(),t=i.define(n.controlType,n.id,n.name,n.subTitle,n.groupId);return this.initializer&&this.initializer(t.id||n.id,t),t=t.end(),_.extend(t,n,{ecPageID:this.ecPageID,containerName:this.containerName,tabId:this.tabId}),t},_ON_BEFORE_MOUSEOVER:function(){return!ecount.common.isIOS&&!this.getState(0,"opt.preventClick")},ON_MOUSEOVER:function(n,t,i,r){if(n.handler=="mouseover.layer.table")this.onMouseoverHandler(n,t,i,r)},_ON_BEFORE_ON_MOUSEOUT:function(){return!ecount.common.isIOS},ON_MOUSEOUT:function(n){if(n.ecService=="service.layer"){var t=this.getLayerServiceKey(n),i=ecount.layer.getLayer(t);i||(this.itemList=[],this.setState(0,"opt.preventClick",!1))}},ON_CLICK:function(n,t,i,r){if(i&&i.id!=this.id)return!1;this.setState(0,"opt.preventClick",!0);this.onClickButtonHandler(n,t,i,r)},ON_CLICK_SERVICE:function(n,t,i,r){var u;if(i&&i.isCheckboxControl())return!1;u=this.getLayerServiceKey(n);this.onClickButtonHandler(n,t,i,r);u&&i&&i.controlType&&i.controlType.indexOf("widget.link")!=-1&&ecount.layer.removeLayer(u)},ON_CHANGE_SERVICE:function(n,t,i){if(i)this.onControlChangeHandler(n,t,i)},hideLayerDropdown:function(){this.hideDropdown()}},dropdownList:{controlType:"widget.button.dropdownList",dropdownOptions:null,_selObj:null,css:"btn btn-default dropdown-toggle",template:'<div class="btn-group btn-group-select ">((button))<span class="select-arrow" data-suspend="mousedown"><\/span><\/div>',init:function(){this._onSelfClick=!1;ecount.control.button.prototype.init.apply(this,arguments)},_mergeAttr:function(){var e,f;if(this.data[0].css||(this.data[0].css=this.css),this._pcid&&(this.data[0].pcid=this._pcid),e=this._NotSelectMessage||ecount.resource.LBL05716,this.data[0].cid=this.id,!this.dropdownOptions){var n=[],t=[],u=[],i=[],r=[];u.push({id:"dotum",value:"dotum",label:"돋움",css:"font-dotum"});u.push({id:"gulim",value:"gulim",label:"굴림",css:"font-gulim"});u.push({id:"batang",value:"batang",label:"바탕",css:"font-batang"});u.push({id:"gungsuh",value:"gungsuh",label:"궁서",css:"font-gungsuh"});t.push({id:"arial",value:"arial",label:"Arial",css:"font-arial"});t.push({id:"Verdana",value:"Verdana",label:"Verdana",css:"font-Verdana"});t.push({id:"times-new-roman",value:"times-new-roman",label:"Times New Roman",css:"font-times-new-roman"});t.push({id:"georgia",value:"georgia",label:"Georgia",css:"font-georgia"});t.push({id:"trebuchet-ms",value:"trebuchet-ms",label:"Trebuchet MS",css:"font-trebuchet-ms"});t.push({id:"tahoma",value:"tahoma",label:"Tahoma",css:"font-tahoma"});t.push({id:"comic-sans-ms",value:"comic-sans-ms",label:"Comic Sans MS",css:"font-comic-sans-ms"});t.push({id:"courier-new",value:"courier-new",label:"Courier New",css:"font-courier-new"});t.push({id:"arial-black",value:"arial-black",label:"Arial Black",css:"font-arial-black"});t.push({id:"book-antiqua",value:"book-antiqua",label:"Book Antiqua",css:"font-book-antiqua"});t.push({id:"helvetica",value:"helvetica",label:"Helvetica",css:"font-helvetica"});t.push({id:"impact",value:"impact",label:"Impact",css:"font-impact"});t.push({id:"calibri",value:"calibri",label:"Calibri",css:"font-calibri"});t.push({id:"microsoft-sans-serif",value:"microsoft-sans-serif",label:"Microsoft Sans Serif",css:"font-microsoft-sans-serif"});i.push({id:"microsoft-yahei",value:"microsoft-yahei",label:"microsoft yahei",css:"font-microsoft-yahei"});i.push({id:"hiragino-sans",value:"hiragino-sans",label:"苹果丽黑",css:"font-hiragino-sans"});i.push({id:"simsun",value:"simsun",label:"宋体",css:"font-simsun"});i.push({id:"simhei",value:"simhei",label:"黑体",css:"font-simhei"});i.push({id:"kaiti",value:"kaiti",label:"楷体",css:"font-kaiti"});i.push({id:"fangsong",value:"fangsong",label:"仿宋",css:"font-fangsong"});i.push({id:"lishu",value:"lishu",label:"隶书",css:"font-lishu"});i.push({id:"youyuan",value:"youyuan",label:"幼圆",css:"font-youyuan"});r.push({id:"ms-pgothic",value:"ms-pgothic",label:"ＭＳ Ｐゴシック",css:"font-ms-pgothic"});r.push({id:"ms-pmincho",value:"ms-pmincho",label:"ＭＳ Ｐ明朝",css:"font-ms-pmincho"});r.push({id:"ms-gothic",value:"ms-gothic",label:"ＭＳ ゴシック",css:"font-ms-gothic"});r.push({id:"ms-mincho",value:"ms-mincho",label:"ＭＳ 明朝",css:"font-ms-mincho"});r.push({id:"meiryo",value:"meiryo",label:"メイリオ",css:"font-meiryo"});this.isNotUseSetFontManually!==!0&&n.push({id:"default",value:"default",label:e,css:""});this._lanType=="ko-KR"?(n=$.merge(n,u),n.push({label:"",liCss:"divider"}),n=$.merge(n,t),n.push({label:"",liCss:"divider"}),n=$.merge(n,i),n.push({label:"",liCss:"divider"}),n=$.merge(n,r)):this._lanType=="zh-CN"?(n=$.merge(n,i),n.push({label:"",liCss:"divider"}),n=$.merge(n,u),n.push({label:"",liCss:"divider"}),n=$.merge(n,t),n.push({label:"",liCss:"divider"}),n=$.merge(n,r)):this._lanType=="ja-JP"?(n=$.merge(n,r),n.push({label:"",liCss:"divider"}),n=$.merge(n,u),n.push({label:"",liCss:"divider"}),n=$.merge(n,t),n.push({label:"",liCss:"divider"}),n=$.merge(n,i)):(n=$.merge(n,t),n.push({label:"",liCss:"divider"}),n=$.merge(n,u),n.push({label:"",liCss:"divider"}),n=$.merge(n,i),n.push({label:"",liCss:"divider"}),n=$.merge(n,r));this.dropdownOptions=n}f=this.dropdownOptions.find(function(n){return n.value==this.data[0].label}.bind(this));f||(f=this.isNotUseSetFontManually===!0?this.dropdownOptions[0]:{id:"default",value:"default",label:e,css:""});this._selObj=f;this.data[0].label=f.label},render:function(){ecount.control.button.prototype.render.apply(this,arguments);this.createDropdownList(this.dropdownOptions,this.$el);this.setLabel(this._selObj)},createDropdownList:function(n,t){this.dropdownMenu=new ecount.layout.dropdown({pcid:this.id,items:n,prefix:"button",delegator:this.events,baseType:!1,direction:!1,isSetDropdownSize:!0,pnode:t,popupID:this.popupID,popupLevel:this.popupLevel,eventContainer:this.eventContainer,containerName:this.containerName||"",ecPageID:this.ecPageID,onClick:this.clickDropdownHandler.bind(this),onBeforeHide:function(n){this._onclicked=!1;n&&n.target&&this.$el.find(n.target).length>0&&(this._onSelfClick=!0)}.bind(this)});this.dropdownMenu.render(t)},_ON_CLICK:function(n){if(this._onSelfClick===!0||this.$el.hasClass("disabled"))return this._onSelfClick=!1,!1;this.getFn().toggle(n)},setLabel:function(n){this.$el.find("button").removeClass(this._selObj.css).addClass(n.css).html(n.label);this._selObj=n},setValue:function(n){var t=this.dropdownOptions.find(function(t){return t.value==(n==""?"default":n)}.bind(this));t&&this.setLabel(t)},getValue:function(){return this._selObj.value=="default"?"":this._selObj.value},getLabel:function(){return this._selObj.value=="default"?"":this._selObj.label},clickDropdownHandler:function(n){n.__self=this;n.value=n.targetID.split("-").length>2?n.targetID.split("-").splice(2).join("-"):n.targetID;n.targetID=this.displayID;var t=this.dropdownOptions.find(function(t){return t.value==n.value}.bind(this));t&&(this.setLabel(t),this.delegator&&this.delegator.triggerEvent(n.type,n),this.$el.trigger("change"))},setReadOnly:function(n){n?this.$el.addClass("disabled"):this.$el.removeClass("disabled")}},dropdownLink:{controlType:"widget.button.dropdownLink",__inheritParent:"widget.button.dropdownList",useColumns:!1,init:function(){widget.button.dropdownList.prototype.init.apply(this,arguments)},render:function(){widget.button.dropdownList.prototype.render.apply(this,arguments)},createDropdownList:function(n,t){this.dropdownMenu=new ecount.layout.layerDropdown.anchor({pcid:this.id,$parent:this.$el,items:n,useColumns:this.useColumns,isSetDropdownSize:!0,pnode:t,popupID:this.popupID,popupLevel:this.popupLevel,eventContainer:this.eventContainer,containerName:this.containerName||"",ecPageID:this.ecPageID,onClick:this.clickDropdownHandler.bind(this),onBeforeHide:function(){this._onclicked=!1}.bind(this)});this.dropdownMenu.render(t)},clickDropdownHandler:function(n,t){var r=t.attr("data-pid"),u,i;n.__self=this;n.targetID=this.displayID;i=this.find(n.identify,r);i&&(this.setLabel(i),n.data=_.extend({},i,{parent:u}),this.delegator&&this.delegator.triggerEvent(n.type,n))},redraw:function(n){$.isArray(n)&&n.length>0&&(this.dropdownOptions=n,this.dropdownMenu.redraw(n))},find:function(n,t){var i;return this.useColumns==!0?(i=this.dropdownOptions.first(function(n){return n.id==t}),i&&(obj=i.items.first(function(t){return t.id==n}))):obj=this.dropdownOptions.find(function(t){return t.id==n}),obj},setValue:function(n){var t=this.dropdownOptions.find(function(t){return t.value==(n==""?"default":n)}.bind(this));t&&this.setLabel(t)},showMenu:function(){this.dropdownMenu.show()}},paperAirplaine:{controlType:"widget.button.paperAirplaine",viewName:"widget.view.button.paperAirplaine",__inheritParent:"widget.button",onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);_.extend(r,{id:this.id,pcid:this._pcid,label:"",mode:u.mode||"normal",value:u.mode=="selected"?"choose":""})},getValue:function(){return this.getState(0,"value")},ON_CLICK:function(n,t){this.getState(0,"value")=="choose"?(this.setState(0,"mode","normal"),this.setState(0,"value","")):(this.setState(0,"mode","selected"),this.setState(0,"value","choose"));this.executeChangeDelegator({ecEvent:n,event:t})}},glasses:{controlType:"widget.button.glasses",viewName:"widget.view.button.glasses",_defaultCss:"btn btn-default btn-code-search btn-width-auto"},large:{controlType:"widget.button.large",__inheritParent:"widget.button",_defaultCss:"btn btn-primary btn-block btn-xl"},light:{controlType:"widget.button.light",__inheritParent:"widget.button",_defaultCss:"btn btn-transparant btn-lg btn-tutorial"},toggling:{controlType:"widget.button.toggling",viewName:"widget.view.button.toggling",valueA:"A",valueB:"B",initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);_.isArray(n.toggleValue)&&(this.valueA=_.isNil(n.toggleValue[0])?this.valueA:n.toggleValue[0],this.valueB=_.isNil(n.toggleValue[1])?this.valueB:n.toggleValue[1])},onInitState:function(n,t,i){t["popover.type"]="";t["popover.message"]="";t["popover.directShow"]="";t["popover.trigger"]="";t["popover.toggle"]=!1;t.toggleClass=i.toggleClass;t.togglePopover=i.togglePopover},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.label="";r.value=this.valueB==r.value?this.valueB:this.valueA;i.toggleClass&&(r["style.css"]=ecount.convertor.uniqSumClass(r["style.css"],this.getToggleClass(r.value,i.toggleClass)))},onLazyRender:function(){var n=this.getValue(0);this.toggleType(n,!1,!1)},ON_CLICK:function(){var n=this.getValue(0);n==this.valueA?this.toggleType(this.valueB):this.toggleType(this.valueA)},ON_FOCUSOUT:function(){this.destroyPopover(this._IT_SELF)},toggleType:function(n,t,i){var n=n||this.getValue(0),f=this.getState(this._IT_SELF,"toggleClass"),r=this.getState(this._IT_SELF,"togglePopover"),e=r&&r[0],o=r&&r[1],u;n==this.valueA?(this.setValue(0,this.valueA),this.destroyPopover(this._IT_SELF),this.setPopover(this._IT_SELF,{message:e,directShow:t!=!1})):(this.setValue(0,this.valueB),this.destroyPopover(this._IT_SELF),this.setPopover(this._IT_SELF,{message:o,directShow:t!=!1}));this.removeClass(f.join(" "));u=this.getToggleClass(n,f);!this.getState(0,"attr.disabled")||(u+=" disabled");this.addClass(u);i!=!1&&this.executeChangeDelegator({syncHandler:this.toggleType,args:[n,!1,!1]})},getToggleClass:function(n,t){return n==this.valueB?t[1]:t[0]},setReadOnly:function(){var n=arguments.length===2?arguments[1]:arguments[0];this._super.setReadOnly.apply(this,arguments);n===!0?this.addClass("disabled"):this.removeClass("disabled")},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue().replace(/^[\s\xC2\xA0]+/,"").replace(/\u00A0/g," ")},n])},getValue:function(n){return this.getState(n||0,"value")},reset:function(){ecount.control.button.prototype.reset.apply(this,arguments);this.__renderCompleted&&this.onLazyRender()},restore:function(){ecount.control.button.prototype.restore.apply(this,arguments);this.__renderCompleted&&this.onLazyRender()},getSyncData:function(){return!1}},dragButton:{controlType:"widget.button.dragButton",viewName:"widget.view.button.dragButton",_isSmall:!1,dragInstance:null,_useResetData:!0,_isValidated:!1,_defaultCss:"btn btn-default",defaultLabel:"default",maxlength:20,parentButton:!1,initializeOptions:function(n){_.merge(this,{initializer:ecount.global.findCallback(this.ecPageID,ecount.widget.initializer),customCss:n.customCss,shortcut:n.shortcut,labelData:n.labelData,dragButtons:n.dragButtons,defaultLabel:n.defaultLabel,isSingle:n.isSingle||!1,isPrimary:n.isPrimary||!1,isSendNotice:n.isSendNotice||!1,isFlag:n.isFlag||!1,isCheck:n.isCheck||!1,dropdownOptions:n.dropdownOptions});n._isSmall&&(this._defaultCss=this._defaultCss+" btn-sm");this.isPrimary&&(this._defaultCss=this._defaultCss.replace("default","primary"));this.isSendNotice&&(this._defaultCss=this._defaultCss+" btn-send-notice");this.isFlag&&(this._defaultCss=this._defaultCss+" btn-flag");this.isCheck&&(this._defaultCss=this._defaultCss+" btn-check")},getInitComponents:function(){var n=Object.clone(this.dragButtons||[],!0);return this.isSingle===!1&&n.push({id:"buttonAddArea",label:""}),n},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments)},onInitComponent:function(n,t,i,r){var u=this.isSingle==="dink"||this.isSingle==="only";r.id!=="buttonAddArea"?_.extend(r,{cid:t===0?this.id:r.id,editable:!1,defaultLabel:r.label||"",ecRole:t===0?"parent":"child",ecService:u?"":ecount.layer.constValue.DROPDOWN,ecServiceAttr:u?"":ecount.layer.constValue.FIXED,"style.css":this._defaultCss}):_.extend(r,{cid:r.id,defaultLabel:"",ecRole:"buttonAddArea",ecService:"",ecServiceAttr:"","style.css":this._defaultCss+" draggable-holder draggable-holder-default"})},initializeViewOptions:function(n){ecount.control.button.prototype.initializeViewOptions.apply(this,arguments);_.extend(this.__viewOptions,{isSmallButton:n._isSmall})},getLayerDropdownOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{directionX:"right",_forcedDisplayPosition:"top",items:this.dropdownOptions||[],boundary:this.getComponentBoundary(n.cindex),isNotFixedLayer:!0})},getLayerServiceKey:function(n){var t=n.cid;return ecount.common.makeServiceKey(n.ecPath,t)},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.cid,value:{cid:n||this.id,label:this.getState(0,"label"),dragButtons:this.dragButtons,shortcut:this.shortcut,labelData:this.labelData}},n])},serializeById:function(){return this.serialize(this.id)},getComponentIndex:function(n){var t=-1;return this.getComponents().forEach(function(i,r){i.cid===n&&(t=r)}),t},removeComponent:function(n){var i=null,r=this.getComponents(),t=this.getComponentIndex(n);if(t>-1)return r.splice(t,1),this.__state.components=r,i=this.dragButtons.splice(t,1),this.dragButtons.length>0?this.ecview.redrawDragButton(this.__state.components):this.destroy(),i},addComponent:function(n,t){var r=this.getComponents(),i=this.getComponentIndex(t.targetID),u=n.dragButtons;return t.position==="insertAfter"&&(i+=1),r.splice(i,0,u[0]),this.__state.components=r,this.dragButtons.splice(i,0,u[0]),this.dragButtons},getDragButtons:function(n){return _.isUndefined(n)?this.dragButtons:this.dragButtons[n]},getDefaultLabel:function(n){var t=this.getComponentIndex(n);if(t>-1)return this.getComponent(t).defaultLabel},setDragButtons:function(n){this.dragButtons=n},changeShortcut:function(n){this.shortcut=n},changeLabelData:function(n){this.labelData=n},setEditableLabel:function(n){var t=this.getComponentIndex(n)!==-1?this.getComponentIndex(n):0;this.setState(t,"editable",!0)},_changeButtonLabel:function(n,t,i){var u=this.getComponentIndex(t)!==-1?this.getComponentIndex(t):0,r=this.getDragButtons(u);_.isArray(r)||(r=[r],r.length>0&&(r[0].label=n,r[0].labelData=n));u===0&&(i?this.changeLabelData(""):this.changeLabelData(n));this.setState(u,"label",n,!0);this.setState(u,"editable",!1)},_validateTabName:function(n,t){var r=t.keyCode,u=$(t.target),i=n.text&&n.text.toString(),f=document.getSelection(),e=f.getRangeAt(0);if(this.getState(n.cindex,"editable")){if(![13,35,36,37,39].contains(r)&&i.length>=this.maxlength&&e.collapsed==!0)return this._showError(n,t),this._isValidated=!0,this._validateTime||(this._validateTime=ecount.global.setTimeout(this.ecPageID,function(){u.text(i);this._validateTime=null}.bind(this),0)),!1;this._isValidated&&this._hideError(n,t)}return!0},_showError:function(n,t){var i={popoverMessage:String.format(ecount.resource.MSG00297,this.maxlength,this.maxlength),directShow:!0};this.ecview.setPopover(i,$(t.target));this.ecview.showErrorDragButton(n.id)},_hideError:function(){var n=this.ecview.$el.find(".has-error");this.ecview.destroyPopover(n);this.ecview.hideErrorDragButton();this._isValidated=!1},setChangeLabelComplete:function(n,t){var i=n.text&&n.text.toString(),r=!1,u=n.cid,f=this.getDefaultLabel(u);i==""&&(i=f,r=!0);i&&this._changeButtonLabel(i,u,r);this._isValidated&&this._hideError(n,t)},_ON_BEFORE_MOUSEOVER:function(){return!ecount.common.isIOS},_ON_MOUSEOVER:function(){return!1},_ON_BEFORE_ON_MOUSEOUT:function(){return!ecount.common.isIOS},_ON_BEFORE_CLICK:function(){return ecview.util.showTimeOverCheck(200)?!0:!1},ON_CLICK:function(n,t){this.activeID=n.id;this.setChangeLabelComplete(n,t)},ON_CLICK_SERVICE:function(n,t,i,r){r.activeID=this.activeID},ON_FOCUSOUT:function(n,t){this.setChangeLabelComplete(n,t)},ON_KEYDOWN_ENTER:function(n,t){this.setChangeLabelComplete(n,t)},ON_KEYDOWN_BACKSPACE:function(n,t){this._isValidated&&this._hideError(n,t)},ON_KEYDOWN_SPACE:function(n){n.suspend=!0},ON_KEYDOWN_DELETE:function(n,t){this._isValidated&&this._hideError(n,t)},ON_KEYDOWN_ARROW_LEFT:function(n,t){this._isValidated&&this._hideError(n,t)},ON_KEYDOWN_ARROW_RIGHT:function(n,t){this._isValidated&&this._hideError(n,t)},ON_KEYDOWN_OTHERS:function(n,t){this._validateTabName(n,t)||(n.suspend=!0)}},scale:{controlType:"widget.button.scale",viewName:"widget.view.button.scale",initializeOptions:function(){ecount.control.button.prototype.initializeOptions.apply(this,arguments)},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments)},getInitComponents:function(){return[{},{}]},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);var u,f;t===0?(u="btn btn-default btn-zoom-in",f="zoomin"):(u="btn btn-default btn-zoom-out",f="zoomout");_.extend(r,{id:"",cid:f,label:"",ecRole:"","style.css":u})},ON_CLICK:function(n,t,i,r){_.extend(r,{cindex:n.cindex,cid:n.cid,__self:i})}},reportColor:{__inheritParent:"widget.button.group",controlType:"widget.button.reportColor",viewName:"widget.view.button.reportColor",init:function(){widget.button.group.prototype.init.apply(this,arguments)},initializeOptions:function(n){widget.button.group.prototype.initializeOptions.apply(this,arguments);this._clickOnce=!0;this.borderPosition=n.borderPosition||"all";this.borderStyle=n.borderStyle;this.borderWidth=n.borderWidth;this.dropdownOptions=n.ownDropdownOptions||[];this.disabledList=n.disabledList||[]},onInitFunction:function(n,t,i){ecount.control.button.prototype.onInitFunction.apply(this,arguments);this.__state.functions.palette={ecFunction:"palette",ecService:"layer.palette",cid:this.id,"style.css":"btn btn-default","style.display":!0};this.__state.functions.span={ecFunction:"span",cid:this.id,"style.css":(i.spanCss||"")+(i.color=="transparent"?" transparent":""),"style.bgcolor":i.color||"#000000"}},onInitComponent:function(n,t,i,r){widget.button.group.prototype.onInitComponent.apply(this,arguments);r["style.borderPosition"]=this.borderPosition;r.ecService="";r.ecServiceAttr="";r.ecServiceTrigger=""},render:function(){widget.button.group.prototype.render.apply(this,arguments)},getLayerPaletteOption:function(n,t){var r=_.cloneDeep(this.dropdownOptions.length>0?this.dropdownOptions:[{id:"palette",isPalette:!0}]),i;return this.getColor()=="transparent"&&(i=_.find(r,function(n){return n.id==="noneBackgroundColor"}),i&&(i.liCss=(i.liCss||"")+" checked-item active")),_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",items:r,reportType:!0,baseType:!0,color:this.getColor(),borderStyle:this.borderStyle,borderWidth:this.borderWidth,boundary:this.getContainerBoundary(),disabledList:this.disabledList,showingUpDelay:ecount.common.mouseHoverInTime})},getColor:function(){return this.getState("span","style.bgcolor")},getBorderPosition:function(){return this.borderPosition},getBorderStyle:function(){return this.borderStyle},getBorderWidth:function(){return this.borderWidth},setDropdownDisabled:function(n){this.disabledList=n||[];this.disabledList.contains(this.borderPosition)&&(this.disabledList.contains("all")||(this.setState(0,"style.borderPosition",{oldValue:this.borderPosition,newValue:"all"}),this.borderPosition="all"),this.disabledList.contains("outside")||(this.setState(0,"style.borderPosition",{oldValue:this.borderPosition,newValue:"outside"}),this.borderPosition="outside"))},setColor:function(n){n&&typeof n=="string"&&this.setState("span","style.bgcolor",n)},setBorderPosition:function(n){this.borderPosition=n},setBorderStyle:function(n){this.borderStyle=n},setBorderWidth:function(n){this.borderWidth=n},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.ecFunctionId){case"palette.color":this.setState("span","style.bgcolor",n.cid);break;case"palette.button":this.setState("span","style.bgcolor",r.value);break;case"noneBackgroundColor":this.setState("span","style.bgcolor","transparent");break;case"borderPosition":this.setState(0,"style.borderPosition",{oldValue:this.borderPosition,newValue:r.value});this.borderPosition=r.value;break;case"borderStyle":this.borderStyle=r.value;break;case"borderWidth":this.borderWidth=r.value}}},report:{controlType:"widget.button.report",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.areaDivision=n.areaDivision||!1;this.paperMargin=n.paperMargin||!1;this.gridDivision=n.gridDivision||!1;this.paperDivision=n.paperDivision||!1;this.disabledList=n.disabledList||["insertHyperlink","editHyperlink","deleteHyperlink"];this.hyperlinkItems=[];this.selectedShapes=[]},onInitFunction:function(){ecount.control.button.prototype.onInitFunction.apply(this,arguments);this.noActionBtn==!1&&(this.__state.functions.group={ecFunction:"group",ecService:"layer.dropdown",cid:this.id,"style.css":ecount.convertor.uniqSumClass(this._userCss||this._defaultCss||""),"style.display":!0})},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.report"},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},getLayerReportOption:function(n,t,i,r){if(n.cid==="hyperlink"&&(r.cid=n.cid,this.delegator&&this.delegator.triggerEvent("control.select",r)),this.dropdownOptions&&this.dropdownOptions.length){var u=Object.clone(this.dropdownOptions||[],!0);return u.forEach(function(n){var t=this.disabledList.some(function(t){return t==n.id});t&&(n.liCss=(n.liCss||"")+" disabled");switch(n.id){case"areaDivision":case"paperMargin":case"gridDivision":case"paperDivision":this[n.id]&&(n.liCss=(n.liCss||"")+" checked-item active")}}.bind(this)),_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",isSetDropdownSize:!!(u.length>8),_forcedDisplayPosition:this.containerName=="footer"?"top":"",items:u,reportType:!0,baseType:!0,boundary:this.getContainerBoundary(),disabledList:this.disabledList,showingUpDelay:ecount.common.mouseHoverInTime})}return!1},setSelectedShapes:function(n){this.selectedShapes=n||[]},getSelectedShapes:function(){return this.selectedShapes},getHyperlinkItems:function(){return this.hyperlinkItems},setHyperlinkItems:function(n){this.hyperlinkItems=n||[]},setDropdownDisabled:function(n){this.disabledList=n||[]},ON_CLICK_SERVICE:function(n,t,i,r){if(this.disabledList.some(function(n){return n==r.originId}))return!1;switch(r.originId){case"areaDivision":case"paperMargin":case"gridDivision":case"paperDivision":this[r.originId]=!this[r.originId];r.value=this[r.originId];r.key=r.originId;this.delegator&&this.delegator.triggerEvent("dropdown.click",r)}}},table:{controlType:"widget.button.table",viewName:"widget.view.button.table",init:function(){widget.button.group.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.dropdownOptions=n.ownDropdownOptions||[]},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.createtable";r.ecServiceTrigger="click";r.ecServiceAttr=ecount.layer.constValue.CREATETABLE},getLayerCreatetableOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",ownerKey:this.ecIKey,serviceKey:this.getLayerServiceKey(n,t),ecPageID:this.ecPageID,containerName:this.containerName,tabID:this.tabID,gridID:this.gridID,items:this.dropdownOptions,reportType:!0,boundary:this.getContainerBoundary(),showingUpDelay:ecount.common.mouseHoverInTime})}},imageFile:{controlType:"widget.button.imageFile",_imagePopupPath:"/ECERP/SVC/ENT/ENT007M",initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.sExtentionType=n.sExtentionType;this._uploaderConfigs=n._uploaderConfigs;this._newFileStorageConfigs=n._newFileStorageConfigs},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.imagefile"},getLayerImagefileOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",ownerKey:this.ecIKey,serviceKey:this.getLayerServiceKey(n,t),ecPageID:this.ecPageID,containerName:this.containerName,tabID:this.tabID,gridID:this.gridID,items:this.dropdownOptions||[],boundary:this.getContainerBoundary(),reportType:!0,baseType:!0,showingUpDelay:ecount.common.mouseHoverInTime,sExtentionType:this.sExtentionType,_uploaderConfigs:this._uploaderConfigs,_newFileStorageConfigs:this._newFileStorageConfigs})},openPopup:function(n){var t=$.extend({},this.defaultParam,{width:this.width,height:this.height,name:(this.popupType===!0?this.id:this.subTitle)||"",url:this._imagePopupPath,popupType:!1,responseID:this.callbackID},n||{});this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:$.extend({},t),handler:function(n,t,i,r){var e,u,f;this.responseID=t;n.popupLevel=r;n.parentPageID=i||this.parentPageID;n.__ecPageID=this.ecPageID;n.AFlag="4";n.PageType="Apply";n.MaxCheckCount=100;n.CheckedCount=0;n.isViewApplyButton=!0;n.EditorMode="Y";n.isViewSizeSelectButton=!0;e=n.modal||this._modal;u=n.additional;delete n.modal;delete n.additional;f={url:n.url,name:n.name||"",param:n,popupType:n.popupType,popupID:this.id,modal:n.modal||this._modal,control:{ctype:this.controlType,name:this.subTitle,id:this.id},popupLevel:r,parentPageID:n.parentPageID,alreadyIncludedLayout:!n.popupType,additional:u};ecount.popup.openWindow(f)}.bind(this)})},onMessage:function(n,t){switch(n.pageID){case"ENT007M":if(t&&t.imagePath){var i={key:this.cid,value:t.data.map(function(n){return n.fileUrl})};this.delegator&&this.delegator.triggerEvent("image.upload",i);this.delegator&&this.delegator.triggerEvent("image.uploadComplete")}}t.callback&&t.callback()},uploadSuccess:function(n){var t={key:this.cid,value:n};this.delegator&&this.delegator.triggerEvent("image.upload",t)},uploadComplete:function(){this.delegator&&this.delegator.triggerEvent("image.uploadComplete")},ON_CLICK_SERVICE:function(n){n.ecFunctionId=="imagebox"&&this.openPopup({url:this._imagePopupPath,hasStorageHost:this.hasStorageHost||!1,width:775,height:600})}},boxsizesetting:{controlType:"widget.button.boxsizesetting",initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.boxWidth=n.boxWidth||"0.00";this.boxHeight=n.boxHeight||"0.00";this.fixed=n.fixed||!1;this.disabledList=n.disabledList||[]},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.boxsizesetting"},getLayerBoxsizesettingOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",ownerKey:this.ecIKey,serviceKey:this.getLayerServiceKey(n,t),ecPageID:this.ecPageID,containerName:this.containerName,tabID:this.tabID,gridID:this.gridID,items:this.dropdownOptions||[],reportType:!0,boxWidth:this.boxWidth,boxHeight:this.boxHeight,fixed:this.fixed,boundary:this.getContainerBoundary(),disabledList:this.disabledList,showingUpDelay:ecount.common.mouseHoverInTime,sectionType:this.sectionType,sectionIndex:this.sectionIndex,selectedBoundary:this.selectedBoundary,selectedShapes:this.selectedShapes})},setDropdownDisabled:function(n){this.disabledList=n||[]},setWidth:function(n){this.boxWidth=n?String.fastFormat(n.toString(),{fractionLimit:"0"}):n;this.syncSizeWithOwnLayer()},setHeight:function(n){this.boxHeight=n?String.fastFormat(n.toString(),{fractionLimit:"0"}):n;this.syncSizeWithOwnLayer()},syncSizeWithOwnLayer:function(){var n=ecount.layer.getActivatedLayer();n&&n.ownerKey===this.ecIKey&&n.setSize(this.boxWidth,this.boxHeight)},setSelectedBoundary:function(n,t,i){this.sectionType=n;this.sectionIndex=t;this.selectedBoundary=i},setSelectedShapes:function(n){this.selectedShapes=n}},zoomInOut:{controlType:"widget.button.zoomInOut",viewName:"widget.view.button.zoomInOut",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(){ecount.control.button.prototype.initializeOptions.apply(this,arguments)},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments)},getInitComponents:function(n,t,i){return this._getDefaultComponents(n,t,i)},_getDefaultComponents:function(){return[{},{}]},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.label="";r.id=this.id+t;r["style.css"]=r["style.css"]+" "+["btn-zoom-in","btn-zoom-out"][t]},render:function(){ecount.control.button.prototype.render.apply(this,arguments)}},DIY:{controlType:"widget.button.DIY",viewName:"widget.view.button.DIY",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(){ecount.control.button.prototype.initializeOptions.apply(this,arguments)},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments)},onInitComponent:function(){ecount.control.button.prototype.onInitComponent.apply(this,arguments)}},checkTooltip:{controlType:"widget.button.checkTooltip",viewName:"widget.view.button.checkTooltip",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this.useTooltip=_.get(n,"useTooltip",!0);this._messageChecked=_.get(n,"messageChecked",ecount.resource.LBL08793);this._messageUnChecked=_.get(n,"messageUnChecked",ecount.resource.LBL22741);this.useTooltip&&(this._tooltip={message:_.get(n,"_tooltip.message",_.get(n,"checked",!1)?this._messageChecked:this._messageUnChecked),placement:_.get(n,"_tooltip.placement","top")})},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r["attr.checked"]=_.get(u,"checked",!1);r["style.css"]=r["attr.checked"]?"btn btn-warning btn-check":"btn btn-default btn-check"},isChecked:function(n){return _.isBoolean(n)&&(this.setState(0,"attr.checked",n),this.setTooltipOption(n?this._messageChecked:this._messageUnChecked)),this.getState(0,"attr.checked")},setTooltipOption:function(n){this._tooltip&&_.isString(n)?this._tooltip.message=n:this._tooltip&&_.isPlainObject(n)&&_.merge(this._tooltip,n)}},selectItem:{controlType:"widget.button.selectItem",viewName:"widget.view.button.selectItem",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(n){ecount.control.button.prototype.initializeOptions.apply(this,arguments);this._layerKey="selectitem";this._preventLayerOpenByHover=n.preventLayerOpenByHover===!0;this.dropdownOptions=this.cloneOptions(this.dropdownOptions)},cloneOptions:function(n){var u=[],r,t,i;if(_.isArray(n))for(r=0;r<n.length;r++)t=n[r],i={id:t.id,label:t.label,value:t.value},t.section&&(i.section=t.section),t.active&&(i.active=!0,i.isShowChecked=!0),_.isEmpty(t.itemsSelect)||(i.itemsSelect=t.itemsSelect.map(function(n){return{label:n.label,data:n.data,selected:n.selected||!1}})),_.isEmpty(t.itemsCheckbox)||(i.itemsCheckbox={},i.itemsCheckbox.column=t.itemsCheckbox.column.map(function(n){return{label:n.label,width:n.width}}),i.itemsCheckbox.list=t.itemsCheckbox.list.map(function(n){return{checked:n.checked||!1,label:n.label,data:n.data}})),u.push(i);return u},onInitState:function(){ecount.control.button.prototype.onInitState.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService=ecount.layer.constValue.SELECTITEM;r.ecServiceAttr=ecount.layer.constValue.FIXED;r["attr.flag"]=_.upperCase(_.get(u,"flag","N"));r["style.css"]=r["attr.flag"]==="B"?"btn btn-warning btn-flag state-auto":r["attr.flag"]==="A"?"btn btn-warning btn-flag":"btn btn-default btn-flag"},onLazyRender:function(){this._renderLayerSilently()},_renderLayerSilently:function(){this._showLayer({ecPath:this.ecPath,ecPageID:this.ecPageID,pcid:this.pcid,cid:this.id,cindex:"0",ecService:ecount.layer.constValue.SELECTITEM,handler:ECountEvent.Type.CLICK_SELECTITEM},{},{isOnlyRender:!0})},_getDestroyDropdownItems:function(){},destroy:function(){var n=this._getLayer();n&&n.destroy();ecount.control.button.prototype.destroy.apply(this,arguments)},getLayerSelectitemOption:function(n,t){if(this.dropdownOptions&&this.dropdownOptions.length){var i=this.dropdownOptions||[];return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:this.id,preventDestroy:!0,_forcedDisplayPosition:this.containerName=="footer"?"top":"",items:i,baseType:!1,boundary:this.getContainerBoundary(),showingUpDelay:ecount.common.mouseHoverInTime,isNotFixedLayer:this.isNotFixedLayer===!0})}return!1},getLayerServiceKey:function(n){var t=this._layerKey||n.cindex;return ecount.common.makeServiceKey(this.ecPath,t)},_getLayer:function(){var n=this.getLayerServiceKey({ecPath:this.ecPath});return ecount.layer.getLayer(n)},getLayer:function(){var n=this._getLayer();return n||this._renderLayerSilently(),n},resetLayerItem:function(n){if(_.isArray(n)){this.dropdownOptions=this.cloneOptions(n);var t=this._getLayer();t?t.resetLayerItem(this.dropdownOptions):this._renderLayerSilently()}},isFlag:function(n){return n&&this.setState(0,"attr.flag",_.upperCase(n)),this.getState(0,"attr.flag")},setDisplayLayer:function(n){if(n)this._showLayer({ecPath:this.ecPath,ecPageID:this.ecPageID,pcid:this.pcid,cid:this.id,cindex:"0",ecService:ecount.layer.constValue.SELECTITEM,handler:ECountEvent.Type.CLICK_SELECTITEM},{});else{var t=this._getLayer();t&&t.hide()}},getValue:function(){var t=this.getLayer(),i={},n;return t?i={value:t.getItemValue(),selectValue:t.getSelectItemValue(),checkedValues:t.getCheckboxItemValues()}:(n=this.dropdownOptions.find(function(n){return n.active===!0}),i={value:_.get(n,"value",""),selectValue:n&&!_.isEmpty(n.itemsSelect)?n.itemsSelect.find(function(n){return n.selected===!0})||{}:{},checkedValues:n&&!_.isEmpty(_.get(n,"itemsCheckbox.list"))?n.itemsCheckbox.list.filter(function(n){return n.checked===!0}):[]}),i},setValue:function(n){var t=this.getLayer();n&&t&&(_.isString(n)?t.setItemValue(n):_.isPlainObject(n))},setAllCheckboxItems:function(n,t){var i=this.getLayer();n&&_.isBoolean(t)&&i&&i.setCheckboxItems(n,"all",t)},getItemValue:function(n){var t=this.getLayer();if(t)return t.getItemValue(n)},ON_CLICK_SERVICE:function(n,t){var i=this.getLayer(),u=$(t.target),o=_.get(t,"target.tagName",""),s,r,f,h,e,c;i&&(o=="A"&&n.ecFunctionId&&!i.isVisibleSelectLayer()?i.getItemValue(n.ecFunctionId)==i.getItemValue()?i.setDisplayCheckboxLayer(n.ecFunctionId,!0):(i.setItemValue(i.getItemValue(n.ecFunctionId)),ecount.isMobile||i.hide(),e={type:"item",value:i.getItemValue(),liId:n.ecFunctionId}):o=="A"&&n.ecFunctionId&&i.isVisibleSelectLayer()?i.setDisplaySelectLayer(n.ecFunctionId,!1):o=="A"&&u.attr("data-child-type")==="select"?(s=u.attr("data-child-li-index"),r=u.attr("data-child-li-id"),f=u.attr("data-child-index"),r&&f&&(i.setSelectItemValue(r,f),e={type:"select",value:i.getSelectItemValue(r),liId:r})):o=="INPUT"&&u.attr("data-child-type")==="checkbox"&&(s=u.attr("data-child-li-index"),r=u.attr("data-child-li-id"),f=u.attr("data-child-index"),h=u.is(":checked"),r&&f&&(i.setCheckboxItemValues(r,f,h),e={type:"checkbox",value:i.getCheckboxItemValues(r),liId:r})),e&&(c=this._getDefaultDelegatorInfo(n,t),this.delegator.triggerEvent("control.change",_.merge(c,{changeValue:e,value:this.getValue()}))))}},reportAlign:{controlType:"widget.button.reportAlign",init:function(){ecount.control.button.prototype.init.apply(this,arguments)},initializeOptions:function(){ecount.control.button.prototype.initializeOptions.apply(this,arguments)},onInitFunction:function(){ecount.control.button.prototype.onInitFunction.apply(this,arguments);this.noActionBtn==!1&&(this.__state.functions.group={ecFunction:"group",ecService:"layer.dropdown",cid:this.id,"style.css":ecount.convertor.uniqSumClass(this._userCss||this._defaultCss||""),"style.display":!0})},onInitComponent:function(n,t,i,r){ecount.control.button.prototype.onInitComponent.apply(this,arguments);r.ecService="layer.reportalign"},render:function(){ecount.control.button.prototype.render.apply(this,arguments)},getLayerReportalignOption:function(n,t){var i=this.dropdownOptions||[];return _.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",isSetDropdownSize:!!(i.length>8),_forcedDisplayPosition:this.containerName=="footer"?"top":"",items:i,reportType:!0,baseType:!0,boundary:this.getContainerBoundary(),showingUpDelay:ecount.common.mouseHoverInTime})},ON_CLICK_SERVICE:function(n,t,i,r){r.key=r.originId;this.delegator&&this.delegator.triggerEvent("dropdown.click",r)}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.button.repository[n]||{},i=ecount.control.button,widget.button._baseLoaded||(ecount.control.loadRepository(ecount.control.button,ecount.control.view.button,"widget.button"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.button,t,"widget.button",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.button")){r=t.controlType.replace("widget.button.","");ecount.control.mountMixinWidget(widget.button,t,"widget.button",[widget.button,r]);return}widget.button[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.button,ecount.control.mountWidget(widget.button,n,i,t))}}}};ecount.control.button.notification={approval:{"default":{MESSAGE:{EMAIL_CHK_YN:null,SMS_CHK_YN:null,MEMO_CHK_YN:null,APP_PUSH_CHK_YN:null,EMAIL_FORM_SER:null,SMS_CHECKED_COUNT:0,EMAIL_CHECKED_COUNT:0,MEMO_CHECKED_COUNT:0,APP_CHECKED_COUNT:0},RECEIVERS:[]},data:[{CODE:null,TAB_LABEL:null,DATA:{MESSAGE:{SMS_TXT:ecount.resource.MSG05387,EMAIL_TXT:ecount.resource.MSG05387,MEMO_TXT:ecount.resource.MSG05387},RECEIVERS:[]}}],checked:function(n){var t={SMS:!1,EMAIL:!1,MESSAGE:!1,APP:!1};return n?_.extend({},t,{SMS:n.SMS_CHK_YN=="Y",EMAIL:n.EMAIL_CHK_YN=="Y",MESSAGE:n.MEMO_CHK_YN=="Y",APP:n.APP_PUSH_CHK_YN=="Y"}):t}},slip:{"default":{MESSAGE:{EMAIL_CHK_YN:null,SMS_CHK_YN:null,MEMO_CHK_YN:null,APP_PUSH_CHK_YN:null,TO_CHK_YN:null,CC_CHK_YN:null,SHARE_CHK_YN:null,WRITER_CHK_YN:null,REPLY_CHK_YN:null,CSSHARE_CHK_YN:null,EMAIL_FORM_SER:null,SMS_CHECKED_COUNT:0,EMAIL_CHECKED_COUNT:0,MEMO_CHECKED_COUNT:0,APP_CHECKED_COUNT:0},RECEIVERS:[]},data:[{CODE:"N",DATA:{MESSAGE:{SMS_TXT:ecount.resource.MSG05387,EMAIL_TXT:ecount.resource.MSG05387,MEMO_TXT:ecount.resource.MSG05387},RECEIVERS:[]}},{CODE:"M",DATA:{MESSAGE:{SMS_TXT:ecount.resource.MSG05388,EMAIL_TXT:ecount.resource.MSG05388,MEMO_TXT:ecount.resource.MSG05388},RECEIVERS:[]}},{CODE:"D",DATA:{MESSAGE:{SMS_TXT:ecount.resource.MSG05389,EMAIL_TXT:ecount.resource.MSG05389,MEMO_TXT:ecount.resource.MSG05389},RECEIVERS:[]}}],checked:function(n){var t={SMS:!1,EMAIL:!1,MEMO:!1,APP:!1,TO:!1,CC:!1,SHARE:!1,WRITER_CHK_YN:!1,REPLY:!1,CSSHARE:!1};return n?_.extend({},t,{SMS:n.SMS_CHK_YN=="Y",EMAIL:n.EMAIL_CHK_YN=="Y",MEMO:n.MEMO_CHK_YN=="Y",APP:n.APP_PUSH_CHK_YN=="Y",TO:n.TO_CHK_YN=="Y",CC:n.CC_CHK_YN=="Y",SHARE:n.SHARE_CHK_YN=="Y",WRITER:n.WRITER_CHK_YN=="Y",REPLY:n.REPLY_CHK_YN=="Y",CSSHARE:n.CSSHARE_CHK_YN=="Y",ATTENDANT:n.ATTENDANT=="Y"}):t}}};widget.view.button._export=function(){return{_default:{},formApply:{template:'<div class="wrapper-toolbar"><div class="pull-right">((button))<\/div><\/div>'},group:{template:"((button))[[group]]",groupTemplate:'<button class="btn-arrow {{style.css}} {{style.display}}" data-cid="{{cid}}" data-service="{{ecService}}" data-service-attr="layer.fixed" data-role="group"><\/button>',onChangeStyleDisplayGroup:function(n){var t=this.$el.find('[data-role="group"]');n?t.hasClass("hidden")&&t.removeClass("hidden"):t.addClass("hidden");this.setBorderRadius()},onChangeStyleCssGroup:function(n){var t=this.$el.find('[data-role="group"]');t&&n&&(t.removeClass(),t.addClass(["btn-arrow",n].join(" ")))}},filter:{template:'<div class="btn-group btn-group-filter">((button)){{layer}}<\/div>',isCheckedAll:!0,onInitTemplate:function(n,t){return n.replace("{{layer}}",this.createLayerTemplate(t).replaceRegexpString())},createLayerTemplate:function(n){var i,r,u,f,e=this.checkboxSetting(n),o='<div class="dropdown-menu-header">\n<span class="form-checkbox">\n<input type="checkbox" id={{id}} {{check}} />\n<label for={{id}} id={{id}}>\n{{headerLabel}}\n<\/label>\n<\/span>\n<\/div>',s='<div class="dropdown-menu-footer">\n<div class="wrapper-toolbar wrapper-toolbar-icon-btn">\n<div class="control-set">\n<div class="control">\n<button id="{{applyID}}" data-cid="{{cid}}" data-role="apply-label" class="btn btn-primary btn-block btn-sm btn-transparant btn-apply"><\/button>\n<\/div>\n<div class="control">\n<button id="{{modifyID}}" data-cid="{{cid}}" data-role="apply-label" class="btn btn-default btn-block btn-sm btn-transparant btn-plus"><\/button>\n<\/div>\n<div class="control">\n<button id="{{closeID}}" data-cid="{{cid}}" data-role="close-label" class="btn btn-default btn-block btn-sm btn-transparant btn-cancle"><\/button>\n<\/div>\n<\/div>\n<\/div>\n<\/div>',t=n.id;return r=ecount.widget.replaceAttr(o,{id:t+"FilterAll",check:n["opt.checkWhole"]?"checked":"",headerLabel:ecount.resource.LBL08019}),i='<ul class="filter-item">{{checkbox}}<\/ul>'.replace("{{checkbox}}",e.replaceRegexpString()),u=ecount.widget.replaceAttr(s,{applyID:t+"Apply",modifyID:t+"Modify",closeID:t+"Close",cid:t}),f=r+i+u,'<div class="dropdown-menu">{{dropdown}}<\/div>'.replace("{{dropdown}}",f.replaceRegexpString())},checkboxSetting:function(n){for(var r="",t,u,f,i=0;i<n.dropdownOptions.length;i++)t=n.dropdownOptions[i],f='<span class="label {{css}}" style="background-color:{0}">{1}<\/span>'.replace("{{css}}",t.color>"#dddddd"?"label-light":""),u=t.color?String.format(f,t.color,t.label):t.label,r+=ecount.widget.replaceAttr('<li><span class="form-checkbox"><input type="checkbox" id={{id}} {{check}} data-role-index={{roleIndex}}><label for={{id}} id={{id}} data-role-index={{roleIndex}}>{{label}}<\/label><\/span><\/li>',{label:u,id:[n.id,"_",t.value].join(""),check:t.checked===!1?"":"checked",roleIndex:i+1});return r},onChangeOptLayerToggle:function(n,t){var r=this.$el.find("div.btn-group"),i=this.$el.find(".dropdown-menu"),u=i.width();t==!0?(r.addClass("open"),i.css("width",u+"px")):(r.removeClass("open"),i.css("width",""))},onChangeOptCheckWhole:function(n,t){this.$el.find("input[type=checkbox]").first().prop("checked",t)},onChangeOptIsChecked:function(n,t){this.$el.find("input[type=checkbox]").eq(Number(n)).prop("checked",t)},redrawDropdown:function(n){var t=$(this.createLayerTemplate(n));this.$el.find("div.dropdown-menu.dropdown-menu-right").replaceWith(t)}},align:{template:"((button))",baseTemplateType:!0,onChangeOptSelectedindex:function(n,t){this.$el.find("button").removeClass("active");this.getElements(t).addClass("active")}},simpleSearch:{template:'<div class="control {{style.display}}" data-ecpath="{{ecPath}}">\n((button))\n<\/div>',baseTemplateType:!0,onInitWrapperTemplate:function(n,t){return t.useWrapperSet===!1?"((this.template))":n},onInitTemplate:function(n,t){for(var u=[],r,i=0,f=t.components.length;i<f;i++)r=t.components[i],u.push(ecount.widget.replaceAttr(this.template,{"style.display":r["style.display"]===!0?"":"hidden",ecPath:r.ecPath}));return u.join("")},onChangeStyleDisplay:function(n,t){t?this.getElements(n).parent().removeClass("hidden"):this.getElements(n).parent().addClass("hidden")},onMount:function(n){this.$el.each(function(t,i){i.ecIKey=n.ecIKey})}},notificationLayer:{template:"((button))",onInitTemplate:function(n,t){var i=t.components[0];return i["style.css"]=[i.mode=="selected"?"btn btn-warning":"btn btn-default","btn-send-notice"].join(" "),n},onChangeMode:function(n,t){var i=this.getElements(n);i.removeClass("btn-default").removeClass("btn-warning");t=="selected"?i.addClass("btn-warning"):i.addClass("btn-default")}},formStyleLayer:{template:"((button))",onChangeAttrPressed:function(n,t){var i=this.getElements(n);t?i.removeClass("btn-default").addClass("btn-warning"):i.removeClass("btn-warning").addClass("btn-default")}},autoNotifications:{template:"((button))",noticeType:[{notiGubun:"A",notiCss:"confirm"},{notiGubun:"C",notiCss:"auto-confirm"},{notiGubun:"N",notiCss:"not-confirm"},{notiGubun:"X",notiCss:"not-notice"}],tempStr:"btn-notice-",onInitTemplate:function(n,t){var i=t.components[0],r=i.buttonActiveMode==="selected"?"btn-warning":"btn-default",u=this._classFilter(i.noticeMode);return i["style.css"]=["btn",r,"btn-send-notice",this.tempStr+u].join(" "),n},onChangeButtonActiveMode:function(n,t){var i=this.getElements(n);i.removeClass("btn-default").removeClass("btn-warning");t=="selected"?i.addClass("btn-warning"):i.addClass("btn-default")},onChangeNoticeMode:function(n,t){for(var r=this.getElements(n),u=this._classFilter(t),i=0;i<this.noticeType.length;i++)if(r.hasClass(this.tempStr+this.noticeType[i].notiCss)){r.switchClass(this.tempStr+this.noticeType[i].notiCss,this.tempStr+u);return}},_classFilter:function(n){for(var i="",t=0;t<this.noticeType.length;t++)if(this.noticeType[t].notiGubun===n){i=this.noticeType[t].notiCss;break}return i}},paperAirplaine:{template:"((button))",onInitTemplate:function(n,t){var i=t.components[0];return i["style.css"]=[i.mode=="selected"?"btn-warning":"btn-default","btn btn-send-notice"].join(" "),n},onChangeMode:function(n,t){var i=this.getElements(n);i.removeClass("btn-default").removeClass("btn-warning");i.addClass(t=="selected"?"btn-warning":"btn-default")}},fontStyle:{template:"((button))",baseTemplateType:!0,onChangeOptSelected:function(n,t){t?this.getElements(n).addClass("active"):this.getElements(n).removeClass("active")}},paging:{baseTemplateType:!0,onInitTemplate:function(n,t){return this.currentPage=t["opt.currentpage"],this.totalPage=t["opt.totalpage"],n},onChangeOptCurrentpage:function(n,t){this.currentPage=t;this._changeSpanLabel()},onChangeOptTotalpage:function(n,t){this.totalPage=t;this._changeSpanLabel()},_changeSpanLabel:function(){this.$el.find("span:last").text(String.format(ecount.resource.LBL10722,this.currentPage,this.totalPage))}},loadSlip:{template:['<div class="control">',"((select))","<\/div>",'<div class="control">',"((button))","<\/div>",].join("\n"),groupTemplate:'<button class="btn-arrow {{style.css}} {{style.display}}" data-cid="{{cid}}" data-service="{{ecService}}" data-service-attr="layer.fixed" data-role="group"><\/button>',onChangeStyleDisplay:function(n,t){var i=this.getElements(n);t?i.removeClass("hidden"):i.addClass("hidden")},onChangeSelectedLabel:function(n,t){var i=this.getElements(n);i.filter("input[type='text']").val(t);i.filter("button").text(t)}},search:{template:["((button))",'<div class="dropdown-menu" style = "z-index:5; position:absolute;">',"((input))","<\/div>",].join(""),onChangeOptShowinput:function(n,t){t===!0?this.$el.find("div.dropdown-menu").addClass("show"):(this.$el.find("div.dropdown-menu").removeClass("show"),(ecount.isIE||ecount.constValue.isEdge)&&this.$el.find("div.dropdown-menu").children("input").blur())}},sideLabel:{template:"<div>{{leftText}} ((button)) {{rightText}}<\/div>",onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,{leftText:t.leftText,rightText:t.rightText})}},toggling:{_getPopoverTarget:function(){return this.getElements(0)},onChangePopoverToggle:function(n,t){if(!$.isEmpty(this.gridID))return null;t==!0?this.setPopover({type:"tooltip",directShow:$.isNull(this.popoverDirectShow)?!0:this.popoverDirectShow,trigger:"hover",delay:{show:800,hide:0}}):this.destroyPopover()}},controlLayer:{template:"((button))",onInitTemplate:function(n,t){if(t.isSmallButton){var i=t.components[0];i["style.css"]="btn btn-sm btn-default btn-arrow"}return n}},enoteMenu:{template:'<span id="btn-header-enote"data-service="layer.dropdown" data-service-attr="layer.fixed"owner-cid="btn-header-enote" class="page-name page-nav"><\/span>'},dragButton:{template:'<button id="{{id}}" class="{{style.css}} {{style.display}}" data-index={{index}} data-cid="{{cid}}" data-ecpath="{{ecPath}}" data-role="{{ecRole}}" data-originLabel="{{defaultLabel}}" data-service="{{ecService}}" data-service-attr="{{ecServiceAttr}}">{{label}}<\/button>',onInitTemplate:function(n,t){for(var r=[],u,i=0,f=t.components.length;i<f;i++)u=t.components[i],r.push(this.parseDragButton(n,u));return r.join("")},parseDragButtons:function(n,t){if(t.length>0)for(var r=t,u=$('<div class="control"><\/div>'),f=[],e,i=0,o=r.length;i<o;i++)e=r[i],f.push(this.parseDragButton(n,e));return u.append(f.join("")),u},redrawDragButton:function(n){var t=$(this.parseDragButtons(this.template,n));this.$el.find("div.control").replaceWith(t)},parseDragButton:function(n,t){return ecount.widget.replaceAttr(n,{id:t.id,cid:t.cid,label:t.label,index:t.index,ecPath:t.ecPath,ecRole:t.ecRole,ecService:t.ecService,ecServiceAttr:t.ecServiceAttr,defaultLabel:t.defaultLabel,"style.css":t["style.css"],"style.display":t["style.display"]===!0?"":"hidden"})},onChangeEditable:function(n,t){var r=this.getElements(n),i,u;r&&(r.attr("contenteditable",t),t&&(i=document.createRange?document.createRange():document.body.createTextRange(),u=window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:"",i.selectNodeContents?(i.selectNodeContents(r[0]),u.removeAllRanges(),u.addRange(i)):(i.moveToElementText(r[0]),i.select())))},showErrorDragButton:function(n){var t=this.$el.find("#"+n);t&&t.addClass("has-error")},hideErrorDragButton:function(){var n=this.$el.find(".has-error");n&&n.removeClass("has-error")}},zoomInOut:{template:"((button))((button))"},scale:{template:"((button))((button))"},reportColor:{template:"[[span]]((button))[[palette]]",paletteTemplate:'<button class="btn-arrow {{style.css}} {{style.display}}" data-cid="{{cid}}" data-service="{{ecService}}" data-service-attr="layer.fixed" data-role="group"><\/button>',spanTemplate:'<span class="tool-color-display {{style.css}}" style="{{style.bgcolor}}"><\/span>',onChangeStyleBgcolorSpan:function(n){var t=this.$el.find("span.tool-color-display");t.attr("style",function(){this.style.removeProperty("background-color");var t=n&&"background-color:"+n+";";return this.style.cssText+(t||"")});n?t.removeClass("transparent"):t.addClass("transparent")},onChangeStyleBorderPosition:function(n,t){var i=this.getElements(n);i.removeClass("tool-border-"+t.oldValue);i.addClass("tool-border-"+t.newValue)},onChangeAttrDisabled:function(n,t){var r=this.getElements(n),i;n!=this._IT_SELF&&r.prop("disabled",t);i=this.$el.find('[data-role="group"]');i&&i.prop("disabled",t)}},table:{template:'<button class="btn btn-default btn-arrow tool-insert-table " data-cid="{{cid}}" data-index="{{index}}" data-service="{{ecService}}" data-role="table"><\/button>',onInitTemplate:function(n,t){return t.components[0].ecService&&(n=n.replace("{{ecService}}",t.components[0].ecService)),_.isNumber(t.components[0].index)&&(n=n.replace("{{index}}",t.components[0].index)),n}},DIY:{template:"",onInitTemplate:function(n,t){var i=t.components[0],r=/<\/?[a-z][\s\S]*>/i.test(i.label)?$(i.label):$("<div>"+i.label+"<\/div>");return r.attr("data-cid",t.components[0].cid),r.attr("data-index",t.components[0].index),r.outerHTML()}},checkTooltip:{template:"((button))",onChangeAttrChecked:function(n,t){var i=this.getElements(n);t?i.removeClass("btn-default").addClass("btn-warning"):i.removeClass("btn-warning").addClass("btn-default")}},selectItem:{template:"((button))",onChangeAttrFlag:function(n,t){var i=this.getElements(n);_.upperCase(t)=="B"?i.removeClass("btn-default").addClass("btn-warning state-auto"):_.upperCase(t)=="A"?i.removeClass("btn-default state-auto").addClass("btn-warning"):i.removeClass("btn-warning state-auto").addClass("btn-default")}}}};widget.radio={};widget.radio._baseLoaded=!1;widget.radio._export=function(){return{_default:{controlType:"widget.radio"},numbered:{controlType:"widget.radio.numbered",viewName:"widget.view.radio.numbered",onInitComponent:function(n,t,i,r){ecount.control.radio.prototype.onInitComponent.apply(this,arguments);r["style.css"]="width:30px; margin:auto"}},icons:{controlType:"widget.radio.icons",viewName:"widget.view.radio.icons",css:"radio-inline",onInitComponent:function(n,t,i,r){ecount.control.radio.prototype.onInitComponent.apply(this,arguments);r["style.iconcss"]=r.iconCSS;r["style.labelcss"]=r.labelCSS;try{delete r.iconCSS;delete r.labelCSS}catch(u){r.iconCSS=null;r.labelCSS=null}}},convertible:{},image:{controlType:"widget.radio.image",viewName:"widget.view.radio.image",css:"btn btn-default ",onInitComponent:function(n,t,i,r){ecount.control.radio.prototype.onInitComponent.apply(this,arguments);r.id=this.id+"_"+r.value;r["style.css"]=this.css;r["style.active"]=r["attr.checked"];r["attr.checked"]=null},ON_CLICK:function(n,t){var r=n.id||t.target.parentElement.id,i=this.getComponentByAttr("id",r),u={cid:n.cid,cindex:i.index,targetID:i.value,active:!i["attr.checked"],event:t,__self:this};return this.setState(this._ALL_COMP,"style.active",!1),this.setState(i.index,"style.active",!0),this.delegator&&this.delegator.triggerEvent("control.change",u),!1},setValue:function(n,t){var i={};arguments.length===1&&(t=n);i=this.getComponentByAttr("value",t);this.setState(this._ALL_COMP,"style.active",!1);this.setState(i.index,"style.active",!0)},getValue:function(){var n=this.getComponentByAttr("style.active",!0);if(n)return""+n.value},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()},n])},serializeById:function(){return this.serialize(this.id)}},withLink:{controlType:"widget.radio.withLink",viewName:"widget.view.radio.withLink",onInitState:function(n,t,i){t["opt.linkIndex"]=i.linkIndex||1},onInitComponent:function(n,t,i,r){ecount.control.radio.prototype.onInitComponent.apply(this,arguments);i["opt.linkIndex"]==r.index&&(r["attr.href"]="javascript:;",r["attr.target"]=r.target?'target="'+r.target+'"':"")},ON_CLICK:function(n,t){if(n.cindex==this.getState(this._IT_SELF,"opt.linkIndex")){var i={cid:n.cid,cindex:n.cindex,cname:this.name,targetID:"btn-"+n.id,event:t,__self:this};this.delegator&&this.delegator.triggerEvent("button.click",i)}}},withDivider:{controlType:"widget.radio.withDivider",viewName:"widget.view.radio.withDivider",initializeOptions:function(n){this.inlineDivider=n.inlineDivider},onInitState:function(n,t){t["opt.inlineDivider"]=this.inlineDivider||0}},thumbnail:{controlType:"widget.radio.thumbnail",viewName:"widget.view.radio.thumbnail",css:"thumbnail",width:"180px",initializeOptions:function(n){ecount.control.radio.prototype.initializeOptions.apply(this,arguments);this.width=n.width?n.width:this.width},onInitComponent:function(n,t,i,r){ecount.control.radio.prototype.onInitComponent.apply(this,arguments);r.src=r.url;r["style.css"]=this.css;r["style.inline"]=this.width}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.radio.repository[n]||{},i=ecount.control.radio,widget.radio._baseLoaded||(ecount.control.loadRepository(ecount.control.radio,ecount.control.view.radio,"widget.radio"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.radio,t,"widget.radio",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.radio")){r=t.controlType.replace("widget.radio.","");ecount.control.mountMixinWidget(widget.radio,t,"widget.radio",[widget.radio,r]);return}widget.radio[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.radio,ecount.control.mountWidget(widget.radio,n,i,t))}}}};widget.view.radio._export=function(){return{_default:{},numbered:{template:['<div class=" form-checkbox-numbered " style="width:30px;">','<input type="radio" value="{{value}}" data-cid="{{cid}}" name="{{name}}" {{findex}} data-index="{{index}}" id="{{attr.labelid}}" {{attr.checked}} {{attr.disabled}}/>','<div class="checkbox-numbered {{style.checked}} {{style.disabled}}" data-cid="{{cid}}">{{num}}<\/div>',"{{label}}","<\/div>",].join("\r"),templateVerticalWrapper:'<div class="form-checkbox-block">\r{{template}}\r<\/div>',templateLabel:'<label for="{{attr.labelid}}" class="{{style.css}}" data-cid="{{cid}}">{{label}}<\/label>',onInitTemplate:function(n,t){var r=t.components.map(function(n){return ecount.widget.replaceAttr(this.templateLabel,n)}.bind(this)),i=[];return $(n).each(function(n,u){var e=_.merge(t.components[n],{label:t.isNoLabel?"":r[n]}),f=u.outerHTML;t.isVertical&&(f=this.templateVerticalWrapper.replace("{{template}}",u.outerHTML));i.push(ecount.widget.replaceAttr(f,e))}.bind(this)),i.join("")}},icons:{template:"((radio-span))"},image:{template:"((radio-image))",parseAttrsValue:function(n){n["style.active"]=n["style.active"]===!0?"active":""},onChangeStyleActive:function(n,t){var i=this.$el.find("button[data-index="+n+"]");i.toggleClass("active",t)}},withLink:{cloneTemplateAsManyState:function(n,t){for(var e=n,f=t.components,r=[],u,i=0,o=f.length;i<o;i++)u=f[i],u.template?r.push(u.template):r.push(t["opt.linkIndex"]==i?"((link))":e);return r.join("")}},withDivider:{onMount:function(n){var t=this.$el.find("span.form-radio")[n["opt.inlineDivider"]];t&&$(t).after("<span class='inline-divider'/>")}},thumbnail:{template:"((radio-thumbnail))",onInitTemplate:function(n,t){return t.isVertical===!0&&(n=n.replace(/(\(\(+radio-thumbnail)\)\)/g,'<div class="control">$&<\/div>')),n}}}};widget.custom={};widget.custom._baseLoaded=!1;widget.custom._export=function(){return{_default:{controlType:"widget.custom",_isCombinedControl:!0,_errorStatus:0,needValidate:!1,errorMessage:"",cutInControlsTag:!1,hidden:!1,init:function(n){this._initializeOptions(n);this.initializer=ecount.global.findCallback(this.ecPageID,ecount.widget.initializerByCombine)},_initializeOptions:function(n){$.extend(this,n||{},{_controls:n.extractData?n.extractData._controls:n._controls,controlList:[],itemList:[],inlineInfo:{},__HEADLESS:!1,searchItemCode:n.searchItemCode,popoverType:n.popoverType?n.popoverType:"popover",isLayerPopup:n.popupType==="layer"});this.setEcPath();this.setEcIKey()},getEcPath:function(){return this.ecPath},setEcPath:function(){this.ecPath=ecount.widget.createEcPath(this.ecPageID,this.containerName,this.tabId,"",this.gridID,this.id,this.pcid)},getEcIKey:function(){return this.ecIKey},setEcIKey:function(){this.ecIKey=ecount.global.registerEcInstance(this)},render:function(n){this._controls&&(this._renderInlineIndexConvert(),this._renderControlList(),this._renderInlineIndex());!this.__HEADLESS&&this.onBeforeRender()?this.attachView(n,!0):this._$parent=n;this.containerDelegator&&this.containerDelegator.triggerEvent("item.onload",{target:this.containerName,type:this.__type,__self:this})},_renderInlineIndexConvert:function(){function c(n){var t=null,i=n.split(".")[1];switch(i){case"input":case"select":t="main";break;case"label":case"radio":case"checkbox":case"date":case"multiDate":t="sub";break;case"code":case"multiCode":t="only"}return t}function h(t){return t.controlLineStateList[n].hasMultiLine||t.controlLineStateList[n].type=="only"||!t.controlLineStateList[n].hasInline&&t.controlLineStateList[n].type=="main"}var i=null,f=null,e=0,r=0,o=!1,t={customID:this.id,hasInlineIndexOfControl:!1,hasColumnsOfCustom:!1,hasColumnsSumOfCustom:0,hasInlineOfCustom:!!this._inline,controlLineStateList:[]},s,n,u;for(this.columns&&_.isArray(this.columns)&&(t.hasColumnsOfCustom=this.columns.length,t.hasColumnsSumOfCustom=_.sum(this.columns.map(function(n){return n.column}))),o=!this._controls.some(function(n){return n.controlType.indexOf("widget.checkbox")<0}),n=0,u=this._controls.length;n<u;n++){if(i=this._controls[n],f=this._controls[n+1],!$.isNull(i.inlineIndex)||!$.isNull(i.noneFlex)){t.hasInlineIndexOfControl=!0;break}s={type:c(i.controlType),hasInline:!!i._inline,hasMultiLine:!!i._multiLine};t.controlLineStateList.push(s)}if(!t.hasInlineIndexOfControl){for(n=0,u=this._controls.length;n<u;n++)i=this._controls[n],i.inlineIndex=r,t.hasColumnsOfCustom?$.isNumber(t.hasColumnsOfCustom)&&0!==t.hasColumnsOfCustom&&n>=t.hasColumnsOfCustom&&(t.hasColumnsSumOfCustom<12?h(t)&&(n!=0&&e==r&&(i.inlineIndex=++r),r++):(n!=0&&e==r&&(i.inlineIndex=++r),r++)):t.hasInlineOfCustom||h(t)&&(n!=0&&e==r&&(i.inlineIndex=++r),r++),e=i.inlineIndex;for(n=0,u=this._controls.length;n<u;n++)i=this._controls[n],f=this._controls[n+1],t.hasInlineOfCustom||t.hasColumnsOfCustom?t.hasInlineOfCustom&&!t.hasColumnsOfCustom&&(o||f)&&t.controlLineStateList[n].type=="sub"&&(i.noneFlex=!0):(o||f&&i.inlineIndex==f.inlineIndex)&&(t.controlLineStateList[n].type=="sub"||t.controlLineStateList[n].type=="main")&&(i.noneFlex=!0)}},_renderControlList:function(){for(var t,n,i=0,r=this._controls.length;i<r;i++)n=this._controls[i],n.delegator=this.delegator,n.cIndex=i,n.useWrapperSet=!1,n.delegator=this.delegator,n.pId=this.pId,n.containerName=this.containerName,n.pcid=this.id,n.pSubTitle=this.subTitle,n.tabID=this.tabID,n.onSync=this.onSync,n.ecPageID=this.ecPageID,n.__HEADLESS=this.__HEADLESS,this._readOnly===!1&&(n._readOnly=this._readOnly),n.customInline=this._inline,this.gridID&&(n.gridID=this.gridID),n.searchItemCode=this.searchItemCode,n.popupID=this.popupID,n.popupLevel=this.popupLevel,n.popupType=this.popupType,n.parentPageID=this.parentPageID,n.responseID=this.responseID,n.inIncludePage=this.inIncludePage,n.eventContainer=this.eventContainer,n.alreadyIncludedLayout=this.alreadyIncludedLayout,n.OBSERVE_CHANGE_STATE=this.ON_CHANGE_CHILD_STATE.bind(this),this.initializer&&ecount.control.initializeByUserSetting(this.initializer,n),this.isHasRecursivedControls===!0&&(n.__pnode=this.__pnode),this._serializeByAll==!0&&(n._serializeByAll=!0),this._useCommonSerialize==!0&&(n._useCommonSerialize=!0),ecount.widget.createDisplayID(n,"btn",this.containerName),ecount.control.lazyLoad(n.controlType),control=ecount.common.createNamespace(n.controlType),t=new control(n),t.isCombinedControl()||this._renderMolding(t),this.controlList.push(t);this.itemList=this.controlList.slice(0)},_renderMolding:function(n){n.controlType==="widget.input"&&n.numericOnly===!0&&(n.isNotChangeWidth=!0)},_renderInlineIndex:function(){function s(t){return $.isNull(n.inlineIndex)?i:t}for(var u,f,e=this.wrapperCss||ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,r,t,n,i=0,o=this.controlList.length;i<o;i++)n=this.controlList[i],r=n.inlineIndex=s.call(this,n.inlineIndex),u=n.isCombinedControl()?!n.hidden:n.isVisible(),this.inlineInfo[r]?(this.inlineInfo[r].push(n.id),u?t.removeClass("hidden"):n.isCombinedControl()||n.setState(this._IT_SELF,"style.display",!1)):(this.inlineInfo[r]=[n.id],f=u?"":" hidden",t=$('<div class="'+e+f+'"><\/div>'),t[0].ecIKey=this.ecIKey,this.$el=this.$el?this.$el.add(t):t,u||n.isCombinedControl()||n.setState(this._IT_SELF,"style.display",!1)),this._renderInstance(n,t,i)},_renderInstance:function(n,t,i){n.render(t);this._renderCutInControlsTag(n,t,i)},_renderCutInControlsTag:function(n,t,i){function u(n){n.html?r+=n.html:n.value&&(r+="<span style='margin: 0 5px;'>"+n.value+"<\/span>")}var r;this.cutInControlsTag&&this.cutInControlsTag.length>0&&(r="",this.cutInControlsTag.filter(function(n){return n.index===i&&n.front===!0},this).map(u,this),r!==""&&t.prepend(r),r="",this.cutInControlsTag.filter(function(n){return n.index===i&&n.front!==!0},this).map(u,this),r!==""&&t.append(r))},attachView:function(n,t){var n,r,i,u;if(t){for(n=n||this._$parent,i=0,u=this.controlList.length;i<u;i++)r=this.controlList[i],r.__HEADLESS&&r.attachView();this.onAfterAttachView(n);this.__HEADLESS=!1}},onAfterAttachView:function(n){var i=_.isBoolean(this.isForm)?this.isForm:!0,t;i||n.prop("tagName")==="DIV"?n&&n.append(this.$el):(t=$("<div class='wrapper-toolbar'><\/div>"),t.append(this.$el),n&&n.append(t))},destroy:function(){for(var t,n=0,i=this.controlList.length;n<i;n++)t=this.controlList[n],t.destroy();this.$el&&(this.$el.off(),this.$el.length>0&&ecount.widget.removeChild(this.$el[0]),this.$el=null,delete this.$el)},get:function(n){if(typeof n=="string"){for(var t=0,i=this.controlList.length;t<i;t++)if(this.controlList[t]._originId==n||this.controlList[t].id==n)return this.controlList[t]}else return this.controlList[n]},getIndex:function(n){if(typeof n=="string")for(var t=0,i=this.controlList.length;t<i;t++)if(this.controlList[t].id==n)return t;return null},getVisibleIndex:function(){for(var t=[],n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisibleElement()&&this.controlList[n].isReadOnly()===!1&&t.push(n);return t},getValue:function(n){for(var u,i=[],t,r=0,f=this.controlList.length;r<f;r++){t=this.get(r);switch(t.controlType){case"widget.radio":case"widget.select":case"widget.input":case"widget.input.general":case"widget.label":case"widget.combine":case"widget.custom":u=t.getValue();break;default:u=t.getStandardValue()}i.push(u)}return $.isNumber(n)?i[n]:i},isVisible:function(){var t=!1,n,i;if(this.hidden==!0)return t;for(n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisible()&&(t=!0);return t},isVisibleElement:function(){for(var t=!1,n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isVisibleElement()&&(t=!0);return t},isReadOnly:function(){for(var t=!0,n=0,i=this.controlList.length;n<i;n++)this.controlList[n].isReadOnly()||(t=!1);return t},setValue:function(n){for(var t,i,r=0,u=this.controlList.length;r<u;r++)if(i=this.get(r),t=n[r],!$.isNull(t))switch(i.controlType){case"widget.checkbox":$.isBoolean(t)?i.setValue(t):i.setStandardValue(t);break;default:i.setStandardValue(t)}},serialize:function(){for(var t,n=[],i=0,r=this.controlList.length;i<r;i++)t=this.controlList[i].serialize(),$.isArray(t)?n=n.concat(t):n.push(t);return n},serializeById:function(){for(var t,n=[],i=0,r=this.controlList.length;i<r;i++)t=this.controlList[i].serializeById(),$.isArray(t)?n=n.concat(t):n.push(t);return n},save:function(){for(var i,t=[],n=0,r=this.controlList.length;n<r;n++)i=this.controlList[n].save(),t.push(i);return{key:this.id,value:t}},restore:function(n){for(var t=0,i=this.controlList.length;t<i;t++)n[t]&&this.controlList[t].restore(n[t].value)},extract:function(){for(var i={},t,r=[],n=0,u=this.controlList.length;n<u;n++)t={extractData:this.controlList[n].extract()},t.id=this.controlList[n].id,t.name=this.controlList[n].name,t.controlType=this.controlList[n].controlType,t.inlineIndex=this.controlList[n].inlineIndex,this.controlList[n].isCombinedControl()&&(t.controlType=this.controlList[n].combineControlType),$.isNull(this.controlList[n].combineControlType)||(t.combineControlType=this.controlList[n].combineControlType),r.push(t);return i._controls=r,i.cutInControlsTag=this.cutInControlsTag,i.hidden=this.hidden,i},reset:function(n){for(var i,t=0,r=this.controlList.length;t<r;t++)n&&n._controls&&Array.isArray(n._controls)?(i=n._controls[t]&&n._controls[t].extractData,this.controlList[t].reset(i)):this.controlList[t].reset()},callChangeEvent:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].callChangeEvent()},showErrorOfItemList:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].hasError()&&this.controlList[n].showError()},isMultiLine:function(n){return n.$el.parent().hasClass("wrapper-toolbar")&&!n.$el.hasClass("hidden")&&!n.$el.hasClass("invisible")&&ecount.widget.isVisible(n.getElements()[0])?!0:!1},showError:function(n,t,i,r){var u,o,f,e;this.hideError(this._IT_SELF);u=Array.prototype.slice.apply(arguments);u.length==1&&($.isPlainObject(u[0])?(o=u[0].id,n=u[0].index,t=u[0].message,i=u[0].required,r=u[0].preventTrigger,f=this.get(o||n)):(n=this._IT_SELF,t=u[0]));$.isNull(f)?this.hasError()&&$.isEmpty(t)||(this.needValidate=!0,this.isVisibleElement()&&(e=this.$el.parent(),e.addClass("has-error"),e.prepend('<div class="validation"><\/div>'),this.setPopover({message:t}))):f.showError(t);!r&&this.delegator&&this.delegator.triggerEvent("control.showError",{instance:this,cid:this.id})},multiLineError:function(n,t,i,r){var u=this.get(n);u&&(r&&(u._errPlacement=r),u.showError(t))},setPreventHideError:function(){return!1},getErrorMessage:function(){return this.errorMessage},setErrorMessage:function(n){this.errorMessage=n},hideError:function(n,t){var r=this.$el.parent(),i,u;if(this.needValidate=!1,r.hasClass("has-error")&&(r.removeClass("has-error"),r.find("div.validation").remove(),this.destroyPopover(),!t&&this.delegator&&this.delegator.triggerEvent("control.hideError",{instance:this,cid:this.id})),n!==this._IT_SELF)for(i=0,u=this.controlList.length;i<u;i++)this.controlList[i].hasError()&&this.controlList[i].hideError()},hasError:function(n){var i,t,r;if(n==this._IT_SELF)return this.needValidate;for(i=$.isNumber(n)?[this.controlList[n]]:this.controlList,t=0,r=i.length;t<r;t++)if(i[t].hasError())return!0;return!1},setPopover:function(n){var i=this.$el.parent(),u=this.isLayerPopup?$("div[data-ecpageid="+this.ecPageID+"]").closest("div.ui-dialog"):"body",r=(n.message||"").cr2br(),f=this.popoverPlacement||"auto",t;i.is(":visible")&&!$.isEmpty(r)&&(t=_.merge({type:this.popoverType,content:r,placement:f,container:u,html:!0,animation:!1,trigger:"hover focus",followMouse:!0,directShow:!0,isClearOnBodyClick:!0},n||{}),ecount.popover.create(i,t),this.popoverOptions=t)},_getPopoverOptions:function(){return this.popoverOptions},destroyPopover:function(){var n=this.$el.parent();ecount.popover.destroy(n)},hasValidateNeededComponent:function(){return this.needValidate},validate:function(n,t,i){var f=[],h=this,r,s,u,e,c,o;if(this._executeValidateIfVisible&&!this.isVisible())return f;for(e=0,c=this.controlList.length;e<c;e++)(r=this.controlList[e],s=r.isVisible(),(this._executeValidateIfVisible||r._executeValidateIfVisible)&&!s)||s&&(u=r.validate(n,t,i),u&&$.isArray(u)&&u.length>0?u.forEach(function(n){n.control=h;n.targetControl=r}):r.controlType&&(o=r.isContainsLimitedSpecial(),o&&o.result&&(u=[{message:o.message,control:h,targetControl:r,method:"limitedSpecial"}])),f=f.concat(u));return f},isPreventHideError:function(){for(var n=0,t=this.controlList.length;n<t;n++)if(this.controlList[n].isPreventHideError())return!0;return!1},setDataRuleMessage:function(n){var i,t,r;if((this.hasError()||this.hasError(this._IT_SELF))&&this.hideError(),n.length>0){for(i=[],t=0,r=n.length;t<r;t++)n[t].method!="required"&&(n[t].targetControl&&!n[t].targetControl.hasError()?i.push(n[t].message):n[t].targetControl||i.push(n[t].message));this.showError(i.length==0?null:i.join("<br/>"))}},setReadOnly:function(n,t){var f=$.isNull(t),i,u,r;if($.isBoolean(n)||(n=!0),f)for(i=0,u=this.controlList.length;i<u;i++)r=this.get(i),r&&r.isVisible()&&r.setReadOnly(n);else for($.isArray(t)||(t=[t]),i=0,u=t.length;i<u;i++)r=this.get(t[i]),r&&r.isVisible()&&r.setReadOnly(n)},hasFocusableComponent:function(){return this.controlList.any(function(n){return n.hasFocusableComponent()})},onFocus:function(n){n=n||0;var t=this.controlList[n];t.onFocus(0)},setFocus:function(n,t){var i=this.get(n);if(i&&i.isVisibleElement()&&i.isReadOnly()==!1)i.setFocus(0,t);else if(i&&this.isVisibleElement())this.onNextFocus(n)},setFocusError:function(n,t){for(var r=0,i=0,u=this.controlList.length;i<u;i++)this.controlList[i].hasError()&&(r=i);this.setFocus(r,t)},setChildFocus:function(n,t,i){var r=this.get(n);if(r&&r.isVisibleElement()&&r.isReadOnly()==!1)r.setFocus($.isNumber(t)?t:0,i);else if(r)this.onNextFocus(n)},onNextFocus:function(n){var r=_.isString(n)?this.getIndex(n):n,i=this.getVisibleIndex(),u=i[i.indexOf(r)+1],t=this.get(u),f=t&&t.getComponents().any(function(n){return t.hasFocus(n.index)});t&&t.hasFocusableComponent()&&!f?t.setFocus(0):this.setFocusOutTrigger()},onFocusOut:function(){this._splitError&&(this._splitError=!1);this.onCompleteFocusOut=!0;for(var n,t=0;t<this.controlList.length;t++)(n=this.controlList[t],!n._executeValidateIfVisible||ecount.widget.isVisible(n.$el[0]))&&n.onFocusOut.apply(n,arguments);this.onCompleteFocusOut=!1},focusItem:function(){},hide:function(n){var t,f;if($.isEmpty(n)){var i="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,r=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(i),u=r.parent();this.hidden=!0;r.addClass("hidden");this.pcid&&u.is(i)&&u.addClass("hidden")}else for($.isArray(n)||(n=[n]),t=0,f=n.length;t<f;t++)this.get(n[t]).hide()},show:function(n){var s,i,h,t,c;if($.isEmpty(n)){var u="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,f=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(u),e=f.parent(),o,r;for(this.hidden=!1,t=0,s=Object.keys(this.inlineInfo).length;s>t;t++)for(r=this.inlineInfo[t],i=0,h=r.length;h>i;i++)o=this.get(r[i]),o.isVisible()&&f.eq(t).removeClass("hidden");this.pcid&&e.is(u)&&e.removeClass("hidden")}else for($.isArray(n)||(n=[n]),t=0,c=n.length;t<c;t++)this.get(n[t]).show()},hideAll:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].hide()},showAll:function(){for(var n=0,t=this.controlList.length;n<t;n++)this.controlList[n].show()},getDefaultElements:function(){return $("<div/>")},getDefaultBoundaryObject:function(){return{top:0,left:0,width:0,height:0}},getContainerBoundary:function(){return this.$el.length?ec$.getZoomedBoundary(this.$el.parent().get(0)):this.getDefaultBoundaryObject()},getComponentBoundary:function(n){var i=this.get(n),t,r=0;return!i||!i.isVisible()?this.getDefaultBoundaryObject():(t=i.ecview.$el,t.parent().find(".control").length>1&&(r=parseInt(t.css("margin-left"))),this.$el.length?ec$.getZoomedBoundary(t.get(0),{left:r}):this.getDefaultBoundaryObject())},getFunctionBoundary:function(){return this.getContainerBoundary()},getRoleHolderBoundary:function(){return this.getContainerBoundary()},getComposedDomString:function(){var f,s,t,i,e;if(!this.$el)return"";var n="",r=0,u=this.$el.clone(),o=u.find("div.control");for(f in this.inlineInfo)for(s="",t=0,i=this.inlineInfo[f];t<i.length;t++)e=this.get(i[t]),o.eq(r).replaceWith(e.getComposedDomString()),r++;return n=u.wrapAll("<div/>").parent().html(),_.isEmpty(this.gridID)||(n="<div class='wrapper-toolbar whole-row'>"+n+"<\/div>"),n},getComposedDomStringOld:function(){var t,n,i;if(this.$el){for(t="",n=0,i=this.$el.length;n<i;n++)t+=this.$el[n].outerHTML;return t}return""},set$El:function(n){var s=this.getEcIKey(),i,f,r,t,e,o,u;for(this.$el=n,i=0,f=this.$el.length;i<f;i++)for(this.$el[i].ecIKey=s,r=$(this.$el[i]).find("div.control"),t=0,e=r.length;t<e;t++)o=r.eq(t).attr("data-ecpath"),u=this.controlList.filter(function(n){return n.ecPath===o}),u.length>0&&(u[0].set$El(r.eq(t)),r[t].ecIKey=u[0].ecIKey)},ON_CHANGE_CHILD_STATE:function(n){var i=n.key,r=n.state,u=n.targetID,t=("on_change_child_"+n.path.replace(/\./,"")).toUpperCase();typeof this[t]=="function"&&this[t].call(this,i,r,u)},ON_CHANGE_CHILD_STYLEDISPLAY:function(n,t,i){var e=this.get(i),r=e.inlineIndex,o=this.inlineInfo[r],c="div."+ecount.constValue.styleClassName.CONTROL_INLINE_CLASS,u=this.$el.hasClass(ecount.constValue.styleClassName.CONTROL_INLINE_CLASS)?this.$el:this.$el.find(c),f,s,h;if(e.controlType.indexOf("widget.code")!=-1&&n!="removeall"&&t==!0)u.eq(r).removeClass("hidden");else if(n==this._IT_SELF||n==this._ALL_COMP){for(f=0,s=o.length;f<s;f++)if(h=this.get(o[f]),h.isVisible())return u.eq(r).removeClass("hidden"),!1;u.eq(r).addClass("hidden")}else $.isNumber(n)&&o.length==1&&(e.isVisible()?u.eq(r).removeClass("hidden"):u.eq(r).addClass("hidden"))},_ON_CONTROL_FOCUSOUT:function(n){if(n&&n.__self.pcid!=this.id)return!0;var t=n.__self.getElements(),i=t.length-1;this.onNextFocus(i,t[i])},ON_KEY_ESC:function(n){for(var i=n.target.getAttribute("data-cid"),t=0,r=this.controlList.length;t<r;t++)if(i==this.controlList[t].id)return this.controlList[t].ON_KEY_ESC();return!0},resetData:function(n){for(var t,i,u=n.target.getAttribute("data-cid"),r=0,f=this.controlList.length;r<f;r++)if(t=this.controlList[r],u===t.id&&t.resetData){i=t;break}return i?(i.resetData(),!0):!1},reflowContainer:function(){for(var t,n=0,i=this.controlList.length;n<i;n++)t=this.controlList[n],t.reflowContainer&&t.reflowContainer()},setAddOnTitleResize:function(n){var i,e,f,r=0,o=[],t,u;for($.isEmpty(n)&&(n=!0),t=0,u=this.controlList.length;t<u;t++)i=this.controlList[t],(n?i.isVisible():!0)&&!i.isCombinedControl()&&(e=i.getState(this._IT_SELF,"opt.addontitle"),$.isEmpty(e)||(o.push(t),f=i.ecview.$el.find("span[addon-cid]").outerWidth(),r<f&&(r=f)));if(0<r)for(t=0,u=this.controlList.length;t<u;t++)i=this.controlList[t],(n?i.isVisible():!0)&&!i.isCombinedControl()&&o.contains(t)&&i.ecview.$el.find("div").has("span[addon-cid]").width(r+"px")},setControlAddOnTitleResize:function(n,t){var i=this.get(n);i&&!i.isCombinedControl()&&i.ecview.$el.find("div").has("span[addon-cid]").width(t+"px")},getControlAddOnTitleSize:function(n,t){var r=null,i=this.get(n);return i&&!i.isCombinedControl()&&(r=t?i.ecview.$el.find("span[addon-cid]").outerWidth():i.ecview.$el.find("div").has("span[addon-cid]").width()),r},_ON_BEFORE_CHANGE:function(){return!0},_ON_CHANGE:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_CHANGE(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_CLICK:function(){return!0},_ON_CLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_CLICK(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEOVER:function(){return!0},_ON_MOUSEOVER:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOVER(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEOUT:function(){return!0},_ON_MOUSEOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOUT(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEDOWN:function(){return!0},_ON_MOUSEDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEDOWN(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_INPUT:function(){return!0},_ON_INPUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_INPUT(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_FOCUSIN:function(){return!0},_ON_FOCUSIN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_FOCUSIN(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_FOCUSOUT:function(){return!0},_ON_FOCUSOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:(this.hasError(this._IT_SELF)&&n.eventTriggerFromInternalCombinedControl!=!0&&this.hideError(),this.ON_FOCUSOUT(n,t,i,r)===!1?!1:void 0)},_ON_BEFORE_KEYDOWN:function(){return!0},_ON_KEYDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYDOWN_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_BEFORE_KEYUP:function(){return!0},_ON_KEYUP:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYUP_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},_ON_BEFORE_DBLCLICK:function(){return!0},_ON_DBLCLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_DBLCLICK(n,t,i,r)===!1?!1:void 0}},create:function(n){var t,i,r;(n=n||"_default",t=widget.custom.repository[n]||{},widget.custom._baseLoaded||(i=$.Class(ecount.control,widget.custom.repository._default),widget.custom=$.extend(i,widget.custom),widget.custom._baseLoaded=!0,n!="_default"))&&(widget.custom[n]||(t.init||(t.init=function(){widget.custom.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.custom.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.custom,widget.custom[n]=$.Class(r,t)))}}};widget.date={};widget.date._baseLoaded=!1;widget.date._export=function(){return{_default:{controlType:"widget.date"},label:{__inheritParent:"ecount.control.date.d03",controlType:"widget.date.label",viewName:"widget.view.date.label",baseControlType:"widget.date",getInitData:function(n){var i=ecount.control.getInitData(n.controlType,n.inIncludePage,n.ecPageID),r=ecount.control.getInitData(this.baseControlType,n.inIncludePage,n.ecPageID),t=_.merge({},r,i);return t.result?t:_.merge(t,{result:{Data:{STARTWEEK:null,MAXYEAR:null,MINYEAR:null,WEEK:null}}})}},time:{controlType:"widget.date.time",baseControlType:"widget.date",_isTime:!0,getDate:function(){var n=new Date,i=this.getSYear(),t=this.getSMonth(),r=this.getSDay();return(t&&(t-=1),!i&&!t&&!r)?[null]:(n.setDate(1),n.setYear(i),n.setMonth(t),n.setDate(r),n.setHours(this.getSHours()),n.setMinutes(this.getSMinutes()),[n])},hideDateControl:function(n){var t=["y","m","d"];arguments.length==0&&(n=!0);this.pendingViewUpdate(!0);this.getComponents().forEach(function(i,r){i.format&&~t.indexOf(i.format)&&this.setState(r,"style.display",!n)}.bind(this));this.setState("datepicker","style.display",!n);this.pendingViewUpdate(!1);this.batchUpdateView()},toString:function(n){return n=n||"yyyyMMdd hh:mm",this.getDate().map(function(t){return t.format(n)})}},timeRange:{controlType:"widget.date.timeRange",baseControlType:"widget.date",_isTime:!0,_isTimeRange:!0,noTimeSync:!1,initializeOptions:function(n){ecount.control.date.prototype.initializeOptions.apply(this,arguments);this.noTimeSync=n.noTimeSync||this.noTimeSync},getDate:function(){var n,t,r=this.getSYear(),i=this.getSMonth(),u=this.getSDay();return r==""&&i==""&&u==""?[]:(n=new Date,t=new Date,i=i-1,n.setDate(1),n.setYear(r),n.setMonth(i),n.setDate(u),n.setHours(this.getSHours()),n.setMinutes(this.getSMinutes()),t.setDate(1),t.setYear(r),t.setMonth(i),t.setDate(u),t.setHours(this.getEHours()),t.setMinutes(this.getEMinutes()),[n,t])},setDate:function(n){n=$.isArray(n)?n:[n];var t=this.getFormatIndex().map(function(n,t){return t}),i=this.splitDate(n[0],this.dateFormat.concat(this.timeFormat.slice(0,2))).concat(this.splitDate(n[1]||n[0],this.dateFormat.concat(this.timeFormat.slice(2))).slice(3));this.setDateItem(t,i);this.validateIf(this.getState(this._IT_SELF,"validate.needvalidate"))},toString:function(n){return n=n||"yyyyMMdd hh:mm",this.getDate().map(function(t){return t.format(n)})},checkValidate:function(){var n=ecount.control.date.d01.prototype.checkValidate.apply(this,arguments),t=this.getDate(),i=t[0].format("hhmm"),r=t[1].format("hhmm");return!this.noTimeSync&&parseInt(i,10)>parseInt(r,10)&&n.push({message:"",method:"checkSEDate"}),n},hideDateControl:function(n){var t=["y","m","d"];arguments.length==0&&(n=!0);this.pendingViewUpdate(!0);this.getComponents().forEach(function(i,r){i.format&&~t.indexOf(i.format)&&(this.setState(r,"style.display",!n),this.setState(r,"opt.notVisible",n))}.bind(this));this.setState("datepicker","style.display",!n);this.pendingViewUpdate(!1);this.batchUpdateView()}},YM:{controlType:"widget.date.YM",viewName:"widget.view.date.YM",_isNotShowDay:!0,_isLastDay:!0,_hideDateButton:!0,disable:function(n){var t=this.getPositionIndex(n);this.setState(t,"attr.disabled",!0)}},repeat:{controlType:"widget.date.repeat",baseControlType:"widget.date",viewName:"widget.view.date.repeat",defaultParams:{FromProgramId:null,EditMode:null,Data:{}},repeatSetupInfo:{Master:{HID:null,STR_DT:null,REPT_CLY_TYPE_CD:null,REPT_CLY:null,REPT_BASC_TYPE_CD:null,Y_REPT_MM:null,Y_REPT_DD:null,M_REPT_DD:null,M_REPT_WEEK_TI:null,M_REPT_WDAY:null,W_REPT_WDAY:null,END_TYPE_CD:null,END_DT:null,END_TCNT:null,SUMM_CTT:null,PRG_ID:null,CRE_SLIP_CNT:null},SlipDateList:[],ChangeYn:null,DeleteYn:null},url:"/ECERP/SVC/Popup/RepeatSetupP",initializeOptions:function(n,t){if(ecount.control.date.d01.prototype.initializeOptions.apply(this,arguments),_.extend(this,{defaultParams:_.cloneDeep(this.defaultParams),repeatSetupInfo:_.cloneDeep(this.repeatSetupInfo),url:n.url||this.url}),t&&(t.config&&(this.defaultParams.FromProgramId=t.config.FromProgramId,this.defaultParams.EditMode=t.config.EditMode),t.result&&t.result.Data)){var i=t.result.Data.Master||this.repeatSetupInfo.Master;_.extend(this.repeatSetupInfo,t.result.Data,{Master:i})}},getOptionalComponents:function(n,t){var i=ecount.control.date.d02.prototype.getOptionalComponents.apply(this,arguments),r=!$.isEmpty(this.repeatSetupInfo.Master.SUMM_CTT);return i.push({cid:t.cid,ecRole:"date.sidelink",label:r?this.repeatSetupInfo.Master.SUMM_CTT:ecount.resource.LBL01246,index:i.length,"style.css":r?"text-warning-inverse":"","style.display":!0,"attr.href":"javascript:;"}),i},onMessage:function(n,t){t.RepeatSetupInfo&&this.setRepeatInfo(t);t.callback&&t.callback()},serialize:function(){var n=widget.date.prototype.serialize.apply(this,arguments);return n.RepeatSetupInfo=this.getRepeatSetup(),n},openPopup:function(n){n=n||{};var t=$.extend(this.getDefaultPopupParameter(),n||{popupType:n.popupType===!0,name:this.popupType===!0?this.id:this.subTitle});if($.isEmpty(t.Request.RepeatSetupInfo.Master.SUMM_CTT)&&(t.Request.RepeatSetupInfo.Master.STR_DT=this.getDateFormat("yyyyMMdd").first(),t.Request.RepeatSetupInfo.Master.END_DT=this.getDateFormat("yyyyMMdd").first()),this.delegator){this.executeOpenPopupDelegator(t);return}this.executeOpenPopup(t)},executeOpenPopupDelegator:function(n){this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:n,handler:function(n,t,i,r){this.responseID=t;var u={url:n.url,name:n.name||ecount.resource.LBL01246,param:_.extend({},n,{popupLevel:r,parentPageID:i||this.parentPageID,modal:null,additional:null,__ecPageID:this.ecPageID}),popupType:n.popupType,modal:n.modal||this.modal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:n.additional,parentPageID:i||this.parentPageID};ecount.popup.openWindow(u)}.bind(this)})},executeOpenPopup:function(n){ecount.popup.openWindow({url:n.url,name:n.name||"control_popup",param:n,popupType:n.popupType,modal:this.modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID})},getDefaultPopupParameter:function(){return{width:780,height:330,url:this.url,responseID:this.callbackID,Request:_.extend({},this.defaultParams,{RepeatSetupInfo:this.repeatSetupInfo}),tabID:this.tabID,controlID:this.id,gridID:this.gridID,ispopupCloseUse:!0,isOnePopupClose:!0,popupLevel:this.popupLevel,parentPageID:this.parentPageID,popupType:this.popupType,popupID:this.id,alreadyIncludedLayout:!0,__ecPageID:this.ecPageID}},getRepeatSetup:function(){return _.cloneDeep(this.repeatSetupInfo)},setRepeatInfo:function(n){var t;n&&n.RepeatSetupInfo&&(t=n.RepeatSetupInfo,$.isEmpty(t.Master)||t.Master.DeleteYn!="N"?this.setLabelLink(ecount.resource.LBL01246,!1):(this.setLabelLink(t.Master.SUMM_CTT,!0),(this.defaultParams.EditMode=="01"||this.defaultParams.EditMode=="02"&&t.ChangeYn=="Y")&&this.setDate([t.Master.STR_DT.toDate(),t.Master.STR_DT.toDate()])),this.repeatSetupInfo=_.extend(this.repeatSetupInfo,t))},setLabelLink:function(n,t){var i;n&&typeof n!="object"&&(i=this.getComponentByAttr("ecRole","date.sidelink"),n=$.isEmpty(n)?"":""+n,this.setState(i.index,"label",n),this.setState(i.index,"style.css",t?"text-warning-inverse":""))},ON_CLICK:function(n){n.ecRole=="date.sidelink"&&this.openPopup()}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.date.repository[n]||{},i=ecount.control.date.d01,widget.date._baseLoaded||(ecount.control.loadRepository(ecount.control.date.d01,ecount.control.view.date.d01,"widget.date"),n!="_default")){if(n=="label"){t.init=function(){ecount.control.date.d03.prototype.init.apply(this,arguments)};t.createView=function(){var n=ecount.common.createNamespace("widget.view.date").repository.label;return n!="function"&&(n=$.Class(ecount.control.view.date.d03,n)),this.ecview=new n};t.render=function(){ecount.control.date.d03.prototype.render.apply(this,arguments)};widget.date.label=$.Class(ecount.control.date.d03,t);return}if(arguments.length>1){ecount.control.mountMixinWidget(widget.date,t,"widget.date",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.date")){r=t.controlType.replace("widget.date.","");ecount.control.mountMixinWidget(widget.date,t,"widget.date",[widget.date,r]);return}widget.date[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.date,ecount.control.mountWidget(widget.date,n,i,t))}}}};widget.view.date._export=function(){return{_default:{},label:{__inheritParent:"ecount.control.view.date.d03"},repeat:{template:'<div data-cid="{{cid}}" data-pcid="{{pcid}}" data-node="0" data-section="0" data-role="dateWrapper"\nclass="wrapper-datepicker {{style.contextCss}} {{style.display}}">\n{{date}}{{time}}[[datepicker]]\n<\/div>\n[[fn]]\n((sidelink))',onChangeLabel:function(n,t){var i=this.getElements(n);i.attr("data-role")=="date.sidelink"&&i.find("span").html(t)},onChangeStyleCss:function(n,t){var i=this.getElements(n);i.attr("data-role")=="date.sidelink"&&(i.find("span").get(0).className=t)}},YM:{template:"<div class=\"wrapper-datepicker {{context-css}}\" data-cid=\"{{cid}}\" data-node='0' data-section='0'>\n{{date}}\n<\/div>\n[[fn]]",getAddonAppendedTemplate:function(n,t){return t}}}};widget.repeatDate={};widget.repeatDate._baseLoaded=!1;widget.repeatDate._export=function(){return{create:function(){widget.repeatDate=function(n){var t=ecount.control.prototype.getInitData(n);return(n._initData=t,!1)?(ecount.control.lazyLoad("widget.dualTime.repeat"),widget.dualTime.repeat(n)):(ecount.control.lazyLoad("widget.date.repeat"),new widget.date.repeat(n))}}}};widget.dualDate={};widget.dualDate._baseLoaded=!1;widget.dualDate._export=function(){return{_default:{controlType:"widget.dualDate",_BASIC_DATE:null,_CHANGE_DATE:null,initializeOptions:function(){ecount.control.date.d02.prototype.initializeOptions.apply(this,arguments)},_initializeState:function(n,t){ecount.control.date.d02.prototype._initializeState.apply(this,arguments);t.config&&($.isEmpty(t.config.BASIC_DATE)||(this._BASIC_DATE=t.config.BASIC_DATE),$.isEmpty(t.config.CHANGE_DATE)||(this._CHANGE_DATE=t.config.CHANGE_DATE))},onInitComponent:function(n,t,i,r){ecount.control.date.d02.prototype.onInitComponent.apply(this,arguments);this.isSingleInlineMode()&&t<this.getDateSetLength()&&(r["style.display"]=!1)},onInitFunction:function(){ecount.control.date.d02.prototype.onInitFunction.apply(this,arguments);var n=this.getState(this._IT_SELF,"functions");n.waveMark={ecFunction:"delimiter",ecRole:"delimiter","style.display":this.isSingleInlineMode()==!1}},createView:function(){return this.ecview=new widget.view.dualDate},getDate:function(){var n=ecount.control.date.d02.prototype.getDate.apply(this,arguments);return this.isSingleInlineMode()&&n.shift(),n},getFixedDate:function(){var t=this.getDate()[0],n;return this._BASIC_DATE?(n=Date.parse([this._BASIC_DATE.substr(0,4),this._BASIC_DATE.substr(4,2),this._BASIC_DATE.substr(6,2)].join("-")),t<n&&(n=t)):this._CHANGE_DATE&&(n=t.addDays(parseInt(this._CHANGE_DATE,10)*-1)),n},setDate:function(n){var n=$.isArray(n)?n:[n];if(splitDate=ecount.control.date.prototype.splitDate,n.length==1){var t=n[0],i=this.getDateSetLength(),r=this.dateFormat.map(function(n,t){return t+i});this.setDateItem(r,splitDate.call(this,t,this.dateFormat))}else ecount.control.date.d02.prototype.setDate.call(this,n)},setActiveInlineMode:function(){if(_.isEmpty(this.fixedMode)){ecount.control.date.d02.prototype.setActiveInlineMode.apply(this,arguments);this._syncOppositYear();var n=this.isSingleInlineMode()==!1,t=this.getComponentByAttr("ecRole","date.hide"),r=this.getDateSetLength(),i=!t||t["attr.checked"];this.pendingViewUpdate(!0);this.getComponents().forEach(function(t,u){u<r&&(this.setState(u,"opt.notVisible",!n),this.setState(u,"style.display",i&&n))}.bind(this));this.setState("waveMark","style.display",i&&n);this.pendingViewUpdate(!1);this.batchUpdateView();this.setFocus(0)}},serialize:function(n){var t=ecount.control.date.d02.prototype.serialize.apply(this,arguments),u=t[1].value,f=this.getFixedDate(),r=[],i,e;return this.isSingleInlineMode()==!1?t:f?(i=f.format("yyyyMMdd"),this._extractFormat&&(i=Date.format(this._extractFormat,i)),t[0].value=i,t[1].value=u,t):(r.push({key:n||this.name,value:u}),this.useFnActivedItem()&&(e=this.getFnActivedId(),r.push({key:(n||this.name)+"_FN",value:e})),r)},getResetState:function(){return this.getOriginState(["value","selectedValue","selectedLabel","attr.checked","inlineMode.activeInlineMode","style.display"],["waveMark"])},resetStateByData:function(n){var r,i,u,t;for(this.pendingViewUpdate(!0),i=0,u=n.length;i<u;i++){if(t=n[i],t.path=="inlineMode.activeInlineMode"){r=t.state;continue}this.setState(t[0],t[1],t[2])}this.pendingViewUpdate(!1);this.batchUpdateView();r&&this.activeInlineMode(r,!0)},save:function(){var n=this.getComponentByAttr("ecRole","date.hide"),t=this._isTime?"yyyy-MM-dd":"yyyy-MM-dd hh:mm",i=ecount.control.date.d02.prototype.getDate.call(this).map(function(n){return n?n.format(t):""}),r=this.useFnActivedItem()?this.getFnActivedId():null;return{key:this.id,value:{date:i,checkboxChecked:n?n["attr.checked"]:undefined,activeInlineMode:this.getActiveInlineMode(),fn:r}}},restore:function(n){this.isSingleInlineMode(n.activeInlineMode)?(n.date[0]=this.getDate()[0],ecount.control.date.d01.prototype.restore.apply(this,arguments)):ecount.control.date.d02.prototype.restore.apply(this,arguments);n.activeInlineMode&&this.setActiveInlineMode(n.activeInlineMode,!0);this.useFnActivedItem()&&!$.isNull(n.fn)&&this.setFnActivedId(n.fn)},checkValidate:function(){return this.isSingleInlineMode()?ecount.control.date.d01.prototype.checkValidate.apply(this,arguments):ecount.control.date.d02.prototype.checkValidate.apply(this,arguments)},checkDateValidation:function(){return this.isSingleInlineMode()?ecount.control.date.d01.prototype.checkDateValidation.apply(this,arguments):ecount.control.date.d02.prototype.checkDateValidation.apply(this,arguments)},getLayerDatepickerOption:function(){if(this._isYearCalender)return!1;var i=this._getDateComponentOnly(),u=this.getPositionIndex("y"),f=this.getPositionIndex("m"),r=this.getDateSetLength(),n=i[u+r],t=i[f+r];return _.merge(ecount.control.date.prototype.getLayerDatepickerOption.apply(this,arguments),{singleDate:this.isSingleInlineMode(),selectedEYear:{label:n.selectedLabel,value:n.selectedValue},selectedEMonth:{label:t.selectedLabel,value:t.selectedValue},eYearData:n.option.filter(this._getOptionsExceptEmpty.bind(this)),eMonthData:t.option.filter(this._getOptionsExceptEmpty.bind(this))})},toDateString:function(){return this.isSingleInlineMode()?ecount.control.date.d01.prototype.toDateString.apply(this,arguments):ecount.control.date.d02.prototype.toDateString.apply(this,arguments)},isSingleDate:function(){return this.isSingleInlineMode()},_getSelectboxYearComponent:function(n,t,i){var r=ecount.control.date.d02.prototype._getSelectboxYearComponent.apply(this,arguments);return this.isSingleInlineMode()&&i<this.getDateSetLength()&&_.merge(r,{"opt.notVisible":!0,"style.display":!1}),r},_getSelectboxComponent:function(n,t,i){var r=ecount.control.date.d02.prototype._getSelectboxComponent.apply(this,arguments);return this.isSingleInlineMode()&&i<this.getDateSetLength()&&n["style.display"]&&_.merge(r,{"opt.notVisible":!0,"style.display":!1}),r},_getInputboxComponent:function(n,t,i){var r=ecount.control.date.d02.prototype._getInputboxComponent.apply(this,arguments);return this.isSingleInlineMode()&&i<this.getDateSetLength()&&n["style.display"]&&_.merge(r,{"opt.notVisible":!0,"style.display":!1}),r},_setDateToComponent:function(n,t,i,r){var e=i?this.splitDate(i,this.dateFormat):["","",""],u=this._isMonthCalendar?this.getPositionIndex("d"):this.getPositionIndex("m"),f=e[t],o=f>=this._minYear,s=!this.getState(this._IT_SELF,"opt.useYearLimit")||f<=n,h=this._isDateSpace&&f=="";if(o&&s||h){var c=this.isSingleInlineMode(),l=this.getDateSetLength(),a=this.dateFormat.map(function(n,t){return c||r?t+l:t});this.setDateItem(a,e);r!=0&&this.setFocus(r==0?u:u+this.getDateSetLength())}else this.hasError()&&this.showError(),this.setFocus(r==0?u:u+this.getDateSetLength())},_ON_BEFORE_FOCUSIN:function(n,t,i,r){return(r.showLayerInFocus=!1,n.type=="deactive")?!1:ecount.control.date.prototype._ON_BEFORE_FOCUSIN.apply(this,arguments)}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.dualDate.repository[n]||{},i=ecount.control.date.d02,widget.dualDate._baseLoaded||(ecount.control.loadRepository(ecount.control.date.d02,ecount.control.view.date.d02,"widget.dualDate"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.dualDate,t,"widget.dualDate",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.dualDate")){r=t.controlType.replace("widget.dualDate.","");ecount.control.mountMixinWidget(widget.dualDate,t,"widget.dualDate",[widget.dualDate,r]);return}widget.dualDate[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.dualDate,ecount.control.mountWidget(widget.dualDate,n,i,t))}}}};widget.view.dualDate._export=function(){return{_default:{}}};widget.dualTime={};widget.dualTime._baseLoaded=!1;widget.dualTime._export=function(){return{_default:{controlType:"widget.dualTime",_isTime:!0,_isTimeRange:!0,_isDateOptionChecked:!1,searchDateName:undefined,initializeOptions:function(n){ecount.control.date.d02.prototype.initializeOptions.apply(this,arguments);_.merge(this,{searchDateName:n.searchDateName,_isUseSidelink:n.isUseSidelink===!1?!1:!0,_isUseAlldayChk:n.isUseAlldayChk===!1?!1:!0,_isDateOptionChecked:n._isDateOptionChecked})},initializeViewOptions:function(){ecount.control.date.d02.prototype.initializeViewOptions.apply(this,arguments);_.merge(this.__viewOptions,{isVertical:!0})},getInitDataComponents:function(n,t,i){var r=i.data,f=this.getDateSetLength(),u=r.length==10;return this.getCompInOrder(n,t,i).map(function(n,i){if(!n.format)return n;this.setFormatIndex(n.format);switch(n.format){case"y":return i>=f?this._getSelectboxYearComponent(n,u?r[5].selectedValue:r[3].selectedValue,i,t):this._getSelectboxYearComponent(n,r[0].selectedValue,i,t);case"m":return i>=f?this._getSelectboxComponent(n,u?r[8].selectedValue:r[4].selectedValue,i,t):this._getSelectboxComponent(n,r[1].selectedValue,i,t);case"d":return i>=f?this._getInputboxComponent(n,u?r[7].value:r[5].value,i,t):this._getInputboxComponent(n,r[2].value,i,t);case"h1":return this._getSelectboxComponent(n,u?r[3].selectedValue:r[6].selectedValue,i,t);case"mi1":return this._getSelectboxComponent(n,u?r[4].selectedValue:r[7].selectedValue,i,t);case"h2":return this._getSelectboxComponent(n,r[8].selectedValue,i,t);case"mi2":return this._getSelectboxComponent(n,r[9].selectedValue,i,t);default:return n}}.bind(this))},_initializeState:function(n,t){ecount.control.date.d02.prototype._initializeState.apply(this,arguments);t.config&&($.isEmpty(t.config.BASIC_DATE)||(this._BASIC_DATE=t.config.BASIC_DATE),$.isEmpty(t.config.CHANGE_DATE)||(this._CHANGE_DATE=t.config.CHANGE_DATE))},createView:function(){return this.ecview=new widget.view.dualTime},getOptionalComponents:function(n,t,i){var r=ecount.control.date.d02.prototype.getOptionalComponents.apply(this,arguments),u=this._hideDateControl&&!i._isDateOptionChecked,e=i._isDateSpace&&!i.data.length,f=!$.isEmpty(i.repeatCaption);return r.push({cid:t.cid,ecRole:"date.allday",label:ecount.resource.LBL13166,index:r.length,"style.css":"form-checkbox","opt.notVisible":!this._isUseAlldayChk,"style.display":!e&&!u&&this._isUseAlldayChk,"attr.checked":!!this._isDateOptionChecked,"attr.name":t.cid+(t.pid?"_"+t.pid:"")+"allday","attr.labelid":["control",this.tabID||"",this.gridID||"",this.ecPageID,this.id].join("-")}),r.push({cid:t.cid,ecRole:"date.sidelink",label:f?i.repeatCaption:ecount.resource.LBL01246,index:r.length,"style.css":f?"text-warning-inverse":"","opt.notVisible":!this._isUseSidelink,"style.display":this.isSingleInlineMode()&&!u&&this._isUseSidelink,"attr.name":this.cid+(this.pid?"_"+this.pid:"")+"allday","attr.href":"javascript:;"}),r},getFormatIndex:function(){var n=this.timeFormat.slice(0,2),t=this.timeFormat.slice(2);return this.dateFormat.concat(n).concat(this.dateFormat).concat(t)},getCompInOrder:function(n,t,i){var r=this.getDateComponents(n,t,i),f=_.cloneDeep(r),u=this.getTimeComponents(n,t,i),e=u.slice(0,2),o=u.slice(2),s=this.getOptionalComponents(n,t,i);return r.concat(e).concat(f).concat(o).concat(s)},getDateSetLength:function(){return 5},getCheckboxValue:function(){var n=this.getComponentByAttr("ecRole","date.allday");return n["attr.checked"]},getDate:function(){var n=ecount.control.date.d02.prototype.getDate.apply(this,arguments);return n[0]&&(n[0].setHours(this.getSHours()),n[0].setMinutes(this.getSMinutes())),n[1]&&(n[1].setHours(this.getEHours()),n[1].setMinutes(this.getEMinutes())),n},getLabelLinkComp:function(){return this.getComponentByAttr("ecRole","date.sidelink")},getFixedDate:function(){var t=this.getDate()[0],n;if(this._dualDateData)return n=t,$.isEmpty(this._dualDateData.BASIC_DATE)?$.isEmpty(this._dualDateData.CHANGE_DATE)||(n=t.addDays(parseInt(this._dualDateData.CHANGE_DATE,10)*-1)):(n=Date.parse(this._dualDateData.BASIC_DATE.substr(0,4)+"-"+this._dualDateData.BASIC_DATE.substr(4,2)+"-"+this._dualDateData.BASIC_DATE.substr(6,2)),t<n&&(n=t)),n},setCheckboxValue:function(n){this.displayTimeControl(n!==!0)},setDate:function(){var t=[].slice.call(arguments),n=this.dateFormat.map(function(n,t){return t}),r=ecount.control.date.prototype.splitDate,i=$.isArray(t[0])?t[0]:t,u;this.setDateItem(n,r.call(this,i[0],this.dateFormat));i.length>1&&(u=this.getDateSetLength(),n=n.map(function(n){return n+u}),this.setDateItem(n,r.call(this,i[1],this.dateFormat)))},setLabelLink:function(n){var t=this.getLabelLinkComp();this.setState(t.index,"label",n)},addLabelLinkCss:function(n){var t=this.getLabelLinkComp(),i=[this.getState(t.index,"style.css").replace(n,""),n].join(" ");this.setState(t.index,"style.css",i)},removeLabelLinkCss:function(n){var t=this.getLabelLinkComp(),i=this.getState(t.index,"style.css").replace(n,"");this.setState(t.index,"style.css",i)},addEHours:function(n,t){var o=this.getDate(),h=this.getComponents(),c=n-t,r,i,u,s;for(o[1]=o[1].addHours(c),r=function(n){return n<=9?"0"+n:n},i=function(n,t,i){this.setState(n,t,i);$.isEmpty(this.getState(n,"selectedLabel"))||this.setState(n,"selectedLabel",this._getSelectLabel(h[n],i))},u=0,s=o.length;u<s;u++){var f=u*5,e=o[u],l=e.getFullYear(),a=r(e.getMonth()+1),v=r(e.getDate()),y=r(e.getHours()),p=r(e.getMinutes());i.call(this,this.getPositionIndex("y")+f,"selectedValue",l);i.call(this,this.getPositionIndex("m")+f,"selectedValue",a);i.call(this,this.getPositionIndex("d")+f,"value",v);i.call(this,this.getPositionIndex("h1")+f,"selectedValue",y);i.call(this,this.getPositionIndex("mi1")+f,"selectedValue",p)}},toDateString:function(n){var t=ecount.control.date.d02.prototype.toDateString.apply(this,arguments),i=this.getSHours(),r=this.getSMinutes(),u=this.getEHours(),f=this.getEMinutes();return[t[0]+(n?""+ +i+""+ +r:i+r),t[1]+(n?""+ +u+""+ +f:u+f)]},changeSubTitle:function(n){this.delegator.triggerEvent("form.changeSubTitle",{rowId:this.id,title:n})},displayTimeControl:function(n){this.pendingViewUpdate(!0);this.getComponents().forEach(function(t,i){t.format&&~this.timeFormat.indexOf(t.format)&&(this.setState(i,"opt.notVisible",!n),this.setState(i,"style.display",n));t.ecRole&&t.ecRole=="date.allday"&&this.setState(i,"attr.checked",!n)}.bind(this));this.setState("waveMark","style.display",n||this.isSingleInlineMode()==!1);this.pendingViewUpdate(!1);this.batchUpdateView()},_datePickHandler:function(n){var t=this._getDayComponent(+(n.ecDatepickerIndex||0)+this.dateFormat.indexOf("d"));this._super._datePickHandler.apply(this,arguments);this._setSyncEmptyData(t.index,t.value)},checkValidate:function(){return this.isSingleInlineMode()?ecount.control.date.d01.prototype.checkValidate.apply(this,arguments):this.checkDateValidation()},checkDateTimeValidation:function(){return this.isSingleInlineMode()?this.checkTimeValidation():this.checkDateValidation().concat(this.checkTimeValidation())},checkDateValidation:function(){var n=this.getDate();return!n[0]||!n[1]?[]:this._alertBaseYM&&this.isBeforeBaseYM()?(this.alertByBaseYM(),[{message:"",method:"checkBaseYM"}]):n[0].format("yyyyMMddhhmm")>n[1].format("yyyyMMddhhmm")?[{message:"",method:"checkSEDate"}]:[]},checkTimeValidation:function(){var n=this.getDate();return!n[0]||!n[1]?[]:n[0].format("yyyyMMddhhmm")>n[1].format("yyyyMMddhhmm")?[{message:"",method:"checkSEDate"}]:void 0},getLayerDatepickerOption:function(){if(this._isYearCalender)return!1;var i=this._getDateComponentOnly(),u=this.getPositionIndex("y"),f=this.getPositionIndex("m"),r=this.getDateSetLength(),n=i[u+r],t=i[f+r];return _.merge(ecount.control.date.prototype.getLayerDatepickerOption.apply(this,arguments),{singleDate:this.isSingleInlineMode(),selectedEYear:{label:n.selectedLabel,value:n.selectedValue},selectedEMonth:{label:t.selectedLabel,value:t.selectedValue},eYearData:n.option.filter(this._getOptionsExceptEmpty.bind(this)),eMonthData:t.option.filter(this._getOptionsExceptEmpty.bind(this))})},getResetState:function(){return this.getOriginState(["value","selectedValue","selectedLabel","attr.checked","inlineMode.activeInlineMode","style.display"],["waveMark"])},setActiveInlineMode:function(){ecount.control.date.d02.prototype.setActiveInlineMode.apply(this,arguments);this._syncOppositYear();var n=this.isSingleInlineMode()==!1,t=this.getDateSetLength();comps=this.getComponents();defaultDelegatorInfo=this._getDefaultDelegatorInfo();this.pendingViewUpdate(!0);comps.forEach(function(i,r){r>=t&&~this.dateFormat.indexOf(i.format)&&this._toggleComponent(r,n);i.ecRole=="date.sidelink"&&this._isUseSidelink&&this._toggleComponent(r,!n);i.ecRole=="date.allday"&&this._isUseAlldayChk&&this._toggleComponent("waveMark",!(!n&&i["attr.checked"]))}.bind(this));this._syncFromToForInlineMode();this.pendingViewUpdate(!1);this.batchUpdateView();this.setFocus(0)},resetStateByData:function(n){var r,i,u,t;for(this.pendingViewUpdate(!0),i=0,u=n.length;i<u;i++){if(t=n[i],t.path=="inlineMode.activeInlineMode"){r=t.activeInlineMode;continue}this.setState(t[0],t[1],t[2])}this.pendingViewUpdate(!1);this.batchUpdateView();r&&this.setActiveInlineMode(r,!0)},setFocus:function(n){this.isSingleInlineMode()&&this._syncDate(n);this._super.setFocus.apply(this,arguments)},save:function(){var n=ecount.control.date.d02.prototype.save.apply(this,arguments);return n.value.activeInlineMode=this.getActiveInlineMode(),n},restore:function(n){var t=[this.getPositionIndex("y"),this.getPositionIndex("m"),this.getPositionIndex("d")],r=this.getDateSetLength(),u=t.concat([this.getPositionIndex("h1"),this.getPositionIndex("mi1")]),f=t.map(function(n){return n+r}).concat([this.getPositionIndex("h2"),this.getPositionIndex("mi2")]),i=n.date.map(function(n){return new Date(n).format("yyyy-MM-dd-hh-mm").split("-")});this.setDateItem(u,i[0]);this.setDateItem(f,i[1]);n.activeInlineMode&&this.setActiveInlineMode(n.activeInlineMode,!0)},serialize:function(n){var t=this.getDate(),i=t[0]?t[0].format("yyyyMMddhhmm"):"",r=t[1]?t[1].format("yyyyMMddhhmm"):"";return[{key:(n||this.name)+"_FROM",value:i},{key:(n||this.name)+"_TO",value:r},{key:(n||this.name)+"_CHECKBOX",value:this.getCheckboxValue()}]},isSingleDate:function(){return this.isSingleInlineMode()},_getSelectboxComponent:function(n,t,i){var u=ecount.control.date.d02.prototype._getSelectboxComponent.apply(this,arguments),r;return this.isSingleInlineMode()&&i>=this.getDateSetLength()&&n["style.display"]&&(r=!!~["h2","mi2"].indexOf(n.format),_.merge(u,{"opt.notVisible":!r,"style.display":r})),u},_getInputboxComponent:function(n,t,i){var r=ecount.control.date.d02.prototype._getInputboxComponent.apply(this,arguments);return this.isSingleInlineMode()&&i>=this.getDateSetLength()&&n["style.display"]&&_.merge(r,{"opt.notVisible":!0,"style.display":!1}),r},_setSyncedTime:function(n,t,i){var e=i.index||n.ecRoleIndex,o=this.getDateSetLength();if(!$.isNull(e)&&!(e>=o)){var s=this.getDate(),h=$.isNull(i.index)?n.ecRoleIndex:i.index,c=this.getComponent(h).format,r=s[0],u=s[1],f=[this.getPositionIndex("y"),this.getPositionIndex("m"),this.getPositionIndex("d")];r&&u&&(r.format("yyyyMMddhhmm")<=u.format("yyyyMMddhhmm")||~["h2","mi2"].indexOf(c)||r.format("yyyyMMdd")>u.format("yyyyMMdd")&&(f=f.map(function(n){return n+o}),this.setDateItem(f,this.splitDate(r.format("yyyyMMdd"),this.dateFormat)),this.getSHours()>=this.getEHours()&&this.setEHours(Number(this.getSHours())+1)))}},_setSyncEmptyData:function(n,t){if(this.isSingleInlineMode()){var i=this.getDateSetLength();n>i&&this._super._setSyncEmptyData.call(this,n-i,t)}this._super._setSyncEmptyData.apply(this,arguments)},_syncFromToForInlineMode:function(){var e=this.isSingleInlineMode()==!1,n=this.getDateSetLength(),o=this.getSHours(),s=this.getSMinutes(),h=this.getEHours(),c=this.getEMinutes(),t=[o,s].join(""),i=[h,c].join("");if(t||this._deleteSelectedDate(n,!0),e){i||this._deleteSelectedDate(n,!0);return}var r=this.getSYear(),l=this.getEYear(),u=this.getSMonth(),a=this.getEMonth(),f=this.getSDay(),v=this.getEDay();r>=l&&this.setEYear(r);u>=a&&this.setEMonth(u);f>=v&&this.setEDay(f);t&&!i&&this._setDateToEmptyComponents(n)},_emptyComponent:function(n){this._super._emptyComponent.apply(this,arguments);this.isSingleInlineMode()&&n<this.getDateSetLength()&&(this.setEHours(this.getSHours()),this.setEMinutes(this.getSMinutes()));this._toggleAllDayComp()},_setDateToEmptyComponents:function(n){this._super._setDateToEmptyComponents.apply(this,arguments);this.isSingleInlineMode()&&n<this.getDateSetLength()&&(this.setEHours(this.getSHours()),this.setEMinutes(this.getSMinutes()));this._toggleAllDayComp()},_toggleAllDayComp:function(){var t=this.getComponentByAttr("ecRole","date.allday"),n;t["opt.notVisible"]||(n=!this.getSHours()||!this.getEHours(),n&&this.displayTimeControl(!0),this.setState(t.index,"style.display",!n,!0))},_setSyncedDateOnFocusOut:function(n){ecount.global.setTimeout(this.ecPageID,function(){var i=this.getLayerServiceKey(n),t=ecount.layer.getLayer(i);this.hasFocus()||t&&t.hasFocus()||this._wrappingDateChangeFunc(function(){})(n)}.bind(this),0)},_dateChangeHandler:function(n,t,i){ecount.control.date.d02.prototype._dateChangeHandler.apply(this,arguments);this._showDateVaildationError(n,t,i)},_showDateVaildationError:function(n,t,i){var e=$.isNull(i.index)?n.ecRoleIndex:i.index,r,u,f;(r=this.getDate(),r.any(function(n){return!n}))||(u=r[0].format("yyyyMMddhhmm"),f=r[1].format("yyyyMMddhhmm"),u<=f)||(e<this.getDateSetLength()&&this._setSyncedTime(n,t,i),this.showError(this._IT_SELF,"",!0))},_toggleComponent:function(n,t){var i=this.getComponentByAttr("ecRole","date.hide"),r=!i||i["attr.checked"];this.setState(n,"opt.notVisible",!t,!0);this.setState(n,"style.display",r&&t,!0)},_getDate:function(n,t){var i=this.getPositionIndex(n),r=this._getDateComponentOnly(),u,f;return(t=t||0,n=="d")?(u=r[i+t].value?(""+r[i+t].value).padLeft(2,"0"):"",u=="00"?"01":u):(f=["h2","mi2"].contains(n)?i:i+(t||0),String(r[f].selectedValue)||"")},_setSyncedDateByOpposite:function(n){var t=this.getComponent(n.ecRoleIndex||n.cindex),i;if(t&&t.format){var r=function(n){return{h1:"h2",h2:"h1",mi1:"mi2",mi2:"mi1"}[n]||n},u=r(t.format),f=t.index;i=this.getComponents().find(function(n){return n.format==u&&n.index!=f});this._syncDate(i.index)}},_ON_BEFORE_FOCUSIN:function(n,t,i,r){return r.showLayerInFocus=!1,ecount.control.date.d02.prototype._ON_BEFORE_FOCUSIN.apply(this,arguments)},ON_CHANGE:function(n,t,i,r){var u=$.isNull(n.cindex)?n.ecRoleIndex:n.cindex,f=this.__state.components[u];if(!f["attr.disabled"]){this.setState(u,"attr.checked",n.checked);switch(f.ecRole){case"date.hide":return this.displayDateControl();case"date.allday":return this.displayTimeControl(!n.checked)}}this._callChangeDelegator(n,t,r)},ON_CLICK:function(n,t,i,r){if(n.ecRole=="date.sidelink"){r.event=t;r.__self=this;r.name=this.name;r.command=this._makeCommandString(this.id+"Link");r.searchDateName=this.searchDateName;var u=this.getComponent(n.cindex);u&&(r.linkID=u.originID||null)}},ON_FOCUSIN:function(n,t,i,r){var u=this.getComponent(n.ecRoleIndex||n.cindex);u&&(this.getState(this._IT_SELF,"focusChangeFiredByDateSelect")||u.focusChangeFiredByModeChange||u.format&&u.mode!="input"&&(this.isSingleDate()?this._setSyncedTime(n,t,r):this._setSyncedDateOnFocusIn(n,t,r)),u.focusChangeFiredByModeChange&&this.setState(u.index,"focusChangeFiredByModeChange",!1));this.setState(this._IT_SELF,"focusChangeFiredByDateSelect",!1)}},repeat:{controlType:"widget.dualTime.repeat",repeatSetup:null,defaultParam:null,repeatInfo:null,repeatFlag:!1,repeatSaveType:null,repeatDateList:null,initialRepeatFlag:!1,initialRepeatSaveType:null,initializeOptions:function(n,t){ecount.control.date.d02.prototype.initializeOptions.apply(this,arguments);_.extend(this,{defaultParam:t.config.defaultParam||{},searchDateName:n.searchDateName,_isDateOptionChecked:n._isDateOptionChecked})},setRepeatInfo:function(n){if(n.Repeat){var t=n.Repeat;this.repeatInfo=_.extend(this.repeatInfo,JSON.parse(t.RepeatInfo));this.repeatFlag=t.RepeatFlag;this.isDeleteRepeatInfo=!1;this.repeatDateList=t.DateList;this.setLabelLink(n.ViewSummary);this.addLabelLinkCss("text-warning-inverse");this.setDate([this.repeatInfo.REPEAT_START_DATE.toDate(),(this.repeatInfo.TO_YYYYMMDD||this.repeatInfo.YYYYMMDD).toDate()])}},sendRepeatInfo:function(n){n.callback&&n.callback(this.repeatInfo,this.repeatSaveType)},deleteRepeatInfo:function(){this.isDeleteRepeatInfo=!0;this.repeatInfo={};this.repeatFlag=this.initialRepeatFlag;this.repeatSaveType=this.initialRepeatSaveType;this.isDeleteRepeatInfo=!0;this.repeatDateList=[];this.setLabelLink(ecount.resource.LBL01246);this.removeLabelLinkCss("text-warning-inverse")},serialize:function(){var u=widget.dualTime.prototype.serialize.apply(this,arguments),e=_.cloneDeep(this.repeatDateList),n=this.getCheckboxValue(),f=this.getActiveInlineMode(),t=this.getDateFormat("yyyyMMdd"),i=this.repeatInfo.REPEAT_START_DATE,r=this.repeatInfo.REPEAT_END_DATE;return u.push({repeatDate:e,masterInfo:{FROM_TIME:n?"00:00":String.format("{0}:{1}",this.getSHours(),this.getSMinutes()),TO_TIME:n?"24:00":String.format("{0}:{1}",this.getEHours(),this.getEMinutes()),REPEAT_INFO:_.extend({},this.repeatInfo,{CNT_YM:this.repeatDateList.length,MODE_DATE:f,REPEAT_START_DATE:$.isDate(i)?i.format("yyyyMMdd"):i,REPEAT_END_DATE:$.isDate(r)?r.format("yyyyMMdd"):r}),MODE_DATE:f,IS_ALL_DAY:n,YYYYMMDD:t[0],TO_YYYYMMDD:this.isSingleInlineMode()?t[0]:t[1]}}),u},ON_CLICK:function(n){if(n.ecRole=="date.sidelink"){var t={width:780,height:350,responseID:this.callbackID,tabID:this.tabID,controlID:this.id,gridID:this.gridID,ispopupCloseUse:!0,isOnePopupClose:!0,__ecPageID:this.ecPageID};ecount.popup.openWindow({url:this.url||"/ECERP/EGJ/EGJ006P_21",name:this.popupName||ecount.resource.LBL01246,param:_.extend(t,this.defaultParam),popupType:!1,additional:!1})}}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.dualTime.repository[n]||{},i=ecount.control.date.d02,widget.dualTime._baseLoaded||(ecount.control.loadRepository(ecount.control.date.d02,ecount.control.view.date.d02,"widget.dualTime"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.dualTime,t,"widget.dualTime",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.dualTime")){r=t.controlType.replace("widget.dualTime.","");ecount.control.mountMixinWidget(widget.dualTime,t,"widget.dualTime",[widget.dualTime,r]);return}widget.dualTime[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.dualTime,ecount.control.mountWidget(widget.dualTime,n,i,t))}}}};widget.view.dualTime._export=function(){return{_default:{wrapperSet:'<div class="control-set {{style.multiline}} {{style.display}}">{{selector}}',wrapperTemplate:'<div data-ecpath="{{ecPath}}" class="{{style.display}}">{{selector}}((this.template))<\/div>',template:['<div class="control" >','<div data-cid="{{cid}}" data-pcid="{{pcid}}" data-role="dateWrapper" ','class="wrapper-datepicker enable-toggle-ecitem datepicker-range {{style.contextCss}}">',"{{fromDate}}","{{fromTime}}","[[waveMark]]","{{toDate}}","{{toTime}}","[[datepicker]]","<\/div>","&nbsp;","{{dateHideCheckbox}}","{{label}}","[[subLabel]]","[[fn]]","<\/div>",'<div class="control {{secondline.display}}" >',"((checkbox))","((sidelink))","<\/div>",].join("\n"),subLabelTemplate:"((dateSublabel))",onInitTemplate:function(n,t){var i,u,r=[],f=[],e=t.components.find(function(n){return n.ecRole=="date.allday"}),o=t.components.find(function(n){return n.ecRole=="date.sidelink"});return i=t.dateFormat.map(function(n,i){var u=t.components[i],r;switch(n){case"y":case"m":r="((select))";break;case"d":r="((inputDate))"}return this.getAddonAppendedTemplate(u,r,u.index)}.bind(this)),t.timeFormat.forEach(function(n,u){if(["h1","mi1"].contains(n)){var e=i.length+u,f=t.components[e];r.push(this.getAddonAppendedTemplate(f,"((select))",f.index))}}.bind(this)),u=t.dateFormat.map(function(n,u){var o=i.length+r.length+u,e=t.components[o],f;switch(n){case"y":case"m":f="((select))";break;case"d":f="((inputDate))"}return this.getAddonAppendedTemplate(e,f,e.index)}.bind(this)),t.timeFormat.forEach(function(n,e){if(["h1","mi2"].contains(n)){var s=i.length+r.length+u.length+e,o=t.components[s];f.push(this.getAddonAppendedTemplate(o,"((select))",o.index))}}.bind(this)),n.replace("{{fromDate}}",i.join("\n")).replace("{{toDate}}",u.join("\n")).replace("{{fromTime}}",r.join("\n")).replace("{{toTime}}",f.join("\n")).replace("{{dateHideCheckbox}}",t._hideDateControl?"((checkbox))":"").replace("{{label}}",t.label?"((sideLabel))":"").replace("{{secondline.display}}",!e["style.display"]&&!o["style.display"]?"hidden":"")},toggleSecondLine:function(n){var t=this.$el.find("div.control:nth(1)");n?t.removeClass("hidden"):t.addClass("hidden")},onChangeStyleDisplay:function(n,t){var i=this.getElements(n),u,r;i.attr("data-role")=="date.sidelink"&&(u=i.siblings('[data-for="date.sidelink"]'),u[t?"removeClass":"addClass"]("hidden"),i[t?"removeClass":"addClass"]("hidden"),t?this.toggleSecondLine(!0):this.toggleSecondLine(!!this.$el.find('[data-role="date.allday"]:visible').length));i.attr("data-role")=="date.allday"&&(r=t?"removeClass":"addClass",i.parent(".form-checkbox")[r]("hidden"),i[r]("hidden"),i.siblings("label")[r]("hidden"),t?this.toggleSecondLine(!0):this.toggleSecondLine(!!this.$el.find('[data-role="date.sidelink"]:visible').length));ecount.control.view.date.d02.prototype.onChangeStyleDisplay.apply(this,arguments)},onChangeLabel:function(n,t){var i=this.getElements(n);i.attr("data-role")=="date.sidelink"&&i.find("span").html(t)},onChangeStyleCss:function(n,t){var i=this.getElements(n);i.attr("data-role")=="date.sidelink"&&(i.find("span").get(0).className=t)}}}};widget.multiDate={};widget.multiDate._baseLoaded=!1;widget.multiDate._export=function(){return{_default:{controlType:"widget.multiDate"},YM:{controlType:"widget.multiDate.YM",_isNotShowDay:!0,_isLastDay:!0,_hideDateButton:!0,onlyFirstYear:!1,_syncDateOnNativeEvent:!1,initializeOptions:function(n){ecount.control.date.d02.prototype.initializeOptions.apply(this,arguments);_.merge(this,{onlyFirstYear:n.onlyFirstYear})},getCompInOrder:function(n,t,i){var u=this.getDateComponents(n,t,i),r=Object.clone(u,!0),f=this.getTimeComponents(n,t,i),e=this.getOptionalComponents(n,t,i);return i.onlyFirstYear&&(r=r.map(function(n){return n.format=="y"&&(n["style.display"]=!1,n["opt.notVisible"]=!1),n})),u.concat(f).concat(r).concat(e).map(function(n,t){return _.merge(n,{index:t})})},setYMM:function(){var n=this.getPositionIndex("y")+this.getDateSetLength();this.setState(n,"style.display",!1);this.setState(n,"opt.notVisible",!1)},_setDateValueState:function(n,t){var i,r;this.onlyFirstYear&&n.format=="y"&&(i=this.getDateSetLength(),n.index<i&&(r=this.getComponent(n.index+i),this._setDateValueState(r,t)));ecount.control.date.d02.prototype._setDateValueState.apply(this,arguments)},ON_FOCUSOUT:function(){this.validate();ecount.control.date.d02.prototype.ON_FOCUSOUT.apply(this,arguments)},_getSelectboxYearComponent:function(n,t,i){return this.onlyFirstYear&&i>=this.getDateSetLength()?_.merge({},n,{selectedLabel:t,selectedValue:t}):ecount.control.date.d02.prototype._getSelectboxYearComponent.apply(this,arguments)},_getDateSyncError:function(){var t=[],i=+(this.getSYear()+this.getSMonth()),r=+(this.getEYear()+this.getEMonth()),n=this._minimumDate;return n&&(n.length>6&&(n=n.substring(0,6)),i<parseInt((""+n).replace(/[-\s\/]/g,""),10)&&t.push({message:this._minimumError,method:"checkMinimumYMD"})),i>r&&t.push({message:ecount.resource.MSG03452,method:"checkFromToSync"}),t},_getAddonLabel:function(n){return n}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.multiDate.repository[n]||{},i=ecount.control.date.d02,widget.multiDate._baseLoaded||(ecount.control.loadRepository(ecount.control.date.d02,ecount.control.view.date.d02,"widget.multiDate"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.multiDate,t,"widget.multiDate",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.multiDate")){r=t.controlType.replace("widget.multiDate.","");ecount.control.mountMixinWidget(widget.multiDate,t,"widget.multiDate",[widget.multiDate,r]);return}widget.multiDate[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.multiDate,ecount.control.mountWidget(widget.multiDate,n,i,t))}}}};widget.view.multiDate._export=function(){return{_default:{}}};widget.checkbox?widget.checkbox._baseLoaded=!1:widget.checkbox={};widget.checkbox._export=function(){return{_default:{controlType:"widget.checkbox"},whole:{controlType:"widget.checkbox.whole",isRequired:!0,_wholeChkIndex:0,initializeOptions:function(n){ecount.control.checkbox.prototype.initializeOptions.apply(this,arguments);(~this._initallyHiddenIndex.indexOf(0)||~this._initallyHiddenIndex.indexOf("0"))&&(this._wholeChkIndex=null);n.Required!==undefined&&(this.isRequired=n.Required)},initializeViewOptions:function(){ecount.control.checkbox.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{baseType:this.isVertical?!0:this.__viewOptions.baseType,inlineDividerPos:[0]})},onInitState:function(n,t){ecount.control.checkbox.prototype.onInitState.apply(this,arguments);this.isRequired&&(t["validate.datarules"]=this.dataRules?this.dataRules.concat(["required"]):["required"])},onInitComponents:function(n,t){ecount.control.checkbox.prototype.onInitComponents.apply(this,arguments);!$.isNull(this._wholeChkIndex)&&t.components[this._wholeChkIndex]["attr.checked"]&&this.getComponents().forEach(function(n){n["attr.checked"]=!0})},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:(this.getCheckedValueWhole()||this.getCheckedValue()).join(ecount.delimiter)},n])},getCheckedValueWhole:function(){if(this._serializeByAll==!0){var n=this.getComponents();if(n&&!$.isNull(this._wholeChkIndex)&&n[this._wholeChkIndex]["attr.checked"])return[n[this._wholeChkIndex].value]}},isCheckedAll:function(){return this.getComponents().all(function(n,t){return t===0?!0:n["attr.checked"]})},reset:function(){ecount.control.checkbox.prototype.reset.apply(this,arguments);this.pendingViewUpdate(!0);!$.isNull(this._wholeChkIndex)&&this.__state.components[this._wholeChkIndex]["attr.checked"]&&this.getComponents().forEach(function(n,t){this.setState(t,"attr.checked",!0)}.bind(this));this.pendingViewUpdate(!1);this.batchUpdateView()},onChangeHandler:function(n){var t=n.cindex,u=this.getComponent(t),i=this.getComponents(),f=!!(!$.isNull(this._wholeChkIndex)&&+t==+this._wholeChkIndex),r;u["attr.disabled"]||(this.disableStateObserving(),f&&(this.setOldValue(),this.setState(this._ALL_COMP,"attr.checked",n.checked)),this.setOldValue(),this.setState(t,"attr.checked",n.checked),r=i.filter(function(n,t){return!$.isNull(this._wholeChkIndex)&&t===this._wholeChkIndex?!0:n["attr.checked"]}.bind(this)).length==i.length,$.isNull(this._wholeChkIndex)||this.setState(this._wholeChkIndex,"attr.checked",r),this.enableStateObserving(),this.executeChangeDelegator({cindex:t}),this.notifyToStateObserver(t,"attr.checked",n.checked))},setCheckedArray:function(n){this.pendingViewUpdate(!0);this.getComponents().forEach(function(t,i){this.setState(i,"attr.checked",!!n[i])}.bind(this));this.pendingViewUpdate(!1);this.batchUpdateView()},_getAdjustedIndex:function(n){return n=+n,this._initallyHiddenIndex&&this._initallyHiddenIndex.forEach(function(t){n>t&&n--;n==t&&n--}),n},toggleAll:function(n){this.setOldValue();this.setState(this._ALL_COMP,"attr.checked",n.checked)}},withDivider:{controlType:"widget.checkbox.withDivider",viewName:"widget.view.checkbox.withDivider",initializeOptions:function(n){this.inlineDivider=n.inlineDivider},onInitState:function(n,t){t["opt.inlineDivider"]=this.inlineDivider||0}},noticeWay:{controlType:"widget.checkbox.noticeWay",viewName:"widget.view.checkbox.noticeWay",isRequired:!0,isNotificationTarget:!1,lockedIndex:null,lockKeyIndex:null,initializeOptions:function(n){ecount.control.checkbox.prototype.initializeOptions.apply(this,arguments);_.merge(this,{lockedIndex:n.lockedIndex,lockKeyIndex:n.lockKeyIndex})},onInitComponent:function(n,t,i,r,u){if(ecount.control.checkbox.prototype.onInitComponent.apply(this,arguments),this.lockedIndex!==null&&t==this.lockedIndex){var f=i.components[this.lockKeyIndex],e=f?f.selected||f["attr.checked"]:!1;e||(r["attr.disabled"]=!0,r["attr.checked"]=!1)}r.name=u.names&&u.names[t]?u.names[t]:r.value+"_CHK_YN";r.num=u.number[t];r["opt.focus"]=!1},initializeViewOptions:function(n){ecount.control.checkbox.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{noLabel:n.noLabel,useWrapperSet:n.hasWrapperSet})},onAfterRender:function(){ecount.control.checkbox.prototype.onAfterRender.apply(this,arguments);this._initallyHiddenIndex.length&&this.executeChangeDelegator({value:this.getValue(this._initallyHiddenIndex)})},onFocus:function(n){ecount.control.prototype.onFocus.apply(this,arguments);this.setState(n||0,"opt.focus",!0)},onFocusOut:function(n){ecount.control.prototype.onFocusOut.apply(this,arguments);this.setState(n||0,"opt.focus",!1)},setCheckedValue:function(n,t,i){t==undefined&&(t=!0);for(var u=0,f=n.length,r;u<f;u++)r=this.getComponentByAttr("value",n[u]),r&&(this.setState(r.index,"attr.checked",!!t),this.lockKeyIndex!==null&&r.index==this.lockKeyIndex&&i!==!1&&(this.setState(this.lockedIndex,"attr.disabled",!t),this.setState(this.lockedIndex,"attr.checked",!!t)))},setCheckboxNumber:function(n,t){var u=this.getComponents(),i,f,r;if(n){for(t=t!=undefined?$.isArray(t)?t:[t]:_.range(u.length),this.pendingViewUpdate(!0),i=0,f=u.length;i<f;i++)r=t.indexOf(i),r>-1&&!$.isNull(n[r])&&this.setState(i,"num",n[r]);this.pendingViewUpdate(!1);this.batchUpdateView()}},removeFocus:function(n){this.setState(n,"opt.focus",!0)},getValue:function(){var n=this.getComponents();return arguments.length==1&&(n=n.filter(function(n){return n["attr.checked"]})),n.map(function(n){return{key:n.name||n.label,value:n["attr.checked"]&&!n["attr.disabled"]?"Y":"N",count:n.num}})},getValueIndex:function(n){return this.getState(n||0,"attr.checked")},showElement:function(n){this.setState(n,"style.display",!0)},hideElement:function(n){this.setState(n,"style.display",!1)},onChangeHandler:function(n,t){$.isNull(n.cindex)||(this.setState(n.cindex,"attr.checked",!this.getState(n.cindex,"attr.checked")),n.cindex==this.lockKeyIndex&&(this.setState(this.lockedIndex,"attr.disabled",!this.getState(n.cindex,"attr.checked")),this.setState(this.lockedIndex,"attr.checked",this.getState(n.cindex,"attr.checked"))),this.executeChangeDelegator({targetValue:this.getState(n.cindex,"value"),indexValue:this.getValueIndex(n.cindex),cindex:n.cindex,event:t,value:this.getValue(n.cindex)}))}},linkSetting:{controlType:"widget.checkbox.linkSetting",viewName:"widget.view.checkbox.linkSetting",initializeOptions:function(){console.log(arguments);ecount.control.checkbox.prototype.initializeOptions.apply(this,arguments)},onInitState:function(){console.log(arguments);ecount.control.checkbox.prototype.onInitState.apply(this,arguments)},getInitDataComponents:function(n,t,i){var u=i.data.slice(0),r={};return r.id=this.id+"_link",r["attr.href"]=i.href||"javascript:;",r.containerName=i.containerName?'target="'+i.containerName+'"':"",r.css=r.css||"",r.label=ecount.resource.BTN00168,u.push(r),u}},linkLabel:{controlType:"widget.checkbox.linkLabel",viewName:"widget.view.checkbox.linkLabel",checkboxIndex:0,linkIndex:1,mouseHoverOutTime:400,layerPosition:"top",TABLE_DATA:null,initializeOptions:function(n){ecount.control.checkbox.prototype.initializeOptions.apply(this,arguments);this.TABLE_DATA=this._getTableData(n);this.layerPosition=n.directionY=="dropDown"?"top":"";this.itemList=[];this.mouseHoverOutTime=n.mouseHoverOutTime!==undefined?n.mouseHoverOutTime:this.mouseHoverOutTime;this._readOnlyIndex=n._readOnlyIndex;this.currentValue=n.data[0].value;this.isSetCheckboxValue=n.isSetCheckboxValue;this.useCheckboxLayer=n.useCheckboxLayer!==undefined?n.useCheckboxLayer:!1},onInitState:function(n,t,i){ecount.control.checkbox.prototype.onInitState.apply(this,arguments);this.__state.isUselayerAtBottom=i.isUselayerAtBottom;this.__state["style.checklayercss"]=this.useCheckboxLayer},onInitComponent:function(n,t,i,r){ecount.control.checkbox.prototype.onInitComponent.apply(this,arguments);this._setCompReadOnlyIndex(r,t)},_setCompReadOnlyIndex:function(n,t){this.isSetCheckboxValue&&(n.value=this.currentValue,this._readOnlyIndex&&_.indexOf(this._readOnlyIndex,t)!=-1&&(n["attr.disabled"]=!0))},onLazyRender:function(){this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE&&this._renderServiceSilently()},getInitDataComponents:function(n,t,i){return this._getComponentSet(i.data[0],i)},getInitComponents:function(n,t,i){return this._getComponentSet({},i)},getLayerTableOption:function(n,t){var u=this.getLayerDefaultOption(n,t),f=this.getComponent(n.cindex||this.linkIndex),r=this.getComponentBoundary(n.cindex||this.linkIndex),i=this.getState(this._IT_SELF,"isUselayerAtBottom"),e=this.getCheckedValue().length>0;return _.extend(u,f,{preventDestroy:!0,boundary:r,showingUpDelay:0,mouseHoverOutTime:this.mouseHoverOutTime,_forcedDisplayPosition:i?"":this.layerPosition,tableTop:i?"17px":null,heightAdjustment:i?r.height+2:null,"style.css":"","style.tableCss":"table-hover table-bordered table-nowrap","attr.checked":e})},showLayerList:function(){var t=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE}),n=ecount.layer.getLayer(t);n&&n.show()},hideLayerList:function(){var t=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE}),n=ecount.layer.getLayer(t);n&&n.hide()},addClass:function(n){var t=this.getState(this.linkIndex,"style.css");this.setState(this.linkIndex,"style.css",[t,n].join(" "))},removeClass:function(n){var t=this.getState(this.linkIndex,"style.css").replace(new Regex("\b"+n+"\b"),"");this.setState(this.linkIndex,"style.css",t)},getLayerListSelectedValue:function(){if(this.TABLE_DATA&&this.TABLE_DATA.contents){var n=this.TABLE_DATA.contents,t=this.TABLE_DATA.headers.length;return this.itemList.reduce(function(i,r,u){if(this._filterCheckedCtrlItemOnly(r)){var f=Math.floor(u/t);i.push(_.clone(n[f].value))}return i}.bind(this),[])}},hasLayerListItemList:function(){if(this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE)return!!(this.itemList&&this.itemList.length)},getLayerListItemListLength:function(){if(this.itemList)return this.itemList.length},getLayerListElementById:function(n){function t(i){for(var u=0,e=i.length,r,f;u<e;u++){if(r=i[u],r.id==n)return r;if(r.itemList&&r.itemList.length&&(f=t(r.itemList),f))return f}}if(this.itemList&&this.itemList.length)return t(this.itemList)},getLayerListSelectedCheckboxIds:function(){if(this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE)return this.itemList.filter(this._filterCheckedCtrlItemOnly).map(function(n){return n.itemList[0].id})},checkLayerListItem:function(n,t){var u,f,r,e,i;if(this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE){if(!this.TABLE_DATA||!this.TABLE_DATA.contents)return;for(u=this.TABLE_DATA.contents.length,f=this.TABLE_DATA.headers.length,$.isNull(t)&&(t=!0),r=0;r<u;r++)e=r*f+n,i=this.itemList[e],i&&i.itemList&&i.itemList.length&&i.itemList[0].setValue(t)}},setLayerListItem:function(n,t){if(this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE){var i=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE}),r=ecount.layer.getLayer(i);r&&(r.preventDestroy=!1,ecount.layer.removeLayer(i));this.TABLE_DATA=this._getTableData({_layerTitle:n,_layerList:t});this.itemList=[];this.setState(this.linkIndex,"items",this._getTableItems());this._renderServiceSilently()}},destroy:function(){var t=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE}),n;this.getState(this.linkIndex,"ecService")==ecount.layer.constValue.TABLE&&(n=ecount.layer.getLayer(t),n&&(n.preventDestroy=!1,ecount.layer.destroy(this.ecPageID)),this.itemList=[]);ecount.control.checkbox.prototype.destroy.apply(this,arguments)},onChangeHandler:function(n,t){var r=n.cindex,e=this.getComponent(r),u=!1,i,f;e["attr.disabled"]||(this.setOldValue(),n.cid!=this.cid?(i=!this.itemList.all(function(n){return n&&n.itemList?n.itemList.all(function(n){return n.isCheckboxControl()?!n.getValue():!0}):!1}),u=!0):i=n.checked,f=this.getState(n.cindex,"attr.checked"),f!==i&&(this.setState(n.cindex,"attr.checked",i),this.executeChangeDelegator({cindex:r,event:t,value:this.getValue(r),isComponentEvent:u})))},_getComponentSet:function(n,t){return[{value:"",label:"",id:ecount.widget.createDisplayID(this,"btn",t.__target)||n.id||this.id,"attr.name":n.name+(this.pid?"_"+this.pid:""),"style.display":!t.isHideCheckbox,selected:n.selected},{label:n.label||"","attr.labelid":["control",this.tabID||"",this.gridID||"",this.ecPageID,this.id,0].join("-"),"attr.href":n.url||"javascript:;","attr.target":n.target,"style.css":n.css,ecService:t._hasLayer?ecount.layer.constValue.TABLE:"",items:t._hasLayer?this._getTableItems():[],headerDirection:"top"}]},_getTableData:function(n){return{headers:n._layerTitle,contents:n._layerList,cssList:n._layerCss,widthList:n._layerWidth}},changeCheckLabel:function(n){this.setState(1,"label",n.label)},_getTableItems:function(){var e=[],o=this.TABLE_DATA.headers,s=this.TABLE_DATA.contents,b=this.TABLE_DATA.cssList,w=this.TABLE_DATA.widthList,t,l,n,y,c,i,f,p,r;if(!o||!s)return[];for(e.push(this._getTableHeaderData(o,w||[])),t=0,l=s.length;t<l;t++){var a=s[t],v=[],u=a.column,h=a.align;for(n=0,y=u.length;n<y;n++)c=o[n],i=c.id+""+t,r=this.itemList.find(function(n){return n.id=="toolbar_"+i}),r||(f={id:i,name:i,value:u[n],data:[]},u[n]!=undefined&&(f.data[0]={label:u[n]}),h&&h[n]!=undefined&&(f.toolbarAlign=h[n]),p=this._getInitializedChildrenItem(c,f),r=this._getToolbarWithControl("toolbar_"+i,p),this.itemList.push(r)),v.push(r);e.push(v)}return e},_getTableHeaderData:function(n,t){return n.map(function(n,i){var r=t[i];return{label:n.title,__type:"LABEL",cellCss:"",cellStyle:r!=undefined?["width:",r,"px"].join(""):"",position:widget.generator.HEADER,index:0}})},_getToolbarWithControl:function(n,t){var i=widget.generator.toolbar().setOptions({customCss:t.toolbarAlign==="left"?"":"text-center",ecPageID:this.ecPageID,containerName:this.containerName,tabId:this.tabId,notUseCollapseToolbarCSS:!0}).setId(n);return i.attach(t),new ecount.layout.toolbar(i.end())},_getInitializedChildrenItem:function(n,t){var u=widget.generator.control(),i=u.define(n.type,t.id,t.name,t.subTitle,t.groupId),r,f;for(this.initializer&&this.initializer(i.id,i),this._ctrlDefaultOptionsSetter(u,n),i=i.end(),r=0,f=i.data.length;r<f;r++)_.extend(t.data[r],i.data[r]);return _.extend(i,t,{ecPageID:this.ecPageID,containerName:this.containerName,tabId:this.tabId}),i},_ctrlDefaultOptionsSetter:function(n,t){t.checked&&t.type.indexOf("widget.checkbox")>-1&&n.value("Y").select("Y")},_filterCheckedCtrlItemOnly:function(n){return n.itemList&&n.itemList.length&&n.itemList[0].controlType=="widget.checkbox"&&n.itemList[0].getValue()===!0},_renderServiceSilently:function(){var n=this.getComponent(this.linkIndex);this._showLayer({ecPath:this.ecPath,ecPageID:this.ecPageID,pcid:this.pcid,cid:this.id,cindex:this.linkIndex,ecService:n.ecService,handler:ECountEvent.Type.CLICK_TABLE},{},{boundary:{top:-1e3,left:-1e3}});ecount.global.setTimeout(this.ecPageID,function(){this.hideLayerList()}.bind(this),0)},_ON_BEFORE_MOUSEOVER:function(n){if(n.ecService)return!1},_ON_BEFORE_MOUSEOUT:function(n){if(n.ecService)return!1},_ON_BEFORE_MOUSEDOWN:function(n,t){if(t.isTrigger)return n.suspend=!0,!1},ON_CLICK:function(n,t,i,r){var e=this.getLayerServiceKey({ecPath:this.ecPath,ecService:ecount.layer.constValue.TABLE}),u=ecount.layer.getLayer(e),f;if(this.delegator&&this.delegator.triggerEvent("anchor.click",{targetID:n.id,name:this.name,cmd:["on"+this.containerName.ecCapitalize()+this.id.ecCapitalize(!0)],control:this}),n.cindex===0&&(r.isCheckbox=!0,r.isLinkLabel=!1,this.useCheckboxLayer)){n.ecService=ecount.layer.constValue.TABLE;f=this.getLayerTableOption(n,t);(u&&u.isShow()||n.checked)&&u.hide();n.checked&&ecount.layer.update(f);return}n.cindex===1&&(r.isCheckbox=!1,r.isLinkLabel=!0);u&&u.isShow()?u.hide():(this._showLayer(n,t),u&&(u._onClicked=!0))},ON_CLICK_SERVICE:function(n,t,i,r){var u,f;if(i&&i.isCheckboxControl())return!1;u=r?r.ecIKey:null;f=ecount.layer.getLayer(u);f&&i&&i.controlType&&i.controlType.indexOf("widget.link")!=-1&&(r.command=["on",i.containerName,this.id].join("_").ecCamelize(!0),r.layerControlId=i.id,ecount.layer.removeLayer(u))}},prodType:{__inheritParent:"widget.checkbox.whole",controlType:"widget.checkbox.prodType",baseType:!1,getInitComponents:function(){var n=ecount.resource;return[{value:"",label:n.LBL02475,selected:!0},{value:"0",label:n.LBL02025,selected:!0},{value:"4",label:n.LBL01387,selected:!0},{value:"1",label:n.LBL02538,selected:!0},{value:"2",label:n.LBL01250,selected:!0},{value:"3",label:n.LBL01523,selected:!0},{value:"7",label:n.LBL15087,selected:!0}]}},progressStatus:{__inheritParent:"widget.checkbox.whole",controlType:"widget.checkbox.progressStatus",getInitComponents:function(){var n=ecount.resource;return[{value:"",label:n.LBL02475,selected:!0},{value:"1",label:n.LBL01750,selected:!0},{value:"0",label:n.LBL02690,selected:!0},{value:"9",label:n.LBL01683,selected:!0}]}},flipSwitch:{controlType:"widget.checkbox.flipSwitch",viewName:"widget.view.checkbox.flipSwitch",initializeOptions:function(){ecount.control.checkbox.prototype.initializeOptions.apply(this,arguments)},onInitState:function(){ecount.control.checkbox.prototype.onInitState.apply(this,arguments)}},numbered:{controlType:"widget.checkbox.numbered",viewName:"widget.view.checkbox.numbered",onInitState:function(n,t,i){$.extend(t,{wrapperCss:i.isVertical?"flex-vertical":""})},setCheckboxNumber:function(n,t){var r=this.getComponents(),i,u;if(n){for(t=t!=undefined?$.isArray(t)?t:[t]:_.range(r.length),this.pendingViewUpdate(!0),i=0,u=r.length;i<u;i++)numberIndex=t.indexOf(i),numberIndex>-1&&!$.isNull(n[numberIndex])&&this.setState(i,"num",n[numberIndex]);this.pendingViewUpdate(!1);this.batchUpdateView()}}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.checkbox.repository[n]||{},i=ecount.control.checkbox,widget.checkbox._baseLoaded||(ecount.control.loadRepository(ecount.control.checkbox,ecount.control.view.checkbox,"widget.checkbox"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.checkbox,t,"widget.checkbox",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.checkbox")){r=t.controlType.replace("widget.checkbox.","");ecount.control.mountMixinWidget(widget.checkbox,t,"widget.checkbox",[widget.checkbox,r]);return}widget.checkbox[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.checkbox,ecount.control.mountWidget(widget.checkbox,n,i,t))}}}};widget.view.checkbox._export=function(){return{_default:{},withDivider:{onMount:function(n){var t=this.$el.find("span.form-radio")[n["opt.inlineDivider"]];t&&$(t).after("<span class='inline-divider'/>")}},noticeWay:{template:"((checkbox-numbered))",templateLabel:'<label style="{{style}}" for="{{attr.labelid}}" class="{{style.css}}" data-cid="{{cid}}">{{label}}<\/label>',baseTemplateType:!0,parseAttrsValue:function(n,t){n["style.checked"]=n["attr.checked"]?"active":"";n["style.disabled"]=t["attr.disabled"]?"disabled":"";n["style.divcss"]=n["style.display"]?"":"form-checkbox-numbered";n.label=t.noLabel?"":ecount.widget.replaceAttr(this.templateLabel,n)},onChangeOptFocus:function(n,t){var i=this.getElements(cindex).siblings("div");this.$el.find("div").each(function(){$(this).removeClass("focus")});t&&i.addClass("focus")},onChangeAttrChecked:function(n,t){var i=this.getElements(n);t?(i.prop("checked",!0),i.siblings("div").addClass("active")):(i.prop("checked",!1),i.siblings("div").removeClass("active"))},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);t?(i.prop("disabled",!0),i.siblings("div").addClass("disabled")):(i.prop("disabled",!1),i.siblings("div").removeClass("disabled"))},onChangeStyleDisplay:function(n,t){var i=this.getElements(n),r=i.attr("type")=="checkbox"?i.parent("span"):i;t?r.removeClass("hidden"):r.addClass("hidden")},onChangeNum:function(n,t){var i=this.getElements(n).siblings("div");i.text(t)}},flipSwitch:{template:'<div class="wrapper-flipswitch">\n<input type="checkbox" name="{{id}}" class="flipswitch-checkbox" data-index="{{index}}" data-cid="{{cid}}" id="{{id}}" value="{{value}}" {{checked}}>\n<label class="flipswitch-label" for="{{id}}">\n<span class="flipswitch-inner"><\/span>\n<span class="flipswitch-switch"><\/span>\n<\/label>\n<\/div>',onInitTemplate:function(n,t){var i=t.components[0],r=ecount.common.uuid(i.id,ecount.separator.ecPath);return ecount.widget.replaceAttr(this.template,{id:i["attr.labelid"]?i["attr.labelid"]:r,cid:i.id,index:i.index,value:i.value,checked:i["attr.checked"]?"checked":""})}},linkSetting:{baseTemplateType:!1,template:'<div class= "row w-200">\r<div class="col-xs-6">\r((checkbox))\r<\/div>\r<div class="col-xs-6">\r((link))\r<\/div>\r<\/div>'},linkLabel:{baseTemplateType:!1,template:'<span>\r((checkbox-plain))\r<div class="btn-group link-group">\r((link))\r<\/div>\r<\/span>',parseAttrsValue:function(n,t){n["style.checklayercss"]=t["style.checklayercss"]?"preventLayer":""},onChangeLabel:function(n,t){this.getElements(n).html(t)}},numbered:{baseTemplateType:!0,template:['<div class=" form-checkbox-numbered ">','<input type="checkbox" value="{{value}}" data-cid="{{cid}}" name="{{name}}" {{findex}} data-index="{{index}}" id="{{attr.labelid}}" {{attr.checked}} {{attr.disabled}}/>','<div class="checkbox-numbered {{style.checked}} {{style.disabled}}" data-cid="{{cid}}">{{num}}<\/div>',"{{label}}","<\/div>",].join("\r"),templateVerticalWrapper:'<div class="form-checkbox-block">\r{{template}}\r<\/div>',templateLabel:'<label for="{{attr.labelid}}" class="{{style.css}}" data-cid="{{cid}}">{{label}}<\/label>',onInitTemplate:function(n,t){var r=t.components.map(function(n){return ecount.widget.replaceAttr(this.templateLabel,n)}.bind(this)),i=[];return $(n).each(function(n,u){var e=_.merge(t.components[n],{label:r[n]}),f=u.outerHTML;t.isVertical&&(f=this.templateVerticalWrapper.replace("{{template}}",u.outerHTML));i.push(ecount.widget.replaceAttr(f,e))}.bind(this)),i.join("")},onChangeNum:function(n,t){var i=this.getElements(n).siblings("div");i.text(t)}}}};widget.code={};widget.code._baseLoaded=!1;widget.code._export=function(){return{"default":{controlType:"widget.code"},single:{name:null,searchURL:null,controlType:"widget.code.single",data:null,id:null,subTitle:null,title:null,popupURL:null,popupType:null,valueColumn:null,labelColumn:null},ectaxflagone:{name:"ECAX_FLAG",searchURL:"/Account/Basic/GetCmcdSearchList",controlType:"widget.code.ectaxflagone",popupURL:"/ECERP/Popup.Search/ECTAX023P_04",valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:20,defaultParam:{CLASS_CD:"TX09",PARAM:"",Title:"(세금)계산서구분",TYPE:"N"}},multimanual:{name:"MULTIMANUAL",searchURL:"/Admin/MultiManual/GetListMultimanualForSearch",controlType:"widget.code.multimanual",popupURL:"/ECERP/EAM/EAM007P_08",valueColumn:"MANUAL_SEQ",labelColumn:"TITLE",checkMaxCount:20,defaultParam:{isCheckBoxDisplayFlag:!1,MANUAL_SEQ:"",TITLE:"",PARAM:""}},account:{name:"ACCOUNT",searchURL:"/Account/Basic/GetListAccountCodeForOneActoin",controlType:"widget.code.account",id:"txtAccount",subTitle:"계정검색",popupURL:"/ECERP/Popup.Search/CM007P",valueColumn:"GYE_CODE",labelColumn:"GYE_DES",checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultParam:{TYPE:"",PAGE_FLAG:"",CALL_TYPE:"",GYE_CODE:"",CUST_CD:"",TRX_TYPE:"",SER_NO:"",BUSINESS_NO:"",isTopTen:!1,isPutWhenOneDataFlag:!0,isTreeEventDisable:!1,isTreeEventOnLabel:!0,isParentCheckBoxDisplayFlag:!0,isSpecialCase:!1,isViewNoChildParent:!1}},addfield:{name:"ADDITEM",searchURL:"/Account/Basic/GetListAddFieldForSearch",controlType:"widget.code.addfield",id:"txtItemCd",subTitle:"추가항목",popupURL:"/ECERP/Popup.Search/EB014P",valueColumn:"NM_CD",labelColumn:"CD_DES",defaultParam:{TYPE_CD:"",PARAM:"",PAGE_CURRENT:"",PAGE_SIZE:""},initializeOptions:function(n){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);this.TYPE_CD=n.TYPE_CD}},bankAccount:{name:"bankAccount",searchURL:"/Account/Basic/GetListCustAcc",controlType:"widget.code.bankAccount",id:"BUSINESS_NO",subTitle:"들어올 계좌",popupURL:"/ECERP/Popup.Search/CM008P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",defaultParam:{TYPE:"",PARAM:"",CALL_TYPE:"",DEL_FLAG:"",SORT_COLUMN:"",SORT_TYPE:"",GYE_CODE:"",IO_TYPE:"",ACC002_FLAG:"",EMP_FLAG:"",PAGE_SIZE:"0",PAGE_CURRENT:"0"},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},bankAccountInsa:{name:"bankAccountInsa",searchURL:"/SVC/Manage/Employee/FindBankCode",controlType:"widget.code.bankAccountInsa",id:"bankAccountInsa",subTitle:"들어올 계좌",popupURL:"/ECERP/SVC/EPB/EPB007P",valueColumn:"BANK_CD",labelColumn:"BANK_DES",defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,Data:{PARAM:""}},PARAM:""};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},bankAccountInOut:{searchURL:"/Account/Basic/GetListCustAcc",controlType:"widget.code.bankAccountInOut",id:"ACCT_NO",name:"ACCT_NO_DES",subTitle:"돈나간,들어온계좌",popupURL:"/ECERP/Popup.Search/CM008P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",GyeCode:null,defaultParam:{TYPE:"",PARAM:"",CALL_TYPE:"",DEL_FLAG:"",SORT_COLUMN:"",SORT_TYPE:"",GYE_CODE:"",IO_TYPE:"",ACC002_FLAG:"",EMP_FLAG:"",PAGE_SIZE:"0",PAGE_CURRENT:"0",isInput:!0},defaultValue:null,defaultLabel:null,onInitControlOptions:function(n,t){var r=$.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0,i;r||(n.isDefaultSet==!1?n.editCode&&(i=n.editCode,this.defaultValue=i.value,this.defaultLabel=i.label,this.GyeCode=i.GYE_CODE):this._setDefaultValue(n))},initCodeOptions:function(n,t){var r=t?t.config||{}:{},i;r.UseInitWidgetData!==!1&&(n.data&&n.data.length!=0||t&&t.result&&t.result.Data&&(i=t.result.Data,i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn],this.GyeCode=i.GYE_CODE,this._setDefaultValue(n.initOptions))))},_setDefaultValue:function(n){if(!this.defaultValue){var t=n;this.defaultValue=this.empty(t.requestCode)||($.isEmpty(t.cookieCode)?"":(this.getCookies(t.cookieCode)=="00"?"":this.getCookies(t.cookieCode))||"");this.defaultLabel=this.empty(t.requestName)||($.isEmpty(t.cookieDes)?"":(this.getCookies(t.cookieCode)=="00"?"":this.getCookies(t.cookieDes))||"");this.GyeCode=this.empty(t.requestName)||($.isEmpty(t.cookieDes)?"":(this.getCookies(t.cookieCode)=="00"?"":this.getCookies(t.GYE_CODE))||"")}}},BOM:{name:"ADDITEM",searchURL:"/Inventory/Bom/GetListBomForSearch",controlType:"widget.code.BOM",id:"txtItemCd",subTitle:"BOM 조회",popupURL:"/ECERP/ESJ/ESJ002P_05",valueColumn:"BOM_NO",labelColumn:"PROD_BOM_NM",defaultParam:{PROD_CD:"",BOM_SEARCH:""},setRequestParameter:function(n,t){this.defaultParam.BOM_SEARCH=n;$.extend(t,this.defaultParam)}},cust:{searchURL:"/SVC/Account/Basic/GetListCustForSearchForPopUp",controlType:"widget.code.cust",id:"txtSCustCd",subTitle:"거래처",popupURL:"/ECERP/SVC/ESA/ESA001P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",preSearchDataKey:"FORM_LIST",isSVC:!0,width:500,height:600,_maxlengthOfCodeName:100,defaultParam:{ACC002_FLAG:"N",CALL_TYPE:102,DEL_FLAG:"N",EMP_FLAG:"N",GYE_CODE:" ",IO_TYPE:"  ",PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A"},initializeOptions:function(n,t){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);var i=t&&t.result&&t.result.Data&&t.result.Data.POPUP_WIDTH;$.isEmpty(i)||$.extend(this,{width:i})},addPopupOpenParam:function(n){if(this._addPopUpOpenParam===!0&&!$.isNull(this.controlOption))for(var t in this.controlOption)n[t]=this.controlOption[t]}},custGroup:{name:"CUST_GROUP",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.custGroup",id:"txtCustGroup1",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:null,initializeOptions:function(){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,keyword:"",Data:{CODE_CLASS:"A11",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0}}}});this.id=="txtCustGroup2"&&_.merge(this.defaultParam.Request.Data,{custGroupCodeClass:"A12"})}},custLevelGroup:{name:"CUST_LEVEL_GROUP",searchURL:"/SVC/Account/Basic/GetSearchCustLevelGroupInfo",controlType:"widget.code.custLevelGroup",id:"txtTreeCustCd",subTitle:"거래처계층그룹",popupURL:"/ECERP/SVC/ESA/ESA065M",popupType:!0,isSVC:!0,valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",label:ecount.resource.widget.INCLUDE_SUBGROUP,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:"",Type:"SEARCH"},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},responseFilter:function(n){return $.map(n,function(n){return{label:n.li_attr.hidtext,value:n.id}})}},custLevelGroup:{name:"ITEM_CD",searchURL:"/Inventory/Basic/GetListMgmtFieldForSearch",controlType:"widget.code.MgmtField",id:"txtItemCd",subTitle:"관리항목",popupURL:"/ECERP/Popup.Search/CM003P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{WH_CD:"",PROD_CD:"",USE_GUBUN:"",PROD_SEARCH:"",PARAM:"",MOBILE_FLAG:"N",STR_ALL_FLAG:"Y",STR_MULTI_FLAG:"N"}},defectType:{searchURL:"/Account/Basic/GetListCustForSearch",controlType:"widget.code.defectType",id:"txtSCustCd",subTitle:"불량유형",popupURL:"/ECERP/Popup.Search/CM022P",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",width:500,height:600,defaultParam:{ACC002_FLAG:"N",CALL_TYPE:102,DEL_FLAG:"N",EMP_FLAG:"N",GYE_CODE:" ",IO_TYPE:"  ",PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A"},initializeOptions:function(n,t){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);var i=t&&t.result&&t.result.Data;$.isEmpty(i)||$.extend(this,{width:i.POPUP_WIDTH||this.width})},addPopupOpenParam:function(n){if(this._addPopUpOpenParam===!0&&!$.isNull(this.controlOption))for(var t in this.controlOption)n[t]=this.controlOption[t]}},defectTypeGroup:{name:"CUST_GROUP",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.defectTypeGroup",id:"txtCustGroup1",subTitle:"불량유형그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:null,initializeOptions:function(){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CODE_CLASS:"A11",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0}}}});this.id=="txtCustGroup2"&&_.merge(this.defaultParam,{Request:{Data:{custGroupCodeClass:"A12"}}})}},defectTypeLevelGroup:{name:"CUST_LEVEL_GROUP",searchURL:"/SVC/Account/Basic/GetSearchCustLevelGroupInfo",controlType:"widget.code.defectTypeLevelGroup",id:"txtTreeCustCd",subTitle:"불량유형계층그룹",popupURL:"/ECERP/SVC/ESA/ESA065M",popupType:!0,isSVC:!0,valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",label:ecount.resource.widget.INCLUDE_SUBGROUP,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:"",Type:"SEARCH"},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},responseFilter:function(n){return $.map(n,function(n){return{label:n.li_attr.hidtext,value:n.id}})}},remarks:{searchURL:"/Account/Basic/GetListRemarkForSearch",controlType:"widget.code.remarks",popupURL:"/ECERP/Popup.Search/EB009P",valueColumn:"REMARKS_CD",labelColumn:"REMARKS_DES",defaultParam:{PARAM:"",gyeCode:""},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},MgmtField:{searchURL:"/Inventory/Basic/GetListMgmtFieldForSearch",controlType:"widget.code.MgmtField",popupURL:"/ECERP/Popup.Search/CM003P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{WH_CD:"",PROD_CD:"",USE_GUBUN:"",PROD_SEARCH:"",PARAM:"",MOBILE_FLAG:"N",STR_ALL_FLAG:"Y",STR_MULTI_FLAG:"N"}},delivery:{searchURL:"/Inventory/OpenMarket/GetListDeliveryCompanyForSearch",controlType:"widget.code.delivery",subTitle:"Delivery",popupURL:"/ECERP/ESK/ESK005P_03",valueColumn:"DELIVERY_COMPANY_CD",labelColumn:"DELIVERY_COMPANY_NM",defaultParam:{PARAM:"",OPENMARKET_TYPE_CD:"100",SORT_COLUMN:"DELIVERY_COMPANY_CD",SORT_TYPE:"A"}},modifier:{name:"LAST_UPDATED_ID",searchURL:"/Inventory/Sale/GetListModifierForSearch",controlType:"widget.code.modifier",id:"txtLastUpdatedID",subTitle:"최종수정자",valueColumn:"ID",labelColumn:"UNAME",popupURL:"/ECERP/Popup.Search/CM013P"},PIC:{name:"EMP_CD",searchURL:"/Account/Basic/GetListPicForSearch",controlType:"widget.code.PIC",id:"txtEmpCd",subTitle:"담당자",popupURL:"/ECERP/Popup.Search/ES006P",valueColumn:"EMP_CD",labelColumn:"EMP_NAME",defaultValue:"",defaultLabel:"",defaultParam:{ACCT_CHK:"",SALE_CHK1:"",SALE_CHK2:"",SALE_CHK3:"",SALE_CHK4:"",DEL_FLAG:"N",PARAM:"",MOBILE_FLAG:"N",EMP_CD:"",PAGE_SIZE:100,PAGE_CURRENT:0},onInitControlOptions:function(n,t){var i=!$.isEmpty(ecount.user.BS_STAFF_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0;i||(n.isDefaultSet==!1?n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label):this._setDefaultValue(n))},initCodeOptions:function(n,t){if((!n.data||n.data.length==0)&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn],this._setDefaultValue(n.initOptions))}},_setDefaultValue:function(n){if(!this.defaultValue){var t=n;this.defaultValue=this.empty(t.requestCode)||this.getCookies(t.cookieCode)||"";this.defaultLabel=this.empty(t.requestName)||this.getCookies(t.cookieDes)||""}}},PICCust:{name:"CUST_EMP_CD",searchURL:"/Account/Basic/GetListPicForSearch",controlType:"widget.code.PICCust",id:"txtCustEmpCd",subTitle:"거래처관리담당자",popupURL:"/ECERP/Popup.Search/ES006P",valueColumn:"EMP_CD",labelColumn:"EMP_NAME",defaultParam:{ACCT_CHK:"",SALE_CHK1:"",SALE_CHK2:"",SALE_CHK3:"",SALE_CHK4:"",DEL_FLAG:"N",PARAM:"",MOBILE_FLAG:"N",EMP_CD:"",PAGE_SIZE:100,PAGE_CURRENT:0}},priceGroup:{searchURL:"/svc/Inventory/Basic/GetListPriceGroupForSearch",controlType:"widget.code.priceGroup",id:null,subTitle:"",popupURL:"/ECERP/Popup.Search/CM020P",valueColumn:"CODE_CLASS",labelColumn:"CLASS_DES",defaultParam:{ACC002_FLAG:"N",CALL_TYPE:102,DEL_FLAG:"N",EMP_FLAG:"N",GYE_CODE:" ",IO_TYPE:"  ",PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A"}},importTracking:{searchURL:"/ECAPI/SVC/Common/SlipTransfer/GetListXFormSlipAccountCommon",controlType:"widget.code.importTracking",subTitle:"검색할 관리번호를 입력 바랍니다.",popupURL:"/ECERP/SVC/Popup/EB013P",valueColumn:"A.TRADE_CODE",labelColumn:"A.TRADE_NAME",isSVC:!0,preSearchDataKey:"FORM_LIST",defaultParam:{Request:{Data:{PRG_ID:"E060201",FORM_TYPE:"AP731",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN731",PAGE_SIZE:0,PAGE_CURRENT:1,PARAM:"",USE_YN:"N"}}}},processCode:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.code.processCode",id:null,subTitle:"생산공정",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",codeClcodeClass:"L03",isSVC:!0,defaultParam:{Request:{Data:{PARAM:"",SORT_COLUMN:"CODE_NO",SORT_TYPE:"A",CODE_CLASS:"L03",DEL_FLAG:"N",custGroupCodeClass:"L03",titlename:ecount.resource.LBL01541,ViewMode:1}}}},prod:{controlType:"widget.code.prod",viewName:"widget.view.code.prod",searchURL:"",popupURL:"",id:"txtSProdCd",name:"PROD_CD",subTitle:ecount.resource.LBL03017,valueColumn:"PROD_CD",labelColumn:"PROD_DES",isSVC:!0,width:500,height:640,preSearchDataKey:"PROD_FORM_LIST",defaultParam:{},initSVCOptions:function(){this.isSVC?_.extend(this,{searchURL:"/SVC/Inventory/Basic/GetListProdForSearchPopup",popupURL:"/ECERP/SVC/Popup/ES020P",defaultParam:{Request:{Data:{PARAM:"",CANCEL:"N"}}}}):_.extend(this,{searchURL:"/Inventory/Basic/GetListProdForSearch",popupURL:"/ECERP/Popup.Search/ES020P",defaultParam:{IO_TYPE:"10",POS:"1",CLASS_TYPE:"9",PROD_SEARCH:"5",PARAM:"",SORT:"PROD_CD ASC",SORT_AD:"A",SFLAG:"N",REQ_TYPE:"0",DEL_GUBUN:"N",BARCODE2:"N",LAN_TYPE:"ko-KR",BARCODE_SEARCH:"N",WH_CD:"",MAIN_YN:"",ADD_COLUMN:"",WH_CD_T:"",FORM_SEQ:"",SEARCH_GB:"",PROD_CD2:"",PROD_DES:"",SIZE_DES:"",UNIT:"",BAR_CODE:"",CLASS_CD:"",CLASS_CD2:"",CLASS_CD3:"",REMARKS_WIN:"",MAIN_PROD_CD:"",MAIN_PROD_DES:"",CONT1:"",CONT2:"",CONT3:"",CONT4:"",CONT5:"",CONT6:"",NOW_DATE:null,SERIAL_DATE:null}})},initCodeOptions:function(n,t){var i=t?t.config||{}:{},r=t&&t.result&&t.result.Data;this.isSVC||$.extend(this.defaultParam,{PRICE_GROUP_FLAG:i.PRICE_GROUP_FLAG,SERIAL_FLAG:i.USE_SERIAL?"Y":"N",OUT_VAT_RATE_YN:i.USE_OUT_VAT_RATE?"Y":"N",OUT_VAT_RATE:i.OUT_VAT_RATE,IN_VAT_RATE_YN:i.USE_IN_VAT_RATE?"Y":"N",IN_VAT_RATE:i.IN_VAT_RATE,LAST_SELL_FUTURE_YN:i.USE_LAST_SELL_FUTURE?"Y":"N",SERIAL_WH_FLAG:i.USE_SERIAL_WH?"Y":"N",INI_COM_CODE:i.INNER_GYESET_CD,ALL_GROUP_PROD:i.ALL_GROUP_PROD,ALL_GROUP_WH:i.ALL_GROUP_WH});$.isEmpty(r)||$.extend(this,{width:r.POPUP_WIDTH||this.width})},onInitControlOptions:function(n,t){var i=t&&t.result&&t.result.Data;n.isDefaultSet==!0&&i&&i.formMenuType=="Groupware"&&(this.defaultValue=i.scpCd||"",this.defaultLabel=i.scpDes||"")}},prodGroup:{name:"PROD_CLASS_CD",searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.code.prodGroup",id:"txtClassCd",subTitle:"품목그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:null,initializeOptions:function(){ecount.control.codes.c04.prototype.initializeOptions.apply(this,arguments);_.merge(this,{defaultParam:{Request:{Data:{CLASS_CLASS:"L07",ViewMode:1,PARAM:"",titlename:ecount.resource.LBL10728}}}});var n="",t="";this.id==="txtClassCd2"?(n="L08",t=ecount.resource.LBL10729):this.id==="txtClassCd3"&&(n="L09",t=ecount.resource.LBL10730);_.merge(this.defaultParam,{CLASS_CLASS:n,titlename:t})}},prodLevelGroup:{name:"PROD_LEVEL_GROUP",searchURL:"/SVC/Inventory/Basic/GetEqualSearchProdLevelGroupInfo",controlType:"widget.code.prodLevelGroup",id:"txtTreeGroupCd",subTitle:"품목계층그룹",popupURL:"/ECERP/SVC/ESA/ESA066M",popupType:!0,valueColumn:"PROD_CD",labelColumn:"PROD_DES",label:ecount.resource.widget.INCLUDE_SUBGROUP,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},isSVC:!0,setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},responseFilter:function(n){return $.map(n,function(n){return{label:n.li_attr.hidtext,value:n.id}})}},prodSize:{searchURL:"/Account/Basic/GetListGroupCodeForSearch",controlType:"widget.multiCode.prodSize",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!0,subTitle:ecount.resource.LBL15848,isSVC:!0,defaultParam:{Request:{Data:{CODE_CLASS:"L06",PARAM:""}}}},project:{name:"PJT_CD",searchURL:"/SVC/Account/Basic/GetListSiteProjectForSearchAction",controlType:"widget.code.project",id:"txtPjtCd",subTitle:"프로젝트",popupURL:"/ECERP/SVC/Popup/ES007P",valueColumn:"PJT_CD",labelColumn:"PJT_DES",defaultValue:"",defaultLabel:"",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{PRG_ID:"E010112",MENU_SEQ:"173",FORM_TYPE:"SP988",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN988",PAGE_CURRENT:1,PAGE_SIZE:0,PARAM:"",searchCategoryFlag:"S",CANCEL:"N",LIMIT_FLAG:1,LIMIT_COUNT:200},onInitControlOptions:function(n,t){var i=!$.isEmpty(ecount.user.BS_PJT_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0;i||(n.isDefaultSet==!1?n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label):this._setDefaultValue(n))},initCodeOptions:function(n,t){if((!n.data||n.data.length==0)&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn],this._setDefaultValue(n.initOptions))}},_setDefaultValue:function(n){if(!this.defaultValue){var t=n;this.defaultValue=this.empty(t.requestCode)||($.isEmpty(t.cookieCode)?"":(this.getCookies(t.cookieCode)=="00"?"":this.getCookies(t.cookieCode))||"");this.defaultLabel=this.empty(t.requestName)||($.isEmpty(t.cookieDes)?"":(this.getCookies(t.cookieCode)=="00"?"":this.getCookies(t.cookieDes))||"")}}},adjustAmtType:{name:"adjustAmtType",searchURL:"/SVC/Inventory/Basic/GetListAdjustmentaAmtCode",controlType:"widget.code.adjustAmtType",id:"adjustAmtType",subTitle:ecount.resource.LBL02086,popupURL:"/ECERP/SVC/ESD/ESD066P_02",valueColumn:"ADJ_AMT_CD",labelColumn:"ADJ_AMT_NM",defaultParam:null,init:function(){this.defaultParam={Request:{PRG_ID:"",PARAM:""},PARAM:""};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},adjustGyeCode:{name:"adjustGyeCode",searchURL:"/SVC/Inventory/Basic/GetListAdjustmentGyeCode",controlType:"widget.code.adjustGyeCode",id:"adjustGyeCode",subTitle:ecount.resource.LBL00476,popupURL:"/ECERP/SVC/ESD/ESD066P_03",valueColumn:"GYE_CODE",labelColumn:"GYE_NM",defaultParam:null,init:function(){this.defaultParam={Request:{PRG_ID:"",PARAM:""},PARAM:""};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},publicMailAccount:{popupURL:"/ECERP/SVC/PBM/PBM_AccountManagement_02",valueColumn:"MAIL_ADDR",labelColumn:"MAIL_ADDR",searchURL:"/SVC/Groupware/PublicMail/GetListPublicMailAccountForSearch",controlType:"widget.code.publicMailAccount",name:"publicMailAccount",id:"publicMailAccount",subTitle:"",groupId:"",defaultParam:{PARAM:"",IsFromWidget:!0}},purchaseSalesType:{searchURL:"/Account/Basic/GetListAccountCodeForOneActoin",controlType:"widget.code.purchaseSalesType",id:"CRDR_CODE",name:"CRDR_DES",subTitle:"매입매출유형",popupURL:"/ECERP/Popup.Search/CM007P",valueColumn:"A0",labelColumn:"A1",checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultParam:{TYPE:"",PAGE_FLAG:"",CALL_TYPE:"",GYE_CODE:"",CUST_CD:"",TRX_TYPE:"",SER_NO:"",BUSINESS_NO:"",isTopTen:!1,isPutWhenOneDataFlag:!0,isTreeEventDisable:!1,isTreeEventOnLabel:!0,isParentCheckBoxDisplayFlag:!0,isSpecialCase:!1,isViewNoChildParent:!1}},purchaseSalesType:{name:"REMARKS",searchURL:"/Account/Basic/GetListRemarkForSearch",controlType:"widget.code.remarks",id:"txtRemarksCd",subTitle:"적요",popupURL:"/ECERP/Popup.Search/EB009P",valueColumn:"REMARKS_CD",labelColumn:"REMARKS_DES",defaultParam:{PARAM:"",gyeCode:""},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},site:{searchURL:"/SVC/Account/Basic/GetSiteList",controlType:"widget.code.site",id:"SITE",name:"SITE_DES",subTitle:"부서",popupURL:"/ECERP/SVC/EBA/EBA003P",valueColumn:"SITE",labelColumn:"SITE_DES",defaultValue:"",defaultLabel:"",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{PRG_ID:"E010105",FORM_TYPE:"AP774",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN774",PAGE_SIZE:0,PAGE_CURRENT:1,PARAM:"",CANCEL:"N",CHKFLAG:"A",CHK_FLAG:"A",LIMIT_FLAG:1,LIMIT_COUNT:200},onInitControlOptions:function(n){var t=!$.isEmpty(ecount.user.BS_SITE_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0);t||(n.isDefaultSet==!1?n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label):this._setDefaultValue(n))},initCodeOptions:function(n,t){var r=t?t.config||{}:{},i;r.UseInitWidgetData!==!1&&(n.data&&n.data.length!=0||t&&t.result&&t.result.Data&&(i=t.result.Data,i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn],this._setDefaultValue(n.initOptions))))},_setDefaultValue:function(n){if(!this.defaultValue){var t=n;this.defaultValue=this.empty(t.requestCode)||($.isEmpty(t.cookieCode)?"":this.getCookies(t.cookieCode)||"");this.defaultLabel=this.empty(t.requestName)||($.isEmpty(t.cookieDes)?"":this.getCookies(t.cookieDes)||"")}}},user:{searchURL:"/Common/Infra/GetPasswordUser",controlType:"widget.code.user",id:"USER_ID",name:"USER_ID",subTitle:"아이디",popupURL:"/ECERP/Popup.Search/EGD002P_02",valueColumn:"USER_ID",labelColumn:"UNAME",defaultValue:"",defaultLabel:"",defaultParam:{Type:"",Flag:""}},limitDateMenuType:{controlType:"widget.code.limitDateMenuType",searchURL:"/SVC/Common/Infra/GetListLimitDateSetupMenu",popupURL:"/ECERP/SVC/Popup/ES076P",id:"",name:"",isSVC:!0,valueColumn:"ITEM12",labelColumn:"ITEM11",initCodeOptions:function(){this.defaultParam={PARAM:"",CLASS_CD:"LU20",MENU_CD:"ST005",MENU_SEQ:0,MENU_SEARCH_TARGET:"JS",useSingleMode:!0}},addItemExtraData:function(n){var t=n.ITEM11;return t?ecount.resource[t]?{label:ecount.resource[t],originLabel:ecount.resource[t]}:null:null}},userGroup:{searchURL:"/SelfCustomize/User/GetListGroupAuthorization",controlType:"widget.code.userGroup",id:"CODE_NO",name:"CODE_DES",subTitle:"User Group",popupURL:"/ECERP/EMM/EMM009M",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultValue:"",defaultLabel:"",defaultParam:{}},ipGroup:{searchURL:"/ECAPI/SVC/Common/Login/GetListLoginIPControlGroup",controlType:"widget.code.ipGroup",groupId:null,id:"CODE_NO",name:"CODE_DES",subTitle:"User Group",popupURL:"/ECERP/EMM/EMM002P_03_01",valueColumn:"IP_GRP_CD",labelColumn:"IP_GRP_NM",defaultValue:"",defaultLabel:"",defaultParam:{}},wh:{name:"WH_CD",searchURL:"/ECAPI/SVC/Inventory/Basic/GetListLocationForSearch",controlType:"widget.code.wh",id:"txtSWhCd",subTitle:"창고",popupURL:"/ECERP/SVC/Popup/ES008P",popupType:!1,valueColumn:"WH_CD",labelColumn:"WH_DES",whVatRate:0,isWhVatRate:!1,checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultValue:"",defaultLabel:"",_isDefaultSetting:!0,outCust:null,outCustDes:null,isSVC:!0,defaultParam:{Request:{Data:{PRG_ID:"E040102",FORM_TYPE:"SP971",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN971",PAGE_CURRENT:1,PAGE_SIZE:100,PARAM:"",FLAG:"3",DEL_GUBUN:"N",IO_TYPE:"00",FT_FLAG:" ",LIMIT_FLAG:1,LIMIT_COUNT:200}}},getInitData:function(n){var t;return t=n.additionalInitDataControlType?n.additionalInitDataControlType:n.baseControlType||n.controlType,ecount.control.getInitData(t,n.inIncludePage,n.ecPageID)},onInitControlOptions:function(n,t){var r=!$.isEmpty(ecount.user.WH_CD)&&($.isEmpty(n.isDefaultSet)||n.isDefaultSet==!0)||n.isDefaultSet&&t&&t.config&&t.config.IsFormSet==!0,i;r||(n.isDefaultSet==!1?n.editCode&&(i=n.editCode,this.defaultValue=i.value,this.defaultLabel=i.label,this.whVatRate=i.whVatRate,this.isWhVatRate=i.isWhVatRate):this._setDefaultValue(n))},initCodeOptions:function(n,t){var r=t?t.config||{}:{},i,u;$.isEmpty(this.defaultValue)&&(n.data&&n.data.length!=0||(t&&t.result&&t.result.Data?(i=t.result.Data,i.length==1&&(i=i[0],u=r.ALL_GROUP_WH,this.defaultValue=u=="1"&&$.isEmpty(r.ALLOW_WH_CD)==!1?r.ALLOW_WH_CD:i&&i[this.valueColumn],this.defaultLabel=u=="1"&&$.isEmpty(r.ALLOW_WH_CD)==!1?r.ALLOW_WH_DES:i&&i[this.labelColumn],this.whVatRate=u=="1"&&$.isEmpty(r.ALLOW_WH_CD)==!1?r.ALLOW_WH_VAT_RATE:i&&i.WH_VAT_RATE,this.isWhVatRate=u=="1"&&$.isEmpty(r.ALLOW_WH_CD)==!1?r.ALLOW_WH_VAT_RATE_YN=="Y"?!0:!1:i&&i.WH_VAT_RATE_YN=="N"?!1:!0,this.outCust=i&&i.OUT_CUST,this.outCustDes=i&&i.OUT_CUST_DES,this._setDefaultValue(n.initOptions))):t.config&&t.config.ALL_GROUP_WH=="1"&&$.isEmpty(t.config.ALLOW_WH_CD)==!1&&t.config.NOTUSEALLOWWAREHOUSE==!1&&(this.defaultValue=r.ALLOW_WH_CD,this.defaultLabel=r.ALLOW_WH_DES,this.whVatRate=r.ALLOW_WH_VAT_RATE,this.isWhVatRate=r.ALLOW_WH_VAT_RATE_YN=="Y"?!0:!1)))},_setDefaultValue:function(n){var i=ecount.user,t;i.ALL_GROUP_WH=="1"||this.defaultValue||(t=n,t.isConsumed||(this.defaultValue=this.empty(t.requestCode)||this.getCookies(t.codeCookie)||"",this.defaultLabel=this.empty(t.requestName)||this.getCookies(t.nameCookie)||"",this.whVatRate=this.empty(t.requestVat)||this.getCookies(t.vatCookie)||"0",this.isWhVatRate=this.empty(t.isRequestVat)||this.getCookies(t.isVatCookie)))}},whLevelGroup:{name:"WH_LEVEL_GROUP",searchURL:"/Inventory/Basic/GetSearchLocationLevelInfo",controlType:"widget.code.whLevelGroup",id:"txtTreeWhCd",subTitle:"창고계층그룹",popupURL:"/ECERP/ESA/ESA068M",popupType:!0,valueColumn:"WH_CD",labelColumn:"WH_DES",label:ecount.resource.widget.INCLUDE_SUBGROUP,checkMaxCount:30,isCheckBoxDisplayFlag:!1,isContainLevelGroup:!0,defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""},setRequestParameter:function(n,t){this.defaultParam.SEARCHVALUE=n;$.extend(t,this.defaultParam)},responseFilter:function(n){return $.map(n,function(n){return{label:n.li_attr.hidtext,value:n.id}})}},fixedAssetsCode:{searchURL:"/Account/FixedAssets/GetListFixedAssetsCodeForSearch",controlType:"widget.code.fixedAssetsCode",popupURL:"/ECERP/Popup.Search/EB007P",valueColumn:"ASSETS_CODE",labelColumn:"ASSETS_DES",checkMaxCount:20,defaultParam:{PARAM:""}},deliveryCost:{name:"deliveryCost",searchURL:"",controlType:"widget.code.deliveryCost",popupURL:"/ECERP/ESK/ESK001P_12",width:620,height:300,subTitle:ecount.resource.LBL11391,valueColumn:"TEMPLATE_CD",labelColumn:"TEMPLATE_LABEL",defaultParam:{PARAM:""}},fixedAssetsType:{searchURL:"/ECAPI/SVC/Common/SlipTransfer/GetListXFormSlipAccountCommon",controlType:"widget.code.fixedAssetsType",popupURL:"/ECERP/SVC/EBH/EBH014P_02",valueColumn:"CLASS_CD",labelColumn:"CLASS_DES",preSearchDataKey:"FORM_LIST",isSVC:!0,defaultParam:{Request:{Data:{PARAM:"",USE_YN:"N",PAGE_CURRENT:1,PRG_ID:"E010609",FORM_TYPE:"AP667",SEARCH_FORM_TYPE:"AN667",FORM_SEQ:1,PAGE_SIZE:0}}}},omCd:{searchURL:"/SVC/Inventory/OpenMarket/GetListRegisterOnlineStoreForSearch",controlType:"widget.code.omCd",popupURL:"/ECERP/SVC/ESK/ESK001P",valueColumn:"OPENMARKET_CD",labelColumn:"OPENMARKET_NM",subTitle:"오픈마켓검색",preSearchDataKey:"FORM_LIST",width:550,checkMaxCount:100,isSVC:!0,defaultParam:{PRG_ID:"E041003",FORM_TYPE:"SP783",FORM_SEQ:1,SEARCH_FORM_TYPE:"SN783",PAGE_SIZE:100,PAGE_CURRENT:1,PARAM:"",CANCEL:"Y",MENU_SEQ:"2575"}},codeTypeAddField:{name:"CODETYPEADDFIELD",searchURL:"/Groupware/Common/GetListForCode",controlType:"widget.code.codeTypeAddField",id:"codeTypeAddField",subTitle:"코드형추가항목",title:"코드형추가항목",popupURL:"/ECERP/ESD/ESD030P_08",popupType:!1,valueColumn:"ITEM_CD",labelColumn:"ITEM_NM",isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:"",USERTABLE_CD:0,Title:""}},replier:{searchURL:"/Common/Infra/GetListForSearchEmail",controlType:"widget.code.replier",id:"replier",subTitle:"회신담당자검색",title:"회신담당자검색",popupURL:"/ECERP/Popup.Search/EGA001P_06",isCheckBoxDisplayFlag:!1,width:600,defaultParam:{KeyWord:""}},replierNew:{searchURL:"/Svc/Common/SendOutside/GetListReplier",controlType:"widget.code.replierNew",id:"replierNew",subTitle:"회신담당자검색",title:"회신담당자검색",popupURL:"/ECERP/Svc/Popup/ReplierList",isCheckBoxDisplayFlag:!1,width:600,valueColumn:"RPLY_OFCR_SNO",labelColumn:"RPLY_OFCR_NM",defaultParam:{Request:{Data:{PARAM:""}}}},calc:{name:"calc",searchURL:"",controlType:"widget.code.calc",data:null,id:"calc",subTitle:"계산식",title:"계산식",popupURL:"/ECERP/Popup.Common/CM100P_05",popupType:!1,valueColumn:"CALC_VALUE",labelColumn:"CALC_DESC",width:800,height:600,checkMaxCount:0,isCheckBoxDisplayFlag:!1,defaultParam:{ItemValue:"",ItemText:""},onInitComponent:function(n,t,i,r){ecount.control.codes.c04.prototype.onInitComponent.apply(this,arguments);r["attr.readonly"]=!0},serialize:function(n){return{key:n||this.name,value:this.getSelectedCode().join(ecount.delimiter),label:this.getSelectedLabel().join(ecount.delimiter)}},addCode:function(n,t,i,r){var u={value:"",label:""},f,o,e,s;if($.isNull(i))u=n;else{for(f=0;f<i.data.CALC_VALUE.length;f++)for(o=i.data.CALC_VALUE[f],f>0&&(u.value+="§",u.label+="§"),e=0;e<o.length;e++)s=o[e],u.value+=" "+s.value,u.label+=" "+s.label;i.data.value=u.value;i.data.label=u.label}this._super.addCode.apply(this,[u,t,i,r])}},cofmFormCmcd:{name:"cofmFormCmcd",searchURL:"/Common/Infra/GetListCMCD",controlType:"widget.code.cofmFormCmcd",data:null,id:"cofmFormCmcd",subTitle:"구분검색",title:"구분검색",popupURL:"/ECERP/Popup.Form/ES024P",valueColumn:"FORM_TYPE",labelColumn:"FORM_NM",defaultParam:{PARAM:"",CLASS_CD:""}},serialLotNo:{name:"serialLotNo",searchURL:"/Inventory/Serial/GetListSerialLot",controlType:"widget.code.serialLotNo",id:"serialLotNo",subTitle:ecount.resource.LBL06069,title:ecount.resource.LBL06069,popupURL:"/ECERP/Popup.Search/ES028P",valueColumn:"SERIAL_IDX",labelColumn:"SERIAL_IDX",defaultParam:{SERIAL_IDX:""}},prodInspectItem:{searchURL:"/Inventory/Basic/GetListForInspectItem",controlType:"widget.code.prodInspectItem",id:"InspTypeItemCd",subTitle:"INSP ITEM",popupURL:"/ECERP/Popup.Common/ESA060P_02",valueColumn:"CODE2",labelColumn:"NAME",defaultParam:{DATA_TYPE:"C",PARAM:"",TYPE:"ITEM"},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},prodInspectType:{searchURL:"/Inventory/Basic/GetListForInspectType",controlType:"widget.code.prodInspectType",popupURL:"/ECERP/Popup.Common/ESA060P_02",id:"InspTypeCd",subTitle:"INSP TYPE",valueColumn:"CODE2",labelColumn:"NAME",defaultParam:{DATA_TYPE:"",PARAM:"",TYPE:"TYPE"}},prodInspectSubItem:{searchURL:"/Inventory/QcInspection/GetListSearchStqcSubItemDetail",controlType:"widget.code.prodInspectSubItem",id:"InspSubTypeItemCd",subTitle:"INSP SUB ITEM",popupURL:"/ECERP/Popup.Common/ESA060P_02",valueColumn:"CODE2",labelColumn:"NAME",defaultParam:{DATA_TYPE:"C",PARAM:"",TYPE:"SUB_ITEM"},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},searchPeriod:{searchURL:"/SVC/Inventory/Costing/GetListInventoryMonthlyCost",controlType:"widget.code.searchPeriod",id:null,subTitle:"Search Period",popupURL:"/ECERP/SVC/ESS/ESS012R_02",valueColumn:"YYMM_ORG",labelColumn:"YYMM",width:ecount.infra.getPageWidthFromConfig(),defaultParam:{PARAM:""}},qnaType:{searchURL:"/Service/CustomerCenter/GetListQnaTypeCodeForInquiryType",controlType:"widget.code.qnaType",popupURL:"/ECERP/ECU/ECU101P_01",isGMC:!0,id:"qnaType",subTitle:"qnaType",valueColumn:"QNA_TYPE",labelColumn:"QNA_TYPE_NAME",width:700,defaultParam:{PARAM:"",btnFlag:"N",delFlag:"N"},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},country:{name:"country",searchURL:"/Common/Infra/GetListCountry",controlType:"widget.code.country",data:null,id:"country",popupURL:"/ECERP/ECK/ECK001P_04",valueColumn:"STATE_CODE",labelColumn:"STATE_TEXT",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}},currencyCode:{popupURL:"/ECERP/SVC/EBS/EBS003P_22",valueColumn:"CUR_CD",labelColumn:"CUR_NM",searchURL:"",controlType:"widget.code.currencyCode",id:"currencyCode",name:"currencyCode",subTitle:"통화코드",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{}}}}},searchPayBank:{name:"searchPayBank",searchURL:"/ECAPI/SVC/TaxCommon/Basic/GetListPayBankForSearch",controlType:"widget.code.searchPayBank",data:null,id:"searchPayBank",subTitle:"금융회사코드 검색",title:"금융회사코드 검색",popupURL:"/ECERP/Popup.Search/CM305P",popupType:!1,valueColumn:"BANK_CD",labelColumn:"BANK_DES",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:null},searchNonTax:{name:"searchNonTax",searchURL:"/ECAPI/SVC/TaxCommon/Basic/GetPay001NonTax",controlType:"widget.code.searchNonTax",data:null,id:"searchNonTax",subTitle:"비과세 및 감면소득 코드",title:"비과세 및 감면소득 코드",popupURL:"/ECERP/Popup.Search/EP005P",popupType:!1,valueColumn:"NON_TAX_CD",labelColumn:"NON_TAX_DES",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:null},contract:{name:"contract",searchURL:"/Account/Basic/GetListContractForSearch",controlType:"widget.code.contract",id:"contract",subTitle:ecount.resource.LBL11141,title:ecount.resource.LBL11141,popupURL:"/ECERP/Popup.Search/ES029P",valueColumn:"CT_CD",labelColumn:"CT_CDNM",defaultParam:{PARAM:"",SORT_COLUMN:"",CD_TYPE:1}},contractItem:{name:"contractItem",searchURL:"/Account/Basic/GetListContractTypeForSearch",controlType:"widget.code.contractItem",id:"contractItem",subTitle:ecount.resource.LBL03638,title:ecount.resource.LBL03638,popupURL:"/ECERP/Popup.Search/ES030P",valueColumn:"CT_ITEM_CD",labelColumn:"CT_ITEM_NM",defaultParam:{PARAM:"",SORT_COLUMN:""}},person:{name:"person",searchURL:"/Groupware/CRM/GetListSelectPerson",controlType:"widget.code.person",id:"person",subTitle:ecount.resource.LBL04331,title:ecount.resource.LBL04331,popupURL:"/ECERP/Popup.Search/EGM025P_01",valueColumn:"ID",labelColumn:"UNAME",defaultParam:{SEARCH_TEXT:"",CANCEL:"N",GW_USE:"0"}},customerVendor:{name:"customerVendor",searchURL:"/Groupware/CRM/GetListCustForSearch",controlType:"widget.code.customerVendor",id:"customerVendor",subTitle:ecount.resource.LBL00330,title:ecount.resource.LBL00330,popupURL:"/ECERP/Popup.Search/EG002P",valueColumn:"CUST_IDX",labelColumn:"COMPANY_DES",defaultParam:{PARAM:"",SORT_COLUMN:"",CANCEL_TYPE:"N"},onInitControlOptions:function(n){n.isDefaultSet!=!0&&n.isDefaultSet==!1&&n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label)},initCodeOptions:function(n,t){if((!n.data||n.data.length==0)&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}}},merchantAccount:{name:"merchantAccount",searchURL:"/Account/CashIn/GetInfoMerchantAccount",controlType:"widget.code.merchantAccount",id:"merchantAccount",subTitle:"",title:"",popupURL:"/ECERP/Popup.Search/CM001P_CM",valueColumn:"CUST",labelColumn:"CUST_NAME",defaultParam:{PARAM:"",CALL_TYPE:"0",DEL_FLAG:"N"}},serial:{id:"serial",name:"serial",controlType:"widget.code.serial",searchURL:"/ECAPI/SVC/Inventory/Serial/GetListSerialLotSub",popupURL:"/ECERP/SVC/Popup/ES027P",title:ecount.resource.LBL06069,subTitle:ecount.resource.LBL06069,valueColumn:"SERIAL_CD",labelColumn:"SERIAL_CD",defaultParam:null},serialCodeItem:{name:"serialCodeItem",id:"serialCodeItem",searchURL:"/Inventory/Serial/GetSerialLotSearch",controlType:"widget.code.serialCodeItem",data:null,subTitle:ecount.resource.LBL11300,title:ecount.resource.LBL11300,popupURL:"/ECERP/Popup.Search/ES027P",valueColumn:"PROD_CD",labelColumn:"SERIAL_IDX",isCheckBoxDisplayFlag:!0,defaultParam:null},serialCodeItemNew:{name:"serialCodeItemNew",id:"serialCodeItemNew",searchURL:"/Inventory/Serial/GetSerialLotSearch",controlType:"widget.code.serialCodeItemNew",data:null,subTitle:ecount.resource.LBL11300,title:ecount.resource.LBL11300,popupURL:"/ECERP/SVC/Popup/ES027P",valueColumn:"PROD_CD",labelColumn:"SERIAL_IDX",isCheckBoxDisplayFlag:!0,defaultParam:null},inspectionItemCode:{name:"INSPECTIONITEMCODE",searchURL:"/ECAPI/Inventory/QcInspection/GetListSearchStqcItemDetail",controlType:"widget.code.inspectionItemCode",data:null,id:"inspectionItemCode",subTitle:ecount.resource.LBL10911,title:ecount.resource.LBL10911,popupURL:"/ECERP/ESA/ESA062M",popupType:!1,valueColumn:"ITEMDETAIL_CD2",labelColumn:"ITEMDETAIL_NM",checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultParam:{ITEM_CD:"",ITEMDETAIL_CD:"",ITEMDETAIL_CD2:"",ITEMDETAIL_NM:"",PAGE_SIZE:100,PAGE_CURRENT:1},setRequestParameter:function(n,t){this.defaultParam.PARAM=n;$.extend(t,this.defaultParam)}},cs:{name:"cs",searchURL:"/Groupware/CRM/GetListSelectSharePerson",controlType:"widget.code.cs",id:"cs",subTitle:ecount.resource.LBL04331,title:ecount.resource.LBL04331,popupURL:"/ECERP/Popup.Search/EGM025P_06",valueColumn:"ID",labelColumn:"ID",defaultParam:{SEARCH_TEXT:""}},customizeCode:{name:"customizeCode",searchURL:"/Groupware/CRM/GetListCustomizeCodeForSearch",controlType:"widget.code.customizeCode",id:"customizeCode",subTitle:ecount.resource.LBL03638,title:ecount.resource.LBL03638,popupURL:"/ECERP/Popup.Search/EGM025P_02",valueColumn:"COLCODE_CD",labelColumn:"COLCODE_NM",defaultParam:{SEARCHTEXT:"",USE_STOP_YN:"N",BOARD_CD:"1",COL_SEQ:"1"}},contact:{name:"contact",searchURL:"/Groupware/CRM/GetListContactForSearch",controlType:"widget.code.contact",id:"contact",subTitle:ecount.resource.LBL03606,title:ecount.resource.LBL03606,popupURL:"/ECERP/Popup.Search/EGU007P_05",valueColumn:"HP_NO",labelColumn:"UNAME",defaultParam:{SEARCHTEXT:"",POPUP_YN:"Y",SER_NO:0},onInitControlOptions:function(n){n.isDefaultSet!=!0&&n.editCode&&(this.defaultValue=n.editCode.value,this.defaultLabel=n.editCode.label)},initCodeOptions:function(n,t){if((!n.data||n.data.length==0)&&t&&t.result&&t.result.Data){var i=t.result.Data;i.length==1&&(i=i[0],this.defaultValue=i[this.valueColumn],this.defaultLabel=i[this.labelColumn])}}},label:{name:"label",searchURL:"/Groupware/CRM/GetListLabelForSearch",controlType:"widget.code.label",id:"label",subTitle:ecount.resource.LBL10187,title:ecount.resource.LBL10187,popupURL:"/ECERP/Popup.Search/EGM037P_02",valueColumn:"LABEL_CD",labelColumn:"LABEL_NM",bgColorColumn:"LABEL_COLOR",defaultParam:{SEARCHTEXT:"",BOARD_CD:"1"}},processMenu:{name:"processMenu",controlType:"widget.code.processMenu",id:"processMenu",subTitle:ecount.resource.LBL08722,title:ecount.resource.LBL08722,popupURL:"/ECERP/SVC/ESO/ESO002P_04",valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",width:350,isSVC:!0,height:700,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},orderMgmtProcess:{name:"orderMgmtProcess",controlType:"widget.code.orderMgmtProcess",id:"orderMgmtProcess",subTitle:ecount.resource.LBL08256,title:ecount.resource.LBL08256,popupURL:"/ECERP/SVC/ESO/ESO004M",valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",width:800,isSVC:!0,height:700,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},loadStandard:{name:"loadStandard",controlType:"widget.code.loadStandard",id:"loadStandard",subTitle:ecount.resource.LBL08849,title:ecount.resource.LBL08849,popupURL:"/ECERP/SVC/ESO/ESO001P_05",valueColumn:"PROC_STEP",labelColumn:"STET_ID",isSVC:!0,width:400,height:500,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},accessibleMenuGroup:{name:"accessibleMenuGroup",searchURL:"/SelfCustomize/User/GetListMnGroupForSearch",controlType:"widget.code.accessibleMenuGroup",id:"accessibleMenuGroup",subTitle:ecount.resource.LBL09712,title:ecount.resource.LBL09712,popupURL:"/ECERP/EMP/EMP003P_01",valueColumn:"ALL_MN_GROUPCD",labelColumn:"ALL_MN_GROUPNM",defaultParam:{PARAM:""}},accessibleUserPayGroup:{name:"accessibleUserPayGroup",searchURL:"/SVC/SelfCustomize/UserpaySetting/GetListUserPayMenuGroup",controlType:"widget.code.accessibleUserPayGroup",id:"accessibleUserPayGroup",subTitle:ecount.resource.LBL21013,title:ecount.resource.LBL21013,popupURL:"/ECERP/SVC/EMP/EMP016P_01",valueColumn:"SETUP_GRP_CD",labelColumn:"SETUP_GRP_NM",defaultParam:{Request:{Data:{PARAM:"",SORT_COLUMN:"",SORT_TYPE:"A",isApplyDisplayFlag:!1,isNewDisplayFlag:!1,isCheckBoxDisplayFlag:!1}}}},service:{name:"txtServCd",searchURL:"/Account/Basic/GetListServiceForSearch",controlType:"widget.code.service",data:null,id:"txtServCd",title:"Search Service Code",subTitle:"Search Service Code",popupURL:"/ECERP/Popup.Search/EB015P",valueColumn:"SERVICE_CD",labelColumn:"SERVICE_NAME",defaultParam:{DEL_FLAG:"Y",CHK_FLAG:"P",PARAM:""},checkMaxCount:100,popupType:!1,isCheckBoxDisplayFlag:!1},customsBroker:{searchURL:"/Account/Import/GetDataCustomsBroker",controlType:"widget.code.customsBroker",id:"txtSCustCd",subTitle:"",title:"",popupURL:"/ECERP/Popup.Search/CM022P_CM",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",defaultParam:{PARAM:"",PROD_SEARCH:"9",SEARCH_GB:"2",SORT_COLUMN:"CUST_NAME",SORT_TYPE:"A",width:500}},taxOffice:{controlType:"widget.code.taxOffice",searchURL:"/Common/Infra/GetListAcc901ForSearch",popupURL:"/ECERP/Popup.Search/EMG001P_02",width:450,height:530,subTitle:ecount.resource.LBL01628,valueColumn:"OFFICE_CODE",labelColumn:"OFFICE_NAME",defaultParam:{PARAM:"",SORT_COLUMN:"OFFICE_NAME",SORT_TYPE:""}},bankCd:{controlType:"widget.code.bankCd",searchURL:"/Account/Basic/GetListPayBank",popupURL:"/ECERP/SVC/EBQ/EBQ003P",valueColumn:"BANK_CD",labelColumn:"BANK_DES",subTitle:"은행코드검색",width:550,checkMaxCount:100,defaultParam:{PARAM:"",SEARCH_TYPE:"2",SORT_COLUMN:"BANK_CD",SORT_TYPE:"A"}},employee:{name:"employee",searchURL:"/Account/Basic/GetListEmployeeForSearch",controlType:"widget.code.employee",id:"employee",subTitle:ecount.resource.LBL04124,title:ecount.resource.LBL04124,popupURL:"/ECERP/Popup.Search/EP001P",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",defaultParam:{PARAM:"",SORT_COLUMN:"",isOthersDataFlag:""}},legarAddress:{controlType:"widget.code.legarAddress",searchURL:"/Common/Infra/GetListCocpAddressForSearch",popupURL:"/ECERP/Popup.Search/EMG001P_08",width:520,height:530,subTitle:ecount.resource.LBL06046,valueColumn:"NTS_COURT_CD",labelColumn:"ADDRESS_DES",defaultParam:{PARAM:"",SORT_COLUMN:"NTS_COURT_CD",SORT_TYPE:"",PAGE_SIZE:100,PAGE_CURRENT:1}},email:{name:"email",searchURL:"/Service/CustomerCenter/GetListWebMailUser",controlType:"widget.code.email",id:"email",subTitle:ecount.resource.LBL03638,title:ecount.resource.LBL03638,popupURL:"/ECERP/Popup.Search/EMM002P_22",valueColumn:"USER_ID",labelColumn:"USER_NAME",defaultParam:{SEARCHVALUE:"",SORT_COLUMN:"",isGMC:!0}},mailConnectERP:{name:"mailConnectERP",width:700,height:430,controlType:"widget.code.mailConnectERP",id:"mailConnectERP",subTitle:ecount.resource.LBL03638,title:ecount.resource.LBL03638,popupURL:"/WMAIL/Manage/SearchERPID",valueColumn:"USER_ID",labelColumn:"USER_NAME",defaultParam:{SEARCHVALUE:"",SORT_COLUMN:"",isGMC:!0}},companyBizType:{controlType:"widget.code.companyBizType",searchURL:"/Common/Infra/GetListSodukrateForSearch",popupURL:"/ECERP/Popup.Search/EMG001P_03",width:450,height:530,subTitle:ecount.resource.LBL04100,valueColumn:"STD_INCM_RT_CD",labelColumn:"DETAIL_NM",defaultParam:{PARAM:"",ATTRIBUTEYEAR:""}},storePickup:{controlType:"widget.code.storePickup",searchURL:"",popupURL:"/ECERP/ESK/ESK001P_11",width:700,height:300,subTitle:ecount.resource.LBL11392,valueColumn:"ADDR_CD",labelColumn:"ADDR1",defaultParam:{PARAM:""}},quickService:{controlType:"widget.code.quickService",searchURL:"",popupURL:"/ECERP/ESK/ESK001P_22",width:600,height:1e3,subTitle:ecount.resource.LBL11956,valueColumn:"QUIC_ZONE",labelColumn:"QUIC_ZONE_NM",defaultParam:{PARAM:""}},bundledDelivery:{controlType:"widget.code.bundledDelivery",searchURL:"",popupURL:"/ECERP/ESK/ESK001P_19",width:700,height:300,subTitle:ecount.resource.LBL11955,valueColumn:"ITEM_SEQ",labelColumn:"NAME",defaultParam:{PARAM:""}},category:{controlType:"widget.code.category",popupURL:"/ECERP/ESK/ESK001P_07",searchURL:"",id:"category",name:"category",width:1e3,height:500,subTitle:ecount.resource.LBL06286,valueColumn:"CATEGORY",labelColumn:"LABEL",defaultParam:{PARAM:""}},notice:{controlType:"widget.code.notice",popupURL:"/ECERP/ESK/ESK001P_24",searchURL:"",id:"notice",name:"notice",width:700,height:300,subTitle:ecount.resource.LBL11757,valueColumn:"NOTICE_CD",labelColumn:"NOTICE_LABEL",defaultParam:{PARAM:""}},gallery:{controlType:"widget.code.gallery",popupURL:"/ECERP/ESK/ESK001P_25",searchURL:"",id:"gallery",name:"gallery",width:700,height:300,subTitle:ecount.resource.LBL11758,valueColumn:"GALLERY_CD",labelColumn:"GALLERY_LABEL",defaultParam:{PARAM:""}},boardMenuCode:{name:"MENU_CD",searchURL:"/SVC/Groupware/Common/GetListCategoryMenu",controlType:"widget.code.boardMenuCode",id:"txtMenuCode",subTitle:"Main Menu",popupURL:"/ECERP/EGM/EGM023P_01",defaultValue:"",defaultLabel:"",valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",defaultParam:{Request:{Data:{PARAM:"",SORT_COLUMN:"SORT",SORT_TYPE:"A",PARENT_MENU_SEQ:38}},isApplyDisplayFlag:!0}},boardListCode:{name:"BOARD_CD",searchURL:"/Groupware/Common/GetListFormOutSetByMenuType",controlType:"widget.code.boardListCode",groupId:null,id:"txtboardCd",subTitle:"board",popupURL:"/ECERP/ESC/ESC001P_407",width:700,height:700,defaultValue:"",defaultLabel:"",valueColumn:"BOARD_CD",labelColumn:"BOARD_NM",defaultParam:{PARAM:"",PAGE_SIZE:50,PAGE_CURRENT:1,MENU_TYPE:"S",isApplyDisplayFlag:!0}},codeType:{name:"USERTABLE_CD",searchURL:"/Groupware/Common/GetListUserTableForSearch",controlType:"widget.code.codeType",id:"USERTABLE_CD",subTitle:"Code Type",popupURL:"/ECERP/EGM/EGM023P_14",defaultValue:"",defaultLabel:"",valueColumn:"USERTABLE_CD",labelColumn:"USERTABLE_NM",defaultParam:{PARAM:"",SORT_COLUMN:"SORT",SORT_TYPE:"A",isApplyDisplayFlag:!0}},codeTypeData:{name:"ITEM_CD",searchURL:"/Groupware/Common/GetListUserTableCodeForSearch",controlType:"widget.code.codeTypeData",id:"txtUserTableCodeData",subTitle:"Code Type Data",popupURL:"/ECERP/EGM/EGM023P_06",defaultValue:"",defaultLabel:"",valueColumn:"ITEM_CD",labelColumn:"ITEM_NM",defaultParam:{PARAM:"",SORT_COLUMN:"SORT",SORT_TYPE:"A",USERTABLE_CD:0,isApplyDisplayFlag:!0}},progressStatus:{name:"progressStatus",searchURL:"/Groupware/Common/GetListBoardStatusForSearch",controlType:"widget.code.progressStatus",id:"progressStatus",subTitle:ecount.resource.LBL02686,title:ecount.resource.LBL02686,popupURL:"/ECERP/EGM/EGM023P_03",valueColumn:"STATUS_CD",labelColumn:"STATUS_NM",defaultParam:{PARAM:"",isApplyDisplayFlag:!0}},searchMenu:{name:"searchMenu",searchURL:"/SelfCustomize/Config/GetListMenuSearch",controlType:"widget.code.searchMenu",id:"searchMenu",subTitle:ecount.resource.LBL01635,title:ecount.resource.LBL01635,popupURL:"/ECERP/EMG/EMG007P",valueColumn:"MENU_SEQ",labelColumn:"MENU_NAME",defaultParam:{PARAM:"",MENU_SEQ:0,MENU_DEPTH:0}},billingUnit:{name:"billingUnit",searchURL:"/Account/Basic/GetListUnitForSearch",controlType:"widget.code.billingUnit",id:"billingUnit",subTitle:ecount.resource.LBL12124,title:ecount.resource.LBL12124,popupURL:"/ECERP/Popup.Search/EM002P",valueColumn:"CT_CD",labelColumn:"CT_CDNM",defaultParam:{PARAM:"",SORT_COLUMN:"",CD_TYPE:2}},announcement:{popupURL:"/ECERP/ESK/ESK001P_33",width:700,height:300,valueColumn:"DATA_CD",labelColumn:"DATA_LABEL",defaultParam:{PARAM:""}},program:{popupURL:"/ECERP/EAM/EAM007P_07",searchURL:"/ECAPI/Admin/MenuManage/GetListProgramForSearch",width:700,height:300,valueColumn:"PROGRAM_SEQ",labelColumn:"PROGRAM_ID",defaultParam:{PARAM:"",LAN_TYPE:""},id:"program",name:"program",subTitle:""},language:{name:"language",controlType:"widget.code.language",searchURL:"",popupURL:"/ECERP/ESC/ESC003P_03_01.js",valueColumn:"LAN_NAME1",labelColumn:"LAN_NAME1",width:450,height:530,defaultParam:{PARAM:""}},languageDetail:{name:"languageDetail",controlType:"widget.code.languageDetail",searchURL:"/SelfCustomize/Config/GetLanguageDetail",popupURL:"/ECERP/popup.search/EGD002P_03",valueColumn:"LANGUAGE_CODE",labelColumn:"LANGUAGE_NAME",id:"LANGUAGE_CODE",name:"LANGUAGE_NAME",width:450,height:350,defaultParam:{PARAM:""}},webmailLanguageDetail:{name:"webmailLanguageDetail",controlType:"widget.code.webmailLanguageDetail",searchURL:"/WMAPI/Setting/GetLanguageList",popupURL:"/WMAIL/Setting/LanguageSettings",valueColumn:"LAN_TYPE",labelColumn:"LAN_DES",id:"LAN_TYPE",name:"LAN_DES",width:450,height:350,defaultParam:{PARAM:""}},searchAddBusinessNo:{name:"searchAddBusinessNo",searchURL:"/ECAPI/SelfCustomize/Config/GetOtherEstablishmentsList",controlType:"widget.code.searchAddBusinessNo",data:null,id:"searchAddBusinessNo",subTitle:"세무신고사업장",title:"세무신고사업장",popupURL:"/ECERP/ETA/ETA005P_01",popupType:!1,width:450,height:530,defaultParam:null},roadname:{id:"roadname",name:"roadname",controlType:"widget.code.roadname",searchURL:"/Common/Infra/GetListCityBySearch",popupURL:"/ECERP/Popup.Search/CM004P",valueColumn:"ROAD_CODE",labelColumn:"ROAD_CODE",defaultParam:{isOnlyRoadname:!0}},mailUser:{id:"mailUser",name:"mailUser",controlType:"widget.code.mailUser",searchURL:"/WMAPI/Manage/GetListSearchUser",popupURL:"/WMAIL/Manage/SearchUser",valueColumn:"USER_ID",labelColumn:"USER_NAME",width:400,height:700,subTitle:"",defaultParam:{SEARCH:"",EMAIL:"",USER_NAME:""}},groupUser:{id:"groupUser",name:"groupUser",controlType:"widget.code.groupUser",searchURL:"/SVC/SelfCustomize/User/GetListGroupAuthorization",popupURL:"/ECERP/SVC/EMM/EMM004P_01",valueColumn:"CODE_NO",labelColumn:"CODE_DES",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100,PARAM:"",SORT_COLUMN:"CODE_NO",SORT_TYPE:"A",width:500}}}},mgmtProcess:{name:"mgmtProcess",controlType:"widget.code.mgmtProcess",id:"mgmtProcess",subTitle:ecount.resource.LBL08724,title:ecount.resource.LBL08724,popupURL:"/ECERP/SVC/ESO/ESO002P_02",valueColumn:"TYPE_CD",isSVC:!0,defaultParam:null,labelColumn:"TYPE_NM",initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},taxType:{searchURL:"/Account/Basic/GetListCom011ForTaxType",controlType:"widget.code.taxType",popupURL:"/ECERP/Popup.Search/CM023P",valueColumn:"VAT_CODE",labelColumn:"VAT_DES",checkMaxCount:100,defaultParam:{PARAM:""}},taxTypeGroup:{searchURL:"/Account/Basic/GetListCom011ClassForTaxTypeGroup",controlType:"widget.code.taxTypeGroup",popupURL:"/ECERP/Popup.Search/CM023P_01",valueColumn:"VAT_CLASS_CD",labelColumn:"VAT_CLASS_DES",checkMaxCount:100,defaultParam:{PARAM:""}},companyByZone:{isGMC:!0,controlType:"widget.code.companyByZone",popupURL:"/ECERP/EAA/EAA046P_01",searchURL:"/Admin/Common/GetAdminCompanyList",width:380,height:600,subTitle:"",valueColumn:"COM_CODE",labelColumn:"COM_CODE",defaultParam:{PARAM:""}},adminID:{controlType:"widget.code.adminID",popupURL:"/ECERP/EAA/EAA046P_02",searchURL:"/Admin/Common/GetAdminIdSearchList",width:350,height:600,subTitle:"",valueColumn:"ID",labelColumn:"UNAME",defaultParam:{PARAM:""}},resource:{name:"resouce",searchURL:"/Admin/MenuManage/GetListResource",controlType:"widget.code.resource",id:"resouce",popupURL:"/ECERP/EAM/EAM018P_02",valueColumn:"RESX_CODE",labelColumn:"KO_RESX_DES",width:800,height:600,isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:""}},workType:{controlType:"widget.code.workType",id:"workType",name:"workType",popupURL:"/ECERP/SVC/EAB/EAB010P_01_01",searchURL:"/SVC/Admin/Manage/GetListEC_CLNT_MGNT_CD_M",width:350,height:600,subTitle:"",valueColumn:"TYPE_CODE",labelColumn:"TYPE_NAME",initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,Data:{SORT_COLUMN:"TYPE_CODE",SORT_TYPE:"A",PARAM:"",PARAM2:"",PARAM3:"",USE_SPNS_TF:"Y"}}}}},picManage:{controlType:"widget.code.picManage",popupURL:"/ECERP/EAB/EAB010P_01_02",searchURL:"/Admin/Manage/GetListServiceType",width:350,height:600,subTitle:"",valueColumn:"E_NAME",labelColumn:"E_NAME",defaultParam:{PARAM:"",PARAM1:"",PARAM2:"",PARAM3:""}},userReportGroup:{name:"userReportGroup",searchURL:"/Account/Basic/GetListCofmUserReportAcc",controlType:"widget.code.userReportGroup",popupURL:"/ECERP/EBZ/EBZ071P_03",valueColumn:"id",labelColumn:"text",defaultParam:{CD_PARENT:"ROOT",YN_USE:"N",SEARCHVALUE:""}},serviceMenu:{name:"serviceMenu",searchURL:"/Admin/Manage/GetListServiceManageMenu",controlType:"widget.code.serviceMenu",id:"serviceMenu",subTitle:"Menu List",title:"Menu List",popupURL:"/ECERP/ECU/ECU302P_02",valueColumn:"MENU_CD",labelColumn:"MENU_NM",defaultParam:{PARAM:""}},serviceMenuCountry:{name:"serviceMenuCountry",searchURL:"/Admin/Manage/GetListCountryForServiceManageMenu",controlType:"widget.code.serviceMenuCountry",id:"serviceMenuCountry",subTitle:"Search Country Code",title:"Search Country Code",popupURL:"/ECERP/ECU/ECU302P_04",valueColumn:"COUNTRY_CD",labelColumn:"COUNTRY_NM",defaultParam:{PARAM:""}},custBusinessNo:{controlType:"widget.code.custBusinessNo",popupURL:"/ECERP/Popup.Search/EAA031P",searchURL:"/Admin/Manage/GetListCustForBusinessNo",width:350,height:600,subTitle:"",valueColumn:"BUSINESS_NO",labelColumn:"CUST_NAME",defaultParam:{PARAM:""},isFixedZone:{ZONE:"E"}},paidLeave:{name:"paidLeave",searchURL:"/SVC/Manage/Common/GetDataWidgetPaidLeave",controlType:"widget.code.paidLeave",popupURL:"/ECERP/SVC/Popup/EPA032P",valueColumn:"REST_CD",labelColumn:"REST_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!1,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",isOpenSearchYN:"Y",isNewDisplayFlag:!0}}}},accountParent:{name:"ACCOUNT",searchURL:"/Account/Basic/GetListAccountCodeForSearch",controlType:"widget.code.accountParent",id:"txtAccountParent",subTitle:"계정검색",popupURL:"/ECERP/Popup.Search/CM007P_01",valueColumn:"GYE_CODE",labelColumn:"GYE_DES",defaultParam:{TYPE:"",PAGE_FLAG:"",CALL_TYPE:"",GYE_CODE:"",CUST_CD:"",TRX_TYPE:"",SER_NO:"",BUSINESS_NO:"",isTopTen:!1,isPutWhenOneDataFlag:!0,isSpecialCase:!1,isViewNoChildParent:!0}},carNum:{searchURL:"/Groupware/Equipment/GetListCarNumberForSearch",controlType:"widget.code.carNum",popupURL:"/ECERP/Popup.Search/EGK002P_01",valueColumn:"CAR_NUMBER",labelColumn:"CAR_DES",checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:"",DEL_FLAG:"N"}},purPose:{searchURL:"/Groupware/Equipment/GetListCarPurPoseForSearch",controlType:"widget.code.purPose",popupURL:"/ECERP/Popup.Search/EGK002P_03",valueColumn:"PURPOSE_CD",labelColumn:"PURPOSE_DES",checkMaxCount:20,isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:"",DEL_FLAG:"N"}},serviceType:{name:"serviceType",searchURL:"/GMCAPI/Admin/Manage/GetSearchServiceTypeList",controlType:"widget.code.serviceType",id:"serviceType",subTitle:"Search Service Type",title:"Search Service Type",popupURL:"/ECERP/EAA/EAA002P_01",valueColumn:"ID",labelColumn:"SERVICESTATUS",defaultParam:{PARAM:""}},calculatePaidLeave:{name:"calculatePaidLeave",searchURL:"/Manage/TimeMgmt/GetCalculatePaidleaveSearch",controlType:"widget.code.calculatepaidleave",popupURL:"/ECERP/EPA/EPA041P_02",valueColumn:"REST_CALC_CD",labelColumn:"REST_CALC_DES",width:600,height:600,isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:"",isOpenSearchYN:"Y",isNewDisplayFlag:!0}},earning:{controlType:"widget.code.earning",searchURL:"/Manage/Payroll/GetListEarningsForSearch",popupURL:"/ECERP/EPL/EPL015P_03",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NM",defaultParam:{PARAM:""}},payrollEmp:{searchURL:"/Manage/Payroll/GetListEmployeeForSearch",controlType:"widget.code.payrollEmp",popupURL:"/ECERP/EPL/EPL015P_02",valueColumn:"EMP_CD",labelColumn:"EMP_KNAME",defaultParam:{PARAM:""}},timeCode:{name:"timeCode",searchURL:"/SVC/Manage/Common/GetListSearchTimeCode",controlType:"widget.code.timeCode",popupURL:"/ECERP/SVC/Popup/EPA030P_01",valueColumn:"ATTEND_CD",labelColumn:"ATTEND_DES",checkMaxCount:100,isCheckBoxDisplayFlag:!1,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{PARAM:"",isOpenSearchYN:"Y",isApplyDisplayFlag:!0,ChkFlag:"S"}}}},appointCust:{name:"APPOINT_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.appointCust",id:"",subID:"",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{Request:{Data:{CODE_CLASS:"I30",custGroupCodeClass:"I30",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0}}}},joinCust:{name:"JOIN_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.joinCust",id:"",subID:"",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{Request:{Data:{CODE_CLASS:"I02",custGroupCodeClass:"I02",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0}}}},rankCust:{name:"RANK_CUST",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.rankCust",id:"",subID:"",subTitle:"거래처그룹",popupURL:"/ECERP/SVC/Popup/CM002P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:{Request:{Data:{CODE_CLASS:"I01",custGroupCodeClass:"I01",DEL_FLAG:"N",PROD_SEARCH:"",PARAM:"",PAGE_SIZE:100,PAGE_CURRENT:0}}}},accountProjectPlan:{searchURL:"/Account/Basic/GetListAccountProjectPlanAcc002",controlType:"widget.code.accountProjectPlan",popupURL:"/ECERP/ESQ/ESQ600P_02",valueColumn:"GYE_CODE",labelColumn:"GYE_DES",defaultParam:{PARAM:""}},scheduleType:{searchURL:"/Groupware/Schedule/GetListScheduleType",controlType:"widget.code.scheduleType",popupURL:"/ECERP/EGJ/EGJ006P_18",valueColumn:"VCTYPE",labelColumn:"VCTYPE_DES",defaultValue:"",defaultLabel:"",defaultParam:{}},scheduleLabel:{searchURL:"/Groupware/Schedule/GetListScheduleLabel",controlType:"widget.code.scheduleLabel",popupURL:"/ECERP/EGJ/EGJ006P_16",valueColumn:"LABEL_CD",labelColumn:"LABEL_NM",bgColorColumn:"LABEL_COLOR",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:{PARAM:""}},enoteLabel:{searchURL:"/SVC/Groupware/ENote/GetListENoteLabel",controlType:"widget.code.enoteLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",valueColumn:"LBL_ID",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100}}}},equipmentInfo:{searchURL:"/Groupware/Equipment/GetListEquipment",controlType:"widget.code.equipmentInfo",popupURL:"/ECERP/EGK/EGK001P_03",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultValue:"",defaultLabel:"",defaultParam:{}},equipmentLabel:{searchURL:"/SVC/Groupware/Common/GetListLabel",controlType:"widget.code.equipmentLabel",popupURL:"/ECERP/SVC/ENT/ENT001P",valueColumn:"LBL_CD",labelColumn:"LBL_NM",bgColorColumn:"COLOR_CD",checkMaxCount:100,width:450,height:530,subTitle:ecount.resource.LBL10187,defaultParam:{PARAM:""},isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,checkMaxCount:100,Data:{openFrom:"O"}}}}},lastCounselor:{searchURL:"/Service/CustomerCenter/GetListCounselorRecently",controlType:"widget.code.lastCounselor",popupURL:"/ECERP/POPUP.SEARCH/ECU005P_01",valueColumn:"ECOUNT_ID",labelColumn:"ECOUNT_NAME",defaultParam:{PARAM:""},responseFilter:function(n){return n.map(function(n){return{label:n.ECOUNT_NAME,value:n.ECOUNT_ID}})}},counselor:{searchURL:"/Service/CustomerCenter/GetListCounselor",controlType:"widget.code.counselor",popupURL:"/ECERP/POPUP.SEARCH/ECU005P_02",valueColumn:"ECOUNT_ID",labelColumn:"ECOUNT_NAME",defaultParam:{PARAM:""},isGMC:!0,responseFilter:function(n){return n.map(function(n){return{label:n.ECOUNT_NAME,value:n.ECOUNT_ID}})}},trackingType:{searchURL:"/Account/ExpenseMgmt/GetListBySearchTrackingType",controlType:"widget.code.trackingType",popupURL:"/ECERP/EBO/EBO002P_02",checkMaxCount:100,isCheckBoxDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!0,isApplyDisplayFlag:!1,ispopupCloseUse:!1,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"CTRLTYPE_CD",labelColumn:"CTRLTYPE_NM"},expenseCode:{searchURL:"/Account/ExpenseMgmt/GetListBySearchExpenseCode",controlType:"widget.code.expenseCode",popupURL:"/ECERP/EBO/EBO003P_02",checkMaxCount:100,width:770,height:600,isCheckBoxDisplayFlag:!1,isIncludeInactive:!0,isNewDisplayFlag:!0,isApplyDisplayFlag:!1,ispopupCloseUse:!1,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"COST_CD",labelColumn:"COST_NM"},expenseGroupCode:{searchURL:"/Account/ExpenseMgmt/GetListBySearchExpenseGroupCode",controlType:"widget.code.expenseGroupCode",popupURL:"/ECERP/EBO/EBO003P_03",checkMaxCount:100,isIncludeInactive:!1,isNewDisplayFlag:!1,defaultParam:{keyword:"",keyword2:"",keyword3:"",OPEN_SEARCH_YN:"N",PAGE_CURRENT:1,PAGE_SIZE:100},valueColumn:"COSTGRP_CD",labelColumn:"COSTGRP_NM"},addFieldType:{searchURL:"/Account/Basic/GetListForSearchCmcdItemTypePopup",controlType:"widget.code.addFieldType",popupURL:"/ECERP/Popup.Search/EBA070P_08",valueColumn:"ITEM_TYPE_CD",labelColumn:"ITEM_TYPE_NM",defaultParam:{MENU_TYPE:"",PARAM1:"",PARAM2:"",PARAM3:""}},codeTypeText:{searchURL:"/Inventory/SaleOrder/GetListCofsAddItem",controlType:"widget.code.codeTypeText",id:null,subTitle:"생산공정",popupURL:"/ECERP/ESD/ESD029P_02",valueColumn:"ADD_CD",labelColumn:"ADD_NAME",codeClcodeClass:"L03",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",SORT_COLUMN:"ADD_CD",SORT_TYPE:"A",CODE_CLASS:"L21",custGroupCodeClass:"L21",titlename:ecount.resource.LBL01541}}}}},billSearch:{name:"billSearch",searchURL:"/Account/Notes/GetListRcvIssNoteBalanceForSearch",controlType:"widget.code.billSearch",id:"txtBillSearch",subTitle:"어음번호검색",popupURL:"/ECERP/Popup.Search/EB012P",valueColumn:"MANAGE_NO",labelColumn:"CUST_NAME",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{MANAGE_NO_TYPE:"RN",PARAM:"",MANAGE_NO:"",CUST_DES:""}},addColumn:{name:"addColumn",searchURL:"",controlType:"widget.code.addColumn",id:"addColumn",subTitle:ecount.resource.LBL05334,title:ecount.resource.LBL05334,popupURL:"/ECERP/SVC/Popup/FM047P_01",valueColumn:"COL_CD",labelColumn:"TITLE",defaultParam:{isSingleSelet:!0},removeAll:function(n){(!this.removeCallback||this.removeCallback(this.getSelectedItem()))&&this.removeCode(null,n)}},relatedDateColumn:{name:"relatedDateColumn",searchURL:"",controlType:"",id:"RelatedDateColumn",subTitle:"항목검색",title:"항목검색",popupURL:"/ECERP/SVC/Popup/FM072P_01",valueColumn:"COL_CD",labelColumn:"TITLE"},businessType:{name:"businessType",searchURL:"/TaxOthers/Basic/GetCmcdTaxListByPopup",controlType:"widget.code.businessType",data:null,groupId:null,id:"businessType",popupURL:"/ECERP/ETG/ETG002P_02",valueColumn:"ITEM1",labelColumn:"ITEM2",defaultParam:{CLASS_CD:"TX01",PARAM:"",PARAM2:"",PARAM3:"",SORT_COLUMN:"ITEM1",SORT_TYPE:"A"}},taxpayerType:{name:"taxpayerType",searchURL:"/TaxOthers/Basic/GetCmcdTaxListByPopup",controlType:"widget.code.taxpayerType",data:null,groupId:null,id:"taxpayerType",popupURL:"/ECERP/ETG/ETG002P_01",valueColumn:"ITEM1",labelColumn:"ITEM2",width:800,height:550,defaultParam:{CLASS_CD:"TX09",PARAM:"",PARAM2:"",PARAM3:"",SORT_COLUMN:"ITEM1",SORT_TYPE:"A"}},searchIncomeEarner:{name:"searchIncomeEarner",searchURL:"/Account/Basic/GetListForSearchIncomeEarner",controlType:"widget.code.searchIncomeEarner",data:null,groupId:null,id:"searchIncomeEarner",subTitle:"소득자 검색",title:"소득자 검색",popupURL:"/ECERP/Popup.Common/ET002P",popupType:!1,valueColumn:"PER_NO",labelColumn:"PER_NAME",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{PARAM:""}},searchBusinessType:{name:"searchBusinessType",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchBusinessType",data:null,groupId:null,id:"searchBusinessType",subTitle:"업종코드 검색",title:"업종코드 검색",popupURL:"/ECERP/ETG/ETG009P_06",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"TX01",PARAM:""}},searchTaxationCode:{name:"searchTaxationCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchTaxationCode",data:null,groupId:null,id:"searchTaxationCode",subTitle:"과세구분코드 검색",title:"과세구분코드 검색",popupURL:"/ECERP/ETG/ETG009P_01",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"TX02",PARAM:""}},searchIncomeCode:{name:"searchIncomeCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchIncomeCode",data:null,groupId:null,id:"searchIncomeCode",subTitle:"소득코드 검색",title:"소득코드 검색",popupURL:"/ECERP/ETG/ETG009P_03",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"",PARAM:""}},searchSpecialTaxationCode:{name:"searchSpecialTaxationCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchSpecialTaxationCode",data:null,groupId:null,id:"searchSpecialTaxationCode",subTitle:"조세특례코드 검색",title:"조세특례코드 검색",popupURL:"/ECERP/ETG/ETG009P_05",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"TX04",PARAM:""}},searchProdCode:{name:"searchProdCode",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchProdCode",data:null,groupId:null,id:"searchProdCode",subTitle:"금융상품코드 검색",title:"금융상품코드 검색",popupURL:"/ECERP/ETG/ETG009P_04",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"TX08",PARAM:""}},searchIntersetFlag:{name:"searchIntersetFlag",searchURL:"/TaxOthers/Basic/GetCmcdTaxList",controlType:"widget.code.searchIntersetFlag",data:null,groupId:null,id:"searchIntersetFlag",subTitle:"채권이자구분 검색",title:"채권이자구분 검색",popupURL:"/ECERP/ETG/ETG009P_02",popupType:!1,valueColumn:"ITEM1",labelColumn:"ITEM2",checkMaxCount:50,isCheckBoxDisplayFlag:!1,defaultParam:{CLASS_CD:"TX05",PARAM:""}},svcType:{popupURL:"/ECERP/EAA/EAA063P_01",valueColumn:"SVC_TYPE_CD",labelColumn:"SVC_TYPE_NM",searchURL:"/Admin/Manage/GetListServiceTypeCode",isGMC:!0,controlType:"widget.code.svcType",name:"svcType",id:"svcType",subTitle:"",groupId:"",defaultParam:{SEARCH_DEL_TF:0}},svcTypeGrp:{popupURL:"/ECERP/EAA/EAA063P_02",valueColumn:"SVC_TYPE_GRP_CD",labelColumn:"SVC_TYPE_GRP_NM",searchURL:"/Admin/Manage/GetListServiceTypeGroupCode",isGMC:!0,controlType:"widget.code.svcTypeGrp",name:"svcTypeGrp",id:"svcTypeGrp",subTitle:"",groupId:"",defaultParam:{SEARCH_DEL_TF:0}},EmployeeType:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.EmployeeType",name:"EmployeeType",id:"EmployeeType",popupURL:"/ECERP/SVC/Popup/CM002P",groupId:null,subTitle:"",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,keyword:"",Data:{CODE_CLASS:"I10",PARAM:"",DEL_FLAG:"N"}}}}},einvoiceCust:{name:"einvoiceCust",controlType:"widget.code.einvoiceCust",data:null,groupId:null,id:"einvoiceCust",searchURL:"/SVC/Invoice/TW/GetListCocsCustInfo",popupURL:"/ECINVOICE/SVC/TW/TW900P_01",valueColumn:"CUST_CD",labelColumn:"CUST_NM",width:800,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceItem:{name:"einvoiceItem",controlType:"widget.code.einvoiceItem",groupId:"einvoiceItem",id:"einvoiceItem",searchURL:"/SVC/Invoice/TW/GetListStpdProductInfo",popupURL:"/ECINVOICE/SVC/TW/TW900P_02",valueColumn:"PROD_CD",labelColumn:"PROD_NM",width:800,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceCode:{name:"einvoiceCode",controlType:"widget.code.einvoiceCode",groupId:"einvoiceCode",id:"einvoiceCode",searchURL:"/SVC/Invoice/TW/GetListTWInvoiceSlipDisposal",popupURL:"/ECINVOICE/SVC/TW/TW900P_03",valueColumn:"CRE_NO_USE_SEQ",labelColumn:"TGT_NO",width:950,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceSlipDetail:{name:"einvoiceSlipDetail",controlType:"widget.code.einvoiceSlipDetail",groupId:"einvoiceSlipDetail",id:"einvoiceSlipDetail",searchURL:"/SVC/Invoice/TW/GetListTWInvoiceSlipDetailDisposal",popupURL:"/ECINVOICE/SVC/TW/TW900P_04",valueColumn:"INVOICE_NO",labelColumn:"INVOICE_NO",isSVC:!0,width:1120,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},einvoiceCodeRange:{name:"einvoiceCodeRange",controlType:"widget.code.einvoiceCodeRange",groupId:"einvoiceCodeRange",id:"einvoiceCodeRange",searchURL:"/SVC/Invoice/TW/GetListStpdInvoiceGetNoInfo",popupURL:"/ECINVOICE/SVC/TW/TW900P_06",valueColumn:"INVOICE_SEQ",labelColumn:"INVOICE_RANGE",width:1120,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},FieldApply:{searchURL:"/SVC/Manage/Allowance/GetListXFormulaItemsForApply",controlType:"widget.code.FieldApply",name:"FieldApply",id:"FieldApply",popupURL:"/ECERP/SVC/EPA/EPA006P_05",groupId:null,subTitle:"",valueColumn:"CODE_NO",labelColumn:"CODE_DES",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,keyword:"",Data:{TAX_BRACKET_DETAIL_CLASS:"A",PARAM:"",DEL_FLAG:"N"}}}}},nationality:{popupURL:"/ECERP/SVC/EPB/EPB008P",valueColumn:"",labelColumn:"",searchURL:"",controlType:"widget.code.nationality",name:"nationality",id:"nationality",subTitle:ecount.resource.LBL06303,groupId:"nationality",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isNational:!0}}}}},residenceCountry:{popupURL:"/ECERP/SVC/EPB/EPB008P",valueColumn:"",labelColumn:"",searchURL:"",controlType:"widget.code.residenceCountry",name:"residenceCountry",id:"residenceCountry",subTitle:ecount.resource.LBL06365,groupId:"residenceCountry",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isNational:!1}}}}},searchSUMR:{name:"SEARCH_SUMR",id:"SEARCH_SUMR",searchURL:"/SVC/Common/Form/GetListCofsColumnsetSearchSumr",popupURL:"/ECERP/SVC/Popup/FM075P_01",controlType:"widget.code.searchSUMR",title:ecount.resource.LBL15081,subTitle:ecount.resource.LBL15081,valueColumn:"COL_CD",labelColumn:"TITLE",defaultParam:null,initCodeOptions:function(){this.defaultParam={isSingleSelet:!0,Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,keyword:"",Data:{FORM_TYPE:"",PARAM:""}}}}},totalCondition:{name:"TOTAL_CONDITION",id:"TOTAL_CONDITION",searchURL:"",popupURL:"/ECERP/SVC/Popup/FM057P_06",controlType:"widget.code.totalCondition",title:ecount.resource.LBL15081,subTitle:ecount.resource.LBL15081,valueColumn:"SUMR_SEQ",labelColumn:"TITLE",defaultParam:null,initCodeOptions:function(){this.defaultParam={isSingleSelet:!0,Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,keyword:"",Data:{FORM_TYPE:"",PARAM:""}}}}},payStdTpnm:{searchURL:"/SVC/Manage/Pay/GetDataPayrollFrequency",controlType:"widget.code.payStdTpnm",popupURL:"/ECERP/SVC/EPB/EPB005P",name:"payStdTpnm",id:"payStdTpnm",groupId:null,subTitle:"",valueColumn:"PAY_STD_TPCD",labelColumn:"PAY_STD_TPNM",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{PAGE_SIZE:100,PAGE_CURRENT:1,USE_TF:1}}}}},earningGroup:{searchURL:"/SVC/Manage/Allowance/GetAllodeduGroupUntyForSearch",controlType:"widget.code.earningGroup",popupURL:"/ECERP/SVC/EPA/EPA003P",name:"earningGroup",id:"earningGroup",groupId:null,subTitle:"",valueColumn:"ALLODEDU_GRP_CD",labelColumn:"GRP_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,Data:{PAGE_SIZE:100,PAGE_CURRENT:1,ALLODEDU_GUBUN:1,OPEN_SEARCH_YN:"Y",PARAM:"",USE_TF:1}}}}},deductionGroup:{searchURL:"/SVC/Manage/Allowance/GetAllodeduGroupUntyForSearch",controlType:"widget.code.deductionGroup",popupURL:"/ECERP/SVC/EPA/EPA003P",name:"deductionGroup",id:"deductionGroup",groupId:null,subTitle:"",valueColumn:"ALLODEDU_GRP_CD",labelColumn:"GRP_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,Data:{PAGE_SIZE:100,PAGE_CURRENT:1,ALLODEDU_GUBUN:2,OPEN_SEARCH_YN:"Y",PARAM:"",USE_TF:1}}}}},userPayLanguage:{searchURL:"",controlType:"widget.code.userPayLanguage",popupURL:"/ECERP/SVC/EPB/EPB006P",name:"userPayLanguage",id:"userPayLanguage",groupId:null,subTitle:"",valueColumn:"LANGUAGE_CODE",labelColumn:"LANGUAGE_NAME",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{keyword:""}}}},earningsCode:{searchURL:"/SVC/Manage/Allowance/GetListAllowanceUntySearch",controlType:"widget.code.earningsCode",popupURL:"/ECERP/SVC/EPA/EPA009P",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NAME",name:"earningsCode",id:"earningsCode",width:550,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",UseApply:!0,UseNewAndEdit:!1,Data:{ALLODEDU_GUBUN:1,IS_SHOW_ALL:!1,IS_FROM_INPUT:!1,USE_TF:!0}}}}},deductionCode:{searchURL:"/SVC/Manage/Allowance/GetListAllowanceUntySearch",controlType:"widget.code.deductionCode",popupURL:"/ECERP/SVC/EPA/EPA009P",valueColumn:"ALLODEDU_CD",labelColumn:"ALLODEDU_NAME",name:"deductionCode",id:"deductionCode",width:550,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{QUICK_TXT:"",UseApply:!0,UseNewAndEdit:!1,Data:{ALLODEDU_GUBUN:2,IS_SHOW_ALL:!1,IS_FROM_INPUT:!1,USE_TF:!0}}}}},reducedCode:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.code.reducedCode",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",name:"reducedCode",id:"reducedCode",width:1150,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{keyword2:"2",Data:{TAX_TYPE:2}}}}},ntaxrdc:{searchURL:"/SVC/Manage/Allowance/GetTaxExamtionType",controlType:"widget.code.ntaxrdc",popupURL:"/ECERP/SVC/EPA/EPA005P",valueColumn:"NTAXRDC_CD",labelColumn:"NTAXRDC_TYPE_NM",name:"ntaxrdc",id:"ntaxrdc",width:800,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",TAX_TYPE:"1",isApplyDisplayFlag:!1,isIncludeInactive:!0}}}}},attendTimeCode:{searchURL:"/SVC/Manage/Attendance/GetListInsa501ForSearch",controlType:"widget.code.attendTimeCode",popupURL:"/ECERP/SVC/EPD/EPD001P",valueColumn:"CODE",labelColumn:"DES",width:550,isApplyDisplayFlag:!1,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,Data:{SORT_COLUMN:"CODE",SORT_TYPE:"A",CALC_TYPE:1,PARAM:"",PARAM2:"",PARAM3:""}}}}},einvoiceDonation:{name:"einvoiceDonation",controlType:"widget.code.einvoiceDonation",data:null,groupId:null,id:"einvoiceDonation",searchURL:"/SVC/Invoice/TW/GetListComnDonateOrg",popupURL:"/ECINVOICE/SVC/TW/TW900P_11",valueColumn:"DON_ORGAN_CD",labelColumn:"DON_ORGAN_NM",width:800,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},twEInvoiceDonation:{name:"twEInvoiceDonation",controlType:"widget.code.twEInvoiceDonation",data:null,groupId:null,id:"twEInvoiceDonation",searchURL:"/SVC/Account/Invoice/GetListComnDonateOrg",popupURL:"/ECERP/SVC/EBD/EBD010P_07",valueColumn:"DON_ORGAN_CD",labelColumn:"DON_ORGAN_NM",width:800,height:550,defaultParam:{Request:{Data:{PARAM:""}}}},vnEInvoiceTaxOffice:{searchURL:"/SVC/Account/ETaxInvoice/GetListVnEInvoiceTaxOfficeList",controlType:"widget.code.vnEInvoiceTaxOffice",popupURL:"/ECERP/SVC/ECTAX/ECTAX200P_02",valueColumn:"TAXOFFICE_CD",labelColumn:"TAXOFFICE_NM",id:"vnEInvoiceTaxOffice",name:"vnEInvoiceTaxOffice",height:670,width:850,defaultParam:{Request:{Data:{PARAM:""}}}},counselLabel:{name:"counselLabel",id:"counselLabel",controlType:"widget.code.counselLabel",searchURL:"/Admin/Manage/GetListLabelForSearch",popupURL:"/ECERP/Popup.Search/EAA064P_02",width:450,height:530,isGMC:!0,subTitle:ecount.resource.LBL10187,title:ecount.resource.LBL10187,valueColumn:"LABEL_CD",labelColumn:"LABEL_NM",bgColorColumn:"LABEL_COLOR",defaultParam:{SEARCHTEXT:"",MENU_CD:1}},sampleCode:{name:"sampleCode",searchURL:"/Common/Infra/GetListCountry",controlType:"widget.code.sampleCode",data:null,groupId:null,id:"sampleCode",popupURL:"/ECERP/SAMPLE/WidgetSamplePopup",valueColumn:"STATE_CODE",labelColumn:"STATE_TEXT",checkMaxCount:100,isCheckBoxDisplayFlag:!0,defaultParam:{PARAM:""}},searchEmployee:{name:"searchEmployee",searchURL:"/SVC/Manage/Employee/GetListForSearchRegisterEmployee",controlType:"widget.code.searchEmployee",id:"searchEmployee",subTitle:ecount.resource.LBL04124,title:ecount.resource.LBL04124,popupURL:"/ECERP/SVC/EPB/EPB012P",valueColumn:"INSA001.EMP_CD",labelColumn:"INSA001.EMP_KNAME",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!0,PARAM:""}}}}},codeTypeDIY:{name:"CmAddGroup_01",searchURL:"/SVC/Common/Infra/GetListCmAddGroup",controlType:"widget.code.codeTypeDIY",groupId:null,id:"USERTABLE_CD",subTitle:"Code Type",popupURL:"/ECERP/SVC/POPUP/CmAddGroup_01",defaultValue:"",defaultLabel:"",valueColumn:"USERTABLE_CD",labelColumn:"CD_GRP_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:"",isApplyDisplayFlag:!1}}},codeTypeDIYItem:{name:"CmAddItem_01",searchURL:"/SVC/Common/Infra/GetListCmAddItem",controlType:"widget.code.codeTypeDIYItem",id:"ITEM_CD",subTitle:"",title:"",popupURL:"/ECERP/SVC/POPUP/CmAddItem_01",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={PARAM:"",USERTABLE_CD:"",Request:{Data:{PARAM:"",USERTABLE_CD:""}}}}},codeTypeCommonAddField:{name:"CODETYPECOMMONADDFIELD",searchURL:"/SVC/Common/Infra/GetListCmAddItem",controlType:"widget.code.codeTypeCommonAddField",id:"codeTypeCommonAddField",subTitle:"코드형추가항목",title:"코드형추가항목",popupURL:"/ECERP/SVC/Popup/CmAddItem_01",popupType:!1,valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:null,initCodeOptions:function(){this.defaultParam={isCheckBoxDisplayFlag:!1,PARAM:""}}},donationOrg:{name:"",searchURL:"",controlType:"widget.code.donationOrg",groupId:null,id:"DONATION_ORG",subTitle:"Code Type",popupURL:"",defaultValue:"",defaultLabel:"",valueColumn:"DONATION_ORG",labelColumn:"DONATION_ORG",defaultParam:{PARAM:"",isApplyDisplayFlag:!1}},translip:{popupURL:"/ECERP/SVC/WMS/WMS200P_02",id:"translip",controlType:"widget.code.translip",valueColumn:"SLIP_CD",labelColumn:"MENU_NM",searchURL:"/SVC/Inventory/WMS/GetListWMSTranslipForSearch",defaultParam:{Request:{Data:{PARAM:"",FORM_TYPE:"SP666",FORM_SEQ:1,isERPSlipType:"N"}}},getSelectedItem:function(){var n=ecount.control.codes.c04.prototype.getSelectedItem.apply(this,arguments);return n.length?n.map(function(n){return{label:n.label,value:n.value,sliptype:n.rawData?n.rawData.sliptype:n.sliptype}}):n},addItemExtraData:function(n){return{sliptype:n.rawData?n.rawData.sliptype:n.sliptype}}},bankCodebyNation:{searchURL:"/SVC/Account/Others/GetListBank",controlType:"widget.code.bankCodebyNation",popupURL:"/ECERP/SVC/EBS/EBS002P_03",valueColumn:"BKCODE",labelColumn:"RESX_NM",width:200,id:"bankCodebyNation",name:"bankCodebyNation",subTitle:ecount.resource.LBL02097,title:ecount.resource.LBL02097,defaultParam:{Request:{isApplyDisplayFlag:!1,Data:{CNTY_CD:"",PARAM:""}}}},callbackInquiryMessageType:{popupURL:"/ECERP/SVC/EAA/EAA060P_04_01",valueColumn:"MSG_SNO",labelColumn:"MSG_TTL",searchURL:"/SVC/Admin/Manage/GetListEtBaseMsgSetupM",isGMC:!0,controlType:"widget.code.callbackInquiryMessageType",name:"callbackInquiryMessageType",id:"callbackInquiryMessageType",subTitle:"",groupId:"",defaultParam:{}},multimanualSearch:{popupURL:"/ECERP/SVC/POPUP/EAM007P_08",valueColumn:"BLTN_SNO",labelColumn:"BLTN_TTL",searchURL:"/SVC/Common/Infra/GetListContentsWriteForSearch",controlType:"widget.code.multimanualSearch",name:"multimanualSearch",id:"multimanualSearch",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,BLTN_SNO:"",BLTN_TTL:"",PARAM:""}},filterItem:{popupURL:"/ECERP/SVC/Popup/FilterItemList",valueColumn:"ITEM_SNO",labelColumn:"FILTER_DETAIL_FIELD",searchURL:"/SVC/Common/Infra/GetListFilterItem",controlType:"widget.code.filterItem",name:"filterItem",id:"filterItem",subTitle:"",groupId:"",defaultParam:{FORM_TYPE:""},currentItem:null,addCode:function(){ecount.control.codes.c04.prototype.addCode.apply(this,arguments);this.isEmpty()||(this.currentItem=this.getSelectedItem()[0])},removeAll:function(){ecount.control.codes.c04.prototype.removeAll.apply(this,arguments);this.currentItem=null},addItemExtraData:function(n){var t,i=[];if(t=n.rawData?n.rawData.initControls?n.rawData.initControls:n.rawData:n.initControls,t&&t.type&&t.controlType&&t.id)switch(t.type){case"code":i=[{baseType:t.type,controlType:t.controlType,id:t.id,name:t.id,setAddonTitle:"ecount.resource.LBL03253",dataRules:["required"],codeType:t.codeType?t.codeType:"1",setOptions:t.setOptions}];break;case"text":i=[{baseType:t.type,controlType:"widget.select",id:t.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Contain","ecount.resource.LBL03755"],["NotContain","ecount.resource.LBL04294"]]},{baseType:t.type,controlType:"widget.input",id:t.id,name:t.id,dataRules:["required"]}];break;case"numeric":i=[{baseType:t.type,controlType:"widget.select",id:t.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["=","="],["<>","<>"],[">",">"],[">=",">="],["<","<"],["<=","<="],["Between","~"]]},{baseType:t.type,controlType:"widget.input",id:t.id+"_inputFirst",name:t.id+"_inputFirst",numericOnly:[18,2,"ecount.resource.MSG04553"],dataRules:["required"]},{baseType:t.type,controlType:"widget.label",id:"~",name:"~",label:"~",isHide:!0},{baseType:t.type,controlType:"widget.input",id:t.id+"_inputSecond",name:t.id+"_inputSecond",numericOnly:[18,2,"ecount.resource.MSG04553"],isHide:!0}];break;case"date":i=[{baseType:t.type,controlType:"widget.select",id:t.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Before","ecount.resource.LBL17024"],["After","ecount.resource.LBL17025"],["Within","ecount.resource.LBL17026"]]},{baseType:t.type,controlType:"widget.input",id:t.id,name:t.id,numericOnly:[3,0,"ecount.resource.MSG04553"],dataRules:["required"]}];break;case"calculate":i=[{baseType:t.type,controlType:"widget.link",id:t.id+"_calculate",name:t.id,setAddonTitle:"ecount.resource.LBL03253",label:"ecount.resource.LBL80195"},];break;case"time":i=[{baseType:t.type,controlType:"widget.select.fromToDouble",id:t.id+"_select",name:t.id+"_select"},];break;case"keyword":i=[{baseType:t.type,controlType:"widget.simpleMultiCode.keywordAlert",id:t.id+"_code",name:t.id+"_code",addCode:[]},];break;case"selectKeyword":i=[{baseType:t.type,controlType:"widget.select",id:t.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Contain","ecount.resource.LBL03755"],["NotContain","ecount.resource.LBL04294"]]},{baseType:t.type,controlType:"widget.simpleMultiCode.keywordAlert",id:t.id+"_code",name:t.id+"_code",addCode:[]},];break;case"chatRoomList":i=[{baseType:t.type,controlType:"widget.multiCode.chatRoomList",id:t.id+"_code",name:t.id+"_code"},];break;case"setupLink":i=[{baseType:t.type,controlType:"widget.link",id:t.id+"_setupLink",name:t.id,setAddonTitle:"",label:"ecount.resource.LBL80195"},];break;case"ipSingle":i=[{baseType:t.type,controlType:"widget.select",id:t.id+"select",name:"testSelectName",setAddonTitle:"ecount.resource.LBL03253",option:[["Contain","ecount.resource.LBL03755"],["NotContain","ecount.resource.LBL04294"]],popoverContents:"MSG10957"},{baseType:t.type,controlType:"widget.input",id:t.id,name:t.id,dataRules:["required"]}]}return{initControls:i}},getSelectedItem:function(){var n=ecount.control.codes.c04.prototype.getSelectedItem.apply(this,arguments),t;return n.length&&(t=this.getState(this._IT_SELF,"selectedItem"),n[0].initControls=t.initControls),n}},formMenuListCode:{name:"FORM_TYPE",searchURL:"/SVC/Selfcustomize/Config/GetListComnMenuAuthAndFormType",controlType:"widget.code.formMenuListCode",groupId:null,id:"txtboardCd",subTitle:"board",popupURL:"/ECERP/SVC/ESC/ESC001P_409",width:700,height:700,defaultValue:"",defaultLabel:"",valueColumn:"FORM_TYPE",labelColumn:"MENU_NM",defaultParam:{Request:{Data:{PARAM:"",MENU_SEQ:43}},isApplyDisplayFlag:!0}},menuGroupCode:{name:"MENU_SEQ",searchURL:"/SVC/Selfcustomize/Config/GetListComnMenuAuthForGwCategory",controlType:"widget.code.menuGroupCode",groupId:null,id:"MENU_SEQ",subTitle:"Menu Group",popupURL:"/ECERP/SVC/ESC/ESC001P_410",width:500,height:700,defaultValue:"",defaultLabel:"",valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",defaultParam:{Request:{Data:{PARAM:"",PARENT_MENU_SEQ:43}},isApplyDisplayFlag:!0}},cardCodebyNation:{searchURL:"/SVC/Account/Others/GetListCard",controlType:"widget.code.cardCodebyNation",popupURL:"/ECERP/SVC/EBD/EBD006P_12",valueColumn:"CRDCO_CD",labelColumn:"RESX_NM",id:"cardCodebyNation",name:"cardCodebyNation",subTitle:ecount.resource.LBL02871,title:ecount.resource.LBL02871,defaultParam:{Request:{isApplyDisplayFlag:!1,Data:{CNTY_CD:"",PARAM:""}}}},pgCodebyNation:{searchURL:"/SVC/Account/Others/GetListPg",controlType:"widget.code.pgCodebyNation",popupURL:"/ECERP/SVC/EBS/EBS010P_07",valueColumn:"PGCO_CD",labelColumn:"RESX_CD",id:"pgCodebyNation",name:"pgCodebyNation",subTitle:ecount.resource.LBL11267,title:ecount.resource.LBL11267,defaultParam:{Request:{isApplyDisplayFlag:!1,Data:{CNTY_CD:"",PARAM:""}}}},locationWMS:{name:"locationWMS",searchURL:"/SVC/Inventory/WMS/GetListWMSLocForSearch",controlType:"widget.code.locationWMS",id:"locationWMS",popupURL:"/ECERP/SVC/WMS/WMS200P_01",valueColumn:"LOC_CD",labelColumn:"LOC_LABEL",defaultParam:{Request:{Data:{FORM_TYPE:"SP661",FORM_SEQ:1,isApplyDisplayFlag:!1,isCheckBoxDisplayFlag:!1,DEL_TF:"0",PARAM:"",WMS_ID:""}}}},codeWMS:{name:"codeWMS",searchURL:"/SVC/Inventory/Wms/GetWmsCodeList",controlType:"widget.code.codeWMS",id:"codeWMS",subTitle:ecount.resource.LBL19829,title:ecount.resource.LBL19829,popupURL:"/ECERP/SVC/WMS/WMS100P_04",width:570,valueColumn:"WMS_ID",labelColumn:"WMS_NM",defaultValue:"",defaultLabel:"",defaultParam:{Request:{Data:{PARAM:"",WMS_ID:"",WMS_NM:"",WH_CD:""}}}},relatedCodeTypeColumn:{name:"relatedCodeTypeColumn",searchURL:"",controlType:"widget.code.RelatedCodeTypeColumn",id:"RelatedCodeTypeColumn",subTitle:"항목검색",title:"항목검색",popupURL:"/ECERP/SVC/Popup/FM072P_02",valueColumn:"COL_CD",labelColumn:"TITLE"},addCodeColumn:{name:"addCodeColumn",searchURL:"",controlType:"widget.code.addCodeColumn",id:"addCodeColumn",subTitle:ecount.resource.LBL05334,title:ecount.resource.LBL05334,popupURL:"/ECERP/SVC/Popup/FM047P_02",valueColumn:"COL_CD",labelColumn:"RESX_CD",defaultParam:{isSingleSelet:!0}},calculationFieldCode:{searchURL:"/SVC/Manage/Allowance/GetListCalcItemForSearch",controlType:"widget.code.calculationFieldCode",id:"calculationFieldCode",name:"calculationFieldCode",subTitle:"계산항목코드",popupURL:"/ECERP/SVC/EPA/EPA001P_03",valueColumn:"CALC_ITEM_CD",labelColumn:"CALC_ITEM_NM",defaultValue:"",defaultLabel:"",defaultParam:{Request:{Data:{isShowIncludeDeactivated:!1,STD_CALC_ITEM_TYPE:"",USE_TF:"1",PARAM:""}}}},progressStepCode:{searchURL:"/SVC/Common/Infra/GetListTabSettingSearch",controlType:"widget.code.progressStepCode",id:"progressStepCode",name:"progressStepCode",subTitle:ecount.resource.LBL02424,popupURL:"/ECERP/SVC/POPUP/GetListTabSetting",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",isSVC:!0,defaultParam:{Request:{titleName:ecount.resource.LBL02424,Data:{isMultiSelectFlag:!1,PAGE_CURRENT:1,PAGE_SIZE:100}}},_setControlOptions:function(n){if(n&&n.controlOption){var t=n.controlOption;t=typeof t=="string"?$.parseJSON(t):t;t&&_.merge(this.defaultParam.Request.Data,t)}}},asGetListCmAddItem:{searchURL:"/SVC/Common/Infra/GetListCmAddItem",controlType:"widget.code.asGetListCmAddItem",id:"asGetListCmAddItem",name:"asGetListCmAddItem",subTitle:ecount.resource.LBL03478,popupURL:"/ECERP/SVC/POPUP/CmAddItem_01",valueColumn:"ITEM_CD",labelColumn:"ADD_ITEM_NM",defaultParam:{Request:{USERTABLE_CD:"C",titleName:ecount.resource.LBL03436,isNewDisplayFlag:!0,systemItemInfo:{isSystemCode:!0,PROGRAM_ID:"E040605"},Data:{USERTABLE_CD:"C",FORM_TYPE:"PR052",FORM_SEQ:1,PAGE_CURRENT:1,PAGE_SIZE:100}}},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},sumFlag:{popupURL:"/ECERP/SVC/POPUP/ES062P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListSumFlag",controlType:"widget.code.sumFlag",name:"sumFlag",id:"sumFlag",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,PARAM:""}},saleFlag:{popupURL:"/ECERP/SVC/Popup/ES061P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListSaleFlag",controlType:"widget.code.saleFlag",name:"saleFlag",id:"saleFlag",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,PARAM:""}},rptConfirm:{popupURL:"/ECERP/SVC/POPUP/ES063P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListRptConfirm",controlType:"widget.code.rptConfirm",name:"rptConfirm",id:"rptConfirm",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,PARAM:""}},searchEmployeeHr:{popupURL:"/ECERP/SVC/EPD/EPD003P",valueColumn:"INSA001.EMP_CD",labelColumn:"INSA001.EMP_KNAME",searchURL:"/SVC/Manage/HR/GetListForSearchEmployeeHR",defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!0,PARAM:""}}}}},clockInOut:{searchURL:"/SVC/Manage/TimeMgmt/GetDataWidgetClockInOutApplyingStandard",controlType:"widget.code.clockInOut",name:"clockInOut",id:"clockInOut",popupURL:"/ECERP/SVC/EPF/EPF006P",groupId:null,subTitle:"",valueColumn:"ATTDC_RFLC_BASIC_CD",labelColumn:"ATTDC_RFLC_BASIC_NM",defaultParam:{Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,Data:{PARAM:""}}},init:function(){ecount.control.codes.c04.prototype.init.apply(this,arguments)},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},workingTime:{searchURL:"/SVC/Selfcustomize/Config/GetListWorkingTime",controlType:"widget.code.workingTime",name:"workingTime",id:"workingTime",popupURL:"/ECERP/SVC/EPB/EPB001P_02",groupId:null,subTitle:"",valueColumn:"WORK_TIME_CD",labelColumn:"WORK_TIME_NM",defaultParam:{Request:{Data:{PARAM:""}}},init:function(){ecount.control.codes.c04.prototype.init.apply(this,arguments)},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},companyGroup:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.companyGroup",name:"companyGroup",id:"companyGroup",popupURL:"/ECERP/SVC/Popup/CM002P",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"G20",PARAM:"",DEL_FLAG:"N"}}};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},firstInputDraft:{searchURL:"/SVC/Groupware/EApproval/GetListCmcdForErpSlip",popupURL:"/ECERP/SVC/EGD/EGD020P_01",valueColumn:"ERP_CD",labelColumn:"ERP_NM",id:"firstInputDraft",name:"firstInputDraft",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",REPORTS_YN:"N"}}}}},secondInputDraft:{searchURL:"/SVC/Groupware/EApproval/GetListCmcdForErpSlip",popupURL:"/ECERP/SVC/EGD/EGD020P_02",valueColumn:"ERP_CD",labelColumn:"ERP_NM",id:"secondInputDraft",name:"secondInputDraft",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",REPORTS_YN:"Y"}}}}},companyGroup:{searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",controlType:"widget.code.companyGroup",name:"companyGroup",id:"companyGroup",valueColumn:"CODE_NO",labelColumn:"CODE_DES",popupURL:"/ECERP/SVC/Popup/CM002P",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{isApplyDisplayFlag:!1,isIncludeInactive:!1,keyword:"",Data:{CODE_CLASS:"G20",PARAM:"",DEL_FLAG:"N"}}};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},crmClient:{searchURL:"/SVC/Groupware/CRM/GetListCrmClientForSearch",controlType:"widget.code.crmClient",name:"crmClient",id:"crmClient",valueColumn:"CUST_IDX",labelColumn:"COMPANY_DES",popupURL:"/ECERP/SVC/POPUP/EG002P",width:500,defaultParam:null,init:function(){this.defaultParam={Request:{Data:{FORM_TYPE:"GP910",FORM_SEQ:1,isApplyDisplayFlag:!1,isIncludeInactive:!1,isNewDisplayFlag:!1,PARAM:""}}};ecount.control.codes.c04.prototype.init.apply(this,arguments)}},menuByCompany:{popupURL:"/ECERP/SVC/POPUP/TC108P",valueColumn:"INPUT_PRG_ID",labelColumn:"MENU_NM",searchURL:"/SVC/Common/TransCustomize/GetListMappingCenterMenu",isSVC:!0,controlType:"widget.code.menuByCompany",name:"menuByCompany",id:"menuByCompany",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isMultiSelect:!1,PARAM:"",linkType:"A"}}}}},allMenuByCompany:{popupURL:"/ECERP/SVC/POPUP/TC110P",valueColumn:"INPUT_PRG_ID",labelColumn:"MENU_NM",searchURL:"/SVC/Common/TransCustomize/GetListPrgSearch",isSVC:!0,controlType:"widget.code.allMenuByCompany",name:"allMenuByCompany",id:"allMenuByCompany",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isMultiSelect:!1,PARAM:"",linkType:"A"}}}}},sendFlag:{popupURL:"/ECERP/SVC/POPUP/ES070P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListSendFlag",controlType:"widget.code.sendFlag",name:"sendFlag",id:"sendFlag",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,PARAM:""}},faxSend:{popupURL:"/ECERP/SVC/POPUP/ES071P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListFaxSend",controlType:"widget.code.faxSend",name:"faxSend",id:"faxSend",subTitle:"",groupId:"",defaultParam:{isCheckBoxDisplayFlag:!1,PARAM:""}},historyMenu:{popupURL:"/ECERP/SVC/Popup/ES069P",valueColumn:"PRG_ID",labelColumn:"PRG_NM",searchURL:"/SVC/Common/GetListSearchMenu",controlType:"widget.code.historyMenu",name:"historyMenu",id:"historyMenu",subTitle:"",groupId:"",defaultParam:{PARAM:""}},bizCardGroup:{popupURL:"/ECERP/SVC/Popup/CM002P",searchURL:"/SVC/Common/Infra/GetListForSearchAcc009",id:"bizCardGroup",name:"bizCardGroup",controlType:"widget.code.bizCardGroup",valueColumn:"CODE_NO",labelColumn:"CODE_DES",ViewMode:"1",defaultParam:{Request:{Data:{CODE_CLASS:"",Title:"",DEL_GUBUN:"",CODE_NO:""}}}},autoRecommend:{popupURL:"/ECERP/SVC/Popup/FM076P_02",valueColumn:"COL_CD",labelColumn:"COL_NM",searchURL:"/SVC/Common/Form/GetListAutoRecommendItem",controlType:"widget.code.autoRecommend",name:"autoRecommend",id:"autoRecommend",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{FORM_TYPE:"",Data:{}}}}},approveType:{searchURL:"/SVC/Groupware/EApproval/GetListGwAprvType",controlType:"widget.code.approveType",name:"approveType",id:"approveType",valueColumn:"APRV_TYPE_CD",labelColumn:"APRV_TYPE_NM",popupURL:"/ECERP/SVC/EGD/EGD002P_05",width:500,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isCheckBoxDisplayFlag:!1,PARAM:""}}}}},approveLine:{controlType:"widget.code.approveLine",name:"approveLine",id:"approveLine",valueColumn:"APRV_LINE_SNO",labelColumn:"APRV_LINE_NM",popupURL:"/ECERP/SVC/EGD/EGD002P_07",width:500,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{draftEditMode:"",DTS_ID:"",FORM_SEQ:"",isSearchByCodeFlag:!0,isCheckBoxDisplayFlag:!1,isSearchMyAprvLine:!1}}}}},searchHalfLeaveOff:{popupURL:"/ECERP/SVC/ESC/ESC002P_09",valueColumn:"CODE",labelColumn:"NAME",searchURL:"/SVC/SelfCustomize/Config/GetListHalfLeaveOff",controlType:"widget.code.searchHalfLeaveOff",name:"searchHalfLeaveOff",id:"searchHalfLeaveOff",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},searchHolidayType:{popupURL:"/ECERP/SVC/ESC/ESC002P_10",valueColumn:"CODE",labelColumn:"NAME",searchURL:"/SVC/SelfCustomize/Config/GetListHolidayType",controlType:"widget.code.searchHolidayType",name:"searchHolidayType",id:"searchHolidayType",subTitle:"",groupId:"",isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},approveType:{searchURL:"/SVC/Groupware/EApproval/GetListGwAprvType",controlType:"widget.code.approveType",name:"approveType",id:"approveType",valueColumn:"APRV_TYPE_CD",labelColumn:"APRV_TYPE_NM",popupURL:"/ECERP/SVC/EGD/EGD002P_05",width:500,isSVC:!0,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{isCheckBoxDisplayFlag:!1,PARAM:""}}}}},prdnJobList:{id:"prdnJobList",searchURL:"/SVC/Inventory/Basic/GetListForSearchPrdnJob",controlType:"widget.code.prdnJobList",popupURL:"/ECERP/SVC/ESJ/ESJ039P",valueColumn:"PRDN_JOB_CD",labelColumn:"PRDN_JOB_NM",isSVC:!0,width:800,height:450,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",isCheckBoxDisplayFlag:!1}}}}},prdnRscList:{id:"prdnRscList",searchURL:"/SVC/Inventory/Basic/GetListForSearchPrdnRsc",controlType:"widget.code.prdnRscList",popupURL:"/ECERP/SVC/ESJ/ESJ040P",valueColumn:"PRDN_RSC_CD",labelColumn:"PRDN_RSC_NM",isSVC:!0,width:800,height:450,defaultParam:null,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",isCheckBoxDisplayFlag:!1}}}}},approveLine:{controlType:"widget.code.approveLine",name:"approveLine",id:"approveLine",valueColumn:"APRV_LINE_SNO",labelColumn:"APRV_LINE_NM",popupURL:"/ECERP/SVC/EGD/EGD002P_07",width:500,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{draftEditMode:"",DTS_ID:"",FORM_SEQ:"",isSearchByCodeFlag:!0,isCheckBoxDisplayFlag:!1,isSearchMyAprvLine:!1}}}}},contentsCategory:{controlType:"widget.code.contentsCategory",name:"contentsCategory",id:"contentsCategory",valueColumn:"CAT_CD",labelColumn:"CAT_NM",popupURL:"/ECERP/SVC/EAM/EAM002P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},ZTCode:{popupURL:"/ECERP/SVC/EAA/EAA100M",valueColumn:"ZT_CODE",labelColumn:"ZT_NAME",searchURL:"/SVC/Admin/Manage/GetListZTCode",controlType:"widget.code.ZTCode",subTitle:"ZT List",name:"ztCodeMangement",id:"ztCodeMangement",defaultParam:{Request:{Data:{IS_FROM_WIDGET:!0,PARAM:""}}}},addColumnPagePat:{name:"addColumnPagePat",searchURL:"",controlType:"widget.code.addColumnPagePat",id:"addColumnPagePat",subTitle:ecount.resource.LBL06400,title:ecount.resource.LBL06400,popupURL:"/ECERP/SVC/Popup/FM083P_02",valueColumn:"COL_CD",labelColumn:"TITLE",defaultParam:{Request:{Data:{PARAM:""}}}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.code.repository[n]||{},i=ecount.control.codes.c04,widget.code._baseLoaded||(ecount.control.loadRepository(ecount.control.codes.c04,ecount.control.view.codes.c04,"widget.code"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.code,t,"widget.code",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.code")){r=t.controlType.replace("widget.code.","");ecount.control.mountMixinWidget(widget.code,t,"widget.code",[widget.code,r]);return}widget.code[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.code,ecount.control.mountWidget(widget.code,n,i,t))}},ZACode:{controlType:"widget.code.ZACode",name:"zaCodeList",id:"zaCodeList",valueColumn:"ZA_CODE",labelColumn:"ZA_NAME",searchURL:"/SVC/Admin/Manage/GetListZACodeData",popupURL:"/ECERP/SVC/EAA/EAA101P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},ZAGroupCode:{controlType:"widget.code.ZAGroupCode",name:"zaGroupList",id:"zaGroupList",valueColumn:"ATTR_ID",labelColumn:"ZA_GROUP_NAME",searchURL:"/SVC/Admin/Manage/GetListZAGroupData",popupURL:"/ECERP/SVC/EAA/EAA101P_02",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},masterLabel:{id:"masterLabel",name:"masterLabel",popupURL:"/ECERP/SVC/EAM/EAM002P_03",valueColumn:"LABEL_CD",labelColumn:"LABEL_NM",searchURL:"/Groupware/CRM/GetListLabelForSearch",controlType:"widget.code.masterLabel",subTitle:ecount.resource.LBL10187,title:ecount.resource.LBL10187,bgColorColumn:"LABEL_COLOR",defaultParam:{SEARCHTEXT:""}},Sort:{id:"Sort",name:"Sort",popupURL:"/ECERP/SVC/EAM/EAM002P_05",valueColumn:"SORT_CD",labelColumn:"SORT_CD_NM",searchURL:"/ECAPI/SVC/Admin/MultiManual/GetListContentsWriteSort",controlType:"widget.code.Sort",defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{PARAM:""}}}},summaryType:{controlType:"widget.code.summaryType",name:"summaryType",id:"summaryType",valueColumn:"MAPPER_CD",labelColumn:"MAPPER_CD_NM",searchURL:"",popupURL:"/ECERP/SVC/Popup/TC103P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",SlipBundleItemList:[]}}}}},resultItem:{controlType:"widget.code.resultItem",name:"resultItem",id:"resultItem",valueColumn:"COL_CD",labelColumn:"DISPLAY_NM",searchURL:"/SVC/Common/DataCenter/GetSearchExternalFormCol",popupURL:"/ECERP/SVC/EDC/EDC005P_03",defaultParam:null,title:ecount.resource.LBL21443,width:450,height:500,subTitle:ecount.resource.LBL21443,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:""}}}}},businessGroupCode:{name:"businessGroupCode",searchURL:"/SVC/Selfcustomize/Config/GetListComnMenuAuthForDataCenterCategory",controlType:"widget.code.businessGroupCode",groupId:null,id:"businessGroupCode",subTitle:"Business Group",popupURL:"/ECERP/SVC/EDC/EDC006P_02",width:400,height:500,defaultValue:"",defaultLabel:"",valueColumn:"MENU_SEQ",labelColumn:"MENU_NM",defaultParam:{Request:{Data:{PARAM:"",PARENT_MENU_SEQ:"",STAND_PRG_ID:"E1015",DEPTH:"3",LEAF_YN:"Y"}},isApplyDisplayFlag:!0}},receivedDocuments:{name:"receivedDocuments",searchURL:"/SVC/Common/DataCenter/GetListReceivedDocument",controlType:"widget.code.receivedDocuments",groupId:null,id:"receivedDocuments",isSVC:!0,popupURL:"/ECERP/SVC/EDC/EDC002P_01",width:400,height:600,defaultValue:"",defaultLabel:"",valueColumn:"RCV_DOC_CD",labelColumn:"RCV_DOC_NM",defaultParam:{Request:{Data:{}}}},fileaction:{name:"fileaction",searchURL:"/SVC/Groupware/ECDrive/GetActionBehaviorItemList",controlType:"widget.code.fileaction",groupId:null,id:"fileaction",title:ecount.resource.LBL02079,subTitle:ecount.resource.LBL02079,popupURL:"/ECERP/SVC/EDV/EDV001P_013",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"CODE",labelColumn:"NAME",defaultParam:{Request:{Data:{NAME:""}}}},filetype:{name:"filetype",searchURL:"/SVC/Groupware/ECDrive/GetFileSupperBehaviorItemList",controlType:"widget.code.filetype",groupId:null,id:"filetype",title:ecount.resource.LBL02079,subTitle:ecount.resource.LBL02079,popupURL:"/ECERP/SVC/EDV/EDV001P_014",width:450,height:500,defaultValue:"",defaultLabel:"",valueColumn:"CODE",labelColumn:"NAME",defaultParam:{Request:{Data:{NAME:""}}}},foreign_type:{popupURL:"/ECERP/SVC/Popup/ES054P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListForeignType",controlType:"widget.code.foreign_type",name:"foreign_type",id:"foreign_type",subTitle:"",groupId:null,isSVC:!0,defaultParam:{CLASS_CD:""}},ioType:{popupURL:"/ECERP/SVC/Popup/ES051P",valueColumn:"IO_CODE",labelColumn:"IO_DES",searchURL:"/SVC/Account/Common/GetListIoType",controlType:"widget.code.ioType",name:"ioType",id:"ioType",subTitle:"",groupId:null,defaultParam:{IO_TYPE:"20",USER_GUBUN:"Y"}},exchange_type:{popupURL:"/ECERP/SVC/Popup/ES052P",valueColumn:"CODE_NO",labelColumn:"CODE_DES",searchURL:"/SVC/Common/Infra/GetListExchangeType",controlType:"widget.multiCode.exchange_type",name:"exchange_type",id:"exchange_type",subTitle:"",groupId:"",defaultParam:{CODE_CLASS:""}},companyInfo:{controlType:"widget.code.companyInfo",name:"companyInfo",id:"companyInfo",valueColumn:"COM_CODE",labelColumn:"COM_DES",searchURL:"",popupURL:"/ECERP/SVC/EAA/EAA105P_01",width:800,defaultParam:{Request:{PARAM:""}},setRequestParameter:function(n,t){this.defaultParam.Request.PARAM=n;$.extend(t,this.defaultParam)}},homTaxMapping:{controlType:"widget.code.homTaxMapping",name:"homTaxMapping",id:"homTaxMapping",valueColumn:"SCRPN_KEY",labelColumn:"SCRPN_KEY_NM",searchURL:"/SVC/Account/Basic/GetListSearchETaxScrapMapping",popupURL:"/ECERP/SVC/ECTAX/ECTAX102P_02",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",MAPPER_TYPE:"",SCRPN_CD:"",SCRPN_VERSION_NO:0,DATA_TYPE_CD:"",SCRPN_KEY_NM:""}}}}},adminUser:{controlType:"widget.code.adminUser",name:"adminUser",id:"adminUser",valueColumn:"ID",labelColumn:"UNAME",searchURL:"",popupURL:"/ECERP/SVC/ECU/ECU304P",width:800,isSVC:!0,defaultParam:{Request:{PARAM:""}}},collectionField:{controlType:"widget.code.collectionField",name:"collectionField",id:"collectionField",searchURL:"",popupURL:"/ECERP/SVC/EDC/EDC009P_01",width:300,defaultParam:null,isSVC:!0,initCodeOptions:function(){this.defaultParam={Request:{Data:{PARAM:"",AvoidDupeKeyList:[]}}}}},formList:{controlType:"widget.code.formList",name:"formList",id:"formList",valueColumn:"FormSeq",labelColumn:"TITLE_NM",searchURL:"",popupURL:"/ECERP/SVC/Popup/FM051P_01",width:500,height:500,isSVC:!0,defaultParam:{Request:{FormType:""}}},CardAuthInfo:{name:"txtCardAuthInfo",id:"txtCardAuthInfo",searchURL:"/SVC/Account/Others/GetListSfExtnCertInfoT",controlType:"widget.code.CardAuthInfo",popupURL:"/ECERP/SVC/EBD/EBD006P_02",valueColumn:"ITEM_NM",labelColumn:"CRDCO_NM",defaultParam:{Request:{width:ecount.infra.getPageWidthFromConfig(),height:300},SearchGubun:"1"},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},CurrencyAccount:{name:"CurrencyAccount",searchURL:"/SVC/Common/Infra/GetListCurrencyCode",controlType:"widget.code.CurrencyAccount",id:"CurrencyAccount",subTitle:"",title:ecount.resource.LBL05419,popupURL:"/ECERP/SVC/Popup/ForeignCurrencyCodeList",valueColumn:"CODE",labelColumn:"DES",defaultParam:{PARAM:"",TYPE:"PAYPAL",Request:{Data:{PARAM:"",TYPE:"PAYPAL"}}},setRequestParameter:function(n,t){this.defaultParam.Request.Data.PARAM=n;$.extend(t,this.defaultParam)}},paye_type_cd:{controlType:"widget.code.paye_type_cd",name:"paye_type_cd",id:"paye_type_cd",valueColumn:"PAYE_TYPE_CD",labelColumn:"PAYE_TYPE_NM",searchURL:"/SVC/Account/Basic/GetListPayeTypeCdForSearch",popupURL:"/ECERP/SVC/EBW/EBW002P",subTitle:ecount.resource.LBL22826,title:ecount.resource.LBL22826,defaultParam:{Request:{SEARCH_FORM_TYPE:"AN673",Data:{isApplyDisplayFlag:!0,isCheckBoxDisplayFlag:!0,PAYE_TYPE_CD:"",PARAM:"",FORM_TYPE:"AP671",FORM_SEQ:1,SEARCH_FORM_TYPE:"AN673",PRG_ID:"E061301",PAGE_SIZE:100,PAGE_CURRENT:1}}}}}};widget.view.code._export=function(){return{_default:{},prod:{setBorderRadius:function(n){var t=this.$el,i;return(n instanceof jQuery?t=n:n instanceof Element&&(t=$(n)),!t)?n:(i=t.hasClass("control")?t.children():t.find("div.control").children(),i.removeClass("first-child").removeClass("last-child"),i.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):first").addClass("first-child"),i.filter("input[type='text'], button, textarea, div.tags-input").filter(":not(.hidden):last").addClass("last-child"),this.gridID&&i.filter("input[type='text']").filter(":not(.hidden):last").addClass("last-child"),t)}}}};widget.color={};widget.color._baseLoaded=!1;widget.color._export=function(){return{_default:{controlType:"widget.color",defaultColor:"000000",init:function(){ecount.control.prototype.init.apply(this,arguments)},initializeOptions:function(n){this._clickOnce=!0;this.noneBackgroundColor=n.noneBackgroundColor;this.noneBackgroundLabel=n.noneBackgroundLabel},render:function(){ecount.control.prototype.render.apply(this,arguments)},createView:function(){return this.ecview=new widget.view.color},onInitComponent:function(n,t,i,r,u){var f="#"+this.defaultColor;u.data&&u.data.length&&u.data[0].value&&(f=u.data[0].value=="transparent"?u.data[0].value:(u.data[0].value+"").charAt(0)=="#"?u.data[0].value:"#"+u.data[0].value);r=_.merge(r,{label:"",ecService:"layer.palette",ecServiceAttr:"",ecServiceTrigger:"",cid:this.id,"style.bgcolor":f,"style.css":"btn btn-default"})},getLayerPaletteOption:function(n,t){var r=[{id:"palette",isPalette:!0}],u,i;return this.noneBackgroundColor&&(u={id:"noneBackgroundColor",label:this.noneBackgroundLabel||ecount.resource.LBL20548,css:"tool-color-none"},r.push(u),this.getColor()=="transparent"&&(i=_.find(r,function(n){return n.id==="noneBackgroundColor"}),i&&(i.liCss=(i.liCss||"")+" checked-item active"))),_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",items:r,baseType:!0,color:this.getState(0,"style.bgcolor"),boundary:this.getContainerBoundary(),showingUpDelay:0})},removeSharp:function(n){return n.replace(/\#/,"")},getColor:function(){return this.removeSharp(this.getState(0,"style.bgcolor")||this.defaultColor)},getValue:function(){return this.getColor()},setColor:function(n){n&&typeof n=="string"&&(n!="transparent"&&(n=n.charAt(0)=="#"?n:"#"+n),this.setState(0,"style.bgcolor",n))},setReadOnly:function(n){this.setState(this._IT_SELF,"attr.disabled",n)},setValue:function(n,t){arguments.length==1&&(t=n,n=0);t=t.charAt(1)===""?this.defaultColor:t;this.setColor(t)},getResetState:function(){return this.getOriginState(["style.bgcolor"])},ON_CLICK_SERVICE:function(n,t,i,r){if(n.ecFunctionId){switch(n.ecFunctionId){case"palette.color":this.setState(0,"style.bgcolor",n.cid);break;case"palette.button":this.setState(0,"style.bgcolor",r.value);break;case"noneBackgroundColor":this.setState(0,"style.bgcolor","transparent")}this.delegator&&this.delegator.triggerEvent("control.change",{type:"control.change",cid:this.id,value:this.getValue()=="transparent"?this.getValue():"#"+this.getValue(),event:t,__self:this})}},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()},n])}},radioLabel:{controlType:"widget.color.radioLabel",viewName:"widget.view.color.radioLabel",palette:[["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff"],["#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],init:function(){ecount.control.prototype.init.apply(this,arguments)},render:function(){ecount.control.prototype.render.apply(this,arguments)},onInitComponent:function(n,t,i,r){t==0&&(r.value||(r.value="000000"),r.ecService="layer.spectrum")},getLayerSpectrumOption:function(){var t=ecount.control.prototype.getLayerSpectrumOption.apply(this,arguments),n="#"+this.getValue(),i=this.getShowPaletteOnly(n);return _extend(t,{preferredFormat:"Hex",showInitial:!0,showInput:!0,showPaletteOnly:i,togglePaletteOnly:!0,color:n,palette:this.palette,isAlwaysShowPalette:!0})},ON_CLICK_SERVICE:function(n,t,i,r){switch(n.ecFunctionId){case"spectrum.color":case"spectrum.choose":this.setState(0,"value",r.selected.toHex());this.delegator&&this.delegator.triggerEvent("control.change",{type:"control.change",cid:this.id,value:"#"+this.getValue(),event:t,__self:this})}},setColor:function(n){this.setState(0,"value",n)},getColor:function(){return this.removeSharp(this.getState(0,"value")||"000000")},getValue:function(){return this.getState(0,"value")},removeSharp:function(n){return n.replace(/\#/,"")},getShowPaletteOnly:function(n){n=tinycolor?tinycolor(n).toHexString():n;var t=!1;return this.palette.forEach(function(i){if(i.indexOf(n)>-1){t=!0;return}}),t},getParentViewBoundary:function(){return this.getContainerBoundary()}},create:function(n){var t,i,r,u,f;(n=n||"_default",t=widget.color.repository[n]||{},i=widget.view.color.repository[n]||{},widget.color._baseLoaded||(r=$.Class(ecount.control,widget.color.repository._default),u=$.Class(ecount.control.view,widget.view.color.repository._default),widget.color=$.extend(r,widget.color),widget.view.color=$.extend(u,widget.view.color),widget.color._baseLoaded=!0,n!="_default"))&&(widget.color[n]||(t.init||(t.init=function(){ecount.control.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){ecount.control.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.color.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.color,n)),this.ecview=new n}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):ecount.control,widget.color[n]=$.Class(f,t)))}}};widget.view.color._export=function(){return{_default:{template:'<button class="btn-arrow btn-color-picker {{style.css}} " data-cid="{{cid}}" data-service="{{ecService}}" data-service-attr="layer.fixed" data-role="group"><span class="color-display" {{style.bgcolor}}><\/span><\/button>',onInitTemplate:function(n,t){if(t.components[0]){var i=t.components[0]["style.bgcolor"]?'style="background-color:'+t.components[0]["style.bgcolor"]+';" ':"";n=n.replaceAll("{{style.css}}",t.components[0]["style.css"]).replaceAll("{{ecService}}",t.components[0].ecService).replaceAll("{{style.bgcolor}}",i)}return n},onChangeStyleBgcolor:function(n,t){var i=this.$el.find("span.color-display");i.attr("style",function(){this.style.removeProperty("background-color");var n=t&&"background-color:"+t+";";return this.style.cssText+(n||"")});t?i.removeClass("transparent"):i.addClass("transparent")},onChangeStyleBorderPosition:function(n,t){var i=this.getElements(n);i.removeClass("tool-border-"+t.oldValue);i.addClass("tool-border-"+t.newValue)},onChangeAttrDisabled:function(n,t){var r=this.getElements(n),i;n!=this._IT_SELF&&r.prop("disabled",t);i=this.$el.find('[data-role="group"]');i&&i.prop("disabled",t)}},radioLabel:{template:"((radio-labelColor))",onInitTemplate:function(n){return n},onChangeValue:function(n,t){var i=this.$el.find("span");i&&i.css("color","#"+t)}}}};widget.select={};widget.select._baseLoaded=!1;widget.select._export=function(){return{_default:{controlType:"widget.select"},eTaxInvoiceType:{controlType:"widget.select.eTaxInvoiceType",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{option:n.option})},_getDefaultOptionState:function(n,t,i){var f=this.option||[["00",ecount.resource.LBL04842],["99",ecount.resource.LBL04822],["01",ecount.resource.LBL04808,"text-danger"],["02",ecount.resource.LBL04809,"text-danger"],["03",ecount.resource.LBL04810,"text-danger"],["04",ecount.resource.LBL04811,"text-danger"],["05",ecount.resource.LBL04812,"text-danger"],["06",ecount.resource.LBL07080,"text-danger"]],r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}}},adjustBalance:{controlType:"widget.select.adjustBalance",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{option:n.option,isAllAdd:n.isAllAdd})},_getDefaultOptionState:function(n,t,i){var f=this.option||this._getOptionsData(n),r=this._getOptionsFromArray(this.option||f),u=$.isNull(i._selectedValue)?String.format("AS{0}DE{0}CP",ecount.delimiter):i._selectedValue;return{selectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionsData:function(n){var r=ecount.delimiter,t=ecount.resource,i=[[String.format("AS{0}DE{0}CP",r),t.LBL01024],["PL",t.LBL01676]];if(this.isAllAdd&&i.unshift(["",t.widget.ALL]),!$.isEmptyObject(n)){var u=n.result,f=n.config,e=u.Data||[];e.map(function(n){i.push([n.GYE_TYPE,t.LBL02014+"("+n.GYE_DES+")"])});f.IncomFlag!="0"&&i.push([String.format("XX",r),t.LBL01731])}return i}},exchangeType:{controlType:"widget.select.exchangeType",requestURL:"/Account/Basic/GetExchangeTypeList",isViewMode:!1,_defaultOptions:null,_requestOptions:null,initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{_requestOptions:{isAllAdd:!0,isAdd:!0,isEmptyValue:!1,IO_TYPE:"1",editFlag:"I",ioValue:"",useDomestic:!0},formset:n.formset,isViewMode:n.isViewMode,initOptions:n.initOptions,_readOnlyIndex:n._readOnlyIndex,_defaultOptions:n._defaultOptions})},onInitControlOptions:function(n,t){t&&t.config&&t.config.IsFormSet==!0?(this.foreignType=this.empty(n.requestForeignType)||"0",this.exchangeType=this.empty(n.requestExchangeType)||"0"):this.foreignType=this.empty(n.requestForeignType)||this.getCookies(n.foreignCookie)||""},getDefaultOption:function(){var n=this._defaultOptions||{};return $.extend(this._requestOptions,n,{isAdd:this.isViewMode?!1:n.isAdd})},getInitData:function(n){return ecount.control.getInitData("widget.select.exchangeType",n.inIncludePage,n.ecPageID)},empty:function(n){return $.isEmpty(n)?!1:n},getForeign:function(){var n=this.getValue();if(!$.isEmpty(n))return n.split(ecount.delimiter)[0]},getForeignCode:function(){var n=this.getValue();if(!$.isEmpty(n))return n.split(ecount.delimiter)[1]},getCodeData:function(n){var n=n||ecount.control.select.prototype.getCodeData.apply(this),i={},t;return $.isEmpty(n)||(t=n.split(ecount.delimiter),i={AMTDIGIT_LEN:t[0]||0,CODE_CLASS:t[1]||"",CODE_DES:t[2]||"",CODE_NO:t[3]||"",EXCHANGE_RATE:$.isNull(t[4])||t[4]=="null"?0:t[4],USE_TYPE:t[5]||"Y"}),$.extend(!0,{AMTDIGIT_LEN:0,CODE_CLASS:"",CODE_DES:"",CODE_NO:"",EXCHANGE_RATE:0,USE_TYPE:"Y"},i)},_getSelectedValue:function(n){return this.foreignType?this.foreignType+ecount.delimiter+this.exchangeType:$.isNull(n._selectedValue)?null:n._selectedValue},_getDefaultOptionState:function(n,t,i){var f=this._getOptionsData(n),u=this._getOptionsFromArray(f),r=this._getSelectedValue(i);return r=u.head(ecount.control.select.optionFindingPredicate.bind(u,r))?r:u[0].value,{lastSelectedValue:r,selectedValue:r,selectedLabel:this._getSelectedLabel(r,u),option:u}},_getOptionsData:function(n){var t=[],r=ecount.resource,i=this.getDefaultOption(),u=i.isEmptyValue,f="=====",e,o,s;return _.isObject(i.isEmptyValue)==!0&&(u=i.isEmptyValue.value,f=i.isEmptyValue.label),u===!0&&t.push([String.format("{0}{1}{2}",-1,ecount.delimiter,-1),f,null,null]),i.useDomestic==!0&&t.push([String.format("{0}{1}{2}",0,ecount.delimiter,0),r.LBL00916,null,null]),$.isEmptyObject(n)||(o=n.result,s=o.Data||[],s.map(function(n){e=String.format("{1}{0}{2}{0}{3}{0}{4}{0}{5}{0}{6}",ecount.delimiter,n.AMTDIGIT_LEN,n.CODE_CLASS,n.CODE_DES,n.CODE_NO,n.EXCHANGE_RATE,n.USE_TYPE);t.push([String.format("{0}{1}{2}",1,ecount.delimiter,n.CODE_NO),String.format("{0} [{1}]",n.CODE_DES,n.CODE_NO),n.USE_GUBUN=="N"?"text-danger":null,e])})),i.isAdd&&t.push([String.format("{0}{1}{2}",0,ecount.delimiter,99999),ecount.resource.widget.ADVANCED,"text-danger",null,null,!0]),t.length||(t.push([String.format("{0}{1}{2}",0,ecount.delimiter,0),r.LBL00916]),t.push([String.format("{0}{1}{2}",0,ecount.delimiter,99999),r.LBL05531,"text-danger",null,null,!0])),t}},fromToDouble:{controlType:"widget.select.fromToDouble",viewName:"widget.view.select.fromToDouble",canValidate:!0,delimiter:"~",colon:"",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{canValidate:n.canValidate,delimiter:n.delimiter,colon:n.colon||""})},initializeViewOptions:function(){ecount.control.select.prototype.initializeViewOptions.apply(this,arguments);$.extend(this.__viewOptions,{delimiter:this.delimiter,colon:this.colon||"",noneFlex:!0})},onInitComponent:function(n,t,i,r){ecount.control.select.prototype.onInitComponent.apply(this,arguments);r["style.css"]="btn btn-default btn-selectbox btn-selectbox-inline"},_onBeforeChangeSelectedValue:function(n,t,i){this.canValidate==!0&&this.validateFromTo(n,t,i)},getValue:function(n){return $.isEmpty(n)?this.getComponents().map(function(n){return n.selectedValue}):this.getState(n,"selectedValue")},setValue:function(n,t,i){if(arguments.length==2){ecount.control.select.prototype.setValue.call(this,n,t,!1);return}if($.isArray(n)){for(var r=0,u=n.length;r<u;r++)ecount.control.select.prototype.setValue.call(this,r,n[r],!1);return}ecount.control.select.prototype.setValue.call(this,n,t,i)},setSelectedIndex:function(n,t){var i=this.getComponent(t||this.selectCompIndex),r=i.option[n];this._changeSelectedValue(n,r)},setSelectedValue:function(n,t){var i=this.getComponent(t||this.selectCompIndex),r=i.option.head(ecount.control.select.optionFindingPredicate.bind(i.option,n));this._changeSelectedValue(i.index,r)},addOption:function(){},addMoreSelectOption:function(){},removeOption:function(){},setOption:function(n,t){var i=t||this.selectCompIndex,u=this.getLayerServiceKey(i),r=this._getOptionsFromArray($.isArray(n)?n:[n]);ecount.layer.hide(u);this.moreOptionButton&&r.push(this._getViewMoreOption());this.setState(i,"option",r);this._changeSelectedValue(i,r[0])},hideOption:function(n,t){var u=t||this.selectCompIndex,r=this.getComponent(u),f=r,i=r.option.map(function(t,i){return i==n?_.merge(t,{"style.display":!1}):t});i[n].value==r.selectedValue&&i[n].label==r.selectedLabel&&n<i.length-1&&(f=i[n+1]);this.setState(u,"option",i);this._changeSelectedValue(u,f)},showOption:function(n,t){var i=this.getComponent(t||this.selectCompIndex).option.map(function(t,i){return i==n?_.omit(t,["style.display"]):t});this.setState(this.selectCompIndex,"option",i)},getOptionCount:function(n){return this.getComponent(n||this.selectCompIndex).option.length},getSelectOptions:function(n){return this.getState(n||this.selectCompIndex,"option").clone(!0)},getValueByIndex:function(n,t){return this.getComponent(t||this.selectCompIndex).option[n]},isContain:function(n,t){var i=this.getComponent(t||this.selectCompIndex);return i.option.length>0&&_.findIndex(i.option,function(t){return t.value==n})>-1},hasChild:function(n){return this.getComponent(n||this.selectCompIndex).option.length>0},getDate:function(){var n=this.getValue(),i=this.getMonthFromOwnFormat(n[1],!0),t=this.getMonthFromOwnFormat(n[3]),r=[6,9].contains(t)?30:31;return[new Date(n[0],i-1,1),new Date(n[0],t-1,r)]},save:function(){return{key:this.id,value:{options:this.getComponents().map(function(n){return _.cloneDeep(n.option)}.bind(this)),selected:this.getValue()}}},restore:function(n){var r,i,t,u;if(_.isArray(n))this.setValue(n);else{for(r=n.selected,i=n.options,this.pendingViewUpdate(!0),t=0,u=i.length;t<u;t++)this.setOption(i[t],t);this.setValue(r);this.pendingViewUpdate(!1);this.batchUpdateView()}},setDate:function(n){var n=$.isArray(n)?n:[n],t=n[0],i=n[1],r,u;t&&(r=this.getOwnFormatValue(t.getMonth()),this.setValue([t.getFullYear(),r]));i&&(u=this.getOwnFormatValue(i.getMonth()),this.setValue(2,i.getFullYear()),this.setValue(3,u))},getOwnFormatValue:function(){},getOwnFormatValue:function(){},getSelectedItem:function(n){var t=function(n){return{value:this.getState(n,"selectedValue"),label:this.getState(n,"selectedLabel")}}.bind(this);return $.isEmpty(n)?this.getComponents().map(function(n,i){return t(i)}.bind(this)):t(n)},validateFromTo:function(n,t,i){var f=n.ecRoleIndex,u=f<2,r=this.getValue();i.selected&&(r[f]=i.selected.value);var e=u?3:1,s=u?2:0,o=u?1:3,h=u?0:2;r[0]!="00"&&r[2]!="00"&&(r[0]==r[2]&&r[1]>r[3]?this.setValue(e,r[o]):r[0]>r[2]&&(this.setValue(s,r[h]),r[1]>r[3]&&this.setValue(e,r[o])))},serialize:function(n){var t=function(n){return n<2?"_FROM_"+(n+1):"_TO_"+(n-1)};return this.getComponents().map(function(i,r){return{key:(n||this.name)+t(r),value:this.getValue(r)}}.bind(this))},serializeDateData:function(n){var t=this,i=this.getDate()||[];return i.map(function(i,r){return{key:(n||t.name)+(r==0?"_FROM":"_TO"),value:i.format("yyyyMMdd")}})}},"fromToDouble.halfYear":{__inheritParent:"widget.select.fromToDouble",controlType:"widget.select.fromToDouble.halfYear",initializeOptions:function(n){var r=[["1",ecount.resource.LBL09376],["2",ecount.resource.LBL09377]],u=new Date,t=u.getFullYear(),i=[[t+1,t+1],[t,t],[t-1,t-1],[t-2,t-2]];i=i.map(function(n){return n.map(function(n){return n.toString()})});n.data=[{option:i.slice(0)},{option:r.slice(0)},{option:i.slice(0)},{option:r.slice(0)}];widget.select.fromToDouble.prototype.initializeOptions.apply(this,arguments)},getOwnFormatValue:function(n){return n<6?1:2},getMonthFromOwnFormat:function(n,t){var i=Number(n)*6;return t?i-5:i},serialize:function(){return this.serializeDateData()}},"fromToDouble.quarter":{__inheritParent:"widget.select.fromToDouble",controlType:"widget.select.fromToDouble.quarter",initializeOptions:function(n){var r=[["1",ecount.resource.LBL09372],["2",ecount.resource.LBL09373],["3",ecount.resource.LBL09374],["4",ecount.resource.LBL09375]],u=new Date,t=u.getFullYear(),i=[[t+1,t+1],[t,t],[t-1,t-1],[t-2,t-2]];i=i.map(function(n){return n.map(function(n){return n.toString()})});n.data=[{option:i.slice(0)},{option:r.slice(0)},{option:i.slice(0)},{option:r.slice(0)}];widget.select.fromToDouble.prototype.initializeOptions.apply(this,arguments)},getOwnFormatValue:function(n){return Math.floor(Number(n)/3)+1},getMonthFromOwnFormat:function(n,t){var i=Number(n)*3;return t?i-2:i},serialize:function(){return this.serializeDateData()}},"fromToDouble.fromToDoubleInOutTime":{__inheritParent:"widget.select.fromToDouble",controlType:"widget.select.fromToDouble.fromToDoubleInOutTime",viewName:"widget.view.select.fromToDoubleInOutTime",initializeOptions:function(n){n.canValidate=!0;widget.select.fromToDouble.prototype.initializeOptions.apply(this,arguments)},validateFromTo:function(n,t,i){var u=n.ecRoleIndex,o=u<3,r=this.getValue(),f,e;i.selected&&(r[u]=i.selected.value);f=r[0]+r[1]+r[2];e=r[3]+r[4]+r[5];f>e&&(o?(this.setValue(3,r[0]),this.setValue(4,r[1]),this.setValue(5,r[2])):(this.setValue(0,r[3]),this.setValue(1,r[4]),this.setValue(2,r[5])))},serialize:function(){return this.serializeDateData()}},"fromToDouble.disbursementPeriod":{__inheritParent:"widget.select.fromToDouble",controlType:"widget.select.fromToDouble.disbursementPeriod",viewName:"widget.view.select.fromToDoubleDisbursementPeriod",initializeOptions:function(n){var i=this.id,r=[["T",ecount.resource.LBL05625],["P",ecount.resource.BTN00424]],t;monthOption=[["T",ecount.resource.LBL01169],["P",ecount.resource.BTN00211]];dayOption=ecount.control.select.getContinuosDataByRange({from:1,to:31},function(n){var t=""+n;return{id:i+"_"+t,label:n<10?"0"+t:t,value:t}}).concat([{id:i+"_lastDay",label:ecount.resource.LBL01084,value:"99"}]);t=ecount.config.company.MYPAGECOMPANY_DATE?ecount.config.company.MYPAGECOMPANY_DATE.DATE_INPUT_ORDER.toLowerCase().split(""):Date.CultureInfo.CAL_FORMAT.toLowerCase().split(Date.CultureInfo.CAL_DELIMITER);n.data=t.concat(t).map(function(i,u){var o=u<t.length?"STR":"END",f={},e;switch(i){case"y":f.option=_.cloneDeep(r);f.key=o+"_YEAR_TYPE_CD";break;case"m":f.option=_.cloneDeep(monthOption);f.key=o+"_MM_TYPE_CD";break;case"d":f.option=_.cloneDeep(dayOption);f.key=o+"_DD"}return i=="d"?(e=f.option.find(function(t){return t.value==n[f.key]})||f.option[0],f.selectedValue=e.value,f.selectedLabel=e.label):(e=f.option.find(function(t){return t[0]==n[f.key]})||f.option[0],f.selectedValue=e[0],f.selectedLabel=e[1]),f.format=i,f});widget.select.fromToDouble.prototype.initializeOptions.apply(this,arguments)},setStandardValue:function(n,t){this.isGridV3||this._onBeforeChangeSelectedValue({cindex:n,ecRoleIndex:n,value:t},{},{});this.setValue.apply(this,arguments)},validateFromTo:function(n,t,i){var e=n.ecRoleIndex,c=[],f,o,l,s,a,u,h,r;for(i.selected&&(this.setState(e,"selectedValue",i.selected.value),this.setState(e,"selectedLabel",i.selected.label)),f=this.getComponents(),o=f.length/2,l=f[e].key.substr(0,3),s=e>=o?-o:o,a=function(n){var t=f[n.index+s];return n.key.indexOf("STR")===0?isNaN(+n.selectedValue)?!(n.selectedValue=="P"&&t.selectedValue=="T"):+n.selectedValue>+t.selectedValue:isNaN(+n.selectedValue)?!(n.selectedValue=="T"&&t.selectedValue=="P"):+n.selectedValue<+t.selectedValue},u=0,h=f.length;u<h;u++)r=f[u],r.key.indexOf(l)===0&&(c["ymd".indexOf(r.format)]=r);for(u=0,h=c.length;u<h;u++){if(r=c[u],!a(r))break;this.setState(r.index+s,"selectedValue",r.selectedValue);this.setState(r.index+s,"selectedLabel",r.selectedLabel)}},serialize:function(){var n=this.getComponents();return n.reduce(function(n,t){return n[t.key]=t.selectedValue,n},{})}},foreignType:{controlType:"widget.select.foreignType",_getDefaultOptionState:function(n,t,i){var u=ecount.resource.widget,e=i.option||[[9999,u.ALL],[0,u.DOMESTIC],[1,u.FOREIGN]],r=this._getOptionsFromArray(e),f=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:f,lastSelectedValue:f,selectedLabel:this._getSelectedLabel(f,r),option:r}}},inoutType:{controlType:"widget.select.inoutType",_getDefaultOptionState:function(n,t,i){var o=n&&n.config?n.config.ACCT_INOUT_TYPE:ecount.config.account.ACCT_INOUT_TYPE,e=ecount.resource.widget,r={},f=i.option||[[9999,ecount.resource.LBL02999],[0,e.FOREIGN],[1,e.DOMESTIC]],u;return(o||"").toUpperCase()=="Y"&&(f.push([2,res.OUT]),f.push([3,res.IN])),r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value,{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}}},ioType:{controlType:"widget.select.ioType",__default:null,_defaultOptions:null,initializeOptions:function(){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{__default:{isAllAdd:!0,isAdd:!0,isEmptyValue:!1,IO_TYPE:"1",editFlag:"I",ioValue:""}})},getInitDataComponents:function(n,t,i){return[_.extend({cid:this.cid,name:this.name,selectedCss:"",selectedPrefixCss:"",ecService:"layer.selectbox","opt.oldvalue":""},this._getDefaultOptionState(n,t,i))]},_getDefaultOptionState:function(n,t,i){var f=this._getOptionsData(n,i),r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionsData:function(n,t){var i=[],u=ecount.resource.widget,e=t._valuePrefix||"",r=$.extend(this.__default,this._defaultOptions||{});if(r.isEmptyValue===!0&&i.push([-1,"=====",null,null]),r.isAllAdd&&i.push([99,u.ALL,null]),r.addBaseSetting&&i.push([9,u.BASICSETTING,null]),!$.isEmptyObject(n)){var f,o=n.result,c=n.config,s=ecount.delimiter,h=o.Data||[];h.forEach(function(n){f=String.format("{1}{0}{2}{0}{3}{0}{4}{0}{5}",s,n.IO_CODE,n.VAT_YN,n.VAT_CODE,n.VATRATE_FLAG,n.VAT_RATE);(n.USER_YN=="Y"||n.USER_YN=="N"&&(t.isAllListView||r.editFlag=="M"&&r.ioValue==n.IO_CODE))&&i.push([n.IO_CODE,e+n.IO_DES,n.USER_YN=="Y"?null:"text-danger",f])}.bind(this))}return(r.isAdd||i.length===0)&&i.push([99999,ecount.resource.LBL13072,null,null,null,!0]),i},getCodeData:function(){var t=ecount.control.select.prototype.getCodeData.apply(this),i={},n;return $.isEmpty(t)||(n=t.split(ecount.delimiter),i={IO_CODE:n[0]||"",VAT_YN:n[1]||"",VAT_CODE:n[2]||"",VATRATE_FLAG:n[3]||"",VAT_RATE:n[4]||0}),$.extend(!0,{IO_CODE:"",VAT_YN:"",VAT_CODE:"",VATRATE_FLAG:"",VAT_RATE:0},i)}},enoteCat:{controlType:"widget.select.enoteCat",__default:null,_defaultOptions:null,initializeOptions:function(){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{__default:{isAllAdd:!0,isAdd:!0,CAT_ID:"",editFlag:"I",ioValue:""}})},getInitDataComponents:function(n,t,i){return[_.extend({cid:this.cid,name:this.name,selectedCss:"",selectedPrefixCss:"",ecService:"layer.selectbox","opt.oldvalue":""},this._getDefaultOptionState(n,t,i))]},_getDefaultOptionState:function(n,t,i){var f=this._getOptionsData(n,i),r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionsData:function(n,t){var i=[],r=ecount.resource.widget,o=t._valuePrefix||"",u=$.extend(this.__default,this._defaultOptions||{});if(u.isAllAdd&&i.push([99,r.ALL,null]),u.addBaseSetting&&i.push([9,r.BASICSETTING,null]),!$.isEmptyObject(n)){var f,e=n.result,c=n.config,s=ecount.delimiter,h=($.isEmpty(e)?[]:e.Data)||[];h.forEach(function(n){f=String.format("{1}{0}{2}",s,n.Key.PRG_ID,n.Key.CAT_ID);i.push([n.Key.CAT_ID,o+n.CAT_NM,null,f])}.bind(this))}return(u.isAdd||i.length===0)&&i.push([99999,r.ADVANCED,null,null,null,!0]),i}},"ioType.purchase":{__inheritParent:"widget.select.ioType",controlType:"widget.select.ioType.purchase",__default:null,initializeOptions:function(){$.extend(this,{__default:{IO_TYPE:"2"}});widget.select.ioType.prototype.initializeOptions.apply(this,arguments)},init:function(){widget.select.ioType.prototype.init.apply(this,arguments)},render:function(){widget.select.ioType.prototype.render.apply(this,arguments)}},"ioType.sale":{__inheritParent:"widget.select.ioType",controlType:"widget.select.ioType.sale",__default:null,initializeOptions:function(){$.extend(this,{__default:{IO_TYPE:"1"}});widget.select.ioType.prototype.initializeOptions.apply(this,arguments)},init:function(){widget.select.ioType.prototype.init.apply(this,arguments)},render:function(){widget.select.ioType.prototype.render.apply(this,arguments)}},taxType:{controlType:"widget.select.taxType",requestURL:"/Common/Infra/GetListVatCode",__default:null,_defaultOptions:null,initializeOptions:function(){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{__default:{isAllAdd:!0,isAdd:!0,isNewEdit:!0,IO_TYPE:"1",useYn:"Y",editFlag:"I",taxValue:""}})},_getDefaultOptionState:function(n,t,i){var f=this._getOptionsData(n,i),r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionsData:function(n,t){var i=[],r=$.extend({},this.__default,this._defaultOptions||{});if(r.isAllAdd&&i.push([99,ecount.resource.widget.ALL,null]),r.extra&&(i=i.concat(r.extra)),!$.isEmptyObject(n)){var u,o=n.result,f=n.config,e=ecount.delimiter,s=o.Data||[];r.IO_TYPE=n.config.IO_TYPE;s.map(function(n){n.USE_YN!="Y"&&f.ALLVIEW_YN!="Y"&&(f.USE_YN||t._selectedValue!=n.Key.VAT_CODE)||(u=String.format("{1}{0}{2}{0}{3}{0}{4}{0}{5}{0}{6}{0}{7}{0}{8}{0}{9}",e,n.Key.VAT_CODE,n.VAT_RATE,n.AMT_SUM,n.ETC_CODE,n.ETC_FLAG,n.ACCT_TYPE,n.VAT_TAX,n.VAT_LIMIT||"",n.NO_FORM),i.push([n.Key.VAT_CODE,n.VAT_DES,n.USE_YN=="Y"?"text-primary":"text-danger",u]))}.bind(this))}return(r.isAdd||i.length===0)&&i.push([99999,ecount.resource.widget.ADVANCED,"text-danger"]),(r.isNewEdit||i.length===0)&&i.push([String.format("{0}{1}{2}",r.IO_TYPE,ecount.delimiter,"99999"),ecount.resource.LBL13072,null,String.format("{0}{0}{0}{0}{0}{0}{0}{0}",e),null,!0]),i},_onAfterChangeSelectedValue:function(n){if(n&&(n.value==String.format("1{0}99999",ecount.delimiter)||n.value==String.format("2{0}99999",ecount.delimiter))){this.setValue(this.getOldValue(),!0);var t=n.value.split(ecount.delimiter)[0],i={url:"/ECErp/EMM/EMM002P_07",FORM_TYPE:t=="1"?"GNR019":"GNR530",IOTYPE:t,width:900,height:700,inputLink:!0},r={targetID:this.id,control:this};this.openPopup(r,i);this.setFocus(0)}},onMessage:function(n,t){t.callback&&t.callback();t.data.isDataChange&&ecount.confirm(ecount.resource.MSG04486,function(n){var t,i,r,u;n&&(t=ecount.global.findPageInstance(this.ecPageID),t&&(i=t._ecParent,i&&i.getComposite?(r=i.getComposite("inputMainTab"),r&&r.pageReloadSubmit&&r.pageReloadSubmit()):t.getComposite?(u=t.getComposite("inputMainTab"),u&&u.pageReloadSubmit&&u.pageReloadSubmit()):t._ON_REDRAW&&t._ON_REDRAW()))}.bind(this))},getCodeData:function(n){var i,r,t;return n=n||this.getValue(),i=ecount.control.select.prototype.getCodeData.apply(this),r={},$.isEmpty(i)||(t=i.split(ecount.delimiter),r={VAT_CODE:t[0]||"",VAT_RATE:t[1]||0,AMT_SUM:t[2]||"N",ETC_CODE:t[3]||"",ETC_FLAG:t[4]||0,ACCT_TYPE:t[5]||"00",VAT_TAX:t[6]||"",VAT_LIMIT:t[7]||0,NO_FORM:t[8]||0}),$.extend({VAT_CODE:"",VAT_RATE:0,AMT_SUM:"N",ETC_CODE:"",ETC_FLAG:0,ACCT_TYPE:"00",VAT_TAX:"",VAT_LIMIT:0,NO_FORM:0},r)}},currency:{controlType:"widget.select.currency",_getDefaultOptionState:function(n,t,i){var f=i.option||[["KRW","KRW"],["USD","USD"],["CNY","CNY"],["VND","VND"],["JPY","JPY"],["SGD","SGD"],["IDR","IDR"],["MYR","MYR"],["TWD","TWD"],["THB","THB"],["PHP","PHP"]],r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}}},theme:{controlType:"widget.select.theme",viewName:"widget.view.select.theme",cssMap:{blue:"theme-color-select-blue",lightblue:"theme-color-select-lightblue",deepblue:"theme-color-select-deepblue",green:"theme-color-select-green",lightgreen:"theme-color-select-lightgreen",deepgreen:"theme-color-select-deepgreen",red:"theme-color-select-red",lightred:"theme-color-select-lightred",deepred:"theme-color-select-deepred",olive:"theme-color-select-olive",lightolive:"theme-color-select-lightolive",deepolive:"theme-color-select-deepolive",chocolate:"theme-color-select-chocolate",lightchocolate:"theme-color-select-lightchocolate",deepchocolate:"theme-color-select-deepchocolate",purple:"theme-color-select-purple",lightpurple:"theme-color-select-lightpurple",deeppurple:"theme-color-select-deeppurple",black:"theme-color-select-black"},initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{option:n.option})},getInitDataComponents:function(n,t,i){return this.getInitComponents(n,t,i)},_getDefaultOptionState:function(n,t,i){var f=this.option||[["blue","blue","blue"],["lightblue","lightblue","lightblue"],["deepblue","deepblue","deepblue"],["green","green","green"],["lightgreen","lightgreen","lightgreen"],["deepgreen","deepgreen","deepgreen"],["red","red","red"],["lightred","lightred","lightred"],["deepred","deepred","deepred"],["olive","olive","olive"],["lightolive","lightolive","lightolive"],["deepolive","deepolive","deepolive"],["chocolate","chocolate","chocolate"],["lightchocolate","lightchocolate","lightchocolate"],["deepchocolate","deepchocolate","deepchocolate"],["purple","purple","purple"],["lightpurple","lightpurple","lightpurple"],["deeppurple","deeppurple","deeppurple"],["black","black","black"],],r=this._getOptionsFromArray(f),u=i._selectedValue!==undefined&&i._selectedValue!==null?i._selectedValue:r[0].value;return{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionObjFromArray:function(n){return{value:n[0],label:n[1],data:{},className:n.className,prefixCss:this.cssMap[n[2]]||"",activeCss:""}}},font:{controlType:"widget.select.font",viewName:"widget.view.select.font",_lanType:null,initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{option:n.option,_lanType:n._lanType})},getInitDataComponents:function(n,t,i){for(var e=this.getInitComponents(n,t,i),u=e[this.selectCompIndex],o=u.option,s=i.data[0].label,f=0,h=o.length,r;f<h;f++)if(r=o[f],r.value&&r.value==s){u.selectedLabel=r.label;u.selectedValue=r.value;u.selectedFontFamily=r.data;break}return e},_getDefaultOptionState:function(n,t,i){var f=[["",i._NotSelectMessage||ecount.resource.LBL01918,""]].concat(this._getOptionsData(n)),r=this._getOptionsFromArray(f),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return{selectedValue:u,selectedLabel:this._getSelectedLabel(u,r),lastSelectedValue:u,selectedCss:u?this._getSelectedCss(u,r):r[0].className||"",selectedFontFamily:u?this._getSelectedFontFamily(u,r):r[0].data||"",option:r}},_getOptionsData:function(){var n=[],e=[],o=[["","","",undefined,"divider"]],t=this.getKrFont(),i=this.getEnFont(),r=this.getCnFont(),u=this.getJpFont(),f=this.getThFont();return e=this._lanType=="ko-KR"?[t,i,r,u,f]:this._lanType=="zh-CN"?[r,t,i,u,f]:this._lanType=="ja-JP"?[u,t,i,r,f]:this._lanType=="th-TH"?[f,i,t,r,u]:[i,t,r,u,f],e.forEach(function(t,i,r){n=n.concat(t);i<r.length-1&&(n=n.concat(o))}),n},_getSelectedCss:function(n,t){var i=t.find(function(t){return t.value==n&&t.label!==""});if(i)return i.className},_getSelectedFontFamily:function(n,t){var i=t.find(function(t){return t.value==n&&t.label!==""});if(i)return i.data},getKrFont:function(){return[["dotum","돋움","font-dotum","Dotum"],["gulim","굴림","font-gulim","Gulim"],["batang","바탕","font-batang","Batang"],["gungsuh","궁서","font-gungsuh","Gungsuh"],["Malgun Gothic","맑은고딕","font-malgun-gothic","Malgun Gothic"],["NanumGothic","나눔고딕","font-nanumgothic","NanumGothic"],["NanumBarunGothic","나눔바른고딕","font-NanumBarunGothic","NanumBarunGothic"],["NanumMyeongjo","나눔명조","font-NanumMyeongjo","NanumMyeongjo"]]},getEnFont:function(){return[["arial","Arial","font-arial","Arial"],["Verdana","Verdana","font-Verdana","Verdana"],["times-new-roman","Times New Roman","font-times-new-roman","Times New Roman"],["georgia","Georgia","font-georgia","Georgia"],["trebuchet-ms","Trebuchet MS","font-trebuchet-ms","Trebuchet MS"],["tahoma","Tahoma","font-tahoma","Tahoma"],["comic-sans-ms","Comic Sans MS","font-comic-sans-ms","Comic Sans MS"],["courier-new","Courier New","font-courier-new","Courier New"],["arial-black","Arial Black","font-arial-black","Arial Black"],["book-antiqua","Book Antiqua","font-book-antiqua","Book Antiqua"],["helvetica","Helvetica","font-helvetica","Helvetica"],["impact","Impact","font-impact","Impact"],["calibri","Calibri","font-calibri","Calibri"],["microsoft-sans-serif","Microsoft Sans Serif","font-microsoft-sans-serif","Microsoft Sans Serif"]]},getCnFont:function(){return[["microsoft-yahei","microsoft yahei","font-microsoft-yahei","microsoft yahei"],["hiragino-sans","苹果丽黑","font-hiragino-sans","苹果丽黑"],["simsun","宋体","font-simsun","宋体"],["simhei","黑体","font-simhei","黑体"],["kaiti","標楷體","font-kaiti","DFKai-SB"],["fangsong","仿宋","font-fangsong","仿宋"],["lishu","隶书","font-lishu","隶书"],["youyuan","幼圆","font-youyuan","幼圆"],["PMingLiU","新細明體","font-pmingliu","新細明體"],["Microsoft JhengHei","微軟正黑體","font-microsoft-jhengHei","微軟正黑體"]]},getJpFont:function(){return[["ms-pgothic","ＭＳ Ｐゴシック","font-ms-pgothic","MS PGothic"],["ms-pmincho","ＭＳ Ｐ明朝","font-ms-pmincho","MS PMincho"],["ms-gothic","ＭＳ ゴシック","font-ms-gothic","MS Gothic"],["ms-mincho","ＭＳ 明朝","font-ms-mincho","MS Mincho"],["meiryo","メイリオ","font-meiryo","Meiryo"]]},getThFont:function(){return[["Angsana New","Angsana New","font-angsana-new","Angsana New"],["Browallia New","Browallia New","font-browallia-new","Browallia New"],["RSU","RSU","font-rsu","RSU"],["Cordia New","Cordia New","font-cordia-new","Cordia New"],["Leelawadee","Leelawadee","font-leelawadee","Leelawadee"],["FreesiaUPC","FreesiaUPC","font-freesiaupc","FreesiaUPC"],["Sarabun","Sarabun","font-sarabun","Sarabun"]]},getFontFamily:function(n){return n===undefined&&(n=0),this.getState(n,"selectedFontFamily")},convertFontFamilyToValue:function(n,t){t===undefined&&(t=0);var r=this.getState(t,"option"),i=r.find(function(t){return t.data==n&&t.label!==""});return i&&i.value},_changeSelectedValue:function(n,t){var i=this.getState(n,"option");ecount.control.select.prototype._changeSelectedValue.call(this,n,t);typeof t=="object"?(this.setState(n,"selectedCss",t.className||this._getSelectedCss(t.value,i)),this.setState(n,"selectedFontFamily",this._getSelectedFontFamily(t.value,i))):(this.setState(n,"selectedCss",this._getSelectedCss(t,i)),this.setState(n,"selectedFontFamily",this._getSelectedFontFamily(t,i)))}},cloud:{controlType:"widget.select.cloud",cssMap:{ECOUNT:"icon-cloud-service-sm ecount-drive",GoogleDrive:"icon-cloud-service-sm google-drive",OneDrive:"icon-cloud-service-sm one-drive",DropBox:"icon-cloud-service-sm dropbox",Box:"icon-cloud-service-sm box"},viewName:"widget.view.select.cloud",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{option:n.option,_selectedValue:n._selectedValue!==undefined&&n._selectedValue!==null?n._selectedValue:null})},_getDefaultOptionState:function(n){var r=this._getOptionsData(n),t=this._getOptionsFromArray(r),i=$.isNull(this._selectedValue)?t[0].value:this._selectedValue;return{selectedValue:i,selectedLabel:this._getSelectedLabel(i,t),lastSelectedValue:i,selectedPrefixCss:i?this._getSelectedPrefixCss(i,t):t[0].prefixCss,option:t}},_getOptionsData:function(n){var i=[];if(!$.isEmptyObject(n)){var r=n.result,t=n.config,u=ecount.delimiter,f=r&&r.Data||[];f.map(function(n){i.push([n.PROVIDER_SEQ+u+n.ACCOUNT,n.ACCOUNT,n.PROVIDER_SEQ,n.PROVIDER_NAME])});t&&($.isEmpty(this._selectedValue)&&(this._selectedValue=t.SELECTEDVALUE),this._providerSeq=t.DEFAULT_PROVIDERSEQ)}return i},_getSelectedLayerData:function(n,t){return t.selected},_getOptionObjFromArray:function(n){return{value:n[0],label:n[1],data:{},className:n.className,prefixCss:this.cssMap[n[3]]||"",activeCss:""}},getProviderSeq:function(){if(this.$select){var n=this.getValue();if(!$.isEmpty(n))return n.split(ecount.delimiter)[0]}else return this._providerSeq||"0"},getselectValue:function(){return this._selectedValue?this._selectedValue.split(ecount.delimiter)[1]:""},_onBeforeChangeSelectedValue:function(){this.disableStateObserving()},_onAfterChangeSelectedValue:function(n){this.enableStateObserving();this.notifyToStateObserver(this.selectCompIndex,"selectedLabel",n.label)}},"ioType.inputCommon":{controlType:"widget.select.ioType.inputCommon",__inheritParent:"widget.select.ioType",init:function(){widget.select.ioType.prototype.init.apply(this,arguments);this.callbackID=ecount.global.registerCallback(this.ecPageID,this.onMessage,this)},initializeOptions:function(n,t){widget.select.ioType.prototype.initializeOptions.apply(this,arguments);t.result&&t.result.Data.length>0&&t.result.Data[0].IO_TYPE&&(this.__default.IO_TYPE=t.result.Data[0].IO_TYPE)},onInitState:function(n,t){widget.select.ioType.prototype.onInitState.apply(this,arguments);$.extend(t,{_calcData:{}})},render:function(){widget.select.ioType.prototype.render.apply(this,arguments)},getInitData:function(n){return ecount.control.getInitData(n.baseControlType||this.__inheritParent,n.inIncludePage,n.ecPageID)},setCalcData:function(n){this.setState(this._IT_SELF,"_calcData",n||{})},getCalcData:function(){var n=this.getState(this._IT_SELF,"_calcData");return $.isEmptyObject(n)?{isCalc:!0,price:!1,supply_amt:!0,vat_amt:!0,p_amt1:!0,p_amt2:!0,add_amt1:!0,add_amt2:!0,add_amt3:!0,add_amt4:!0,add_amt5:!0}:n}},"enoteCat.inputCommon":{controlType:"widget.select.enoteCat.inputCommon",__inheritParent:"widget.select.enoteCat",init:function(){widget.select.enoteCat.prototype.init.apply(this,arguments);this.callbackID=ecount.global.registerCallback(this.ecPageID,this.onMessage,this)},initializeOptions:function(n,t){widget.select.enoteCat.prototype.initializeOptions.apply(this,arguments);t.result&&t.result.Data.length>0&&t.result.Data[0].IO_TYPE&&(this.__default.IO_TYPE=t.result.Data[0].IO_TYPE)},onInitState:function(n,t){$.extend(t,{_calcData:{}})},render:function(){widget.select.enoteCat.prototype.render.apply(this,arguments)},getInitData:function(n){return ecount.control.getInitData(this.__inheritParent,n.inIncludePage,n.ecPageID)},openNewSavePopup:function(){var n={width:ecount.infra.getPageWidthFromConfig(!0),height:460,EDITFLAG:"I",url:"/ECERP/SVC/ENT/ENT003P_01",name:ecount.resource.LBL02876},t={targetID:this.id,control:{id:this.id,control:this}};this.openPopup(t,n);this.setFocus(0)},onMessage:function(n,t){var r={value:t.data.CAT_ID,text:t.data.CAT_NM},i=String.format("{1}{0}{2}",ecount.delimiter,t.data.CAT_ID,t.data.CAT_NM);this.addOption({value:t.data.CAT_ID,label:t.data.CAT_NM,data:i,index:this.getOptionCount()-1});t.callback&&(t.callback(),delete t.callback);this.setValue(t.data.CAT_ID);this.setFocus(0)},_onAfterChangeSelectedValue:function(n){n&&n.value=="99999"&&this.openNewSavePopup()},openPopup:function(n,t){t.responseID=this.callbackID;t.__ecPageID=this.ecPageID;this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:n.targetID,control:n.control,parameter:t,handler:function(n,t,i,r){this.responseID=t;var u={url:n.url,name:n.name||"",param:n,popupType:n.popupType,popupID:this.id,popupLevel:r,parentPageID:n.parentPageID,isChangePopupType:n.isChangePopupType,alreadyIncludedLayout:!n.popupType};ecount.popup.openWindow(u)}.bind(this)})}},"exchangeType.inputCommon":{controlType:"widget.select.exchangeType.inputCommon",__inheritParent:"widget.select.exchangeType",getInitData:function(n){return ecount.control.getInitData(this.__inheritParent,n.inIncludePage,n.ecPageID)},openWIndowAddonPopup:function(){var n={width:ecount.infra.getPageWidthFromConfig(),height:250,Request:{FromProgramId:"E040114",EditMode:ecenum.editMode.new,isAddGroup:!0,TYPE_CD:"S10"},url:"/ECERP/SVC/ESA/ESA035M",name:ecount.resource.LBL02876},t={targetID:this.id,control:this};this.openPopup(t,n)},setForeignTypeChange:function(n){if(!$.isNull(n))if(n=="")this.setValue(String.format("0{0}0",ecount.delimiter),!0);else{var t=String.format("1{0}{1}",ecount.delimiter,n);this.isContain(t)&&this.getValue()!=t&&this.setValue(t,!0)}},onMessage:function(n,t){var i=String.format("{1}{0}{2}{0}{3}{0}{4}{0}{5}{0}{6}",ecount.delimiter,t.AMTDIGIT_LEN,t.CODE_CLASS,t.CODE_DES,t.CODE_NO,t.EXCHANGE_RATE,"Y");this.addOption({value:"1"+ecount.delimiter+t.CODE_NO,label:String.format("{0} [{1}]",t.CODE_DES,t.CODE_NO),data:i,index:this.getOptionCount()-1});this.setValue("1"+ecount.delimiter+t.CODE_NO,!0);this.setForeignTypeChange();t.callback&&(t.callback(),delete t.callback)},_onAfterChangeSelectedValue:function(n){n&&n.value==String.format("0{0}99999",ecount.delimiter)&&this.openWIndowAddonPopup()}},"exchangeType.selectCommon":{controlType:"widget.select.exchangeType.selectCommon",__inheritParent:"widget.select.exchangeType",getInitData:function(n){return ecount.control.getInitData(this.__inheritParent,n.inIncludePage,n.ecPageID)},openWIndowAddonPopup:function(){var n={width:ecount.infra.getPageWidthFromConfig(),height:250,Request:{FromProgramId:"E040114",EditMode:ecenum.editMode.new,isAddGroup:!0,Data:{CODE_CLASS:"S10"}},url:"/ECERP/SVC/ESA/ESA035M",name:ecount.resource.LBL02876},t={targetID:this.id,control:this};this.openPopup(t,n)},setForeignTypeChange:function(n){if(!$.isNull(n))if(n=="")this.setValue(String.format("0{0}0",ecount.delimiter),!0);else{var t=String.format("1{0}{1}",ecount.delimiter,n);this.isContain(t)&&this.getValue()!=t&&this.setValue(t,!0)}},onMessage:function(n,t){var i=String.format("{1}{0}{2}{0}{3}{0}{4}{0}{5}{0}{6}",ecount.delimiter,t.AMTDIGIT_LEN,t.CODE_CLASS,t.CODE_DES,t.CODE_NO,t.EXCHANGE_RATE,"Y");this.addOption({value:"1"+ecount.delimiter+t.CODE_NO,label:String.format("{0} [{1}]",t.CODE_DES,t.CODE_NO),data:i,index:this.getOptionCount()-1});this.setValue("1"+ecount.delimiter+t.CODE_NO,!0);this.setForeignTypeChange();t.callback&&(t.callback(),delete t.callback)},_onAfterChangeSelectedValue:function(n){n&&n.value==String.format("0{0}99999",ecount.delimiter)&&this.openWIndowAddonPopup()}},accountWMS:{controlType:"widget.select.accountWMS",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{isChecked:n.isChecked||[]})},onInitComponent:function(n,t,i,r){if(ecount.control.select.prototype.onInitComponent.apply(this,arguments),!this.isChecked)return!1;r.activeClass="active";for(var u=0;u<this.isChecked.length;u++)r.option[u].isChecked=this.isChecked[u]==!0?!0:!1}},simpleSearch:{controlType:"widget.select.simpleSearch",initializeOptions:function(n){ecount.control.select.prototype.initializeOptions.apply(this,arguments);$.extend(this,{baseControlType:n.baseControlType,searchList:n.searchList||null,notUseOption:$.isNull(n.notUseOption)?!0:n.notUseOption})},_getDefaultOptionState:function(n,t,i){var e=this._getOptionsData(n),r=this._getOptionsFromArray(e),f=r.find(function(n){return n.data&&n.data.IS_DEFAULT==!0}),u=r.head(ecount.control.select.optionFindingPredicate.bind(r,i._selectedValue))?i._selectedValue:r[0].value;return this.notUseOption!=!0&&$.isEmpty(i._selectedValue)&&u==r[0].value&&f&&(u=f.value),{selectedValue:u,lastSelectedValue:u,selectedLabel:this._getSelectedLabel(u,r),option:r}},_getOptionsData:function(n){var t=n.config,i=ecount.resource,r=[["D",i.LBL05716]],u,f;return this.notUseOption!=!1&&r.unshift(["N",i.LBL03589]),t&&t.CofmDateShortCutMenuMappingButtons&&t.Is_ScMode?(u=t.CofmDateShortCutMenuMappingButtons||[],u.forEach(function(n){["endDay","endMonth"].contains(n.SHORTCUT_NM)||r.push([n.U_SHORTCUT_NM,n.USER_TITLE,null,n])})):this.searchList&&(f=ecount.constValue.simpleSearchList,i=ecount.resource,this.searchList.forEach(function(n){["endDay","endMonth"].contains(n)||r.push([n,i[f[n]],null,{SHORTCUT_NM:n}])})),r},filterOptions:function(n,t){var i=[];return n.forEach(function(n){$.isFunction(t)?t.call(this,n)&&i.push(n):n.SHORTCUT_NM!="endDay"&&i.push(n)}),i},onInitExtractComponent:function(n,t,i){var r,u,f;ecount.control.select.prototype.onInitExtractComponent.apply(this,arguments);r=this._getDefaultOptionState(n,t,i);$.isEmptyObject(r)||(u=this.getComponent(0),f={selectedValue:"N",lastSelectedValue:"N"},u.option=Object.clone(r.option,!0),this.checkSelectedOptions(u,f))},checkSelectedOptions:function(n,t){var r=n||this.__state.components[0],u={};for(var i in t)r.option.forEach(function(n){u[i]||(u[i]=n.value==r[i])}),u[i]||(r[i]=t[i],i=="selectedValue"&&(r.selectedLabel=this._getSelectedLabel(r[i],r.option)))},isComponentResetExceptionPath:function(n,t){return n=="option"?!0:["selectedValue","selectedLabel","lastSelectedValue"].contains(n)?!this.isContain(t.selectedValue):!1},getOptionsList:function(){return this.getState(0,"option")||[]}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.select.repository[n]||{},i=ecount.control.select,widget.select._baseLoaded||(ecount.control.loadRepository(ecount.control.select,ecount.control.view.select,"widget.select"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.select,t,"widget.select",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.select")){r=t.controlType.replace("widget.select.","");ecount.control.mountMixinWidget(widget.select,t,"widget.select",[widget.select,r]);return}widget.select[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.select,ecount.control.mountWidget(widget.select,n,i,t))}}}};widget.view.select._export=function(){return{_default:{},fromToDouble:{template:"((select))&nbsp;{{colon}}((select))&nbsp;{{delimiter}}&nbsp;((select))&nbsp;{{colon}}((select))",baseTemplateType:!1,onInitTemplate:function(n,t){return n=n.replace(/{{delimiter}}/,t.delimiter),n.replaceAll(/{{colon}}/,t.colon?t.colon+"&nbsp;":"")}},fromToDoubleInOutTime:{template:"((select))&nbsp;((select))&nbsp;((select))&nbsp;{{delimiter}}&nbsp;((select))&nbsp;((select))&nbsp;((select))",baseTemplateType:!1,onInitTemplate:function(n,t){return n.replace(/{{delimiter}}/,t.delimiter)}},fromToDoubleDisbursementPeriod:{template:"((select))&nbsp;((select))&nbsp;((select))&nbsp;{{delimiter}}&nbsp;((select))&nbsp;((select))&nbsp;((select))",baseTemplateType:!1,onInitTemplate:function(n,t){return n.replace(/{{delimiter}}/,t.delimiter)}},font:{onChangeSelectedCss:function(n,t){var i=this.getElements(n).filter("button[data-cid]");i&&(i.get(0).className=i.get(0).className.replace(/font[\w\-]+\b/,"")+" "+t)}},theme:{onInitTemplate:function(n,t){var i=t.components[0];return i&&(t._inline?i["style.css"]=[i["style.css"],"btn-selectbox-inline"].join(" "):i["style.css"]&&(i["style.css"]=i["style.css"].replace("btn-group-select-inline","btn-selectbox-inline"))),n},onChangeSelectedPrefixCss:function(){}},cloud:{template:"((select-image))"}}};widget.signbox={};widget.signbox._baseLoaded=!1;widget.signbox._export=function(){return{_default:{serNo:0,isLeftHeaderWidthFix:!0,leftHeaderWidth:0,height:70,init:function(n){$.isNull(n.serNo)||(this.serNo=n.serNo);$.isNull(n.isLeftHeaderWidthFix)||(this.isLeftHeaderWidthFix=n.isLeftHeaderWidthFix);$.isNull(n.leftHeaderWidth)||(this.leftHeaderWidth=n.leftHeaderWidth);$.isNull(n.ecPageID)||(this.ecPageID=n.ecPageID)},render:function(n){n.length>1&&(n=n.last());widget.template("signbox",{serNo:this.serNo,isLeftHeaderWidthFix:this.isLeftHeaderWidthFix,leftHeaderWidth:this.leftHeaderWidth,ecPageID:this.ecPageID},function(t){this.$el=$(t);n.append(this.$el);var i=this.$el.closest("div#mainPage").data("ecpageid");$.isNull(i)||$.isNull(ecount.global.findPageInstance(i))||ecount.global.findPageInstance(i).adjustContentsDimensions()}.bind(this))}},create:function(n){var t,i,r;(n=n||"_default",t=widget.signbox.repository[n]||{},widget.signbox._baseLoaded||(i=$.Class(ecount.control,widget.signbox.repository._default),widget.signbox=$.extend(i,widget.signbox),widget.signbox._baseLoaded=!0,n!="_default"))&&(widget.signbox[n]||(t.init||(t.init=function(){widget.signbox.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.signbox.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.signbox,widget.signbox[n]=$.Class(r,t)))}}};widget.search={};widget.search._baseLoaded=!1;widget.search._export=function(){return{_default:{controlType:"widget.search",isSearchInput:!0,containsType:"search",errorContainer:"bottom",css:"title-simple-search flexible",useKeyDownSearch:!1,init:function(){ecount.control.input.prototype.init.apply(this,arguments)},initializeOptions:function(n){var t=n.__filter||[];$.extend(this,{__filter:t,__handler:n.__handler,individualFilterbind:t.length>0,isSearchInput:n.isSearchInput||this.isSearchInput,_errPlacement:n.errorContainer||this.errorContainer,useKeyDownSearch:n.useKeyDownSearch||!1,isUseFakeFocus:n.isUseFakeFocus!==!1&&ecount.common.isIOS})},onInitState:function(n,t){ecount.control.input.prototype.onInitState.apply(this,arguments);t["validate.containstype"]=this.containsType},initializeViewOptions:function(n){var t=n.wrapperCss||"wrapper-title-simple-search";_.merge(this.__viewOptions,{wrapperCss:t,isUseFakeFocus:this.isUseFakeFocus})},onInitComponent:function(n,t,i,r){var u=ecount.resource.LBL18169;ecount.control.input.prototype.onInitComponent.apply(this,arguments);!r["attr.placeholder"]&&u&&(r["attr.placeholder"]=u)},getInitDataComponents:function(n,t,i){return[{cid:this.id,value:i.data[0].value||"","style.css":this.css}]},getInitComponents:function(){return[{cid:this.id,"style.css":this.css}]},render:function(){ecount.control.input.prototype.render.apply(this,arguments)},triggerUserHandler:function(n,t){if(n=="click"&&t.target.tagName=="INPUT")return!1;ecount.control.prototype.triggerUserHandler.apply(this,arguments)},ON_FOCUSIN:function(n,t){var i=n.cindex;this.__handler&&this.__handler.focus&&this.__handler.focus(t,this.getValue());$.isNull(i)||this.setState(n.cindex,"opt.selectRange",!0)},ON_INPUT:function(n){this.setValue(n.cindex,n.value)},ON_KEYDOWN_ENTER:function(n,t){var i=n.cindex;return this.hasError()?!1:$.isNull(i)?!0:(this.setValue(i,n.value),this.isUseFakeFocus&&this.ecview&&this.ecview.$fakeInp?(this.searchDebounce||(this.searchDebounce=_.debounce(function(){this.ecview.$fakeInp.focus();setTimeout(function(){this.setState(i,"opt.selectRange",!1);this.__handler&&this.__handler.keydown&&this.__handler.keydown(t,n.value)}.bind(this),300)}.bind(this),500,{leading:!0,trailing:!1})),this.searchDebounce(n)):this._setSearchDebounce.apply(this,arguments),!1)},ON_KEYDOWN_OTHERS:function(){this._callBySearchDebounce.apply(this,arguments)},ON_KEYDOWN_BACKSPACE:function(){this._callBySearchDebounce.apply(this,arguments)},ON_KEYDOWN_DELETE:function(){this._callBySearchDebounce.apply(this,arguments)},ON_KEYDOWN_SPACE:function(){this._callBySearchDebounce.apply(this,arguments)},_callBySearchDebounce:function(){this.useKeyDownSearch&&this._setSearchDebounce.apply(this,arguments)},_setSearchDebounce:function(n,t){var r=n.cindex,i=t.key||t.keyCode;this.searchDebounce||(this.searchDebounce=_.debounce(function(n){n&&this.setState(r,"opt.selectRange",!1);this.__handler&&this.__handler.keydown&&this.__handler.keydown(t,this.getValue())}.bind(this),500,{leading:!0,trailing:!1}));this.searchDebounce(i==="Enter"||i===13?!0:!1)},ON_KEYDOWN_TAB:function(n){var t=n.cindex;$.isNull(t)||this.setValue(t,n.value)},ON_KEYDOWN_ESC:function(){return!0}},create:function(n){var t,i,r;(n=n||"_default",t=widget.search.repository[n]||{},widget.search._baseLoaded||(i=$.Class(ecount.control.input,widget.search.repository._default),widget.search=$.extend(i,widget.search),widget.search._baseLoaded=!0,n!="_default"))&&(widget.search[n]||(t.init||(t.init=function(){widget.search.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.search.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.search,widget.search[n]=$.Class(r,t)))}}};widget.list={};widget.list._baseLoaded=!1;widget.list._export=function(){return{_default:{ecPackage:"widget.list",controlType:"widget.list",viewName:"widget.view.list",initializeOptions:function(n){_.merge(this,{sArrContents:n.sArrContents||this.sArrContents,onBeforeClickHandler:n.onClick||this.onClick})},onInitState:function(n,t,i){_.merge(this.__state,{order:i._order||this._order})},onInitComponents:function(n,t){t.components&&t.components.length!=0&&ecount.control.prototype.onInitComponents.apply(this,arguments)},getInitDataComponents:function(n,t,i){return this._getComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getComponents(n,t,i)},createView:function(){var n=this.ecPackage.split(".");return n.splice(1,0,"view"),n=n.join("."),this.ecview=new(ecount.common.createNamespace(n))},onBeforeClickHandler:function(){},_getComponents:function(n,t,i){return i.sArrContents||this.sArrContents?(i.sArrContents||this.sArrContents).map(function(n){return typeof n=="string"?{label:n}:_.clone(n)}):[]}},linkList:{ecPackage:"widget.list",controlType:"widget.list.linkList",viewName:"widget.view.list.linkList",_listCss:"",_titleCss:"title",initializeOptions:function(n){_.merge(this,{title:n._title,_titleCss:n.titleCss,articleConvertor:n._callback})},initializeViewOptions:function(n){_.merge(this.__viewOptions,{title:n.subTitle||this.subTitle||"","style.css":n.css||this.css,"style.headerCss":n.containercss||"","style.listCss":n.listCss})},onInitComponent:function(n,t,i,r,u){ecount.control.prototype.onInitComponent.apply(this,arguments);var f=i.components[t];r.label=f.label||"";r["attr.href"]="javascript:;";u.listType&&(r["style.itemCss"]=r.css,r["style.css"]=this._titleCss)},_getComponents:function(n,t,i){return i.sArrContents||this.sArrContents?(i.sArrContents||this.sArrContents).slice(0):[]},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.cindex);if(!u)return!1;r.value=u.value;r.cid=this.id;r.cname=this.name;r.label=u.label;r.command=this._makeCommandString()}},inputCode:{ecPackage:"widget.list",controlType:"widget.list.inputCode",viewName:"widget.view.list.inputCode",addLinkText:ecount.resource.BTN00107,onInitState:function(n,t,i){_.merge(this.__state,{order:i._order||this._order,lastSearchValue:"",lastSearchIndex:""})},getItemCount:function(){return this.getComponents().filter(function(n){return n.isTip}).length},setSearchValue:function(n){var f=!1,u=n.toLowerCase(),i=0,r=0,t;if(!$.isEmpty(u)&&(r=this.getComponents().filter(function(n){return n.label.indexOf(u)>=0||n.value.indexOf(u)>=0}),this.getState(this._IT_SELF,"lastSearchValue")==n&&(i=(this.getState(this._IT_SELF,"lastSearchIndex")||0)+1,r.length===i?i=0:this.setState(this._IT_SELF,"lastSearchIndex",i)),r.length>0))for(t=0;t<r.length;t++)!f&&t>=i&&(this.ecview.highlightItem(r[t].index,{ecPageID:this.ecPageID,containerId:this.panelID}),f=!0,this.setState(this._IT_SELF,"lastSearchValue",u),this.setState(this._IT_SELF,"lastSearchIndex",t));return f},setInitSearchValue:function(){this.ecview.resetItemHighlight()},setLabelText:function(n,t){_.isNumber(n)&&t&&this.setState(n,"label",t)},setSettingHighlight:function(n,t){_.isNumber(n)&&_.isBoolean(t)&&(t?this.setLinkCss(n,"text-warning-inverse"):this.setLinkCss(n,""))},setLinkCss:function(n,t){_.isNumber(n)&&this.setState(n,"linkCss",t)},_getComponents:function(n,t,i){var r=i.addLinkText||this.addLinkText;return i.sArrContents||this.sArrContents?(i.sArrContents||this.sArrContents).map(function(n,i){return _.extend({cid:t.cid,addLinkText:r,index:i},n)}):[]},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.ecRoleIndex);if(!u)return!1;r=_.cloneDeep(u);_.merge(n,u,{eventType:n.ecRole=="button"?"tip":n.ecRole=="secondLink"&&u.inpTypeCd=="S"?"setup":n.ecRole=="secondLink"?"setting":"add"});this.onBeforeClickHandler(n,t,r)}},thumbnail:{ecPackage:"widget.list",controlType:"widget.list.thumbnail",viewName:"widget.view.list.thumbnail",initializeViewOptions:function(n){_.merge(this.__viewOptions,{title:n.subTitle||this.subTitle,"style.css":n.css||this.css,isVertical:!0})},onInitComponent:function(n,t,i,r){ecount.control.prototype.onInitComponent.apply(this,arguments);var u=i.components[t];r.label=u.caption;r["style.css"]=u.thumbClass},_getComponents:function(n,t,i){var r=i.thumbnailContents||this.thumbnailContents;return r?r.slice(0):[]},_ON_BEFORE_CLICK:function(){return!0},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.ecRoleIndex);if(!u)return!1;r=_.cloneDeep(u);_.merge(n,u);this.onBeforeClickHandler(n,t,r)}},image:{ecPackage:"widget.list",controlType:"widget.list.image",viewName:"widget.view.list.image",onInitState:function(n,t,i){ecount.control.prototype.onInitState.apply(this,arguments);t.actionType=i.actionType||"link"},onInitComponent:function(n,t,i,r,u){ecount.control.prototype.onInitComponent.apply(this,arguments);var f=i.components[t];r.label=f.caption||f.label||"";r["attr.disabled"]=i["attr.disabled"]===!0||!!~_.indexOf(u.disabledList,f.value);r["style.display"]=!~_.indexOf(u.hideList,f.value);r.checked=f.checked||!1;r["style.liClass"]=ecount.convertor.uniqSumClass(u.liClass||"",r["style.display"]===!1?"hidden":"");r["style.liDivClass"]=ecount.convertor.uniqSumClass(u.liDivClass||"",f.checked===!0?"action":"");r["style.src"]=f.src||"";r["style.class"]=f.class||""},_getComponents:function(n,t,i){return _.isArray(i.imageList)?i.imageList.slice(0):[]},getCheckedItems:function(){return this.getComponents().filter(function(n){return n.checked})},getCheckedValue:function(){return this.getCheckedItems().map(function(n){return n.value})},getCheckedLabel:function(){return this.getCheckedItems().map(function(n){return n.label})},getCheckedInfo:function(){return this.getComponents().map(function(n){return{index:n.index,checked:n.checked,value:n.value,label:n.label}})},getValue:function(){switch(this.getState(this._IT_SELF,"actionType")){case"view":case"link":return this.getCompDisplayByValue();default:return this.getCheckedValue()}},setValue:function(n,t){var u=this.getComponents(),i,r;if(!u.all(function(n){return n["attr.disbled"]})&&!this.getState(this._IT_SELF,"attr.disabled")){arguments.length===1&&(t=n);switch(this.getState(this._IT_SELF,"actionType")){case"radio":case"radioCancel":t=_.isArray(t)?t[0]:t;i=this.getComponentByAttr("value",t);i&&(this.setCheckedAll(!1),this.setState(i.index,"checked",!0));break;case"checkbox":for(t=_.isArray(t)?t:[t],r=0;r<t.length;r++)i=this.getComponentByAttr("value",t[r]),i&&this.setState(i.index,"checked",!0)}}},setCheckedValue:function(n,t){for(var n=_.isArray(n)?n:[n],t=t===!1?t:!0,r=this.getComponents(),i=0;i<r.length;i++)!~_.indexOf(n,r[i].value)||this.setState(i,"checked",t)},setCheckedAll:function(n){n=n===!1?n:!0;this.getComponents().map(function(t){t.checked=n});this.ecview&&this.ecview.allChangeCompChecked(n)},serialize:function(n){return{key:n||this.id,value:this.getCheckedValue()}},setCompDisplayByValue:function(n,t){!_.isNil(n)&&_.isBoolean(t)&&(n=_.isArray(n)?n:[n],this.getComponents().filter(function(t){return!!~_.indexOf(n,t.value)},this).forEach(function(n){this.setState(n.index,"style.display",t)},this))},setOnlyDisplayByValue:function(n){_.isNil(n)||(n=_.isArray(n)?n[0]:n,this.getComponents().forEach(function(t){t.value===n?this.setState(t.index,"style.display",!0):this.setState(t.index,"style.display",!1)},this))},getCompDisplayByValue:function(){return this.getCompDisplay().map(function(n){return n.value})},getCompDisplay:function(){return this.getComponents().filter(function(n){return n["style.display"]===!0})},ON_CLICK:function(n,t,i,r){var u=this.getComponent(n.cindex),f=!u.checked,e=this.getState(this._IT_SELF,"actionType");if(!u||this.getState(this._IT_SELF,"attr.disabled")||this.getState(u.index,"attr.disabled"))return!1;r=_.cloneDeep(u);switch(this.getState(this._IT_SELF,"actionType")){case"radio":this.setCheckedAll(!1);this.setState(u.index,"checked",!0);break;case"radioCancel":this.setCheckedAll(!1);case"checkbox":this.setState(u.index,"checked",f)}if(e!=="view")this.onBeforeClickHandler(n,t,r)}},cloud:{ecPackage:"widget.list",controlType:"widget.list.cloud",viewName:"widget.view.list.cloud",initializeOptions:function(){ecount.control.prototype.initializeOptions.apply(this,arguments);this._preventLayerOpenByHover=!0},initializeViewOptions:function(n){_.merge(this.__viewOptions,{"style.containerCss":n.containercss||""})},onInitState:function(n,t,i){t.sArrContents=i.sArrContents||this.sArrContents||[];t.sArrContents.length>0&&t.sArrContents.forEach(function(n,t){n.index=t})},getLayerDropdownOption:function(n,t){var i=this._getSArrContents(n.ecRoleIndex);return i.dropdownList&&i.dropdownList.length?_.extend(this.getLayerDefaultOption(n,t),{items:i.dropdownList,serviceKey:this.getLayerServiceKey(n,t)+n.ecRoleIndex,boundary:this.getRoleHolderBoundary(n.ecRole,null,n.ecRoleIndex)}):!1},setLabel:function(n,t){var i=this.__state.sArrContents.first(function(t){return t.value==n});i.label=t;this.ecview.onChangeLabel(i.index,t)},setList:function(n){n&&n.length>0&&(n.forEach(function(n,t){n.index=t}),this.setState(this._IT_SELF,"sArrContents",n))},getList:function(){return this.getState(this._IT_SELF,"sArrContents")||[]},showDropdown:function(n){if(n!==undefined){var t=this._getSArrContents(n),i={handler:"click.layer.dropdown",ecService:"layer.dropdown",ecRole:t.value,ecRoleIndex:n,ecPath:this.getEcPath()};this._showLayer(i,{},{fromCommand:!0})}},_getComponents:function(){return[]},_getSArrContents:function(n){return this.__state.sArrContents.length>0?this.__state.sArrContents[n]:null},_ON_BEFORE_CLICK:function(){},ON_CLICK:function(n,t,i,r){if(n.ecService)return!1;var u=this._getSArrContents(n.ecRoleIndex);if(!u)return!1;r.value=u.value;r.cid=this.id;r.cname=this.name;r.label=u.label;r.command=this._makeCommandString()}},group:{ecPackage:"widget.group",controlType:"widget.list.group",viewName:"widget.view.list.group",_getComponents:function(n,t,i){var r=i._dataItems||this._dataItems;return r?r.slice(0):[]}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.list.repository[n]||{},i=ecount.control,widget.list._baseLoaded||(ecount.control.loadRepository(ecount.control,ecount.control.view,"widget.list"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.list,t,"widget.list",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.list")){r=t.controlType.replace("widget.list.","");ecount.control.mountMixinWidget(widget.list,t,"widget.list",[widget.list,r]);return}widget.list[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.list,ecount.control.mountWidget(widget.list,n,i,t))}}}};widget.view.list._export=function(){return{_default:{containerTemplate:'<div class="well"><{{listTag}}>{{itemTemplate}}<\/{{listTag}}><\/div>',template:"<li>{{label}}<\/li>",onInitTemplate:function(n,t){var i=t.components.map(function(t){return ecount.widget.replaceAttr(n,t)}.bind(this)).join("");return ecount.widget.replaceAttr(this.containerTemplate,_.extend({listTag:t.order},t)).replace("{{itemTemplate}}",i)}},linkList:{headerTemplate:'<div class="{{style.display}}{{style.headerCss}}">{{title}}<\/div>',containerTemplate:['<ul data-ecPath={{ecPath}} class="{{style.display}} {{style.listCss}}">',"{{itemTemplate}}","<\/ul>",].join(""),template:'<li class="{{style.itemCss}}"><a href="{{attr.href}}" data-cid="{{cid}}" data-index="{{index}}" class="{{style.css}}">{{label}}<\/a><\/li>',liCss:"text-default",onInitTemplate:function(n,t){var i=this.headerTemplate.replace("{{style.display}}",t["style.display"]?"":"hidden"),r=ecount.widget.replaceAttr(i,t),u=t.components.map(function(t){return ecount.widget.replaceAttr(n,_.extend(t,{"style.css":this.liCss}))}.bind(this)).join(""),f=ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{itemTemplate}}",u);return[r,f].join("")},beforeMount:function(n){var t=this.getComposedDomString(n);this.ecPageID=n.ecPageID;this.gridID=n.gridID;this.containerZIndex=n.containerZIndex;this.$el=$(t);this.$el.get(1).ecIKey=n.ecIKey},onInitWrapperTemplate:function(){return"((this.template))"}},inputCode:{wrapperTemplate:'<div data-ecpath="{{ecPath}}" class="{{style.display}}">\n((this.template))\n<\/div>',containerTemplate:['<ul data-ecPath={{ecPath}} class="{{ulCss}}">',"{{itemTemplate}}","<\/ul>",].join(""),template:'<li data-index="{{index}}"><a href="javascript:;" cid="{{cid}}" data-role="link" data-role-index="{{index}}">{{addLinkText}}<\/a>{{value}}<span>{{label}}<\/span>&nbsp;{{button}}{{type}}&nbsp;{{link}}<\/li>',buttonTemplate:'<button data-cid="{{cid}}" class="btn btn-xs btn-default" data-role="button" data-role-index="{{index}}">TIP<\/button>',ulCss:"template-setup-code",onInitTemplate:function(n,t){var i=t.components.map(function(t){return ecount.widget.replaceAttr(n,_.merge({},t,{button:t.isTip?ecount.widget.replaceAttr(this.buttonTemplate,t):"",link:t.link?ecount.widget.replaceAttr(ecount.control.template.link,{"attr.href":"javascript:;","attr.target":"",style:"",findex:"",index:0,ecRole:"secondLink",ecRoleIndex:t.index,"data-toggle":"",ecService:"inputCodeLink",ecServiceAttr:"",id:t.cid+"_link",cid:t.cid+"_link","style.css":t.linkHighlight===!0?t.linkCss?t.linkCss:"text-warning-inverse":t.linkCss?t.linkCss:"",label:t.link}):""}))}.bind(this)).join("");return ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{ulCss}}",this.ulCss).replace("{{itemTemplate}}",i)},highlightItem:function(n,t){var i=this.getElements(n).find("span");this.resetItemHighlight();i.addClass("text-warning-inverse");ecount.runtime.notify("page.move.scroll",null,{ecPageID:t.ecPageID,scroll:{scrollTop:i.offset().top,containerId:t.containerId,focusCenter:!0}})},resetItemHighlight:function(){this.$el.find("li > span.text-warning-inverse").removeClass("text-warning-inverse")},onChangeLabel:function(n,t){var i=this.$el.find("li[data-index='"+n+"'] span");i.length>0&&i.text(t)},onChangeLinkCss:function(n,t){var i=this.$el.find("li[data-index='"+n+"'] a:eq(1)");i.length>0&&(i.removeClass(),i.addClass(t))}},thumbnail:{headerTemplate:'<div class="contorl text-remark {{style.display}}">{{title}}<\/div>',containerTemplate:'<div class="contorl {{style.display}}"><ul class="thumbnail-list">{{itemTemplate}}<\/ul><\/div>',template:'<li data-role-index="{{index}}" data-cid={{cid}}><div class="thumbnail text-center" data-role-index="{{index}}"><span class=\'{{style.css}}\' data-role-index="{{index}}"><\/span><div class="caption" data-role-index="{{index}}">{{label}}<\/div><\/div><\/li>',onInitTemplate:function(n,t){var i=ecount.widget.replaceAttr(this.headerTemplate,t),r=t.components.map(function(t){return ecount.widget.replaceAttr(n,t)}.bind(this)).join(""),u=ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{itemTemplate}}",r);return[i,u].join("")}},image:{template:'<ul class="thumbnail-list">{{liTemp}}<\/ul>',liTemp:'<li data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" class="{{style.liClass}}"><div class="thumbnail text-center {{style.liDivClass}}" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}">{{checkboxTemp}}{{iconTemp}}{{imgTemp}}{{captionTemp}}<\/div><\/li>',iconTemp:'<span class="{{style.class}}" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" ><\/span>',imgTemp:'<img src="{{style.src}}" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" >',captionTemp:'<div class="caption" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" >{{label}}<\/div>',checkboxTemp:'<div class="checkbox-rounded-check" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" ><input type="checkbox" id="{{compId}}" data-cid="{{cid}}" data-role="list.click" data-index="{{index}}" data-role-index="{{index}}" {{disabledState}}><label for="{{compId}}"><\/label><\/div>',onInitTemplate:function(n,t){var i=t.components.map(function(n){var i=!~_.indexOf(["radio","radioCancel","checkbox"],t.actionType)?"":this.checkboxTemp,r=n["style.class"]?ecount.widget.replaceAttr(this.iconTemp,n):"",u=n["style.src"]?ecount.widget.replaceAttr(this.imgTemp,n):"",f=_.isString(n.caption)?ecount.widget.replaceAttr(this.captionTemp,n):"";return ecount.widget.replaceAttr(this.liTemp,_.merge({checkboxTemp:i,iconTemp:r,imgTemp:u,captionTemp:f,compId:t.cid+n.value,disabledState:n["attr.disabled"]===!0||t["attr.disabled"]===!0?"disabled":""},n))}.bind(this));return ecount.widget.replaceAttr(n,t).replace("{{liTemp}}",i.join(""))},onMount:function(n){n.components.filter(function(n){return n.checked}).forEach(function(n){var t=this.$el&&this.$el.find("li input:eq("+n.index+")");t.length>0&&t.prop("checked",!0)},this)},onChangeAttrDisabled:function(n,t){var i=this.getElements(n);n!=this._IT_SELF&&i.find("input").prop("disabled",t)},onChangeStyleDisplay:function(n,t){t?this.getElements(n).eq(0).removeClass("hidden"):this.getElements(n).eq(0).addClass("hidden")},onChangeChecked:function(n,t){var i=this.$el&&this.$el.find("li[data-index='"+n+"']");i.length>0&&(i.find("input").prop("checked",t),i.find("div.thumbnail")[t?"addClass":"removeClass"]("active"))},allChangeCompChecked:function(n){this.$el&&(this.$el.find("li input").prop("checked",n),this.$el.find("div.thumbnail")[n?"addClass":"removeClass"]("active"))}},cloud:{containerTemplate:['<ul class="{{containerCss}}">',"{{itemTemplate}}","<\/ul>",].join(""),template:'<li class="{{style.css}}" data-role="{{value}}" data-role-index="{{index}}">{{label}}{{spanTemplate}}<\/li>',spanTemplate:'<span class="arrow" data-role="{{value}}" data-role-index="{{index}}" data-service="layer.dropdown" data-service-attr="layer.fixed"/>',onInitTemplate:function(n,t){var i=t.sArrContents.map(function(t){var i="";return t.useArrow&&(i=ecount.widget.replaceAttr(this.spanTemplate,t)),ecount.widget.replaceAttr(n,t).replaceAll("{{style.css}}",t.liCss||"").replaceAll("{{spanTemplate}}",i)}.bind(this)).join("");return ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{containerCss}}",t["style.containerCss"]||"").replace("{{itemTemplate}}",i)},onChangeLabel:function(n,t){var i=this.$el.find('li[data-role-index="'+n+'"]');i&&i.html(t)},onChangeSArrContents:function(n,t){var i=this.$el.find("ul"),r="";t&&t.length>0&&(i.empty(),r=t.map(function(n){var t="";return n.useArrow&&(t=ecount.widget.replaceAttr(this.spanTemplate,n)),ecount.widget.replaceAttr(this.template,n).replaceAll("{{style.css}}",n.liCss||"").replaceAll("{{spanTemplate}}",t)}.bind(this)).join(""),i.append(r))}},group:{wrapperTemplate:'<div class="{{style.wrapper}} {{style.display}} well well-lg" data-ecpath="{{ecPath}}">\n((this.template))\n<\/div>',headerTemplate:'<div class="wrapper-sub-title" data-cid="{{cid}}" data-groupID="{{groupID}}">{{title}}<\/div>',containerTemplate:['<{{listTag}} class="ml-5">',"{{itemTemplate}}","<\/{{listTag}}>",].join(""),template:'<li data-cid="{{cid}}" data-groupID="{{groupID}}">{{label}}<\/li>',onInitTemplate:function(n,t){return t.components.map(this.getListedItemTemplate.bind(this,t)).join("")},getListedItemTemplate:function(n,t){if(t.dataItems&&$.isArray(t.dataItems)){var i=ecount.widget.replaceAttr(this.headerTemplate,{cid:t.cid||n.cid,groupID:t.groupID||"",title:t.label}),r=ecount.widget.replaceAttr(this.containerTemplate,{cid:t.cid||n.cid,listTag:n.order,itemTemplate:t.dataItems.map(this.getListedItemTemplate.bind(this,n)).join("")});return[i,r].join("")}return ecount.widget.replaceAttr(this.template,t)},onInitWrapperTemplate:function(){return'<div class="well well-lg {{style.display}}">((this.template))<\/div>'}}}};widget.toastPopup={};widget.toastPopup._baseLoaded=!1;widget.toastPopup._export=function(){return{_default:{ecPackage:"widget.toastPopup",controlType:"widget.toastPopup",viewName:"widget.view.toastPopup",initializeOptions:function(){this.useWrapperSet=!1},onInitState:function(n,t,i){_.merge(this.__state,{message:i.message||this.message,topBottom:i.topBottom||"top",leftRight:i.leftRight||"right"})},createView:function(){var n=this.ecPackage.split(".");return n.splice(1,0,"view"),n=n.join("."),this.ecview=new(ecount.common.createNamespace(n))},ON_CLICK:function(n,t,i,r){r.cid=this.cid}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.toastPopup.repository[n]||{},i=ecount.control,widget.toastPopup._baseLoaded||(ecount.control.loadRepository(ecount.control,ecount.control.view,"widget.toastPopup"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.toastPopup,t,"widget.toastPopup",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.toastPopup")){r=t.controlType.replace("widget.toastPopup.","");ecount.control.mountMixinWidget(widget.toastPopup,t,"widget.toastPopup",[widget.toastPopup,r]);return}widget.toastPopup[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.toastPopup,ecount.control.mountWidget(widget.toastPopup,n,i,t))}}}};widget.view.toastPopup._export=function(){return{_default:{template:['<div class="wrapper-notification {{topBottom}} {{leftRight}} side">','<div class="alert alert-primary alert-light animated bounceInDown">',"{{message}}",'<span class="inline-divider"><\/span>','<a href="#false" data-cid="{{cid}}" data-index="0" ">',ecount.resource.BTN00070,"<\/a>","<\/div>","<\/div>"].join(""),onInitTemplate:function(n,t){return n.replace("{{topBottom}}",t.topBottom).replace("{{leftRight}}",t.leftRight).replace("{{message}}",t.message)}}}};widget.calc={};widget.calc._baseLoaded=!1;widget.calc._export=function(){return{_default:{controlType:"widget.calc",init:function(){ecount.control.calc.prototype.init.apply(this,arguments)},render:function(){ecount.control.calc.prototype.render.apply(this,arguments)}},dateType:{controlType:"widget.calc.dateType",init:function(){ecount.control.calc.prototype.init.apply(this,arguments)},render:function(){ecount.control.calc.prototype.render.apply(this,arguments)},validate:function(n,t){var u=[],s=this.getState(this._IT_SELF,"list"),i=!1,f=ecount.resource.MSG01377,h=this.getRequiredItem(),v=this.getRequiredType(),c,l,r,e,y,o,a;if(n){for(u=this.checkValidate(n,t||this.dataRuleMsg),e=0,y=u.length;e<y;e++)u[e].control=this;ecount.control.prototype.setDataRuleMessage.call(this,target,u)}for(o=0;o<s.length;o++)if(c=this._checkValidateType(s,o)||{},i=!!c.isError,f=c.ErrMessage||f,i)break;if(i==!1)if(l=_.isEmpty(this.getValue())?[]:this.getValue().value.split(this._fieldGubun),r=_.isEmpty(this.getValue())?[]:this.getValue().type.split(this._fieldGubun),_.isEmpty(l)||$.isNull(h)||l.contains(h.value)!=!1||this.notCheckRequiredItem==!0||(i=!0,f=String.format("{0} 항목이 없는 경우 사용할 수 없습니다.",h.label)),_.isEmpty(r)||$.isNull(v)||r.contains(v)!=!1||(i=!0),a=r.filter(function(n){return n=="5"}),a.length>1)i=!0;else if(a.length==1){var p=r.findIndex(function(n){return n=="5"}),w=k(r.slice(0,p)),b=k(r.slice(p+1));(w=="ERROR"||b=="ERROR"||w!=b)&&(i=!0);function k(n){var t=n.filter(function(n){return n=="15"}).length,i=n.filter(function(n){return n=="14"||n=="17"}).length;return i==t*2+1?"DATE":i==t*2?"NUM":"ERROR"}}return i==!0&&(u.push({method:(this._isRequired&&this._isJoinString||!this._isCalc)&&s.length==0?"required":"permission",message:f,control:this}),this.showError(this._IT_SELF,f,!0,!1,!0)),u},_checkValidateType:function(n,t){var r,f,u=this.getType(n[t-1]),i=this.getType(n[t+1]),e=this.getType(n[t]);switch(e){case"3":u!=null&&["5","13"].contains(u)==!1&&(r=!0);i!=null&&["5","13"].contains(i)==!1&&(r=!0);break;case"5":["3","8","14","17"].contains(u)==!1&&(r=!0);["3","14","15","17"].contains(i)==!1&&(r=!0);break;case"8":i!=null&&["5","13"].contains(i)==!1&&(r=!0);break;case"13":["3","8","14","17"].contains(u)==!1&&(r=!0);["3","14","15","17"].contains(i)==!1&&(r=!0);["14","17"].contains(u)&&["14","17"].contains(i)&&(r=!0);break;case"15":if(u!=null&&["5","13"].contains(u)==!1&&(r=!0),i=this.getType(n[++t]),i=="16"){r=!0;f=ecount.resource.MSG09779;break}if(i&&["14","17"].contains(i)==!1){r=!0;break}if(i=this.getType(n[++t]),i&&i!="10"){r=!0;break}if(i=this.getType(n[++t]),i=="16"){r=!0;f=ecount.resource.MSG09779;break}if(i&&["14","17"].contains(i)==!1){r=!0;break}if(i=this.getType(n[++t]),i&&i!="8"){r=!0;break}if(i==null){r=!0;break}break;case"14":case"17":if(u=="15"||u=="10")break;u!=null&&["5","10","13","15"].contains(u)==!1&&(r=!0);i!=null&&["5","8","13"].contains(i)==!1&&(r=!0)}return{isError:r,ErrMessage:f||""}},_getDropdownServiceKey:function(){return ecount.common.makeServiceKey(this.getEcPath(),"DATE_SETTING")},getLayerDropdownOption:function(n,t){return _.extend(this.getLayerDefaultOption(n,t),{items:[{value:"DATE_SETTING_POPUP",label:ecount.resource.LBL02211+"(YYMMDD)"}],serviceKey:this._getDropdownServiceKey(),boundary:this.getComponentBoundary(n.cindex)})},_ON_BEFORE_FOCUSIN:function(n,t){n.value==""&&this._showLayer(_.extend({},n,{handler:"focusin.layer.dropdown",ecService:"layer.dropdown"}),t,{showingUpDelay:0,_onClicked:!0})},_ON_BEFORE_FOCUSOUT:function(){var n=this._getDropdownServiceKey();ecount.layer.setOnClicked(n,!1);ecount.layer.hide(n)},ON_CLICK_SERVICE:function(n,t,i,r){r.value=="DATE_SETTING_POPUP"?this._openPopup({url:"/ECERP/SVC/Popup/DateSelect",height:160}):ecount.control.calc.prototype.ON_CLICK_SERVICE.apply(this,arguments)}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.calc.repository[n]||{},i=widget.view.calc.repository[n]||{},widget.calc._baseLoaded||(r=$.Class(ecount.control.calc,widget.calc.repository._default),view=$.Class(ecount.control.view.calc,widget.view.calc.repository._default),widget.calc=$.extend(r,widget.calc),widget.view.calc=$.extend(view,widget.view.calc),widget.calc._baseLoaded=!0,n!="_default"))&&(widget.calc[n]||(t.init||(t.init=function(){widget.calc.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.calc.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.calc.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.calc,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.calc,widget.calc[n]=$.Class(u,t)))}}};widget.view.calc||(widget.view.calc={});widget.view.calc._export=function(){return{_default:{}}};widget.itemList={};widget.itemList._baseLoaded=!1;widget.itemList._export=function(){return{_default:{controlType:"widget.itemList",viewName:"widget.itemList",init:function(){ecount.control.anchor.prototype.init.apply(this,arguments);this.callbackID=ecount.global.registerCallback(this.ecPageID,this.onMessage,this)},render:function(){ecount.control.anchor.prototype.render.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{isOnlyLabel:n.isOnlyLabel===!0})},initializeViewOptions:function(){$.extend(this.__viewOptions,{isOnlyLabel:this.isOnlyLabel,isVertical:!0})},onInitState:function(n,t,i){var r=i._imageList||[];$.extend(t,{addedItems:this._getAddedItemsData(r),_imageList:i._imageList||[]})},onInitComponents:function(n,t){ecount.control.prototype.onInitComponents.apply(this,arguments);$.extend(this.__originData,{selectedItems:Object.clone(t.addedItems,!0)})},createView:function(){return this.ecview=new widget.view.itemList},ON_CHANGE:function(n){n.targetID=this.id;n.__self=this;this.delegator&&this.delegator.triggerEvent("control.change",n)},ON_CLICK:function(n,t,i,r){var f=n.ecRole,u=(n||{}).cindex;switch(f){case"itemList.showImage":return this.showImage(u,n,t);case"itemList.removeItem":return this.remove(u,n,t);case"itemList.selectbox":break;default:r.command=r.command||this._makeCommandString();r.__self=this}},ON_CLICK_SERVICE:function(n,t,i,r){r&&this._dateChangeHandler(n,t,r)},getLayerSelectboxOption:function(n){var t=ecount.control.prototype.getLayerSelectboxOption.call(this,n),i=this.getAddedComponent(n.ecRoleIndex,0);return _.extend(t,i)},getValue:function(){var t=Object.clone(this.__state._imageList),n;return t.length?(n=[],t.forEach(function(t,i){n.push({NO_NUM:i,ID_FILE:t.ID_FILE,NO_FILE:0,NM_FILE:t.fileName,DT_CREATEKEY:t.DT_CREATEKEY,NO_SORT:t.selIndex,FS_OWNER_KEY:t.FS_OWNER_KEY,ATTACH_INFO:t.ATTACH_INFO,FILE_ID:t.FILE_ID})}),n):[]},getImageList:function(){var n=this.getState(this._IT_SELF,"_imageList");return!n||!n.length?[]:Object.clone(n,!0)},onMessage:function(n,t){if(t&&t.length){if(this.getItemCount()+t.length>5)return ecount.alert(String.format(ecount.resource.MSG00590,ecount.resource.LBL02072,"5")),!1;t.length>0&&this.addImageList(t)}},serialize:function(n){return ecount.control.prototype.serialize.apply(this,[{key:n||this.name,value:this.getValue()||""},n])},_getAddedItemsData:function(n){var i=[],t=[];return n.forEach(function(n,r){t.length=0;t=t.concat(this.getAddedItemSelectBoxOptions(n,r));t=t.concat(this.getAddedItemLinkOptions(n));t=t.concat(this.getAddedItemDeleteOptions(n));i.push(Object.clone(t,!0))}.bind(this)),i},getAddedItemSelectBoxOptions:function(n,t){return{cid:this.id,"style.css":(this.isOnlyLabel?"hidden":"btn-group-select-inline")+" "+(this._getAllClass(0)||""),ecService:"layer.selectbox",ecRole:"itemList.selectbox",option:this.getAddedItemcomponents(),selectedLabel:n.selIndex==undefined?"1":n.selIndex,selectedValue:n.selIndex==undefined?"1":n.selIndex,imgItemKey:this.setecImgKey(t),ecPath:this.ecPath,index:t}},getAddedItemcomponents:function(){for(var n=1,t=[];n<=5;n++)t.push({id:"imageOption_"+n,value:n,label:n});return t},getAddedItemLinkOptions:function(n){return{cid:this.id,"style.css":"","attr.href":"javascript:;","attr.target":"",value:n.fileUrl,label:n.fileName,ecRole:"itemList.showImage"}},getAddedItemDeleteOptions:function(n){return{cid:this.id,"style.css":"","attr.href":"javascript:;","attr.target":"",label:"&times;",ID_FILE:n.ID_FILE,NO_FILE:0,DT_CREATEKEY:n.DT_CREATEKEY,FS_OWNER_KEY:n.FS_OWNER_KEY,ATTACH_INFO:n.ATTACH_INFO,FILE_ID:n.FILE_ID,ecRole:"itemList.removeItem"}},addImageList:function(n,t){this.setStateImageItemList(this.__state._imageList.concat(n));t||this.ON_CHANGE({syncHandler:this.addImageList,cid:this.id,args:[n,!0]})},setStateImageItemList:function(n){var t=this.setecImgKey(n),i;this.setState(this._IT_SELF,"_imageList",t);i=this._getAddedItemsData(t);this.setState(this._IT_SELF,"addedItems",i)},setecImgKey:function(n){var t="ecImgKey_";return typeof n=="object"?n.length?n.map(function(n,i){return $.extend(n,{imgItemKey:t+i})}):[]:t+n},_dateChangeHandler:function(n,t,i,r){var e=$.isEmpty(i.index)?n.ecRoleIndex:i.index,o=this.getAddedComponent(e,0),u={},f;i.selected||(i.selected=o.option.find(function(n){return n.value==o.selectedValue}));u=this._getSelectedLayerData(n,i);$.isEmptyObject(u)||(f=this.__state._imageList.map(function(n,t){return t==e?$.extend(n,{selIndex:u.value,isChange:!0}):(n.isChange&&delete n.isChange,n)}),this.setState(this._IT_SELF,"_imageList",f),this.setState(this._IT_SELF,"addedItems",this._getAddedItemsData(f)),r||this.ON_CHANGE({syncHandler:this._dateChangeHandler,cid:this.id,args:[n,t,i,!0]}))},_getSelectedLayerData:function(n,t){var i=t.selected,r="",u="";return i?(r=i.label,u=i.value,{label:r,value:u}):null},getAddedComponent:function(n,t){return this.__state.addedItems[n][t]},showImage:function(n){if($.isEmpty(n))return!1;var t=this.getAddedComponent(n,1);return t&&this.delegator&&this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:{imgUrl:t.value},handler:function(n,t,i,r){var u={url:"/ECERP/SVC/EGG/EGG024M",popupType:!1,popupLevel:r,popupID:this.id,parentPageID:i,alreadyIncludedLayout:this.alreadyIncludedLayout||!1,__ecPageID:this.ecPageID,param:{width:400,height:400,isViewOnly:!0,url:n.imgUrl}};ecount.popup.openWindow(u)}.bind(this)}),!1},remove:function(n,t,i,r){if($.isEmpty(n))return!1;var u=this.getAddedComponent(n,2);return u&&(this.setStateImageItemList(this.__state._imageList.filter(function(t,i){return i!=n})),r||this.ON_CHANGE({syncHandler:this.remove,cid:this.id,args:[n,null,null,!0]})),!1},removeAll:function(n){this.setState(this._IT_SELF,"_imageList",[]);this.setState(this._IT_SELF,"addedItems",[]);n||this.ON_CHANGE({syncHandler:this.removeAll,cid:this.id,args:[!0]})},getItemCount:function(){return(this.getState(this._IT_SELF,"addedItems")||[]).length},onClick:function(n,t){if(this.delegator)return this.delegator.triggerEvent("anchor.click",{targetID:t.cid,name:this.name,__self:this}),!1}},create:function(n){var t,i,r,u,f;(n=n||"_default",t=widget.itemList.repository[n]||{},i=widget.view.itemList.repository[n]||{},widget.itemList._baseLoaded||(r=$.Class(ecount.control.anchor,widget.itemList.repository._default),u=$.Class(ecount.control.view.anchor,widget.view.itemList.repository._default),widget.itemList=$.extend(r,widget.itemList),widget.view.itemList=$.extend(u,widget.view.itemList),widget.itemList._baseLoaded=!0,n!="_default"))&&(widget.itemList[n]||(t.init||(t.init=function(){ecount.control.anchor.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){ecount.control.anchor.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.itemList.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.itemList,n)),this.ecview=new n}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.itemList,widget.itemList[n]=$.Class(f,t)))}}};widget.view.itemList._export=function(){return{_default:{wrapperSet:'<div class="control-set multi-line {{style.display}}">',template:'<div class="control {{style.display}}">((link))<\/div><div data-role="item.container">{{addedItems}}<\/div>',itemTemplate:'<div class="control">\n<div class="wrapper" data-imgitemkey="{{imgitemkey}}">\n((select)){{viewTemplate}}((link))\n<\/div>\n<\/div>',onInitTemplate:function(n,t){var i=t.isOnlyLabel?"((label))":"((link))",r=t.addedItems;return this.addItemTemplate=this.itemTemplate.replace(/{{viewTemplate}}/g,i),n=n.replace(/{{cid}}/g,t.cid),n.replace("{{addedItems}}",this.getAddedItemsTemplate(r))},getAddedItemsTemplate:function(n){if(!n||!n.length)return"";var t=n.map(function(n,t){return this.parseHTML(this.addItemTemplate.replace(/{{imgitemkey}}/g,n[0].imgItemKey),{components:n,__index:t})}.bind(this));return t.join("")},onChangeAddedItems:function(n,t){var i=this.$el.find('[data-role="item.container"]');i.addClass("hidden");i.empty();i.append(this.getAddedItemsTemplate(t));i.removeClass("hidden")},onChangeImageList:function(n,t){var i=t.findIndex(function(n){return n.isChange==!0}),r,u;$.isEmpty(i)||i<0||(r=this.$el.find("div[data-imgitemkey='ecImgKey_"+i+"']"),u=[],r&&(u=t[i],r.find("input[type='text']").val(u.selIndex),r.find("button").text(u.selIndex)))},onChangeStyleCss:function(n,t){if(n==0){var i=this.$el.find("button[data-role='itemList.selectbox']");i&&i.removeClass().addClass(this.selectDefaultCss+" "+(t||""))}}}}};widget.topBottomSetting={};widget.topBottomSetting._baseLoaded=!1;widget.topBottomSetting._export=function(){return{_default:{template:'<div class="{{css.wrapper}}" {{style.wrapper}}><div class="overlay"><button class="{{css.button}}" data-cid={{cid}}>{{label.button}}<\/button><\/div><div data-html-wrapper class="position-relative" style="z-index:0;"><\/div><\/div>',htmlContent:"<div><\/div>",htmlContentWrap:"{{htmlContent}}",_transparentStampUrl:"none",_stampUrl:null,_stampTopValue:0,_stampLeftValue:0,_isTop:!0,overlaySection:null,_viewType:"topBottom",divCss:"wrapper-table-template-setup-preview-top",css:"btn btn-default position-absolute ",style:null,init:function(n){_.merge(this,n,{_stampUrl:ecount.config.company.SIGN_URL})},render:function(n){this.template=this.setTemplate();this.$el=$(this.template);n.append(this.$el);this._renderChildren()},setTemplate:function(){var n,t,i;switch(this._viewType){case"gw-board":n="wrapper-table-template-setup-preview-gw-board";t="btn btn-primary btn-lg ";break;case"topBottom":this._isTop||(n="wrapper-table-template-setup-preview-bottom");break;case"sendmail":n="wrapper-table-template-setup-preview-sendmail"}return ecount.widget.replaceAttr(this.template,{"css.wrapper":n||this.divCss,"style.wrapper":this.style?'style="'+this.style+'"':"","css.button":this.data&&this.data[0].css?this.data[0].css:t,"label.button":this.data&&this.data[0].label?this.data[0].label:ecount.resource.LBL01593,cid:this.id,ecPath:this.getEcPath()})},_renderChildren:function(){var u=this,n=ecount.widget.replaceAttr(this.htmlContentWrap,{htmlContent:this.htmlContent}),t=this.$el.find(".overlay"),i=t.find("button"),r;n=$("<div>"+n+"<\/div>").html();try{this.$contentContainer=$(n)}catch(f){this.$contentContainer=$("<p>"+n+"<\/p>")}r=this.$el.find("[data-html-wrapper]");r.append(this.$contentContainer);this.replaceMappingData(this.mappingDatas);this._autoSetTopAndLeftValue();i.on("click",function(){var t=["on",this.containerName,this.id].join("_").ecCamelize(!0),n=ecount.global.findPageInstance(this.ecPageID);!$.isNull(n)&&$.isFunction(n[t])&&n[t]()}.bind(this));if(this.$overlayTarget=_.isString(this.overlaySection)?this.$el.find("[data-overlay='"+this.overlaySection+"']"):[],this.$overlayTarget.length>0)this.$el.on("mouseover.overlay",function(){this.$overlayTarget.length>0&&(t.css({height:this.$overlayTarget.height(),top:this.$overlayTarget.position().top+_.toNumber(this.$overlayTarget.css("marginTop").replace("px",""))}),i.css("top",parseInt(t.outerHeight())/2))}.bind(this));else t.on("mouseenter",function(n){var t=parseInt($(n.target).outerHeight())/2;$.isNumeric(t)&&i.css("top",t)});n==""&&t.hide()},_autoSetTopAndLeftValue:function(){var n=this,t="",i="";this.getContents(function(r){if(r.css("background-image").indexOf(n._stampUrl)>=0||r.css("background-image").indexOf(n._transparentStampUrl)>=0){var f=r.css("background-position"),u=[];typeof f=="undefined"&&(f=r.css("background-position-x")+" "+r.css("background-position-y"));f.trim()!=""&&(u=f.split(" "),u.length>0&&u[0].trim().indexOf("%")<0&&(i=u[0].trim().replace("px","")),u.length>1&&u[1].trim().indexOf("%")<0&&(t=u[1].trim().replace("px","")));n._stampTopValue=t;n._stampLeftValue=i}})},getStampTopValue:function(){return this._stampTopValue},getStampLeftValue:function(){return this._stampLeftValue},setStampPosition:function(n,t){var i=this;this._stampTopValue=n!=undefined&&n!=""?n:0;this._stampLeftValue=t!=undefined&&t!=""?t:0;this.getContents(function(n){n.each(function(){$(this).css("background-position",String.format("{0}px {1}px",i._stampLeftValue,i._stampTopValue))})})},getStampPosition:function(){var i=this,t="",n={top:"0",left:"0",originTop:"",originLeft:""};return this.getContents(function(n){n.each(function(){t=this.style.backgroundPosition})}),t.split(" ").length>=2?(n.left=t.split(" ")[0].replace("px",""),n.top=t.split(" ")[1].replace("px",""),n.originLeft=t.split(" ")[0].replace("px",""),n.originTop=t.split(" ")[1].replace("px","")):t.split(" ").length==1&&(n.left=t.split(" ")[0].replace("px",""),n.top="0",n.originLeft=t.split(" ")[0].replace("px","")),$.isNumeric(n.left)||(n.left="0"),$.isNumeric(n.top)||(n.top="0"),n},showStamp:function(){var n=this;this.getContents(function(t){t.css({"background-image":String.format("url('{0}')",n._stampUrl),"background-repeat":"no-repeat"})})},hideStamp:function(){var n=this;this.getContents(function(t){t.css("background-image",n._transparentStampUrl)})},isStampUrl:function(){var n=!1;return this.getContents(function(t){t.css("background-image").indexOf(this._stampUrl)>-1&&(n=!0)}.bind(this)),n},setContentMaxSize:function(n){n=n||this.$el.find("[data-html-wrapper]");var t=$(n),i=ecount.common.findMaxRightBottomIn(t[0]),u=i.maxRight,f=i.maxBottom,e=u.getBoundingClientRect(),o=f.getBoundingClientRect(),r=t[0].getBoundingClientRect();t.width(e.right-r.left);t.height(o.bottom-r.top)},setHtml:function(n,t,i){var u=this.$contentContainer.parent(),f,r,e;this.$contentContainer.remove();i?(this.htmlContentWrap=i,n=ecount.widget.replaceAttr(i,{htmlContent:n})):n=ecount.widget.replaceAttr(this.htmlContentWrap,{htmlContent:n});try{this.$contentContainer=$(n)}catch(o){this.$contentContainer=$("<p>"+n+"<\/p>")}f=this.$el.find("[data-html-wrapper]");r=u&&u.context||f;r.append(this.$contentContainer);this.$overlayTarget=_.isString(this.overlaySection)?this.$el.find("[data-overlay='"+this.overlaySection+"']"):[];e=this.$contentContainer.find("img,[style*='background']").filter(function(n,t){if(t.src)return!0;if(t.style["background-image"]){var i=t.style["background-image"].match(/url\(["']?([^"']+)["']?\)/),r=i&&i[1];if(r)return!0}return!1});ecount.common.requireBackgroundImage(e,null,function(){this.setContentMaxSize(r);t&&this.replaceMappingData(t);n==""?this.$el.find(".overlay").hide():this.$el.find(".overlay").show();var i=this.getStampPosition();this._stampTopValue=i.top;this._stampLeftValue=i.left}.bind(this))},getHtml:function(){return $("<div>").append(this.$contentContainer.clone()).html()},getContents:function(n){var i=this,t;this.$contentContainer.filter("div").length>0?this.$contentContainer.filter("div").each(function(){($(this).css("background-image").indexOf(i._stampUrl)>=0||$(this).css("background-image").indexOf(i._transparentStampUrl)>=0||$(this).css("background-image").indexOf("transparent.gif")>=0)&&n($(this))}):this.$contentContainer.find("div").length>0&&(t=this.$contentContainer.find("div")[0],($(t).css("background-image").indexOf(i._stampUrl)>=0||$(t).css("background-image").indexOf(i._transparentStampUrl)>=0||$(t).css("background-image").indexOf("transparent.gif")>=0)&&n($(t)))},replaceMappingData:function(n){var t=this.$el.find(ecount.constValue.drawingPaper.mappingDataPrefix+ecount.constValue.drawingPaper.mappingDataSelector);t.each(function(t,i){var r=_.find(n,function(n){return n.id==i.id});r&&(i.innerText=ecount.resource[r.resx]||r.resx||"")}.bind(this))},destroy:function(){this.$el.find(".overlay").unbind("mouseenter");this.$el.find(".overlay > button").unbind("click");this.$el.remove();this.$el=null},show:function(){this.$el.show();this.$el.find(".overlay").show()},hide:function(){this.$el.hide();this.$el.find(".overlay").hide()}},create:function(n){var t,i,r;(n=n||"_default",t=widget.topBottomSetting.repository[n]||{},widget.topBottomSetting._baseLoaded||(i=$.Class(ecount.control,widget.topBottomSetting.repository._default),widget.topBottomSetting=$.extend(i,widget.topBottomSetting),widget.topBottomSetting._baseLoaded=!0,n!="_default"))&&(widget.topBottomSetting[n]||(t.init||(t.init=function(){widget.topBottomSetting.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.topBottomSetting.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.topBottomSetting,widget.topBottomSetting[n]=$.Class(r,t)))}}};widget.image={};widget.image._baseLoaded=!1;widget.image._export=function(){return{_default:{template:"((image))",controlType:"widget.image",init:function(n){$.extend(this,n)},render:function(n){var t=[];this.width&&t.push("width='"+this.width+"px'");this.height&&t.push("height='"+this.height+"px'");this.defaultClass=this.itemIndex===0?"show":"hidden";this.$el=this.isSignBg?$('<div id="'+this.id+"\"><img src='"+this.src+"'/><\/div>"):$("<div data-allowContextmenu='no' style='position:relative;'><img class='noselection' "+t.join(" ")+"  src='"+this.src+"?"+Date.now()+"'/><\/div>");$(this.$el.find("img")).load(this.onload.bind(this));n.append(this.$el)},destroy:function(){},onload:function(n){var t=n.target;this.useSelector&&(this._selector=$(this.$el.find("img")).imgAreaSelect({parent:this.$el[0],handles:!0,fadeSpeed:200,raito:this.oWidth/this.width,onSelectEnd:this.onSelectionEnd.bind(this),onContextmenu:this.createContextmenu.bind(this)}),this.targetContainer=this.$el.parent()[0]);this.complete&&this.complete(n,this,this.$el);this.onLoadItems();this.containerDelegator},onSelectionEnd:function(n,t,i){t.type=i;this.changeSelection(t)},addSelection:function(n){this._selector.addSelection(this.$el.find("img"),n.fid,{parent:this.$el[0],handles:!0,fadeSpeed:200,show:!0,enable:!0,raito:this.oWidth/this.width,onSelectEnd:this.onSelectionEnd.bind(this),onContextmenu:this.createContextmenu.bind(this)},n.sx,n.sy,n.ex,n.ey)},deleteSelection:function(n){this._selector.deleteSelection(n)},deleteSelectionAll:function(){this._selector.deleteSelectionAll()},getSelection:function(n){return this._selector.getSelection(n)},setTitle:function(n,t){return this._selector.setTitle(n,t)},getImage:function(){return this.$el.find("img")},getImageWidth:function(){return this.getImage().width()},setImageWidth:function(n){var t=this.getImage();t.css("width",n+"px")},getImageHeight:function(){return this.getImage().height()},setImageHeight:function(n){var t=this.getImage();t.css("height",n+"px")},activateEditMode:function(){},createContextmenu:function(n,t,i,r){var u=this.attachedHandler[ecount.handler.CONTEXTMENU];if(u)return u.create(n,t,i,r)}},create:function(n){var i,t;n=n||"_default";i=widget.image.repository[n]||{};!widget.image._baseLoaded&&(t=$.Class(ecount.control,widget.image.repository._default),widget.image=$.extend(t,widget.image),widget.image._baseLoaded=!0,n=="_default")}}};widget.settingHoliday={};widget.settingHoliday._baseLoaded=!1;widget.settingHoliday._export=function(){return{_default:{controlType:"widget.settingHoliday",_colorContainer:null,baseType:!0,init:function(){ecount.control.prototype.init.apply(this,arguments)},render:function(){ecount.control.prototype.render.apply(this,arguments)},initializeOptions:function(){$.extend(this,{retData:[{WEEKDAY:1,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:2,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:3,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:4,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:5,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:6,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:7,START_YN:"N",HOLIDAY_YN:"N",WORK_COLOR:"#666666",HOL_COLOR:"#049cdb"}]})},initializeViewOptions:function(){$.extend(this.__viewOptions,{retData:this.retData,wrapperSetCss:"control-table"})},onInitState:function(n,t){$.extend(t,{retData:this.retData})},createView:function(){return this.ecview=new widget.view.settingHoliday},getLayerPaletteOption:function(n,t){var i=[{id:"palette",isPalette:!0}],r=this.getRetData(n);return this.noneBackgroundColor&&i.push({id:"noneBackgroundColor",label:ecount.resource.LBL20548,css:"tool-color-none"}),_.extend(this.getLayerDefaultOption(n,t),{_commandPrefix:"button",ecRole:n.ecRole,ecRoleIndex:n.ecRoleIndex,items:i,baseType:!0,color:r,boundary:this.getRoleHolderBoundary(n.ecRole),showingUpDelay:0})},ON_CLICK_SERVICE:function(n,t,i,r){if(n.ecService=="layer.palette")return n.suspend=!0,!1;switch(n.ecFunctionId){case"palette.color":case"palette.button":case"noneBackgroundColor":this.setRetData(r,function(n,t,i){if(n==t)return i.value})}},ON_CLICK:function(n){if(n.ecService=="layer.palette")return n.suspend=!0,!1},setValue:function(n){this.setState(this._IT_SELF,"retData",n)},getValue:function(){var n=Object.clone(this.getState(this._IT_SELF,"retData"),!0);return n.map(function(n){return n.HOLIDAY_YN=="R"&&(n.HOLIDAY_YN="N"),n})},reset:function(n){var t=n||[{WEEKDAY:1,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:2,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:3,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:4,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:5,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:6,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#ff3c3c"},{WEEKDAY:7,START_YN:"N",HOLIDAY_YN:"R",WORK_COLOR:"#666666",HOL_COLOR:"#049cdb"}];this.setValue(t)},setRetData:function(n,t){if(!n)return!1;var i=n.ecRole,r=i.split(".")[0],u=n.ecRoleIndex,f=this.__state.retData.map(function(i,f){return value=t(f,u,n),$.isEmpty(value)||(i[r]=value),i});this.setState(this._IT_SELF,"retData",f)},getRetData:function(n){var t=this.getState(this._IT_SELF,"retData"),i,r;return n&&(i=n.ecRole.split(".")[0],r=n.ecRoleIndex,t=t[r][i]),t},ON_CHANGE:function(n){var t=n.ecRole,i=n.ecRoleIndex,r;switch(t){case"HOLIDAY_YN.Y":case"HOLIDAY_YN.N":r=t.split(".")[1];this.setRetData({ecRole:t,ecRoleIndex:i},function(n,t){if(n==t)return r});break;case"START_YN":this.setRetData({ecRole:t,ecRoleIndex:i},function(n,t){return n==t?"Y":"N"})}}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.settingHoliday.repository[n]||{},widget.settingHoliday._baseLoaded||(i=$.Class(ecount.control,widget.settingHoliday.repository._default),r=$.Class(ecount.control.view,widget.view.settingHoliday.repository._default),widget.settingHoliday=$.extend(i,widget.settingHoliday),widget.view.settingHoliday=$.extend(r,widget.view.settingHoliday),widget.settingHoliday._baseLoaded=!0,n!="_default"))&&(widget.settingHoliday[n]||(t.init||(t.init=function(){ecount.control.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){ecount.control.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.settingHoliday.prototype.createView.apply(this,arguments);var n=viewProperty;return n!="function"&&(n=$.Class(widget.view.settingHoliday,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.settingHoliday,widget.settingHoliday[n]=$.Class(u,t)))}}};widget.view.settingHoliday._export=function(){return{_default:{template:'<table class="table table-hover table-bordered">\n<colgroup>\n<col style="width:100px"><col style="width:70px"><col >\n<\/colgroup>\n{{header}}\n<tbody>\n{{week}}\n<\/tbody>\n<\/table>',headerTemplate:'<thead><tr><th class="text-center">{0}<\/th> <th class="text-center">{1}<\/th><th class="text-center">{2}<\/th> <\/tr><\/thead>',WeekTemplate:"<tr>\n<td class=\"text-center\"><span class='lblColor' style='color:{{dayColor}}'>{{dayLong}}<\/span><\/td>\n<td class=\"text-center\"><input type=\"checkbox\" cid='{{cid}}' data-role='START_YN' data-role-index='{{roleindex}}' class=\"checkStartDate\" {{startDateChecked}}><\/td>\n<td class=\"text-center\">\n<label class=\"radio-inline\" id=\"WorkDay{{day}}\"><input name=\"rbDay{{day}}\" type=\"radio\" class=\"workRadio\" data-role='HOLIDAY_YN.N' data-role-index='{{roleindex}}' {{workChecked}}><span class=\"spnCalendar\" style='color:{{workColor}}' cid='{{cid}}' data-role='{{workRole}}' data-role-index='{{roleindex}}' data-service='layer.palette'>{{LBL09208}}<\/span><\/label>\n<label class=\"radio-inline\" id=\"HoliDay{{day}}\"><input name=\"rbDay{{day}}\" type=\"radio\" class=\"holiRadio\" data-role='HOLIDAY_YN.Y' data-role-index='{{roleindex}}' {{holiChecked}}><span class=\"spnCalendar\" style='color:{{holiColor}}' cid='{{cid}}' data-role='{{holiRole}}' data-role-index='{{roleindex}}' data-service='layer.palette'>{{LBL09209}}<\/span><\/label>\n<\/td> \n<\/tr>",onInitTemplate:function(n,t){var i=ecount.resource;return n=n.replace(/{{header}}/,String.format(this.headerTemplate,i.LBL01992,i.LBL09237,i.LBL00703)),n.replace(/{{week}}/,this.getWeekTemplate(t))},getWeekTemplate:function(n){var e=n.retData||[],f="",t=ecount.resource,o=t.LBL09208,s=t.LBL09209,h=[t.LBL02203,t.LBL02074,t.LBL03135,t.LBL01713,t.LBL01164,t.LBL00782,t.LBL02891],i="",r="",u="";return e.forEach(function(t,e){t.HOLIDAY_YN==="Y"?(r="",u="checked",i=t.HOL_COLOR):t.HOLIDAY_YN==="R"?(r="",u="",i=t.WORK_COLOR):(r="checked",u="",i=t.WORK_COLOR);f+=ecount.widget.replaceAttr(this.WeekTemplate,{dayColor:i,dayLong:h[e],cid:n.cid,roleindex:e,startDateChecked:t.START_YN==="Y"?"checked":"",day:e,LBL09208:o,LBL09209:s,workColor:t.WORK_COLOR,workRole:"WORK_COLOR."+e,workChecked:r,holiRole:"HOL_COLOR."+e,holiColor:t.HOL_COLOR,holiChecked:u})}.bind(this)),f},onChangeRetData:function(n,t){t&&t.length&&t.forEach(function(n,t){n.START_YN==="Y"?this.$el.find(".checkStartDate").eq(t).prop("checked",!0):this.$el.find(".checkStartDate").eq(t).prop("checked",!1);n.HOLIDAY_YN==="Y"?(this.$el.find(".workRadio").eq(t).prop("checked",!1),this.$el.find(".holiRadio").eq(t).prop("checked",!0),this.$el.find(".lblColor").eq(t).css("color",n.HOL_COLOR)):n.HOLIDAY_YN==="R"?(this.$el.find(".workRadio").eq(t).prop("checked",!1),this.$el.find(".holiRadio").eq(t).prop("checked",!1),this.$el.find(".lblColor").eq(t).css("color",n.WORK_COLOR)):(this.$el.find(".workRadio").eq(t).prop("checked",!0),this.$el.find(".holiRadio").eq(t).prop("checked",!1),this.$el.find(".lblColor").eq(t).css("color",n.WORK_COLOR));this.$el.find(".spnCalendar").eq(t*2).css("color",n.WORK_COLOR);this.$el.find(".spnCalendar").eq(t*2+1).css("color",n.HOL_COLOR)}.bind(this))}}}};widget.address={};widget.address._baseLoaded=!1;widget.address._export=function(){return{_default:{controlType:"widget.address",init:function(){ecount.control.input.prototype.init.apply(this,arguments);this.setComponetsIndex();this.noPostCode!=!0&&this.setImeModeKeydownHandler(this.inputAddrNumberIndex,!1,"N",!0)},onInitState:function(n,t){t["style.css"]=""},onAfterRender:function(){this.setState(this._IT_SELF,"style.css","col-xs-12")},initializeOptions:function(n){$.extend(this,{noPostCode:n.noPostCode,defaultParam:n.defaultParam||{},_showZeroInPoint:n._showZeroInPoint,width:n.width,height:n.height,_modal:n._modal})},initializeViewOptions:function(n){$.extend(this.__viewOptions,{noPostCode:n.noPostCode,isVertical:n.noPostCode==!0?!1:!0})},getInitDataComponents:function(n,t,i){return this.setComponents(n,t,i)},getInitComponents:function(n,t,i){return this.setComponents(n,t,i)},setComponents:function(n,t,i){var r=[];return this.noPostCode||r.push({cid:this.id,"style.css":[this.css||"","flex-none"].join(" "),id:"addressSearch",label:ecount.resource.LBL11536,"attr.href":"javascript:;",ecRole:"search.address"},{cid:this.id,"style.css":[this.css||"","first-child","last-child"].join(" "),value:i.data[1]?i.data[1].value||"":""}),r.push({cid:this.id,"css.style":[this.css||"","first-child","last-child"].join(" "),value:$.isEmpty(i.data)?"":i.data[i.data.length-1].value||"",rows:2,textvalue:$.isEmpty(i.data)?"":i.data[i.data.length-1].value||"",bytesTemplate:""}),r},onInitComponent:function(n,t,i,r,u){u.noPostCode||t<2&&(r["attr.maxlength"]=null,delete r["attr.maxlength"]);r["opt.inFocus"]=!1},setComponetsIndex:function(){this.noPostCode===!0?this.textAreaAddrIndex=0:(this.linkSearchAddrIndex=0,this.inputAddrNumberIndex=1,this.textAreaAddrIndex=2)},render:function(){ecount.control.prototype.render.apply(this,arguments);this.callbackID=ecount.global.registerCallback(this.ecPageID,this.onMessage,this)},createView:function(){return this.ecview=new widget.view.address},ON_CLICK:function(n){switch(n.ecRole){case"search.address":this.openPopup()}},openPopup:function(){var n,t;(_.isEmpty(this.getNationalFlag())||(this.getNationalFlag()||"").toUpperCase()=="KR")&&(n=$.extend({},this.defaultParam,{width:this.width||760,height:this.height||400,name:(this.popupType===!0?this.id:this.subTitle)||"",url:"/ECERP/Popup.Search/CM004P",popupType:this.popupType===!0,responseID:this.callbackID}),this.delegator?this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:n,handler:function(n,t,i,r){var e,u,f;this.responseID=t;n.popupLevel=r;n.parentPageID=i||this.parentPageID;n.__ecPageID=this.ecPageID;n.alreadyIncludedLayout=!0;e=n.modal||this._modal;u=n.additional;delete n.modal;delete n.additional;f={url:n.url,name:n.name||ecount.resource.LBL06789,param:n,popupType:n.popupType,modal:n.modal||this._modal,control:{name:this.subTitle,id:this.id},popupLevel:r,additional:u};ecount.popup.openWindow(f)}.bind(this)}):(n.popupLevel=this.popupLevel,n.parentPageID=this.parentPageID,n.__ecPageID=this.ecPageID,n.alreadyIncludedLayout=!0,t={url:n.url,name:n.name||"control_popup",param:n,popupType:n.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id}},ecount.popup.openWindow(t)))},onMessage:function(n,t){this.setState(this.inputAddrNumberIndex,"value",t.zipcode);this.setState(this.textAreaAddrIndex,"value",t.address+" "+t.otheraddress);n.close()},ON_FOCUSIN:function(n){if(n.ecRole=="search.address")return!1;this._inFocus(n.cindex)},setFocus:function(n){if(ecount.control.prototype.setFocus.apply(this,arguments),n==this.linkSearchAddrIndex)return!1;this._inFocus(n)},checkValidate:function(n,t){var r=[],i="",f=n||this.getState(this._IT_SELF,"validate.datarules")||[],t=t||this.getState(this._IT_SELF,"validate.datarulesmsg")||"",u=this.getComponents();return u.length&&u.some(function(n,u){if(!n.ecRole&&(i=ecount.validator.validate(this.getState(u,"value"),f,t),i.length>0))return r.push(i),!0}.bind(this)),r},_inFocus:function(n){var i=this.getState(n,"opt.inFocus"),r=this.getState(this._IT_SELF,"attr.disabled"),u=this.isVisibleElement(n),t;i||r||!u||(t=this.getState(n,"value"),this._showZeroInPoint&&this.setState(n,"value",(t||"").toString().decimalRTrim()),t==""?this.setState(n,"opt.focus",!0):this.setState(n,"opt.selectRange",!0),this.setState(n,"opt.inFocus",!0))},ON_FOCUSOUT:function(n){var t=n.cindex;this.setState(t,"opt.inFocus",!1);this.setState(t,"opt.focus",!1);this.setState(t,"opt.selectRange",!1);this.noPostCode||this.getState(this._IT_SELF,"validate.needvalidate")||ecount.control.prototype.setValue.apply(this,[this.textAreaAddrIndex,this.getState(this.textAreaAddrIndex,"value")])},ON_INPUT:function(n){var t=n.cindex;(t==this.textAreaAddrIndex||t==this.inputAddrNumberIndex)&&ecount.control.prototype.setValue.apply(this,[n.cindex,this.getState(n.cindex,"value")])},ON_KEYDOWN_ENTER:function(n,t){if(n.cindex==this.textAreaAddrIndex&&!t.shiftKey)return n.suspend=!1,n.stopPropagation=!0,!1},setValue:function(n){if(arguments.length==1)n=$.isArray(n)?n:[n],this.noPostCode?this.setState(this.textAreaAddrIndex,"value",n[0]):(this.setState(this.inputAddrNumberIndex,"value",n[0]),this.setState(this.textAreaAddrIndex,"value",n[1]));else if(arguments.length>1){var t=arguments[0],i=arguments[1];this.setState(t,"value",i)}},getValue:function(){var n=[];return this.noPostCode?n.push(this.getState(this.textAreaAddrIndex,"value")):n.push(this.getState(this.inputAddrNumberIndex,"value"),this.getState(this.textAreaAddrIndex,"value")),n},_getValidateValue:function(){return this.getValue().join("")}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.address.repository[n]||{},widget.address._baseLoaded||(i=$.Class(ecount.control,widget.address.repository._default),r=$.Class(ecount.control.view,widget.view.address.repository._default),widget.address=$.extend(i,widget.address),widget.view.address=$.extend(r,widget.view.address),widget.address._baseLoaded=!0,n!="_default"))&&(widget.address[n]||(t.init||(t.init=function(){ecount.control.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){ecount.control.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.address.prototype.createView.apply(this,arguments);var n=viewProperty;return n!="function"&&(n=$.Class(widget.view.address,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):ecount.control,widget.address[n]=$.Class(u,t)))}}};widget.view.address._export=function(){return{_default:{template:"((textarea))",addressCodeTemplate:'<div class="control">((link))((input))<\/div>',onInitTemplate:function(n,t){return t.isVertical===!0&&(n=n.replace(/(\(\(\w+\)\))/g,'<div class="control">$&<\/div>'),n=this.addressCodeTemplate+n),n},onChangeOptFocus:function(n,t){if(t===!0){var i=this.getElements(n);i&&i.focus().select()}},onChangeStyleCss:function(n,t){var i=this.getElements(n);i.hasClass(t)||this.getElements(n).addClass(t)},setBorderRadius:function(n){return n}}}};widget.scorebox._export=function(){return{_default:{controlType:"widget.scorebox",init:function(){ecount.control.scorebox.prototype.init.apply(this,arguments)},render:function(){ecount.control.scorebox.prototype.render.apply(this,arguments)}},create:function(n){var t,i,r;(n=n||"_default",t=widget.scorebox.repository[n]||{},widget.scorebox._baseLoaded||(i=$.Class(ecount.control.scorebox,widget.scorebox.repository._default),widget.scorebox=$.extend(i,widget.scorebox),widget.scorebox._baseLoaded=!0,n!="_default"))&&(widget.scorebox[n]||(t.init||(t.init=function(){widget.scorebox.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.scorebox.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.scorebox,widget.scorebox[n]=$.Class(r,t)))}}};widget.listView._export=function(){return{_default:{template:['<div class="wrapper-sub-title">',"<\/div>",'<div class="wrapper-article">','<table id="{{id}}" class="table table-border-no-a table-list" >',"<\/table>","<\/div>",].join("\n"),_pagingTemplate:['<div class="wrapper-pagination">','<span id="{{id}}PLabel"><\/span>','<ul class="pagination">','<li id="{{id}}Prev" class="on"><a href="javascript:;"><span class="fa fa-angle-left"><\/span><\/a><\/li>','<li id="{{id}}Next"><a href="javascript:;"><span class="fa fa-angle-right"><\/span><\/a><\/li>',"<\/ul>","<\/div>",].join("\n"),_dataApiUrl:"",_defaultPageSize:10,_minRowHeight:21,_startRow:0,_endRow:0,_totalPage:1,_totalRow:0,init:function(){ecount.control.prototype.init.apply(this,arguments);this._controls=this._controls||[];this.itemList=[];this._params!=undefined?(this._params.PAGE_SIZE=this._params.PAGE_SIZE!=undefined?this._params.PAGE_SIZE:this._defaultPageSize,this._params.PAGE_CURRENT=this._params.PAGE_CURRENT!=undefined?this._params.PAGE_CURRENT==0?1:this._params.PAGE_CURRENT:1):(this._params={},this._params.PAGE_SIZE=this._defaultPageSize,this._params.PAGE_CURRENT=1)},render:function(){this.template=this.template.replace(/{{id}}/g,this.id);this._pagingTemplate=this._pagingTemplate.replace(/{{id}}/g,this.id);ecount.control.prototype.render.apply(this,arguments);this.$table=$("#"+this.id);this._createTitleToolbar();this._initEvents();this._createColGroup();this._createTableRows();this.$table.parent().css("min-height",String.format("{0}px",this._minRowHeight*this._params.PAGE_SIZE))},_createTitleToolbar:function(){for(var n,e=widget.generator,t=e.toolbar(),i={},u={},f={},r=0,o=this._controls.length;r<o;r++)n=this._controls[r],n.__pnode=this.__type,n.controlType==="widget.custom"&&(n.__target=this.__target),n.__type=widget.generator.CONTROL,n.pId=this.tabId,n.gridID="",n.tabID=this.tabId,n.ecPageID=this.ecPageID,ecount.widget.createDisplayID(n,"btn",this.__target),n.delegator=this.delegator,n.ecTransaction=this.ecTransaction,t.addRight(n);t=t.end();t.tabId=this.tabId;t.ecPageID=this.ecPageID;t.__target=this.__target;t.delegator=this.delegator;t.containerDelegator=this.containerDelegator;i=new ecount.layout.toolbar(t);this.itemList.push(i);i.render($(this.$el[0]));u=$($(this.$el).find(".pull-left")[0]);u.text(this._title);f=$($(this.$el).find(".pull-right")[0]);f.append(this._pagingTemplate)},_initEvents:function(){var n=this,t=$("#"+this.id+"Prev"),i=$("#"+this.id+"Next");t.on("click",function(){n._params.PAGE_CURRENT>1&&(n._params.PAGE_CURRENT=n._params.PAGE_CURRENT-1,n._createTableRows())});i.on("click",function(){n._params.PAGE_CURRENT<n._totalPage&&(n._params.PAGE_CURRENT=n._params.PAGE_CURRENT+1,n._createTableRows())})},_createColGroup:function(){var t=$("<colGroup>"),i={},n;if(this.$table.find("colGroup").remove(),$.isArray(this._columns)&&this._columns.length>0)for(n=0;n<this._columns.length;n++)i=$("<col>").appendTo(t),i.width(this._columns[n].width);this.$table.append(t)},_createTableRows:function(){this._dataApiUrl!=undefined&&this._dataApiUrl.length>0?this._createRowsByApi():(this._setTotalRowTotalPage(),this._createRows())},_createRowsByApi:function(){var n=this;ecount.common.api({ecPageID:n.ecPageID,url:n._dataApiUrl,data:Object.toJSON(n._params),progressbar:!0,success:function(t){n._listViewItems=t.Data||[];n._setTotalRowTotalPage(n._listViewItems.length>0?n._listViewItems[0].MAXCNT:0);n._createRows()}})},_createRows:function(){var s=this.$table.append("<tbody>"),n={},u={},e={},i={},o=0,f=0,t,r;if(this.$table.find("tr").remove(),this._listViewItems!=undefined&&$.isArray(this._listViewItems)&&this._listViewItems.length>0)for(this._dataApiUrl!=undefined&&this._dataApiUrl.length>0?f=this._listViewItems.length:(o=this._startRow-1,f=this._endRow),t=o;t<f;t++)for(u=this._listViewItems[t],e=$("<tr>").appendTo(s),r=0;r<this._columns.length;r++)n=this._columns[r],i=$("<td>").appendTo(e),i.css("text-align",n.align),this._customDataCell!=undefined&&this._customDataCell[n.propertyName]!=undefined&&typeof this._customDataCell[n.propertyName]=="function"?this._createCustomizedCell(i,n.propertyName,t,u):r==0?this._createDefaultLinks(i,n.propertyName,t,u):i.text(u[n.propertyName]);this._reloadPagingLabel()},_createCustomizedCell:function(n,t,i,r){var u={},f={},e={};u=this._customDataCell[t](r[t],r,i);u.controlType!=undefined&&(u.event!=undefined&&u.event.click!=undefined&&(u._ON_CLICK=u.event.click.bind(this,{rowItem:r})),ecount.control.lazyLoad(u.controlType),f=ecount.common.createNamespace(u.controlType),e=new f(u),e.render(n))},_createDefaultLinks:function(n,t,i,r){var u={},e={},f=String.format("{0}{1}",this.id,i);u.controlType="widget.link";u.data=[{id:f,cid:f,index:i,label:r[t],url:"javascript:;",targer:""}];r.__target=this.__target;u.__target=r.__target;u.displayID=String.format("btn-{0}-{1}",r.__target,f);u.delegator=this.delegator;u._ON_CLICK=this._onDefaultLinkHandler.bind(this,r);e=new ecount.control.anchor(u);e.render(n)},_reloadPagingLabel:function(){var n=$("#"+this.id+"PLabel");$(n[0]).text(String.format("{0}개 중 {1}-{2}",this._totalRow,this._startRow,this._endRow));this._totalRow==0?$(n[0].parentNode).hide():$(n[0].parentNode).show()},_setStartRowEndRow:function(){var t=this._params.PAGE_CURRENT,n=this._params.PAGE_SIZE;n==0?this._startRow=this._endRow=0:(this._startRow=(t-1)*n+1,this._endRow=t*n,this._endRow>this._totalRow&&(this._endRow=this._totalRow))},_setTotalRowTotalPage:function(n){this._totalRow=n!=undefined?n:this._listViewItems.length;this._totalPage=Math.ceil(this._totalRow/this._params.PAGE_SIZE);this._setStartRowEndRow()},_onDefaultLinkHandler:function(n,t){this.delegator&&this.delegator.triggerEvent("anchor.click",{targetID:String.format("on-{0}-{1}",n.__target,this.id),event:t,data:n})},reload:function(n){n!=undefined&&(this._params=n,this._params.PAGE_SIZE=n.PAGE_SIZE!=undefined?n.PAGE_SIZE:this._defaultPageSize,this._params.PAGE_CURRENT=n.PAGE_CURRENT!=undefined?n.PAGE_CURRENT==0?1:n.PAGE_CURRENT:1);this._createTableRows()}},create:function(n){var t,i,r;(n=n||"_default",t=widget.listView.repository[n]||{},widget.listView._baseLoaded||(i=$.Class(ecount.control,widget.listView.repository._default),widget.listView=$.extend(i,widget.listView),widget.listView._baseLoaded=!0,n!="_default"))&&(widget.listView[n]||(t.init||(t.init=function(){widget.listView.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.listView.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.listView,widget.listView[n]=$.Class(r,t)))}}};widget.menu._export=function(){return{_default:{controlType:"widget.menu",init:function(){ecount.control.menu.prototype.init.apply(this,arguments)},render:function(){ecount.control.menu.prototype.render.apply(this,arguments)},createItemInside:function(n,t,i){var r=this,u={},f={};i.level==2&&i.menuItems!=undefined&&i.menuItems.length>0&&n.addClass("nav-4deps-sub");u.data=[{id:i.id,cid:i.id,index:t,label:i.title||"",url:i.url||"javascript:;",target:i.target||"",css:i.css||""}];u.__target=this.__target;u.delegator=this.delegator;u.onClick=function(n){var u=$(this.$el[0]).parent(),f=u.find("ul"),e=$(f[0]);i.menuItems!=undefined&&$.isArray(i.menuItems)&&i.menuItems.length>0&&(u.hasClass("on")?(u.removeClass("on"),r._isCollapseAllChildrenMenus===!0&&u.find("li").removeClass("on")):u.addClass("on"));r._currentActivedMenuID=u.attr("id");r._callbackMenuItemClicked!=undefined&&typeof r._callbackMenuItemClicked=="function"?r._callbackMenuItemClicked.call(r,n,t,i):r.delegator&&r.delegator.triggerEvent("anchor.click",{targetID:String.format("on-{0}-{1}",r.__target,r.id),event:n,itemIndex:t,dataItem:i})};f=new ecount.control.anchor(u);f.render(n)}},horizontal:{controlType:"widget.menu.horizontal",isHideCoverContainer:!0,ulCSS:"nav nav-pills",_activeClassName:"active",init:function(){ecount.control.menu.prototype.init.apply(this,arguments)},render:function(){ecount.control.menu.prototype.render.apply(this,arguments)},createItemInside:function(n,t,i){var r=this,u={},f={};i.isActived===!0&&n.addClass("active");u.data=[{id:i.id,cid:i.id,index:t,label:i.title||"",url:i.url||"",target:i.target||"",css:i.css||""}];u.__target=this.__target;u.delegator=this.delegator;u._ON_CLICK=function(n){var u=$(this.$el[0]).parent();r.$el.find("li").removeClass("active");u.addClass("active");r._currentActivedMenuID=u.attr("id");r._callbackMenuItemClicked!=undefined&&typeof r._callbackMenuItemClicked=="function"?r._callbackMenuItemClicked.call(r,n,t,i):r.delegator&&r.delegator.triggerEvent("anchor.click",{targetID:String.format("on-{0}-{1}",r.__target,r.id),event:n,itemIndex:t,dataItem:i})};f=new ecount.control.anchor(u);f.render(n)}},navigation:{controlType:"widget.menu.navigation",divCSS:"customer-support-nav",ulCSS:"",_activeClassName:"active",init:function(){ecount.control.menu.prototype.init.apply(this,arguments)},render:function(){ecount.control.menu.prototype.render.apply(this,arguments)},createItemInside:function(n,t,i){var r=this,u={};u=$("<span>").appendTo(n);u.addClass(i.css);n.append(i.title);i.isActived===!0&&n.addClass("active");n.on("click",function(n){var u=$(this),f=u.find("ul"),e=$(f[0]);r.$el.find("li").removeClass("active");u.addClass("active");r._currentActivedMenuID=$(r).attr("id");r._callbackMenuItemClicked!=undefined&&typeof r._callbackMenuItemClicked=="function"?r._callbackMenuItemClicked.call(r,n,t,i):r.delegator&&r.delegator.triggerEvent("anchor.click",{targetID:String.format("on-{0}-{1}",r.__target,r.id),event:n})})}},main:{controlType:"widget.menu.main",divTitleTemplate:'<div class="section-title"><\/div>',_activeClassName:"on",_openTitleCSSClassName:"open",closeClassName:"",divCSS:"",ulCSS:"",isUseMenuHoverOut:!1,isUseAnchorHoverIn:!1,isUseMultiULTag:!0,menuLevel:0,menuHoverInTimeout:0,menuHoverOutTimeOut:0,anchorHoverInTimeout:0,anchorHoverTimer:0,anchorHoverOutTimer:0,anchorHoverTimerLeft:0,anchorHoverNewWindowtimer:0,_isMenuDepth1Click:!1,_maxWidthForMobileMode:768,_notSubmitWindowOpen:["163","234"],init:function(){ecount.control.menu.prototype.init.apply(this,arguments);this._eventID=ecount.common.uuid("event");this.leftOutHandle=!1;this.depth3Class=[];this.divCSS="section-"+this.menuLevel;this.menuLevel===2&&(this.listContainerTemplate="");this.isUseHoverInDownLevelMenuOpen===!0&&(this.onBodyClickHandler=function(n){var t=n.target,i="",r=[];if(t!=undefined&&t.offsetParent!=this.$el[0]){if(i=$(t).attr("id"),this.$el.hasClass(this._openTitleCSSClassName)){this.$el.removeClass(this._openTitleCSSClassName);$(document).unbind("mousedown",this.onBodyClickHandler);$($("#mainbody").get(0).contentDocument).unbind("mousedown",this.onBodyClickHandler);this.$el.on("mouseenter",this._onTitleMouseHover.bind(this));this._isMenuDepth1Click=!1}if($.isString(i)&&i.length>0&&(r=this.$el.find("a#"+i),r.length>0))return n._isNotMouseLeave=!0,$(t).trigger("click",n),!1}}.bind(this))},render:function(){ecount.control.menu.prototype.render.apply(this,arguments);this._initEvents()},_initEvents:function(){if(this.isUseHoverInDownLevelMenuOpen===!0){this.$el.find(".section-title").on("click",this._onTitleClick.bind(this));if((this.menuType=="2"||this.menuType=="3")&&(this.menuLevel==1||this.menuLevel==2))this.$el.on("mouseenter",this._onTitleMouseHover.bind(this))}this.initSpecEventsForGroupUL();this.isLeftMenuHandleIn&&this.$el.mouseenter(this._leftOutHandleIn.bind(this));this.isLeftMenuHandleOut&&this.$el.mouseleave(this._leftOutHandleOut.bind(this))},_isResponsiveMode:function(){return $(window).width()<=this._maxWidthForMobileMode&&ecount.user!=undefined&&ecount.user.RESPONSIVE_YN==="Y"},_onExecuteMenuHoverIn:function(){this.menuType!="3"||this.$el.find("ul").first().hasClass(this._activeClassName)?this.onHoverInComplete!=undefined&&typeof this.onHoverInComplete=="function"&&this.onHoverInComplete.call(this,arguments):this.onHoverInComplete!=undefined&&typeof this.onHoverInComplete=="function"&&this.onHoverInComplete.call(this,arguments)},_onExecuteMenuHoverOut:function(){this.menuType=="3"&&this.$el.find("ul").first().hasClass(this._activeClassName)?this.onHoverOutComplete!=undefined&&typeof this.onHoverOutComplete=="function"&&this.onHoverOutComplete.call(this,arguments):this.onHoverOutComplete!=undefined&&typeof this.onHoverOutComplete=="function"&&this.onHoverOutComplete.call(this,arguments[0])},_onTitleMouseHover:function(n){if(n.type=="mouseenter"){this.$el.on("mouseleave",this._onTitleMouseHover.bind(this));this.anchorHoverTimer=ecount.global.setTimeout(this.ecPageID,function(){this.$el.hasClass(this._openTitleCSSClassName)||this.$el.addClass(this._openTitleCSSClassName)}.bind(this),this.mouseHoverInTime)}else n.type=="mouseleave"&&(this.$el.unbind("mouseleave"),ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorHoverTimer),ecount.global.setTimeout(this.ecPageID,function(){this.$el.hasClass(this._openTitleCSSClassName)&&this.$el.removeClass(this._openTitleCSSClassName)}.bind(this),this.mouseHoverOutTime))},_onTitleClick:function(){if(this.menuLevel!==2||this.$el.find("ul.on").length!=0)if(this._isMenuDepth1Click==!1){this.$el.hasClass(this._openTitleCSSClassName)||this.$el.addClass(this._openTitleCSSClassName);this._isMenuDepth1Click=!0;$(document).on("mousedown",this.onBodyClickHandler);$($("#mainbody").get(0).contentDocument).on("mousedown",this.onBodyClickHandler);this.$el.unbind("mouseleave");this.$el.unbind("mouseenter")}else{this.$el.hasClass(this._openTitleCSSClassName)&&this.$el.removeClass(this._openTitleCSSClassName);this._isMenuDepth1Click=!1;this.$el.on("mouseenter",this._onTitleMouseHover.bind(this))}},_onAnchorHoverInHandler:function(n,t,i,r){this.$el.find("li").removeClass(this._activeClassName);n.addClass(this._activeClassName);this.onAnchorHoverInComplete!=undefined&&typeof this.onAnchorHoverInComplete=="function"&&this.onAnchorHoverInComplete.call(this,t,i,r)},_onLeveOneHoverOutHandler:function(){$(document).unbind("click."+this._eventID);$($("#mainbody").get(0).contentDocument).unbind("click."+this._eventID);this.returnBeforeStateClass!=undefined&&typeof this.returnBeforeStateClass=="function"&&this.returnBeforeStateClass()},_onMenuHoverInHandler:function(n){var i=this,t=this.mouseHoverInTime;this._isResponsiveMode()===!0&&(t=0);this.isUseMenuHoverIn===!0&&(this.clearerAllHoverEvent(),ecount.global.setTimeout(this.ecPageID,function(){i._onExecuteMenuHoverIn(n)},t))},_onMenuHoverOutHandler:function(n){var t=this,i=this.mouseHoverOutTime;this._isResponsiveMode()===!0&&(i=0);this.isUseMenuHoverOut===!0&&(t.anchorHoverOutTimer=ecount.global.setTimeout(this.ecPageID,function(){t._onExecuteMenuHoverOut(n)},i))},_onDepth3MenuHoverIn:function(n,t){if($.isEmpty(t.menuItems)||ecount.__isEventCaptureMode())return!1;n.hasClass("off")&&(n.removeClass("off"),n[0].setAttribute("data-HoverIn",!0))},_onDepth3MenuHoverOut:function(n){var t=n[0].getAttribute("data-HoverIn");if(!t)return!1;n.hasClass("off")||(n.addClass("off"),n[0].removeAttribute("data-HoverIn"))},initSpecEventsForGroupUL:function(){if(this.isUseMenuHoverIn===!0)this.$el.find("ul").on("mouseenter",this._onMenuHoverInHandler.bind(this));if(this.isUseMenuHoverOut===!0)this.$el.find("ul").on("mouseleave",this._onMenuHoverOutHandler.bind(this))},_leftOutHandleIn:function(){this.leftOutHandle==!0&&this.isLeftMenuHandleIn&&this.isLeftMenuHandleIn()},_leftOutHandleOut:function(n){n=n||event;this.anchorHoverOutTimer=ecount.global.setTimeout(this.ecPageID,function(){this.leftOutHandle==!0&&this.isLeftMenuHandleOut&&this.isLeftMenuHandleOut(n)}.bind(this),this.mouseHoverOutTime)},ClearAnchorHoverOutTimer:function(){$.isEmpty(this.anchorHoverOutTimer)==!1&&ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorHoverOutTimer);$.isNull(this.clearerHoverOutLevel)||this.clearerHoverOutTimer&&typeof this.clearerHoverOutTimer=="function"&&this.clearerHoverOutTimer(this.clearerHoverOutLevel)},setLeftOutHandle:function(n){this.leftOutHandle=n},hoverInDownLevelMenuOpenTrigger:function(n){this.$el.trigger(n||"mouseleave")},createItemInside:function(n,t,i){var r=this,f="",u={},e={};if(i.isActived===!0&&(n.addClass(this._activeClassName),i.parentID!=undefined&&i.parentID.length>0&&this.$el.find("li#"+i.parentID).addClass(r._activeClassName)),i.isClosed===!0&&this.closeClassName.length>0&&n.addClass(this.closeClassName),i.level!=4&&(i.level==1||i.level==2?f='<span class="icon-nav-arrow"><\/span>':i.level==3&&$.isArray(i.menuItems)&&i.menuItems.length>0&&(f='<span class="icon-nav-arrow"><\/span>')),this.isShowNewWindowIcon(i)&&(f='<span class="new-window"><\/span>'),u.data=[{id:"ma"+i.id,cid:i.id,index:t,label:i.title+f||"",url:i.url||"",target:i.target||"",css:i.css||""}],u._ON_CLICK=function(u,f){var e=u.target,o=$(this.$el[0]).parent(),s=u.originalEvent||f,v,y,p,w,b,k,c,l,h,a;if(e.tagName.toUpperCase()=="SPAN"&&$(e).hasClass("new-window")==!0)return b=r._notSubmitWindowOpen.contains(i.id),p=window.outerWidth,w=window.outerHeight-70,r.openPopup({url:i.url,width:p,height:w,name:i.title,popupID:i.id,additional:!0,popupType:!0,notSubmitWindowOpen:b}),u.preventDefault(),u.stopPropagation(),!1;if(k=n[0].getAttribute("data-HoverIn"),r.closeClassName.length>0&&(o.hasClass(r.closeClassName)||k?(n[0].removeAttribute("data-HoverIn"),o.removeClass(r.closeClassName)):o.addClass(r.closeClassName)),(r.menuType=="2"||r.menuType=="4"||r._isResponsiveMode()===!0)&&e!=undefined&&$.isString(e.tagName)&&e.tagName.toUpperCase()==="SPAN"&&i.menuItems.length>0)return!1;if((r.menuType=="2"||r.menuType=="3")&&(s.ctrlKey==!0||s.altKey==!0||s.shiftKey==!0||s.which==2)?r.menuType=="3"&&r.returnBeforeStateClass!=undefined&&typeof r.returnBeforeStateClass=="function"&&r.returnBeforeStateClass():(r.$el.find("li").removeClass(r._activeClassName),o.addClass(r._activeClassName),i.parentID!=undefined&&i.parentID.length>0&&r.$el.find("li#"+i.parentID).addClass(r._activeClassName),r._currentActivedMenuID=o.attr("id"),r.onClickComplete!=undefined&&typeof r.onClickComplete=="function"&&r.onClickComplete.call(r,u,t,i,r.menuLevel)),r.menuLevel==3&&["1","2"].contains(r.menuType))for(c=r.$el.find("#"+r.id+" > "),r.depth3Class=[],h=0;h<c.length;h++)l=c[h],v=l.getAttribute("id"),y=l.getAttribute("class"),r.depth3Class.push({id:v,_class:y});if(r.delegator!=undefined&&(a={targetID:String.format("on-{0}-{1}",r.mainMenuID!=undefined&&r.mainMenuID.length>0?r.mainMenuID:"Menu",i.level===4?"Level4":r.id),event:f==undefined?u:f,itemIndex:t,dataItem:i,isStopHref:!1},$.isFunction(r.clearerAllHoverEvent)&&r.clearerAllHoverEvent(),r.delegator.triggerEvent("anchor.click",a),ecount.__isEventCaptureMode()&&ecount.eventLog("menu.click",{type:"menu.click",menuItem:i}),r.menuLevel==3&&s.type=="click"&&r.setLeftOutHandle(!1),a.isStopHref===!0))return!1},this.isUseAnchorHoverIn===!0&&(u.onHoverIn=function(n){var u=r.mouseHoverInTime,e=n.target,f=$(this.$el[0]).parent();r._isResponsiveMode()===!0&&(u=0);r.menuLevel==2;r.clearerAllHoverEvent();r.anchorHoverTimer=ecount.global.setTimeout(r.ecPageID,function(){r._onAnchorHoverInHandler(f,n,t,i)},u)}),this.isUseAnchorHoverIn===!0&&(u.onHoverOut=function(){ecount.global.clearTimeoutByTimerNo(r.ecPageID,r.anchorHoverTimer)}),e=new ecount.control.anchor(u),e.render(n),this.isUserDepth3HoverIn&&i.level==3){n.on("mouseenter",function(){r.anchorHoverTimerLeft=ecount.global.setTimeout(r.ecPageID,function(){r._onDepth3MenuHoverIn(n,i)},r.mouseHoverInTime)});n.on("mouseleave",function(){ecount.global.clearTimeoutByTimerNo(r.ecPageID,r.anchorHoverTimerLeft);ecount.global.setTimeout(r.ecPageID,function(){r._onDepth3MenuHoverOut(n,i)},0)})}if(this.isShowNewWindowIcon(i)){n.find("a").on("mouseenter."+i.id,function(){r.anchorHoverNewWindowtimer=ecount.global.setTimeout(r.ecPageID,function(){$(this).find("span.new-window").addClass("visible")}.bind(this),r.mouseHoverInTime)});n.find("a").on("mouseleave."+i.id,function(){ecount.global.clearTimeoutByTimerNo(r.ecPageID,r.anchorHoverNewWindowtimer);ecount.global.setTimeout(r.ecPageID,function(){$(this).find("span.new-window").removeClass("visible")}.bind(this),0)})}},setGroupMenuPositionByParentMenu:function(n,t){var u=t.position().left,r=0,f=t.outerWidth()/2,i=0,e=$(window).width();this.$el.find(String.format("#{0}_{1} li",this.parentMenuID,n)).each(function(){i+=$(this).outerWidth()});i=i/2;r=u-i+f;r<=0||i*2+r>=e?this.$el.find(String.format("#{0}_{1}",this.parentMenuID,n)).css("left",0):this.$el.find(String.format("#{0}_{1}",this.parentMenuID,n)).css("left",r)},setMenuPositionByParentMenu:function(n){var r=n.position().left,i=n.parent(),u=i.position().left,f=i.css("margin-left"),t=0;t=r+u+parseInt(f);$(this.$el.children()[1]).css("left",t>0?t:0)},setTitle:function(n){this.$el.find(".section-title").text(n)},isShowNewWindowIcon:function(n){return n.level>=3&&(n.level==4||n.menuItems.length==0)?!0:!1},openPopup:function(n){var t=$.extend({},n,{width:n.width||900,height:n.height||600,name:n.name||"",url:n.url,popupType:n.popupType===!0,isNotSetLayout:!0}),i;this.delegator?this.delegator.triggerEvent("control.openPopup",{targetID:this.id,control:this,parameter:t,handler:function(n,t,i,r){var u,f;this.responseID=t;n.popupLevel=r;n.__ecPageID=this.ecPageID;u=n.additional;delete n.additional;f={url:n.url,name:n.name||ecount.resource.LBL06789,param:n,popupID:n.popupID,popupType:n.popupType,popupLevel:r,additional:u,isNotSetLayout:n.isNotSetLayout,notSubmitWindowOpen:n.notSubmitWindowOpen};ecount.popup.openWindow(f)}.bind(this)}):(t.popupLevel=this.popupLevel,t.parentPageID=this.parentPageID,t.__ecPageID=this.ecPageID,t.alreadyIncludedLayout=!0,i={url:t.url,name:t.name||"control_popup",param:t,popupType:t.popupType,modal:this._modal,control:{name:this.subTitle,id:this.id},parentPageID:this.parentPageID},ecount.popup.openWindow(i))}},create:function(n){var t,i,r;(n=n||"_default",t=widget.menu.repository[n]||{},widget.menu._baseLoaded||(i=$.Class(ecount.control.menu,widget.menu.repository._default),widget.menu=$.extend(i,widget.menu),widget.menu._baseLoaded=!0,n!="_default"))&&(widget.menu[n]||(t.init||(t.init=function(){widget.menu.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.menu.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.menu,widget.menu[n]=$.Class(r,t)))}}};widget.menuContainer={};widget.menuContainer._baseLoaded=!1;widget.menuContainer._export=function(){return{_default:{controlType:"widget.menuContainer",createView:function(){return this.ecview=new widget.view.menuContainer}},common:{controlType:"widget.menuContainer.common",defaultClosedState:!0,navMouseoutTimer:null,depth1MouseoverTimer:null,depth2MouseoverTimer:null,depth3MouseoutTimer:null,closingTimer:null,navMouseoutTimeout:1e3,depth1MouseoverTimeout:null,depth2MouseoverTimeout:null,depth3MouseoutTimeout:null,blankPageUrl:"/ECErp/contents/pages/UI.Service/ECP/Views/blank.html",defaultBodyUrl:"",isUseLeftToggleSwitch:null,isLeftMenuCollapsed:null,preOpenLogicList:null,comInfo:null,versionData:null,clickedMenuId:null,initializeOptions:function(n){_.extend(this,{comInfo:n.comInfo,versionData:n.versionData,isMasterUser:n.isMasterUser,isUseLeftToggleSwitch:n.isUseLeftToggleSwitch,isLeftMenuCollapsed:n.isLeftMenuCollapsed,defaultBodyUrl:n.defaultBodyUrl||this.defaultBodyUrl,depth1MouseoverTimeout:ecount.common.mouseHoverInTime,depth2MouseoverTimeout:ecount.common.mouseHoverInTime,depth3MouseoutTimeout:ecount.common.mouseHoverOutTime});ecount.control.menu.container.prototype.initializeOptions.apply(this,arguments);this.onInitPreOpenLogic()},onInitState:function(){ecount.control.menu.container.prototype.onInitState.apply(this,arguments);$.extend(this.__state,{"style.showingDepth":1,"opt.isClosed":this.defaultClosedState,"opt.hasCursor":!1,"opt.isReadyToClose":!1,"opt.dragMode":!1,"opt.deleteMode":!1,"opt.draggable":!1,"opt.droppable":!1,"opt.responsiveOpenGlobal":!1,"opt.responsiveOpenLocal":!1})},onInitFunction:function(n,t){ecount.control.menu.container.prototype.onInitFunction.apply(this,arguments);t.functions.dropdownGroup={ecFunction:"selectbox",cid:this.id,css:"dropdown-menu dropdown-menu-fixed-height position-fixed",option:[],selectedLabel:"",selectedValue:""}},onAfterRender:function(){var n=$.url().ecHash;ecount.control.menu.container.prototype.onAfterRender.apply(this,arguments);this.onInitContainerObserver();n.menuType?this.runMenuChangeProcess(n):(this.moveToDefaultPage(),this.menuItems[2].hide())},onInitContainerObserver:function(){ecount.runtime.observe(ECountEvent.Type.MOUSEDOWN_BODY,null,this.documentMousedownAction.bind(this));ecount.runtime.observe("resize",this.ecPageID,this.windowResizeAction.bind(this));ecount.runtime.observe("menu.section1.selectItem",this.ecPageID,this.restoreSection1Menu.bind(this));ecount.runtime.observe("menu.section3.renewItem",this.ecPageID,this._updateDepth3MenuItem.bind(this))},onInitPreOpenLogic:function(){this.preOpenLogicList=[]},onClickActionHandler:function(n,t,i){var f,r=ecount.pageInfo.getPrevMenuID(),u;if(i.item.MENU_ID!=this.clickedMenuId&&(!ecount.pageInfo.getPageLoading()||r!==i.item.PRG_ID)){if(this.clickedMenuId=i.item.MENU_ID,ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(i.item.PRG_ID),ecount.pageInfo&&ecount.pageInfo.setPageLoading&&ecount.pageInfo.setPageLoading(!0),ecount.destroyToast&&ecount.destroyToast(),u=200,ecount.company&&ecount.company.COM_CODE=="80000"&&i.item.MENU_ID=="GW_2138_M070303000003"&&(u=2e3),f=ecount.parentFrame.setTimeout(function(){this.clickedMenuId=null}.bind(this),u),n.shiftKey)return ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(r),this.runOpenNewBrowserProcess(i.item);Promise.resolve().then(function(){return this._hasToWaitDataLoad(i.item)?this.dataLoadBeforeRoute(i.item):Promise.resolve(i.item)}.bind(this)).then(function(t){if(n.ctrlKey)return ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(r),this.runOpenNewTabProcess(t);if(n.ecRole=="menu.newwindow")return ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(r),this.runOpenNewWinProcess(t);if(this._isPopupMenu(t))return ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(r),this.runOpenPopupMenuProcess(t);ecount.popup.parent.ecount.callback.find("__EC_UNLOAD_EVENT_CALLBACK_ID")&&!ecount.popup.parent.ecount.callback.execute("__EC_UNLOAD_EVENT_CALLBACK_ID","execute")?ecount.confirm(ecount.resource.MSG70527,{callback:function(n){n?ecount.router.route(this._getHashFromMenuData(t)):ecount.pageInfo&&ecount.pageInfo.setPrevMenuID&&ecount.pageInfo.setPrevMenuID(r)}.bind(this)}):ecount.router.route(this._getHashFromMenuData(t))}.bind(this))}},onButtonClickActionHandler:function(n){switch(n.ecRole){case"menu.navButton":case"menu.globalNavButton":this.toggleNavigatorAction();break;case"menu.backButton":this._showPrevDepth();break;case"menu.homeButton":this.setShowingDepth(1)}},onDropdownClickActionHandler:function(n){n.ecRole=='"menu.grouplist'},runPreOpenLogic:function(n,t){return new Promise(function(i){for(var r=Promise.resolve(),u=0,f=n.length;u<f;u++)(function(n){r=r.then(n.predicate.bind(null,t)).then(function(r){if(r)return $.isArray(n.action)?i(this.runPreOpenLogic(n.action,t)):i(n.action(t))}.bind(this))}).bind(this)(n[u]);r.then(i)}.bind(this)).then(function(){return t.BODY_URL})},runMenuChangeProcess:function(n){if(ecount.getWindowRefreshFlag()){location.reload(!0);return}this._getRoutingMenuData(n).then(function(t){if(this.isRedirectMenu(t)){this.redirectByOldUrlQuery(t);return}if(this.isRedirectTempMenu(t)){this.redirectByNewUrlQuery();return}(this.renderChangedMenu(t),this.getState(this._IT_SELF,"opt.draggable"))||this.runPreOpenLogic(this.preOpenLogicList,t).then(function(i){ecount.router.go({url:i,param:this._getMenuRoutingParam(n,t),doNotNeedLeftSpace:this._isNoLeftSpaceMenu(t),applicationVersion:n.applicationVersion||3})}.bind(this)).catch(this.logFailMenuChange.bind(this,t))}.bind(this)).catch(function(t){console.log(t);this.moveToNoMenuDataUrl(n)}.bind(this))},renderChangedMenu:function(n){switch(+n.DEPTH){case 1:this.depth1ItemRoutingAction(n);break;case 2:this.depth2ItemRoutingAction(n);break;case 3:this.depth3ItemRoutingAction(n);break;case 4:this.depth4ItemRoutingAction(n)}},moveToNoMenuDataUrl:function(n){if(this.menuItems[2]&&this.menuItems[2].removeCurrentItemKey(),n.menuUrl)return this.renderDataProvidedItemOnly(n),ecount.router.go(n.menuUrl);this.blockMenuAccessAction()},logFailMenuChange:function(n){var t=String.format("can not access to the menu:: menuSeq >> {0}, prgId >> {1}, menuName: {2}.",n.MENU_SEQ,n.PRG_ID,n.MENU_NAME);console.log(t)},_getMenuRoutingParam:function(n,t){return{PRG_ID:t.PRG_ID,FROM_FAVORITE:n.fromFavorite}},openNewSite:function(n){var t={},i={item:n.menuData};n.selected==="newTab"?t.ctrlKey=!0:t.ecRole="menu.newwindow";this.onClickActionHandler(t,{},i);this.delegator&&this.delegator.triggerEvent("section.menuClose",{})},runOpenPopupMenuProcess:function(n){this.runPreOpenLogic(this.preOpenLogicList,n).then(function(){ecount.popup.openWindow({url:n.BODY_URL,popupType:!1,alreadyIncludedLayout:!0,param:{responseID:this.callbackID,width:1200,height:800}})}.bind(this)).catch(function(){this.logFailMenuChange(n)}.bind(this))},runOpenNewWinProcess:function(n){if(!n){this.blockMenuAccessAction();return}if(this.isRedirectMenu(n)){this.openNewWindowByOldUrlQuery(n);return}this.runPreOpenLogic(this.preOpenLogicList,n).then(function(t){var i=this._getPopupOpenOptions(t,n);i=_.extend(i,{isLeftMenuNewOpen:!0});ecount.popup.openWindow(i)}.bind(this)).catch(function(){this.logFailMenuChange(n)}.bind(this))},runOpenNewBrowserProcess:function(n){var t=this._getUrlFromMenuData(n);window.open(t)},runOpenNewTabProcess:function(n){if(n){if(this.isRedirectMenu(n)){this.openNewTabByOldUrlQuery(n);return}this.runPreOpenLogic(this.preOpenLogicList,n).then(function(t){ecount.router.go({url:t,param:{menuSeq:n.MENU_SEQ,groupSeq:n.GROUP_SEQ}},"_blank")}.bind(this)).catch(function(){var t=String.format("can not access to the menu:: menuSeq >> {0}, prgId >> {1}, menuName: {2}.",n.MENU_SEQ,n.PRG_ID,n.MENU_NAME);console.log(t)})}},runOpenFavNewTabProcess:function(n){var t=this._getHashFromMenuData(n);ecount.router.go({url:location.pathname,hash:"#"+this._getHashStringFromHashData(t),doNotNeedLeftSpace:!ecount.parentFrame.location.hash||this._isNoLeftSpaceMenu(n)},"_blank")},runOpenFavMenuProcess:function(n,t){if(t=="favNewTab"){this.runOpenFavNewTabProcess(this._getMenuDataFromHash(n));return}this._getFavMenuTarget(n).then(this.routeToFavMenu.bind(this,t)).catch(function(){this.routeAction(this._getMenuDataFromHash(n),t)}.bind(this))},routeToFavMenu:function(n,t){var i=this._getHashFromMenuData(t);this._getRoutingMenuData(i).then(function(){this.routeAction(t,n)}.bind(this)).catch(function(){this.routeAction(t,n)}.bind(this))},dataLoadBeforeRoute:function(n){return Promise.resolve(n)},renderSection2ItemAction:function(){return Promise.resolve()},renderSection3ItemAction:function(n,t){var i=_.isPlainObject(t)?t:null;return t=i?t.BODY_URL:t,this.renderItemsByParent(3,n).then(function(){if(t.indexOf(ecount.menu.noChildMyPageUrl)!=0)if(i){var n={BODY_URL:i.BODY_URL};i.PRG_ID&&(n.PRG_ID=i.PRG_ID);i.MENU_SEQ&&(n.MENU_SEQ=i.MENU_SEQ);this.menuItems[2].activateMenuItemByMatch(n,!0)}else this.menuItems[2].activateMenuItemByBodyUrl(t,!0)}.bind(this))},activateSectionByMenuSeq:function(n,t,i){var r=n-1,u=this.menuItems[r].getMenuItemByMenuSeq(t);u&&this.menuItems[r].activateMenuItem(u.getMenuDataAttrs(),i)},activateSectionByMenuId:function(n,t,i){var r=n-1;this.menuItems[r].activateMenuItemById(t,i)},activateSectionByBodyUrl:function(n,t,i){var r=n-1;this.menuItems[r].activateMenuItemByBodyUrl(t,i)},depth1ItemRoutingAction:function(n){return ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth1MouseoverTimer),this.activateSection1Item(n,!0).then(function(){var r=n.BODY_URL||n.MENU_URL,t=this._getDefaultDepth2Group(n),i;this._updateMenuDefaultTargetData(t);ecount.menuCommand.container.renderSection1ClickedUI(this,n);ecount.menuCommand.container.renderSection2ClickedUI(this,t.getMenuData());ecount.menuCommand.container.renderClickedUIAnimation(this,1,n);i=this.menuItems[2].menuItems;i.forEach(function(n){var t=n.getClosedOptState();n.setClosedAttrState(t)}.bind(this))}.bind(this))},depth2ItemRoutingAction:function(n){var i=this.menuItems[0].getMenuItemByMenuSeq(n.MENU_TYPE),t=i.getMenuData();return ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer),ecount.menuCommand.container.renderSection1ClickedUI(this,t),this.activateSection1Item(t,!0).then(this.activateSection2Item.bind(this,n)).then(function(){var i=this._isNoLeftSpaceMenu(n),r=this._isClosingTypeMenu(n),t;ecount.menuCommand.container.renderSection2ClickedUI(this,n);ecount.menuCommand.container.renderSection3ClickedUI(this,n,n.BODY_URL);ecount.menuCommand.container.renderClickedUIAnimation(this,2,n);t=this.menuItems[2].menuItems;t.forEach(function(n){var t=n.getClosedOptState();n.setClosedAttrState(t)}.bind(this));ecount.menuCommand.container.renderNoLeftSpaceMenu(this,i);ecount.menuCommand.container.renderClosingTypeMenu(this,r)}.bind(this))},leafItemRoutingAction:function(n,t){var u=this.menuItems[0].getMenuItemByMenuSeq(n.MENU_TYPE),f=this.menuItems[1].getMenuItemByGroupSeq(n.MENU_TYPE,n.GROUP_SEQ),r=u?u.getMenuData():null,i=f?f.getMenuData():null;return ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth1MouseoverTimer),ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer),this.activateSection1Item(r,!0).then(this.activateSection2Item.bind(this,i)).then(function(){ecount.menuCommand.container.renderSection1ClickedUI(this,r);ecount.menuCommand.container.renderSection2ClickedUI(this,i);ecount.menuCommand.container.renderSection3ClickedUI(this,i,_.isEmpty(n.DEFAULT_PRG_ID)?n:n.BODY_URL);ecount.menuCommand.container.renderClickedUIAnimation(this,3,n);t(r,i,n)}.bind(this))},depth3ItemRoutingAction:function(n){this.leafItemRoutingAction(n,function(n,t,i){var r=this.menuItems[2].menuItems;r.forEach(function(n){if(n.cid==i.MENU_SEQ)n.setClosedAttrState(!1);else{var t=n.getClosedOptState()||n.getClosedAttrState();n.setClosedAttrState(t)}}.bind(this))}.bind(this))},depth4ItemRoutingAction:function(n){this.leafItemRoutingAction(n,function(n,t,i){var r=this.menuItems[2].menuItems;r.forEach(function(n){if(n.cid==i.PARENT_MENU_SEQ)n.setClosedAttrState(!1);else{var t=n.getClosedOptState()||n.getClosedAttrState();n.setClosedAttrState(t)}}.bind(this))}.bind(this))},dropdownGroupRoutingAction:function(n,t){var i=this.getFunction("dropdownGroup"),r=i.option,u=r.head(function(t){return t.value==n});this.routeAction(u,t)},allowMenuAccessAction:function(n){return Promise.resolve(n.BODY_URL)},blockMenuAccessAction:function(){return ecount.router.go({url:this.blankPageUrl,method:"GET"}),Promise.reject()},setSection2ActivationTimer:function(n,t,i){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth1MouseoverTimer);ecount.runtime.stopObserving(this.ecPageID,"menu.section2.deselectItem");this.depth1MouseoverTimer=ecount.global.setTimeout(this.ecPageID,this.activateSection1Item.bind(this,i.item),this.depth1MouseoverTimeout);ecount.runtime.observe("menu.section2.deselectItem",this.ecPageID,function(){ecount.runtime.stopObserving("menu.section2.deselectItem",this.ecPageID);ecount.runtime.observe("menu.section2.deselectItem",this.ecPageID,ecount.menuCommand.container.deselectItemAction.bind(null,this,2));ecount.menuCommand.container.deselectItemAction(this,2)}.bind(this))},setSection3ActivationTimer:function(n,t,i){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer);ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);this.menuItems[0].activateMenuItem(i.item);this.depth2MouseoverTimer=ecount.global.setTimeout(this.ecPageID,this.activateSection2Item.bind(this,i.item),this.depth2MouseoverTimeout);ecount.runtime.observe("menu.section2.selectItem",this.ecPageID,function(n){ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);ecount.runtime.observe("menu.section2.selectItem",this.ecPageID);this.restoreSection2Menu(n)}.bind(this))},getLayerSelectboxOption:function(n,t){var i=this.getLayerDefaultOption(n,t),r=this.getFunction("dropdownGroup");return _.extend(i,r,{showingUpDelay:0,boundary:this.getRoleHolderBoundary(n.ecRole,n.ecRoleIndex)})},getDropdownGroupTarget:function(n){return n.DEPTH>2?this.menuItems[1].getMenuItemByGroupSeq(n.MENU_TYPE,n.GROUP_SEQ):this.menuItems[0].getMenuItemByMenuSeq(n.PARENT_MENU_SEQ)},getSibilingsGroup:function(n,t){var i=n-1,r=this.menuItems[i].getSibilingsGroup(t.MENU_ID);return r.map(function(n){return _.extend(n,{value:n.MENU_ID,label:n.MENU_NAME})})},getMenuItemDataByMenuId:function(n){var t=this._getMenuItemByMenuId(n);if(t)return t.getMenuDataAttrs()},getEditGuide:function(){if(this.ecview)return this.ecview.getEditGuide()},setSelectedDropdownGroup:function(n,t){var i=n.head(function(n){return n.value==t});i&&(this.setState("dropdownGroup","option",n),this.setState("dropdownGroup","selectedLabel",i.label),this.setState("dropdownGroup","selectedValue",i.value))},setParentDropdownGroup:function(n){var i=this.getDropdownGroupTarget(n),t;i&&(t=i.getMenuDataAttrs(),this.setSelectedDropdownGroup(this.getSibilingsGroup(t.DEPTH,t),t.MENU_ID))},enableEditMode:function(n,t,i){i||this.setState(this._IT_SELF,"opt.draggable",!0);t||this.setState(this._IT_SELF,"opt.droppable",!0);n!==undefined?(index=n-1,this._enableChildDraggable(t,i,this.menuItems[index])):this.menuItems.forEach(this._enableChildDraggable.bind(this,t,i));this.enableDeleteMode()},enableDeleteMode:function(n){if(n!==undefined){var t=n-1;this.menuItems[t].enableDeleteMode()}else this.menuItems.forEach(function(n){n.enableDeleteMode()})},disableEditMode:function(n,t,i){i||this.setState(this._IT_SELF,"opt.draggable",!1);t||this.setState(this._IT_SELF,"opt.droppable",!1);n!==undefined?(index=n-1,this._disableChildRaggable(t,i,this.menuItems[index])):this.menuItems.forEach(this._disableChildRaggable.bind(this,t,i));$("body").removeClass("navigation-edit")},disableDeleteMode:function(){if(depth!==undefined){var n=depth-1;this.menuItems[n].disableDeleteMode()}else this.menuItems.forEach(function(n){n.disableDeleteMode()})},hasFocus:function(){return this.getState(this._IT_SELF,"opt.hasCursor")},getDraggable$Target:function(n){for(var r,i=0,u=this.menuItems.length,t;i<u;i++)if(this.menuItems[i].isDraggableEnabled()&&(t=this.menuItems[i].getMenuItemByMenuId(n.cid)))return t.isDraggable()?(r=t.getDraggableTarget(),this.menuItems[i].setEditGuide(t.getMenuId(),{horizontal:"backword",vertical:"backword"}),t.hideMenuItemTemporarily(),r):t.getNotDraggableTarget()},getDraggableTarget:function(){return this.menuItems.reduce(function(n,t){return t.isDraggableEnabled()?n.add(t.getDraggableTarget()):n},$())},getDroppableTarget:function(){this.menuItems.reduce(function(n,t){return t.isDroppableEnabled()?n.add(t.getDraggableTarget()):n},$())},getSectionDepthFrom$Target:function(n){var t=this._getEcPathFrom$Target(n);if(t.containerName=="menu"&&t.layoutID)return t.layoutID=="group"?t.cid.split("").pop():t.layoutID.split("").pop()},getMenuIdFrom$Target:function(n){var t=this._getEcPathFrom$Target(n);if(t.containerName=="menu"&&t.cid)return t.cid},isDraggableMode:function(){return this.getState(this._IT_SELF,"opt.draggable")},isDroppableToSection:function(n,t,i){var f=this.menuItems.length,r=function(n){return n>f?n-=2:--n},e=r(i),o=r(t),u;return(u=this.menuItems[e])?u.isDroppableSection(n,t,i):!1},hasEditGuideIndex:function(){for(var n=0,t=this.menuItems.length;n<t;n++)if(this.menuItems[n].hasEditGuideIndex())return!0;return!1},serialize:function(){var n=this.menuItems[0].serialize(),t=this.menuItems[1].serialize(),i=this.menuItems[2].serialize();return n.concat(t).concat(i)},enableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDragMode()},disableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDragMode(),this.menuItems[n].clearDropAcceptState(),this.menuItems[n].removeEditGuide()},disableDraggable:function(){this.setState(this._IT_SELF,"opt.draggable",!1);this.menuItems.forEach(function(n){n.disableDraggable()});ecount.draggable.destroy()},noChildDepth2RoutingAction:function(){var t=this.menuItems[0].getActivatedChild(),n;t&&t.getBodyUrl().indexOf(ecount.menu.noChildMyPageUrl)==0&&(n=this.menuItems[1].getMenuItem(0).getMenuItem(0),this.menuItems[1].activateMenuItem(n.getMenuDataAttrs(),!0),this.menuItems[2].renderChildren(n,[]))},activateSection1Item:function(n,t){return this.menuItems[0].activateMenuItem(n,t),this.menuItems[0].activeteSection(!0),this.menuItems[1].activateMenuByParent(n).then(function(){var t=this.menuItems[0].getMenuItemByMenuSeq(n.MENU_SEQ).getMenuData();return ecount.menuCommand.container.activateSection1Action(this,t)}.bind(this))},activateSection2Item:function(n,t){this.menuItems[1].activateMenuItem(n,t);var i=this.menuItems[1].getHoverActiveItem();return i&&i!==n.MENU_SEQ&&!this.menuItems[0].getClickedItem()&&this.menuItems[1].getMenuItemByMenuSeq(i)&&this.menuItems[1].getMenuItemByMenuSeq(i).deselectItem(),this.menuItems[0].setHoverActiveItem(n.PARENT_MENU_SEQ),this.menuItems[1].setHoverActiveItem(n.MENU_SEQ),this.renderItemsByParent(3,n).then(ecount.menuCommand.container.activateSection2Action.bind(null,this,n))},hoverModeRestore:function(){if(!this.menuItems[0].getClickedItem()){var i=this.menuItems[2].getSelectedState(),n=this.menuItems[0].getHoverActiveItem(),t=this.menuItems[1].getHoverActiveItem();n&&(this.activateSectionByMenuSeq(1,n),t&&this.activateSectionByMenuSeq(2,t))}},getChildrenCount:function(n){var t=n-1;return this.menuItems[t].getChildrenCount()},setSectionTitle:function(n,t){var i=n-1;t!==undefined&&this.menuItems[i].setTitle(t)},setSectionTitleState:function(n,t){var i=n-1;t!==undefined&&this.menuItems[i].showTitle(t)},setSectionOpenState:function(n,t){var i=n-1;this.menuItems[i].setSectionState(t)},setResponsiveOpenGlobal:function(n,t){this.setState(this._IT_SELF,"opt.responsiveOpenGlobal",n,t)},getResponsiveOpenLocal:function(){return this.getState(this._IT_SELF,"opt.responsiveOpenLocal")},setResponsiveOpenLocal:function(n,t){this.setState(this._IT_SELF,"opt.responsiveOpenLocal",n,t)},getResponsiveOpenGlobal:function(){return this.getState(this._IT_SELF,"opt.responsiveOpenGlobal")},setOptIsClosedState:function(n,t){this.setState(this._IT_SELF,"opt.isClosed",n,t);this.setResponsiveOpenGlobal(!n,t);n?this.setResponsiveOpenLocal(!n,t):this.getShowingDepth()>1&&this.setResponsiveOpenLocal(!n,t)},getOptIsClosedState:function(){return this.getState(this._IT_SELF,"opt.isClosed")},setGlbalNavOpenState:function(n){this.setOptIsClosedState(!n)},setShowingDepth:function(n,t){this.setState(this._IT_SELF,"style.showingDepth",n,t);this.getOptIsClosedState()||this.setOptIsClosedState(!1,t)},getShowingDepth:function(){return this.getState(this._IT_SELF,"style.showingDepth")},setChildrenGroupSelectState:function(n){this.menuItems[1].getSelectedItem().setSelectedState(n)},setLeafItemSelectedState:function(n){this.menuItems[2].setSelectedState(n)},setChildrenHiddenState:function(n,t){var i=n-1;t?this.menuItems[i].hide():this.menuItems[i].show()},setReadyToClosingNavigatorState:function(n){this.setState(this._IT_SELF,"opt.isReadyToClose",n)},setSelectedSectionActivation:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth1MouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer);this.menuItems[0].fixCurrentlySelectedMenu();this.menuItems[1].fixCurrentlySelectedMenu();ecount.menuCommand.container.activateSection3Action(this,this.menuItems[2].getSelectedItem())},isRedirectMenu:function(){return!1},isReadyToClosingNavigator:function(){return this.getState(this._IT_SELF,"opt.isReadyToClose")},checkMenuAccessRight:function(){return!0},clearSection2Activation:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth1MouseoverTimer)},clearSection3Activation:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer)},clearNavigationCloseTimer:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.navMouseoutTimer)},clearSection1MouseoverAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer)},renderChildByParent:function(n,t){var i=n-1;this.menuItems[i].renderMenuItemByParent(t)},restoreSection1Menu:function(n){var t=this.menuItems[1].getSelectedItem(),i=!t||!n;i||t.getParentMenuId()==n.MENU_ID||t.isChildMenuData(n)||(i=!0);i&&ecount.menuCommand.container.restoreSectionStateAction(this,1)},restoreSection2Menu:function(n){this.clearSection1MouseoverAction();this.menuItems[1].activateMenuItem(n.item);ecount.menuCommand.container.restoreSectionStateAction(this,2,n.item)},renewMenuItems:function(n,t){var i=n-1,u=this._getCurrentHashData(),r;this.menuItems[i]&&(r=t.filter(function(t){return n>2?t.DEPTH>=n:t.DEPTH==n}),this.menuItems[i].renewMenuItems(r),this.activateCurrentlySelectedMenu())},restoreToClickedMenu:function(){var n=this.menuItems[0].getClickedItem(),t=this.menuItems[1].getClickedItem(),i;this.menuItems[0].hasFocus()||this.menuItems[1].hasFocus()||this.menuItems[2].hasFocus()||(n&&n!=this.menuItems[0].getSelectedItem()&&this.activateSection1Item(n.getMenuData()),t&&t!=this.menuItems[1].getSelectedItem()&&(i=t.getMenuData(),this.activateSection2Item(i).then(function(){var n=this.menuItems[2].getClickedItem();n&&ecount.menuCommand.container.activateSection3Action(this,n)}.bind(this))))},redirectByOldUrlQuery:function(n){var i=n.BODY_URL.split("?")[1],t;i&&(t=$.deparam(i.toUpperCase()),ecount.router.route({menuType:t.MENU_TYPE,groupSeq:t.MENU_SEQ,menuSeq:t.MENU_SEQ,depth:2}))},redirectByNewUrlQuery:function(){ecount.alert(ecount.resource.MSG11547,function(){ecount.router.route({menuType:2776,groupSeq:2910,menuSeq:2911,depth:3})}.bind(this))},activateCurrentlySelectedMenu:function(){var n=this._getCurrentHashData();n&&this._getRoutingMenuData(n).then(this.renderChangedMenu.bind(this)).catch(function(n){console.log(n)})},openNewWindowByOldUrlQuery:function(n){var i=n.BODY_URL.split("?")[1],t;i&&(t=$.deparam(i.toUpperCase()),this.runOpenNewWinProcess({MENU_TYPE:t.MENU_TYPE,GROUP_SEQ:t.MENU_SEQ,MENU_SEQ:t.MENU_SEQ,DEPTH:2}))},openNewTabByOldUrlQuery:function(){var t=menuData.BODY_URL.split("?")[1],n;t&&(n=$.deparam(t.toUpperCase()),this.runOpenNewTabProcess({MENU_TYPE:n.MENU_TYPE,GROUP_SEQ:n.MENU_SEQ,MENU_SEQ:n.MENU_SEQ,DEPTH:2}))},onDragStart:function(){for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].setDropAcceptState(!1)},onMenuItemDragAction:function(n,t,i,r){var o=this.getSectionDepthFrom$Target(t),s,h,e,f,c,u,l;if(n&&o){for(s=this.getSectionDepthFrom$Target(n),h=this.getMenuIdFrom$Target(n),e=r&&this.isDroppableToSection(h,s,o),f=o-1,c=this.getMenuIdFrom$Target(t),f>=this.menuItems.length&&f--,u=0,l=this.menuItems.length;u<l;u++)+f==u&&e?this.menuItems[u].setEditGuideUp(c,i):this.menuItems[u].removeEditGuide();if(this.menuItems[f].setDropAcceptState(e),e)return!0}},onEditGuideDragAction:function(n,t,i){var u,r,f,e;if(n&&i)for(u=this.getMenuIdFrom$Target(n),r=0,f=this.menuItems.length;r<f;r++)e=this.menuItems[r],e.setEditGuideUpdatedPosition(u,t)},onMoveItemAction:function(n,t){var r=this.getSectionDepthFrom$Target(t),f,i,u,e;n&&r&&(f=this.getSectionDepthFrom$Target(n),u=this.getMenuIdFrom$Target(n),e=this.getMenuIdFrom$Target(t),i=r-1,this.isDroppableToSection(u,f,r)&&(i>=this.menuItems.length&&i--,this.menuItems[i].editMenuItemOrder(u,e)));this.clearDropAcceptState()},onMoveItemOnEditGuideAction:function(n){var i,t,r,u;if(n)for(i=this.getMenuIdFrom$Target(n),t=0,r=this.menuItems.length;t<r;t++)u=this.menuItems[t],u.setMenuItemOnEditGuide(i);this.clearDropAcceptState()},clearDropAcceptState:function(){this.restoreTemporarilyHiddenItem();for(var t=0,i=this.menuItems.length,n;t<i;t++)n=this.menuItems[t],n.removeEditGuide(),n.removeDeleteButton(),n.clearDropAcceptState()},clearSectionRestoreTimer:function(n){var t=n-1;t>=2&&(t=1);this.menuItems[t].clearSectionRestoreTimer()},restoreTemporarilyHiddenItem:function(){for(var t=0,i=this.menuItems.length,n;t<i;t++)n=this.menuItems[t],n.removeEditGuide(),n.removeDeleteButton(),n.restoreTemporarilyHiddenItem()},deselectSection2MenuAction:function(n){var t=this.menuItems[1].getSelectedItem(),i;t&&t.getSelectedItem&&(i=t.getSelectedItem());i&&i.getMenuSeq()==n.item.MENU_SEQ||(t&&!i||ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.depth2MouseoverTimer),this.menuItems[2].hide())},moveToDefaultPage:function(){ecount.menuCommand.container.loadDefaultPageAction(this)},loadDefaultPageAction:function(){},routeAction:function(n,t){switch(t){case"newTab":this.runOpenNewTabProcess(n);break;case"newBrowser":this.runOpenNewBrowserProcess(n);break;default:ecount.router.route(this._getHashFromMenuData(n,!0))}},losingFocusAction:function(){this.navigationCollapsAction();this.delayedClosingAction()},gettingFocusAction:function(){ecount.menuCommand.container.notifyMenuExpandedAction(this)},navigationCollapsAction:function(){ecount.menuCommand.container.notifyMenuCollapsedAction(this)},delayedClosingAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.closingTimer);this.closingTimer=ecount.global.setTimeout(this.ecPageID,function(){var n=this.menuItems.any(function(n){return n.hasFocus()});!this.isReadyToClosingNavigator()||this.hasFocus()||n||this.closeNavigatorAction()}.bind(this),0)},documentMousedownAction:function(){ecount.menuCommand.container.documenutMousedownAction(this)},windowResizeAction:function(){var n=$.url().ecHash;_.isEmpty(n)||this._getRoutingMenuData(n).then(function(n){n&&this.renderChangedMenu(n)}.bind(this))},_getMenuItems:function(n,t){var i=widget.generator.control(),c=n._dataItems[0],u=this._getSection3Data(n,t),f=this._getSection2Data(n,t,u),e=this._getSection1Data(n,t,f),r=[],o=i.define.apply(i,this._getSection1GeneratorOption()).setDataItems(e).setOptions(this._getContainerData(n,t)).getInstance(),s=i.define.apply(i,this._getSection2GeneratorOption()).setDataItems(f).setOptions(_.extend(this._getGroupData(e),this._getContainerData(n,t))).setOptions({sectionLv1:o}).getInstance(),h=i.define.apply(i,this._getSection3GeneratorOption()).setDataItems(u).setOptions(_.extend(this._getContainerData(n,t),this._getSection3Options(n,t))).getInstance();return r.push(o),r.push(s),r.push(h),r},_getContainerData:function(){return{ecPageID:this.ecPageID,comInfo:this.comInfo,delegator:this.delegator}},_getSection3Data:function(n){var t=n._dataItems[0].AllSubMenuData;return n._dataItems[0].AllSubMenuData.map(function(n){if(n.M_CNT>0){var i=t.head(function(t){return t.DEPTH>4&&t.PARENTMENU_SEQ==n.MENU_SEQ});if(i)return _.extend({},n,{MENU_URL:i.MENU_URL})}return n})},_getSection2Data:function(n,t,i){return n._dataItems[0].SubMenuData.Data.map(function(n){var t=i.head(function(t){return t.PARENTMENU_SEQ_ORG==n.MENU_SEQ});return t&&t.MENU_URL?_.extend({},n,{MENU_URL:t.MENU_URL}):n})},_getSection1Data:function(n,t,i){return n._dataItems[0].MainMenuData.map(function(n){return _.extend({},n,{MENU_URL:i[0].MENU_URL})})},_getGroupData:function(n){return{groupKeys:n.map(function(n){return n.MENU_SEQ})}},_getDefaultDepth2Group:function(n){var r=n.BODY_URL||n.MENU_URL,i,t;return r&&(t=this.menuItems[1].getMenuItemByBodyUrl(r),t&&t.getDisplayState())?t:(n.GROUP_SEQ&&(i=this.menuItems[1].getMenuGroupByGroupSeq(n.GROUP_SEQ)),i||(i=this.menuItems[1].getMenuGroupByMenuType(n.MENU_TYPE)),i||(i=this.menuItems[1].getMenuGroup(0)),t=i.getMenuItemByMenuSeq(n.GROUP_SEQ),t&&t.getDisplayState())?t:i.getVisibleMenuItemByIndex(0)},_getMenuItemByMenuId:function(n){for(var t,i=0;i<3;i++)if(t=this.menuItems[i].getMenuItemByMenuId(n),t)return t},_getFavMenuTarget:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(n.menuType),i;return t?(i=t.getMenuData(),new Promise(function(t,r){this.activateSection1Item(i).then(this._findTargetGroupData.bind(this,n)).then(this.activateSection2Item.bind(this)).then(this._findTargetMenuData.bind(this,n)).then(this._getCertainFavData.bind(this,n)).then(t).catch(r)}.bind(this))):Promise.reject()},_getEcPathFrom$Target:function(n){var t=ec$.parseElement(n);return ec$.parseEcPath(t.ecPath)},_findTargetGroupData:function(n){var t=this.menuItems[1].getMenuItemByGroupSeq(n.menuType,n.groupSeq);return!t||this._checkMenuFavByPrgID(n.prgId)?this._getMenuDataFromHash(n):t.getMenuData()},_findTargetMenuData:function(n){var t=this.menuItems[2].getMenuItemByPrgId(n.prgId),i;return t||(t=this._isNoLeftSpaceMenu(this._getMenuDataFromHash(n))?this.menuItems[1].getMenuItemByMenuUrl(n.menuUrl):this.menuItems[2].getMenuItemByMenuUrl(n.menuUrl)),t&&(i=t.getMenuDataAttrs()),i},_getCertainFavData:function(n,t){return t?Promise.resolve(_.extend(t,{FROM_FAVORITE:"Y"})):new Promise(function(t){this.menuItems[1].getGroupSeqByMenuSeq(n.menuType,n.menuSeq).then(function(t){return _.extend(this._getMenuDataFromHash(n),{GROUP_SEQ:t})}.bind(this)).then(function(n){t(_.extend(n,{FROM_FAVORITE:"Y"}))}).catch(function(){var i=this._getMenuDataFromHash(n);t(_.extend(i,{FROM_FAVORITE:"Y"}))}.bind(this))}.bind(this))},_getHashFromMenuData:function(n,t){for(var f=["MENU_TYPE","MENU_SEQ","GROUP_SEQ","PRG_ID","FROM_FAVORITE","FROM_MYPAGE","DEPTH","APPLICATION_VERSION"],r={},u=0,e=f.length,i;u<e;u++)i=f[u],$.isEmpty(n[i])||(r[i.ecCamelize()]=n[i]);return t&&n.MENU_URL&&(r.menuUrl=n.MENU_URL),r},_getMenuDataFromHash:function(n){var t={},r=/([A-Z])+/g;for(var i in n)t[i.replace(r,"_$&").toUpperCase()]=n[i];return t},_getHashStringFromHashData:function(n){var t="";for(var i in n)t+=[i,n[i]].join("=")+"&";return t.substring(0,t.length-2)},_getCurrentHashData:function(){var n=ecount.runtime.root.location.hash,t;if(n)return t=n.substring(1).split("&"),t.reduce(function(n,t){var i=t.split("=");return n[i[0]]=i[1],n},{})},_getUrlFromMenuData:function(n){var i=this._getHashFromMenuData(n),t=[ecount.common.buildSessionUrl(ecount.runtime.root.location.pathname),"#"].join("");return this._hasAdditionalHashParam(n)&&(t=[t,this._getAdditionalHashParam(n),"&"].join("")),t+this._getHashStringFromHashData(i)},_getRoutingMenuData:function(n){return!n.menuType||!n.groupSeq?Promise.reject():this._getRoutingDataAfterGroupLoad(n)},_getRoutingDataAfterGroupLoad:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(n.menuType),i,r,u;return t?(i=t.getMenuDataAttrs(),r=n.prgId==i.PRG_ID?this._getDefaultDepth2Group(i):this.menuItems[1].getMenuItemByGroupSeq(n.menuType,n.groupSeq),!r)?Promise.reject():(u=r.getMenuData(),this.activateSection1Item(t.getMenuData()).then(this.activateSection2Item.bind(this,u,!0)).then(function(){var t;return(t=this._getRoutingDataFromCurrentData(n))?Promise.resolve(t):Promise.reject()}.bind(this)).catch(function(n){console.log(n)})):Promise.reject()},_getRoutingDataFromCurrentData:function(n){for(var i,t,r=0,f=this.menuItems.length,u;r<f;r++)if(u=this.menuItems[r],t=u.getMenuItemByMenuSeq(n.menuSeq)){this._updateMenuDefaultTargetData(t);break}if(t)return i=t.getMenuData(),i.PRG_ID=this._getPagePrgId(i),i},_updateGroupDefaultUrl:function(n,t){var i=this.menuItems[2].getVisibleMenuItemByIndexFromCache(t.GROUP_SEQ,0),u,r,f;t.DEPTH!="1"||i||(r=this._getDefaultDepth2Group(t),r&&(f=r.getMenuDataAttrs(),i=this.menuItems[2].getMenuItemByPrgId(f.DEFAULT_PRG_ID),i||(i=this.menuItems[2].getVisibleMenuItemByIndexFromCache(r.getMenuSeq(),0))));i&&(u=this._getLeafSection3Item(i),n.setBodyUrl(u.BODY_URL),n.setDefaultChildPrgId(u.PRG_ID))},_updateMenuDefaultTargetData:function(n){var i=n.getMenuDataAttrs(),r=i.BODY_URL||"",u=!!["ECP100M.ASPX","ECP050M.ASPX"].find(function(n){return r.toUpperCase().indexOf(n)>-1}),t;this.menuItems[n.depth]&&u&&(t=this.menuItems[n.depth].getMenuItem(0),t=this._getLeafSection3Item(t),n.setBodyUrl(t.getBodyUrl()),n.setDefaultChildPrgId(t.getPrgId()));n.getBodyUrl()||this._updateGroupDefaultUrl(n,i)},_updateGroupDefaultUrl:function(n,t){var i=this.menuItems[2].getVisibleMenuItemByIndexFromCache(t.GROUP_SEQ,0),u,r,f;t.DEPTH!="1"||i||(r=this._getDefaultDepth2Group(t),r&&(f=r.getMenuDataAttrs(),i=this.menuItems[2].getMenuItemByPrgId(f.DEFAULT_PRG_ID),i||(i=this.menuItems[2].getVisibleMenuItemByIndexFromCache(r.getMenuSeq(),0))));i&&(u=this._getLeafSection3Item(i),n.setBodyUrl(u.BODY_URL),n.setDefaultChildPrgId(u.PRG_ID))},_getLeafSection3Item:function(n){var i,t;return n&&(t=n.getMenuDataAttrs(),t.DEFAULT_PRG_ID&&(i=n.getMenuItem(0),i&&(t=i.getMenuDataAttrs()))),t},_getPagePrgId:function(n){var t=n.DEPTH,i;for(t>=this.menuItems.length&&t--;this.menuItems[t];t++)i=this.menuItems[t].getMenuItemByPrgId(n.DEFAULT_PRG_ID),i&&(n=i.getMenuDataAttrs());return n.PRG_ID},_getPopupOpenOptions:function(n,t){var r="",i;return this._hasAdditionalHashParam(t)&&(r=this._getAdditionalHashParam(t)),i=ecount.common.buildSessionUrl(n),this._checkMenuFavByPrgID(t.PRG_ID)&&t.GROUP_SEQ&&(i=i+"&groupSeq="+t.GROUP_SEQ),{url:[i,r].join("#"),popupType:!0,name:t.MENU_NAME||"popup",additional:!0,isNotSetLayout:!0,notSubmitWindowOpen:!0,popupID:ecount.common.uuid(t.MENU_NAME||(new Date).getTime()),param:{responseID:this.callbackID,width:window.outerWidth||900,height:window.outerHeight-70||600,menuSeq:t.MENU_SEQ,prgId:t.DEFAULT_PRG_ID||t.PRG_ID}}},_getAdditionalHashParam:function(){var n=this._getCurrentHashData(),i="",t;delete n.menuType;delete n.menuSeq;delete n.groupSeq;for(t in n)i+=["&",t,"=",n[t]].join("");return i.substring(1)},_isNoLeftSpaceMenu:function(){return!1},_isClosingTypeMenu:function(){return!1},_isPopupMenu:function(){return!1},_setNavagatorClosingTimer:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.navMouseoutTimer);this.navMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){this.closeNavigatorAction()}.bind(this),this.navMouseoutTimeout)},_hasToWaitDataLoad:function(){return!1},_hasAdditionalPopupParam:function(){return!1},_enableChildDraggable:function(n,t,i){n||i.enableDroppable();t||i.enableDraggable()},_disableChildRaggable:function(n,t,i){n||i.disableDroppable();t||i.disableDraggable()},openNavigatorAction:function(){this.setOptIsClosedState(!1,!0);this.setShowingDepth(this.getShowingDepth(),!0)},_showPrevDepth:function(){var i=+this.getState(this._IT_SELF,"style.showingDepth");if(prevDepth=i-1,prevDepth>1){var n=prevDepth-1,r=this.menuItems[n].getSelectedItem(),t=r.getMenuDataAttrs(),u=this.getSibilingsGroup(n,t);this.setSelectedDropdownGroup(u,t.PARENT_MENU_SEQ)}this.setShowingDepth(prevDepth)},closeNavigatorAction:function(){this.setOptIsClosedState(!0);this.setReadyToClosingNavigatorState(!1)},toggleNavigatorAction:function(){this.getOptIsClosedState()?this.openNavigatorAction():this.closeNavigatorAction()},_updateDefaultMenu:function(n){if(n.item)switch(n.item.DEPTH){case 2:case"2":this._updateDefaultDepth2Menu(n.item);break;case 3:case"3":case 4:case"4":this._updateDefaultDepth3Menu(n.item)}},_updateDefaultDepth2Menu:function(n){var f=this.menuItems[0].getMenuItemByMenuSeq(n.PARENT_MENU_SEQ),e=this.menuItems[0].getMenuItemByDefaultMenuSeq(n.MENU_SEQ),t=this.menuItems[1].getMenuGroupByGroupSeq(n.GROUP_SEQ),r,u,i;f&&t&&(r=f.getMenuData(),t.activateMenuByParent(r,r.POSITION));e&&(t&&(u=t.getVisibleMenuItemByIndex(0)),u&&(i=u.getMenuDataAttrs(),this.menuItems[0].updateDefaultMenu(e.getMenuId(),i.MENU_SEQ,i.PRG_ID,i.BODY_URL)))},_updateDefaultDepth3Menu:function(n){var r=this.menuItems[1].getMenuItemByDefaultMenuSeq(n.MENU_SEQ),i,t;r&&(i=this.menuItems[2].getVisibleMenuItemByIndex(0),i&&(t=this._getLeafSection3Item(i),this.menuItems[1].updateDefaultMenu(r.getMenuId(),t.MENU_SEQ,t.PRG_ID,t.BODY_URL)))},_updateParentMenu:function(n){if(n.item)switch(n.item.DEPTH){case 2:case"2":this._updateDepthTopMenuParent(n.item);break;case 3:case"3":case 4:case"4":this._updateDepthLeftMenuParent(n.item)}},_updateDepthTopMenuParent:function(n){var i=this.menuItems[0].getMenuItemByMenuSeq(n.MENU_TYPE),t,r;i&&(t=this.menuItems[1].getMenuGroupByGroupSeq(n.MENU_SEQ),t&&(r=t.getVisibleMenuItemCount(),r||i.hideFromMyMenu()))},_updateDepthLeftMenuParent:function(n){var t=this.menuItems[1].getMenuItemByMenuSeq(n.GROUP_SEQ),i;t&&(i=this.menuItems[2].getVisibleMenuItemCountFromCache(n.GROUP_SEQ),i||t.hideFromMyMenu())},menuClose:function(n,t){ecount.menuCommand.container.menuClose(this,n,t)},ON_MOUSEOVER:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!0);ecount.menuCommand.container.defaultMouseoverAction(this,n,t,r);ecount.menuCommand.container.mouseoverAction(this,n,t,r)},ON_MOUSEOUT:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;if(n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!1),n.ecRole=="menu.navButton"){ecount.menuCommand.container.mouseoutNavButtonAction(this,n,t,r);return}this.losingFocusAction(n,t,r);ecount.menuCommand.container.mouseoutAction(this,n,t,r)},ON_CLICK:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;if(n.ecRole=="button.delete"){this._updateDefaultMenu(r);this._updateParentMenu(r);return}if(r.item)this.onClickActionHandler(n,t,r);if(n.ecFunction=="menu.button"){this.onButtonClickActionHandler(n,t,r);return}if(n.ecService==ecount.layer.constValue.SELECTBOX){this.onDropdownClickActionHandler(n,t,r);return}this.gettingFocusAction(n,t,r)},ON_CLICK_SERVICE:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;if(n.handler==ECountEvent.Type.CLICK_LAYER){var u=n.shiftKey?"newBrowser":n.ctrlKey?"newTab":"";this.dropdownGroupRoutingAction(r.selected.value,u)}},destroy:function(){ecount.runtime.stopObserving("menu.section1.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.deselectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section1.selectItem",this.ecPageID)}},erp:{controlType:"widget.menuContainer.erp",viewName:"widget.view.menuContainer.erp",__mixins:["widget.menuContainer.common"],conDomain:null,nowDt:null,isMasterUser:null,menuUseFlag:null,isGroupWareFree:null,useStatus:null,maxUsers:null,freeExpireDate:null,expiredReceivedMail:null,isUseLeftToggleSwitch:null,isLeftMenuCollapsed:null,defaultBodyUrl:"/ECERP/ECP/ECP001M",initializeOptions:function(n){_.extend(this,{comInfo:n.comInfo,versionData:n.versionData,isUseLeftToggleSwitch:n.isUseLeftToggleSwitch,isLeftMenuCollapsed:n.isLeftMenuCollapsed,menuUseFlag:n.menuUseFlag,defaultBodyUrl:n.defaultBodyUrl||this.defaultBodyUrl,isGroupWareFree:n.isGroupWareFree,useStatus:n.useStatus,maxUsers:n.maxUsers,freeExpireDate:n.freeExpireDate,expiredReceivedMail:n.expiredReceivedMail,checkPublicMailNotAllowed:n.checkPublicMailNotAllowed||function(){return Promise.resolve(!0)},depth1MouseoverTimeout:ecount.common.mouseHoverInTime,depth2MouseoverTimeout:ecount.common.mouseHoverInTime,depth3MouseoutTimeout:ecount.common.mouseHoverOutTime});ecount.control.menu.container.prototype.initializeOptions.apply(this,arguments);this.onInitPreOpenLogic()},onInitContainerObserver:function(){ecount.runtime.observe(ECountEvent.Type.MOUSEDOWN_BODY,null,this.documentMousedownAction.bind(this));ecount.runtime.observe("resize",this.ecPageID,_.debounce(this.windowResizeAction.bind(this),300));ecount.runtime.observe("menu.section1.selectItem",this.ecPageID,this.restoreSection1Menu.bind(this));ecount.runtime.observe("menu.section2.updateMyPage",this.ecPageID,this.updateDepth1MyPage.bind(this));ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(n){this.menuItems[2].setMyPageData(n)}.bind(this));ecount.runtime.observe("menu.hoverModeRestore",this.ecPageID,this.hoverModeRestore.bind(this))},onInitPreOpenLogic:function(){this.preOpenLogicList=[{predicate:function(n){return this.isFreeAccessibleMenu(n)?Promise.resolve(!0):Promise.resolve(!1)}.bind(this),action:this.allowMenuAccessAction.bind(this)},{predicate:function(n){var t=n.MENU_TYPE==ecount.menu.myPageType&&[n.DEFAULT_PAGE_ID,n.PRG_ID].contains("E000128");return Promise.resolve(t)},action:this.notifyUserInfoLayer.bind(this)},{predicate:function(n){return Promise.resolve(this.isPublicMailMenu(n))}.bind(this),action:[{predicate:this.checkPublicMailNotAllowed,action:function(){return this.openPulbicMailAccessRightPopup(),this.blockMenuAccessAction()}.bind(this)},{predicate:function(){return Promise.resolve(this.expiredReceivedMail<7)}.bind(this),action:function(n){return this.expiredReceivedMail<0?(this.openExpiredReceivedMailPopup(),this.blockMenuAccessAction()):(this.openExpireAlertReceivedMailPopup(this.expiredReceivedMail),Promise.resolve(n.BODY_URL))}.bind(this)}]}]},updateDepth1MyPage:function(n){this.menuItems[0].updateMyPage(n)},dataLoadBeforeRoute:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(n.MENU_TYPE);return this.activateSection1Item(t.getMenuData()).then(function(){var t=n.DEPTH-1,i=this.menuItems[t].getMenuItemByMenuSeq(n.MENU_SEQ),r=i.getMenuDataAttrs();return Promise.resolve(r)}.bind(this))},renderItemsByParent:function(n,t){var i=n-1;return i!=2?Promise.reject():this.menuItems[i].renderMenuItemByParent(t)},renderDataProvidedItemOnly:function(n){var t,i;n.menuType&&(t=this.menuItems[0].getMenuItemByMenuSeq(n.menuType));n.menuType&&n.groupSeq&&(i=this.menuItems[1].getMenuItemByGroupSeq(n.menuType,n.groupSeq));new Promise(function(n,r){if(t&&i){this.activateSection1Item(t.getMenuData()).then(this.activateSection2Item.bind(this,i.getMenuData())).then(n).catch(r);return}this.menuItems[2].setEmpty();ecount.menuCommand.container.renderNoSection3Menu(this);n()}.bind(this)).then(function(){var t=this.menuItems[2].getMenuItemByBodyUrlFromCache(n.menuUrl);if(t){ecount.menuCommand.container.renderClickedUIAnimation(this,3,t.getMenuDataAttrs());return}this.menuItems[2].deactivateNotClickedMenu({})}.bind(this))},isRedirectMenu:function(n){return["123","130","145","149","154","759"].contains(""+n.MENU_SEQ)},isRedirectTempMenu:function(n){return["2771"].contains(""+n.MENU_SEQ)},isFreeAccessibleMenu:function(n){return["/ECERP/SVC/EGJ/EGJ006M","/ECMAIN/EGM/EGM003M.ASPX","/ECERP/EGM/EGM014M","/ECERP/EGM/EGM017R","/ECERP/EGM/EGM018R","/ECMAIN/EGM/EGM_SEARCH_01_MAIN.ASPX?RPTGUBUN=3","/ECERP/EGM/EGM020R","/ECERP/EGM/EGM038R","/ECERP/EGM/EGM024M?MENU_TYPE=S&BOARD_CD=1000",].contains(n.BODY_URL.toUpperCase())},isPublicMailMenu:function(n){return n.MENU_SEQ==1980||n.PRG_ID.indexOf("E0770")==0||n.DEFAULT_PRG_ID&&n.DEFAULT_PRG_ID.indexOf("E0770")==0},isGroupwareMenu:function(n){var t=n.MENU_TYPE==ecount.menu.myPageType&&(n.PRG_ID.indexOf("E07")==0||n.DEFAULT_PRG_ID&&n.DEFAULT_PRG_ID.indexOf("E07")==0),i=n.MENU_TYPE==ecount.menu.gwType&&n.MENU_CD.indexOf("M07")==0;return t||i},openPulbicMailAccessRightPopup:function(){ecount.popup.openWindow({url:ecount.common.buildSessionUrl("/ECERP/SVC/PBM/PBM_AccountManagement_01"),popupType:!1,popupID:"PBM_AccountManagement_01",param:{responseID:this.callbackID,width:800,height:700}})},openExpiredReceivedMailPopup:function(){ecount.popup.openWindow({url:ecount.common.buildSessionUrl("/ECERP/ECU/ECU520M"),param:{width:1020,height:730},popupType:!1,popupFlag:!0})},openExpireAlertReceivedMailPopup:function(n){var t=$.cookie("ECU520P_02_NOSHOW");t!="SET"&&ecount.popup.openWindow({url:ecount.common.buildSessionUrl("/ECERP/SVC/ECU/ECU520P_02"),param:{width:500,height:500,RemainDays:n},popupType:!1,popupFlag:!0})},notifyMenuCollapsed:function(){this.mouseoverTimer=ecount.global.setTimeout(this.ecPageID,function(){var n=this.menuItems.any(function(n){return n.hasFocus()});!this.menuItems[2].getUseFlippedState()||this.hasFocus()||n||(this.menuItems[2].setFlippedState(!0),ecount.runtime.notify("menu.leftMenuToggle",this.ecPageID,!0))}.bind(this),this.mouseoverTimeout)},notifyMenuExpanded:function(){ecount.global.clearTimeout(this.ecPageID,this.mouseoverTimer);this.menuItems[2].setFlippedState(!1);ecount.runtime.notify("menu.leftMenuToggle",this.ecPageID,!1)},notifyUserInfoLayer:function(){return ecount.runtime.notify("menu.openUserInfo",this.ecPageID,{ecPageID:this.ecPageID}),Promise.reject()},moveToDefaultPage:function(){},destroy:function(){ecount.runtime.stopObserving(ECountEvent.Type.MOUSEDOWN_BODY);ecount.runtime.stopObserving("menu.section1.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.deselectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.updateMyPage",this.ecPageID);ecount.runtime.stopObserving("menu.section2.setMyPageData",this.ecPageID)},_getSection3Data:function(){return[]},_getSection2Data:function(n,t,i){return this._selectDataFromSource(n._dataItems,function(n){return n.DEPTH=="2"},this._getDepth2Data.bind(this,i))},_getDepth2Data:function(n,t){return t},_getSection1Data:function(n,t,i){return this._selectDataFromSource(n._dataItems,function(n){return n.DEPTH=="1"},this._getDepth1Data.bind(this,i))},_getDepth1Data:function(n,t){if(!t.MENU_URL){var i=n.head(function(n){return n.MENU_SEQ==t.DEFAULT_MENU_SEQ});i||(i=n.head(function(n){return n.PARENT_MENU_SEQ==t.MENU_SEQ}));i&&(t.MENU_URL=i.MENU_URL,t.GROUP_SEQ=i.MENU_SEQ)}return t},_getSection1GeneratorOption:function(){return["widget.menuSection.erpDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.erpDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.erpDepth3","menuSection3","menuSection3"]},_getSection3Options:function(){return{hidden:!location.hash,isUseToggleSwitch:this.isUseLeftToggleSwitch,isMenuCollapsed:this.isLeftMenuCollapsed}},_getContainerData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,comInfo:this.comInfo,versionData:this.versionData,isMasterUser:this.isMasterUser,menuUseFlag:this.menuUseFlag}},_getMenuRoutingParam:function(n,t){return{PRG_ID:t.PRG_ID,FROM_FAVORITE:n.fromFavorite=="Y"?"Y":"N",FROM_MYPAGE:n.menuType==ecount.menu.myPageType?"Y":"N"}},_getRoutingMenuData:function(n){return n.menuType==ecount.menu.myPageType?this._getRoutingDataAfterMyPageLoad(n):!n.menuType||!n.groupSeq?Promise.reject("no menuType or no group seq. check the hashData"):this._getRoutingDataAfterGroupLoad(n)},_getRoutingDataAfterMyPageLoad:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(n.menuType);return this.activateSection1Item(t.getMenuData()).then(function(t){var i=+n.groupSeq?n.groupSeq:t.GROUP_SEQ;return this.menuItems[1].getMenuItemByGroupSeq(n.menuType,i)}.bind(this)).then(function(n){return this.activateSection2Item(n.getMenuData())}.bind(this)).then(function(){var t;return(t=this._getRoutingDataFromCurrentData(n))?Promise.resolve(t):Promise.reject()}.bind(this))},_isNoLeftSpaceMenu:function(n){return[].contains(n.PRG_ID)&&n.MENU_TYPE!=ecount.menu.myPageType},_isClosingTypeMenu:function(n){return["118","225"].contains(""+n.DEFAULT_MENU_SEQ)},_selectDataFromSource:function(n,t,i){for(var f=[],r=0,e=n.length,u;r<e;r++)u=n[r],t(u)&&f.push(i(u));return f},_hasAdditionalHashParam:function(n){return["C000904","E090215","E090216","C000905","E090180","E090181","E090199","C000906","E090182","E090184","E090196","E090174","E090195","E090178"].contains(n.PRG_ID)},_checkMenuFavByPrgID:function(n){return["E010101","E010110","E010112"].contains(n)},_hasToWaitDataLoad:function(n){return!!(n.MENU_SEQ==6&&!n.BODY_URL)}},erpMyPageOnly:{controlType:"widget.menuContainer.erpMyPageOnly",viewName:"widget.view.menuContainer.erpMyPageOnly",__mixins:["widget.menuContainer.common","widget.menuContainer.erp"],moveToDefaultPage:function(){var n=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),t=n.getMenuData();this.menuItems[1].activateMenuByParent(t).then(function(){this.menuItems[1].deactivateNotClickedMenu({})}.bind(this));ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(){var t=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.myPageType,n.getMenuData().GROUP_SEQ),i;t&&(i=t.getMenuData(),ecount.menuCommand.container.renderDefultGroupAction(this,i))}.bind(this))},runOpenFavMenuProcess:function(n,t){var i=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),r=i.getMenuData();if(t=="favNewTab"){this.runOpenFavNewTabProcess(this._getMenuDataFromHash(n));return}this.menuItems[1].activateMenuByParent(r).then(this._getFavMenuTarget.bind(this,n)).then(this.routeToFavMenu.bind(this,t)).catch(function(){this.routeAction(this._getMenuDataFromHash(n),t)}.bind(this))},_getSection1GeneratorOption:function(){return["widget.menuSection.erpMyPageOnlyDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.erpMyPageOnlyDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.erpMyPageOnlyDepth3","menuSection3","menuSection3"]},_getSection3Options:function(){return{isUseToggleSwitch:this.isUseLeftToggleSwitch,isMenuCollapsed:this.isLeftMenuCollapsed}},_getFavMenuTarget:function(n){return new Promise(function(t,i){var r,u,f;if(n.myPageGroupSeq==ecount.menu.noChildMyPageUrl?(r=ecount.menu.scType,u=n.groupSeq):(r=ecount.menu.myPageType,u=n.myPageGroupSeq),f=this.menuItems[1].getMenuItemByGroupSeq(r,u),!f)return t(this._getMenuDataFromHash(n));this.activateSection2Item(f.getMenuData()).then(this._findTargetMenuData.bind(this,n)).then(this._getCertainFavData.bind(this,n)).then(t).catch(i)}.bind(this))}},cs:{controlType:"widget.menuContainer.cs",viewName:"widget.view.menuContainer.cs",__mixins:["widget.menuContainer.common","widget.menuContainer.erp","widget.menuContainer.erpMyPageOnly"],defaultBodyUrl:"/ECErp/contents/pages/UI.Service/ECP/Views/blank.html",initializeOptions:function(n){_.extend(this,{comInfo:n.comInfo,versionData:n.versionData,isUseLeftToggleSwitch:n.isUseLeftToggleSwitch,isLeftMenuCollapsed:n.isLeftMenuCollapsed,defaultBodyUrl:n.defaultBodyUrl||this.defaultBodyUrl,isGroupWareFree:n.isGroupWareFree,useStatus:n.useStatus,maxUsers:n.maxUsers,freeExpireDate:n.freeExpireDate,depth1MouseoverTimeout:ecount.common.mouseHoverInTime,depth2MouseoverTimeout:ecount.common.mouseHoverInTime,depth3MouseoutTimeout:ecount.common.mouseHoverOutTime});ecount.control.menu.container.prototype.initializeOptions.apply(this,arguments);this.onInitPreOpenLogic()},_getSection1GeneratorOption:function(){return["widget.menuSection.csDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.csDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.csDepth3","menuSection3","menuSection3"]},_getSection3Options:function(){return{hidden:!1,isUseToggleSwitch:this.isUseLeftToggleSwitch,isMenuCollapsed:this.isLeftMenuCollapsed}},getDropdownGroupTarget:function(n){var i,t;return n.DEPTH>2?t=this.menuItems[1].getMenuItemByGroupSeq(n.MENU_TYPE,n.GROUP_SEQ):(i=n.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq?ecount.menu.myPageType:n.PARENT_MENU_SEQ,t=this.menuItems[0].getMenuItemByMenuSeq(i)),t},isFreeAccessibleMenu:function(n){return["/ECERP/CSA/CSA_EGM024M?MENU_TYPE=S&BOARD_CD=1000",].contains(n.BODY_URL.toUpperCase())},onAfterRender:function(){var n=$.url().ecHash,t=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);ecount.control.menu.container.prototype.onAfterRender.apply(this,arguments);this.onInitContainerObserver();this.menuItems[1].activateMenuByParent(t.getMenuData(),!0);ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(){n.menuType?this.runMenuChangeProcess(n):this.moveToDefaultPage()}.bind(this))},moveToDefaultPage:function(){var r=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),t=r.getMenuData(),i=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.myPageType,t.GROUP_SEQ),n;i?(n=i.getMenuData(),ecount.menuCommand.container.renderDefultGroupAction(this,n).then(this.activateSection1Item.bind(this,t,!0)).then(this.activateSection2Item.bind(this,n,!0)).then(ecount.menuCommand.container.renderSection3ClickedUI.bind(this,this,n,n.BODY_URL)),ecount.router.go({url:n.BODY_URL})):ecount.router.go({url:this.defaultBodyUrl})},routeToFavMenu:function(n,t){var i=this._getHashFromMenuData(t,!0);this._getRoutingMenuData(i).then(function(){this.routeAction(t,n)}.bind(this)).catch(function(){this.routeAction(t,n)}.bind(this))},_getRoutingMenuData:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);return n.menuType||(n.menuType=ecount.menu.myPageType),new Promise(function(i,r){this.menuItems[1].activateMenuByParent(t.getMenuData(),!0).then(function(){var t,u;return(n.menuUrl&&(t=this.menuItems[2].getMenuItemByMenuUrl(n.menuUrl),t&&(u=t.getMenuDataAttrs(),n.groupSeq=u.GROUP_SEQ,n.menuSeq=u.MENU_SEQ)),!n.groupSeq)?r():this._getRoutingDataAfterGroupLoad(n).then(i).catch(r)}.bind(this))}.bind(this))},_getRoutingDataAfterGroupLoad:function(n){var t=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);return new Promise(function(i,r){this.activateSection1Item(t.getMenuData()).then(function(){var t=this.menuItems[1].getMenuItemByGroupSeq(n.menuType,n.groupSeq);return t?this.activateSection2Item(t.getMenuData(),!0):r()}.bind(this)).then(function(){var t;if(t=this._getRoutingDataFromCurrentData(n))return i(t);r()}.bind(this)).catch(r)}.bind(this))}},webMail:{controlType:"widget.menuContainer.webMail",viewName:"widget.view.menuContainer.webMail",__mixins:["widget.menuContainer.common","widget.menuContainer.erp","widget.menuContainer.erpMyPageOnly"],defaultBodyUrl:"/WMAIL/Mail/GetListMessages?MBoxName=INBOX",containerID:"",defaultPageUrl:"",initializeOptions:function(n){_.extend(this,{containerID:n.containerID,isUseLeftToggleSwitch:n.isUseLeftToggleSwitch,isLeftMenuCollapsed:n.isLeftMenuCollapsed,defaultPageUrl:n.defaultPageUrl,defaultPageQueryString:n.defaultPageQueryString,depth1MouseoverTimeout:ecount.common.mouseHoverInTime,depth2MouseoverTimeout:ecount.common.mouseHoverInTime,depth3MouseoutTimeout:ecount.common.mouseHoverOutTime});ecount.control.menu.container.prototype.initializeOptions.apply(this,arguments);this.onInitPreOpenLogic()},onInitContainerObserver:function(){ecount.runtime.observe(ECountEvent.Type.MOUSEDOWN_BODY,this.ecPageID,this.documentMousedownAction.bind(this));ecount.runtime.observe("resize",this.containerID,_.debounce(this.windowResizeAction.bind(this),300));ecount.runtime.observe("menu.section2.updateMyPage",this.ecPageID,this.updateDepth1MyPage.bind(this));ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(n){this.menuItems[2].setMyPageData(n)}.bind(this));ecount.runtime.observe("menu.section3.renewItem",this.ecPageID,this._updateDepth3MenuItem.bind(this))},runPreOpenLogic:function(n,t){var i=t.BODY_URL,r,u;return(r=this.menuItems[2].getMenuItemByBodyUrl(i))?(u=r.getMenuItemByBodyUrl(i),u)?Promise.resolve(u.getBodyUrl()):Promise.resolve(r.getBodyUrl()):Promise.resolve(i)},updateDefaultMailBox:function(n,t,i){var r=this.menuItems[1].getMenuItemByMenuId(n);r||(r=this.menuItems[2].getMenuItemByMenuId(n));r&&(r.setDefaultChildPrgId(t),r.setBodyUrl(i))},onAfterRender:function(){var t=$.url(),n=t.ecHash,i=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);ecount.control.menu.container.prototype.onAfterRender.apply(this,arguments);this.onInitContainerObserver();this.menuItems[1].activateMenuByParent(i.getMenuData(),!0);ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(){if(this.defaultPageUrl){var i=this.menuItems[2].getMenuItemByBodyUrlFromCache(this.defaultPageUrl),t=i&&i.getMenuDataAttrs();t&&(n=this._getHashFromMenuData(t),this.defaultPageQueryString&&this.defaultPageQueryString.split("&").reduce(function(n,t){var i;return t.indexOf("?")===0&&(t=t.slice(1)),i=t.split("="),n[i.shift()]=i.shift(),n},n),this.replaceCurrentHashState(t))}n.menuType?this.runMenuChangeProcess(n):this.moveToDefaultPage()}.bind(this))},_getPopupOpenOptions:function(n,t){var r="",i;return this._hasAdditionalHashParam(t)&&(r=this._getAdditionalHashParam(t)),i=ecount.common.buildSessionUrl(n),this._checkMenuFavByPrgID(t.PRG_ID)&&t.GROUP_SEQ&&(i=i+"&groupSeq="+t.GROUP_SEQ),{url:[i,r].join("#"),popupType:!0,name:t.MENU_NAME||"popup",additional:!0,isNotSetLayout:!0,isChangePopupType:!1,popupID:ecount.common.uuid(t.MENU_NAME||(new Date).getTime()),param:{responseID:this.callbackID,width:window.outerWidth||900,height:window.outerHeight-70||600,menuSeq:t.MENU_SEQ,prgId:t.DEFAULT_PRG_ID||t.PRG_ID}}},moveToDefaultPage:function(){var r=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),i=r.getMenuData(),t=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.myPageType,i.GROUP_SEQ),n;t&&(n=t.getMenuData(),ecount.menuCommand.container.renderDefultGroupAction(this,n).then(this.activateSection1Item.bind(this,i,!0)).then(this.activateSection2Item.bind(this,n,!0)).then(function(){this.setSelectedDropdownGroup(this.getSibilingsGroup(1,t),n.MENU_ID);this.replaceCurrentHashState(n);ecount.menuCommand.container.renderSection3ClickedUI.bind(this,this,n,n.BODY_URL)}.bind(this)),ecount.router.go({url:n.BODY_URL}))},replaceCurrentHashState:function(n){var t=ecount.getParentFrame(window),i=this._getHashStringFromHashData(this._getHashFromMenuData(n)),r=[location.href.split("#")[0],"#",i].join("");history.pushState?t.history.replaceState(null,n.MENU_NAME,r):t.location.hash=i},setCountLabelOfMenuItem:function(n,t){var i=this._getMenuItemByMenuId(n);i&&i.updateCountLabel(t)},showUsageContainer:function(){this.menuItems[2].toggleUsageContainer(!0)},hideUsageContainer:function(){this.menuItems[2].toggleUsageContainer(!1)},setUsagePercentage:function(n){this.menuItems[2].setUsagePercentage(n)},setUsageValue:function(n){this.menuItems[2].setUsageValue(n)},setDomainUsageValue:function(n){this.menuItems[2].setDomainUsageValue(n)},setDomainUsagePercentage:function(n){this.menuItems[2].setDomainUsagePercentage(n)},_getMenuRoutingParam:function(n){var t={};for(var i in n)t[i]=n[i];return t},_getHashStringFromHashData:function(n){var t="";for(var i in n)t+=[i,n[i]].join("=")+"&";return t.substring(0,t.length-1)},_updateDepth3MenuItem:function(n){var o=this._getCurrentHashData(),i,u,s,h,r,c,f,e,t;if(o?(u=this._getMenuDataFromHash(o),i=this.menuItems[1].getMenuItemByGroupSeq(u.MENU_TYPE,u.GROUP_SEQ)):(s=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),h=s.getMenuData(),i=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.myPageType,h.GROUP_SEQ)),i)for(r=0,c=this.menuItems[1].getChildrenCount();r<c;r++)for(f=this.menuItems[1].getMenuItem(r),e=0,t=f.getMenuItem(e);t;t=f.getMenuItem(++e))this.menuItems[2].renewMenuItemsByParent(t.getMenuDataAttrs(),n,!!(t.getMenuId()==i.getMenuId()))},_getSection1GeneratorOption:function(){return["widget.menuSection.webMailDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.webMailDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.webMailDepth3","menuSection3","menuSection3"]},_getSection3Options:function(n){return{isUseToggleSwitch:this.isUseLeftToggleSwitch,isMenuCollapsed:this.isLeftMenuCollapsed,percentage:n.percentage,usage:n.usage,domainUsage:n.domainUsage,domainPercentage:n.domainPercentage,isViewDomain:n.isViewDomain,isViewUsage:n.isViewUsage}},_isPopupMenu:function(n){return n&&n.IS_POPUP_MENU=="Y"},_updateMenuDefaultUrl:function(){},_showPrevDepth:function(){var n=+this.getState(this._IT_SELF,"style.showingDepth");prevDepth=1;groupDepth=0;selected=this.menuItems[groupDepth].getSelectedItem();selectedData=selected.getMenuDataAttrs();group=this.getSibilingsGroup(groupDepth,selectedData);this.setSelectedDropdownGroup(group,selectedData.PARENT_MENU_SEQ);this.setShowingDepth(prevDepth)},getSibilingsGroup:function(n,t){var i=this.menuItems[1].getMenuItem(0).getSibilingsGroup(t.MENU_ID);return i.map(function(n){return _.extend(n,{value:n.MENU_ID,label:n.MENU_NAME})})},ON_MOUSEOVER:function(n){n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!0)},ON_MOUSEOUT:function(n){n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!1)},destroy:function(){ecount.runtime.stopObserving(ECountEvent.Type.MOUSEDOWN_BODY,this.ecPageID);ecount.runtime.stopObserving("menu.section1.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.updateMyPage",this.ecPageID);ecount.runtime.stopObserving("menu.section2.setMyPageData",this.ecPageID);ecount.runtime.stopObserving("menu.section3.renewItem",this.ecPageID)}},invoice:{controlType:"widget.menuContainer.invoice",viewName:"widget.view.menuContainer.invoice",__mixins:["widget.menuContainer.common","widget.menuContainer.erp","widget.menuContainer.erpMyPageOnly"],defaultPageUrl:"",containerID:"",initializeOptions:function(n){_.extend(this,{containerID:n.containerID,defaultPageUrl:n.defaultPageUrl,defaultPageQueryString:n.defaultPageQueryString,depth1MouseoverTimeout:ecount.common.mouseHoverInTime,depth2MouseoverTimeout:ecount.common.mouseHoverInTime,depth3MouseoutTimeout:ecount.common.mouseHoverOutTime});ecount.control.menu.container.prototype.initializeOptions.apply(this,arguments);this.onInitPreOpenLogic()},onInitContainerObserver:function(){ecount.runtime.observe(ECountEvent.Type.MOUSEDOWN_BODY,this.ecPageID,this.documentMousedownAction.bind(this));ecount.runtime.observe("resize",this.containerID,_.debounce(this.windowResizeAction.bind(this),300));ecount.runtime.observe("menu.section2.updateMyPage",this.ecPageID,this.updateDepth1MyPage.bind(this));ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(n){this.menuItems[2].setMyPageData(n)}.bind(this))},onAfterRender:function(){var t=$.url(),n=t.ecHash,i=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);ecount.control.menu.container.prototype.onAfterRender.apply(this,arguments);this.onInitContainerObserver();this.menuItems[1].activateMenuByParent(i.getMenuData(),!0);ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(){if(this.defaultPageUrl){var i=this.menuItems[2].getMenuItemByBodyUrlFromCache(this.defaultPageUrl),t=i&&i.getMenuDataAttrs();t&&(n=this._getHashFromMenuData(t),this.replaceCurrentHashState(t))}n.menuType?this.runMenuChangeProcess(n):this.moveToDefaultPage()}.bind(this))},moveToDefaultPage:function(){var r=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),i=r.getMenuData(),t=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.myPageType,i.GROUP_SEQ),n;t&&(n=t.getMenuData(),ecount.menuCommand.container.renderDefultGroupAction(this,n).then(this.activateSection1Item.bind(this,i,!0)).then(this.activateSection2Item.bind(this,n,!0)).then(function(){this.setSelectedDropdownGroup(this.getSibilingsGroup(1,t),n.MENU_ID);this.replaceCurrentHashState(n);ecount.menuCommand.container.renderSection3ClickedUI.bind(this,this,n,n.BODY_URL)}.bind(this)),ecount.router.go({url:n.BODY_URL}))},replaceCurrentHashState:function(n){var t=ecount.getParentFrame(window),i=this._getHashStringFromHashData(this._getHashFromMenuData(n)),r=[location.href,"#",i].join("");history.pushState?t.history.replaceState(null,n.MENU_NAME,r):t.location.hash=i},_getMenuRoutingParam:function(n){var t={};for(var i in n)t[i]=n[i];return t},_getHashStringFromHashData:function(n){var t="";for(var i in n)t+=[i,n[i]].join("=")+"&";return t.substring(0,t.length-1)},_getSection1GeneratorOption:function(){return["widget.menuSection.invoiceDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.invoiceDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.invoiceDepth3","menuSection3","menuSection3"]},_updateMenuDefaultUrl:function(){},_showPrevDepth:function(){var n=+this.getState(this._IT_SELF,"style.showingDepth");prevDepth=1;groupDepth=0;selected=this.menuItems[groupDepth].getSelectedItem();selectedData=selected.getMenuDataAttrs();group=this.getSibilingsGroup(groupDepth,selectedData);this.setSelectedDropdownGroup(group,selectedData.PARENT_MENU_SEQ);this.setShowingDepth(prevDepth)},getSibilingsGroup:function(n,t){var i=this.menuItems[1].getMenuItem(0).getSibilingsGroup(t.MENU_ID);return i.map(function(n){return _.extend(n,{value:n.MENU_ID,label:n.MENU_NAME})})},ON_MOUSEOVER:function(n){n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!0)},ON_MOUSEOUT:function(n){n.eventTriggerFromInternalTarget||this.setState(this._IT_SELF,"opt.hasCursor",!1)},destroy:function(){ecount.runtime.stopObserving(ECountEvent.Type.MOUSEDOWN_BODY,this.ecPageID);ecount.runtime.stopObserving("menu.section1.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.selectItem",this.ecPageID);ecount.runtime.stopObserving("menu.section2.updateMyPage",this.ecPageID);ecount.runtime.stopObserving("menu.section2.setMyPageData",this.ecPageID);ecount.runtime.stopObserving("menu.section3.renewItem",this.ecPageID)}},userpay:{controlType:"widget.menuContainer.userpay",viewName:"widget.view.menuContainer.userpay",__mixins:["widget.menuContainer.common","widget.menuContainer.erp","widget.menuContainer.erpMyPageOnly"],defaultBodyUrl:"/ECErp/contents/pages/UI.Service/ECP/Views/blank.html",_getSection1GeneratorOption:function(){return["widget.menuSection.userpayDepth1","menuSection1","menuSection1"]},_getSection2GeneratorOption:function(){return["widget.menuSection.userpayDepth2","menuSection2","menuSection2"]},_getSection3GeneratorOption:function(){return["widget.menuSection.userpayDepth3","menuSection3","menuSection3"]},onAfterRender:function(){var n=$.url().ecHash,t=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType);ecount.control.menu.container.prototype.onAfterRender.apply(this,arguments);this.onInitContainerObserver();this.menuItems[1].activateMenuByParent(t.getMenuData(),!0);ecount.runtime.observingOnce("menu.section2.setMyPageData",this.ecPageID,function(){n.menuType?this.runMenuChangeProcess(n):this.moveToDefaultPage()}.bind(this))},moveToDefaultPage:function(){var r=this.menuItems[0].getMenuItemByMenuSeq(ecount.menu.myPageType),t=r.getMenuData(),i=this.menuItems[1].getMenuItemByDefaultMenuSeq(t.DEFAULT_MENU_SEQ),n;i&&(n=i.getMenuData(),ecount.menuCommand.container.renderDefultGroupAction(this,n).then(this.activateSection1Item.bind(this,t,!0)).then(this.activateSection2Item.bind(this,n,!0)).then(function(){this.renderSection3ItemAction(n,n.BODY_URL);this.setShowingDepth(3)}.bind(this)),ecount.router.go({url:n.BODY_URL}))},windowResizeAction:function(){var n=$.url().ecHash;_.isEmpty(n)||this._getRoutingMenuData(n).then(function(n){n&&this.renderChangedMenu(n)}.bind(this))},_getContainerData:function(n){return{ecPageID:this.ecPageID,delegator:this.delegator,comInfo:this.comInfo,empInfo:n.empInfo,nowDt:n.nowDt,versionData:this.versionData}},_getRoutingMenuData:function(n){return n.menuType||(n.menuType=ecount.menu.myPageType),n.groupSeq||(n.groupSeq=this.menuItems[1].getMenuItemByGroupSeq(ecount.menu.noChildMyPageUrl)),this._getRoutingDataAfterGroupLoad(n)}},create:function(n){var t,u,f,i,r,e,o,s;if(n=n||"_default",t=widget.menuContainer.repository[n]||{},u=ecount.control.menu.container,widget.menuContainer._baseLoaded||(ecount.control.loadRepository(ecount.control.menu.container,ecount.control.view.menu.container,"widget.menuContainer"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.menuContainer,t,"widget.menuContainer",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.menuContainer")){f=t.controlType.replace("widget.menuContainer.","");ecount.control.mountMixinWidget(widget.menuContainer,t,"widget.menuContainer",[widget.menuContainer,f]);return}if(!widget.menuContainer[n]){if(u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.menuContainer,t.__mixins){for(i={},r=0,e=t.__mixins.length;r<e;r++)o=t.__mixins[r].split("."),s=widget.menuContainer.repository[o.pop()],i=_.extend(i,s);t=_.extend(i,t)}ecount.control.mountWidget(widget.menuContainer,n,u,t)}}}}};widget.menuSection={};widget.menuSection._baseLoaded=!1;widget.menuSection._export=function(){return{_default:{createView:function(){return this.ecview=new widget.view.menuSection}},common:{controlType:"widget.menuSection.common",comInfo:null,menuUseFlag:null,paramRequesting:null,sectionMouseoverTimer:null,sectionMouseoutTimer:null,listMouseoverTimer:null,listMouseoutTimer:null,editGuideUpdateTimer:null,sectionMouseoverTimeout:ecount.common.mouseHoverInTime,sectionMouseoutTimeout:ecount.common.mouseHoverOutTime,listMouseoverTimeout:ecount.common.mouseHoverInTime,listMouseoutTimeout:700,editGuideUpdateTimeout:null,cachedItems:null,versionData:null,depth:"",setEcPath:function(){this.ecPath=[this.ecPageID,"menu","","section"+this.depth,"",this.id,this.pcid].join(ecount.separator.ecPath)},initializeOptions:function(n,t){this.onInitDefaultSectionOptions(n,t);this.onInitAdditionalSectionOptions(n,t);ecount.control.menu.section.prototype.initializeOptions.apply(this,arguments);this.onInitSectionObserver()},onInitDefaultSectionOptions:function(n){if(_.extend(this,{cachedItems:{},comInfo:n.comInfo,versionData:n.versionData,isMasterUser:n.isMasterUser,menuUseFlag:n.menuUseFlag}),this.delegator&&this.depth===3)this.delegator.on({"section.menuPanelClose":this.menuPanelClose.bind(this)})},menuPanelClose:function(){this.setState(this._IT_SELF,"opt.hasCursor",!1);this.getUseFlippedState()&&this._notifyMenuCollapsed()},onInitAdditionalSectionOptions:function(){},onInitSectionObserver:function(){},onInitState:function(){ecount.control.menu.section.prototype.onInitState.apply(this,arguments);$.extend(this.__state,{"style.dropAccept":!1,"opt.isClosed":!1,"opt.hasCursor":!1,"opt.dragMode":!1,"opt.deleteMode":!1,"opt.draggable":!1,"opt.droppable":!1})},onInitFunctions:function(n,t,i){ecount.control.menu.section.prototype.onInitFunctions.apply(this,arguments);ecount.menuCommand.section.setAdditionalFunction(this,n,t,i)},onInitTitleFunction:function(n,t){n.functions.title={ecFunction:"label",cid:this.cid,title:t||"","style.display":!1}},onInitTogglerFunction:function(n,t){t.isUseToggleSwitch&&(n.functions.sectionToggler={ecFunction:"button",cid:this.id,useFlipped:!!t.isMenuCollapsed,isFlipped:!!t.isMenuCollapsed,level:3},this._notifyTogglerState(t.isMenuCollapsed),t.isMenuCollapsed&&this._notifyMenuCollapsed())},getMenuItem:function(n){return this.menuItems[n]},getChild:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t],n(i))return i},getChildrenCount:function(){return this.menuItems.length},getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth}},getSelectedItem:function(){return this.menuItems.head(function(n){return n.getSelectedState()})},getFocusedItem:function(){return this.menuItems.head(function(n){return n.hasFocus()})},getClickedItem:function(){return this.menuItems.head(function(n){return n.getClickedState()})},getMenuItemByBodyUrl:function(n){return this.menuItems.head(function(t){return t.getMenuData().BODY_URL==n})},getMenuItemByMatch:function(n){return this.menuItems.head(function(t){return _.isMatch(t.getMenuData(),n)})},getMenuItemByMenuId:function(n){return this.menuItems.head(function(t){return t.getMenuId()==n})},getMenuItemByMenuSeq:function(n){return this.menuItems.head(function(t){return t.getMenuSeq()==n})},getMenuItemByPrgId:function(n){return this.menuItems.head(function(t){return t.getPrgId()==n})},getMenuItemByMenuUrl:function(n){return this.menuItems.head(function(t){return t.getBodyUrl()==n})},getMenuIndexByMenuId:function(n){var t;return this.menuItems.head(function(i){if(i.getMenuId()==n){t=index;return}}),t},getMenuItemByDefaultMenuSeq:function(n){return this.menuItems.head(function(t){var i=t.getMenuDataAttrs();if(i.DEFAULT_MENU_SEQ==n)return t})},getEditGuidePositionItem:function(){var n=this.getEditGuideIndex();return this.menuItems.head(function(n){return n.getBodyUrl()==menuUrl})},getSibilingsGroup:function(){for(var i=[],n=0,r=this.menuItems.length,t;n<r;n++)t=this.menuItems[n],t.getDisplayState()&&i.push(t.getMenuDataAttrs());return i},getFlippedState:function(){return this.getState("sectionToggler","isFlipped")},setFlippedState:function(n){this.setState("sectionToggler","isFlipped",n);n?this.hide():this.show()},getUseFlippedState:function(){return this.getState("sectionToggler","useFlipped")},setUseFlippedState:function(n){this.setState("sectionToggler","useFlipped",n);this.getWrapperMenuAreaAddon().parent()[n?"addClass":"removeClass"]("collapsed-local-nav")},getEditGuideIndex:function(){if(this.ecview)return this.ecview.getEditGuideIndex()},getVisibleMenuItemByIndex:function(n){return this.menuItems.filter(function(n){return n.getDisplayState()})[n]},getVisibleMenuItemCount:function(){return this.menuItems.filter(function(n){return n.getDisplayState()}).length},setEmpty:function(){this.ecview&&this.ecview.setChildrenContainerEmtpy()},setChildrenStorage:function(){this.ecview&&this.ecview.setChildrenStorage()},setSectionState:function(n){this.setState(this._IT_SELF,"opt.isClosed",!n,!0)},setTitle:function(n){this.getFunction("title")&&this.setState("title","title",n)},setDropAcceptState:function(n){this.setState(this._IT_SELF,"style.dropAccept",n,!0);for(var t=0,i=this.menuItems.length;t<i;t++)this.menuItems[t].setDropAcceptState(n)},setEditGuideUp:function(n,t){this.setEditGuide(n,t)},setEditGuide:function(n,t){this.editGuideUpdateTimer||(this.editGuideUpdateTimer=ecount.global.setTimeout(this.ecPageID,function(){this.ecview&&this.ecview.setEditGuide(n,t.horizontal);this.editGuideUpdateTimer=null}.bind(this),this.editGuideUpdateTimeout))},setEditGuideUpdatedPosition:function(n,t){var r=this.getEditGuideIndex(),f=this.getMenuItemByMenuId(n),i,u;f&&(i=r>-1?this.menuItems[this._getAdjustedMenuIndex(r)]:this.menuItems[t.horizontal=="backword"?0:this.menuItems.length-1],i&&(u=i.getMenuId(),this.setEditGuide(u,t)))},setMenuItemOnEditGuide:function(n){var i=this.getEditGuideIndex(),r=this.getMenuItemByMenuId(n),t,u;if(targetId=this._getEditGuideTargetId(i,this.id),i>-1&&r&&targetId)for(this.editChildrenItemOrder(r,targetId),this.editOwnItemOrder(r,i),t=0,u=this.menuItems.length;t<u;t++)this.menuItems[t].setDeleteButtonState(!1);else this.restoreTemporarilyHiddenItem()},updateDefaultMenu:function(n,t,i,r){var u=this.getMenuItemByMenuId(n);u&&(u.setDefaultChildMenuSeq(t),u.setDefaultChildPrgId(i),u.setBodyUrl(r))},renderChildren:function(n,t){var i,r=this.isDraggableEnabled(),u=this.getState(this._IT_SELF,"opt.deleteMode");if(!this.ecview)return Promise.reject();i=this.ecview.getChildrenContainerDummy();this.setChildrenStorage();t.forEach(function(n){n.render(i);r&&n.enableDraggable();u&&n.enableDeleteMode()});this.ecview.setChildrenContainerItems(i);this.show()},removeEditGuide:function(){this.ecview&&this.ecview.removeEditGuide();ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.editGuideUpdateTimer);this.editGuideUpdateTimer=null;for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].removeEditGuide()},restoreTemporarilyHiddenItem:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.restoreTemporarilyHiddenItem()},renewMenuItems:function(n){this.menuItems=this._getMenuItems({_dataItems:n});this.renderChildren(null,this.menuItems)},isDraggableEnabled:function(){return this.getState(this._IT_SELF,"opt.draggable")},isDroppableEnabled:function(){return this.getState(this._IT_SELF,"opt.droppable")},showTitle:function(n){this.getFunction("title")&&(n==undefined&&(n=!0),this.setState("title","style.display",n))},getDraggableTarget:function(){if(this.ecview)return this.ecview.getDraggableTarget()},hasMenuItems:function(){return!!this.menuItems.length},hasFocus:function(){return this.getState(this._IT_SELF,"opt.hasCursor")},hasEditGuideIndex:function(){var n=this.getEditGuideIndex();return n>-1?!0:!1},activateMenuItem:function(n,t){var i=this.getMenuItemByMenuSeq(n.MENU_SEQ);i&&i.setClickedState(!0);t&&this.deactivateNotClickedMenu(n.getMenuDataAttrs())},activateMenuItemByBodyUrl:function(n){var t=this.getMenuItemByBodyUrl(n);t&&(t.setClickedState(!0),this.deactivateNotClickedMenu(t.getMenuDataAttrs()))},deactivateNotClickedMenu:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)(i=this.menuItems[t],i.getMenuId()!=n.MENU_ID)&&this.deactivateMenuItems(i)},deactivateMenuItems:function(n){n.setSelectedState(!1);n.setClickedState(!1)},fixCurrentlySelectedMenu:function(n){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);for(var i=0,u=this.menuItems.length,t,r;i<u;i++)t=this.menuItems[i],r=t.getSelectedState(),this._fixItemActivationState(t,r),n&&t.setClickedState(r)},hideNotSelectedSection:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listMouseoutTimeout);this.listMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){var n=this.getHighlightedItem();n||this.hide()}.bind(this),this.listMouseoutTimeout)},clearDropAcceptState:function(){if(this.setState(this._IT_SELF,"style.dropAccept",!0),this.ecview&&this.ecview.clearDropAcceptState(),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].clearDropAcceptState()},restoreDragSourceAction:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.restoreDragSourceAction()},mouseoutCloseAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listMouseoutTimer);this.listMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){this.hasFocus()||this.getFocusedItem()||this.setSectionState(!1)}.bind(this),this.listMouseoutTimeout)},enableDraggable:function(){this.setState(this._IT_SELF,"opt.draggable",!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDraggable()},enableDroppable:function(){this.setState(this._IT_SELF,"opt.droppable",!0,!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDroppable()},enableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDragMode()},enableDeleteMode:function(){this.setState(this._IT_SELF,"opt.deleteMode",!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDeleteMode()},disableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDragMode()},disableDraggable:function(){this.setState(this._IT_SELF,"opt.draggable",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDraggable()},disableDroppable:function(){this.setState(this._IT_SELF,"opt.droppable",!1,!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDroppable()},disableDeleteMode:function(){this.setState(this._IT_SELF,"opt.deleteMode",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDeleteMode()},editMenuItemOrder:function(n,t){var r=this.getEditGuideIndex(),u=this.getMenuItemByMenuId(n),i,f;for(t=this._getEditGuideTargetId(r,t),this.editChildrenItemOrder(u,t),this.editOwnItemOrder(u,r),i=0,f=this.menuItems.length;i<f;i++)this.menuItems[i].setDeleteButtonState(!1)},editChildrenItemOrder:function(n,t){var u=this.getMenuItemByMenuId(t),i=this.menuItems.head(function(n){return n.getEditGuideIndex()>-1}),r=this.menuItems.head(function(t){return t.isItemParent(n)});u&&(i=this.getMenuItemByMenuId(u.getParentMenuId()),i&&(i.editMenuItemOrder(n),n.show()));r!==i&&r&&r.editMenuItemOrder(n);this.renderChildren(null,this.menuItems)},editOwnItemOrder:function(n,t){var u,r,i;this.ecview&&(u=widget.generator.control(),r=this.menuItems.findIndex(function(t){return t==n}),r>-1&&this.menuItems.splice(r,1),t>-1&&(n.depth!=this.depth&&(i=n.menuData,i.DEPTH=this.depth,i.PARENT_MENU_SEQ=this.menuItems[0].getMenuDataAttrs().PARENT_MENU_SEQ,n=this._getChildItem(u,i)),this.menuItems.splice(t,0,n),n.show()),ecount.global.setTimeout(this.ecPageID,this.renderChildren.bind(this,null,this.menuItems),0))},removeDeleteButton:function(){for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].removeDeleteButton()},removeMenuItem:function(n){var t=this.menuItems.findIndex(function(t){return t.getMenuId()===n.MENU_ID}),i=this.getMenuItem(t);i.hideFromMyMenu()},show:function(){this.setState(this._IT_SELF,"style.display",!0,!0)},hide:function(){this.setState(this._IT_SELF,"style.display",!1,!0)},serialize:function(){return this.menuItems.reduce(function(n,t,i){var r=t.serialize();return r.MENU_TYPE!=ecount.menu.myPageType&&(r.SORT=i,n.push(r)),n},[])},onMouseoverHandler:function(n,t,i){this.depth==3&&n.ecRole=="menu.itemContainer"&&this.getUseFlippedState()&&ecount.menuCommand.section.notifyMenuExpandedAction(this);ecount.menuCommand.section.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){this.getUseFlippedState()&&ecount.menuCommand.section.notifyMenuCollapsedAction(this);ecount.menuCommand.section.mouseoutAction(this,n,t,i)},onToggleButtonClickHandler:function(){var n=this.getUseFlippedState();if(!ecount.infra.checkIsAvailableForDemoUser(this.isMasterUser))return!1;this._callToggleStateUpdateAPI(n).then(function(){this.setUseFlippedState(!n);ecount.runtime.notify("menu.changeSectionTogglerState",null,{section:this.depth,collapseable:!this.getUseFlippedState()})}.bind(this))},_getChildItem:function(n,t){var i=this._getChildOption(t);return n.define(i.type,i.id,i.name).setOptions(i.options).getInstance()},_getChildOption:function(n){return{type:this._getChildCtrlType(n),id:n.MENU_SEQ,name:n.MENU_SEQ,options:_.extend(this._getSectionData(),{menuData:n})}},_getAPIVersionKey:function(n){var t=this._getUserInfo(),r=[t.ComCode,t.UserId].join("_"),u=this.versionData[r].Left[n.GROUP_SEQ],i;return t.Version=u,i=Object.toJSON(t).encryptXor("ecount"),Promise.resolve(i)},_getUserInfo:function(){return{ComInfo:this.comInfo,ComCode:ecount.config.company.COM_CODE.toUpperCase(),UserId:ecount.config.user.ID.trim().toUpperCase(),DomainType:$.url().domainType,LanType:ecount.user.LAN_TYPE}},_getAPIUrl:function(n,t){return["/ECERP/SVC/Popup/GetListCacheLeftMenu","?jsonp=eccb","&v=",t].join("")},_getCacheKey:function(n){return[n.MENU_TYPE,n.MENU_SEQ,n.SUB_MENU].join("#")},_getCachedItem:function(n){return this.cachedItems[n]},_getMenuDataFromAPI:function(n,t){var i=this._getCacheKey(n);return ecount.menu.getMenuApiDataRequire(t)},_getLeafItem:function(n,t){var i=t.find(this._isMyPageLeafItem);return i||(i=t.head(function(n){return n[this._getGroupSeqKey()]&&n.MENU_URL}.bind(this))),i||(i=t.head(function(t){return t.PARENT_MENU_SEQ==n&&t.MENU_URL})),i},_getEditGuideTargetId:function(n,t){if(t==this.id){var i=this.menuItems.head(function(n){return n.getEditGuideIndex()>-1}),r;if(i&&(r=i.getMenuItem(i.getEditGuideIndex()),r))return r.getMenuId()}return n>-1?this.menuItems[this._getAdjustedMenuIndex(n)].getMenuId():t},_getAdjustedMenuIndex:function(n){return n>=this.menuItems.length?this.menuItems.length-1:n},_setItemToCache:function(n,t){this.cachedItems[n]=t},_callToggleStateUpdateAPI:function(n){var t=this;return new Promise(function(i,r){ecount.common.api({ecPageID:t.ecPageID,url:"/SelfCustomize/User/SaveLeftMenuCollapse",data:{MENU_TYPE:1,IS_EXPANDED:n},success:i,error:r})}).catch(function(n){console.log(n)})},_isMyPageLeafItem:function(n){return n.MAIN_PROGRAM=="Y"},isDroppableSection:function(n,t,i){return t==i},isRemovableMenuItem:function(n){return this.menuItems.head(function(t){return t.getMenuId()===n.MENU_ID})},_fixItemActivationState:function(n,t){t?n.clearDeselectAction():n.clearSelectAction();n.setSelectedState(t)},_notifyMenuCollapsed:function(){},_notifyMenuExpanded:function(){},_notifyTogglerState:function(){},ON_MOUSEOVER:function(n,t,i,r){if(_.get(r,"section.depth")!=2||this.depth!=1){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;this.setState(this._IT_SELF,"opt.hasCursor",!0);this.onMouseoverHandler(n,t,r);r.section=this.getSectionData()}},ON_MOUSEOUT:function(n,t,i,r){if(_.get(r,"section.depth")!=2||this.depth!=1){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;this.setState(this._IT_SELF,"opt.hasCursor",!1);this.onMouseoutHandler(n,t,r);r.section=this.getSectionData()}},ON_CLICK:function(n,t,i,r){if(_.get(r,"section.depth")!=2||this.depth!=1){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;if(r.section=this.getSectionData(),n.ecRole=="button.delete"){this.isRemovableMenuItem(r.item)&&this.removeMenuItem(r.item);this.renderChildren(null,this.menuItems,r);return}if(n.ecRole=="flipswitch")this.onToggleButtonClickHandler(n,t,r)}}},depth1:{controlType:"widget.menuSection.depth1",viewName:"widget.view.menuSection.depth1",mouseoutTimeout:700,editGuideUpdateTimeout:100,depth:1,getHighlightedItem:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)if(t=this.menuItems[n],t.getHighlightedState())return t},activeteSection:function(n){this.setState(this._IT_SELF,"isActivated",n)},activateMenuItem:function(n,t){if(n)for(var r=0,f=this.menuItems.length,i,u;r<f;r++)i=this.menuItems[r],u=n.MENU_TYPE==i.getMenuSeq(),t?i.setClickedState(u):i.setSelectedState(u)},restoreToClickedItem:function(){this.mouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){var n=this.getClickedItem();n&&ecount.runtime.notify("menu.section1.selectItem",this.ecPageID,n.getMenuData())}.bind(this),this.mouseoutTimeout)},clearSectionRestoreTimer:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer)},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.map(this._getChildItem.bind(this,t))},_getChildCtrlType:function(){return"widget.menuItem.depth1"}},depth2:{controlType:"widget.menuSection.depth2",viewName:"widget.view.menuSection.depth2",mouseoutTimeout:700,editGuideUpdateTimeout:200,depth:2,onInitAdditionalSectionOptions:function(n){_.extend(this,{menuType:n.menuType,sectionLv1:n.sectionLv1})},onAfterRender:function(){var n=_.get(this.sectionLv1,"ecview.$el",null);this.menuItems&&n&&this.menuItems.forEach(function(t){var i=n.find("li[id='"+t.menuType+"']"),r;i&&i.length>0&&(r=this.ecview.getCloneContainer(),t.sectionLv1Li=i,t.render(r),i.append(r))},this)},renderChildren:function(n,t,i){var e=this.isDraggableEnabled(),o=this.getState(this._IT_SELF,"opt.deleteMode"),u;if(!this.ecview)return Promise.reject();var s=this.sectionLv1.getMenuItemByMenuId(i.item.MENU_TYPE),r=s.ecview.getOwnElement('[data-role="menu.itemContainer"]'),f=r.find('[data-role="menu.itemStorage"]');f.length||(f=r.after($('<div class="hidden" data-role="menu.itemStorage" />')));f.append(r.children());u=t.find(function(n){return n.menuType==i.item.MENU_TYPE}.bind(this));u.render(r);e&&u.enableDraggable();o&&u.enableDeleteMode();this.show()},setChildrenStorage:function(n,t){var u=this.sectionLv1.getMenuItemByMenuId(t.item.MENU_TYPE),i=u.ecview.getOwnElement('[data-role="menu.itemContainer"]'),r=i.find('[data-role="menu.itemStorage"]');r.length||(r=i.after($('<div class="hidden" data-role="menu.itemStorage" />')));r.append(i.children())},getMenuGroup:function(n){return this.menuItems[n]},getMenuGroupByMenuType:function(n){return this.menuItems.head(function(t){return t.isMenuTypeGroup(n)})},getMenuGroupByGroupSeq:function(n){return this.menuItems.head(function(t){return t.getMenuItemByMenuSeq(n)})},getChild:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t],n(i))return i},getFocusedItem:function(){var n=this.getChild(function(n){return n.getFocusedItem()});if(n)return n.getFocusedItem()},getSelectedItem:function(){var n=this.getChild(function(n){return n.getSelectedState()});if(n)return n.getSelectedItem()},getClickedItem:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)if(t=this.menuItems[n].getClickedItem(),t)return t},getMenuItemByBodyUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByBodyUrl(n),i)return i},getMenuItemByMatch:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByMatch(n),i)return i},getMenuItemByMenuId:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByMenuId(n),i)return i},getMenuItemByMenuSeq:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByMenuSeq(n),i)return i},getMenuItemByPrgId:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByPrgId(n),i)return i},getMenuItemByGroupSeq:function(n,t){for(var i=0,u=this.menuItems.length,r;i<u;i++)if(r=this.menuItems[i].getMenuItemByGroupSeq(n,t),r)return r},getMenuItemByDefaultMenuSeq:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByDefaultMenuSeq(n),i)return i},getGroupSeqByMenuSeq:function(n,t){var i={MENU_TYPE:n,GROUP_SEQ:t};return this._getAPIVersionKey(i).then(this._getAPIUrl.bind(this,i)).then(this._getMenuDataFromAPI.bind(this,i)).then(function(n){return n.length?n[0].GROUP_SEQ:Promise.reject("no siblings result")})},getGroupSeqByMenuUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByGroupSeq(n,groupSeq),i)return i},getMenuItemByMenuUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuItemByMenuUrl(n),i)return i},getMenuIndexByMenuId:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getMenuIndexByMenuId(n),i!==undefined)return i},getVisibleMenuItemByIndex:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t].getVisibleMenuItemByIndex(n),i!==undefined)return i},getSibilingsGroup:function(n){var t=this.menuItems.head(function(t){return t.getMenuItemByMenuId(n)});return t.getSibilingsGroup(n)},getEditGuideIndex:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)if(t=this.menuItems[n].getEditGuideIndex(),t>-1)return t;return-1},setMenuItemBodyUrl:function(n,t){for(var i=0,r=this.menuItems.length;i<r;i++)this.menuItems[i].setMenuItemBodyUrl(n,t)},setEditGuide:function(n,t){for(var i=0,u=this.menuItems.length,r;i<u;i++)r=this.menuItems[i],r.getSelectedState()&&r.setEditGuide(n,t)},setDropAcceptState:function(n){for(var t=0,i=this.menuItems.length;t<i;t++)this.menuItems[t].setDropAcceptState(n)},isRemovableMenuItem:function(n){return this.menuItems.head(function(t){return t.isRemovableMenuItem(n)})},editMenuItemOrder:function(n,t){for(var i=0,u=this.menuItems.length,r;i<u;i++)r=this.menuItems[i],r.getSelectedState()&&r.editMenuItemOrder(n,t)},setEditGuideUpdatedPosition:function(n,t){for(var i=0,u=this.menuItems.length,r;i<u;i++)r=this.menuItems[i],r.setEditGuideUpdatedPosition(n,t)},setMenuItemOnEditGuide:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setMenuItemOnEditGuide(n)},updateDefaultMenu:function(n,t,i,r){for(var u=0,o=this.menuItems.length,f,e;u<o;u++)if(f=this.menuItems[u],e=f.getMenuItemByMenuId(n),e){f.updateDefaultMenu(n,t,i,r);return}},activateMenuItem:function(n,t){if(n)for(var r=0,u=this.menuItems.length,i;r<u;r++)i=this.menuItems[r],i.menuType==n.MENU_TYPE?(i.setSelectedState(!0),i.activateMenuItem(n,t)):i.setSelectedState(!1)},removeMenuItem:function(n){var t=this.getMenuGroupByGroupSeq(n.GROUP_SEQ);t&&t.removeMenuItem(n)},hasEditGuideIndex:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)if(t=this.menuItems[n].getEditGuideIndex(),t>-1)return!0;return!1},activateMenuByParent:function(n){for(var i=[],r=0,u=this.menuItems.length,t;r<u;r++)t=this.menuItems[r],t.menuType==n.MENU_SEQ?i.push(t.activateMenuByParent(n,n.POSITION)):i.push(new Promise(function(n){n(t.setSelectedState(!1))}));return Promise.all(i)},deactivateNotClickedMenu:function(n){for(var t=0,i=this.menuItems.length;t<i;t++)this.menuItems[t].deactivateNotClickedMenu(n)},fixCurrentlySelectedMenu:function(n){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);for(var t=0,i=this.menuItems.length;t<i;t++)this.menuItems[t].fixCurrentlySelectedMenu(n)},restoreToClickedItem:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.getSelectedState()&&t.restoreToClickedItem()},clearSectionRestoreTimer:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.clearSectionRestoreTimer()},renewMenuItems:function(n){this.menuItems=this._getMenuItems({_dataItems:n});this.renderChildren(null,this.menuItems)},enableDraggable:function(){this.setState(this._IT_SELF,"opt.draggable",!0);this.menuItems.forEach(function(n){n.enableDraggable()})},enableDroppable:function(){this.setState(this._IT_SELF,"opt.droppable",!0,!0);this.menuItems.forEach(function(n){n.enableDroppable()})},disableDraggable:function(){this.setState(this._IT_SELF,"opt.draggable",!1);this.menuItems.forEach(function(n){n.disableDraggable()})},disableDroppable:function(){this.setState(this._IT_SELF,"opt.droppable",!1,!0);this.menuItems.forEach(function(n){n.disableDroppable()})},serialize:function(){return this.menuItems.reduce(function(n,t){var i;return t.menuType==ecount.menu.myPageType?n:(i=t.serialize(),n.concat(i))},[])},_getMenuItems:function(n){var t=widget.generator.control(),i=this._getDepth2Group(n);return n.groupKeys.map(function(n){return{key:n,items:i[n]}}).filter(this._getFilteredGroup.bind(this)).map(this._getChildItem.bind(this,t))},_getFilteredGroup:function(n){return n.items},_getChildItem:function(n,t){var i=this._getChildOption(t);return n.define(i.type,i.id,i.name).setDataItems(t.items||[]).setOptions(i.options).setOptions({sectionLv1:this.sectionLv1}).getInstance()},_getChildOption:function(n){var t="group_"+n.key;return{type:this._getChildCtrlType(n),id:t,name:t,options:_.extend(this._getSectionData(),{menuType:n.key})}},_getDepth2Group:function(n){return _.groupBy(n._dataItems,"PARENT_MENU_SEQ")},_getChildCtrlType:function(){return"widget.menuSection.depth2Group"}},depth2Group:{controlType:"widget.menuSection.depth2Group",viewName:"widget.view.menuSection.depth2Group",depth:2,menuType:null,setEcPath:function(){this.ecPath=[this.ecPageID,"menu","section","group","",this.id,this.pcid].join(ecount.separator.ecPath)},onInitAdditionalSectionOptions:function(n){_.extend(this,{menuType:n.menuType,sectionLv1:n.sectionLv1})},onInitSectionObserver:function(){},onInitState:function(){ecount.control.menu.section.prototype.onInitState.apply(this,arguments);$.extend(this.__state,{ecpath:this.ecpath,ecPageID:this.ecPageID,"opt.selected":!1,"opt.hasCursor":!1,"opt.deleteMode":!1,"opt.draggable":!1,"opt.droppable":!1,"opt.allowDrop":!1})},renderChildren:function(n,t){var i,r=this.isDraggableEnabled(),u=this.getState(this._IT_SELF,"opt.deleteMode");if(!this.ecview)return Promise.reject();i=this.ecview.getChildrenContainerDummy();this.setChildrenStorage();t.forEach(function(n){n.render(i);r&&n.enableDraggable();u&&n.enableDeleteMode()});this.ecview.setChildrenContainerItems(i);this.show()},setChildrenStorage:function(){this.ecview&&this.ecview.setChildrenStorage()},getSelectedState:function(){return this.getState(this._IT_SELF,"opt.selected")},getMenuItemByGroupSeq:function(n,t){for(var i=0,f=this.menuItems.length,r,u;i<f;i++)if(r=this.menuItems[i],u=r.getMenuDataAttrs(),u.MENU_TYPE==n&&u.GROUP_SEQ==t)return r},getMenuItemByMatch:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t],_.isMatch(i.getMenuDataAttrs(),n))return i},setSelectedState:function(n){this.setState(this._IT_SELF,"opt.selected",n)},setViewPosition:function(n,t){this.ecview&&this.ecview.setPosition(n,t)},setMenuItemBodyUrl:function(n,t){for(var i=0,u=this.menuItems.length,r;i<u;i++)if(r=this.menuItems[i],r.getMenuId()==n.MENU_ID){r.setBodyUrl(t);return}},isMenuTypeGroup:function(n){return["group",n].join("_")==this.id},activateMenuItem:function(n,t){if(n)for(var r=0,f=this.menuItems.length,i,u;r<f;r++)i=this.menuItems[r],u=n.MENU_ID==i.getMenuId(),t?i.setClickedState(u):i.setSelectedState(u)},activateMenuByParent:function(n,t){return this._setLazyLoadedMenuData(n).then(function(){return this.menuItems.length?(ecount.menuCommand.sectionGroup.setGroupPosition(this,t),this.setSelectedState(!0)):this.setSelectedState(!1),Promise.resolve()}.bind(this)).catch(function(n){console.log(n)})},activatedClickedMenu:function(){for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.setSelectedState(t.getClickedState())},restoreToClickedItem:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.mouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){var t=this.getFocusedItem(),i=this.getSelectedItem(),n=this.getClickedItem();this.hasFocus()&&(!t||t!=i)&&ecount.menuCommand.sectionGroup.hasToRestoreToAnotherItem(i,n)&&(n.clearDeselectAction(),ecount.runtime.notify("menu.section2.selectItem",this.ecPageID,{ecPageID:this.ecPageID,item:n.getMenuData()}))}.bind(this),this.mouseoutTimeout)},clearSectionRestoreTimer:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer)},onMouseoutHandler:function(){this.restoreToClickedItem()},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.map(this._getChildItem.bind(this,t))},_getChildCtrlType:function(){return"widget.menuItem.depth2"},_getMenuItemsByGroupId:function(n){return this.menuItems.filter(function(t){return t.getParentMenuId()==n})},_getGroupSeqKey:function(){return"GROUP_SEQ"},_setLazyLoadedMenuData:function(){return Promise.resolve(this.menuItems)},ON_MOUSEOUT:function(n,t,i,r){this.onMouseoutHandler(n,t,r);r.group=this.menuType}},depth3:{controlType:"widget.menuSection.depth3",viewName:"widget.view.menuSection.depth3",depth:3,editGuideUpdateTimeout:100,setEcPath:function(){this.ecPath=[this.ecPageID,"menu","section","group","",this.id,this.pcid].join(ecount.separator.ecPath)},onInitState:function(){ecount.control.menu.section.prototype.onInitState.apply(this,arguments);$.extend(this.__state,{ecpath:this.ecpath,ecPageID:this.ecPageID,"style.dropAccept":!1,"style.sectionDisplay":!1,"opt.selected":!1,"opt.hasCursor":!1,"opt.currentItemsKey":-Infinity,"opt.deleteMode":!1,"opt.draggable":!1,"opt.droppable":!1})},render:function(){this.attachView(this.getWrapperMenuAreaAddon())},renderMenuItemByParent:function(n){var t=this._getCacheKey(n);return t==this.getState(this._IT_SELF,"opt.currentItemsKey")?(ecount.menuCommand.section.reactivateMenuItemByParentAction(this,n),Promise.resolve()):this._getChildrenByParent(n,t).then(this._setMenuItems.bind(this)).then(ecount.menuCommand.section.renderChildrenAction.bind(null,this,n)).then(function(){this.setState(this._IT_SELF,"opt.currentItemsKey",t);this.setState(this._IT_SELF,"opt.selected",!0)}.bind(this)).catch(function(n){console.log(n)})},show:function(){(this.getState(this._IT_SELF,"style.sectionDisplay")||this.setState(this._IT_SELF,"style.sectionDisplay",!0),this.getUseFlippedState()&&this.getFlippedState())||this.setState(this._IT_SELF,"style.display",!0,!0)},setCurrentItemKey:function(n){this.setState(this._IT_SELF,"opt.currentItemsKey",n)},getCurrentItemKey:function(){var n=this.getState(this._IT_SELF,"opt.currentItemsKey");return n===-Infinity?null:n},getMenuItemByBodyUrl:function(n){return this.menuItems.head(function(t){return t.getMenuItemByBodyUrl(n)})},getMenuItemByMatch:function(n){return this.menuItems.head(function(t){return t.getMenuItemByMatch(n)})},getHighlightedItem:function(){for(var t=0,r=this.menuItems.length,n,i;t<r;t++){if(n=this.menuItems[t],i=n.getHighlightedItem(),i)return i;if(n.getHighlightedState())return n}},getSelectedItem:function(){for(var t=0,r=this.menuItems.length,n,i;t<r;t++){if(n=this.menuItems[t],i=n.getSelectedItem(),i)return i;if(n.getSelectedState())return n}},getMenuItemsHierarchy:function(n,t){var r=[],i=[];return t.forEach(function(t){return this._isDepth3Item(n,t)?r.push(t):this._isDepth4Item(n,t)?i.push(t):void 0}.bind(this)),r=r.filter(this.getFilteredDepth3List.bind(this,i)),r.map(function(t){for(var u=[],r=0,f=i.length;r<f;r++){if(!i[r])break;this._isChildOfDepth3Menu(n.MENU_TYPE,t,i[r])&&(u.push(this._getChildOfDepth3Item(n.MENU_TYPE,t,i[r])),i.splice(r--,1))}return this.getDepth3ChildControl(n,t,u)}.bind(this))},getDepth3ChildControl:function(n,t,i){var u=widget.generator.control(),r=this._getSectionData();return r.menuData=this._getDepth3Item(n,t,i),u.define(this._getChildCtrlType(n),t.MENU_SEQ,t.MENU_SEQ).setDataItems(i).setOptions(r).getInstance()},getFilteredDepth3List:function(){return!0},getVisibleMenuItemCountFromCache:function(n){return this._getDataFromCachedItems(function(t){if(t.getDisplayState()&&t.getMenuDataAttrs().GROUP_SEQ==n)return t})},getVisibleMenuItemByIndexFromCache:function(n,t){return this._getItemListFromCache(function(t){if(t.getDisplayState()&&t.getMenuDataAttrs().GROUP_SEQ==n)return t})[t]},getMenuItemByBodyUrlFromCache:function(n){return this._getDataFromCachedItems(function(t){var i=t.getMenuItemByBodyUrl(n);if(i)return i})},getMenuItemByMenuId:function(n){return this._getDataFromCachedItems(function(t){var i=t.getMenuItemByMenuId(n);if(i)return i})},getMenuItemByMenuSeq:function(n){return this._getDataFromCachedItems(function(t){var i=t.getMenuItemByMenuSeq(n);if(i)return i})},getMenuItemByPrgId:function(n){return this._getDataFromCachedItems(function(t){var i=t.getMenuItemByPrgId(n);if(i)return i})},getMenuItemByMenuUrl:function(n){return this._getDataFromCachedItems(function(t){var i=t.getMenuItemByMenuUrl(n);if(i)return i})},getMenuIndexByMenuId:function(n){var t;return this._getDataFromCachedItems(function(i){var r=i.getMenuIndexByMenuId(n);if(r!==undefined){t=r;return}}),t==undefined&&this.menuItems.head(function(i,r){if(i.getMenuId()==n){t=r;return}}),t},setEditGuideUp:function(n,t){var u=this.getEditGuideIndex(),i,r;u>-1&&t.vertical=="forward"&&(i=this.menuItems[this._getAdjustedMenuIndex(u)],i.getChildrenCount()>0&&!i.getClosedAttrState()&&(r=i.getVisibleMenuItemByIndex(0),r&&(n=r.getMenuId())));this.setEditGuide(n,t)},getSelectedState:function(){return this.getState(this._IT_SELF,"opt.selected")},setSelectedState:function(n){this.setState(this._IT_SELF,"opt.selected",n)},setViewLeftPosition:function(n){this.ecview&&this.ecview.setLeftPosition(n)},setEditGuideUpdatedPosition:function(n,t){var f=this.getEditGuideIndex(),s=this.getMenuItemByMenuId(n),r=this._getEditGuideTargetId(f,this.id),i,u,e,o;s&&(i=f>-1?this.menuItems[this._getAdjustedMenuIndex(f)]:this.menuItems[t.vertical=="backword"?0:this.menuItems.length-1],t.vertical=="forward"&&(u=this.getMenuItemByMenuId(r),r==this.id&&f==-1&&(i=this.menuItems[this.menuItems.length-1],r=i.getMenuId()),i&&i.getChildrenCount()>0&&!i.getClosedAttrState()&&(u=i.getVisibleMenuItemByIndex(0),u&&(r=i.getMenuId())),u&&(e=this.getMenuItemByMenuId(u.getParentMenuId()),e&&e.getChildrenCount()-1==u.index&&(r=e.getMenuId()))),(f>-1||r)&&(o=r||i.getMenuId(),this.setEditGuide(o,t)))},setMenuItemOnEditGuide:function(n){var r=this.getEditGuideIndex(),u=this.getMenuItemByMenuId(n),f=this._getEditGuideTargetId(r,this.id),i,e,t;if((r>-1||f)&&u)for(this.editChildrenItemOrder(u,f),this.editOwnItemOrder(u,r),i=0,e=this.menuItems.length;i<e;i++)t=this.menuItems[i],t.hasChildren()&&(t.getChildrenCount()&&t.getVisibleMenuItemByIndex(0)||t.hideFromMyMenu()),t.setDeleteButtonState(!1);else this.restoreTemporarilyHiddenItem()},setEditGuide:function(n,t){this.editGuideUpdateTimer||(this.editGuideUpdateTimer=ecount.global.setTimeout(this.ecPageID,function(){var u=this.getMenuItemByMenuId(n),i,r;if(this.editGuideUpdateTimer=null,!u){i=this.menuItems.head(function(t){return t.getMenuItemByMenuId(n)});i&&(r=this.getMenuItemByMenuId(i.getParentMenuId()),this.removeEditGuide(),r&&r.setEditGuide(n,t.vertical));return}this.ecview&&this.ecview.setEditGuide(n,t.vertical)}.bind(this),this.editGuideUpdateTimeout))},renewMenuItems:function(n){ecount.runtime.notify("menu.section3.renewItem",this.ecPageID,n)},renewMenuItemsByParent:function(n,t,i){var r=this._getCacheKey(n);depth3Items=this.getMenuItemsHierarchy(n,t);this.menuItems=depth3Items;this.setCurrentItemKey(r);this._setItemToCache(r,depth3Items);i&&this.renderChildren(n,this.menuItems)},isDroppableSection:function(n,t,i){var r=this.getMenuItemByMenuId(n);return t>=this.depth&&(t>=i||r&&!r.hasChildren())},removeCurrentItemKey:function(){this.setState(this._IT_SELF,"opt.currentItemsKey",-Infinity)},closeOtherItems:function(n){var t=this.getClickedItem();t&&n&&t.getMenuId()!=n.MENU_ID&&t.setClosedAttrState(!0)},activateMenuItem:function(n,t){if(n)for(var f=0,e=this.menuItems.length,i,r,u;f<e;f++)i=this.menuItems[f],r=!!i.getMenuItemByMenuId(n.MENU_ID),u=n.MENU_SEQ==i.getMenuSeq(),r?i.activateMenuItem(n):i.deactivateMenuItems(),t?(i.setClickedState(r||u),u&&i.setChildClickedStateByUrl(n.BODY_URL)):i.setSelectedState(r||u)},activateMenuItemById:function(n,t){var i=this.getMenuItemByMenuId(n);i&&this._activateMenuItem(i,t,function(){i.setChildClickedStateById(n)})},activateMenuItemByBodyUrl:function(n,t){var i=this.getMenuItemByBodyUrl(n);i&&this._activateMenuItem(i,t,function(){i.setChildClickedStateByUrl(n)})},activateMenuItemByMatch:function(n,t){var i=this.getMenuItemByMatch(n);i&&this._activateMenuItem(i,t,function(){i.setChildClickedStateByMatch(n)})},activateMenuByParent:function(){return Promise.resolve()},deactivateMenuItems:function(n){n.deactivateMenuItems();n.setSelectedState(!1);n.setClickedState(!1)},serialize:function(){return Object.getOwnPropertyNames(this.cachedItems).reduce(function(n,t){return t.indexOf(ecount.menu.prefixMp)==0?n:n.concat(this.cachedItems[t].reduce(function(n,t,i){var r=t.serialize();return groupSeq=t.PARENT_MENU_SEQ,r.SORT=i,n.push(r),r.children&&(n=n.concat(r.children),r.IS_GROUP=!0),n},[]))}.bind(this),[])},hasEditGuideIndex:function(){var i=this.getEditGuideIndex(),n,t;if(i>-1)return!0;for(n=0,t=this.menuItems.length;n<t;n++)if(this.menuItems[n].hasEditGuideIndex())return!0;return!1},_isDepth3Item:function(n,t){return!!(t.DEPTH==3)},_isDepth4Item:function(n,t){return t.DEPTH=="3"&&$.isEmpty(t.PARENTMENU_SEQ_ORG)||t.DEPTH=="4"},_isDepth4MypageItem:function(n){return!$.isEmpty(n.PARENT_MENU_SEQ)||n.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq&&!$.isEmpty(n.PARENTMENU_SEQ_ORG)&&n.MENU_SEQ!="604"},_isChildOfDepth3Menu:function(n,t,i){return t.MENU_SEQ==i.PARENT_MENU_SEQ},_getChildCtrlType:function(){return"widget.menuItem.depth3"},_getChildrenByParent:function(n,t){var i=n.API_PARAM,r;return(r=this._getCachedItem(t))?Promise.resolve(r):this._getAPIVersionKey(i).then(this._getAPIUrl.bind(this,i)).then(this._getMenuDataFromAPI.bind(this,i)).then(function(i){return Promise.resolve(this.getMenuItemsHierarchy(n,i)).then(function(n){return this.setCurrentItemKey(t),this._setItemToCache(t,n),n}.bind(this))}.bind(this))},_getDepth3Item:function(n,t,i){var r={MENU_TYPE:n.MENU_TYPE},u;return!t.DEFAULT_MENU_SEQ&&i.length&&(u=i[0],r.DEFAULT_MENU_SEQ=u.MENU_SEQ,r.DEFAULT_PRG_ID=u.PRG_ID,r.MENU_URL=u.MENU_URL),_.extend(t,r)},_getChildOfDepth3Item:function(n,t,i){return _.extend(i,{MENU_TYPE:n,GROUP_SEQ:i.GROUP_SEQ||"00000"})},_getMenuCloseState:function(n){return n.S_FLAG=="N"||n.FOLD_TYPE=="F"},_getCachedMenuItems:function(n){return new Promise(function(t){t(this.cachedItems[n])}.bind(this))},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.map(this._getChildItem.bind(this,t))},_getChildItem:function(n,t){var i=this._getChildOption(t);return n.define(i.type,i.id,i.name).setDataItems(t.items||[]).setOptions(i.options).getInstance()},_getChildOption:function(n){return{type:this._getChildCtrlType(n),id:n.MENU_SEQ,name:n.MENU_SEQ,options:_.extend(this._getSectionData(),{menuData:n})}},_getDataFromCachedItems:function(n){for(var t,e,u,f=Object.getOwnPropertyNames(this.cachedItems),i=0,o=f.length,r;i<o;i++)for(r=this.cachedItems[f[i]],t=0,e=r.length;t<e;t++)if(u=n(r[t],t),u)return u},_getItemListFromCache:function(n){for(var t,o,u,f=Object.getOwnPropertyNames(this.cachedItems),e=[],i=0,s=f.length,r;i<s;i++)for(r=this.cachedItems[f[i]],t=0,o=r.length;t<o;t++)u=n(r[t]),u&&e.push(u);return e},_setMenuItems:function(n){return this.menuItems=n,Promise.resolve(n)},_activateMenuItem:function(n,t,i){var r=n.getMenuDataAttrs(),f,u;r.DEPTH>3?(f=r.PARENT_MENU_ID,u=this.getMenuItemByMenuId(f),u.setClickedState(t),this.deactivateNotClickedMenu(u.getMenuDataAttrs()),u.activateMenuItem(r,t)):(n.setClickedState(!0,!0),t&&i&&i(),this.deactivateNotClickedMenu(r))},_fixItemActivationState:function(n,t){t?n.clearDeselectAction():n.clearSelectAction()},_notifyMenuCollapsed:function(){ecount.global.clearTimeout(this.ecPageID,this.sectionMouseoverTimer);this.sectionMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getUseFlippedState()&&!this.hasFocus()&&(this.setFlippedState(!0),ecount.runtime.notify("menu.leftMenuToggle",this.ecPageID,!0))}.bind(this),this.sectionMouseoutTimeout)},_notifyMenuExpanded:function(){ecount.global.clearTimeout(this.ecPageID,this.sectionMouseoutTimer);this.sectionMouseoverTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getUseFlippedState()&&this.hasFocus()&&(this.setFlippedState(!1),ecount.runtime.notify("menu.leftMenuToggle",this.ecPageID,!1))}.bind(this),this.sectionMouseoverTimeout)},_notifyTogglerState:function(n){this.setUseFlippedState(n);ecount.runtime.notify("menu.changeSectionTogglerState",null,{section:this.depth,collapseable:!n})}},erp:{controlType:"widget.menuSection.erp",_getAPIVersionKey:function(n){var f=n.MENU_TYPE==ecount.menu.myPageType,t=this._getUserInfo(),r=[t.ComCode,t.UserId].join("_"),i,u;return f?i=this.versionData[r].MyPage:(i=this.versionData[r].Left[n.GROUP_SEQ],t.Data={GROUP_SEQ:n.GROUP_SEQ,MENU_DV_CD:this.menuUseFlag}),t.Version=i,u=Object.toJSON(t).encryptXor("ecount"),Promise.resolve(u)},_getAPIUrl:function(n,t){return n.MENU_TYPE==ecount.menu.myPageType?["/ECERP/SVC/Popup/GetListCacheMyPageV2","?jsonp=eccb&v=",t,"&urlVersion=",ecount.common.version.getVersion("programConfig",ecount.common.version.programConfig.prgId)].join(""):["/ECERP/SVC/Popup/GetListCacheLeftMenuV3","?jsonp=eccb&v=",t,"&urlVersion=",ecount.common.version.getVersion("programConfig",ecount.common.version.programConfig.prgId)].join("")},_getGroupSeqKey:function(){return"GROUP_SEQ"},_getCacheKey:function(n){switch(n.MENU_TYPE){case 6:case ecount.menu.myPageType:return[ecount.menu.prefixMp,n.MENU_SEQ,n.SUB_MENU].join("#");case 7:case ecount.menu.gwType:return[ecount.menu.prefixGw,n.MENU_SEQ,n.SUB_MENU].join("#");default:return[n.MENU_TYPE,n.MENU_SEQ,n.SUB_MENU].join("#")}},_getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth,mouseoutTimeout:this.mouseoutTimeout,mouseoutTimer:null,comInfo:this.comInfo,versionData:this.versionData,isMasterUser:this.isMasterUser,menuUseFlag:this.menuUseFlag}}},erpDepth1:{controlType:"widget.menuSection.erpDepth1",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth1"],updateMyPage:function(n){var t=this.menuItems.find(function(n){return n.getMenuSeq()==ecount.menu.myPageType});t&&n&&(t.setBodyUrl(n.bodyUrl),t.setDefaultChildPrgId(n.childPrgId),t.setDefaultChildMenuSeq(n.childMenuSeq),t.setDefualtGroupSeq(n.group))},_getChildCtrlType:function(n){switch(n.MENU_SEQ){case 6:case ecount.menu.myPageType:return"widget.menuItem.erpMyPageDepth1";default:return"widget.menuItem.erpDepth1"}}},erpDepth2:{controlType:"widget.menuSection.erpDepth2",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth2"],_getFilteredGroup:function(n){return n.key==ecount.menu.myPageType||n.items},_getChildCtrlType:function(){return"widget.menuSection.erpDepth2Group"}},erpDepth2Group:{controlType:"widget.menuSection.erpDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth2Group"],_getMyPageDataFromAPI:function(n){var t=n.API_PARAM;return this._getAPIVersionKey(t).then(this._getAPIUrl.bind(this,t)).then(this._getMenuDataFromAPI.bind(this,t))},_getChildCtrlType:function(n){return n.MENU_TYPE==ecount.menu.myPageType?"widget.menuItem.erpMyPageDepth2":n.MENU_TYPE==ecount.menu.gwType?"widget.menuItem.erpGroupwareDepth2":"widget.menuItem.erpDepth2"},_getMyPageMainUrl:function(n){return n.MENU_URL},_getMyPageGroup:function(n){return n.filter(function(n){return n.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq})},_setMyPageMenuData:function(n){return n.MENU_URL?Promise.resolve(this.menuItems):this._getMyPageDataFromAPI(n).then(this._initMyPageGroups.bind(this)).then(this._setMyPageGroupChildren.bind(this)).catch(function(n){console.log("ERROR>>>>>>>>>>>>>>>>>>>>>>>> _setMyPageMenuData");console.log(n)})},_setMyPageGroupChildren:function(n){var t=this._getLeafItem(ecount.menu.myPageSubMenuSeq,n);return t?this._setMyPageGroupByLeafItem(t):this._setMyPageGroupByEmptyData(n),ecount.runtime.notify("menu.section2.setMyPageData",this.ecPageID,{group:this.menuItems.map(function(n){return n.getMenuData()}),menuItems:n.filter(this._isGroupItem.bind(this))}),Promise.resolve(n)},_setMyPageGroupByLeafItem:function(n){for(var u=this._getMyPageMainUrl(n),i=n[this._getGroupSeqKey()],r=0,f=this.menuItems.length,t;r<f;r++)t=this.menuItems[r],t.getGroupSeq()==i&&(t.setBodyUrl(u),t.setDefaultChildMenuSeq(n.MENU_SEQ),t.setDefaultChildPrgId(n.PRG_ID));i||(i=ecount.menu.noChildMyPageUrl);ecount.runtime.notify("menu.section2.updateMyPage",this.ecPageID,{ecPageID:this.ecPageID,bodyUrl:u,group:i,childPrgId:n.PRG_ID,childMenuSeq:n.MENU_SEQ})},_setMyPageGroupByEmptyData:function(n){var t;t=n.length?n[0].MENU_NAME:"";ecount.runtime.notify("menu.section2.updateMyPage",this.ecPageID,{ecPageID:this.ecPageID,bodyUrl:ecount.menu.noChildMyPageUrl+t,group:"",prgId:""})},_setMyPageGroups:function(n){var t=widget.generator.control(),i=this.ecview.getChildrenContainer(),r=this._getMyPageGroup(n),u=_.groupBy(n,this._getGroupSeqKey()),f=this.isDraggableEnabled(),e=this.getState(this._IT_SELF,"opt.deleteMode");this.menuItems=r.map(function(n){var i=this._getLeafItem(n.MENU_SEQ,u[n.MYPAGE_GROUP_SEQ]);return n.MENU_URL=i?i.MENU_URL:ecount.menu.noChildMyPageUrl+n.MENU_NAME,this._getChildItem(t,n)}.bind(this));this.menuItems.forEach(function(n){n.render(i);f&&n.enableDraggable();e&&n.enableDeleteMode()})},_setErpMenuData:function(){return Promise.resolve(this.menuItems)},_setLazyLoadedMenuData:function(n){switch(n.MENU_SEQ){case 6:case ecount.menu.myPageType:return this._setMyPageMenuData(n);default:return this._setErpMenuData(n)}},_isGroupItem:function(n){return n.PARENT_MENU_SEQ!=ecount.menu.myPageSubMenuSeq},_initMyPageGroups:function(n){var t=function(n){return n.getMenuId().indexOf(ecount.menu.prefixMp)==0};return this.menuItems.head(t)?Promise.resolve(n):(this._setMyPageGroups(n),Promise.resolve(n))}},erpDepth3:{controlType:"widget.menuSection.erpDepth3",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth3"],prefixMp:ecount.menu.prefixMp,prefixGw:ecount.menu.prefixGw,onInitAdditionalSectionOptions:function(n){_.extend(this,{comInfo:n.comInfo})},getFilteredDepth3List:function(n,t){var i=t.MENU_TYPE==ecount.menu.myPageType?t.FOLD_TYPE:t.LEAF_YN=="Y";return i?!!n.head(function(n){return t.MENU_SEQ==n.PARENT_MENU_SEQ}):!0},setMyPageData:function(n){for(var u=n.group,f=_.groupBy(n.menuItems,this._getGroupSeqKey()),i=0,e=u.length,t,r;i<e;i++)t=u[i],r=this.getMenuItemsHierarchy(t,f[t.MYPAGE_GROUP_SEQ]||[]),this._setItemToCache(this._getCacheKey(t),r),this._setMenuItems(r)},_isDepth3Item:function(n,t){switch(n.MENU_TYPE){case 6:case ecount.menu.myPageType:return this._isDepth3MypageItem(n,t);default:return t.DEPTH==3}},_isDepth4Item:function(n,t){switch(n.MENU_TYPE){case 6:case ecount.menu.myPageType:return this._isDepth4MypageItem(n,t);case 7:case ecount.menu.gwType:return this._isDepth4GroupwareItem(n,t);default:return t.DEPTH=="4"}},_isDepth3MypageItem:function(n,t){var i=$.isEmpty(t.GROUP_SEQ);return t.DEPTH==3&&n.MYPAGE_GROUP_SEQ==t.GROUP_SEQ&&!i||t.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq&&(i||t.M_CNT==0)},_isDepth4MypageItem:function(n,t){return t.DEPTH==4},_isDepth4GroupwareItem:function(n,t){return t.DEPTH==3&&$.isEmpty(t.PARENT_MENU_SEQ_ORG)||t.DEPTH==4},_isChildOfDepth3Menu:function(n,t,i){switch(n){case 7:case ecount.menu.gwType:return["@BOARD_NAME","@WORK_BOARD_NAME","@PROJECT_NAME","@MULTI_BOARD_NAME"].contains(t.PARENT_MENU_SEQ_ORG)?[t.MENU_SEQ,t.MENU_CD].join("_")==[i.PARENTMENU_SEQ,i.MENU_CD].join("_"):t.MENU_SEQ==i.PARENT_MENU_SEQ;case 6:case ecount.menu.myPageType:default:return t.MENU_SEQ==i.PARENT_MENU_SEQ}},_getChildCtrlType:function(n){switch(n.MENU_TYPE){case 6:case ecount.menu.myPageType:return"widget.menuItem.erpMyPageDepth3";case 7:case ecount.menu.gwType:return"widget.menuItem.erpGroupwareDepth3";default:return"widget.menuItem.erpDepth3"}},_getChildOfDepth3Item:function(n,t,i){return _.extend(i,{MENU_TYPE:n,PARENT_MENU_SEQ:t.MENU_SEQ,GROUP_SEQ:t.GROUP_SEQ})}},erpMyPageOnlyDepth1:{controlType:"widget.menuSection.erpMyPageOnlyDepth1",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth1","widget.menuSection.erpDepth1"]},erpMyPageOnlyDepth2:{controlType:"widget.menuSection.erpMyPageOnlyDepth2",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth2","widget.menuSection.erpDepth2"],_getChildCtrlType:function(){return"widget.menuSection.erpMyPageOnlyDepth2Group"}},erpMyPageOnlyDepth2Group:{controlType:"widget.menuSection.erpMyPageOnlyDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth2Group","widget.menuSection.erpDepth2Group"]},erpMyPageOnlyDepth3:{controlType:"widget.menuSection.erpMyPageOnlyDepth3",__mixins:["widget.menuSection.common","widget.menuSection.erp","widget.menuSection.depth3","widget.menuSection.erpDepth3"]},webMail:{controlType:"widget.menuSection.webMail",_getGroupSeqKey:function(){return"GROUP_SEQ"},_getAPIVersionKey:function(){return Promise.resolve("")},_getUserInfo:function(){return{}},_getAPIUrl:function(){return"/WMAPI/Login/GetMenu"},_getMenuDataFromAPI:function(n,t){return ecount.menu.getApiData(t)},_getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth,mouseoutTimeout:this.mouseoutTimeout,mouseoutTimer:null,versionData:this.versionData}}},webMailDepth1:{controlType:"widget.menuSection.webMailDepth1",viewName:"widget.view.menuSection.webMailDepth1",__mixins:["widget.menuSection.common","widget.menuSection.webMail","widget.menuSection.depth1","widget.menuSection.erpDepth1"],_getChildCtrlType:function(){return"widget.menuItem.webMailDepth1"}},webMailDepth2:{controlType:"widget.menuSection.webMailDepth2",viewName:"widget.view.menuSection.webMailDepth2",__mixins:["widget.menuSection.common","widget.menuSection.webMail","widget.menuSection.depth2","widget.menuSection.erpDepth2"],_getChildCtrlType:function(){return"widget.menuSection.webMailDepth2Group"},_getDepth2Group:function(n){return _.groupBy(n._dataItems,"PARENT_MENU_SEQ")}},webMailDepth2Group:{controlType:"widget.menuSection.webMailDepth2Group",viewName:"widget.view.menuSection.webMailDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.webMail","widget.menuSection.depth2Group","widget.menuSection.erpDepth2Group"],_initMyPageGroups:function(n){return this._setMyPageGroups(n),Promise.resolve(n)},_getChildCtrlType:function(){return"widget.menuItem.webMailDepth2"},_isGroupItem:function(n){return n.PARENT_MENU_SEQ!=ecount.menu.myPageSubMenuSeq}},webMailDepth3:{controlType:"widget.menuSection.webMailDepth3",viewName:"widget.view.menuSection.webMailDepth3",__mixins:["widget.menuSection.common","widget.menuSection.webMail","widget.menuSection.depth3","widget.menuSection.erpDepth3"],_getProgressState:function(n){var t="success";return n&&n>70?t="danger":n&&n>50&&(t="warning"),t},_getPercentageState:function(n){var t="";return n||"0"?t=n+"%":n&&n>15&&(t=n+"%"),t},onInitFunctions:function(n,t,i){ecount.control.menu.section.prototype.onInitFunctions.apply(this,arguments);t.functions.webmailQuota={ecFunction:"button",cid:this.id,usageTitle:ecount.resource.LBL22702,addUsageTitle:ecount.resource.LBL12309,usage:i.usage||"",percentage:this._getPercentageState(i.percentage),percentageWidth:this._getPercentageState(i.percentage),progress:this._getProgressState(i.percentage),display:i.display===!1?!1:!0,usageDomainTitle:ecount.resource.LBL22703,domainUsage:i.domainUsage||"",domainPercentage:this._getPercentageState(i.domainPercentage),domainPercentageWidth:this._getPercentageState(i.domainPercentage),isViewDomain:i.isViewDomain,isViewUsage:i.isViewUsage,isTwoLines:i.isViewDomain&&i.isViewUsage?"two-lines":"",domainProgress:this._getProgressState(i.domainPercentage)};this._notifyTogglerState(i.isMenuCollapsed)},getFilteredDepth3List:function(){return!0},getDepth3ChildControl:function(n,t,i){var u=widget.generator.control(),f=this._getSectionData(),r;return f.menuData=this._getDepth3Item(n,t,i),u.define(this._getChildCtrlType(n),t.MENU_SEQ,t.MENU_SEQ).setDataItems(i).setOptions(f),t.HAS_FUNCTION&&(r=[{id:"setting",label:ecount.resource.LBL19307}],t.MENU_SEQ==="Mail-MyInbox"&&r.unshift({id:"new",label:ecount.resource.LBL70644}),(t.MENU_SEQ==="MyContact"||t.MENU_SEQ==="SharedContact")&&r.unshift({id:"newAddr",label:ecount.resource.LBL70208}),(t.MENU_SEQ==="Mail-MyInbox"||t.MENU_SEQ==="MyContact"||t.MENU_SEQ==="SharedContact")&&r.add({id:"orderSetting",label:ecount.resource.LBL08076}),u.hasFn(r)),u.getInstance()},_getDepth3Item:function(n,t){var i={MENU_TYPE:n.MENU_TYPE};return _.extend(t,i)},_isDepth4Item:function(n,t){return t.DEPTH==4},_getChildCtrlType:function(){return"widget.menuItem.webMailDepth3"},toggleUsageContainer:function(n){this.setState("webmailQuota","display",n)},setUsagePercentage:function(n){this.setState("webmailQuota","percentageWidth",this._getPercentageState(n));this.setState("webmailQuota","percentage",this._getPercentageState(n));this.setState("webmailQuota","progress",this._getProgressState(n))},setDomainUsagePercentage:function(n){this.setState("webmailQuota","domainPercentageWidth",this._getPercentageState(n));this.setState("webmailQuota","domainPercentage",this._getPercentageState(n));this.setState("webmailQuota","domainProgress",this._getProgressState(n))},setUsageValue:function(n){this.setState("webmailQuota","usage",n)},setDomainUsageValue:function(n){this.setState("webmailQuota","domainUsage",n)},ON_CLICK:function(n,t,i,r){n.ecRole=="menu.addUsage"?r.command="ON_CLICK_ADD_USAGE":n.ecRole=="menu.showDomainUsage"&&(r.command="ON_CLICK_SHOW_USAGE")}},invoice:{controlType:"widget.menuSection.invoice",_getGroupSeqKey:function(){return"GROUP_SEQ"},_getAPIVersionKey:function(){return Promise.resolve("")},_getUserInfo:function(){return{}},_getAPIUrl:function(){return""},_getMenuDataFromAPI:function(){return ecount.invoiceMenuData},_getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth,mouseoutTimeout:this.mouseoutTimeout,mouseoutTimer:null,versionData:this.versionData}}},invoiceDepth1:{controlType:"widget.menuSection.invoiceDepth1",viewName:"widget.view.menuSection.invoiceDepth1",__mixins:["widget.menuSection.common","widget.menuSection.invoice","widget.menuSection.depth1","widget.menuSection.erpDepth1"],_getChildCtrlType:function(){return"widget.menuItem.invoiceDepth1"}},invoiceDepth2:{controlType:"widget.menuSection.invoiceDepth2",viewName:"widget.view.menuSection.invoiceDepth2",__mixins:["widget.menuSection.common","widget.menuSection.invoice","widget.menuSection.depth2","widget.menuSection.erpDepth2"],_getChildCtrlType:function(){return"widget.menuSection.invoiceDepth2Group"},_getDepth2Group:function(n){return _.groupBy(n._dataItems,"PARENT_MENU_SEQ")}},invoiceDepth2Group:{controlType:"widget.menuSection.invoiceDepth2Group",viewName:"widget.view.menuSection.invoiceDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.invoice","widget.menuSection.depth2Group","widget.menuSection.erpDepth2Group"],_initMyPageGroups:function(n){return this._setMyPageGroups(n),Promise.resolve(n)},_getChildCtrlType:function(){return"widget.menuItem.invoiceDepth2"},_isGroupItem:function(n){return n.PARENT_MENU_SEQ!=ecount.menu.myPageSubMenuSeq}},invoiceDepth3:{controlType:"widget.menuSection.invoiceDepth3",__mixins:["widget.menuSection.common","widget.menuSection.invoice","widget.menuSection.depth3","widget.menuSection.erpDepth3"],getFilteredDepth3List:function(){return!0},getDepth3ChildControl:function(n,t,i){var r=widget.generator.control(),u=this._getSectionData();return u.menuData=this._getDepth3Item(n,t,i),r.define(this._getChildCtrlType(n),t.MENU_SEQ,t.MENU_SEQ).setDataItems(i).setOptions(u),r.getInstance()},_isDepth4Item:function(n,t){return t.DEPTH==4},_getChildCtrlType:function(){return"widget.menuItem.invoiceDepth3"}},cs:{controlType:"widget.menuSection.cs",_getAPIVersionKey:function(){var n=this._getUserInfo(),i=[n.ComCode,n.UserId].join("_"),r=this.versionData[i].MyPage,t;return n.Version=r,t=Object.toJSON(n).encryptXor("ecount"),Promise.resolve(t)},_getAPIUrl:function(n,t){return["/ECERP/SVC/Popup/GetListCacheMyPageCsV2","?jsonp=eccb&v=",t].join("")},_getCacheKey:function(n){return[ecount.menu.prefixMp,n.MENU_SEQ,n.SUB_MENU].join("#")},_getGroupSeqKey:function(){return"PARENT_MENU_SEQ_ORG"},_getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth,mouseoutTimeout:this.mouseoutTimeout,mouseoutTimer:null,comInfo:this.comInfo,versionData:this.versionData,isMasterUser:this.isMasterUser,menuUseFlag:this.menuUseFlag}}},csDepth1:{controlType:"widget.menuSection.csDepth1",__mixins:["widget.menuSection.common","widget.menuSection.cs","widget.menuSection.depth1","widget.menuSection.erpDepth1"],_getChildCtrlType:function(){return"widget.menuItem.csDepth1"}},csDepth2:{controlType:"widget.menuSection.csDepth2",__mixins:["widget.menuSection.common","widget.menuSection.cs","widget.menuSection.depth2","widget.menuSection.erpDepth2"],_getChildCtrlType:function(){return"widget.menuSection.csDepth2Group"}},csDepth2Group:{controlType:"widget.menuSection.csDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.cs","widget.menuSection.depth2Group","widget.menuSection.erpDepth2Group"],_getChildCtrlType:function(){return"widget.menuItem.csDepth2"},_setLazyLoadedMenuData:function(n){return this._setMyPageMenuData(n)},_isGroupItem:function(n){return n.PARENT_MENU_SEQ!=ecount.menu.myPageSubMenuSeq}},csDepth3:{controlType:"widget.menuSection.csDepth3",__mixins:["widget.menuSection.common","widget.menuSection.cs","widget.menuSection.depth3","widget.menuSection.erpDepth3"],onInitAdditionalSectionOptions:function(n){_.extend(this,{comInfo:n.comInfo})},getFilteredDepth3List:function(n,t){return t.FOLD_TYPE?!!n.head(function(n){return t.MENU_SEQ==n.PARENT_MENU_SEQ}):!0},setMyPageData:function(n){for(var e=n.group,o=_.groupBy(n.menuItems,this._getGroupSeqKey()),s=n.menuItems.filter(function(n){return n.DEPTH==4}),r=0,h=e.length,t,u,f,i;r<h;r++)t=e[r],u=o[t.MYPAGE_GROUP_SEQ]||[],i=[],u.forEach(function(n){i=i.concat(s.filter(function(t){return n.MENU_SEQ==t.PARENT_MENU_SEQ}))}),f=this.getMenuItemsHierarchy(t,u.concat(i)),this._setItemToCache(this._getCacheKey(t),f),this._setMenuItems(f)},_isDepth3Item:function(n,t){var i=$.isEmpty(t.GROUP_SEQ);return t.DEPTH==3&&n.MYPAGE_GROUP_SEQ==t.GROUP_SEQ&&!i||t.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq&&(i||t.M_CNT==0)},_isDepth4Item:function(n,t){return t.DEPTH==4},_getChildCtrlType:function(){return"widget.menuItem.csDepth3"},_getGroupItem:function(n){return _.extend({},n,{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.MENU_SEQ_ORG})}},userpay:{controlType:"widget.menuSection.userpay",_getAPIVersionKey:function(){var n=this._getUserInfo(),r=[n.ComCode,n.UserId].join("_"),t,i;return t=this.versionData[r].MyPage,n.Version=t,i=Object.toJSON(n).encryptXor("ecount"),Promise.resolve(i)},_getUserInfo:function(){return{ComInfo:this.comInfo,ComCode:ecount.config.company.COM_CODE.toUpperCase(),UserId:this.empInfo.EMP_CD.trim().toUpperCase(),DomainType:"P",LanType:ecount.user.LAN_TYPE}},_getGroupSeqKey:function(){return"GROUP_SEQ"},_getSectionData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,depth:this.depth,mouseoutTimeout:this.mouseoutTimeout,mouseoutTimer:null,empInfo:this.empInfo,comInfo:this.comInfo,nowDt:this.nowDt,currYear:this.currYear,versionData:this.versionData}},_getAPIUrl:function(n,t){return["/ECERP/SVC/Popup/GetListCacheMyPageUserPayV3","?jsonp=eccb&v=",t].join("")}},userpayDepth1:{controlType:"widget.menuSection.userpayDepth1",__mixins:["widget.menuSection.common","widget.menuSection.userpay","widget.menuSection.depth1","widget.menuSection.erpDepth1"],onInitAdditionalSectionOptions:function(n){var t=n.nowDt.split(/[-\s:TZ]/),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);_.extend(this,{menuType:n.menuType,empInfo:n.empInfo,comInfo:n.comInfo,currYear:i.getFullYear(),nowDt:n.nowDt})},_getChildCtrlType:function(){return"widget.menuItem.userpayDepth1"}},userpayDepth2:{controlType:"widget.menuSection.userpayDepth2",__mixins:["widget.menuSection.common","widget.menuSection.userpay","widget.menuSection.depth2","widget.menuSection.erpDepth2"],onInitAdditionalSectionOptions:function(n){var t=n.nowDt.split(/[-\s:TZ]/),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);_.extend(this,{menuType:n.menuType,empInfo:n.empInfo,comInfo:n.comInfo,currYear:i.getFullYear(),nowDt:n.nowDt,sectionLv1:n.sectionLv1})},_getChildCtrlType:function(){return"widget.menuSection.userpayDepth2Group"}},userpayDepth2Group:{controlType:"widget.menuSection.userpayDepth2Group",__mixins:["widget.menuSection.common","widget.menuSection.userpay","widget.menuSection.depth2Group","widget.menuSection.erpDepth2Group"],onInitAdditionalSectionOptions:function(n){_.extend(this,{menuType:n.menuType,empInfo:n.empInfo,comInfo:n.comInfo,currYear:n.currYear,nowDt:n.nowDt,sectionLv1:n.sectionLv1})},_getChildCtrlType:function(){return"widget.menuItem.userpayDepth2"},_setLazyLoadedMenuData:function(n){return this._setMyPageMenuData(n)},_setMyPageGroupByLeafItem:function(n){for(var r=this._getMyPageMainUrl(n),u=n.GROUP_SEQ,i=0,f=this.menuItems.length,t;i<f;i++)t=this.menuItems[i],t.getGroupSeq()==u&&(t.setBodyUrl(r),t.setDefaultChildMenuSeq(n.MENU_SEQ),t.setDefaultChildPrgId(n.PRG_ID));ecount.runtime.notify("menu.section2.updateMyPage",this.ecPageID,{ecPageID:this.ecPageID,bodyUrl:r,group:u,childPrgId:n.PRG_ID,childMenuSeq:n.MENU_SEQ})},_setMyPageGroups:function(n){var t=widget.generator.control(),i=this.ecview.getChildrenContainer(),r=this.isDraggableEnabled(),u=this.getState(this._IT_SELF,"opt.deleteMode"),f=this._getMyPageGroup(n),e=_.groupBy(n,this._getGroupSeqKey());this.menuItems=f.map(function(n){var i=this._getLeafItem(n.MENU_SEQ,e[n.MYPAGE_GROUP_SEQ]);return n.MENU_URL=i?i.MENU_URL:ecount.menu.noChildMyPageUrl+n.MENU_NAME,this._getChildItem(t,n)}.bind(this));this.menuItems.forEach(function(n){n.render(i);r&&n.enableDraggable();u&&n.enableDeleteMode()})},_getLeafItem:function(n,t){var r=_.some(t,function(t){return t.MENU_SEQ==n&&t.DEPTH==1}),i=t.find(r?this._isMyPageLeafItemDepth2.bind(this,n):this._isMyPageLeafItem);return i||(i=t.head(function(n){return n[this._getGroupSeqKey()]&&n.MENU_URL}.bind(this))),i||(i=t.head(function(t){return t.PARENT_MENU_SEQ==n&&t.MENU_URL})),i},_isMyPageLeafItemDepth2:function(n,t){return t.MAIN_PROGRAM=="Y"&&t.PARENT_MENU_SEQ==n},_isUserpayGroup:function(n){return n.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq}},userpayDepth3:{controlType:"widget.menuSection.userpayDepth3",__mixins:["widget.menuSection.common","widget.menuSection.userpay","widget.menuSection.depth3","widget.menuSection.erpDepth3"],onInitAdditionalSectionOptions:function(n){var t=n.nowDt.split(/[-\s:TZ]/),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);_.extend(this,{menuType:n.menuType,empInfo:n.empInfo,comInfo:n.comInfo,currYear:i.getFullYear(),nowDt:n.nowDt})},_getChildCtrlType:function(){return"widget.menuItem.userpayDepth3"},_getGroupItem:function(n){return _.extend({},n,{MENU_TYPE:ecount.menu.myPageType,MENU_SEQ_ORG:n.PARENT_GROUP_SEQ,GROUP_SEQ:n.PARENT_GROUP_SEQ})}},horizontal:{controlType:"widget.menuSection.horizontal",viewName:"widget.view.menuSection.horizontal",onInitState:function(n,t,i){ecount.control.menu.section.prototype.onInitState.apply(this,arguments);$.extend(this.__state,{activatedIndexes:i._activedIndexes||[]})},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.filter(function(n){return!!(n.title&&n.link)}).map(function(i,r){return t.define("widget.menuItem.horizontal",this.id,this.name).setDataItems(i).setOptions($.extend({containerName:this.containerName,menuIndex:r,isActivated:!!n._activedIndexes.contains(r)},this._getSectionData())).getInstance()}.bind(this))},ON_CLICK:function(n){n.ecRole=="menuItem"&&(this.setState(this._IT_SELF,"activatedItemId",n.id),this.menuItems.forEach(function(t,i){t.setActivated(i==n.id)}))}},navigation:{controlType:"widget.menuSection.naviation",viewName:"widget.view.menuSection.navigation",onInitState:function(n,t,i){ecount.control.menu.section.prototype.onInitState.apply(this,arguments);var r=i._dataItems.find(function(n){return n.isActived}),u=r?r.id:"";$.extend(this.__state,{activatedItemId:u})},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.map(function(n,i){return t.define("widget.menuItem.navigation").setDataItems(n).setOptions($.extend({menuIndex:i},this._getSectionData())).getInstance()}.bind(this))},ON_CLICK:function(n){n.ecRole=="menuItem"&&(this.setState(this._IT_SELF,"activatedItemId",n.cid),this.menuItems.forEach(function(t){t.setActivated(t.id==n.cid)}))}},create:function(n){var t,u,f,i,r,e,o,s;if(n=n||"_default",t=widget.menuSection.repository[n]||{},u=ecount.control.menu.section,widget.menuSection._baseLoaded||(ecount.control.loadRepository(ecount.control.menu.section,ecount.control.view.menu.section,"widget.menuSection"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.menuSection,t,"widget.menuSection",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.menuSection")){f=t.controlType.replace("widget.menuSection.","");ecount.control.mountMixinWidget(widget.menuSection,t,"widget.menuSection",[widget.menuSection,f]);return}if(!widget.menuSection[n]){if(u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.menuSection,t.__mixins){for(i={},r=0,e=t.__mixins.length;r<e;r++)o=t.__mixins[r].split("."),s=widget.menuSection.repository[o.pop()],i=_.extend(i,s);t=_.extend(i,t)}ecount.control.mountWidget(widget.menuSection,n,u,t)}}}}};widget.menuItem={};widget.menuItem._baseLoaded=!1;widget.menuItem._export=function(){return{_default:{controlType:"widget.menuItem",createView:function(){return this.ecview=new widget.view.menuItem}},common:{controlType:"widget.menuItem.common",viewName:"widget.view.menuItem.common",index:null,menuData:null,menuItems:null,comInfo:null,versionData:null,isMasterUser:null,showDeleteButtonTimer:null,showDeleteButtonTimeout:ecount.common.mouseHoverInTime,hideDeleteButtonTimer:null,boardMenuCdRegex:/:?(M07060)|(M07070)|(M07070)/i,boardGroupMenuCdRegex:/:?(M07010)|(M07030)|(M07050)|(M07060)|(M07070)/i,projectMenuMenuCdRegex:/:?(M07070)/i,depth:"",getMenuUIType:function(){return ecount.user&&ecount.user.UI_MENU_TYPE||"1"},setEcPath:function(){this.ecPath=[this.ecPageID,"menu","","section"+this.depth,"",this.id,this.pcid].join(ecount.separator.ecPath)},initializeOptions:function(n,t){this.onInitDefaultItemOptions(n,t);this.onInitAdditionalItemOptions(n,t)},onInitDefaultItemOptions:function(n){if(_.extend(this,{id:this._getMenuId(n.menuData),comInfo:n.comInfo,versionData:n.versionData,isMasterUser:n.isMasterUser,hasItemParent:n.hasItemParent,index:n.index}),this.setEcPath(),ecount.control.menu.item.prototype.initializeOptions.apply(this,arguments),_.extend(this,{mouseoutTimeout:n.mouseoutTimeout}),this.menuData=this._getInitMenuData(n.menuData),this.delegator&&this.depth===3)this.delegator.on({"item.closeGruop":this.closeGruop.bind(this)})},closeGruop:function(n){n&&n.menuData&&n.menuData.PARENT_MENU_SEQ===this.cid&&!this.getClickedState()&&this.getListSelectedOptState()&&this.onListedItemMouseoutHandler&&this.onListedItemMouseoutHandler()},onInitAdditionalItemOptions:function(){return{}},onInitFunctions:function(n,t,i){ecount.control.menu.item.prototype.onInitFunctions.apply(this,arguments);this._initDefaultFunctions(n,t,i);ecount.menuCommand.item.setAdditionalFunction(this,n,t,i)},onInitArrowButtonFunction:function(n){n.functions.navArrow={ecFunction:"button",cid:this.id,"style.display":_.isArray(this.menuItems)&&this.menuItems.length?!0:!1}},onInitState:function(n,t,i){ecount.control.menu.item.prototype.onInitState.apply(this,arguments);_.extend(this.__state,this._getDefaultItemState(n,t,i))},_getDefaultItemState:function(n,t,i){return{index:0,ecpath:this.ecpath,ecPageID:this.ecPageID,domId:this._getDomId(n,t,i),label:i.label||this.menuData.MENU_NAME,containerId:this._getContainerId(n,t,i),"style.display":this._getDisplayState(n,t,i),"style.dropAccept":!1,"attr.href":this._getMenuHash(n,t,i),"attr.selected":!1,"opt.isClicked":!1,"opt.hasCursor":!1,"opt.draggable":!1,"opt.droppable":!1,"opt.dragMode":!1,"opt.deleteMode":!1,"opt.isHighlighted":!1}},onInitComponent:function(n,t,i,r){_.extend(r,{})},getParentMenuId:function(){return this._getMenuDataAttrs().PARENTMENU_SEQ},getMenuId:function(){return this._getMenuDataAttrs().MENU_ID},getChildMenuData:function(){},getMenuType:function(){return this.getMenuDataAttrs().MENU_TYPE},getBodyUrl:function(){return this._getMenuDataAttrs().BODY_URL},getMenuSeq:function(){return this._getMenuDataAttrs().MENU_SEQ},getGroupSeq:function(){return this.getMenuDataAttrs().GROUP_SEQ},getPrgId:function(){return this.getMenuDataAttrs().PRG_ID},getAPIParam:function(){return{}},getMenuData:function(){return _.extend(this._getMenuDataAttrs(),{MENU_TARGET:this.menuData.MENU_TARGET||"mainbody",DEPTH:this.depth,POSITION:this.getContainerBoundary(),API_PARAM:this.getAPIParam()})},getMenuDataAttrs:function(){return this._getMenuDataAttrs()},getDisplayState:function(){return this.getState(this._IT_SELF,"style.display")},getHighlightedState:function(){return this.getState(this._IT_SELF,"opt.isHighlighted")},getSelectedState:function(){return this.getState(this._IT_SELF,"attr.selected")},getDraggableTarget:function(){if(this.ecview)return this.ecview.getDraggableTarget()},getNotDraggableTarget:function(n){if(this.ecview)return n||(n=this._getDefaultNotDraggableMsg()),this.ecview.getNotDraggableTarget(n)},getRawDataOfChildren:function(){return this.menuItems.map(function(n){return n.menuData})},getChildrenCount:function(){return 0},getClickedState:function(){return this.getState(this._IT_SELF,"opt.isClicked")},getEditGuideIndex:function(){if(this.ecview)return this.ecview.getEditGuideIndex()},setActivatedAttrState:function(n){this.setState(this._IT_SELF,"attr.selected",n,!0)},getActivatedAttrState:function(){return this.getState(this._IT_SELF,"attr.selected")},setBodyUrl:function(n){this.menuData.MENU_URL=n},setDefaultChildMenuSeq:function(n){this.menuData.DEFAULT_MENU_SEQ=n},setDefaultChildPrgId:function(n){this.menuData.DEFAULT_PRG_ID=n},setDefualtGroupSeq:function(n){this.menuData.GROUP_SEQ=n},setSelectedState:function(n){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.setActivatedAttrState(n)},setClickedState:function(n){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.setActivatedAttrState(n);this.setState(this._IT_SELF,"opt.isClicked",n,!0)},setDropAcceptState:function(n){if(this.setState(this._IT_SELF,"style.dropAccept",n,!0),this.menuItems)for(var t=0,i=this.menuItems.length;t<i;t++)this.menuItems[t].setDropAcceptState(n)},setDeleteButtonState:function(n){this.setState("deleteButton","style.display",n)},setEditGuide:function(n,t){this.menuItems.head(function(t){return t.getMenuSeq()==n})&&this.ecview&&this.ecview.setEditGuide(n,t)},removeEditGuide:function(){this.ecview&&this.ecview.removeEditGuide()},editMenuItemOrder:function(n){if(this.ecview){var r=widget.generator.control(),t=this.menuItems.findIndex(function(t){return t==n}),i=this.getEditGuideIndex();t>-1&&this.menuItems.splice(t,1);i>-1&&(n=this._getChildItem(r,this.menuData,n.menuData),this.menuItems.splice(i,0,n))}},hideMenuItemTemporarily:function(){this.ecview&&this.ecview.hideMenuItemTemporarily()},hideFromMyMenu:function(){this.setState(this._IT_SELF,"style.display",!1);this.menuData.IS_MY_MENU="N"},restoreTemporarilyHiddenItem:function(){this.ecview&&this.ecview.restoreTemporarilyHiddenItem();for(var n=0,i=this.menuItems.length,t;n<i;n++)t=this.menuItems[n],t.restoreTemporarilyHiddenItem()},isChildMenuData:function(n){return this.getMenuSeq()==n.PARENT_MENU_SEQ},isItemParent:function(n){if(this.menuItems)for(var t=0,i=this.menuItems.length;t<i;t++)if(this.menuItems[t]===n)return!0;return!1},isDraggable:function(){return this.getState(this._IT_SELF,"opt.draggable")},clearDeselectAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer)},clearSelectAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer)},clearDropAcceptState:function(){this.setState(this._IT_SELF,"style.dropAccept",!0);this.setState("deleteButton","style.display",!1);this.ecview&&this.ecview.clearDropAcceptState()},removeDeleteButton:function(){this.setDeleteButtonState(!1)},deselectItem:function(){this.setActivatedAttrState(!1);this.hoverModeRestore()},hoverModeRestore:function(){this.hasFocus()||ecount.runtime.notify("menu.hoverModeRestore",this.ecPageID)},hasFocus:function(){return this.getState(this._IT_SELF,"opt.hasCursor")},hasChildren:function(){return this.menuItems&&!!this.menuItems.length},enableDraggable:function(){if(this.setState(this._IT_SELF,"opt.draggable",!0),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDraggable()},enableDroppable:function(){if(this.setState(this._IT_SELF,"opt.droppable",!0,!0),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDroppable()},enableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDragMode()},enableDeleteMode:function(){this.setState(this._IT_SELF,"opt.deleteMode",!0,!0);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].enableDeleteMode()},disableDraggable:function(){if(this.setState(this._IT_SELF,"opt.draggable",!1),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDraggable()},disableDroppable:function(){if(this.setState(this._IT_SELF,"opt.droppable",!1,!0),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDroppable()},disableDragMode:function(){this.setState(this._IT_SELF,"opt.dragMode",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDragMode()},disableDeleteMode:function(){this.setState(this._IT_SELF,"opt.deleteMode",!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].disableDeleteMode()},removeMenuItem:function(n){var t,i;this.menuItems&&this.menuItems.length&&(t=this.menuItems.findIndex(function(t){return t.getMenuId()===n.MENU_ID}),t>-1&&this.menuItems[t].hideFromMyMenu(),i=this.menuItems.all(function(n){return!n.getDisplayState()}),i&&this.hideFromMyMenu())},serialize:function(){var n=_.cloneDeep(this.menuData);return n.MENU_NM=n.MENU_NAME,n.SPREAD_YN=n.S_FLAG=="N"||n.FOLD_TYPE=="F"?"N":"Y",n.USE_YN=n.IS_MY_MENU,this.menuItems.length&&(n.children=this.menuItems.map(function(n,t){return _.extend(n.serialize(),{SORT:t})})),n},onSelectedHandler:function(){var n=ecount.menuCommand.item.getMouseoverTimeout(this);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.mouseoverTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setActivatedAttrState(!0)}.bind(this),n)},onDeselectedHandler:function(){var n=ecount.menuCommand.item.getMouseoutTimeout(this);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.mouseoutTimer=ecount.global.setTimeout(this.ecPageID,this.deselectItem.bind(this),n)},onDeselectedHoverModeRestore:function(){var n=ecount.menuCommand.item.getMouseoutTimeout(this);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);this.mouseoutTimer=ecount.global.setTimeout(this.ecPageID,this.hoverModeRestore.bind(this),n)},onSelectedActivationHandler:function(){},onMouseoverHandler:function(n,t,i){ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onDeleteButtonMouseoverHandler:function(n){this.isDraggable()&&this.getState(this._IT_SELF,"opt.deleteMode")&&(n.eventTriggerFromInterernalTarget||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showDeleteButtonTimer),this.showDeleteButtonTimer=ecount.global.setTimeout(this.ecPageID,this.setDeleteButtonState.bind(this,!0),this.showDeleteButtonTimeout)))},onDeleteButtonMouseoutHandler:function(n){this.getState(this._IT_SELF,"opt.deleteMode")&&(n.eventTriggerFromInterernalTarget||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.hideDeleteButtonTimer),this.hideDeleteButtonTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showDeleteButtonTimer),this.setDeleteButtonState(!1))}.bind(this),100)))},onMouseoutHandler:function(n,t,i){this.getClickedState()||ecount.menuCommand.item.mouseoutAction(this,n,t,i)},onClickHandler:function(n,t,i){if(this.getSelectedState()&&this.menuData.DEPTH=="3"&&!this._isFromChild(n,t,i)&&!n.ecRole&&!ecount.isResponsiveMode()||n.ecRole=="menu.navarrow"&&!ecount.isResponsiveMode()){this.onNavArrowClickHandler(n,t,i);return!1}if(this._isFromChild(n,t,i)){if(n.ecRole=="button.delete"){this.removeMenuItem(i.item);return}}else i.item||(i.item=this.getMenuData())},onNavArrowClickHandler:function(){},_initDefaultFunctions:function(n,t){t.functions.deleteButton={ecFunction:"button",cid:this.id,"style.display":!1}},_getMenuId:function(n){return""+n.MENU_SEQ},_getDomId:function(){return"ma"+this.menuData.MENU_SEQ},_getInitMenuData:function(n){return n},_getTargetUrl:function(n){return n.MENU_URL},_getDisplayState:function(){return!0},_getMenuDataAttrs:function(n){return _.extend({DEPTH:this.depth,MENU_ID:this._getMenuId(n),BODY_URL:this._getTargetUrl(n)},this.menuData)},_getDefaultNotDraggableMsg:function(){return""},_isFromChild:function(){return!1},isNewIconLayerUse:function(){var n=ecount&&ecount.isMobile===!1;return n&&!!~_.indexOf(document.body.classList,"responsive-web")&&(n=matchMedia("(min-width: 769px)").matches),n},showNewIconLayer:function(n,t,i){var r=this.isNewIconLayerUse();if(ecount.layer&&ecount.layer.dropdown&&r){var u=ecount.common.makeServiceKey(this.ecPath,n),f=t.classList.contains("nav-option")?$(t).find(".new-window")[0]:t,e={type:"dropdown",templateType:"droprightArrow",ecPageID:this.ecPageID,ownerKey:this.ecIKey,serviceKey:u,items:[{id:"newWindow",label:ecount.resource.LBL93000},{id:"newTab",label:ecount.resource.LBL20965}],dataItem:i,directionX:"right",_forcedDisplayPosition:"top",boundary:ec$.getZoomedBoundary(f)};ecount.layer.show(e)}},ON_MOUSEOVER:function(n,t,i,r){if(_.get(r,"item.DEPTH")!=2||this.depth!=1){this.onDeleteButtonMouseoverHandler(n,t,r);if(n.eventTriggerFromInternalTarget&&n.ecRole!="menu.newwindow"&&!r.item||(this.setState(this._IT_SELF,"opt.hasCursor",!0,!0),this.getState(this._IT_SELF,"opt.draggable"))||this.getState(this._IT_SELF,"opt.dragMode"))return!1;this.setState(this._IT_SELF,"opt.isHighlighted",!0);this.onMouseoverHandler(n,t,r);n.ecRole!="menu.newwindow"||r.item||this.showNewIconLayer(n.cid,t.target.parentElement,this.getMenuData());r.item=this.getMenuData()}},getCidByServiceKey:function(n){return n?n.split(ecount.popupIDDelimiter).pop():null},getServiceKey:function(n){if(n){if(n.hasAttribute("data-servicekey"))return n.getAttribute("data-servicekey");if(!!~Array.prototype.indexOf.call(n.classList,"arrow"))return n.parentElement.getAttribute("data-servicekey")}return null},ON_MOUSEOUT:function(n,t,i,r){var u,f;if(_.get(r,"item.DEPTH")!=2||this.depth!=1){this.onDeleteButtonMouseoutHandler(n,t,r);if((u=this.getServiceKey(t.relatedTarget),u&&(f=this.getCidByServiceKey(u),f===n.cid))||(ecount.layer.clear(),n.eventTriggerFromInternalTarget)||(this.setState(this._IT_SELF,"opt.hasCursor",!1,!0),this.getState(this._IT_SELF,"opt.draggable"))||this.getState(this._IT_SELF,"opt.dragMode"))return!1;this.setState(this._IT_SELF,"opt.isHighlighted",!1,!0);this.onMouseoutHandler(n,t,r);r.item=this.getMenuData()}},ON_CLICK:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;n.suspend=!0;return this.onClickHandler(n,t,r)},ON_MOUSEOUT_SERVICE:function(n,t,i,r){if(n.serviceKey){var u=this.getCidByServiceKey(n.serviceKey),f=t.relatedTarget&&t.relatedTarget.tagName=="A"&&t.relatedTarget.getAttribute("data-cid")===u;if(!n.eventTriggerFromInternalTarget&&!f&&(this.getFunction("newWinIcon")||this.getFunction("fn"))){this.setState(this._IT_SELF,"opt.hasCursor",!1,!0);this.setState(this._IT_SELF,"opt.isHighlighted",!1,!0);this.onMouseoutHandler(n,t,r);this.delegator&&this.delegator.triggerEvent("item.closeGruop",{menuData:this.menuData});this.delegator&&this.delegator.triggerEvent("section.menuPanelClose",{});ecount.menuCommand.item.mouseoutTrigger(this,n,t,r)}}},ON_CLICK_SERVICE:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;if(this.getFunction("newWinIcon")){this.setState(this._IT_SELF,"opt.hasCursor",!1,!0);this.setState(this._IT_SELF,"opt.isHighlighted",!1,!0);this.onMouseoutHandler(n,t,r);if(r&&r.originId){var u=this.getMenuItemByMenuId?this.getMenuItemByMenuId(r.controlID):this,f=u&&u.getMenuData();u&&f&&this.delegator&&(this.delegator&&this.delegator.triggerEvent("container.openNewSite",{selected:r.originId,menuData:f}),this.delegator&&this.delegator.triggerEvent("item.closeGruop",{menuData:f}),this.delegator&&this.delegator.triggerEvent("section.menuPanelClose",{}));ecount.menuCommand.item.mouseoutTrigger(this,n,t,r)}}},printLogState:function(){this._printLogState&&this._printLogState.apply(this,arguments)}},erp:{controlType:"widget.menuItem.erp",isRedirecedtMenu:function(n){return["123","130","145","149","154","759"].contains(n.MENU_SEQ)},isGwMenu:function(){var n=this._getMenuDataAttrs();return n.PRG_ID&&n.PRG_ID.indexOf("E07")==0},_getTargetUrl:function(n){return this.isRedirecedtMenu(n)?n.HELP_URL:n.MENU_URL},_getBoardCd:function(n){return n.MENU_SEQ>9e3&&n.MENU_URL?this._getBoardCodeInfoFromUrl(n.MENU_URL):""},_getDisplayState:function(n,t,i){return i.menuData.IS_MY_MENU!="N"},_getBoardCodeInfoFromUrl:function(n){var t=/(EGP004M)|(EGV004M)/gi.exec(n),i="",r;return t&&(r=n.split("?")[1].split("&"),t.shift(),(t[0]||t[1])&&(i=r[0].split("=")[1])),i}},depth1:{controlType:"widget.menuItem.depth1",viewName:"widget.view.menuItem.depth1",depth:1,onInitState:function(n,t,i){ecount.control.menu.item.prototype.onInitState.apply(this,arguments);_.extend(this.__state,this._getDefaultItemState(n,t,i),{"style.align":"center"})},getParentMenuId:function(){return""},onMouseoutHandler:function(n,t,i){ecount.menuCommand.item.mouseoutAction(this,n,t,i)},_getMenuDataAttrs:function(){return _.extend({DEPTH:this.depth,MENU_ID:this._getMenuId(this.menuData),BODY_URL:this._getTargetUrl(this.menuData)},this.menuData,this._getDepth1Attrs(this.menuData))},_getDepth1Attrs:function(){return{}}},depth2:{controlType:"widget.menuItem.depth2",viewName:"widget.view.menuItem.depth2",anchorMouseoverTimer:null,anchorMouseoutTimer:null,anchorMouseoverTimeout:ecount.common.mouseHoverInTime,anchorMouseoutTimeout:ecount.common.mouseHoverOutTime,depth:2,getParentMenuId:function(){return this._getMenuDataAttrs().PARENT_MENU_SEQ},deselectItem:function(){this.setActivatedAttrState(!1);ecount.runtime.notify("menu.section2.deselectItem",this.ecPageID,{ecPageID:this.ecPageID,item:this.getMenuData()})},onAnchorMouseoverHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoutTimer);this.anchorMouseoverTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setState(this._IT_SELF,"opt.anchorSelected",!0)}.bind(this),this.anchorMouseoverTimeout)},onAnchorMouseoutHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoutTimer);this.anchorMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setState(this._IT_SELF,"opt.anchorSelected",!1)}.bind(this),this.anchorMouseoutTimeout)},onMouseoverHandler:function(n,t,i){n.ecRole=="menu.anchor"&&ecount.menuCommand.item.anchorMouseoverAction(this,n,t,i);ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){this.getClickedState()||(n.ecRole=="menu.anchor"&&ecount.menuCommand.item.anchorMouseoutAction(this,n,t,i),ecount.menuCommand.item.mouseoutAction(this,n,t,i))},_getMenuHash:function(){return["#menuType=",this.menuData.MENU_TYPE,"&menuSeq=",this.menuData.MENU_SEQ,"&groupSeq=",this.menuData.MENU_SEQ,"&prgId=",this.menuData.PRG_ID].join("")},_getMenuDataAttrs:function(){var n=this.menuData;return _.extend({},n,{DEPTH:this.depth,MENU_ID:this._getMenuId(n),MENU_TYPE:n.PARENT_MENU_SEQ,BODY_URL:this._getTargetUrl(n)},this._getDepth2Attrs(n))},_getDepth2Attrs:function(n){return{GROUP_SEQ:n.MENU_SEQ}}},depth3:{controlType:"widget.menuItem.depth3",viewName:"widget.view.menuItem.depth3",listedItemMouseoverTimer:null,listedItemMouseoutTimer:null,showNewWinIconTimer:null,hideNewWinIconTimer:null,listedItemMouseoverTimeout:ecount.common.mouseHoverInTime,listedItemMouseoutTimeout:ecount.common.mouseHoverOutTime,showNewWinIconTimeout:ecount.common.LAYER_DISAPPEAR_DELAY_400,depth:3,initializeTimeout:function(){ecount.control.menu.item.prototype.initializeTimeout.apply(this,arguments);_.extend(this,{listedItemMouseoverTimeout:this.listedItemMouseoverTimeout,listedItemMouseoutTimeout:this.listedItemMouseoutTimeout,showNewWinIconTimeout:this.showNewWinIconTimeout})},onInitState:function(n,t,i){ecount.control.menu.item.prototype.onInitState.apply(this,arguments);var r=this._getIsClosedState(n,t,i);_.extend(this.__state,this._getDefaultItemState(n,t,i),{"attr.isClosed":this.getMenuUIType()==="3"?!0:r,"opt.isClosed":r,"opt.liSelected":!1})},getParentMenuId:function(){return this._getMenuDataAttrs().PARENT_MENU_SEQ},getChild:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t],n(i))return i},getMenuItem:function(n){return this.menuItems[n]},getVisibleMenuItemByIndex:function(n){return this.menuItems.filter(function(n){return n.getDisplayState()})[n]},getVisibleMenuItemCount:function(){return this.menuItems.filter(function(n){return n.getDisplayState()}).length},getSelectedItem:function(){return this.menuItems.find(function(n){return n.getSelectedState()})},getHighlightedItem:function(){return this.menuItems.find(function(n){return n.getHighlightedState()})},getMenuItemByBodyUrl:function(n){var t=this._getMatchedChildren(function(t){return t.getMenuDataAttrs().BODY_URL==n});return t?t:this._getMenuDataAttrs().BODY_URL==n?this:void 0},getMenuItemByMatch:function(n){var t=this._getMatchedChildren(function(t){return _.isMatch(t.getMenuDataAttrs(),n)});return t?t:_.isMatch(this.getMenuDataAttrs(),n)?this:void 0},getMenuItemByMenuId:function(n){return this.getMenuId()==n?this:this.getChild(function(t){return t.getMenuId()==n})},getMenuItemByMenuSeq:function(n){return this._getMenuDataAttrs().MENU_SEQ==n?this:this.getChild(function(t){return t.getMenuSeq()==n})},getMenuItemByPrgId:function(n){return!this.menuItems.length&&this._getMenuDataAttrs().PRG_ID==n?this:this.getChild(function(t){return t.getPrgId()==n})},getMenuItemByMenuUrl:function(n){return!this.menuItems.length&&this._getMenuDataAttrs().MENU_URL==n?this:this.getChild(function(t){return t.getBodyUrl()==n})},getMenuItemByPrgId:function(n){return this._getMenuDataAttrs().PRG_ID==n?this:this.getChild(function(t){return t.getMenuDataAttrs().PRG_ID==n})},getMenuIndexByMenuId:function(n){var t;return this.getChild(function(i,r){if(i.getMenuId()==n){t=r;return}}),t},getChildrenCount:function(){return this.menuItems.length},getListSelectedOptState:function(){return this.getState(this._IT_SELF,"opt.liSelected")},getClosedAttrState:function(){return this.getState(this._IT_SELF,"attr.isClosed")},getClosedOptState:function(){return this.getState(this._IT_SELF,"opt.isClosed")},setActivatedState:function(n){this.setListSelectedOptState(n);this.setClosedAttrState(!n);this.setActivatedAttrState(n)},setListSelectedOptState:function(n,t){this.setState(this._IT_SELF,"opt.liSelected",n,t)},setClosedAttrState:function(n){this.setState(this._IT_SELF,"attr.isClosed",n)},setChildrenContainerScroll:function(){this.menuItems&&_.isArray(this.menuItems)&&this.menuItems.length>0&&this.ecview&&this.ecview&&this.ecview.setChildrenContainerScroll()},setNewWinIconState:function(n){this.getFunction("newWinIcon")&&this.setState("newWinIcon","style.display",n)},setClickedState:function(n,t){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);n&&!t&&this.setClosedAttrState(!1);this.setListSelectedOptState(n,!0);this.setState(this._IT_SELF,"opt.isClicked",n,!0);this.setActivatedAttrState(n)},setChildClickedStateById:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setClickedState(i.getMenuId()==n)},setChildClickedStateByUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setClickedState(i.getBodyUrl()==n)},setChildClickedStateByMatch:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setClickedState(_.isMatch(i.getMenuDataAttrs(),n))},activateMenuItem:function(n,t){for(var r=0,f=this.menuItems.length,i,u;r<f;r++)i=this.menuItems[r],u=n.MENU_ID==i.getMenuDataAttrs().MENU_ID,t?i.setClickedState(u):i.setActivatedState(u)},deselectItem:function(){this.setActivatedAttrState(!1);this.getFunction("newWinIcon")&&this.setState("newWinIcon","style.display",!1)},hasFocus:function(){return this.getState(this._IT_SELF,"opt.hasCursor")&&this.menuItems.any(function(n){return n.hasFocus()})},hasEditGuideIndex:function(){var n=this.getEditGuideIndex();return!!(n>-1)},hasChildren:function(){return!!this.__state.functions.navArrow},removeDeleteButton:function(){this.setDeleteButtonState(!1);for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].setDeleteButtonState(!1)},hideFromMyMenu:function(){for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].hideFromMyMenu();this.setState(this._IT_SELF,"style.display",!1);this.menuData.IS_MY_MENU="N"},clearDeselectAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoutTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoutTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoutTimer)},clearSelectAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.mouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.anchorMouseoverTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoverTimer)},clearDropAcceptState:function(){if(this.setState(this._IT_SELF,"style.dropAccept",!0),this.setState("deleteButton","style.display",!1),this.ecview&&this.ecview.clearDropAcceptState(),this.menuItems)for(var n=0,t=this.menuItems.length;n<t;n++)this.menuItems[n].clearDropAcceptState()},deactivateMenuItems:function(){for(var t=0,i=this.menuItems.length,n;t<i;t++)n=this.menuItems[t],n.clearSelectAction(),n.setSelectedState(!1),n.setClickedState(!1)},clickedItemMouseoutHandler:function(){ecount.global.setTimeout(this.ecPageID,function(){var n=this.menuItems.any(function(n){return n.hasFocus()}),t=this.getState(this._IT_SELF,"opt.hasCursor");n||t||this.setClosedAttrState(!0)}.bind(this),ecount.common.mouseHoverInTime)},onNewWinIconMouseoverHandler:function(){this.getFunction("newWinIcon")&&(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showNewWinIconTimer),this.showNewWinIconTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setNewWinIconState(!0)}.bind(this),this.showNewWinIconTimeout))},onNewWinIconMouseoutHandler:function(){this.getFunction("newWinIcon")&&(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.hideNewWinIconTimer),this.hideNewWinIconTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showNewWinIconTimer),this.setNewWinIconState(!1))}.bind(this)))},onListedItemMouseoverHandler:function(){if(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoverTimer),ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoutTimer),this.getMenuUIType()!=="3"){if(this.getState(this._IT_SELF,"opt.liSelected"))return;if(this.getState(this._IT_SELF,"opt.isClicked"))return}(!this.menuItems.length||this.getState(this._IT_SELF,"attr.isClosed"))&&(this.listedItemMouseoverTimer=ecount.global.setTimeout(this.ecPageID,function(){ecount.menuCommand.item.listOpenAction(this)}.bind(this),this.listedItemMouseoverTimeout))},onListedItemMouseoutHandler:function(){(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoverTimer),ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoutTimer),this.getState(this._IT_SELF,"opt.liSelected"))&&(this.menuItems.length&&this.getState(this._IT_SELF,"attr.isClosed")||(this.listedItemMouseoutTimer=ecount.global.setTimeout(this.ecPageID,function(){ecount.menuCommand.item.listCloseAction(this)}.bind(this),this.listedItemMouseoutTimeout)))},onMouseoverHandler:function(n,t,i){if(this._isFromChild(n,t,i)){this._stopMouseoutAction(n,t,i);this.setState(this._IT_SELF,"opt.isHighlighted",!1);return}this.onNewWinIconMouseoverHandler(n,t,i);ecount.menuCommand.item.listedItemMouseoverAction(this,n,t,i);ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){this.onNewWinIconMouseoutHandler(n,t,i);if(this.getClickedState())return ecount.menuCommand.item.clickedItemMouseoutAction(this,n,t,i);ecount.menuCommand.item.listedItemMouseoutAction(this,n,t,i);ecount.menuCommand.item.mouseoutAction(this,n,t,i)},onNavArrowClickHandler:function(){var n=ecount.menuCommand.item.getListClosedState(this);n?ecount.menuCommand.item.listOpenAction(this):ecount.menuCommand.item.listCloseAction(this);this.setListSelectedOptState(!1)},_initDefaultFunctions:function(n,t){if(this.menuItems&&this.menuItems.length)this.onInitArrowButtonFunction(t);else t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1};t.functions.deleteButton={ecFunction:"button",cid:this.id,"style.display":!1}},_getIsClosedState:function(n,t,i){return i.menuData.S_FLAG=="N"||i.menuData.FOLD_TYPE=="F"},_getMenuItems:function(n){var t=widget.generator.control();return n._dataItems.map(this._getChildItem.bind(this,t,n.menuData))},_getChildItem:function(n,t,i,r){return n.define(this._getChildCtrlType(i),i.MENU_SEQ,i.MENU_SEQ).setOptions(_.extend({index:r,menuData:_.extend(i,this._getChildAttrs(t,i))},this._getItemData())).getInstance()},_getItemData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,mouseoutTimeout:this.mouseoutTimeout,comInfo:this.comInfo,versionData:this.versionData,isMasterUser:this.isMasterUser}},_getMenuDataAttrs:function(){var n=this.menuData;return _.extend({},n,{MENU_ID:this._getMenuId(n),BODY_URL:this._getTargetUrl(n),HAS_CHILD:this.menuItems&&this.menuItems.length},this._getDepth3Attrs(n))},_getDepth3Attrs:function(n){return{MENU_TYPE:n.MENU_TYPE,GROUP_SEQ:n.PARENT_MENU_SEQ}},_getChildCtrlType:function(){return"widget.menuItem.depth4"},_getMatchedChildren:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)if(i=this.menuItems[t],n(i))return i},_getChildAttrs:function(n){return{PARENT_MENU_ID:this._getMenuId(n),PARENT_MENU_SEQ:n.MENU_SEQ,MENU_TYPE:n.MENU_TYPE,GROUP_SEQ:n.PARENT_MENU_SEQ,DEPTH:this.depth+1}},_isFromChild:function(n,t,i){return i&&i.item&&i.item.PARENT_MENU_SEQ==this.menuData.MENU_SEQ},_stopMouseoutAction:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.listedItemMouseoutTimer)},_printLogState:function(n,t){console.log("%c === printLogState %o === \n - controlType : [%o]\n - id : [%o]\n - name : [%o]\n - opt.isClicked (클릭 상태) : [%o]\n - attr.selected (선택 상태) : [%o]\n - opt.liSelected (마우스 오버로 열린 상태) : [%o]\n - attr.isClosed (뷰 닫힘 상태) : [%o]\n - opt.isClosed (닫힘 상태 설정값) : [%o]","color: "+(t||"green")+";",n||"none",this.controlType,this.id,this.menuData?this.menuData.MENU_NAME||" - ":" - ",this.getClickedState(),this.getSelectedState(),this.getListSelectedOptState(),this.getClosedAttrState(),this.getClosedOptState())}},depth4:{controlType:"widget.menuItem.depth4",viewName:"widget.view.menuItem.depth4",showNewWinIconTimer:null,hideNewWinIconTimer:null,showNewWinIconTimeout:ecount.common.LAYER_DISAPPEAR_DELAY_400,depth:4,initializeTimeout:function(){ecount.control.menu.item.prototype.initializeTimeout.apply(this,arguments);_.extend(this,{listedItemMouseoverTimeout:this.listedItemMouseoverTimeout,listedItemMouseoutTimeout:this.listedItemMouseoutTimeout,showNewWinIconTimeout:this.showNewWinIconTimeout,showFnTimeout:this.showFnTimeout})},onInitFunctions:function(n,t){ecount.control.menu.item.prototype.onInitFunctions.apply(this,arguments);t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1};t.functions.deleteButton={ecFunction:"button",cid:this.id,"style.display":!1}},getParentMenuId:function(){var n=this._getMenuDataAttrs();return n.PARENT_MENU_ID||n.PARENT_MENU_SEQ},setNewWinIconState:function(n){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showNewWinIconTimer);ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.hideNewWinIconTimer);this.setState("newWinIcon","style.display",n)},deselectItem:function(){this.setActivatedAttrState(!1);this.setState("newWinIcon","style.display",!1);this.setState("fn","style.display",!1)},onNewWinIconMouseoverHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showNewWinIconTimer);this.showNewWinIconTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setState("newWinIcon","style.display",!0)}.bind(this),this.showNewWinIconTimeout)},onNewWinIconMouseoutHandler:function(){this.hideNewWinIconTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showNewWinIconTimer),this.setState("newWinIcon","style.display",!1))}.bind(this))},onMouseoverHandler:function(n,t,i){this.onNewWinIconMouseoverHandler(n,t,i);ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){this.onNewWinIconMouseoutHandler(n,t,i);this.getClickedState()||ecount.menuCommand.item.mouseoutAction(this,n,t,i)},_getMenuDataAttrs:function(){var n=this.menuData;return _.extend({},n,{DEPTH:this.depth,GROUP_SEQ:n.GROUP_SEQ||"00000",BODY_URL:this._getTargetUrl(n)},this._getDepth4Attrs(n))},_getDepth4Attrs:function(n){return{MENU_ID:n.MENU_SEQ}}},erpDepth1:{controlType:"widget.menuItem.erpDepth1",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth1"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:n.MENU_TYPE,MENU_SEQ:n.MENU_SEQ}}},erpDepth2:{controlType:"widget.menuItem.erpDepth2",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth2"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:n.MENU_TYPE,MENU_SEQ:n.MENU_SEQ,GROUP_SEQ:n.MENU_SEQ}}},erpDepth3:{controlType:"widget.menuItem.erpDepth3",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth3"],_getChildCtrlType:function(){return"widget.menuItem.erpDepth4"},_getTargetUrl:function(n){if(this.menuItems&&this.menuItems.length){var t=this.menuItems.find(function(t){return t.getMenuDataAttrs().BODY_URL==n.MENU_URL}.bind(this));if(!t)return this.menuItems[0].getMenuDataAttrs().BODY_URL}return n.MENU_URL}},erpDepth4:{controlType:"widget.menuItem.erpDepth4",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth4"]},erpMyPageDepth1:{controlType:"widget.menuItem.erpMyPageDepth1",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth1","widget.menuItem.erpDepth1"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:ecount.menu.myPageType,MENU_SEQ:n.SUB_MENU==ecount.menu.noChildMyPageUrl?ecount.menu.myPageSubMenuSeq:0,GROUP_SEQ:n.MENU_SEQ}},isChildMenuData:function(n){return n.MENU_TYPE==ecount.menu.myPageType}},erpMyPageDepth2:{controlType:"widget.menuItem.erpMyPageDepth2",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth2","widget.menuItem.erpDepth2"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:ecount.menu.myPageType,MENU_SEQ:n.MENU_SEQ,GROUP_SEQ:n.GROUP_SEQ}},isChildMenuData:function(n){return this.getMenuDataAttrs().GROUP_SEQ==n.GROUP_SEQ},isDraggable:function(){return!1},_getDefaultNotDraggableMsg:function(){return ecount.resource.MSG09693},_getMenuId:function(n){return[ecount.menu.prefixMp,n.MENU_SEQ].join("_")},_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,MENU_ID:this._getMenuId(n),GROUP_SEQ:n.MYPAGE_GROUP_SEQ,GROUP_NM:n.MENU_NAME,PARENT_MENU_SEQ:ecount.menu.myPageType}}},erpMyPageDepth3:{controlType:"widget.menuItem.erpMyPageDepth3",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth3","widget.menuItem.erpDepth3"],prefixMp:ecount.menu.prefixMp,render:function(){(this.menuData.PARENT_MENU_SEQ!=ecount.menu.myPageSubMenuSeq||this.menuData.M_CNT!=0)&&ecount.control.menu.item.prototype.render.apply(this,arguments)},getParentMenuId:function(){return[this.prefixMp,this.menuData.PARENT_MENU_SEQ].join("_")},isDraggable:function(){return!1},_getDefaultNotDraggableMsg:function(){return ecount.resource.MSG09693},_getChildCtrlType:function(){return"widget.menuItem.erpMyPageDepth4"},_getMenuId:function(n){return[this.prefixMp,n.MENU_SEQ].join("_")},_getIsClosedState:function(n,t,i){var r=!1;return i.index!=0&&i.menuData.MENU_SEQ!="604"&&(r=i.menuData.S_FLAG=="N"||i.menuData.FOLD_TYPE=="F"),r},_getDepth3Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,PARENT_MENU_SEQ_ORG:n.PARENT_MENU_SEQ==ecount.menu.myPageSubMenuSeq&&$.isEmpty(n.PARENT_MENU_SEQ_ORG)?ecount.menu.noChildMyPageUrl:n.PARENT_MENU_SEQ_ORG}},_getChildAttrs:function(n){return{PARENT_MENU_ID:this._getMenuId(n),PARENT_MENU_SEQ:n.MENU_SEQ,MENU_TYPE:n.MENU_TYPE,GROUP_SEQ:n.GROUP_SEQ,DEPTH:this.depth+1}}},erpMyPageDepth4:{controlType:"widget.menuItem.erpMyPageDepth4",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth4","widget.menuItem.erpDepth4"],prefixMp:ecount.menu.prefixMp,getGroupSeq:function(){return this.menuData.GROUP_SEQ},isDraggable:function(){return!1},_getMenuId:function(n){return[ecount.menu.prefixMp,n.MENU_SEQ].join("_")},_getDepth4Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,MENU_ID:this._getMenuId(n)}},_getTargetUrl:function(n){return n.MENU_URL},_getDefaultNotDraggableMsg:function(){return ecount.resource.MSG09693}},erpGroupwareDepth1:{controlType:"widget.menuItem.erpGroupwareDepth1",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth1","widget.menuItem.erpDepth1"]},erpGroupwareDepth2:{controlType:"widget.menuItem.erpGroupwareDepth2",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth2","widget.menuItem.erpDepth2"],_getMenuId:function(n){return[ecount.menu.prefixGw,n.MENU_SEQ].join("_")},_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.gwType,GROUP_SEQ:n.MENU_SEQ,MENU_ID:this._getMenuId(n)}}},erpGroupwareDepth3:{controlType:"widget.menuItem.erpGroupwareDepth3",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth3","widget.menuItem.erpDepth3"],prefixGw:ecount.menu.prefixGw,getParentMenuId:function(){return[this.prefixGw,this.menuData.MENU_CD].join("_")},isDraggable:function(){return this.getState(this._IT_SELF,"opt.draggable")&&!this.projectMenuMenuCdRegex.test(this.menuData.MENU_CD)},_getChildCtrlType:function(){return"widget.menuItem.erpGroupwareDepth4"},_getMenuId:function(n){return[this.prefixGw,n.MENU_SEQ,n.MENU_CD].join("_")},_getDepth3Attrs:function(n){return{MENU_TYPE:ecount.menu.gwType,BOARD_CD:this._getBoardCd(n)}},_getChildAttrs:function(n){return{PARENT_MENU_ID:this._getMenuId(n),PARENT_MENU_SEQ:n.MENU_SEQ,DEPTH:this.depth+1}},_getDefaultNotDraggableMsg:function(){return ecount.resource.MSG09694}},erpGroupwareDepth4:{controlType:"widget.menuItem.erpGroupwareDepth4",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth4","widget.menuItem.erpDepth4"],isDraggable:function(){return this.getState(this._IT_SELF,"opt.draggable")&&!this.projectMenuMenuCdRegex.test(this.menuData.MENU_CD)},_getMenuId:function(n){return[ecount.menu.prefixGw,n.MENU_SEQ,n.MENU_CD].join("_")},_getDepth4Attrs:function(){var n=this.menuData;return _.extend({},n,{MENU_TYPE:ecount.menu.gwType,MENU_ID:this._getMenuId(n),BOARD_CD:this._getBoardCd(n)})},_getDefaultNotDraggableMsg:function(){return ecount.resource.MSG09694}},erpMyPageOnlyDepth1:{controlType:"widget.menuItem.erpMyPageOnlyDepth1",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth1","widget.menuItem.erpDepth1","widget.menuItem.erpMyPageDepth1"]},erpMyPageOnlyDepth2:{controlType:"widget.menuItem.erpMyPageOnlyDepth2",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth2","widget.menuItem.erpDepth2","widget.menuItem.erpMyPageDepth2"]},erpMyPageOnlyDepth3:{controlType:"widget.menuItem.erpMyPageOnlyDepth3",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth3","widget.menuItem.erpDepth3","widget.menuItem.erpMyPageDepth3"],_getChildCtrlType:function(){return"widget.menuItem.erpMyPageOnlyDepth4"}},erpMyPageOnlyDepth4:{controlType:"widget.menuItem.erpMyPageOnlyDepth4",__mixins:["widget.menuItem.common","widget.menuItem.erp","widget.menuItem.depth4","widget.menuItem.erpDepth4","widget.menuItem.erpMyPageDepth4"]},cs:{controlType:"widget.menuItem.cs",isGwMenu:function(){var n=this._getMenuDataAttrs();return n.PRG_ID&&n.PRG_ID.indexOf("E07")==0},_getTargetUrl:function(n){return n.MENU_URL},_getBoardCd:function(n){return n.MENU_SEQ>9e3&&n.MENU_URL?this._getBoardCodeInfoFromUrl(n.MENU_URL):""},_getBoardCodeInfoFromUrl:function(n){var t=/(EGP004M)|(EGV004M)/gi.exec(n),i="",r;return t&&(r=n.split("?")[1].split("&"),t.shift(),(t[0]||t[1])&&(i=r[0].split("=")[1])),i}},csDepth1:{controlType:"widget.menuItem.csDepth1",__mixins:["widget.menuItem.common","widget.menuItem.cs","widget.menuItem.depth1"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:n.MENU_TYPE,MENU_SEQ:n.MENU_SEQ}},_getDepth1Attrs:function(){return{MENU_TYPE:ecount.menu.myPageType}}},csDepth2:{controlType:"widget.menuItem.csDepth2",__mixins:["widget.menuItem.common","widget.menuItem.cs","widget.menuItem.depth2"],getAPIParam:function(){var n=this._getMenuDataAttrs();return{MENU_TYPE:n.MENU_TYPE,MENU_SEQ:n.MENU_SEQ,GROUP_SEQ:n.MENU_SEQ}},_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.MYPAGE_GROUP_SEQ,GROUP_NM:n.MENU_NAME}}},csDepth3:{controlType:"widget.menuItem.csDepth3",__mixins:["widget.menuItem.common","widget.menuItem.cs","widget.menuItem.depth3"],_getChildCtrlType:function(){return"widget.menuItem.csDepth4"},_getDepth3Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.PARENT_MENU_SEQ_ORG}},_getChildAttrs:function(n){return{PARENT_MENU_ID:this._getMenuId(n),PARENT_MENU_SEQ:n.MENU_SEQ,GROUP_SEQ:n.PARENT_MENU_SEQ_ORG,DEPTH:this.depth+1}}},csDepth4:{controlType:"widget.menuItem.csDepth4",__mixins:["widget.menuItem.common","widget.menuItem.cs","widget.menuItem.depth4"],_getDepth4Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,MENU_ID:this._getMenuId(n)}}},webMail:{controlType:"widget.menuItem.webMail",showFnTimer:null,hideFnTimer:null,showFnTimeout:ecount.common.mouseHoverInTime,_getTargetUrl:function(n){return this.getDecodedUrl(n.MENU_URL)},getParameterNameWithMBoxName:function(n,t){var i=t?this.getDecodedUrl(n):n;return~i.indexOf("&")?i.split("&")[0]:i},getDecodedUrl:function(n){return decodeURI(n)},updateCountLabel:function(){},displayFnDynamicView:function(){},ON_MOUSEOVER:function(n,t,i,r){if(n.eventTriggerFromInternalTarget&&n.ecRole!="menu.newwindow"&&!r.item)return!1;this.setState(this._IT_SELF,"opt.hasCursor",!0,!0);this.onMouseoverHandler(n,t,r);n.ecRole!="menu.newwindow"||r.item||this.showNewIconLayer(n.cid,t.target.parentElement,this.getMenuData());r.item=this.getMenuData()},ON_MOUSEOUT:function(n,t,i,r){var u=this.getServiceKey(t.relatedTarget),f;if(u&&(f=this.getCidByServiceKey(u),f===n.cid)||(ecount.layer.clear(),n.eventTriggerFromInternalTarget))return!1;this.setState(this._IT_SELF,"opt.hasCursor",!1,!0);this.onMouseoutHandler(n,t,r);r.item=this.getMenuData()}},webMailDepth1:{controlType:"widget.menuItem.webMailDepth1",viewName:"widget.view.menuItem.webMailDepth1",__mixins:["widget.menuItem.common","widget.menuItem.webMail","widget.menuItem.depth1"],ON_CLICK:function(n){n.suspend=!0;return}},webMailDepth2:{controlType:"widget.menuItem.webMailDepth2",viewName:"widget.view.menuItem.webMailDepth2",__mixins:["widget.menuItem.common","widget.menuItem.webMail","widget.menuItem.depth2"],_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.MYPAGE_GROUP_SEQ}},_getMenuHash:function(){return["#menuType=",this.menuData.MENU_TYPE,"&menuSeq=",this.menuData.MENU_SEQ,"&groupSeq=",this.menuData.MYPAGE_GROUP_SEQ,"&prgId=",this.menuData.PRG_ID].join("")},setChildClickedStateByUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setClickedState(this.getParameterNameWithMBoxName(i.getBodyUrl(),!0)==this.getParameterNameWithMBoxName(n))},onMouseoverHandler:function(){this.setActivatedAttrState(!0)},onMouseoutHandler:function(){this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1)}},webMailDepth3:{controlType:"widget.menuItem.webMailDepth3",viewName:"widget.view.menuItem.webMailDepth3",__mixins:["widget.menuItem.common","widget.menuItem.webMail","widget.menuItem.depth3"],_initDefaultFunctions:function(n,t){this.menuItems&&(this.menuItems.length||this.menuData.IS_POPUP_TYPE==="Y")||(t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1});t.functions.navArrow={ecFunction:"button",cid:this.id,"style.display":_.isArray(this.menuItems)&&this.menuItems.length?!0:!1};t.functions.countLabel={ecFunction:"label",cid:this.id,"style.display":!1,value:""}},initializeViewOptions:function(n){$.extend(this.__viewOptions,{dataItems:n._dataItems||[]})},_getChildItem:function(n,t,i,r){if(n.define(this._getChildCtrlType(i),i.MENU_SEQ,i.MENU_SEQ).setOptions(_.extend({index:r,menuData:_.extend(i,this._getChildAttrs(t,i))},this._getItemData())),i.HAS_FUNCTION&&(i.PRG_ID.indexOf("Mail-General")>-1||i.PRG_ID.indexOf("Mail-MyInbox")>-1||i.PRG_ID.indexOf("MyContact")>-1||i.PRG_ID.indexOf("SharedContact")>-1)){var u=[];if(i.PRG_ID.indexOf("Mail-General")>-1)switch(i.PRG_ID.split("Mail-General-")[1]){case"INBOX":case"Sent":u=[{id:"backup",label:ecount.resource.LBL70303},{id:"delete",label:ecount.resource.LBL70321},];break;case"Drafts":case"Junk":case"Trash":u=[{id:"delete",label:ecount.resource.LBL70321},]}else i.PRG_ID.indexOf("Mail-MyInbox")>-1?u=[{id:"modify",label:ecount.resource.LBL08015},{id:"backup",label:ecount.resource.LBL70303},{id:"delete",label:ecount.resource.LBL70321},]:(i.PRG_ID.indexOf("MyContact")>-1||i.PRG_ID.indexOf("SharedContact")>-1)&&(u=[{id:"modifyAddr",label:ecount.resource.LBL08015},]);u.length&&n.hasFn(u)}return n.getInstance()},_getChildCtrlType:function(){return"widget.menuItem.webMailDepth4"},_getDepth3Attrs:function(){return{MENU_TYPE:ecount.menu.myPageType}},setChildClickedStateByUrl:function(n){for(var t=0,r=this.menuItems.length,i;t<r;t++)i=this.menuItems[t],i.setClickedState(this.getParameterNameWithMBoxName(i.getBodyUrl(),!0)==this.getParameterNameWithMBoxName(n))},getMenuItemByBodyUrl:function(n){var t=this._getMatchedChildren(function(t){return t.getParameterNameWithMBoxName(t.getBodyUrl(),!0)==this.getParameterNameWithMBoxName(n)}.bind(this));return t?t:this.getParameterNameWithMBoxName(this.getBodyUrl(),!0)==this.getParameterNameWithMBoxName(n)?this:void 0},getLayerFnOption:function(){var n=ecount.control.menu.prototype.getLayerFnOption.apply(this,arguments);return _.extend(n,{mouseoverClass:"on"})},updateCountLabel:function(n){this.setState("countLabel","value",n);n?this.setCountLabelState(!0):this.setCountLabelState(!1)},setCountLabelState:function(n){this.getFunction("countLabel")&&(!n||this.getState("countLabel","value"))&&this.setState("countLabel","style.display",n)},onCountLabelMouseoverHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showCountLabelTimer);this.showCountLabelTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setCountLabelState(!1)}.bind(this),this.showCountLabelTimeout)},onCountLabelMouseoutHandler:function(){this.hideCountLabelTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showCountLabelTimer),this.setCountLabelState(!0))}.bind(this))},onSelectedHandler:function(){this.setActivatedAttrState(!0)},onSelectedActivationHandler:function(n,t,i){this.setActivatedAttrState(!0);this.onCountLabelMouseoverHandler(n,t,i);if(this.getFunction("fn"))this.setState("fn","style.display",!0);else this.onNewWinIconMouseoverHandler(n,t,i)},onMouseoverHandler:function(n,t,i){if(this._isFromChild(n,t,i)){this._stopMouseoutAction(n,t,i);return}ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){if(this.getFunction("fn")&&this.getState("fn","style.display")&&this.setState("fn","style.display",!1),this.getClickedState())return ecount.menuCommand.item.clickedItemMouseoutAction(this,n,t,i);this._isFromChild(n,t,i)||this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1);this.onCountLabelMouseoutHandler(n,t,i);this.onNewWinIconMouseoutHandler(n,t,i)},onClickHandler:function(n,t,i){if(n.ecFunction=="fn")return this._showLayer(n,t,{showingUpDelay:0}),!1;if(this.getSelectedState()&&this.menuData.DEPTH=="3"&&!this._isFromChild(n,t,i)&&!n.ecRole||n.ecRole=="menu.navarrow"){this.onNavArrowClickHandler(n,t,i);return!1}this._isFromChild(n,t,i)||(i.item=this.getMenuData())},_ON_BEFORE_FOCUSIN:function(n,t,i,r){if(this._isFromChild(n,t,r))return!1},ON_CLICK_SERVICE:function(n,t,i,r){if(this.getFunction("newWinIcon")&&!!~_.indexOf(["newTab","newWindow"],n.ecFunctionId)){if(r&&r.originId){var u=this.getMenuItemByMenuId?this.getMenuItemByMenuId(r.controlID):this,f=u&&u.getMenuData();u&&f&&this.delegator&&this.delegator&&this.delegator.triggerEvent("container.openNewSite",{selected:r.originId,menuData:f})}}else ecount.runtime.notify("menu.clickFunction",this.ecPageID,_.extend({},n,this.getMenuDataAttrs()))}},webMailDepth4:{controlType:"widget.menuItem.webMailDepth4",viewName:"widget.view.menuItem.webMailDepth4",__mixins:["widget.menuItem.common","widget.menuItem.webMail","widget.menuItem.depth4"],onInitFunctions:function(n,t){ecount.control.menu.item.prototype.onInitFunctions.apply(this,arguments);t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1};t.functions.countLabel={ecFunction:"label",cid:this.id,"style.display":!1,value:""}},_getDepth4Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,MENU_ID:n.MENU_SEQ,GROUP_SEQ:n.MYPAGE_GROUP_SEQ}},_getMenuHash:function(){return["#menuType=",this.menuData.MENU_TYPE,"&menuSeq=",this.menuData.MENU_SEQ,"&groupSeq=",this.menuData.MYPAGE_GROUP_SEQ,"&prgId=",this.menuData.PRG_ID].join("")},getMenuItemByBodyUrl:function(n){if(this.getParameterNameWithMBoxName((this.getBodyUrl(),!0)==this.getParameterNameWithMBoxName(n)))return this},updateCountLabel:function(n){this.setState("countLabel","value",n);n?this.setState("countLabel","style.display",!0):this.setState("countLabel","style.display",!1)},setCountLabelState:function(n){this.getFunction("countLabel")&&(!n||this.getState("countLabel","value"))&&this.setState("countLabel","style.display",n)},onCountLabelMouseoverHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showCountLabelTimer);this.showCountLabelTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setCountLabelState(!1)}.bind(this),this.showCountLabelTimeout)},onCountLabelMouseoutHandler:function(){this.hideCountLabelTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showCountLabelTimer),this.setCountLabelState(!0))}.bind(this))},onSelectedActivationHandler:function(n,t,i){this.onCountLabelMouseoverHandler(n,t,i);this.onNewWinIconMouseoverHandler(n,t,i);this.onFnMouseoverHandler(n,t,i)},onMouseoverHandler:function(n,t,i){return ecount.menuCommand.item.mouseoverAction(this,n,t,i),this.setActivatedAttrState(!0),!1},onMouseoutHandler:function(n,t,i){this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1);this.onCountLabelMouseoutHandler(n,t,i);this.onNewWinIconMouseoutHandler(n,t,i);this.onFnMouseoutHandler(n,t,i)},onFnMouseoverHandler:function(){ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showFnTimer);this.showFnTimer=ecount.global.setTimeout(this.ecPageID,function(){this.setState("fn","style.display",!0)}.bind(this),this.showFnTimeout)},onFnMouseoutHandler:function(){this.hideFnTimer=ecount.global.setTimeout(this.ecPageID,function(){this.getState(this._IT_SELF,"opt.hasCursor")||(ecount.global.clearTimeoutByTimerNo(this.ecPageID,this.showFnTimer),this.setState("fn","style.display",!1))}.bind(this))},onClickHandler:function(n,t,i){if(this.getSelectedState()&&this.menuData.DEPTH=="3"&&!this._isFromChild(n,t,i)&&!n.ecRole||n.ecRole=="menu.navarrow"){this.onNavArrowClickHandler(n,t,i);return!1}if(n.ecFunction=="fn"&&n.ecRole==="menu.foldermanagement")return this._showLayer(n,t,{showingUpDelay:0}),!1;if(this._isFromChild(n,t,i)){if(n.ecRole=="button.delete"){this.removeMenuItem(i.item);return}}else i.item=this.getMenuData()},ON_MOUSEOVER:function(n,t,i,r){if(n.eventTriggerFromInternalTarget&&n.ecRole!="menu.newwindow"&&!r.item)return!1;this.setState(this._IT_SELF,"opt.hasCursor",!0,!0);this.onMouseoverHandler(n,t,r);n.ecRole!="menu.newwindow"||r.item||this.showNewIconLayer(n.cid,t.target.parentElement,this.getMenuData());r.item=this.getMenuData()},ON_CLICK_SERVICE:function(n,t,i,r){if(this.getState(this._IT_SELF,"opt.dragMode"))return!1;this.setState(this._IT_SELF,"opt.hasCursor",!1,!0);this.setState(this._IT_SELF,"opt.isHighlighted",!1,!0);this.onMouseoutHandler(n,t,r);if(n.ecFunctionId==="newWindow"||n.ecFunctionId==="newTab"){if(this.getFunction("newWinIcon")&&r&&r.originId){var u=this.getMenuItemByMenuId?this.getMenuItemByMenuId(r.controlID):this,f=u&&u.getMenuData();u&&f&&this.delegator&&(this.delegator&&this.delegator.triggerEvent("container.openNewSite",{selected:r.originId,menuData:f}),this.delegator&&this.delegator.triggerEvent("item.closeGruop",{menuData:f}),this.delegator&&this.delegator.triggerEvent("section.menuPanelClose",{}));ecount.menuCommand.item.mouseoutTrigger(this,n,t,r)}}else this.getFunction("fn")&&(ecount.runtime.notify("menu.clickFunction",this.ecPageID,_.extend({},n,this.getMenuDataAttrs())),ecount.menuCommand.item.mouseoutTrigger(this,n,t,r))},ON_FOCUSIN:function(n,t,i,r){if(n.ecRole==="menu.foldermanagement")return!1;r.item=this.getMenuData()}},invoice:{controlType:"widget.menuItem.invoice",_getTargetUrl:function(n){return decodeURI(n.MENU_URL)},updateCountLabel:function(){},displayFnDynamicView:function(){},ON_MOUSEOVER:function(n,t,i,r){if(n.eventTriggerFromInternalTarget&&n.ecRole!="menu.newwindow"&&!r.item)return!1;this.setState(this._IT_SELF,"opt.hasCursor",!0,!0);this.onMouseoverHandler(n,t,r);n.ecRole!="menu.newwindow"||r.item||this.showNewIconLayer(n.cid,t.target.parentElement,this.getMenuData());r.item=this.getMenuData()},ON_MOUSEOUT:function(n,t,i,r){var u=this.getServiceKey(t.relatedTarget),f;if(u&&(f=this.getCidByServiceKey(u),f===n.cid)||(ecount.layer.clear(),n.eventTriggerFromInternalTarget))return!1;this.setState(this._IT_SELF,"opt.hasCursor",!1,!0);this.onMouseoutHandler(n,t,r);r.item=this.getMenuData()}},invoiceDepth1:{controlType:"widget.menuItem.invoiceDepth1",__mixins:["widget.menuItem.common","widget.menuItem.invoice","widget.menuItem.depth1"]},invoiceDepth2:{controlType:"widget.menuItem.invoiceDepth2",__mixins:["widget.menuItem.common","widget.menuItem.invoice","widget.menuItem.depth2"],_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.MYPAGE_GROUP_SEQ}},_getMenuHash:function(){return["#menuType=",this.menuData.MENU_TYPE,"&menuSeq=",this.menuData.MENU_SEQ,"&groupSeq=",this.menuData.MYPAGE_GROUP_SEQ,"&prgId=",this.menuData.PRG_ID].join("")},onMouseoverHandler:function(){this.setActivatedAttrState(!0)},onMouseoutHandler:function(){this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1)}},invoiceDepth3:{controlType:"widget.menuItem.invoiceDepth3",__mixins:["widget.menuItem.common","widget.menuItem.invoice","widget.menuItem.depth3"],_initDefaultFunctions:function(n,t){this.menuItems&&this.menuItems.length||(t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1})},_getChildCtrlType:function(){return"widget.menuItem.invoiceDepth4"},_getDepth3Attrs:function(){return{MENU_TYPE:ecount.menu.myPageType}},getMenuItemByBodyUrl:function(n){var t=this._getMatchedChildren(function(t){return t.getMenuDataAttrs().BODY_URL==n});return t?t:this._getMenuDataAttrs().BODY_URL==n?this:void 0},getLayerFnOption:function(){var n=ecount.control.menu.prototype.getLayerFnOption.apply(this,arguments);return _.extend(n,{mouseoverClass:"on"})},onSelectedHandler:function(){this.setActivatedAttrState(!0)},onSelectedActivationHandler:function(n,t,i){this.setActivatedAttrState(!0);this.onNewWinIconMouseoverHandler(n,t,i)},onMouseoverHandler:function(n,t,i){if(this._isFromChild(n,t,i)){this._stopMouseoutAction(n,t,i);return}ecount.menuCommand.item.mouseoverAction(this,n,t,i)},onMouseoutHandler:function(n,t,i){this.onNewWinIconMouseoutHandler(n,t,i);if(this.getClickedState())return ecount.menuCommand.item.clickedItemMouseoutAction(this,n,t,i);this._isFromChild(n,t,i)||this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1)},onClickHandler:function(n,t,i){if(this.getSelectedState()&&this.menuData.DEPTH=="3"&&!this._isFromChild(n,t,i)&&!n.ecRole||n.ecRole=="menu.navarrow"){this.onNavArrowClickHandler(n,t,i);return!1}this._isFromChild(n,t,i)||(i.item=this.getMenuData())},_ON_BEFORE_FOCUSIN:function(n,t,i,r){if(this._isFromChild(n,t,r))return!1}},invoiceDepth4:{controlType:"widget.menuItem.invoiceDepth4",__mixins:["widget.menuItem.common","widget.menuItem.invoice","widget.menuItem.depth4"],onInitFunctions:function(n,t){ecount.control.menu.item.prototype.onInitFunctions.apply(this,arguments);t.functions.newWinIcon={ecFunction:"button",cid:this.id,"style.display":!1}},_getDepth4Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,MENU_ID:n.MENU_SEQ,GROUP_SEQ:n.MYPAGE_GROUP_SEQ}},_getMenuHash:function(){return["#menuType=",this.menuData.MENU_TYPE,"&menuSeq=",this.menuData.MENU_SEQ,"&groupSeq=",this.menuData.MYPAGE_GROUP_SEQ,"&prgId=",this.menuData.PRG_ID].join("")},getMenuItemByBodyUrl:function(n){if(decodeURI(this._getMenuDataAttrs().BODY_URL)==n)return this},onMouseoverHandler:function(n,t,i){this.onNewWinIconMouseoverHandler(n,t,i);return ecount.menuCommand.item.mouseoverAction(this,n,t,i),this.setActivatedAttrState(!0),!1},onMouseoutHandler:function(n,t,i){this.getState(this._IT_SELF,"opt.isClicked")||this.setActivatedAttrState(!1);this.onNewWinIconMouseoutHandler(n,t,i)},ON_FOCUSIN:function(n,t,i,r){r.item=this.getMenuData()}},userpay:{controlType:"widget.menuItem.userpay",empCdRegex:/{EMP_CD}|{EMPCD}/gi,empNameRegex:/{EMP_KNAME}/gi,masterNameRegex:/{MASTER_NAME}|{MASTERNAME}/gi,businessNoRegex:/{BUSINESS_NO}|{BUSINESSNO}/gi,userpaySearchYearRegex:/{JSYY}/gi,empInfo:null,currYear:null,initializeOptions:function(n,t){this.onInitAdditionalItemOptions(n,t);this.onInitDefaultItemOptions(n,t)},onInitAdditionalItemOptions:function(n){_.extend(this,{empInfo:n.empInfo,currYear:n.currYear})},_getTargetUrl:function(n){return n.MENU_URL?n.MENU_URL.replace(this.empCdRegex,this.empInfo.EMP_CD).replace(this.empNameRegex,this.empInfo.EMP_KNAME).replace(this.masterNameRegex,this.empInfo.MASTER_NAME).replace(this.businessNoRegex,this.empInfo.BUSINESS_NO).replace(this.userpaySearchYearRegex,this.empInfo.JSYY):""}},userpayDepth1:{controlType:"widget.menuItem.userpayDepth1",__mixins:["widget.menuItem.common","widget.menuItem.userpay","widget.menuItem.depth1"]},userpayDepth2:{controlType:"widget.menuItem.userpayDepth2",__mixins:["widget.menuItem.common","widget.menuItem.userpay","widget.menuItem.depth2"],_getDepth2Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.MYPAGE_GROUP_SEQ}}},userpayDepth3:{controlType:"widget.menuItem.userpayDepth3",__mixins:["widget.menuItem.common","widget.menuItem.userpay","widget.menuItem.depth3"],_getChildCtrlType:function(){return"widget.menuItem.userpayDepth4"},_getDepth3Attrs:function(n){return{MENU_TYPE:ecount.menu.myPageType,GROUP_SEQ:n.PARENT_MENU_SEQ_ORG}},_getItemData:function(){return{ecPageID:this.ecPageID,delegator:this.delegator,mouseoutTimeout:this.mouseoutTimeout,comInfo:this.comInfo,versionData:this.versionData,isMasterUser:this.isMasterUser,empInfo:this.empInfo,currYear:this.currYear}},_getChildAttrs:function(n){return{PARENT_MENU_ID:this._getMenuId(n),PARENT_MENU_SEQ:n.MENU_SEQ,GROUP_SEQ:n.GROUP_SEQ,DEPTH:this.depth+1}}},userpayDepth4:{controlType:"widget.menuItem.userpayDepth4",__mixins:["widget.menuItem.common","widget.menuItem.userpay","widget.menuItem.depth4"],_getDepth4Attrs:function(n){return{MENU_ID:n.MENU_SEQ,MENU_TYPE:ecount.menu.myPageType}}},horizontal:{controlType:"widget.menuItem.horizontal",viewName:"widget.view.menuItem.horizontal",onInitState:function(){ecount.control.menu.item.prototype.onInitState.apply(this,arguments)},setEcPath:function(){ecount.control.prototype.setEcPath.call(this)},setActivated:function(n){this.setState(0,"attr.isActivated",n)},_getOwnState:function(n,t,i){return i._dataItems.map(function(n){return $.extend({},n,{ecPageID:this.ecPageID,itemIndex:i.menuIndex,"attr.id":n.id,"attr.href":"javascript:;","attr.isActivated":i.isActivated||!1,label:n.title,ecRole:"menuItem","style.css":n.css})}.bind(this))},ON_CLICK:function(n,t,i,r){var u=this.getComponent(0);r.itemIndex=u.itemIndex;r.dataItem=_.cloneDeep(u)}},navigation:{controlType:"widget.menuItem.navigation",viewName:"widget.view.menuItem.navigation",setActivated:function(n){this.setState(0,"attr.isActivated",n)},render:function(n){this.attachView(n)},onInitState:function(n,t,i){ecount.control.menu.item.prototype.onInitState.apply(this,arguments);_.extend(this.__state,{menuIndex:i.menuIndex})},_getOwnState:function(n,t,i){return i._dataItems.map(function(n){return $.extend({},n,{ecPageID:this.ecPageID,"attr.id":n.id,"attr.isActivated":n.isActived||!1,label:n.title,popupType:n.popupType,ecRole:"menuItem"})}.bind(this))},ON_CLICK:function(n,t,i,r){var u=this.getComponent(0);r.url=u["attr.href"];r.id=u["attr.id"];r.index=this.__state.menuIndex;r.boardId=u.boardId;r.tabFlag=u.tabFlag;r.popupType=u.popupType}},create:function(n){var t,u,f,i,r,e,o,s;if(n=n||"_default",t=widget.menuItem.repository[n]||{},u=ecount.control.menu.item,widget.menuItem._baseLoaded||(ecount.control.loadRepository(ecount.control.menu.item,ecount.control.view.menu.item,"widget.menuItem"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.menuItem,t,"widget.menuItem",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.menuItem")){f=t.controlType.replace("widget.menuItem.","");ecount.control.mountMixinWidget(widget.menuItem,t,"widget.menuItem",[widget.menuItem,f]);return}if(!widget.menuItem[n]){if(u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.menuItem,t.__mixins){for(i={},r=0,e=t.__mixins.length;r<e;r++)o=t.__mixins[r].split("."),s=widget.menuItem.repository[o.pop()],i=_.extend(i,s);t=_.extend(i,t)}ecount.control.mountWidget(widget.menuItem,n,u,t)}}}}};widget.view.menuContainer._export=function(){return{_default:{},erp:{dropdownItemAttrRegex:/{(\w+)}/gm,sectionDepthRegex:/:?(show-section-)(\d+)/g,editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',wrapperTemplate:ecount.menuViewCommand.container.erp.wrapperTemplate,template:ecount.menuViewCommand.container.erp.template,onInitTemplate:function(n,t){return n.replace(this.sectionDepthRegex,function(n,i){return i+Number(t["style.showingDepth"])})},onInitWrapperTemplate:function(n,t){return ecount.widget.replaceAttr(this.wrapperTemplate,t)},onChangeSelectedLabelDropdownGroup:function(n){var t=this.$el.find('[data-role="menu.grouplist"] > a'),i=t.find("span");t.html(n).append(i)},onChangeOptResponsiveOpenGlobal:function(n,t){this.getWrapperMenuArea()[t?"addClass":"removeClass"]("responsive-open");_.isFunction(_.get(ecmodule,"navigation.setLayerState"))&&(ecmodule.navigation.setLayerState("menu","isOpened",t),t===!1&&ecmodule.navigation.setLayerState("menu","isClicked",!1))},onChangeOptResponsiveOpenLocal:function(n,t){this.getWrapperMenuAreaAddon()[t?"addClass":"removeClass"]("responsive-open")},getEditGuide:function(){return this.editGuideTemplate}},erpMyPageOnly:{__inheritParent:"widget.view.menuContainer.erp"},cs:{__inheritParent:"widget.view.menuContainer.erp"},userpay:{__inheritParent:"widget.view.menuContainer.erp"},webMail:{__inheritParent:"widget.view.menuContainer.erp",openClassName:"open",onInitTemplate:function(n){return n}},invoice:{__inheritParent:"widget.view.menuContainer.erp",wrapperTemplate:['<div data-ecPath={{ecPath}} class="wrapper-global-nav">','<div class="toggle-nav" data-function="menu.button" data-role="menu.navButton" data-cid="{{cid}}">','<div class="toggler" style="pointer-events: none;"><\/div>',"<\/div>","((this.template))","<\/div>",].join("\n"),template:'<div data-function="menu.button" data-role="menu.globalNavButton" class="global-nav show-section-1" data-cid="{{cid}}">\n<div class="global-nav-header">\n<div class="nav-move-back" data-function="menu.button"data-role="menu.backButton"><\/div>\n[[dropdownGroup]]\n<div class="nav-move-home" data-function="menu.button" data-role="menu.homeButton" ><\/div>\n<\/div>\n<div class="nav" data-role="menu.itemContainer">\n<\/div>\n<\/div>',openClassName:"open",onInitTemplate:function(n){return n}},navigation:{template:'<div class="customer-support-nav" data-role="menu.itemContainer"><\/div>',onInitWrapperTemplate:function(){return"((this.template))"}}}};widget.view.menuSection._export=function(){return{_default:{},common:{editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',notDroppableClassName:"cursor-not-allowed",onChangeOptIsClosed:function(n,t){t?this.$el.removeClass(this.openClassName):this.$el.addClass(this.openClassName)},onChangeOptSelected:function(n,t){var i=this.getChildrenContainer();t?i.addClass(this.activeClassName):i.removeClass(this.activeClassName)},onChangeTitleTitle:function(n){this.$el.find('[data-role="menu.dropdown"]').html(n)},onChangeStyleDisplayTitle:function(n){var t=this.$el.find('[data-role="menu.dropdown"]');n?t.removeClass("hidden"):t.addClass("hidden")},onChangeStyleDropAccept:function(n,t){t?this.$el.removeClass(this.notDroppableClassName):this.$el.addClass(this.notDroppableClassName)},getDraggableTarget:function(){return this.getElements().clone()},getUlContainer:function(){return this.$el.children("ul")},getEditGuideIndex:function(){var n=this.getUlContainer(),t=n.children('[data-role="line.guide"]');return n.children("li").index(t)},setEditGuide:function(n,t){var i=this.$el.find("#"+n);this.removeEditGuide();i[t=="backword"?"before":"after"](this.editGuideTemplate)},removeEditGuide:function(){this.$el.find('[data-role="line.guide"]').remove()},setHoverAllowState:function(n){n?this.$el.find("a").removeClass(this.notDroppableClassName):this.$el.find("a").addClass(this.notDroppableClassName)},clearDropAcceptState:function(){this.$el.removeClass(this.notDroppableClassName)}},depth1:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.section.depth1.template,titleTemplate:"",editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',containerClassName:"section-1",activeClassName:"active",openClassName:"open",onInitTemplate:function(n,t){var i=n.replace("{{containerClassName}}",this.containerClassName);return ecount.widget.replaceAttr(i,t)},getUlContainer:function(){return this.$el},setChildrenStorage:function(){var t=this.getChildrenContainer(),n=this.$el.parent().children('[data-role="menu.itemStorage"]');n.length||(n=t.after($('<div class="hidden" data-role="menu.itemStorage" />')));n.append(t.children())}},depth2:{__inheritParent:"widget.view.menuSection.common",containerClassName:"wrapper-depth2",activeClassName:"on",openClassName:"open",template:ecount.menuViewCommand.section.depth2.template,titleTemplate:'<div class="section-title {{style.display}}" data-role="menu.dropdown">{{title}}<\/div>',onInitTemplate:function(n,t){var i=n.replace("{{style.display}}",t["style.display"]?"":"hidden").replace("{{containerClassName}}",this.containerClassName);return ecount.widget.replaceAttr(i,t)},getCloneContainer:function(){var n=this.$el.clone().removeClass("hidden");return n[0].ecIKey=this.$el[0].ecIKey,n}},depth2Group:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.sectionGroup.template,activeClassName:"active",onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,_.extend(t,{"style.display":t["style.display"]?"":"hidden","style.selected":t["opt.selected"]?this.activeClassName:""}))},onChangeOptSelected:function(n,t){var i=this._$parent||this.$el.parent();t?i.addClass(this.activeClassName):i.removeClass(this.activeClassName)},getEditGuideIndex:function(){var n=this.$el.children('[data-role="line.guide"]');return this.$el.children("li").index(n)},setPosition:function(n){var u=document.getElementsByClassName("wrapper-frame-body")[0].getBoundingClientRect(),f=document.getElementById("menuAreaAddon"),o=f.getBoundingClientRect(),r=this.getContainerBoundary(),t=n.sectionLv1.getMenuItemByMenuId(n.menuType),i=t.getContainerBoundary(),e=i.left+i.width/2,s=e-r.width/2<0,h=(f.classList.contains("open")?0:o.right)+u.width-e-r.width/2<0,c=i.left+r.width>u.width,l=i.left+i.width-r.width<0;s?c?t.setState(t._IT_SELF,"style.align","none"):t.setState(t._IT_SELF,"style.align","left"):h?l?t.setState(t._IT_SELF,"style.align","none"):t.setState(t._IT_SELF,"style.align","right"):t.setState(t._IT_SELF,"style.align","center")}},depth3:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.section.depth3.template,editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',sectionTogglerTemplate:'<div class="local-nav-option" data-cid="{{cid}}"><div class="local-nav-option-pin" data-cid="{{cid}}" data-role="flipswitch"><\/div><\/div><div class="local-nav-toggler" data-cid="{{cid}}" data-role="menu.itemContainer"><\/div>',containerClassName:"wrapper-local-nav",activeClassName:"on",onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,t)},parseFunction:function(n){return n},onInitWrapperTemplate:function(n,t){return this.wrapperTemplate.replace("{{style.display}}",t["style.display"]?"":"hidden").replace("{{containerClassName}}",this.containerClassName)},onChangeStyleDisplay:function(n,t){t?this.getWrapperMenuAreaAddon().addClass("open"):this.getWrapperMenuAreaAddon().removeClass("open")},onChangeStyleSectionDisplay:function(n,t){t?this.getElements(n).removeClass("hidden"):this.getElements(n).addClass("hidden")},onChangeUseFlippedSectionToggler:function(){},setLeftPosition:function(n){var t=n.left,i=this.$el.find('ul[data-role="menu.itemContainer"]:first');t<0&&(t=0);i.css("left",t+"px")}},webMailDepth1:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.section.depth1.template,titleTemplate:"",editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',containerClassName:"section-1",activeClassName:"active",openClassName:"open",onInitTemplate:function(n,t){var i=n.replace("{{containerClassName}}",this.containerClassName);return ecount.widget.replaceAttr(i,t)}},webMailDepth2:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.section.depth2.template,containerClassName:"wrapper-depth2",activeClassName:"on",openClassName:"open",onInitTemplate:function(n,t){var i=n.replace("{{style.display}}",t["style.display"]?"":"hidden").replace("{{containerClassName}}",this.containerClassName);return ecount.widget.replaceAttr(i,t)},getCloneContainer:function(){var n=this.$el.clone().removeClass("hidden");return n[0].ecIKey=this.$el[0].ecIKey,n}},webMailDepth2Group:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.sectionGroup.template,activeClassName:"active",onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,_.extend(t,{"style.display":t["style.display"]?"":"hidden","style.selected":t["opt.selected"]?this.activeClassName:""}))},onChangeOptSelected:function(n,t){var i=this._$parent||this.$el.parent();t?i.addClass(this.activeClassName):i.removeClass(this.activeClassName)},getEditGuideIndex:function(){},setPosition:function(){}},webMailDepth3:{__inheritParent:"widget.view.menuSection.common",template:ecount.menuViewCommand.section.webmail.template,webmailQuotaTemplate:['<div class="wrapper-webmail-useage {{isTwoLines}}">','<div class="webmail-useage {{isUsageShow}}">','<div class="webmail-useage-title">',"<span>{{usageTitle}}<\/span>",'<a href="#false" class="text-right" id="{{id}}" data-cid="{{cid}}" data-role="menu.addUsage">{{usage}}<\/a>',"<\/div>",'<div class="webmail-useage-progress">','<div class="progress progress-condensed">','<div class="progress-bar progress-bar-{{progress}}" data-role="usage.user.progress" style="width:{{percentageWidth}}">{{percentage}}<\/div>',"<\/div>","<\/div>","<\/div>",'<div class="webmail-useage {{isDomainShow}}">','<div class="webmail-useage-title">',"<span>{{usageDomainTitle}}<\/span>",'<a href="#false" class="text-right" id="{{id}}" data-cid="{{cid}}" data-role="menu.showDomainUsage">{{domainUsage}}<\/a>',"<\/div>",'<div class="webmail-useage-progress">','<div class="progress progress-condensed">','<div class="progress-bar progress-bar-{{domainProgress}}" style="width:{{domainPercentageWidth}}">{{domainPercentage}}<\/div>',"<\/div>","<\/div>","<\/div>","<\/div>",].join(""),containerClassName:"wrapper-local-nav",activeClassName:"on",onInitWrapperTemplate:function(n,t){return this.wrapperTemplate.replace("{{style.display}}",t["style.display"]?"":"hidden").replace("{{containerClassName}}",this.containerClassName)},parseFunction:function(n,t){var i=t.isViewDomain===!0?!0:!1,r=t.isViewUsage===!0?!0:!1;return n.replaceAll("{{isUsageShow}}",r?"":"hidden").replaceAll("{{isDomainShow}}",i?"":"hidden")}},invoiceDepth1:{__inheritParent:"widget.view.menuSection.common",template:'<div class="hidden" data-cid="{{cid}}" data-ecpath="{{ecPath}}" data-role="menu.listContainer">\n<ul id="{{id}}" data-container-id="{{containerId}}" data-cid="{{cid}}" data-role="menu.itemContainer"><\/ul>\n<\/div>',titleTemplate:'<div class="section-title" data-cid="{{cid}}" data-role="menu.dropdown">{{title}}<\/div>',editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',containerClassName:"section-1",openClassName:"open",onInitTemplate:function(n,t){var i=n.replace("{{containerClassName}}",this.containerClassName);return ecount.widget.replaceAttr(i,t)}},invoiceDepth2:{__inheritParent:"widget.view.menuSection.common",activeClassName:"on",openClassName:"open",template:'<div class="section-1" data-container-id="{{containerId}}" data-cid="{{cid}}" data-ecpath="{{ecPath}}" data-role="menu.listContainer">\n<ul id="{{id}}" data-container-id="{{containerId}}" data-cid="{{cid}}" data-role="menu.itemContainer"><\/ul>\n<\/div>\n<div class="section-2">\n<\/div>',onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,t)}},invoiceDepth2Group:{__inheritParent:"widget.view.menuSection.common",template:'<div class="{{containerClassName}} {{style.display}}" data-container-id="{{containerId}}" data-cid="{{cid}}" data-ecpath="{{ecPath}}" data-role="menu.itemContainer"><\/div>',activeClassName:"on",onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,_.extend(t,{"style.display":t["style.display"]?"":"hidden","style.selected":t["opt.selected"]?"on":""}))},getEditGuideIndex:function(){},setPosition:function(){}},horizontal:{template:'<ul id="{{id}}" class="nav nav-pills" data-role="menu.itemContainer"><\/ul>'},navigation:{template:'<ul id="{{id}}" class="{{style.css}}" data-role="menu.itemContainer"><\/ul>'}}};widget.view.menuItem._export=function(){return{_default:{},common:{template:ecount.menuViewCommand.item.common.template,anchorTemplate:'<a href="{{attr.href}}" data-role="menu.anchor" target="{{attr.target}}" data-index={{index}} id="{{domId}}" data-cid="{{id}}">\n{{label}}[[navArrow]]\n<\/a>',navArrowTemplate:'<span class="icon-nav-arrow {{style.display}}" data-cid="{{id}}" data-role="menu.navarrow"><\/span>',newWinIconTemplate:'<span class="new-window" data-cid="{{id}}" data-role="menu.newwindow"><\/span>',deleteButtonTemplate:'<span data-role="button.delete" data-cid="{{id}}" class="navigation-remove"><\/span>',editGuideTemplate:'<li data-role="line.guide" class="navigation-drag-holder"><\/li>',listClassName:"",activeClassName:"active",closeClassName:"collapsed",notDroppableClassName:"cursor-not-allowed",hasGroupArrow:!1,hasShowNewWindowIcon:!1,onInitTemplate:function(n,t){var i=n.replace("{{anchorTemplate}}",this.anchorTemplate);return ecount.widget.replaceAttr(i,$.extend(t,{"style.listClassName":this._getListClassName(t),"style.display":t["style.display"]==!1?"hidden":""}))},onChangeStyleDisplayNewWinIcon:function(n){var t=this.$el.find('span[data-role="menu.newwindow"]');n?t.addClass("visible"):t.removeClass("visible")},onChangeStyleDisplayDeleteButton:function(n){var t=this.$el.find('div.nav-option:first() > span[data-role="button.delete"]');t.length&&(n?t.addClass("visible"):t.removeClass("visible"))},onChangeAttrSelected:function(n,t){t?this.$el.addClass(this.activeClassName):this.$el.removeClass(this.activeClassName)},onChangeStyleAlign:function(n,t){this.$el.removeClass("align-left align-right align-center");t=="left"?this.$el.addClass("align-left"):t=="right"?this.$el.addClass("align-right"):t=="center"&&this.$el.addClass("align-center")},onChangeOptLiSelected:function(){ecount.menuViewCommand.item.common.onChangeOptLiSelected.apply(this,arguments)},onChangeAttrIsClosed:function(){ecount.menuViewCommand.item.common.onChangeAttrIsClosed.apply(this,arguments)},onChangeStyleDropAccept:function(n,t){t?this.$el.children("a").removeClass(this.notDroppableClassName):this.$el.children("a").addClass(this.notDroppableClassName)},getDraggableTarget:function(){for(var f=$('<div class="navigation draggable-helper"><a><\/a><\/div>'),i=this.getElements(),r=i.get(0).attributes,u=i.find("a:first").clone(),e=$('<span data-role="invalidMsg" class="hidden">'+ecount.resource.MSG09695+"<\/span>"),t=0,o=r.length,n;t<o;t++)n=r[t],n.name.indexOf("data")==0&&u.attr(n.name,n.value);return f.append(e).append(u)},getNotDraggableTarget:function(n){return $('<div class="navigation draggable-helper not-droppable" />').text(n).addClass("cursor-not-allowed")},getEditGuideIndex:function(){var n=this.$el.children("ul"),t=n.children('[data-role="line.guide"]');return n.children('li:not("[data-temp-role]")').index(t)},setEditGuide:function(n,t){var i=this.$el.find("#"+n),o=$(this.editGuideTemplate),f,e,u,s,r;for(this.removeEditGuide(),i.is(":hidden")&&(e=i[t=="backword"?"prev":"next"]("li:visible"),i=e.length?e:i),f=i.get(0).attributes,u=0,s=f.length;u<s;u++)r=f[u],r.name!="data-role"&&r.name!="data-temp-role"&&r.name.indexOf("data")==0&&o.attr(r.name,r.value);i[t=="backword"?"before":"after"](o)},removeEditGuide:function(){this.$el.find('[data-role="line.guide"]').remove()},clearDropAcceptState:function(){this.$el.children("a").removeClass(this.notDroppableClassName)},hideMenuItemTemporarily:function(){this.$el.addClass("hidden");this.$el.attr("data-temp-role","hide")},restoreTemporarilyHiddenItem:function(){this.$el.attr("data-temp-role")=="hide"&&(this.$el.get(0).removeAttribute("data-temp-role"),this.$el.removeClass("hidden"))},_getListClassName:function(n){var t=[];return n["attr.isClosed"]&&t.push(this.closeClassName),n["attr.selected"]&&t.push(this.activeClassName),t.join(" ")},_getIconClassName:function(n){return _.get({"6":"mypage","8":"sc","4":"inv1","783":"inv2","1":"acct1","5":"acct2","748":"manage","3":"tax","7":"gw","2776":"datacenter",Mail:"email",Contacts:"contact","Self-Customizing":"sc",ExternalLinkageGuide:"external-linkage-guide"},n,"mypage")}},depth1:{__inheritParent:"widget.view.menuItem.common",template:ecount.menuViewCommand.item.depth1.template,_getListClassName:function(n){var t=[];return n.id&&t.push(this._getIconClassName(n.id)),n["attr.isClosed"]&&t.push(this.closeClassName),n["attr.selected"]&&t.push(this.activeClassName),n["style.align"]&&n["style.align"]!=="none"&&t.push("align-"+n["style.align"]),t.join(" ")}},depth2:{__inheritParent:"widget.view.menuItem.common"},depth3:{__inheritParent:"widget.view.menuItem.common",template:ecount.menuViewCommand.item.depth3.template,onInitTemplate:function(n,t){var i=n.replace("{{anchorTemplate}}",this.anchorTemplate);return ecount.widget.replaceAttr(i,$.extend(t,{"style.listClassName":this._getListClassName(t),"style.display":t["style.display"]==!1?"hidden":"",childrenContainerTemplate:t.functions.newWinIcon?"":ecount.menuViewCommand.item.depth3.childrenContainerTemplate}))},anchorTemplate:'<a href="{{attr.href}}" data-role="menu.anchor" target="{{attr.target}}" data-index={{index}} id="{{domId}}" data-cid="{{id}}" class="{{style.anchorClass}}">\n{{label}}\n<\/a>',setChildrenContainerScroll:function(){var n=this.getChildrenContainer(),u=$(window).height(),e=2-ecount.common.getZoomRatio(),f=n.offset(),t,i,r;n.css({height:"",overflow:""});t=n.height();i=u-(f.top+t);r=t+Math.floor(i);i<0&&Math.abs(r)>30&&n.css({height:r+"px",overflow:"auto"})}},depth4:{__inheritParent:"widget.view.menuItem.common",anchorTemplate:'<a href="{{attr.href}}" data-level={{level}} data-role="menu.anchor" target="{{attr.target}}" data-index={{index}} id="{{domId}}" data-cid="{{id}}" class="{{style.anchorClass}}">\n{{label}}\n<\/a>'},webMailDepth1:{__inheritParent:"widget.view.menuItem.common",template:ecount.menuViewCommand.item.depth1.template},webMailDepth2:{__inheritParent:"widget.view.menuItem.common",_getListClassName:function(n){var t=[];return n.id&&t.push(this._getIconClassName(n.id)),n["attr.isClosed"]&&t.push(this.closeClassName),n["attr.selected"]&&t.push(this.activeClassName),t.join(" ")}},webMailDepth3:{__inheritParent:"widget.view.menuItem.common",template:'<li id="{{id}}" data-ecpath="{{ecPath}}" data-role="menu.listedItem" class="{{style.listClassName}} {{style.display}}" data-cid="{{id}}">\n{{anchorTemplate}}\n<div class="nav-option" data-ecpath={{ecPath}} data-role="menu.listedItem" data-cid="{{id}}">[[newWinIcon]][[countLabel]][[fn]][[navArrow]]<\/div>\n{{childrenContainerTemplate}}\n<\/li>',anchorTemplate:'<a href="{{attr.href}}" data-role="menu.anchor" target="{{attr.target}}" data-index={{index}} id="{{domId}}" data-cid="{{id}}">\n{{label}}\n<\/a>',fnTemplate:'<button class="btn btn-default btn-fn" data-function="fn" data-service="layer.fn" data-cid="{{cid}}"><\/button>',childrenContainerTemplate:'<ul data-role="menu.itemContainer"><\/ul>',countLabelTemplate:'<span class="label label-primary label-sm {{style.display}}" data-role="menu.countLabel">{{value}}<\/span>',onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,$.extend(t,{anchorTemplate:this.anchorTemplate,"style.listClassName":this._getListClassName(t),"style.display":t["style.display"]==!1?"hidden":"",childrenContainerTemplate:t.functions.newWinIcon?"":this.childrenContainerTemplate}))},onChangeValueCountLabel:function(n){var t=this.$el.find('[data-role="menu.countLabel"]:first()');t.length&&(this.$el.find('a:first span[data-role="menu.newwindow"]').removeClass("visible"),n?t.text(n):t.empty())},onChangeStyleDisplayCountLabel:function(n){var t=this.$el.find('[data-role="menu.countLabel"]:first()');t.length&&(n?t.removeClass("hidden"):t.addClass("hidden"))},onChangeStyleDisplayFn:function(n){var t=this.$el.find('[data-service="layer.fn"]').eq(0);t&&n?t.addClass("visible"):t&&!n&&t.removeClass("visible")}},webMailDepth4:{__inheritParent:"widget.view.menuItem.common",template:'<li id="{{id}}" data-ecpath="{{ecPath}}" data-role="menu.listedItem" class="{{style.listClassName}} {{style.display}}" data-cid="{{id}}">\n{{anchorTemplate}}\n{{btnNav}}\n<\/li>',btnNavTemplate:'<div class="nav-option">\n[[countLabel]][[fn]][[newWinIcon]]\n<\/div>',anchorTemplate:'<a href="{{attr.href}}" data-level={{level}} data-role="menu.anchor" target="{{attr.target}}" data-index={{index}} id="{{domId}}" data-cid="{{id}}" class="{{style.anchorClass}}">\n{{label}}\n<\/a>',fnTemplate:['<button class="btn btn-default btn-fn" data-function="fn" data-service="layer.fn" data-cid="{{cid}}" data-role="menu.foldermanagement"><\/button>',].join("\n"),countLabelTemplate:'<span class="label label-primary label-sm {{style.display}}" data-role="menu.countLabel">{{value}}<\/span>',onInitTemplate:function(n,t){var i=n.replace("{{anchorTemplate}}",this.anchorTemplate),r=ecount.widget.replaceAttr(i,$.extend(t,{"style.listClassName":this._getListClassName(t),"style.display":t["style.display"]==!1?"hidden":""}));return r.replace("{{btnNav}}",this.btnNavTemplate)},onChangeStyleDisplayFn:function(n){var t=this.$el.find('button[data-role="menu.foldermanagement"]').eq(0);n?t.addClass("visible"):t.removeClass("visible")},onChangeValueCountLabel:function(n){var t=this.$el.find('[data-role="menu.countLabel"]:first()');t.length&&(this.$el.find('a:first span[data-role="menu.newwindow"]').removeClass("visible"),n?t.text(n):t.empty())},onChangeStyleDisplayCountLabel:function(n){var t=this.$el.find('[data-role="menu.countLabel"]:first()');t.length&&(n?t.removeClass("hidden"):t.addClass("hidden"))}},horizontal:{template:'<li id="{{attr.id}}" class="{{attr.isActivated}}" data-ecpath="{{ecPath}}" data-role="{{ecRole}}" data-cid="{{cid}}"><a href="{{attr.href}}" id="{{attr.id}}" data-role="{{ecRole}}" data-cid="{{cid}}">{{label}}<\/a><\/li>',activeClassName:"active",onInitTemplate:function(n,t){var t=t.components&&t.components.length?$.extend(t,t.components[0]):t,i=n.replace("{{attr.isActivated}}",t["attr.isActivated"]?this.activeClassName:"");return ecount.widget.replaceAttr(i,t)},onChangeAttrIsActivated:function(n,t){t?this.$el.addClass(this.activeClassName):this.$el.removeClass(this.activeClassName)}},navigation:{template:'<li id="{{attr.id}}" class="{{attr.isActivated}}" data-ecpath="{{ecPath}}" data-role="{{ecRole}}" data-cid="{{cid}}"><span class="{{style.css}}" data-role="{{ecRole}}" data-cid="{{cid}}"><\/span>{{label}}<\/li>',activeClassName:"active",onInitTemplate:function(n,t){var t=t.components&&t.components.length?$.extend(t,t.components[0]):t,i=n.replace("{{attr.isActivated}}",t["attr.isActivated"]?this.activeClassName:"");return ecount.widget.replaceAttr(i,t)},onChangeAttrIsActivated:function(n,t){t?this.$el.addClass(this.activeClassName):this.$el.removeClass(this.activeClassName)}}}};widget.descriptionList={};widget.descriptionList._baseLoaded=!1;widget.descriptionList._export=function(){return{_default:{ecPackage:"widget.descriptionList",controlType:"widget.descriptionList",viewName:"widget.view.descriptionList",_isFirstLoadData:!0,_itemTitleTemplate:"",_itemDescriptionTemplate:"",_dataApiUrl:"",_params:null,_defaultPageSize:10,_stepUnit:10,_templateRegx:/\(\((\w*?)\)\)/g,_bTagBegingingRegx:/\<b\>/g,_bTagClosingegx:/\<\/b\>/g,_unclosedBoldClosingTag:/(\<+\/?b?(\.\.))/g,initializeOptions:function(n){$.extend(this,{_itemTitleTemplate:n._itemTitleTemplate,_itemDescriptionTemplate:n._itemDescriptionTemplate,_isUseViewMoreLogic:n._isUseViewMoreLogic,_dataApiUrl:n._dataApiUrl,_params:n._params||{PAGE_SIZE:this._defaultPageSize,PAGE_CURRENT:0}})},onInitState:function(n,t,i){$.extend(this.__state,{title:i._title||this._title,isShowPaging:i._isShowPaging||this._isShowPaging,isNoHeader:!!i.isNoHeader})},onInitComponents:function(n,t){t.components&&t.components.length!=0&&ecount.control.prototype.onInitComponents.apply(this,arguments)},onInitComponent:function(n,t,i,r,u){ecount.control.prototype.onInitComponent.apply(this,arguments);var f=i.components[t];r.id=String.format("{0}{1}",this.id,t);r.title=this._getItemTitle(i,r,u);r.subtitle=this._getItemSubTitle(i,r,u);r["attr.href"]="javascript:;";r.description=this._getItemDescription(i,r,u)},onInitFunction:function(n,t,i){var r=t.functions;if(t.isShowPaging)this.onInitPaginationFunction(n,t,i);else r.viewmore={id:this.id,label:i.viewmoreLabel||ecount.resource.LBL09004,"style.display":!!this.getComponents().length}},onInitPaginationFunction:function(n,t){var r=t.components.length>0?this.getState(0,"MAXCNT"):0,u=this._params.PAGE_CURRENT||1,i=widget.generator.control().define("widget.paging","paging","paging","paging").setOptions({ecPageID:this.ecPageID,containerName:this.containerName,_placeHolder:" "}).setGridPagingInfo(u,this._params.PAGE_SIZE||this._defaultPageSize,r).end(),f=ecount.common.createNamespace(i.controlType);this.pagingInstance=new f(i)},createView:function(){return this.ecview=new widget.view.descriptionList},render:function(){ecount.control.prototype.render.apply(this,arguments);this.pagingInstance&&this.pagingInstance.render(this.ecview.$el.find('div[data-role="paginationContainer"]'));this.setScrollTop(0)},getInitDataComponents:function(n,t,i){return this._getComponents(n,t,i)},getInitComponents:function(n,t,i){return this._getComponents(n,t,i)},onClickDescItemHandler:function(n,t,i){var r=this.getComponent(n.cindex);if(!r)return!1;i.data=_.cloneDeep(r)},onClickViewMoreHandler:function(n,t,i){i.command=String.format("on-{0}-{1}ViewMore",this.containerName,this.id).ecCamelize(!0)},_getComponents:function(n,t,i){var r=i._dataItems||this._dataItems;return r?r.slice(0):[]},_getItemTitle:function(n,t){var r=this._itemTitleTemplate,i=r.match(this._templateRegx);return i?t[i[0].replace(this._templateRegx,"$1")]||"":""},_getItemSubTitle:function(n,t){var i=this._itemTitleTemplate.replace(this._templateRegx,function(n,i,r){return r==0?"":t[i]});return this._getBTagCompletedHtml(i)},_getItemDescription:function(n,t){var i=this._itemDescriptionTemplate.replace(this._templateRegx,function(n,i){return t[i]});return this._getBTagCompletedHtml(i)},_getBTagCompletedHtml:function(n){var t=n.match(this._bTagBegingingRegx),i=n.match(this._bTagClosingRegx);return t&&(i||t.length!=i.length)?n.replace(this._unclosedBoldClosingTag,"")+"<\/b>":n},_getItemsByApi:function(n){if(this.pagingInstance){var t=this._params?this._params.PAGE_SIZE:this._defaultPageSize,i=_.extend({},this._params||{},{PAGE_SIZE:t,PAGE_CURRENT:n});return new Promise(function(n){ecount.common.api({ecPageID:this.ecPageID,url:this._dataApiUrl,data:i,progressbar:!0,success:n})}.bind(this))}return Promise.reject([])},_updateData:function(n,t){this._updatePagingControl(n,t);this.__state.components=n.map(function(t,i){var r=$.extend({},t,{ecPath:this.ecPath,index:i,id:this.id,cid:this.id,name:this.name||this.id});this.onInitComponent({},i,{components:n},r,{});return r}.bind(this));this.ecview&&this.ecview.updateItemList(this.__state.components)},_updatePagingControl:function(n,t){var r=n.length>0?n[0].MAXCNT:0,f=Math.ceil(r/this._params.PAGE_SIZE),i,u;_.extend(this._params,{PAGE_CURRENT:t});i=widget.generator.control().define("widget.paging","paging","paging","paging").setOptions({ecPageID:this.ecPageID,containerName:this.containerName,_placeHolder:" "}).setGridPagingInfo(t,this._params.PAGE_SIZE||this._defaultPageSize,r).end();u=ecount.common.createNamespace(i.controlType);this.pagingInstance&&(this.pagingInstance.destroy(),this.pagingInstance=new u(i),this.pagingInstance.render(this.ecview.$el.find('div[data-role="paginationContainer"]')));f<=1?this.hidePaging():this.showPaging()},reload:function(n){n!=undefined&&(this.setItemLoadEnvirionment(n),this.goTo(0))},setItemLoadEnvirionment:function(n){this._params=$.extend({},n);this._params.PAGE_SIZE=n.PAGE_SIZE!=undefined?n.PAGE_SIZE:this._defaultPageSize;this._params.PAGE_CURRENT=n.PAGE_CURRENT!=undefined?n.PAGE_CURRENT==0?1:n.PAGE_CURRENT:1},showViewMoreButton:function(){this.setState("viewmore","style.display",!0)},hideViewMoreButton:function(){this.setState("viewmore","style.display",!1)},showPaging:function(){this.pagingInstance&&this.pagingInstance.show()},hidePaging:function(){this.pagingInstance&&this.pagingInstance.hide()},getCurrentPage:function(){if(this.pagingInstance){var n=this.pagingInstance._getPageInfo();return n.currentPage}},goTo:function(n){return this._getItemsByApi(n).then(function(t){this._updateData(t.Data||[],n)}.bind(this))},setScrollTop:function(n){ecount.runtime.notify("page.move.scroll",null,{ecPageID:this.ecPageID,scroll:{scrollTop:n||0}})},_getComponents:function(n,t,i,r){var u=i._dataItems||this._dataItems||[];return i.sArrContents||this.sArrContents?(i.sArrContents||this.sArrContents).map(function(n,i){return _.extend({cid:t.cid,index:i+(r||0)},n)}):u},_ON_BEFORE_CLICK:function(n,t){if(n.handler==="click.control"&&n.cid){var i=ec$.getClosestAttr(t.target,"data-role");return i=="item"&&_.merge(n,{ecRole:i,cindex:Number(ec$.getClosestAttr(t.target,"data-index")),handler:"click.control",targetArea:"control"}),!0}return ecount.control.prototype._ON_BEFORE_CLICK.apply(this,arguments)},ON_CLICK:function(n,t,i,r){r.pageIndex>0&&this.goTo(r.pageIndex);switch(n.ecRole){case"checkbox":return this.setState(n.cindex,"attr.checked",t.target.checked,!1),!1;case"thumbnail":case"item":return this.onClickDescItemHandler(n,t,r);case"viewmore":return this.onClickViewMoreHandler(n,t,r);case"movie":this.onClickDescItemHandler(n,t,r);r.data&&(r.data.target="movie");return;case"article":this.onClickDescItemHandler(n,t,r);r.data&&(r.data.target="article");return;case"goto":inputPageNum&&this.goTo(inputPageNum)}return!1},ON_KEYDOWN_ENTER:function(n,t,i,r){if(r.pageIndex>0)return this.goTo(r.pageIndex),!1}},article:{controlType:"widget.descriptionList.article",viewName:"widget.view.descriptionList.article",_listCss:"",_titleCss:"title",_defaultPageSize:10,_stepUnit:10,initializeOptions:function(n){_.merge(this,{title:n._title,isShowPaging:n._isShowPaging,_dataApiUrl:n._dataApiUrl,_params:n._params||{PAGE_SIZE:this._defaultPageSize,PAGE_CURRENT:1},_listCss:n.listCss,_titleCss:n.titleCss,articleConvertor:n._callback})},onInitState:function(n,t,i){_.merge(t,{isShowPaging:!!i._isShowPaging,isNoHeader:!!i.isNoHeader})},initializeViewOptions:function(n){_.merge(this.__viewOptions,{title:n.subTitle||this.subTitle||"","style.css":n.css||""})},onInitComponent:function(n,t,i,r){ecount.control.prototype.onInitComponent.apply(this,arguments);var u=i.components[t];r.label=u.label||"";r["attr.href"]="javascript:;";r.ecRole="item";r["style.itemCss"]=r.css;r["style.css"]=this._titleCss},reload:function(n,t,i){n!=undefined&&(this.setItemLoadEnvirionment(n),t&&(apiUrlCache=this.dataApiUrl,this.dataApiUrl=t),this.goTo(1).then(function(n){this.dataApiUrl=apiUrlCache;i&&i(n)}.bind(this)))},goTo:function(n){return this._getItemsByApi(n).then(function(t){var i=this.articleConvertor(t.Data?t.Data:[]);return this._updateData(i,n),Promise.resolve(i)}.bind(this))},articleConvertor:function(n){return n}},video:{controlType:"widget.descriptionList.video",viewName:"widget.view.descriptionList.video",_titleCss:"title",_checkboxMode:!1,initializeOptions:function(n){$.extend(this,{_itemTitleTemplate:n._itemTitleTemplate,_itemDescriptionTemplate:n._itemDescriptionTemplate,_isUseViewMoreLogic:n._isUseViewMoreLogic,_dataApiUrl:n._dataApiUrl,_params:n._params||{},videoDataConvertor:n._callback,_checkboxMode:!!n.checkboxMode})},initializeViewOptions:function(n){_.merge(this.__viewOptions,{"style.css":n.css||"online-manual-list list-movie-faq",_checkboxMode:this._checkboxMode})},onInitComponent:function(n,t,i,r){ecount.control.prototype.onInitComponent.apply(this,arguments);var u=i.components[t];r.title=u.title||"";r.contents=u.contents||"";r["attr.href"]="javascript:;";r.ecRole="item";r["style.itemCss"]=r.css||"";r["style.css"]=this._titleCss||"";r["attr.checked"]=!!u.checked},onInitFunction:function(n,t,i){if(t.isShowPaging)this.onInitPaginationFunction(n,t,i)},setCheckboxMode:function(n){if(this._checkboxMode=n===!0,!this._checkboxMode){var t=this.ecview.getElements().find("input[type='checkbox']");t.find("input[type='checkbox']").prop("checked",!1)}},getCheckboxComp:function(){if(!this._checkboxMode)return[];var n=this.getComponents();return n.filter(function(n){return n["attr.checked"]})},addDescriptionList:function(n){for(var r={sArrContents:n},u=this.__state.components.length,t=this._getComponents(null,this.__state,r,u),i=0;i<t.length;i++)t[i].title=t[i].title||"",t[i].contents=t[i].contents||"",t[i]["attr.href"]="javascript:;",t[i].ecRole="item",t[i]["style.itemCss"]=t[i].css||"",t[i]["style.css"]=this._titleCss||"",t[i]["attr.checked"]=!1;this.ecview._addDescriptionList(t);this.__state.components=this.__state.components.concat(t)},goTo:function(){return this._getItemsByApi().then(function(n){var t=n.Data?n.Data:[],i=_.isFunction(this.videoDataConvertor)?this.videoDataConvertor(t):t;return this._updateData(i),Promise.resolve(i)}.bind(this)).catch(function(n){console.log(n)})},setItemLoadEnvirionment:function(n){this._params=_.extend({},n)},_getItemsByApi:function(){var n=_.extend({},this._params||{});return new Promise(function(t,i){ecount.common.api({ecPageID:this.ecPageID,url:this._dataApiUrl,data:n,progressbar:!0,success:t,error:function(n){i(n)}})}.bind(this))},_updatePagingControl:function(){}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.descriptionList.repository[n]||{},i=ecount.control,widget.descriptionList._baseLoaded||(ecount.control.loadRepository(ecount.control,ecount.control.view,"widget.descriptionList"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(ecount.control,t,"widget.descriptionList",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.descriptionList")){r=t.controlType.replace("widget.descriptionList.","");ecount.control.mountMixinWidget(ecount.control,t,"widget.descriptionList",[widget.descriptionList,r]);return}widget.descriptionList[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.descriptionList,ecount.control.mountWidget(widget.descriptionList,n,i,t))}}}};widget.view.descriptionList._export=function(){return{_default:{wrapperSet:'<div class="{{style.multiline}} {{style.display}}">',headerTemplate:'<div class="wrapper-sub-title">{{title}}<\/div>',containerTemplate:['<div class="wrapper-article">','<dl id="{{id}}" data-cid="{{cid}}" data-role="itemList">',"{{itemTemplate}}","<\/dl>","[[viewmore]]",'<div class="wrapper-toolbar text-center " data-role="paginationContainer">',"<\/div>",].join(""),template:"{{term}}{{descriptionList}}",termTemplate:'<dt><a href="{{attr.href}}" data-index="{{index}}" data-cid="{{cid}}" data-role="item">{{title}}<\/a>{{subtitle}}<\/dt>',descTemplate:"<dd>{{description}}<\/dd>",viewmoreTemplate:['<div class="search-result-more {{style.display}}" data-role="viewmoreContainer">','<a data-role="viewmore" href="javascript:;">{{label}}<\/a>',"<\/div>",].join(""),onInitTemplate:function(n,t){var i=t.isNoHeader?"":ecount.widget.replaceAttr(this.headerTemplate,t),r=t.components.map(function(t){var i=n.replace("{{term}}",this.termTemplate).replace("{{descriptionList}}",this.descTemplate);return ecount.widget.replaceAttr(i,t)}.bind(this)).join(""),u=ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{itemTemplate}}",r);return[i,u].join("")},parseFunction:function(n,t,i){switch(i){case"pagination":return this.parsePagenation(n,t,i);case"viewmore":return ecount.widget.replaceAttr(this.viewmoreTemplate,$.extend({"style.display":t["style.display"]?"":"hidden"},t));default:return n}},parsePagenation:function(n,t){var i=n.replace(/{{(\w+Template)}}/g,function(n,i){return ecount.widget.replaceAttr(this[i],t)}.bind(this));return i.replace("{{pagingNumber}}",this.getPageNumbers(t))},getPageNumbers:function(n){for(var r=[],t=0,f=n.endNum-n.startNum,i,u;t<=f;t++)i=n.startNum+t,u=ecount.widget.replaceAttr(this.pagingNumberTemplate,$.extend({index:t+1,number:i,"style.active":i==n.pageCurrent?"active":""},n)),r.push(u);return r.join("")},updateItemList:function(n){var t=n.map(function(n){var t=this.template.replace("{{term}}",this.termTemplate).replace("{{descriptionList}}",this.descTemplate);return ecount.widget.replaceAttr(t,n)}.bind(this)).join("");this.$el.find("[data-role=itemList]").empty().append(t)},updatePagination:function(n){var t=this.getPageNumbers(n);this.$el.find("[data-role=pagenumber]").each(function(n,t){$(t).parent("li").remove()});this.$el.find("[data-role=prev]").parent("li").after(t)},onChangeTotalPagePagination:function(n){this.$el.find("[data-role=totalPage]").text(n)},onChangeInputNumPagination:function(n){this.$el.find("[data-role=pageinput]").val(n)},onChangeStyleDisplayViewmore:function(n){n?this.$el.find("[data-role=viewmoreContainer]").removeClass("hidden"):this.$el.find("[data-role=viewmoreContainer]").addClass("hidden")},onChangeStyleDisplayPagination:function(n){n?this.$el.find("[data-role=paginationContainer]").removeClass("hidden"):this.$el.find("[data-role=paginationContainer]").addClass("hidden")}},article:{__inheritParent:"widget.view.descriptionList",containerTemplate:['<div class="wrapper-article">','<ul data-ecPath={{ecPath}} class="{{style.css}}" data-role="itemList">',"{{itemTemplate}}","<\/ul>","[[viewmore]]",'<div class="wrapper-toolbar text-center " data-role="paginationContainer">',"<\/div>",].join(""),template:'<li class="{{style.itemCss}}">\n<div class="option">\n<a href="#" data-cid="{{cid}}"  data-index="{{index}}" data-role="movie" class="movie"><\/a>\n<a href="#" data-cid="{{cid}}"  data-index="{{index}}" data-role="article" class="article"><\/a>\n<\/div>\n<div class="{{style.css}} title" >\n<a href="{{attr.href}}" data-cid="{{cid}}" data-role="{{ecRole}}" data-index="{{index}}">{{label}}<\/a>\n<\/div>\n{{contents}}\n<\/li>',itemContentsTemplate:'<div class="description">{{contents}}<\/div>',onInitTemplate:function(n,t){var i=t.isNoHeader?"":ecount.widget.replaceAttr(this.headerTemplate,t),r=t.components.map(function(t){var i=n.replace("{{contents}}",t.contents?this.itemContentsTemplate:"");return ecount.widget.replaceAttr(i,_.extend(t,{"style.css":this.liCss}))}.bind(this)).join(""),u=ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{itemTemplate}}",r);return[i,u].join("")}},video:{__inheritParent:"widget.view.descriptionList",containerTemplate:['<div class="wrapper-article">','<ul data-ecPath={{ecPath}} class="{{style.css}}" data-role="itemList">',"{{itemTemplate}}","<\/ul>","<\/div>",].join(""),template:'<li class="{{style.itemCss}} cursor-pointer" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail">\n{{checkboxTemplate}}\n<a href="{{attr.href}}" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail" class="thumbnail thumbnail-inline">\n<img src="{{src}}" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail">\n<\/a>\n<div class="description" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail">\n<div class="question" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail">{{title}}<\/div>\n<div class="answer" data-cid="{{cid}}"  data-index="{{index}}" data-role="thumbnail">{{contents}}<\/div>\n<\/div>\n<\/li>',checkboxTemplate:'<span class="form-checkbox display-flex flex-align-middle" >\n<input type="checkbox" id="{{cidIndex}}" data-cid="{{cid}}"  data-index="{{index}}" data-role="checkbox">\n<label for="{{cidIndex}}"><\/label>\n<\/span>',onMount:function(){var t=this.$el.find("img"),n;if(!t.length)return!1;n=function(n){if(n.target.naturalHeight<=90){var t=$(n.target).closest("li");t.addClass("hide")}};t.each(function(t,i){i.onload=function(t){n(t)};i.onerror=function(t){n(t)}})},onInitTemplate:function(n,t){var i;return this._checkboxMode=!!t._checkboxMode,i=t.components.map(function(t,i){var r=this._checkboxMode?ecount.widget.replaceAttr(this.checkboxTemplate,_.extend(t,{cidIndex:t.cid+ecount.delimiter+i})):"";return ecount.widget.replaceAttr(n,_.extend(t,{"style.css":this.liCss,checkboxTemplate:r}))}.bind(this)).join(""),ecount.widget.replaceAttr(this.containerTemplate,t).replace("{{itemTemplate}}",i)},_addDescriptionList:function(n){var t=n.map(function(n,t){var i=this._checkboxMode?ecount.widget.replaceAttr(this.checkboxTemplate,_.extend(n,{cidIndex:n.cid+ecount.delimiter+t})):"";return ecount.widget.replaceAttr(this.template,_.extend(n,{"style.css":this.liCss,checkboxTemplate:i}))}.bind(this)).join("");this.$el.find("ul").append(t);this.onMount()},updateItemList:function(){widget.view.descriptionList.prototype.updateItemList.apply(this,arguments);this.onMount()},updateItemList:function(n){var t=n.map(function(n,t){var i=this._checkboxMode?ecount.widget.replaceAttr(this.checkboxTemplate,_.extend(n,{cidIndex:n.cid+ecount.delimiter+t})):"",r=this.template.replace("{{term}}",this.termTemplate).replace("{{descriptionList}}",this.descTemplate);return ecount.widget.replaceAttr(r,_.extend(n,{checkboxTemplate:i}))}.bind(this)).join("");this.$el.find("[data-role=itemList]").empty().append(t)}}}};widget.service={};widget.service._baseLoaded=!1;widget.service._export=function(){return{_default:{ecPackage:"widget.service",controlType:"widget.service",viewName:"widget.view.service",initializeOptions:function(n){_.merge(this,{items:n.items||[]})},createView:function(){return this.ecview=new widget.view.service},render:function(){ecount.control.prototype.render.apply(this,arguments)}},addition:{controlType:"widget.service.addition",viewName:"widget.view.service.addition",getInitComponents:function(){var n=[];return this.items.forEach(function(t){var i=_.merge({id:"",type:"",name:"",subName:"",active:!1,contents:"",price:"",tooltip:"",button:"",activeButton:""},t);_.has(i,"contents.request")&&(i.contents.unit=i.type=="vatSite"?ecount.resource.LBL04317:ecount.resource.LBL05097,i.contents.compData={cid:i.cid,index:i.index,type:i.type});n.push(i)}.bind(this)),n},onInitState:function(n,t,i){_.merge(t,{title:_.merge({middleLeft:"",topLeft:"",topRight:""},i.title),total:i.total||null,payUnit:i.payUnit||{temp:"{{value}}{{unit}}",unit:ecount.resource.LBL09480},foreignyn:i.foreignyn||null,subtotal:i.subtotal||null,regflag:i.regflag||null})},getActiveItem:function(){return this.getComponents().filter(function(n){return n.active})},setValueByComp:function(n,t){var r=this.getComponents(),i=[];return t=t===!1?!1:null,n=_.isArray(n)?n:[n],n.forEach(function(n){var u=r.find(function(t){return t.type===n.type}.bind(this));u&&(n.hasOwnProperty("subName")&&this.setState(u.index,"subName",n.subName,t),n.hasOwnProperty("contents")&&(_.has(n,"contents.request")&&(n.contents.unit=n.type=="vatSite"?ecount.resource.LBL04317:ecount.resource.LBL05097,n.contents.compData={cid:u.cid,index:u.index,type:u.type}),this.setState(u.index,"contents",n.contents,t)),n.hasOwnProperty("price")&&this.setState(u.index,"price",n.price,t),i.push(u))}.bind(this)),i},setActiveItem:function(n){var i=this.getComponents(),t=[];n&&(t=this.setValueByComp(n,!1));t.forEach(function(n){this.setState(n.index,"active",!0)}.bind(this));this.ecview.addActiveItem(t)},setUnActiveItem:function(n){var t;n&&(n=_.isArray(n)?n:[n],t=this.getComponents().filter(function(t){return!!~_.indexOf(n,t.type)}),t.forEach(function(n){this.setState(n.index,"active",!1)}.bind(this)))},getTotalInfo:function(){return this.getState(this._IT_SELF,"total")},setTotalInfo:function(n){if(_.isPlainObject(n)){var t=this.getState(this._IT_SELF,"total");this.setState(this._IT_SELF,"total",_.merge({},t,n))}},ON_CLICK:function(n,t,i,r){console.log("ON_CLICK [cid: %o] [cindex: %o] [ecRole: %o] [ecRoleIndex: %o]",n.cid,n.cindex,n.ecRole,n.ecRoleIndex);var u=_.get(t,"target.dataset.type","");_.merge(r,{cid:n.cid,compType:u,actionType:n.ecRole,control:i,comp:this.getComponents().find(function(t){return t.index===n.cindex&&t.type===u}.bind(this))})},ON_MOUSEOVER:function(n,t){var u=t.target.tagName==="LI"?t.target:ec$.getClosestNodeByTagName(t.target,["li"]),i=_.get(u,"dataset",null),r;i&&i.index&&(r=this.getComponents().find(function(n){return n.index==i.index&&!n.active}.bind(this)),r&&this.setPopover(r.index,{message:"test",placement:"top",directShow:!0}))}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.service.repository[n]||{},i=ecount.control,widget.service._baseLoaded||(ecount.control.loadRepository(ecount.control,ecount.control.view,"widget.service"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(ecount.control,t,"widget.service",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.service")){r=t.controlType.replace("widget.service.","");ecount.control.mountMixinWidget(ecount.control,t,"widget.service",[widget.service,r]);return}widget.service[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.service,ecount.control.mountWidget(widget.service,n,i,t))}},webMailAddition:{controlType:"widget.service.webMailAddition",viewName:"widget.view.service.webMailAddition",getInitComponents:function(){var n=[];return this.items.forEach(function(t){var i=_.merge({id:"",type:"",name:"",subName:"",active:!1,contents:"",price:"",tooltip:"",button:"",activeButton:""},t);_.has(i,"contents.request")&&(i.contents.unit=i.type=="vatSite"?ecount.resource.LBL04317:ecount.resource.LBL05097,i.contents.compData={cid:i.cid,index:i.index,type:i.type});n.push(i)}.bind(this)),n},onInitState:function(n,t,i){_.merge(t,{title:_.merge({middleLeftMsg1:"",middleLeftMsg2:"",topLeftTitle:"",topRightDesc:""},i.title),total:i.total||null,payUnit:i.payUnit||{temp:"{{value}}{{unit}}",unit:ecount.resource.LBL09480}})},ON_CLICK:function(n,t,i,r){console.log("ON_CLICK [cid: %o] [cindex: %o] [ecRole: %o] [ecRoleIndex: %o]",n.cid,n.cindex,n.ecRole,n.ecRoleIndex);var u=_.get(t,"target.dataset.type","");_.merge(r,{cid:n.cid,compType:u,actionType:n.ecRole,control:i,comp:this.getComponents().find(function(t){return t.index===n.cindex&&t.type===u}.bind(this))})}}}};widget.view.service._export=function(){return{_default:{wrapperSet:'<div class="{{wrapperCss}}">',template:"<div>test<\/div>",onInitTemplate:function(n){return n}},addition:{__inheritParent:"widget.view.service",wrapperSet:'<div class="service-application">',template:"{{tempTitle}}{{activeUl}}{{subtotal}}{{tempTotal}}{{middleLeft}}{{standardUl}}",tempTitle:'<div class="wrapper-sub-title">\n<div class="pull-left">\n{{topLeft}}\n<\/div>\n<div class="pull-right toolbar-text">\n<span class="text-xs">{{topRight}}<\/span>\n<\/div>\n<\/div>',tempsubTotal:'<div class="service-item transparent" style="margin: 0px;padding:0px 0px 0px 10px;">\n<div class="text-bold">{{monthlyFee}}<\/div>\n<div class="text-center" data-comp-parts="contents"><\/div>\n<div class="text-right text-bold" data-comp-parts="price">{{price}}<\/div>\n<div class="text-right"><\/div>\n<\/div>',tempTotal:'<div class="service-item transparent">\n<div>\n<div>\n<span class="text-bold">{{date}}<\/span> {{billName}}\n<\/div>\n<div>{{unpaidName}}<\/div>\n<\/div>\n<div><\/div>\n<div class="text-right">\n<div class="text-bold text-lg" data-comp-parts="bill">{{bill}}<\/div>\n<div data-comp-parts="unpaid">{{unpaid}}<\/div>\n<\/div>\n<div class="text-right">\n{{paymentButton}}\n<\/div>\n<\/div>',tempTotalForeign:"<div class=\"wrapper-article\">\n<ul>\n<li><span class = 'text-lg'>{{expireDateName}}<span class=\"text-danger\" style='font-weight:bold'>{{expireDate}}<\/span><\/span><\/li>\n<li><span class = 'text-lg'>{{unpaidName}}<span class=\"text-danger text-bold\">{{expireDay}}<\/span><\/span><\/li>\n<li class='mt-15'>{{warnMessage}}<\/li>\n<\/ul>\n<\/div>\n<div class=\"text-center\">\n{{paymentButton}}\n<\/div>",tempTotalForeign_regular:"<div class=\"wrapper-article\">\n<ul>\n<li><span class = 'text-lg'>{{expireDateName}}<span class=\"text-danger\" style='font-weight:bold'>{{expireDate}}<\/span><\/span><\/li>\n<li><span class = 'text-lg'>{{unpaidName}}<span class=\"text-danger text-bold\">{{expireDay}}<\/span><\/span><\/li>\n<li><span class = 'text-lg'>{{billingName}} : <span class=\"text-danger text-bold\">{{paidPeriod}}<\/span><\/span><\/li>\n<li><span class = 'text-lg'>{{billingAmt}} : <span class=\"text-danger text-bold\">{{paidAmt}}<\/span><\/span><\/li>\n<li class='mt-15'>{{warnMessage}}<\/li>\n<\/ul>\n<\/div>\n<div class=\"text-center\">\n{{paymentButton}}\n<\/div>",tempButton:'<button class="{{css}}" data-cid="{{cid}}" {{index}} data-role="{{role}}" {{roleIndex}} data-type="{{type}}">{{label}}<\/button>',tempAnchor:'<a href="javascript:;" class="{{css}}" data-cid="{{cid}}" {{index}} data-role="{{role}}" {{roleIndex}} data-type="{{type}}">{{label}}<\/a>',tempText:'<span class="{{css}}" data-cid="{{cid}}" {{index}} data-comp-parts="{{role}}" data-type="{{type}}">{{label}}<\/span>',beforeMount:function(n){this.payUnit=n.payUnit;this.useTotal=!!n.total;this.foreign=n.foreignyn;this.subtotal=n.subtotal;this.RegFlag=n.regflag;ecount.control.view.prototype.beforeMount.apply(this,arguments)},getPayNumber:function(n){return n!==""&&_.isString(n)?n.replace(/[^0-9.-]/g,""):n},onInitTemplate:function(n,t){var o=ecount.widget.replaceAttr(this.tempTitle,{topLeft:_.get(t,"title.topLeft",""),topRight:_.get(t,"title.topRight","")}),r='<ul class="service-item-apply-list">{{liList}}<\/ul>',f="",s=ecount.widget.replaceAttr('<hr>\n<div class="text-remark">{{middleLeft}}<\/div>',{middleLeft:_.get(t,"title.middleLeft","")}),u='<ul class="service-item-list">{{liList}}<\/ul>',e=this.getTempClickParts(this.tempButton,{css:"btn btn-primary btn-xl",cid:t.cid,type:"payment",role:"payment",label:ecount.resource.BTN00261}),h=this.getTempClickParts(this.tempButton,{css:"btn btn-primary btn-inverse btn-xl",cid:t.cid,type:"paymentcancel",role:"paymentcancel",label:ecount.resource.BTN40002}),i="";return _.isEmpty(this.subtotal)||(this.subtotal.vatYN=="N"?i=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL40340,price:_.get(t,"subtotal.price","")}):this.subtotal.whtYN=="N"?i=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL40340+"<br/>("+ecount.resource.LBL00253+")",price:_.get(t,"subtotal.price","")}):(i=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL00540,price:_.get(t,"subtotal.supplyPrice","")}),i+=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL01356,price:_.get(t,"subtotal.vatprice","")}),i+=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL02031,price:"-"+_.get(t,"subtotal.whtprice","")}),i+=ecount.widget.replaceAttr(this.tempsubTotal,{monthlyFee:ecount.resource.LBL40340,price:_.get(t,"subtotal.price","")})),i="<div>"+i+"<\/div>"),this.useTotal&&(f=this.foreign=="00"?ecount.widget.replaceAttr(this.tempTotal,{date:_.get(t,"total.date",""),billName:ecount.resource.LBL20391,unpaidName:ecount.resource.LBL20365,bill:ecount.convertor.formatNumeric(this.getPayNumber(_.get(t,"total.bill",0)),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit,unpaid:ecount.convertor.formatNumeric(this.getPayNumber(_.get(t,"total.unpaid",0)),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit,paymentButton:e}):this.RegFlag=="N"?ecount.widget.replaceAttr(this.tempTotalForeign,{date:_.get(t,"total.date",""),expireDateName:ecount.resource.LBL40378+" : ",expireDate:_.get(t,"total.expireDate",""),unpaidName:ecount.resource.LBL05612+" : ",expireDay:_.get(t,"total.expireDay",""),warnMessage:ecount.resource.MSG70617,paymentButton:e}):ecount.widget.replaceAttr(this.tempTotalForeign_regular,{date:_.get(t,"total.date",""),expireDateName:ecount.resource.LBL40378+" : ",expireDate:_.get(t,"total.expireDate",""),unpaidName:ecount.resource.LBL05612+" : ",expireDay:_.get(t,"total.expireDay",""),billingName:ecount.resource.LBL40373,paidPeriod:_.get(t,"total.paidPeriod",""),billingAmt:ecount.resource.LBL08602,paidAmt:_.get(t,"total.paidAmt",""),warnMessage:ecount.resource.MSG40249,paymentButton:h})),r=ecount.widget.replaceAttr(r,{liList:this.getTempActiveLi(t.components)}),u=ecount.widget.replaceAttr(u,{liList:this.getTempStandardLi(t.components)}),ecount.widget.replaceAttr(n,{tempTitle:o,activeUl:r,subtotal:i,tempTotal:f,middleLeft:s,standardUl:u},this)},onMount:function(n){this._$ActiveUl=this.$el.find("ul.service-item-apply-list");this._$StandardUl=this.$el.find("ul.service-item-list");this.useTotal&&(this._$totalBill=this.$el.find("div[data-comp-parts='bill']"),this._$totalUnpaid=this.$el.find("div[data-comp-parts='unpaid']"));this.setStandardLiTooltip(n)},setStandardLiTooltip:function(n){for(var r=this._$StandardUl.find("li"),t=0;t<r.length;t++){var u=$(r[t]),f=_.get(u.data(),"index"),i=n.components.find(function(n){return n.index==f});i&&i.tooltip&&ecount.popover.create(u,{html:!0,placement:"auto",title:i.tooltip.replaceAll("\n","<br>"),trigger:"hover",type:"tooltip"})}},getTempClickParts:function(n,t){var i=_.merge({css:"",cid:"",index:"",role:"",type:"",roleIndex:"",label:""},t);return i.index=_.isNumber(i.index)?'data-index="'+i.index+'"':"",i.roleIndex=_.isNumber(i.roleIndex)?'data-role-index="'+i.roleIndex+'"':"",ecount.widget.replaceAttr(n,i)},getTempActiveLi:function(n){var f=[],o='<li id="{{id}}" data-index={{index}} data-cid="{{cid}}" data-role="{{index}}" data-role-index="{{index}}">\n<div class="service-item">\n<div class="text-bold">{{name}}<\/div>\n{{contents}}\n{{price}}\n<div class="text-right">{{buttons}}<\/div>\n<\/div>\n<\/li>',r='<div class="text-right text-bold" data-comp-parts="price">{{price}}<\/div>',i="",e='<div class="text-center {{css}}" data-comp-parts="contents">{{contents}}<\/div>',t="",u=[],s=n.filter(function(n){return n.active});return s.forEach(function(n){i="";t="";u=[];_.isPlainObject(n.contents)?(_.has(n,"contents.request")?t=this.getTempContentsByRequest(n.contents):_.has(n,"contents.link")?t=this.getTempClickParts(this.tempAnchor,{cid:n.cid,index:n.index,type:n.type,role:"contents",roleIndex:"0",label:_.get(n,"contents.link","")}):_.has(n,"contents.text")&&(t=_.get(n,"contents.text","")),t=ecount.widget.replaceAttr(e,{contents:t,css:_.get(n,"contents.css","")})):_.has(n,"contents")&&(t=ecount.widget.replaceAttr(e,{contents:"",css:""}));_.isArray(n.activeButton)&&n.activeButton.forEach(function(t,i){u.push(this.getTempClickParts(this.tempButton,{css:t.css,cid:n.cid,index:n.index,type:n.type,role:t.id,roleIndex:i,label:t.label}))},this);n.price!=""&&(i=this.foreign=="00"?ecount.widget.replaceAttr(r,{price:ecount.convertor.formatNumeric(this.getPayNumber(n.price),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit}):Number(n.price)!=0?ecount.widget.replaceAttr(r,{price:String.format(this.payUnit.unit,ecount.convertor.formatNumeric(this.getPayNumber(n.price),ecount.config.company.THOU_SEPARATOR))}):ecount.widget.replaceAttr(r,{price:ecount.resource.LBL15850}));f.push(ecount.widget.replaceAttr(o,{id:n.id,index:n.index,cid:n.cid,name:n.type==="default"?n.name:this.getTempClickParts(this.tempAnchor,{css:"text-bold",cid:n.cid,index:n.index,type:n.type,role:"name",roleIndex:"0",label:n.name}),price:i,contents:t,buttons:u.join("\n")}))},this),f.join("\n")},getTempContentsByRequest:function(n){var f='{{requestName}} : {{requestAnchor}}\n<span class="inline-divider"><\/span>\n{{usedName}} : {{usedAnchor}}',t=_.get(n,"request",""),i=_.get(n,"used",""),r=$.isNumber(t),u=$.isNumber(i);return ecount.widget.replaceAttr(f,{requestName:ecount.resource.LBL19480,requestAnchor:this.getTempClickParts(r?this.tempAnchor:this.tempText,{css:"text-bold",cid:n.compData.cid,index:n.compData.index,type:n.compData.type,role:"requestCount",roleIndex:"0",label:t+(r?_.get(n,"unit",""):"")}),usedName:ecount.resource.LBL01451,usedAnchor:this.getTempClickParts(u?this.tempAnchor:this.tempText,{css:"text-bold",cid:n.compData.cid,index:n.compData.index,type:n.compData.type,role:"usedCount",roleIndex:"1",label:i+(u?_.get(n,"unit",""):"")})})},getTempStandardLi:function(n){var r=[],u='<li class="{{liCss}}" data-cid="{{cid}}" data-index="{{index}}">\n<div class="service-item" data-trigger="hover" data-toggle="tooltip" data-placement="top" data-html="true" title="" data-original-title="신청단위 : 5명 (50GB)<br />사용료 : 월 11,000원 추가<br />서비스 최초 신청 시 1개월 무료">\n{{namePack}}\n<div class="text-right">{{buttons}}<\/div>\n<\/div>\n<\/li>',f='<div class="text-bold">{{name}}<\/div>',e='<div class="two-lines">{{name}}<div>{{subName}}<\/div><\/div>',t="",i=[];return n.forEach(function(n){t="";i=[];t=ecount.widget.replaceAttr(f,{name:this.getTempClickParts(this.tempAnchor,{css:"text-bold",cid:n.cid,index:n.index,type:n.type,role:"name",roleIndex:"0",label:n.name})});n.subName&&(t=ecount.widget.replaceAttr(e,{name:t,subName:this.getTempClickParts(this.tempAnchor,{css:"text-bold",cid:n.cid,index:n.index,type:n.type,role:"subName",roleIndex:"1",label:ecount.convertor.formatNumeric(this.getPayNumber(n.subName),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit})}));_.isArray(n.button)&&n.button.forEach(function(t,r){i.push(this.getTempClickParts(this.tempButton,{css:t.css,cid:n.cid,index:n.index,type:n.type,role:t.id,roleIndex:r,label:t.label}))},this);r.push(ecount.widget.replaceAttr(u,{id:n.id,index:n.index,cid:n.cid,namePack:t,liCss:n.active?"hidden":"",buttons:i.join("\n")}))},this),r.join("\n")},getElements:function(n,t){if(n==this._IT_SELF||$.isNull(n))return this.$el;var i=!t?this._$StandardUl.find("li[data-index="+n+"]"):this._$ActiveUl.find("li[data-index="+n+"]");return i.length===0?this.$el:i},onChangeActive:function(n,t){var i=this.getElements(n);t?i.addClass("hidden"):(this.getElements(n,!0).remove(),i.removeClass("hidden"))},onChangeSubName:function(n,t){var i=this.getElements(n).find("[data-role='subName']");i.length&&i.text(ecount.convertor.formatNumeric(this.getPayNumber(t),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit)},onChangeContents:function(n,t){var r,i;_.has(t,"request")?(r=this.getElements(n,!0).find("div[data-comp-parts='contents']"),r.length>0&&(r.empty(),r.append(this.getTempContentsByRequest(t)))):_.has(t,"link")?(i=this.getElements(n,!0).find("[data-role='contents']"),i.length&&i.text(_.get(t,"link",""))):_.has(t,"text")&&(i=this.getElements(n,!0).find(".text-center"),i.length&&i.text(_.get(t,"text","")))},onChangePrice:function(n,t){var i=this.getElements(n,!0).find("[data-comp-parts='price']");i.length&&(this.foreign=="00"?i.text(ecount.convertor.formatNumeric(this.getPayNumber(t),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit):i.text(String.format(this.payUnit.unit,ecount.convertor.formatNumeric(this.getPayNumber(t),ecount.config.company.THOU_SEPARATOR))))},onChangeTotal:function(n,t){this._$totalBill&&this._$totalBill.text(ecount.convertor.formatNumeric(this.getPayNumber(_.get(t,"bill",0)),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit);this._$totalUnpaid&&this._$totalUnpaid.text(ecount.convertor.formatNumeric(this.getPayNumber(_.get(t,"unpaid",0)),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit)},addActiveItem:function(n){if(n){n=_.isArray(n)?n:[n];var t=this.getTempActiveLi(n);this._$ActiveUl.append(t)}}},webMailAddition:{__inheritParent:"widget.view.service",wrapperSet:'<div class="service-application">',template:"{{tempTitle}}{{activeUl}}{{tempTotal}}{{middleLeftMsg1}}{{middleLeftMsg2}}{{standardUl}}",tempTitle:'<div class="wrapper-sub-title">\n<div class="pull-left">\n{{topLeftTitle}}\n<\/div>\n<div class="pull-right toolbar-text">\n<span class="text-xs">{{topRightDesc}}<\/span>\n<\/div>\n<\/div>',tempTotal:'<div class="service-item transparent">\n<div>\n<div>\n{{expireDateName}}<span class="text-danger text-bold">{{expireDate}}<\/span>\n<\/div>\n<div>\n{{unpaidName}}<span class="text-danger text-bold">{{expireDay}}<\/span>\n<\/div>\n<\/div>\n<\/div>',tempButton:'<button class="{{css}}" data-cid="{{cid}}" {{index}} data-role="{{role}}" {{roleIndex}} data-type="{{type}}">{{label}}<\/button>',tempAnchor:'<a href="javascript:;" class="{{css}}" data-cid="{{cid}}" {{index}} data-role="{{role}}" {{roleIndex}} data-type="{{type}}">{{label}}<\/a>',tempText:'<span class="{{css}}" data-cid="{{cid}}" {{index}} data-comp-parts="{{role}}" data-type="{{type}}">{{label}}<\/span>',beforeMount:function(n){this.payUnit=n.payUnit;this.useTotal=!!n.total;ecount.control.view.prototype.beforeMount.apply(this,arguments)},getPayNumber:function(n){return n!==""&&_.isString(n)?n.replace(/[^0-9.-]/g,""):n},onInitTemplate:function(n,t){var f=ecount.widget.replaceAttr(this.tempTitle,{topLeftTitle:_.get(t,"title.topLeftTitle",""),topRightDesc:_.get(t,"title.topRightDesc","")}),i='<ul class="service-item-apply-list">{{liList}}<\/ul>',u="",e=ecount.widget.replaceAttr('<div class="text-remark">{{middleLeftMsg1}}<\/div>',{middleLeftMsg1:_.get(t,"title.middleLeftMsg1","")}),o=ecount.widget.replaceAttr('<div class="text-remark">{{middleLeftMsg2}}<\/div>',{middleLeftMsg2:_.get(t,"title.middleLeftMsg2","")}),r='<div class="service-item total"><div><\/div><div><\/div>{{liList}}<\/div>';return this.useTotal&&(u=ecount.widget.replaceAttr(this.tempTotal,{expireDateName:ecount.resource.LBL20361+" : ",expireDate:_.get(t,"total.expireDate",""),unpaidName:ecount.resource.LBL05612+" : ",expireDay:_.get(t,"total.expireDay","")})),i=ecount.widget.replaceAttr(i,{liList:this.getTempActiveLi(t.components)}),r=ecount.widget.replaceAttr(r,{liList:this.getTempStandardBottom(ecount.convertor.formatNumeric(this.getPayNumber(_.get(t,"total.price",0)),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit)}),ecount.widget.replaceAttr(n,{tempTitle:f,activeUl:i,tempTotal:u,middleLeftMsg1:e,middleLeftMsg2:o,standardUl:r},this)},getTempClickParts:function(n,t){var i=_.merge({css:"",cid:"",index:"",role:"",type:"",roleIndex:"",label:""},t);return i.index=_.isNumber(i.index)?'data-index="'+i.index+'"':"",i.roleIndex=_.isNumber(i.roleIndex)?'data-role-index="'+i.roleIndex+'"':"",ecount.widget.replaceAttr(n,i)},getTempActiveLi:function(n){var u=[],e='<li id="{{id}}" data-index={{index}} data-cid="{{cid}}" data-role="{{index}}" data-role-index="{{index}}">\n<div class="service-item">\n<div class="text-bold">{{name}}<\/div>\n{{contents}}\n{{price}}\n<div class="text-right">{{buttons}}<\/div>\n<\/div>\n<\/li>',o='<div class="text-right text-bold" data-comp-parts="price">{{price}}<\/div>',i="",f='<div class="text-center {{css}}" data-comp-parts="contents">{{contents}}<\/div>',t="",r=[],s=n.filter(function(n){return n.active});return s.forEach(function(n){i="";t="";r=[];_.isPlainObject(n.contents)?(_.has(n,"contents.request")?t=this.getTempContentsByRequest(n.contents):_.has(n,"contents.link")?t=this.getTempClickParts(this.tempAnchor,{cid:n.cid,index:n.index,type:n.type,role:"contents",roleIndex:"0",label:_.get(n,"contents.link","")}):_.has(n,"contents.text")&&(t=_.get(n,"contents.text","")),t=ecount.widget.replaceAttr(f,{contents:t,css:_.get(n,"contents.css","")})):_.has(n,"contents")&&(t=ecount.widget.replaceAttr(f,{contents:"",css:""}));_.isArray(n.activeButton)&&n.activeButton.forEach(function(t,i){r.push(this.getTempClickParts(this.tempButton,{css:t.css,cid:n.cid,index:n.index,type:n.type,role:t.id,roleIndex:i,label:t.label}))},this);n.price!=""&&(i=ecount.widget.replaceAttr(o,{price:ecount.convertor.formatNumeric(this.getPayNumber(n.price),ecount.config.company.THOU_SEPARATOR)+this.payUnit.unit}));u.push(ecount.widget.replaceAttr(e,{id:n.id,index:n.index,cid:n.cid,name:this.getTempClickParts(this.tempText,{css:"text-primary text-bold",cid:n.cid,index:n.index,type:n.type,role:"name",roleIndex:"0",label:n.name}),price:i,contents:t,buttons:r.join("\n")}))},this),u.join("\n")},getTempContentsByRequest:function(n){var r='{{requestName}} : {{requestAnchor}}\n<span class="inline-divider"><\/span>\n{{usedName}} : {{usedAnchor}}',t=_.get(n,"request",""),i=_.get(n,"used",""),u=$.isNumber(t),f=$.isNumber(i);return ecount.widget.replaceAttr(r,{requestName:ecount.resource.LBL19480,requestAnchor:this.getTempClickParts(this.tempText,{css:"text-primary text-bold",cid:n.compData.cid,index:n.compData.index,type:n.compData.type,role:"requestCount",roleIndex:"0",label:t+(u?_.get(n,"unit",""):"")}),usedName:ecount.resource.LBL01451,usedAnchor:this.getTempClickParts(this.tempText,{css:"text-primary text-bold",cid:n.compData.cid,index:n.compData.index,type:n.compData.type,role:"usedCount",roleIndex:"1",label:i+(f?_.get(n,"unit",""):"")})})},getTempStandardBottom:function(n){var t=[],i=['<div class="text-right">{{pricePack}}<\/div>','<div class="text-right">{{buttons}}<\/div>',].join("\n");return t.push(ecount.widget.replaceAttr(i,{buttons:this.getTempClickParts(this.tempButton,{css:"btn btn-primary btn-xl",type:"payment",role:"payment",label:ecount.resource.BTN00261}),pricePack:ecount.widget.replaceAttr('<div class="text-bold text-lg">{{price}}<\/div>',{price:n,type:"price",role:"price"})})),t.join("\n")}}}};widget.paging={};widget.paging._baseLoaded=!1;widget.paging._export=function(){return{_default:{controlType:"widget.paging",viewName:"widget.paging",isButtonType:!0,useWrapperSet:!1,_defaultCss:"form-control",init:function(){ecount.control.prototype.init.apply(this,arguments)},initializeOptions:function(n){this.pagingMoveHandler=n.pagingMoveHandler},onInitState:function(n,t,i){var r=i._maxRowCount%i._pagePerRowCount?1:0;t["opt.currentPage"]=i._currentPage||1;t["opt.totalPage"]=Math.floor(i._maxRowCount/i._pagePerRowCount)+r;this._makePagingComponents(t);this._initFirstPageIndex(t,i);this._initButtonDisplayState(t,i);t["opt.totalPage"]==1&&(t["style.display"]=!1)},_makePagingComponents:function(n){n.components=[{value:""},{label:"","style.css":"btn btn-default",ecRole:"14"}]},_initFirstPageIndex:function(n){n["opt.firstPage"]=Math.floor((n["opt.currentPage"]-1)/10)*10+1},_initButtonDisplayState:function(n){var i={firstPage:Number(n["opt.firstPage"]),currentPage:Number(n["opt.currentPage"]),totalPage:Number(n["opt.totalPage"])},t=this._getHideButtonInfo(i);n["opt.firstHide"]=t.firstHide;n["opt.lastHide"]=t.lastHide;n["opt.prevHide"]=t.prevHide;n["opt.nextHide"]=t.nextHide},render:function(){ecount.control.prototype.render.apply(this,arguments)},createView:function(){return this.ecview=new widget.view.paging},_getHideButtonInfo:function(n){return{firstHide:n.currentPage===1,lastHide:n.currentPage===n.totalPage,prevHide:n.firstPage===1,nextHide:Math.floor((n.currentPage-1)/10)===Math.floor((n.totalPage-1)/10)}},_setHideButtonInfo:function(n){var t=this._IT_SELF;this.setState(t,"opt.firstHide",n.firstHide);this.setState(t,"opt.lastHide",n.lastHide);this.setState(t,"opt.prevHide",n.prevHide);this.setState(t,"opt.nextHide",n.nextHide)},setPagingInfo:function(n,t,i){var r=Math.floor(i/t)+1;this._setTotalPage(r);this._ON_CLICK_PAGE(n||1,null)},ON_INPUT:function(n){var i=this._getPageInfo(),t=Number(n.value.replace(/[^\d]/g,""));return i.totalPage<t?this.setState(0,"value",i.totalPage.toString()):t===0?this.setState(0,"value",""):n.value!=t&&this.setState(0,"value",t.toString()),!1},ON_CLICK:function(n,t,i,r){var u=Number(n.ecRole),e=this._getPageInfo(),f=e.firstPage+u-2;_.isNaN(u)||(f=u>1&&u<12?this._ON_CLICK_PAGE(f,t):this._ON_CLICK_BUTTON(u,t),r.pageIndex=f)},_ON_KEYDOWN_ENTER:function(n,t,i,r){r.pageIndex=this._ON_CLICK_BUTTON("movePage",t)},_getPageInfo:function(){var n=this._IT_SELF;return{firstPage:Number(this.getState(n,"opt.firstPage")),currentPage:Number(this.getState(n,"opt.currentPage")),totalPage:Number(this.getState(n,"opt.totalPage"))}},_ON_CLICK_PAGE:function(n,t){var i=this._getPageInfo();if(!(i.totalPage<n)&&!(n<1)&&n!=i.currentPage)return this.setState(0,"value",""),i.firstPage=this._setFirstPage(n,i),i.currentPage=this._setCurrentPage(n,i),this._setHideButtonInfo(this._getHideButtonInfo(i)),this.pagingMoveHandler&&this.pagingMoveHandler({index:n},t),n},_setTotalPage:function(n){var t=this._IT_SELF;n&&(this.setState(t,"opt.totalPage",n),this.setState(t,"style.display",n!==1))},_setFirstPage:function(n,t){var r=this._IT_SELF,i=Math.floor((n-1)/10)*10+1;return t.firstPage!=i&&this.setState(r,"opt.firstPage",i),i},_setCurrentPage:function(n){var t=this._IT_SELF;return this.setState(t,"opt.currentPage",n),n},_ON_CLICK_BUTTON:function(n,t){var r=this._getPageInfo(),i;switch(n.toString()){case"0":i=1;break;case"1":i=r.firstPage-10;break;case"12":i=r.firstPage+10;break;case"13":i=r.totalPage;break;default:i=this.getState(0,"value")}return this._ON_CLICK_PAGE(i,t)},moveFirstPage:function(n){this._setScheduledPage(1);n&&this.movePage()},moveLastPage:function(n){var t=this._getPageInfo().totalPage;this._setScheduledPage(t);n&&this.movePage()},movePrevPage:function(n){var t=this._getScheduledPage();this._setScheduledPage(t-1);n&&this.movePage()},moveNextPage:function(n){var t=this._getScheduledPage();this._setScheduledPage(t+1);n&&this.movePage()},movePage:function(n){var n=n||this._getScheduledPage();this._ON_CLICK_PAGE(n,null);this._scheduledPage=0},_getScheduledPage:function(){var n=this._getPageInfo().currentPage;return this._scheduledPage||n},_setScheduledPage:function(n){var t=this._getPageInfo();t.totalPage>=n&&n>=1?this._scheduledPage=n:t.totalPage<n?this._scheduledPage=t.totalPage:1>n&&(this._scheduledPage=1);this.setState(0,"value",this._scheduledPage)}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.paging.repository[n]||{},widget.paging._baseLoaded||(i=$.Class(ecount.control,widget.paging.repository._default),r=$.Class(ecount.control.view,widget.view.paging.repository._default),widget.paging=$.extend(i,widget.paging),widget.view.paging=$.extend(r,widget.view.paging),widget.paging._baseLoaded=!0,n!="_default"))&&(widget.paging[n]||(t.init||(t.init=function(){widget.paging.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.paging.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.paging.prototype.createView.apply(this,arguments);var n=viewProperty;return n!="function"&&(n=$.Class(widget.view.paging,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.paging,widget.paging[n]=$.Class(u,t)))}}};widget.view.paging._export=function(){return{_default:{template:'<ul class="pagination">{{pagingButton}}<\/ul><span class="inline-divider"><\/span>((input)){{maxpage}}((button))',liTemplate:'<li class="{{classData}}"><a href="javascript:;" data-role={{command}}>{{label}}<\/a><\/li>',wrapperTemplate:'<div class="wrapper-pagination {{style.display}}" data-ecpath="{{ecPath}}" data-ecikey="{{ecIKey}}">((this.template))<\/div>',init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){this._savePagingState(arguments[0]);ecount.control.view.prototype.render.apply(this,arguments)},_savePagingState:function(n){this.totalPage=n["opt.totalPage"];this.FirstPage=n["opt.firstPage"]},onInitTemplate:function(n,t){for(var r=[],i=0;i<14;i++)r.push(ecount.widget.replaceAttr(this.liTemplate,this._makeLiAttr(t,i)));return n=n.replace("{{maxpage}}"," / "+t["opt.totalPage"]+" "),n.replace("{{pagingButton}}",r.join(""))},_makeLiAttr:function(n,t){var r=![0,1,12,13].contains(t),i=t+n["opt.firstPage"]-2;return{classData:this._getPagingClass(n,t,i),command:t.toString(),label:r?i:""}},_getPagingClass:function(n,t,i){var t=t.toString(),r="";switch(t){case"0":r+="first-page ";n["opt.firstHide"]&&(r+="hidden");break;case"1":r+="prev-page ";n["opt.prevHide"]&&(r+="hidden");break;case"12":r+="next-page ";n["opt.nextHide"]&&(r+="hidden");break;case"13":r+="last-page ";n["opt.lastHide"]&&(r+="hidden");break;default:n["opt.totalPage"]<i?r+="hidden ":n["opt.currentPage"]==i&&(r+="active ")}return r},onChangeOptFirstPage:function(n,t){var f,r,u,i;for(this.FirstPage=t,f=this.$el.find("li"),i=2;i<12;i++)r=$(f[i]),u=t+i-2,r.find("a")[0].innerText=u,u>this.totalPage?r.addClass("hidden"):r.removeClass("hidden")},onChangeOptCurrentPage:function(n,t){var i=t%10+1;t%10==0&&(i=11);this.$el.find(".active").removeClass("active");$(this.$el.find("li")[i]).addClass("active")},onChangeOptTotalPage:function(n,t){var u,f,r,e,i;for(this.totalPage=t,u=this.$el.find("input")[0].nextSibling,u.nodeValue=" / "+t+" ",f=this.$el.find("li"),i=2;i<12;i++)r=$(f[i]),e=this.FirstPage+i-2,e>this.totalPage?r.addClass("hidden"):r.removeClass("hidden")},onChangeOptFirstHide:function(n,t){var i=$(this.$el.find("li")[0]);t?i.addClass("hidden"):i.removeClass("hidden")},onChangeOptPrevHide:function(n,t){var i=$(this.$el.find("li")[1]);t?i.addClass("hidden"):i.removeClass("hidden")},onChangeOptNextHide:function(n,t){var i=$(this.$el.find("li")[12]);t?i.addClass("hidden"):i.removeClass("hidden")},onChangeOptLastHide:function(n,t){var i=$(this.$el.find("li")[13]);t?i.addClass("hidden"):i.removeClass("hidden")}}}};widget.searchPeriod={};widget.searchPeriod._baseLoaded=!1;widget.searchPeriod._export=function(){return{_default:{controlType:"widget.searchPeriod",category:null,_useResetData:!0,onInitChildControl:function(n,t){var u=widget.generator,i=u.control(),f=ecount.resource,r=t.category;this.category=r;n.addControl(i.define("widget.multiDate","searchPeriodMultiDate","SEARCHPERIODMULTIDATE"));this.category&&n.addControl(i.define("widget.select","searchPeriod_select","CATEGORY").option(r).select(r[0][0]).setOptions({css:"btn-group-select-inline"}));n.addControl(i.define("widget.input.search","searchPeriodInput","KEYWORD").setOptions({css:"textbox-inline",containsType:"gen"}));n.addControl(i.define("widget.button","searchPeriodButton","SEARCHPERIODBUTTON").label(ecount.resource.BTN00004).setOptions({css:"btn btn-default btn-sm"}));n.setOptions({_setSpace:!0})},ON_CLICK:function(n,t,i,r){n.cid!="searchPeriodButton"||this.validate().length||_.extend(r,this._getDataForDelegator(n,t,i,r))},ON_KEYDOWN_ENTER:function(n,t,i,r){var u=this._getDataForDelegator(n,t,i,r);i&&(i.cid!="searchPeriodInput"||this.validate().length||this.delegator&&this.delegator.triggerEvent("control.change",u),this._onNextFocus(i,n.cindex))},ON_KEYDOWN_ENTER_SERVICE:function(n,t,i){i&&this._onNextFocus(i,n.cindex)},_onNextFocus:function(n,t){if($.isNull(n.getComponent(t+1)))this.onNextFocus(this.getIndex(n.cid));else n.onNextFocus(t)},_getDataForDelegator:function(n,t){var i={__self:this,event:t,type:"click",index:n.cindex,command:this._makeCommandString()};return _.extend(i,this.getValue())},setValue:function(n){n.period&&this.controlList[0].setDate(n.period);n.category&&this.controlList[1].setValue(n.category);n.keyword&&(this.category?this.controlList[2].setValue(n.keyword):this.controlList[1].setValue(n.keyword))},getValue:function(){var n={};return n.period=this.controlList[0].serialize(),this.category?(n.category=this.controlList[1].getValue(),n.keyword=this.controlList[2].getValue().replaceSpecial()):(n.category=null,n.keyword=this.controlList[1].getValue().replaceSpecial()),n},resetData:function(){return this.setValue({keyword:this._savedValue}),!0},getResetData:function(){return this.getValue().keyword}},create:function(n){var t,i,r;(n=n||"_default",t=widget.searchPeriod.repository[n]||{},ecount.control.lazyLoad("widget.combine"),widget.searchPeriod._baseLoaded||(i=$.Class(widget.combine,widget.searchPeriod.repository._default),widget.searchPeriod=$.extend(i,widget.searchPeriod),widget.searchPeriod._baseLoaded=!0,n!="_default"))&&(widget.searchPeriod[n]||(t.init||(t.init=function(){widget.searchPeriod.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.searchPeriod.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.searchPeriod,widget.searchPeriod[n]=$.Class(r,t)))}}};widget.template=function(n,t,i){return widget.template[n](t,i)};widget.template.parseHTML=function(n,t){var s=t,i=n,e=i.match(/(\{\{.*?\}\})/g),u,o,f,r;if(e===null)return i;for(u=0,o=e.length;u<o;u++)f=e[u],r=s[f.match(/\{\{(.*?)\}\}/)[1]],r?(r=typeof r=="string"?r.trim():r,i=i.replace(f,r)):i=i.replace(f,"");return i};widget.template.signbox=function(n,t){var r=function(i){var e=0,o=!0,f=0,c="",l="",r=[],s,a=n.isLeftHeaderWidthFix,v=n.leftHeaderWidth,h,u;if(i.Data&&i.Data.Items&&i.Data.Items.length!=0){for(a?f=v:(f=i.Data.TitleWidth,f==0&&(o=!1)),e=f,u=0;u<i.Data.Items.length;u++)e+=i.Data.Items[u].Width,c+="<col style='width: "+i.Data.Items[u].Width+"px'>";if(r.push(" <table class='table table-bordered' style='width:"+e.toString()+"px;' > "),r.push(" <colgroup> "),o&&r.push(" <col style='width:"+f+"px;'>"),r.push(c),r.push(" <\/colgroup>"),r.push(" <tbody> "),r.push(" <tr>  "),o){if(r.push(" <th rowspan='2' style='font-size:"+i.Data.TitleFontSize+"px;'> "),i.Data.SignTitle==ecount.resource.widget.APVL)r.push(ecount.resource.widget.APVL.replace("{0}",""));else for(h=i.Data.SignTitle.split(""),u=0;u<h.length;u++)r.push(h[u]);r.push(" <\/th>")}for(u=0;u<i.Data.Items.length;u++)r.push(" <th style='font-size:"+i.Data.Items[u].FontSize+"px;'>"+i.Data.Items[u].Level+"<\/th>"),l+=" <td>&nbsp;<\/td> ";return r.push(" <\/tr> "),r.push(" <tr> "),r.push(l),r.push(" <\/tr> "),r.push("<\/table>"),s=e<=0?"":r.join(""),t&&t(s),s}},i,u;if(!t&&n.ecPageID)return i=ecount.global.findViewBag(n.ecPageID),u=i&&i.WidgetDatas?{Data:i.WidgetDatas["widget.signbox"].result}:null,r(u);ecount.common.api({url:"/Common/Infra/GetSignLevel",data:Object.toJSON({SerNo:n.serNo}),success:r})};widget.template["inventoryBook.header"]=function(n){var t=['<div class="wrapper-report-title" style="width:{{boxWidth}}px;">','<div class="report-title">','<div class="title">{{boxTitle}}<\/div>',"<\/div>",'<div class="approval-line">',n.bSignBox==="1"?"{{signbox}}":"","<\/div>","<\/div>",'<div class="wrapper-toolbar" style="width:{{boxWidth}}px;">','<div class="pull-left toolbar-text">{{companyName}}'," / ","{{itemName}}<\/div>",'<div class="pull-right toolbar-text">{{period}}<\/div>',"<\/div>"].join("");return widget.template.parseHTML(t,n)};widget.template["inventoryBook.footer"]=function(n){var t='<div class="wrapper-toolbar" style="width:{{boxWidth}}px;"><div class="pull-left">[P. {{page}}]<\/div><div class="pull-right">{{modifiedTime}}<\/div><\/div>';return widget.template.parseHTML(t,n)};widget.template["common.header"]=function(n){var t=['<div class="wrapper-report-title" style="width:{{boxWidth}}px;">','<div class="report-title">','<div class="title">{{boxTitle}}<\/div>',"<\/div>",'<div class="approval-line">',n.bSignBox==="1"?"{{signbox}}":"","<\/div>","<\/div>",'<div class="wrapper-toolbar" style="width:{{boxWidth}}px;">','<div class="pull-left toolbar-text">{{companyName}}<\/div>','<div class="pull-right toolbar-text">{{period}}<\/div>',"<\/div>"].join("");return widget.template.parseHTML(t,n)};widget.template["common.footer"]=function(n){var t='<div class="wrapper-toolbar" style="width:{{boxWidth}}px;"><div class="pull-left">[P. {{page}}]<\/div><div class="pull-right">{{modifiedTime}}<\/div><\/div>';return widget.template.parseHTML(t,n)};widget.board={};widget.board._baseLoaded=!1;widget.board._export=function(){return{_default:{controlType:"widget.board",viewName:"widget.view.board",init:function(){ecount.control.board.prototype.init.apply(this,arguments)},render:function(){ecount.control.board.prototype.render.apply(this,arguments)}},table:{controlType:"widget.board.table",viewName:"widget.view.board.table",onInitComponent:function(n,t,i,r,u){var f,o,e,s;for(ecount.control.board.prototype.onInitComponent.apply(this,arguments),f=i.components[t],o=u._columns||this._columns,e=0;e<o.length;e++)s=o[e],e==0?(r.labelText=f._statusLabel||"",r.linkText=f[s.propertyName]||"",r["style.css"]=['"label label-default"','"label label-primary"'][f._status]||"",r["attr.href"]="javascript:;"):r.label=f[s.propertyName]||"",r.id=f.id},onInitFunction:function(n,t){var i=t.functions;i.anchor={cid:this.id,ecRole:"board.more",id:["btn",this.containerName.ecCapitalize(!0),this.id.ecCamelize(!0),"ViewMore"].join(""),title:ecount.resource.LBL09004}},onMousedownListedItem:function(){},onMousedownMoreButton:function(){},onClickListedItem:function(n,t,i,r){var u=this.getComponent(n.cindex);if(!u)return!1;r.command=String.format("on-{0}-{1}",this.containerName,this.id).ecCamelize(!0);r.dataItem=_.merge({},u,{id:String.format("{0}{1}",this.id,n.cindex)});n.dataItem=_.merge({},u,{id:String.format("{0}{1}",this.id,n.cindex)})},onClickMoreButton:function(n,t,i,r){r.command=String.format("on-{0}-{1}-{2}",this.containerName,this.id,"ViewMore").ecCamelize(!0)},_getBoardColumns:function(n){return n._columns||[]}},li:{controlType:"widget.board.li",viewName:"widget.view.board.li",onInitState:function(n,t,i){ecount.control.board.prototype.onInitState.apply(this,arguments);this.__state.active=i.active||!1},onInitComponent:function(n,t,i,r){ecount.control.board.prototype.onInitComponent.apply(this,arguments);var u=i.components[t];r.id=String.format("{0}{1}",this.id,t);r.label=u._isNew?"":u._title||"";r.ecRole="board.item";r.replyNumber=u._replyNumber||"";r["attr.href"]="javascript:;";r["style.css"]=(u._isNew?"list-new":"")+" list-group-item ellipsis "+u["style.css"]?u["style.css"]:"";r.isNoIcon=u.isNoIcon||!1},onClickListedItem:function(n,t,i,r){var u=this.getComponent(_.isEmpty(n.cindex)?Number(ec$.getClosestAttr(t.target,"data-index")):n.cindex);if(!u)return!1;r.control=this;r.command=String.format("on-{0}-{1}",this.containerName,this.id).ecCamelize(!0);r.dataItem=_.merge({},u,{id:String.format("{0}{1}",this.id,n.cindex)});n.dataItem=_.merge({},u,{id:String.format("{0}{1}",this.id,n.cindex)})},toggleActive:function(n){n===undefined?this.setState(this._IT_SELF,"active",!this.getState(this._IT_SELF,"active")):this.setState(this._IT_SELF,"active",n)},onInitFunction:function(n,t,i){if(i._isShowAnchor!==!1){var r=t.functions;r.anchor={cid:this.id,ecRole:"board.more",id:["btn",this.containerName.ecCapitalize(!0),this.id.ecCamelize(!0),"ViewMore"].join(""),title:ecount.resource.LBL09004}}},onClickMoreButton:function(n,t,i,r){r.control=this;r.command=String.format("on-{0}-{1}-{2}",this.containerName,this.id,"ViewMore").ecCamelize(!0)},_getComponents:function(n,t,i){var r=[];return i._dataItems&&i._dataItems.length?r=Object.clone(i._dataItems.slice(0),!0):this._dataItems&&this._dataItems.length&&(r=Object.clone(this._dataItems.slice(0),!0)),r},_getBoardColumns:function(n){return n._columns||[]},_createItems:function(n){var t=n.map(function(n,t){return _.merge(n,{cid:this.id,id:String.format("{0}{1}",this.id,t),index:t,label:n._isNew?"":n._title||"",ecRole:"board.item",replyNumber:n._replyNumber||"","attr.href":"javascript:;","style.css":(n._isNew?"list-new":"")+" list-group-item ellipsis "+(n._css?n._css:""),"style.display":this.__state["style.display"]})}.bind(this));this.__state.components=t;this.ecview.updateComponentList(t)}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.board.repository[n]||{},i=ecount.control.board,widget.board._baseLoaded||(ecount.control.loadRepository(ecount.control.board,ecount.control.view.board,"widget.board"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(widget.board,t,"widget.board",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.board")){r=t.controlType.replace("widget.board.","");ecount.control.mountMixinWidget(widget.board,t,"widget.board",[widget.board,r]);return}widget.board[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.board,ecount.control.mountWidget(widget.board,n,i,t))}}}};widget.view.board._export=function(){return{_default:{},table:{headerTemplate:'<div class="panel-heading">\n{{title}}\n<div class="pull-right">[[anchor]]<\/div>\n<div class="pull-left"><\/div>\n<\/div>',containerTemplate:['<div class="panel-body">','<table class="table table-border-no-a">{{colgroup}}<tbody>{{itemTemplate}}<\/tbody><\/table>',"<\/div>",].join("\n"),anchorTemplate:'<a href="javascript:;" id="{{id}}" data-cid="{{cid}}" data-role="{{ecRole}}" class="customer-support-icon-more" data-toggle="tooltip" data-original-title="{{title}}"><\/a>',columnTemplate:"<col {{style.css}} />",tableCellTemplate:'<td data-cid="{{cid}}" class="ellipsis">{{tdContent}}<\/td>',tableContentTemplate:'<span data-index={{index}} id="{{id}}" data-cid="{{cid}}" class="{{style.css}} {{style.display}}" data-role="{{ecRole}}">{{labelText}}&nbsp;<a href="{{attr.href}}" data-index={{index}} id="{{id}}" data-cid="{{cid}}" data-role="{{ecRole}}">{{linkText}}<\/a><\/span>',template:'<span data-role={{ecRole}} class="{{style.display}}">{{label}}<\/span>',css:"customer-support-icon-more",onInitTemplate:function(n,t){var u=ecount.widget.replaceAttr(this.headerTemplate,t),i,r=t.columns.map(function(n){var t=$.extend({"style.css":n.width?'style="width:'+n.width+'"':""},n);return ecount.widget.replaceAttr(this.columnTemplate,t)}.bind(this)),f=t.components.map(function(i){for(var f="<tr>",u=0,e;u<r.length;u++)e=u==0?ecount.widget.replaceAttr(this.tableContentTemplate,$.extend(i,{"style.display":t["style.display"]})):ecount.widget.replaceAttr(n,$.extend(i,{"style.display":t["style.display"]})),f+=ecount.widget.replaceAttr(this.tableCellTemplate,i).replace("{{tdContent}}",e);return f+"<\/tr>"}.bind(this));return i=this.containerTemplate.replace("{{colgroup}}",["<colgroup>",r.join("\n"),"<\/colgroup>"].join("")).replace("{{itemTemplate}}",f.join("")),String.format('<div class="customer-support-main-qna">{0}<div>',['<div class="panel panel-default panel-lg">',u,i,"<\/div>"].join(""))},onMount:function(n){bootstrapFunc.tooltip.call(this.$el.find('a[data-role="'+n.functions.anchor.ecRole+'"]'),{container:"body"})}},li:{wrapperTemplate:['<div data-ecPath={{ecPath}} class="panel panel-default {{style.display}}">',"((this.template))","<\/div>",].join("\n"),headerTemplate:'<div class="panel-heading">\n<div class="pull-right">[[anchor]]<\/div>\n<div class="pull-left">{{title}}<\/div>\n<\/div>',anchorTemplate:'<a href="javascript:;" id="{{id}}" data-cid="{{cid}}" data-role="{{ecRole}}" class="aside-manual-more" data-toggle="tooltip" data-original-title="View More">{{title}}<\/a>',containerTemplate:'<ul class="list-group list-group-manual-list">{{itemTemplate}}<\/ul>',labelTemplate:'<li class="list-group-item ellipsis {{style.display}}"><span data-role={{ecRole}}>{{label}}<\/span><\/li>',iconTemplate:['<div class="option">','<a href="#" data-cid="{{cid}}"  data-index="{{index}}" data-role="movie" class="movie"><\/a>','<a href="#" data-cid="{{cid}}"  data-index="{{index}}" data-role="article" class="article"><\/a>',"<\/div>",].join(""),template:'<li class="{{style.css}} {{style.display}}">{{iconTemplate}}<a href="{{attr.href}}" data-index="{{index}}" id="{{id}}" data-cid="{{cid}}" data-role="{{ecRole}}"> {{label}}<\/a><\/li>',onInitTemplate:function(n,t){var i=ecount.widget.replaceAttr(this.headerTemplate,t),r=t.components.map(function(i){var r;return r=i._noData?this.labelTemplate:i.replyNumber&&!isNaN(+i.replyNumber)?String.format(" [{0}]",n):n,r=r.replace("{{iconTemplate}}",i.isNoIcon?"":this.iconTemplate),$.extend(i,{"style.display":t["style.display"]}),r=r.replace("{{style.display}}",i["style.display"]==!0?"":"hidden"),ecount.widget.replaceAttr(r,i)}.bind(this)),u=this.containerTemplate.replace("{{itemTemplate}}",r);return[i,u].join("")},onMount:function(n){n.functions.anchor&&bootstrapFunc.tooltip.call(this.$el.find('a[data-role="'+n.functions.anchor.ecRole+'"]'),{container:"body",delay:{show:ecount.common.mouseHoverInTime,hide:ecount.common.mouseHoverOutTime}})},updateComponentList:function(n){var r=n.map(function(n){var t;return t=n._noData?this.labelTemplate:n.replyNumber&&!isNaN(+n.replyNumber)?String.format(" [{0}]",this.template):this.template,t=t.replace("{{style.display}}",n["style.display"]==!0?"":"hidden"),t=t.replace("{{iconTemplate}}",n.isNoIcon?"":this.iconTemplate),ecount.widget.replaceAttr(t,n)}.bind(this)),i,t;for(this.$el.find("ul").empty().append(r.join("")),i=this.$el.find("li > a"),t=0;t<i.length;t++)this.createPopover($(i[t]),{popoverMessage:i[t].textContent})},createPopover:function(n,t){var i={popoverMessage:t.popoverMessage,placement:"top",trigger:"hover",container:n};this.setPopover(i,n)},onChangeActive:function(n,t){t?this.$el.hasClass("panel-primary")||(this.$el.removeClass("panel-default"),this.$el.addClass("panel-primary")):this.$el.hasClass("panel-default")||(this.$el.removeClass("panel-primary"),this.$el.addClass("panel-default"))}}}};widget.mainMenu._export=function(){return{_default:{template:['<div class="wrapper-global-nav">','<div class="toggle-nav"><\/div>','<div class="global-nav show-section-1">','<div class="global-nav-header">','<div class="nav-move-back"><\/div>','<div class="btn-group"><\/div>','<div class="nav-move-home"><\/div>',"<\/div>",'<div id="menuContainer" class="nav">',"<\/div>","<\/div>","<\/div>",].join("\n"),_openClassName:"open",_activedMenuItemLevel1ID:"",_activedMenuItemLevel2ID:"",_activedMenuItemLevel3ID:"",_activedMenuItemLevel4ID:"",_activedMenuLevel:1,_widgetMouseLeaveTimeOut:700,_maxWidthForResponsiveMode:768,_isMobile:!1,_isMenuDepth1ClickbyType4:!1,init:function(){ecount.control.prototype.init.apply(this,arguments);this._isMobile=/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());this._dataItems=this._dataItems!=undefined&&$.isArray(this._dataItems)?this._dataItems:[];this._menuItemID1=[];this._menuItems1=[];this._menuItems2=[];this._menuItems3=[];this._menuItems4=[];this._menus=[];this.menuType=="4"&&(this.onBodyClickHandler=function(n){var i=n.target,t;return t=this.$el.find(n.target),t[0]?void 0:(this.$mainContainer.hasClass(this._openClassName)&&(this.$mainContainer.removeClass(this._openClassName),this.$headerDropdown&&this.$headerDropdown.hide()),$(document).unbind("mousedown",this.onBodyClickHandler),$($("#mainbody").get(0).contentDocument).unbind("mousedown",this.onBodyClickHandler),this._isMenuDepth1ClickbyType4=!1,!1)}.bind(this))},render:function(){this.template=this.template.replace(/{{id}}/g,this.id);ecount.control.prototype.render.apply(this,arguments);this.$mainContainer=this.$el.find(".global-nav");this.$headerDropdownContainer=this.$el.find(".btn-group");this._createMenuItemsByLevel(this._dataItems);this._menu1=this._createMenuByLevel(1,this._menuItems1);this._menu2=this._createMenuByLevel(2,this._menuItems2);this._menu3=this._createMenuByLevel(3,[]);this._menus.push(this._menu1,this._menu2,this._menu3);this._createDropdownMenuLevel1(this._menuItems1);this._renderComplete(!0);this._initEvents()},_initEvents:function(){this.$el.on("mouseleave",function(){var n=this;ecount.global.setTimeout(this.ecPageID,function(){switch(n.menuType){case"3":n._activedMenuItemLevel2ID.length>0&&n.setActiveMenuItemByID(2,n._activedMenuItemLevel2ID);n.menuType=="3"&&($.isEmpty(n._activedMenuItemLevel1ID)?(n._menu1.clearAllMenuItemActivation(),n._menu2.clearAllGroupActivation()):(n._menu1.setActiveMenuItemByID(n._activedMenuItemLevel1ID),n._menu2.setActiveGroupMenuItemByID(n._activedMenuItemLevel1ID)));break;case"2":case"4":n._activedMenuItemLevel1ID.length>0&&n.setActiveMenuItemByID(1,n._activedMenuItemLevel1ID)}}.bind(this),this.mouseHoverOutTime)}.bind(this));this.$el.find(".nav-move-back").on("click",function(){this.goToPreviousMenuByLevel(this._activedMenuLevel)}.bind(this));this.$el.find(".nav-move-home").on("click",function(){this.goToNextMenuByLevel(0)}.bind(this));this.$el.find(".toggle-nav").on("click",function(){this._isMobile===!0||this.isResponsiveMode()===!0?(this.$mainContainer.toggleClass(this._openClassName),$(".wrapper-bookmark-bar").removeClass("open"),$(".qm-ecount-search").removeClass("open"),$(".qm-btn-customer-center").removeClass("open"),$(".qm-icon").removeClass("open")):this.isResponsiveMode()!==!0&&this.openMenuClick()}.bind(this));this.$el.find(".toggle-nav").on("mouseenter",function(){this._isMobile!==!0&&this.isResponsiveMode()!==!0&&this.openMenu()}.bind(this));this.$el.find(".toggle-nav").on("mouseleave",function(){this._isMobile!==!0&&this.isResponsiveMode()!==!0&&this.closeMenu()}.bind(this));this.$el.find(".global-nav").on("mouseenter",function(){this._isMobile!==!0&&this.isResponsiveMode()!==!0&&this.openMenu()}.bind(this));this.$el.find(".global-nav").on("mouseleave",function(){this._isMobile!==!0&&this.isResponsiveMode()!==!0&&this.closeMenu()}.bind(this))},_createDropdownMenuLevel1:function(n){this._createAnchorDropdownMenuLevel1();this._createMenuLevel1DropdownItems(n)},_createAnchorDropdownMenuLevel1:function(){var i=this,n={},t={};n.data=[{label:'<span class="caret"><\/span>'}];n._ON_CLICK=function(){i.$headerDropdown.toggle()};t=new ecount.control.anchor(n);t.render(this.$headerDropdownContainer)},_createMenuLevel1DropdownItems:function(n){for(var r=this,t={},i=0;i<n.length;i++)n[i].label=n[i].title,n[i].value=n[i].id;t.items=n;t.onClick=function(n){var t=this.$el.find("#"+n.targetID).attr("data-value"),i=r.$el.find(String.format("li#{0} a",t));i.trigger("click");r.$el.trigger("mouseleave")};t.pnode=this.$headerDropdownContainer;t.isSetDropdownSize=!0;t.pcid=this.id;t.ecPageID=this.ecPageID;this.$headerDropdown=new ecount.layout.dropdown(t);this.$headerDropdown.render(this.$headerDropdownContainer)},_createMenuItemsByLevel:function(n){for(var t={},i=0;i<n.length;i++){t=n[i];switch(t.level){case 1:this._menuItems1.push(t);this._menuItemID1.push(t.id);break;case 2:this._menuItems2.push(t);break;case 3:this._menuItems3.push(t);break;case 4:this._menuItems4.push(t)}}},_createMenuByLevel:function(n,t){var u=widget.generator,f=u.control(),i={},r={};switch(n){case 1:i.isSeparateGroupUL=!1;i.onClickComplete=this._onClickCompleteMenu1.bind(this);(this.menuType=="2"||this.menuType=="3")&&(i.ulCSS="on");break;case 2:i.isSeparateGroupUL=!0;i.parentMenuID="Level1";i.onClickComplete=this._onClickCompleteMenu2.bind(this);break;case 3:i.isHidden=!0;i.ulCSS="on";i.onClickComplete=this._onClickCompleteMenu3.bind(this);i.isLeftMenuHandleIn=this._leftMenuHandleIn.bind(this);i.isLeftMenuHandleOut=this._leftMenuHandleOut.bind(this)}return i.menuType=this.menuType,i.ecPageID=this.ecPageID,i.menuLevel=n,i.mainMenuID=this.id,i.groupULIDs=this._menuItemID1,this._createSpecialLogicForMenuByLevel(n,i),r=f.define("widget.menu.main","Level"+n,"Level"+n).setDataItems(t).setOptions(i).delegator(this.delegator).getInstance(),r.render(this.$el.find("#menuContainer")),r},_leftMenuHandleIn:function(){this.menuType=="1"&&(this._menu2.setLeftOutHandle(!0),this._clearerAllHoverEvent())},_leftMenuHandleOut:function(n){this._onHoverOutCompleteMenu2(n);this.menuType=="1"&&(this._menu2.setLeftOutHandle(!1),this.setActiveMenuItemByID(1,this._activedMenuItemLevel1ID),this._menu2.setActiveGroupMenuItemByID(this._activedMenuItemLevel1ID))},_createSpecialLogicForMenuByLevel:function(n,t){switch(n){case 1:(this.menuType=="2"||this.menuType=="3"||this.menuType=="4")&&(t.isUseHoverInDownLevelMenuOpen=!0);(this.menuType=="1"||this.menuType=="3")&&(t.isUseAnchorHoverIn=!0,t.anchorHoverInTimeout=400,t.onAnchorHoverInComplete=this._onAnchorHoverInCompleteMenu1.bind(this));this.menuType=="1"&&(t.onHoverOutComplete=this._onHoverOutCompleteMenu1.bind(this),t.clearerHoverOutLevel=2,t.clearerHoverOutTimer=this._clearerHoverOutTimer.bind(this),t.isUseMenuHoverOut=!0);break;case 2:this.menuType=="2"&&(t.isUseHoverInDownLevelMenuOpen=!0,t.hidden=!0);(this.menuType=="3"||this.menuType=="1")&&(t.isUseAnchorHoverIn=!0,this.menuType=="1"?(t.clearerHoverOutLevel=1,t.clearerHoverOutTimer=this._clearerHoverOutTimer.bind(this)):(t.clearerHoverOutLevel=3,t.clearerHoverOutTimer=this._clearerHoverOutTimer.bind(this)),t.onAnchorHoverInComplete=this._onAnchorHoverInCompleteMenu2.bind(this),t.isUseMenuHoverOut=!0,this.menuType=="1",t.onHoverOutComplete=this._onHoverOutCompleteMenu2.bind(this));break;case 3:this.menuType=="3"?(t.isUseAnchorHoverIn=!0,t.onAnchorHoverInComplete=this._onAnchorHoverInCompleteMenu3.bind(this),t.isUseMenuHoverIn=!0,t.onHoverInComplete=this._onHoverInCompleteMenu3.bind(this),t.isUseMenuHoverOut=!0,t.onHoverOutComplete=this._onHoverOutCompleteMenu3.bind(this),t.clearerHoverOutLevel=2,t.clearerHoverOutTimer=this._clearerHoverOutTimer.bind(this)):t.closeClassName="off";this.menuType!="3"&&(t.isUserDepth3HoverIn=!0)}t.clearerAllHoverEvent=this._clearerAllHoverEvent.bind(this)},_clearActivedMenuItemsByLevel:function(n){switch(n){case 1:this._activedMenuItemLevel1ID="";break;case 2:this._activedMenuItemLevel2ID="";break;case 3:this._activedMenuItemLevel3ID="";break;case 4:this._activedMenuItemLevel4ID=""}},_clearShowSectionCSSClass:function(){this.$mainContainer.removeClass("show-section-1");this.$mainContainer.removeClass("show-section-2");this.$mainContainer.removeClass("show-section-3")},_getMenuItemByID:function(n,t){for(var i={},u=null,r=0;r<t.length;r++)i=t[r],i.id==n&&(u=i);return u},_removeChildrenMenuItemsByID:function(n,t){var r={},i=[],u;if(!(n<=0)&&!(n>4)){switch(n){case 1:i=this._menuItems1;break;case 2:i=this._menuItems2;break;case 3:i=this._menuItems3;break;case 4:i=this._menuItems4}for(u=i.length-1;u>=0;u--)r=i[u],r.parentID==t&&(this._removeChildrenMenuItemsByID(r.level+1,r.id),i.splice(u,1),this._clearActivedMenuItemsByLevel(r.level))}},_resetActivedIDs:function(){this._activedMenuItemLevel1ID="";this._activedMenuItemLevel2ID="";this._activedMenuItemLevel3ID="";this._activedMenuItemLevel4ID=""},_renderComplete:function(n){var o=ecount.resource,t={},u={},f="",r,i;switch(this.menuType){case"1":for(i=this._menuItems2.length-1;i>=0;i--)if(t=this._menuItems2[i],t.isActived===!0){f=t.id;break}f.length>0&&t.parentID!=undefined&&t.parentID.length>0&&(this.setActiveMenuItemByID(1,t.parentID),this._menu2.setActiveGroupMenuItemByID(t.parentID),u=this.$el.find("li#"+t.parentID),this._menu2.setGroupMenuPositionByParentMenu(t.parentID,u));break;case"2":var t={},r="MENU",e=!1;for(i=0;i<this._menuItems1.length;i++)t=this._menuItems1[i],t.isActived===!0&&(r=t.title);for(i=0;i<this._menuItems2.length;i++)t=this._menuItems2[i],t.isActived===!0&&(e=t.title,this._menu2.setActiveGroupMenuItemByID(t.parentID));n===!0&&(this.setMenuTitleByLevel(1,r),this.setMenuTitleByLevel(2,e));break;case"3":for(r="MENU",i=0;i<this._menuItems1.length;i++)t=this._menuItems1[i],t.isActived===!0&&(r=t.title,this._menu2.setActiveGroupMenuItemByID(t.id));n===!0&&this.setMenuTitleByLevel(1,r)}},_setMainbodyClickEvent:function(){if(this._isMenuDepth1ClickbyType4==!0){$($("#mainbody").get(0).contentDocument).unbind("mousedown",this.onBodyClickHandler);$($("#mainbody").get(0).contentDocument).on("mousedown",this.onBodyClickHandler)}},_clearerHoverOutTimer:function(n){switch(n){case 1:ecount.global.clearTimeoutByTimerNo(this.ecPageID,this._menu1.anchorHoverOutTimer);break;case 2:ecount.global.clearTimeoutByTimerNo(this.ecPageID,this._menu2.anchorHoverOutTimer);break;case 3:ecount.global.clearTimeoutByTimerNo(this.ecPageID,this._menu3.anchorHoverOutTimer)}},_clearerAllHoverEvent:function(){for(var n,t=0,i=this._menus.length;t<i;t++)n=this._menus[t],ecount.global.clearTimeoutByTimerNo(this.ecPageID,n.anchorHoverOutTimer),ecount.global.clearTimeoutByTimerNo(this.ecPageID,n.anchorHoverTimer)},_onAnchorHoverInCompleteMenu1:function(n,t,i){var r=this.$el.find("li#"+i.id);(this.menuType=="1"||this.menuType=="3")&&this._menu2.setActiveGroupMenuItemByID(i.id);this.menuType=="1"&&(this._menu2.setGroupMenuPositionByParentMenu(i.id,r),this._clearerAllHoverEvent())},_returnBeforeStateClass:function(){$.isEmpty(this._activedMenuItemLevel1ID)?(this._menu1.clearAllMenuItemActivation(),this._menu2.clearAllGroupActivation()):(this._menu1.setActiveMenuItemByID(this._activedMenuItemLevel1ID),this._menu2.setActiveGroupMenuItemByID(this._activedMenuItemLevel1ID))},_onAnchorHoverInCompleteMenu2:function(n,t,i){var r={},u={},c=[],a=typeof i=="object"?i.id:i,s,p=this,o=[],l=function(t){for(var h,f,i,o,e=0;e<t.length;e++)if(r=t[e],r.isActived=!1,r.menuItems.length==0&&r.menuData.PARENTMENU_SEQ=="603"&&r.menuData.M_CNT=="0")s=r.title,c.push(r);else if(r.parentID==a){if($.isEmpty(s))for(i=0;i<this._menuItems2.length;i++)if(this._menuItems2[i].id==r.parentID){s=this._menuItems2[i].title;break}if(n.type=="mouseout"&&this.menuType=="1")for(h=this._menu3.depth3Class.slice(),i=0;i<h.length;i++)if(f=h[i],r.id==f.id){f._class=="on"||f._class=="off on"?delete r.isClosed:f._class=="off"?delete r.isActived:(delete r.isClosed,delete r.isActived);break}if(r.id==this._activedMenuItemLevel3ID&&(r.isActived=!0),r.menuItems!=undefined&&r.menuItems.length>0)for(o=0;o<r.menuItems.length;o++)u=r.menuItems[o],u.isActived=!1,u.id==this._activedMenuItemLevel4ID&&(u.isActived=!0);c.push(r)}c.length>0?(this.showMenuByLevel(3),this.menuType=="2"?this.setMenuTitleByLevel(2,s):this.setMenuTitleByLevel(3,s),this.reloadMenuItemsByLevel(3,c,n)):this.hideMenuByLevel(3)},y;if(typeof i=="object"&&$.isArray(i.menuItems))if(o=$.isEmpty(i.menuItems)?this._menuItems3.where(function(n){return n.parentID==i.id}):i.menuItems,$.isEmpty(o)){var h=i.menuData.MENU_CD,v=i.menuData.MENU_SEQ,e=i.menuData.MENU_TYPE,f=ecount.global.findPageInstance(this.ecPageID);i.menuData.MENU_TYPE=="6"&&($.isEmpty(h)&&(h="00000"),v=h==f._default.otherMyPage?603:0);y={MENU_TYPE:i.menuData.MENU_TYPE,MENU_SEQ:v,SUB_MENU:h,CON_DOMAIN:f._default.CON_DOMAIN,GDATETIME:f._default.NOW_DT,MENU_USER_CLOSED_YN:f._default.MENU_USER_CLOSED_YN};ecount.common.api({ecPageID:this.ecPageID,url:"/Common/Menu/GetListLeftMenu",data:'{"Dto":'+JSON.stringify(y)+"}",success:function(n){var b=n.Data.Data.LeftMenuData[0],s,y,c,t,r,p,w,v,a;for(i.bodyUrl=n.Data.Data.Body_URL,s=$.grep($(b),function(n){return e!="6"&&n.DEPTH=="3"||e=="6"&&(n.DEPTH=="4"&&!$.isEmpty(n.PARENTMENU_SEQ_ORG)||n.PARENTMENU_SEQ=="603"&&$.isEmpty(n.PARENTMENU_SEQ_ORG)||n.PARENTMENU_SEQ=="603"&&n.M_CNT==0)}),$.isEmpty(i.bodyUrl)&&e=="6"&&h==f._default.otherMyPage&&(y=$.grep($(s),function(n){return(n.menuData||n).PARENTMENU_SEQ_ORG==f._default.otherMyPage}),i.bodyUrl=y.length>0?y[0].MENU_URL:s[0].MENU_URL),c=0;c<s.length;c++){for(t=s[c],r={},r.title=t.MENU_NAME,r.level=3,r.menuData=t,(e=="6"||t.DEPTH=="3")&&(t.MENU_SEQ=="604"?r.isClosed=!1:(t.S_FLAG=="N"||t.FOLD_TYPE=="F")&&(r.isClosed=!0),e=="6"&&c==0&&(r.isClosed=!1)),e=="6"?(t.PARENTMENU_SEQ=="603"&&$.isEmpty(t.PARENTMENU_SEQ_ORG)&&(t.PARENTMENU_SEQ_ORG=f._default.otherMyPage),r.id=f._default.prefixMyPage+t.MENU_SEQ+"_"+t.PARENTMENU_SEQ_ORG,r.parentID=f._default.prefixMyPage+t.PARENTMENU_SEQ_ORG):e=="7"?(r.id=f._default.prefixGW+t.MENU_SEQ+"_"+t.MENU_CD,r.parentID=f._default.prefixGW+t.PARENTMENU_SEQ):(r.id=t.MENU_SEQ,r.parentID=t.PARENTMENU_SEQ),p=[],w=$.grep($(b),function(n){return e=="6"?n.DEPTH=="4"&&$.isEmpty(n.PARENTMENU_SEQ_ORG)&&n.PARENTMENU_SEQ==t.MENU_SEQ||n.DEPTH=="5"&&n.PARENTMENU_SEQ+"_"+n.PARENTMENU_SEQ_ORG==t.MENU_SEQ+"_"+t.MENU_SEQ_ORG:e=="7"?["@BOARD_NAME","@WORK_BOARD_NAME","@PROJECT_NAME","@MULTI_BOARD_NAME"].contains(t.PARENTMENU_SEQ_ORG)?n.DEPTH=="4"&&n.PARENTMENU_SEQ+"_"+n.MENU_CD==t.MENU_SEQ+"_"+t.MENU_CD:n.DEPTH=="4"&&n.PARENTMENU_SEQ==t.MENU_SEQ:!["6","7"].contains(e)&&n.DEPTH=="4"&&n.PARENTMENU_SEQ==t.MENU_SEQ}),v=0;v<w.length;v++){for(newItemLevel4={},u=w[v],u.MENU_SEQ=="490",newItemLevel4.title=u.MENU_NAME,newItemLevel4.level=4,newItemLevel4.parentID=r.id,newItemLevel4.url=ecount.common.buildSessionUrl(u.MENU_URL),newItemLevel4.menuData=u,a=0;a<s.length;a++)s[a].MENU_SEQ==u.PARENTMENU_SEQ&&(newItemLevel4.PARENTMENU_SEQ=s[a].PARENTMENU_SEQ);newItemLevel4.id=u.MENU_TYPE=="6"?u.DEPTH=="5"?f._default.prefixMyPage+u.MENU_SEQ+"_"+u.PARENTMENU_SEQ_ORG:f._default.prefixMyPage+u.MENU_SEQ+"_"+u.PARENTMENU_SEQ:u.MENU_TYPE=="7"?f._default.prefixGW+u.MENU_SEQ+"_"+u.MENU_CD:u.MENU_SEQ;f.setHref(newItemLevel4);p.push(newItemLevel4)}r.menuItems=p;f.setHref(r);this._menuItems3.contains(function(n){return n.id==r.id})||this._menuItems3.push(r);o.push(r)}i.menuItems=o;l.call(this,o)}.bind(this)})}else l.call(this,o);else typeof i=="string"&&(o=this._menuItems3.where(function(n){return n.parentID==a}),l.call(this,o))},_onAnchorHoverInCompleteMenu3:function(n,t,i){this.menuType=="3"&&$.isString(this._activedMenuItemLevel3ID)&&this._activedMenuItemLevel3ID.length>0&&this.setActiveMenuItemByID(3,this._activedMenuItemLevel3ID);$.isString(this._activedMenuItemLevel4ID)&&this._activedMenuItemLevel4ID.length>0&&this.setActiveMenuItemByID(4,this._activedMenuItemLevel4ID);i.level==3&&$.isString(this._activedMenuItemLevel3ID)&&this._activedMenuItemLevel3ID.length>0&&(i.id==this._activedMenuItemLevel3ID?this._menu3.openChildrenMenuItems(this._activedMenuItemLevel3ID):this._menu3.closeChildrenMenuItems(this._activedMenuItemLevel3ID))},_onHoverOutCompleteMenu1:function(){this._activedMenuItemLevel1ID.length>0&&(this.setActiveMenuItemByID(1,this._activedMenuItemLevel1ID),this._menu2.setActiveGroupMenuItemByID(this._activedMenuItemLevel1ID))},_onHoverOutCompleteMenu2:function(n){if(n=n||event,this.menuType=="3")this.hideMenuByLevel(3);else if(this.menuType=="1"){var t=n.target||n.srcElement,i=t.getAttribute("data-cid")||n.fromElement.getAttribute("id")||$(n.target).find("li[class='on']").attr("id");if(this._menu2._currentActivedMenuID==i)return!1;this._onAnchorHoverInCompleteMenu2(n,null,this._menu2._currentActivedMenuID);this._activedMenuItemLevel1ID.length>0&&(this.setActiveMenuItemByID(1,this._activedMenuItemLevel1ID),this._menu2.setActiveGroupMenuItemByID(this._activedMenuItemLevel1ID))}},_onHoverInCompleteMenu3:function(){this.menuType!="3"||ecount.isMobile||this.showMenuByLevel(3)},_onHoverOutCompleteMenu3:function(){this.menuType!="3"||ecount.isMobile||this.hideMenuByLevel(3)},_onClickCompleteMenu1:function(n,t,i,r){this._activedMenuItemLevel1ID=i.id;this._activedMenuItemLevel2ID="";this._activedMenuItemLevel3ID="";this._activedMenuItemLevel4ID="";this._activedMenuLevel=r;this.goToNextMenuByLevel(r);(this.menuType=="2"||this.menuType=="3")&&this.setMenuTitleByLevel(1,i.title);(this.menuType=="2"||this.menuType=="4")&&this._menu2.setActiveGroupMenuItemByID(i.id)},_onClickCompleteMenu2:function(n,t,i,r){var u=this.getMenuItemByID(i.parentID);this._activedMenuItemLevel1ID=i.parentID;this._activedMenuItemLevel2ID=i.id;this._activedMenuItemLevel3ID="";this._activedMenuItemLevel4ID="";this._activedMenuLevel=r;this.goToNextMenuByLevel(r);u!=null&&this.menuType=="3"&&this.setMenuTitleByLevel(1,u.title);this.menuType=="2"&&this.setMenuTitleByLevel(2,i.title)},_onClickCompleteMenu3:function(n,t,i,r){var u=this.getParentMenuItemByLevel(1,i.parentID);i.level==3?(this._activedMenuItemLevel2ID=i.parentID,this._activedMenuItemLevel3ID=i.id,this._activedMenuItemLevel4ID=""):(this._activedMenuItemLevel3ID=i.parentID,this._activedMenuItemLevel4ID=i.id);this._activedMenuLevel=r;u!=null&&this.menuType=="3"&&this.setMenuTitleByLevel(1,u.title);(this.menuType=="3"||this.menuType=="1"&&(i.PARENTMENU_SEQ||i.parentID)!=this._menu2._currentActivedMenuID)&&this.setActiveMenuItemWithAllLevel(i.id)},addMenuItems:function(n){this._createMenuItemsByLevel(n)},isResponsiveMode:function(){return $(window).width()<=this._maxWidthForResponsiveMode&&ecount.user!=undefined&&ecount.user.RESPONSIVE_YN==="Y"},getMenuItemByID:function(n){var t=null;return t=this._getMenuItemByID(n,this._menuItems1),t==null&&(t=this._getMenuItemByID(n,this._menuItems2)),t==null&&(t=this._getMenuItemByID(n,this._menuItems3)),t==null&&(t=this._getMenuItemByID(n,this._menuItems4)),t},getCurrentActivedMenuItemByLevel:function(n){var t="";switch(n){case 1:t=this._activedMenuItemLevel1ID;break;case 2:t=this._activedMenuItemLevel2ID;break;case 3:t=this._activedMenuItemLevel3ID;break;case 4:t=this._activedMenuItemLevel4ID}return this.getMenuItemByID(t)},getParentMenuItemByLevel:function(n,t){var i=this.getMenuItemByID(t),r=null;return i!=undefined&&(r=n!=i.level?this.getParentMenuItemByLevel(n,i.parentID):i),r},clearMenuItemsByLevel:function(n){switch(n){case 1:this._menu1.clearAllMenuItems();break;case 2:this._menu2.clearAllMenuItems();break;case 3:this._menu3.clearAllMenuItems()}},hideMenuByLevel:function(n){switch(n){case 1:this._menu1.hide();break;case 2:this._menu2.hide();break;case 3:this._menu3.hide()}},showMenuByLevel:function(n){switch(n){case 1:this._menu1.show();break;case 2:this._menu2.show();break;case 3:this._menu3.show()}},goToNextMenuByLevel:function(n){this.goToMenuByLevel(n+1)},goToPreviousMenuByLevel:function(n){this.goToMenuByLevel(n-1)},goToMenuByLevel:function(n){n<=0&&(n=1);n>=4&&(n=3);this._clearShowSectionCSSClass();this._activedMenuLevel=n;this.$mainContainer.addClass("show-section-"+this._activedMenuLevel);this.reloadDropdownItemsByLevel(n-1);this.setHeaderDropdownTitle(n-1)},goToCurrentActivedMenu:function(){$.isString(this._activedMenuItemLevel4ID)&&this._activedMenuItemLevel4ID.length>0?this.goToMenuByLevel(3):$.isString(this._activedMenuItemLevel3ID)&&this._activedMenuItemLevel3ID.length>0?this.goToMenuByLevel(3):$.isString(this._activedMenuItemLevel2ID)&&this._activedMenuItemLevel2ID.length>0?this.goToMenuByLevel(3):$.isString(this._activedMenuItemLevel1ID)&&this._activedMenuItemLevel1ID.length>0&&this.goToMenuByLevel(2)},openMenu:function(){if(this._isMenuDepth1ClickbyType4==!0&&this.isResponsiveMode()!==!1)return!1;this.$mainContainer.addClass(this._openClassName);this.goToCurrentActivedMenu()},openMenuClick:function(){if(this._isMenuDepth1ClickbyType4==!1){this.$mainContainer.hasClass(this._openClassName)||this.$mainContainer.addClass(this._openClassName);this._isMenuDepth1ClickbyType4=!0;$(document).on("mousedown",this.onBodyClickHandler);$($("#mainbody").get(0).contentDocument).on("mousedown",this.onBodyClickHandler)}else this.$mainContainer.hasClass(this._openClassName)&&(this.$mainContainer.removeClass(this._openClassName),this.$headerDropdown&&this.$headerDropdown.hide()),this._isMenuDepth1ClickbyType4=!1},closeMenu:function(n){if(this._isMenuDepth1ClickbyType4==!0&&arguments.length==0)return!1;n==!0&&this._isMenuDepth1ClickbyType4==!0&&(this._isMenuDepth1ClickbyType4=!1,$(document).unbind("mousedown",this.onBodyClickHandler),$($("#mainbody").get(0).contentDocument).unbind("mousedown",this.onBodyClickHandler));this.$mainContainer.removeClass(this._openClassName);this.$headerDropdown.hide()},setHeaderDropdownTitle:function(n){var i="",t={};switch(n){case 1:$.isString(this._activedMenuItemLevel1ID)&&this._activedMenuItemLevel1ID.length>0&&(t=this._getMenuItemByID(this._activedMenuItemLevel1ID,this._menuItems1),i=t!=undefined?t.title:"");break;case 2:$.isString(this._activedMenuItemLevel2ID)&&this._activedMenuItemLevel2ID.length>0&&(t=this._getMenuItemByID(this._activedMenuItemLevel2ID,this._menuItems2),i=t!=undefined?t.title:"")}this.$el.find(".btn-group a").first().html(i+'<span class="caret"><\/span>')},setMenuTitleByLevel:function(n,t){this.menuType=="4"&&(t="");switch(n){case 1:this._menu1.setTitle(t);break;case 2:typeof t=="string"&&(this._menu2.setTitle(t),this._menu2.$el.removeClass("hidden"));break;case 3:this.menuType!="2"&&this._menu3.setTitle(t)}},setActiveMenuItemByID:function(n,t){switch(n){case 1:this._activedMenuItemLevel1ID=t;this._menu1.setActiveMenuItemByID(t);break;case 2:this._activedMenuItemLevel2ID=t;this._menu2.setActiveMenuItemByID(t);break;case 3:this._activedMenuItemLevel3ID=t;this._menu3.setActiveMenuItemByID(t);break;case 4:this._activedMenuItemLevel4ID=t;this._menu3.setActiveMenuItemByID(t);this._menu3.setActiveParentMenuItemByID(t)}},setActiveMenuItemWithAllLevel:function(n){var r="on",t=n!=undefined&&n!=""?this.$el.find("li#"+n):{},u=t.length>0?t.parent():{},i=t.length>0?t.data("parentID"):"",f=t.length>0?t.data("level"):"",e={};u.length>0&&(f==2&&(this._menu2.clearAllGroupActivation(),this._menu2.clearAllMenuItemActivation(),u.addClass(r)),u.children().removeClass(r));switch(f){case 1:this._activedMenuItemLevel1ID=n;this._menu1.setCurrentActivedMenuID(n);break;case 2:this._activedMenuItemLevel2ID=n;this._menu2.setCurrentActivedMenuID(n);break;case 3:this._activedMenuItemLevel3ID=n;this._menu3.setCurrentActivedMenuID(n);break;case 4:this._activedMenuItemLevel4ID=n;this._menu3.setCurrentActivedMenuID(n)}t.length>0&&t.addClass(r);i!=undefined&&$.isString(i)&&i.length>0&&(e=this.$el.find("li#"+i),e.length>0&&(this.menuType=="1"&&f==2&&this._menu2.setGroupMenuPositionByParentMenu(i,e),this.setActiveMenuItemWithAllLevel(i)))},reset:function(){var n=ecount.resource;switch(this.menuType){case"1":this.reloadMenuItemsByLevel(3,[]);break;case"2":this.setMenuTitleByLevel(1,n.LBL10796);this.setMenuTitleByLevel(2,n.LBL85023);this.hideMenuByLevel(3);this.reloadMenuItemsByLevel(3,[]);break;case"3":this.setMenuTitleByLevel(1,n.LBL10796);break;case"4":this.goToNextMenuByLevel(0)}this._menu1.clearAllMenuItemActivation();this._menu2.clearAllMenuItemActivation();this._menu2.clearAllGroupActivation();this._resetActivedIDs()},reloadMenuItemsByLevel:function(n,t,i){switch(n){case 1:this._menu1.reload(t);break;case 2:this._menu2.reload(t);break;case 3:if(this._menu3.reload(t),(this.menuType=="1"||this.menuType=="2")&&i&&(i.type=="mouseover"?this._menu3.setLeftOutHandle(!0):i.type=="mouseout"&&this._menu3.setLeftOutHandle(!1)),this.menuType=="3"&&$.isArray(t)&&t.length>0){var r={};$.isString(t[0].parentID)&&t[0].parentID.length>0&&(r=this.$el.find("li#"+t[0].parentID),r!=undefined&&r.length>0&&this._menu3.setMenuPositionByParentMenu(r))}ecount.__isEventCaptureMode()&&(this._menu3.$el.find("li").removeClass("off"),this._menu3.$el.find("li:has(ul)").addClass("on"))}},reload:function(n){var t=null;this.reloadMenuItemsByLevel(1,this._menuItems1);this.reloadMenuItemsByLevel(2,this._menuItems2);this.reloadMenuItemsByLevel(3,[]);$.isString(n)&&n.length>0&&(t=this.$el.find("li#"+n),this._activedMenuItemLevel1ID=n,this.setActiveMenuItemByID(1,n),this._menu2.setActiveGroupMenuItemByID(this._activedMenuItemLevel1ID),this.menuType=="1"&&t!=undefined&&t.length>0&&this._menu2.setGroupMenuPositionByParentMenu(n,t));this._renderComplete(!1)},reloadDropdownItemsByLevel:function(n){var r=[],t={},i;if(this.$headerDropdown.removeItems(),n==1)this.$headerDropdown.addItems(this._menuItems1);else if($.isString(this._activedMenuItemLevel1ID)&&this._activedMenuItemLevel1ID.length>0){for(i=0;i<this._menuItems2.length;i++)t=this._menuItems2[i],t.parentID==this._activedMenuItemLevel1ID&&(t.label=t.title,t.value=t.id,r.push(t));this.$headerDropdown.addItems(r)}},removeChildrenMenuItemsByID:function(n){var t=this.getMenuItemByID(n),i=-1;t!=null&&(i=t.level+1,this._removeChildrenMenuItemsByID(i,n))}},create:function(n){var t,i,r;(n=n||"_default",t=widget.mainMenu.repository[n]||{},widget.mainMenu._baseLoaded||(i=$.Class(ecount.control,widget.mainMenu.repository._default),widget.mainMenu=$.extend(i,widget.mainMenu),widget.mainMenu._baseLoaded=!0,n!="_default"))&&(widget.mainMenu[n]||(t.init||(t.init=function(){widget.mainMenu.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.mainMenu.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.mainMenu,widget.mainMenu[n]=$.Class(r,t)))}}};widget.category={};widget.category._baseLoaded=!1;widget.category._export=function(){return{_default:{controlType:"widget.category",viewName:"widget.category",$el:null,lastActivedItem:null,_initItem:null,maxDepth:4,init:function(){ecount.control.prototype.init.apply(this,arguments)},initializeOptions:function(n){$.extend(this,{initCategoryItem:n.initItem,maxDepth:n.maxDepth||4})},onInitState:function(n,t,i){$.extend(t,{maxDepth:i.maxDepth||4})},getInitComponents:function(){for(var t=[],n=0,i=this.maxDepth-1;n<=i;n++)n===0?t.push({depth:n+1,items:this.initCategoryItem,"opt.selectedItemId":""}):t.push({depth:n+1,items:[],"opt.selectedItemId":""});return t},render:function(){ecount.control.prototype.render.apply(this,arguments)},createView:function(){return this.ecview=new widget.view.category},setActivedItemsFocus:function(){},ON_CLICK:function(n,t,i,r){var f=$(t.target),e=f.parent().attr("CATEGORY_DEPTH"),u=f.attr("CATEGORY_ID"),o=this._ALL_COMP;this.getState(o).forEach(function(n,t){var i=e-1;t==i?this.setState(t,"opt.selectedItemId",u):t>i&&this.setState(t,"opt.selectedItemId","")}.bind(this));_.extend(r,{targetID:u,activedItems:this.getActivedItems(),itemDepth:e,itemID:u})},getActivedItems:function(){var n=[];return this.getComponents().forEach(function(t){n=n.concat(t.items.filter(function(n){return t["opt.selectedItemId"]==n.id}))}),n},setItems:function(n){var t=n[0]?Number(n[0].depth):null;if(!t)return!1;this.getState(this._ALL_COMP).forEach(function(i,r){r===t-1?this.setState(r,"items",n):r>t-1&&this.setState(r,"items",[])}.bind(this))}},create:function(n){var r,t,i;n=n||"_default";r=widget.category.repository[n]||{};!widget.category._baseLoaded&&(t=$.Class(ecount.control,widget.category.repository._default),i=$.Class(ecount.control.view,widget.view.category.repository._default),widget.category=$.extend(t,widget.category),widget.view.category=$.extend(i,widget.view.category),widget.category._baseLoaded=!0,n=="_default")}}};widget.view.category._export=function(){return{_default:{template:'<div class="col-xs-{{column}}" data-cid="{{cidData}}" ><div class="panel panel-default"><div class="list-group" data-index={{index}} CATEGORY_DEPTH="{{depth}}">{{categoryItemsTemplate}}<\/div><\/div><\/div>',categoryItemTemplate:'<a href="javascript:;" data-role={{roleData}} data-role-id={{roleIdData}} class="{{classData}}" CATEGORY_ID="{{categoryIdData}}"> {{categoryLabel}} <\/a>',$parent:null,$el:null,init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(n,t){this.$parent=t;this.maxDepth=n.maxDepth;ecount.control.view.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){var i,u,r;for(categoryItemsTemplate=[],t.components[0].items.forEach(function(n,t){categoryItemsTemplate.push(ecount.widget.replaceAttr(this.categoryItemTemplate,this._makeCategoryItemTemplate(n,t)))}.bind(this)),categoryGroupTemplate=[],i=0,u=t.maxDepth-1;i<=u;i++)r="",r=i===0?n.replace("{{categoryItemsTemplate}}",categoryItemsTemplate.join("")):n.replace("{{categoryItemsTemplate}}",""),categoryGroupTemplate.push(ecount.widget.replaceAttr(r,this._makeCategoryDepthTemplate(t,i)));return'<div class="row">'+categoryGroupTemplate.join("")+"<\/div>"},_makeCategoryItemTemplate:function(n,t){var i=n.actived?"list-group-item active":"list-group-item";return{classData:i,categoryIdData:n.id,categoryLabel:n.label,roleData:"categoryItem",roleIdData:t}},_makeCategoryDepthTemplate:function(n,t){var i=12/n.maxDepth;return{column:i,index:t,depth:t+1,cidData:n.cid}},onChangeOptSelectedItemId:function(n,t){var i=this.getElements(n).parent();$.isEmpty(t)?i.find("a.list-group-item").removeClass("active"):(i.find("a.list-group-item").removeClass("active"),target=i.find("[category_id="+t+"]"),target.addClass("active"))},onChangeItems:function(n,t){var r=t[0]?Number(t[0].depth):null,u,i,f,e;if(!r)return this.removeItems(n+1),!1;for(u=this.$el.find("[CATEGORY_DEPTH="+r+"]"),this.removeItems(r),i=0,f=t.length;i<f;i++)e=ecount.widget.replaceAttr(this.categoryItemTemplate,this._makeCategoryItemTemplate(t[i],i)),u.append(e)},removeItems:function(n){var t,r,i;if(this.$el)for(t=n,r=this.maxDepth;t<=r;t++)i=this.$el.find("[CATEGORY_DEPTH="+t+"]"),i.children().length>0&&i.children().remove()}}}};widget.captcha||(widget.captcha={});widget.captcha._export=function(){return{_default:{controlType:"widget.captcha",template:"((label))((input))((button))",render:function(){ecount.control.prototype.render.apply(this,arguments);this.$el.parent().parent().attr("onselectstart","return false")},_mergeAttr:function(){this.data.push({cid:this.id,label:"&nbsp;"+ecount.common.createRandomWord(this.wordLength)+"&nbsp;",css:"label label-default text-xl text-bold mr-5"});this.data.push({cid:this.id,value:"",css:"textbox-inline mr-5"});this.data.push({cid:this.id,label:ecount.resource.BTN00332,css:"btn btn-default btn-sm"});ecount.control.prototype._mergeAttr.apply(this,arguments)},_bindDefaultEvent:function(){this.$el.filter("button").bind("click",this.setRandomText.bind(this))},validate:function(){var n=[],t=this.getElements();return t[1].value==""?n.push("empty"):t[1].value!=$(t[0]).text().trim()?n.push("invalid"):n.push("valid"),n},setRandomText:function(){var n=this.wordLength||6;this.$el.filter("span").html("&nbsp"+ecount.common.createRandomWord(n)+"&nbsp");this.$el.filter("input").focus()}},create:function(n){var t,i,r;(n=n||"_default",t=widget.captcha.repository[n]||{},widget.captcha._baseLoaded||(i=$.Class(ecount.control,widget.captcha.repository._default),widget.captcha=$.extend(i,widget.captcha),widget.captcha._baseLoaded=!0,n!="_default"))&&(widget.captcha[n]||(t.init||(t.init=function(){ecount.control.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){ecount.control.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):ecount.control,widget.captcha[n]=$.Class(r,t)))}}};widget.verticalCalc={};widget.verticalCalc._baseLoaded=!1;widget.verticalCalc._export=function(){return{_default:{controlType:"widget.verticalCalc",ecPackage:"widget.verticalCalc",viewName:"widget.view.verticalCalc",_defaultCss:"",init:function(n){ecount.control.prototype.init.apply(this,arguments);_.merge(this._numericOptions.options,{isPositiveInteger:n.isPositiveInteger})},initializeOptions:function(n){ecount.control.prototype.initializeOptions.apply(this,arguments);_.merge(this,{inFocus:!1,operator:[],operand:"",inputIndex:0,equation:n.equation||"",inputTypeComponents:[]})},_onInitState:function(n,t,i){this.__state.components=this.parseString(this.equation);this.onInitState(n,t,i)},parseString:function(n){var i=[],r=[];this.operand=n.match(/\({2,}.*?\){2,}/g);this.operator=n.match(/[\+\-\*\/\%]\(\(/g);for(var u=0,t=0,f=this.operand.length;t<f;t++)this.operand[t]=this.operand[t].replace(/\(\(/g,""),i=this.operand[t].replace(/\)\)/g,"").split(":"),r.push({compType:t!=0&&t!=f-1?"input":"label",cid:this.id,label:Number.formatNumeric(i[0]),value:Number.formatNumeric(i[0]),"style.css":"text-right",cindex:u++}),r.push({compType:"label",cid:this.id,label:i[1],cindex:u++}),this.operator[t]&&r.push({compType:"operator",cid:this.id,label:this.operator[t].replace(/\(\(/g,""),cindex:u++});return r},onInitState:function(n,t){ecount.control.prototype.onInitState.apply(this,arguments);_.merge(t,{"opt.resultValue":""})},initializeViewOptions:function(){_.merge(this.__viewOptions,{operator:this.operator})},render:function(){ecount.control.prototype.render.apply(this,arguments);this.inputTypeComponents=this.getComponents().filter(function(n){return n.compType=="input"});this.calculation()},onLazyRender:function(){var t,n,i;for(t,n=0,i=this.getComponents().length;n<i;n++)t=ecount.control.input.prototype.getValue.call(this,n),this.setValue(n,t)},_findInputTypeComponentIndex:function(n){var t=this.inputTypeComponents[n||0];return $.isNull(t)?!1:t.cindex},setFocus:function(n){var t=this._findInputTypeComponentIndex(n);$.isNull(t)||ecount.control.input.prototype.setFocus.call(this,t)},getValue:function(n){var n=n||0;if(n==0)return this.inputTypeComponents[n].value;ecount.control.input.prototype.getValue.call(this,n)},getNumberOnly:function(n){var t=n.replace(ecount.config.company.THOU_SEPARATOR,ecount.delimiter);return t=t.replace(ecount.config.company.DEC_SEPARATOR,"."),t.replace(/[^\d-\.]/g,"")},calculation:function(){for(var r=this.operator.length,u=this.getNumberOnly(this.getComponent(0).label),t=Number(u),n,i=1;i<r+1;i++){component=this.getComponent(i-1);n=this.getNumberOnly(this.inputTypeComponents[i-1].value);(n=="-"||n==".")&&(n=0);n=this.replacesSeparatorOrigin(n.toString());n=Number.removeSeparator(n);switch(this.getComponent(i*3-1).label){case"+":t=t+Number(n);break;case"-":t=t-Number(n);break;case"*":t=t*Number(n);break;case"/":t=t/Number(n)}}t=Number.formatNumeric(t);this.setState(this._IT_SELF,"opt.resultValue",t)},serialize:function(n){for(var i=this.inputTypeComponents,t=0,r=i.length;t<r;t++)data.push({key:(n||this.name)+"_"+t,value:i[t].value});return ecount.control.prototype.serialize.call(this,data,n)},ON_INPUT:function(n){var t=(n.value||"").substr(-1);t!=this._numericOptions.options.DEC_SEPARATOR&&this.calculation()},createView:function(){return this.ecview=new widget.view.verticalCalc}},create:function(n){var t,i,r;if(n=n||"_default",t=widget.verticalCalc.repository[n]||{},i=ecount.control.input,widget.verticalCalc._baseLoaded||(ecount.control.loadRepository(ecount.control.input,ecount.control.view.input,"widget.verticalCalc"),n!="_default")){if(arguments.length>1){ecount.control.mountMixinWidget(ecount.control,t,"widget.verticalCalc",[].slice.call(arguments,0));return}if(t.__inheritParent&&~t.__inheritParent.indexOf("widget.verticalCalc")){r=t.controlType.replace("widget.verticalCalc.","");ecount.control.mountMixinWidget(ecount.control,t,"widget.verticalCalc",[widget.verticalCalc,r]);return}widget.verticalCalc[n]||(i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.verticalCalc,ecount.control.mountWidget(widget.verticalCalc,n,i,t))}}}};widget.view.verticalCalc._export=function(){return{_default:{template:'<table class="table table-border-no-a"><colgroup><col style="width:150px"><col><\/colgroup><tbody><tr><td class="text-right">((label))<\/td><td>((label))<\/td><\/tr>',onInitTemplate:function(n,t){return this.setTemplate(n,t)},setTemplate:function(n,t){for(var r='<tr><td><div class="input-group"><span class="input-group-addon">((label))<\/span>((input))<\/div><\/td><td>((label))<\/td><\/tr>',u='<tr><td class="text-right border-t" data-result="totSum">= ((label))<\/td><td>((label))<\/td><\/tr><\/tbody><\/table>',i=0,f=t.operator.length;i<f;i++)n=n+r;return n+u},onChangeOptResultValue:function(n,t){this.$el.find("[data-result=totSum]>span").text(t)}}}};widget.divider={};widget.divider._baseLoaded=!1;widget.divider._export=function(){return{_default:{controlType:"widget.divider",init:function(){ecount.control.divider.prototype.init.apply(this,arguments)},render:function(){ecount.control.divider.prototype.render.apply(this,arguments)}},allInOne:{controlType:"widget.divider.allInOne",viewName:"widget.view.divider.allInOne",init:function(){ecount.control.divider.prototype.init.apply(this,arguments)},render:function(){ecount.control.divider.prototype.render.apply(this,arguments)},onInitState:function(n,t,i){$.extend(t,{buttonLabel:i.buttonLabel,buttonCss:i.buttonCss||"",settingLabel:i.settingLabel||"",settingCss:i.settingCss||"",alignRight:i.alignRight,thumbnailWidth:i.thumbnailWidth||50,thumbnailHeight:i.thumbnailHeight||40,itemList:[]})},initializeOptions:function(n){$.extend(this,{isHideButton:n.isHideButton,isHideSetting:n.isHideSetting,isHideLastDivider:n.isHideLastDivider})},getInitComponents:function(n,t,i){var f=[],u={},r={},e=i.isHideButton,o=i.buttonLabel,s="btn mt-2 mb-2 "+i.buttonCss,h=i.isHideSetting,c=i.settingLabel,l=i.settingCss;return e||(u.id=this.id+"Create",u.label=o,u["style.css"]=s,u.ecRole="divider.button",f.push(u)),h||(r.id=this.id+"Setting",r.label=c,r["style.css"]=l,r["style.display"]=!1,r.ecRole="divider.setting",r["attr.href"]="javascript:;",f.push(r)),f},ON_CLICK:function(n,t,i,r){var u=0;switch(n.ecRole){case"divider.button":this.isHideButton||(u=0);r.command=String.format("on-{0}-{1}",this.containerName,this.getComponent(u).id).ecCamelize(!0);break;case"divider.setting":this.isHideButton||this.isHideSetting||(u=1);r.command=String.format("on-{0}-{1}",this.containerName,this.getComponent(u).id).ecCamelize(!0);r.key=this._getItem(n.cindex,"key");break;case"divider.link":r.command=String.format("on-{0}-{1}",this.containerName,this.id).ecCamelize(!0);r.key=this._getItem(n.cindex,"key")}},addItems:function(n){var i=this,t=this.getState(this._IT_SELF,"itemList"),r=this.isHideLastDivider;_.each(n,function(u,f){r&&(f===0&&(u.enablePrevDivider=!0),f===n.length-1&&(u.dividerCss="hidden"));t.push(i._addItem(n[f]))});this.setState(this._IT_SELF,"itemList",t,!0)},removeAll:function(){this.setState(this._IT_SELF,"itemList",[],!0);this.setState(1,"style.display",!1)},_addItem:function(n){var u=this.getState(this._IT_SELF,"itemList"),t={},i=n.value||"",r=n.valueCss||"";t.isHideButton=this.isHideButton;t.isHideSetting=this.isHideSetting;t.cid=this.id;t.index=u.length>0?u.length:0;t.label=String.format("{0}: ",n.label);t.labelCss=n.labelCss||"text-bold";t.type=n.type||"label";t.dividerCss=n.dividerCss||"";t.key=n.key||"";t.useHtml=n.useHtml||!1;t.isCut=$.isEmpty(n.isCut)?!0:n.isCut;switch(t.type){case"link":t.linkLabel=i;t.linkCss=r;break;case"thumbnail":t.thumbSrc=i;t.thumbCss=r;t.thumbWidth=this.thumbnailWidth;t.thumbHeight=this.thumbnailHeight;break;default:t.title=i;t.value=i;t.valueCss=r}return t},_getItem:function(n,t){var r=this.getState(this._IT_SELF,"itemList"),i;return r&&(i=r.find(function(t){return t.index==n}),i)?t?i[t]:i:null}},create:function(n){var t,i,r,u;(n=n||"_default",t=widget.divider.repository[n]||{},i=widget.view.divider.repository[n]||{},widget.divider._baseLoaded||(r=$.Class(ecount.control.divider,widget.divider.repository._default),view=$.Class(ecount.control.view.divider,widget.view.divider.repository._default),widget.divider=$.extend(r,widget.divider),widget.view.divider=$.extend(view,widget.view.divider),widget.divider._baseLoaded=!0,n!="_default"))&&(widget.divider[n]||(t.init||(t.init=function(){widget.divider.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.divider.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.divider.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.divider,n)),this.ecview=new n}),u=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.divider,widget.divider[n]=$.Class(u,t)))}}};widget.view.divider||(widget.view.divider={});widget.view.divider._export=function(){return{_default:{},allInOne:{template:"{{content}}",$itemList:[],init:function(){ecount.control.view.prototype.init.apply(this,arguments)},render:function(){ecount.control.view.prototype.render.apply(this,arguments)},onInitTemplate:function(n,t){var r=t.isHideButton,u=t.isHideSetting,i="";return r||(i+="((button))"),u||(i+="((link))"),ecount.widget.replaceAttr(n,{content:i})},onChangeItemList:function(n,t){var i=this;this._removeAllItems();_.each(t,function(n,t){i._addItem(n,t)})},_removeAllItems:function(){var n=this.getElements(this._IT_SELF).find("div.control");_.each(n.children(),function(n){n.classList.contains("divider-item")&&$(n).remove();n.tagName==="BR"&&$(n).remove()});this.$itemList=[]},_addItem:function(n,t){var o=this.getElements(this._IT_SELF).find("div.control"),r=[],u,i='<span data-cid="{{cid}}" data-index={{index}} data-type="value" class="display-inline-block value-block divider-item {{valueCss}}">{{value}}<\/span>',f,e;r.push('<span data-cid="{{cid}}" data-index={{index}} data-type="label" class="display-inline-block divider-item {{labelCss}}">{{label}}<\/span>');switch(n.type){case"link":r.push('<a data-cid="{{cid}}" href="javascript:;" data-role="divider.link" data-index={{index}} data-type="{{type}}" data-key="{{key}}" class="display-inline-block divider-item {{linkCss}}">{{linkLabel}}<\/a>');break;case"thumbnail":r.push('<a data-cid="{{cid}}" href="javascript:;" data-index={{index}} data-type="thumbnail"  data-key="{{key}}" class="thumbnail thumbnail-inline divider-item {{thumbCss}}"><img src="{{thumbSrc}}" style="width:{{thumbWidth}}px;height:{{thumbHeight}}px;" /><\/a>');break;default:t===3&&n.value!=""&&(i="<br>"+i);n.useHtml?i=i.replace(/{{value}}/,n.value):n.isCut?(n.value=n.value.length>20?n.substr(0,20)+"...":$.isEmpty(n.value)?"":n.value,i=i.replace(/{{value}}/,_.escape(n.value))):i=i.replace(/{{value}}/,_.escape($.isEmpty(n.value)?"":n.value));r.push(i)}n.enablePrevDivider&&(f=this.$itemList.last(),e=f&&f.filter(".inline-divider"),e&&e.removeClass("hidden"));r.push('<span data-cid="{{cid}}" data-index={{index}} data-type="divider" class="inline-divider divider-item {{dividerCss}}"><\/span>');u=ecount.widget.replaceAttr(r.join("\n"),n);n.isHideSetting?o.append(u):($(u).insertBefore(o.children().last()),this.getElements().find("#"+n.cid+"Setting").removeClass("hidden"));this.$itemList.push(u)}}}};widget.fileGroupList={};widget.fileGroupList._baseLoaded=!1;widget.fileGroupList._export=function(){return{_default:{createView:function(){return this.ecview=new widget.view.fileGroupList},initializeOptions:function(n){$.extend(this,{isFileGroupCommon:n.isFileGroupCommon,_groups:n._groups,realFilesChekMode:n.realFilesChekMode})},initializeViewOptions:function(n){$.extend(this.__viewOptions,{isFileGroupCommon:n.isFileGroupCommon,_isEditable:n._isEditable,_groups:n._groups,realFilesChekMode:n.realFilesChekMode})},onInitState:function(n,t){$.extend(t,{selectedItems:[],removeItems:[],updateItems:[],removeGroupItems:"","act.fileid":"","act.groupid":"","act.duration":"","act.status":"","act.progress":"","act.switchtype":"","act.type":"","act.toggle":!1,"style.displayStatus":!0})},addItems:function(n,t){if(!t||$.isEmptyObject(t))return!1;this.__state.selectedItems=[n,t];this.setState(this._IT_SELF,"selectedItems",Object.clone(this.__state.selectedItems,!0))},updateItems:function(n,t){if(!t||$.isEmptyObject(t))return!1;this.__state.updateItems=[n,t];this.setState(this._IT_SELF,"updateItems",Object.clone(this.__state.updateItems,!0),!0)},removeItems:function(n){if(!n||$.isEmptyObject(n))return!1;this.__state.removeItems=n;this.setState(this._IT_SELF,"removeItems",Object.clone(this.__state.removeItems,!0))},removeGroupItems:function(n){this.setState(this._IT_SELF,"removeGroupItems",n)},getFileGroupCommon:function(){return this.isFileGroupCommon===!0},setFileActionState:function(n,t){t=t||{};for(var i in t)$.isNull(this.getState(n,"act."+i))||this.setState(n,"act."+i,t[i]);this.setState(n,"act.toggle",!0);this.resetFileActionState(n,t)},resetFileActionState:function(n,t){t=t||{};for(var i in t)$.isNull(this.getState(n,"act."+i))||this.setState(n,"act."+i,"");this.setState(n,"act.toggle",!1)},_scrollIntoFile:function(n,t){this.setFileActionState(this._IT_SELF,{fileid:n,duration:t,type:"scroll"})},changeFileUploadStatus:function(n,t,i){this.setFileActionState(this._IT_SELF,{groupid:n,fileid:t,status:i,type:"status"})},onChangeStatusProgress:function(n,t,i){var r=n.id;n.usingMassStorage&&this.setFileActionState(this._IT_SELF,{groupid:r,fileid:t,progress:i,type:"progress"});this._scrollIntoFile(t,200)},onChangeStatusLoad:function(n,t){n.usingMassStorage==!0&&(groupID=n.id,this.setFileActionState(this._IT_SELF,{groupid:groupID,fileid:t,type:"load"}))},onChangeStatus:function(n,t,i){this.changeFileUploadStatus(i,n,t)},fileSwitchType:function(n,t,i){this.setFileActionState(this._IT_SELF,{fileid:n,groupid:t,switchtype:i,type:"switch"})},hideStatus:function(){this.setState(this._IT_SELF,"style.displayStatus",!1)},showStatus:function(){this.setState(this._IT_SELF,"style.displayStatus",!0)},_ON_BEFORE_CLICK:function(n){return n.handler==="click.controlExternal"?!1:n.ecService==ecount.layer.constValue.FN&&!this.isToggleFnLayer()?!1:!0},ON_MOUSEOVER:function(n){var i;if(!this.getFileGroupCommon())return!1;if(i=n.ecRoleIndex,i=="item.mouseover"){var r=n.ecFunction,u=n.ecFunctionId,t="";this._groups.some(function(n){if(n.id==r)return t=n.name,!0});$.isEmpty(t)||(this.setState(this._IT_SELF,"act.fileid",u),this.setState(this._IT_SELF,"act.groupid",r),this.setPopover(this._IT_SELF,{type:"tooltip",message:t,trigger:"hover",directShow:!0}))}},ON_MOUSEOUT:function(){if(!this.getFileGroupCommon())return!1;this.setState(this._IT_SELF,"act.fileid","");this.setState(this._IT_SELF,"act.groupid","");this.destroyPopover(this._IT_SELF)},getValue:function(){}},create:function(n){var t,i,r,u,f;(n=n||"_default",t=widget.fileGroupList.repository[n]||{},i=widget.view.fileGroupList.repository[n]||{},widget.fileGroupList._baseLoaded||(r=$.Class(ecount.control,widget.fileGroupList.repository._default),u=$.Class(ecount.control.view,widget.view.fileGroupList.repository._default),widget.fileGroupList=$.extend(r,widget.fileGroupList),widget.view.fileGroupList=$.extend(u,widget.view.fileGroupList),widget.fileGroupList._baseLoaded=!0,n!="_default"))&&(widget.fileGroupList[n]||(t.init||(t.init=function(){widget.fileGroupList.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.fileGroupList.prototype.render.apply(this,arguments)}),t.createView||(t.createView=function(){if(!this.viewName)return widget.fileGroupList.prototype.createView.apply(this,arguments);var n=i;return n!="function"&&(n=$.Class(widget.view.fileGroupList,n)),this.ecview=new n}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.fileGroupList,widget.fileGroupList[n]=$.Class(f,t)))}}};widget.view.fileGroupList._export=function(){return{_default:{template:'<ul class="wrapper-attach-file" id="ulAttachFile" data-role="item.container">\n{{item.positionTemplate}}\n<\/ul>',itemContainerTemplate:'<li data-function-id="{{id}}" data-function="{{groupid}}" class="{{status}}"><span class="label label-default label-light {{pointer}}" {{switch}} data-function="{{groupid}}" data-function-id="{{id}}">{{groupName}}<\/span>{{info}}<span class="file-status {{isEditable}}" data-role="file.removeitem" data-function="{{groupid}}" data-function-id="{{id}}"><\/span><\/li>',itemTemplate:'<a href="javascript:;" data-function="click" {{isEditable}}>{0}<\/a>',_NORMAL:"normal",uploadStatusCss:{QUEUED:"normal",PROGRESS:"uploading",LOAD:"uploaded"},onInitTemplate:function(n,t){return this.isFileGroupCommon=t.isFileGroupCommon||!1,this.isFileGroupCommon===!0&&(this.itemContainerTemplate='<li data-function-id="{{id}}" data-function="{{groupid}}" class="{{status}}">{{info}}<span class="file-status {{isEditable}}" data-role="file.removeitem" data-function="{{groupid}}" data-function-id="{{id}}"><\/span><\/li>',this.getFileCss()),this._isEditable=!t["attr.disabled"],this.realFilesChekMode=t.realFilesChekMode,n.replace(/{{item.positionTemplate}}/,this.getItemPositionTemplate(t))},getItemPositionTemplate:function(n){var i=n._groups||[],r='<li style="display:none;" data-function="{0}"><\/li>',t="";return i.forEach(function(i){t+=String.format(r,i.id);n.gridID&&!$.isEmpty(i.files)&&i.files.forEach(function(n){t+=this.getSelectedItemsTemplate(_.merge({id:n.file_id},n),i)}.bind(this))}.bind(this)),t},getInfoTemplate:function(n,t){var i='<a href="javascript:;" data-role="file.addedFiles" data-role-index="item.mouseover" data-function-id="{{id}}" data-function="{{groupid}}" >{{name}}<\/a>',r="",u=n.size;return t.usingMassStorage===!0?t.usingUploader==!0?i="{{name}} (<span id='uploading_{{id}}'><\/span>{{size}})":i+=" ({{size}})":((t.usingUploader==!0&&n.uptype&&n.uptype!=0||t.isPdfMode)&&(i='<span data-role-index="item.mouseover" data-function-id="{{id}}" data-function="{{groupid}}">{{name}}<\/span>'),(t.usingUploader==!0||this.realFilesChekMode&&(t.id=="02"||t.id=="07"||t.id==ecount.attachment.ecdrive))&&(i=String.format("{0} ({{size}})",i))),$.isEmpty(n.name)||(r=n.name.replace(/(<([^>]+)>)/ig,"")),t.isPdfMode&&!!n.isBlobSize&&(u=n.isBlobSize),ecount.widget.replaceAttr(i,{id:n.id,name:r,groupid:t.id,size:Number.formatSize(u)})},getSelectedItemsTemplate:function(n,t){var i=_.isNil(t.overName)?t.name:t.overName,r=t.usingMassStorage==!0?'data-role="file.switchtype"':"",u=t.usingMassStorage==!0?n.uptype==0||n.uptype==3||this._isEditable==!1?"disabled":"cursor-pointer":"";return t.usingUploader==!0?i=t.usingMassStorage==!0?n.uptype<2?ecount.resource.LBL70634:ecount.resource.LBL70632:i:t.usingMassStorage&&n.uptype>1&&(i=i=i+"("+ecount.resource.LBL70632+")"),ecount.widget.replaceAttr(this.itemContainerTemplate,{id:n.id,groupName:i,groupid:t.id,"switch":r,status:this.getAddFileCss(t),info:this.getInfoTemplate(n,t),pointer:u,isEditable:this._isEditable==!0?"":"hidden"})},onChangeSelectedItems:function(n,t){var u=t[0],i=t[1],r=this.$el.find("li[data-function='"+i.id+"']");r&&r.last().after(this.getSelectedItemsTemplate(u,i))},onChangeUpdateItems:function(n,t){var e=t[0],i=t[1],f=i.files,u=this.$el.find("li[data-function='"+i.id+"']"),r;u.length&&(this.$el.addClass("hidden"),r=u.filter("li[data-function-id]"),r.length&&r.remove(),f.forEach(function(n){this.onChangeSelectedItems(null,[n,i])}.bind(this)),this.$el.removeClass("hidden"))},onChangeRemoveItems:function(n,t){if(!t||!this.$el)return!1;var r=$.isEmpty(t.id)?t.file_id:t.id,i=this.$el.find("li[data-function-id='"+r+"']");i&&i.remove()},onChangeRemoveGroupItems:function(n,t){if(!$.isEmpty(t)){var i=this.$el.find("li[data-function-id][data-function='"+t.id+"']");i&&i.remove()}},onChangeActType:function(n,t){this.actType=t},onChangeActFileid:function(n,t){this.actFileID=t},onChangeActGroupid:function(n,t){this.actGroupID=t},onChangeActDuration:function(n,t){this.actDuration=t},onChangeActStatus:function(n,t){this.actStatus=t},onChangeActProgress:function(n,t){this.actProgress=t},onChangeActSwitchtype:function(n,t){this.actSwitchtype=t},onChangeActToggle:function(n,t){if($.isEmpty(this.actType)||t==!1)return!1;switch(this.actType){case"scroll":this.moveScroll();break;case"switch":this.switchFileType();break;case"progress":this.changeStatusProgress();break;case"load":this.changeStatusLoad();break;case"status":this.changeStatus()}},moveScroll:function(){var n=this.$el.find("li[data-function-id='"+this.actFileID+"']");n&&require("jquery-addon",function(){n.closest("ul#ulAttachFile:scrollable(vertical)").length!=0&&n.scrollIntoView({duration:this.actDuration||500})}.bind(this))},switchFileType:function(){var n=this.$el.find("span[data-role='file.switchtype'][data-function-id='"+this.actFileID+"']");n&&n.text(this.actSwitchtype)},changeStatusProgress:function(){var n=this.$el.find("span[id='uploading_"+this.actFileID+"']");n&&n.text(this.actProgress+" / ")},changeStatusLoad:function(){var n=this.$el.find("span[data-role='file.switchtype'][data-function-id='"+this.actFileID+"']");n&&n.removeClass("cursor-pointer").addClass("disabled")},changeStatus:function(){var n=this.$el.find("li[data-function-id='"+this.actFileID+"']"),t,i,r;if(n)if(this.isFileGroupCommon===!0){if(t=this.uploadStatusCss[(this.actStatus||"").toUpperCase()],n.hasClass(t))return!1;i=n.attr("class");i&&(r=i.split(" "),r.length>1&&n.removeClass(r[1]));n.addClass(t)}else n.attr("class",this.uploadStatusCss[(this.actStatus||"").toUpperCase()])},onChangeAttrDisabled:function(n,t){var i=this.$el.find("span.file-status");i.length&&i[t?"addClass":"removeClass"]("disabled");i=this.$el.find("a[data-role='file.addedFiles']");i.length&&i[t?"addClass":"removeClass"]("text-disabled")},onChangeStyleDisplayStatus:function(n,t){var i=this.$el.find("span.file-status");i&&i[t?"removeClass":"addClass"]("hidden")},_getPopoverTarget:function(){return this.$el.find("[data-role-index='item.mouseover'][data-function='"+this.actGroupID+"'][data-function-id='"+this.actFileID+"']")},getAddFileCss:function(n){return n.usingMassStorage==!0?this._NORMAL:this.isFileGroupCommon===!0?this.addFileCss[n.id]:this._NORMAL},getFileCss:function(){var n,i,t;if(this.addFileCss={},n=ecount.attachment,n){i=ecount.attachmentCss;for(t in n)this.addFileCss[n[t]]=i[t]||""}}}}};widget.union={};widget.union._baseLoaded=!1;widget.union._export=function(){return{_default:{template:"<div>",isFormTemplate:!1,_controls:null,itemList:null,_noSurffixIndex:!0,_excludeHideWidget:!1,controlType:"widget.union",init:function(n){this._initializeOptions(n);this.initializer=ecount.global.findCallback(this.ecPageID,ecount.widget.initializer)},_initializeOptions:function(n){_.merge(this,n||{},{initData:ecount.control.getInitData(n.controlType,n.inIncludePage,n.ecPageID),_controls:[],itemList:[]});this.setEcPath();this.setEcIKey();this.initializeOptions(n)},render:function(){ecount.control.prototype.render.apply(this,arguments);this.initControls(this.unionData);this.renderControls(this._controls)},attachView:function(n){this.$el=$(this.template);this.$el[0].ecIKey=this.getEcIKey();(n||this._$parent).append(this.$el);this.__HEADLESS=!1;this._onAfterRender()},refreshUnion:function(n){var t=this.$el.parent();this.reInitUnionData(n);this.$el.remove();this.render(t)},reInitUnionData:function(n){n&&(this.unionData=n);this.destroyControls();this._controls=[];this.itemList=[]},destroyControls:function(){this.itemList.forEach(function(n){n.destroy()});delete this.itemList},onLazyRender:function(){for(var i=this.unionData.controlVisible,n,r=[],u=this._noSurffixIndex?"":this.unionData.suffixIndex,t=0,f=this.unionData.Group.length;t<f;t++)n=this.unionData.Group[t],i&&i[n.WIDGET_ID]===!1&&r.push(n.WIDGET_ID+u);this.hideControls(r);this.executeController()},hideControls:function(n){$.isArray(n)||(n=[n]);n.forEach(function(n){this.hidecontrol(n)}.bind(this))},hideControl:function(n){var t=this.get(n);t&&t.hide()},initControls:function(n){for(var t=n,u=this._noSurffixIndex?"":t.suffixIndex,r,i=0,f=t.Group.length;i<f;i++)r=t.Group[i],this._controls.push(this.generateControl(r,u))},generateControl:function(n,t){var f,v=widget.generator,i=v.control(),r=n.CONTROL_OPTION,u,s,h,e,c,l,a,o;if($.isEmpty(n.CONTROL_TYPE.toUpperCase()))f={controlType:"WIDGET.EMPTY",subTitle:this.subTitle};else if(n.CHILD_LIST&&n.CHILD_LIST.length>0){for(e=_.isUndefined(ecount.resource[n.RESX_CD])?n.RESX_CD:ecount.resource[n.RESX_CD],i.define(n.CONTROL_TYPE,n.WIDGET_ID+t,(n.WIDGET_NAME||n.WIDGET_ID)+t,e).setOptions({suffixIndex:t,isUnion:!0,mappingPath:widget.compiler.mappingGeneratorData(n.MAPPING_PATH,this.ecPageID,n)}),c=0,l=n.CHILD_LIST.length;c<l;c++)a=this.generateControl(n.CHILD_LIST[c],t),i.addControl(a);if(this.initializer(n.WIDGET_ID,i),u=i.end().compileOption,h=u.setOptions,delete u.setOptions,s=widget.compiler.deCompile(r,this.ecPageID,n),r=$.extend(s,u),i.define(n.CONTROL_TYPE,n.WIDGET_ID+t,(n.WIDGET_NAME||n.WIDGET_ID)+t,e),!$.isNull(r)&&!$.isEmpty(r))for(o in r)this._excuteControlOption(i,o,r[o]);this._excuteControlOption(i,"setOptions",h);f=i.end();f.compileOption=r}else{if(e=_.isUndefined(ecount.resource[n.RESX_CD])?n.RESX_CD:ecount.resource[n.RESX_CD],i.define(n.CONTROL_TYPE,n.WIDGET_ID+t,(n.WIDGET_NAME||n.WIDGET_ID)+t,e).setOptions({suffixIndex:t,isUnion:!0,mappingPath:widget.compiler.mappingGeneratorData(n.MAPPING_PATH,this.ecPageID,n)}),this.initializer(n.WIDGET_ID,i),u=i.end().compileOption,h=u.setOptions,delete u.setOptions,s=widget.compiler.deCompile(r,this.ecPageID,n),r=$.extend(s,u),i.define(n.CONTROL_TYPE,n.WIDGET_ID+t,(n.WIDGET_NAME||n.WIDGET_ID)+t,e),!$.isNull(r)&&!$.isEmpty(r))for(o in r)this._excuteControlOption(i,o,r[o]);this._excuteControlOption(i,"setOptions",h);f=i.end();f.compileOption=r}return f},_excuteControlOption:function(n,t,i){for(var r=0,u=i.length;r<u;r++)n[t].apply(n,i[r])},renderControls:function(n){for(var t,u,i,f,e=0,r=0,o=n.length;r<o;r++)(t=n[r],f=this.getControlParent(t,r),t.controlType.toUpperCase()!=="WIDGET.EMPTY"&&t.controlType!="")&&(t.delegator=this.delegator,t.executeParentChangeDelegator=this.ON_CHANGE.bind(this),t.cIndex=e++,t.pId=this.pId,t.__pnode=this.__pnode,t.containerName=this.containerName,t.pcid=this.id,t._pcid=this.id,t.tabID=this.tabID,t.onSync=this.onSync,t.eventContainer=this.eventContainer,this.gridID&&(t.gridID=this.gridID),ecount.control.lazyLoad(t.controlType),u=ecount.common.createNamespace(t.controlType),i=new u(t),this._overrideInstanceFunction(i),i.render(f),this.itemList.push(i))},getControlParent:function(){return $('<div class="wrapper-toolbar whole-row"/>').appendTo(this.$el)},_overrideInstanceFunction:function(n){var t=this;n._getErrorContainer=function(){return this.__pnode==widget.generator.FORM||this.__pnode==widget.generator.SECTIONUNION?this.$el.parent():this.$el};n._needSetHeightOfErrorContainer=function(){return!1};n.isTargetParent=function(){return!0};n.suffixIndex=this.unionData.suffixIndex},toggle:function(n){for(var t=0,i=this.itemList.length;t<i;t++)this.itemList[t].hide();for(t=0,i=n.length;t<i;t++)this.get(Number(n[t])).show()},get:function(n){if(typeof n=="string"){for(var t=0,i=this.itemList.length;t<i;t++)if(this.itemList[t].id==n)return this.itemList[t]}else return this.itemList[n]},executeController:function(){for(var n,i,t=0,r=(this.itemList||[]).length;t<r;t++)n=this.itemList[t],n._isController==!0&&(i=n._controllerOption,this._callHandlerInControl(n,i))},_callHandlerInControl:function(n,t){var i,u,f,e,r;for(t=$.isArray(t)?t:[t],r=0;r<t.length;r++)i=widget.compiler.unionAssembler(t[r]),u=i.handler,f=$.isEmpty(n.suffixIndex)?i.target:i.target+n.suffixIndex,e=i.data,this[u](n,f,e)},reset:function(n){this.itemList.forEach(function(t){var i;n&&(i=n[t.id]);t.reset(i)})},extract:function(){for(var i=ecount.control.prototype.extract.call(this),r=[],t,n=0,u=this.itemList.length;n<u;n++)t=this.itemList[n].extract(),t.name=this.itemList[n].name,t.controlType=this.itemList[n].controlType,r.push(t);return i._controls=r,i},serialize:function(){for(var n,r,t=[],i=0,u=this.itemList.length;i<u;i++)(r=this.itemList[i],r.isVisibleElement()||!this._excludeHideWidget)&&(n=this.itemList[i].serialize(),$.isArray(n)?t=t.concat(n):t.push(n));return t},validate:function(n,t){for(var u=[],i,r,s=this,e,o,f=0,h=this.itemList.length;f<h;f++)(i=this.itemList[f],o=this.isControlHide(i),o)||(r=i.checkValidate(n||i.dataRules,t||i.ruleMsg||i.dataRulesMsg),r&&r.length>0?(r.forEach(function(n){n.control=s;n.targetControl=i}),e=r[0].method=="required"?!0:!1,ecount.common.isTrue(this.unionData.collapseUnion)&&this.showCollapse(),i.showError(null,e?null:r[0].message,!1)):i.hasError()&&(ecount.common.isTrue(this.unionData.collapseUnion)&&this.showCollapse(),r=[{control:i,method:"nowerror"}]),u=u.concat(r));return u},isControlHide:function(n){var t=this.$el.find("tr#row-"+n.id);return t.hasClass("hidden")},_removeSurffixIndex:function(n){return this._noSurffixIndex?n:n.substr(0,n.length-4)},setFocus:function(n){$.isNull(n)&&(n=0);var t=this._findFocusTarget(n,0);t?t.control.setFocus(t.index):this.setFocusOutTrigger()},onNextFocus:function(n,t){var r=t.getAttribute("data-cid"),u=this.get(r),f=u.cIndex,e=Number(t.getAttribute("data-index"))+1,i=this._findFocusTarget(f,e);i?i.control.setFocus(i.index):this.setFocusOutTrigger()},_findFocusTarget:function(n,t){var i,r;return(i=this.get(n),!i)?!1:(r=this._findFocusElement(i,t),i.controlType.indexOf("widget.label")>-1||r===!1)?this._findFocusTarget(n+1,0):{control:i,index:r}},_findFocusElement:function(n,t){var i=n.getComponents();return i.length<=t?!1:!n.isVisibleElement(t)||n.isReadOnly(t)?this._findFocusElement(n,t+1):t},onFocus:function(n){n=n||0;var t=this.itemList[n];t.onFocus(0)},onFocusOut:function(){this._splitError&&(this._splitError=!1);this.onCompleteFocusOut=!0;for(var n,t=0;t<this.itemList.length;t++)n=this.itemList[t],n.onFocusOut.apply(n,arguments);this.onCompleteFocusOut=!1},setValueByPath:function(n){for(var t,i,r=0;r<this.itemList.length;r++)t=this.itemList[r],i=t.mappingPath&&this.getDataFromPath(t.mappingPath,n),$.isNull(i)||t.setStandardValue(i)},getDataFromPath:function(n,t){for(var r=n.split("/"),u=t,i=0;i<r.length;i++)r[i]!=""&&(u=u[r[i]]);return u},hasError:function(){return!1},destroy:function(){this.destroyControls();this.ecIKey&&ecount.global.removeEcInstance(this.ecIKey,this.containerName)},ON_CHANGE:function(){this.executeController()},ON_CLICK:function(n,t,i,r){if(!$.isNull(i)){var u=this._removeSurffixIndex(i.id);r.command=this._makeCommandString(u)}},_ON_BEFORE_CHANGE:function(){return!0},_ON_CHANGE:function(n,t,i){if(this._onBeforeEventExecute(n,t)===!1)return!1;this.ON_CHANGE(n,t,i)},_ON_BEFORE_CLICK:function(){},_ON_CLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_CLICK(n,t,i,r)===!1?!1:void 0},_ON_BEFORE_MOUSEOVER:function(){},_ON_MOUSEOVER:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOVER(n,t,i,r)===!1?!1:void 0},ON_MOUSEOVER:function(){},_ON_BEFORE_MOUSEOUT:function(){},_ON_MOUSEOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEOUT(n,t,i,r)===!1?!1:void 0},ON_MOUSEOUT:function(){},_ON_BEFORE_MOUSEDOWN:function(){},_ON_MOUSEDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_MOUSEDOWN(n,t,i,r)===!1?!1:void 0},ON_MOUSEDOWN:function(){},_ON_BEFORE_INPUT:function(){return!0},_ON_INPUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_INPUT(n,t,i,r)===!1?!1:void 0},ON_INPUT:function(){},_ON_BEFORE_FOCUSIN:function(){return!0},_ON_FOCUSIN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_FOCUSIN(n,t,i,r)===!1?!1:void 0},ON_FOCUSIN:function(){},_ON_BEFORE_FOCUSOUT:function(){return!0},_ON_FOCUSOUT:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_FOCUSOUT(n,t,i,r)===!1?!1:void 0},ON_FOCUSOUT:function(){},_ON_BEFORE_KEYDOWN:function(){return!0},_ON_KEYDOWN:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYDOWN_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},ON_KEYDOWN:function(){},_ON_BEFORE_KEYUP:function(){return!0},_ON_KEYUP:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this["_ON_"+n.keyEventHandlerName]&&this["_ON_"+n.keyEventHandlerName](n,t,i,r)===!1?!1:void 0},_ON_KEYUP_SERVICE:function(n,t,i,r){if(this["_ON_"+n.keyEventHandlerName+"_SERVICE"]&&this["_ON_"+n.keyEventHandlerName+"_SERVICE"](n,t,i,r)===!1)return!1},ON_KEYUP:function(){},_ON_BEFORE_DBLCLICK:function(){return!0},_ON_DBLCLICK:function(n,t,i,r){return this._onBeforeEventExecute(n,t,i,r)===!1?!1:this.ON_DBLCLICK(n,t,i,r)===!1?!1:void 0},ON_DBLCLICK:function(){}},form:{template:'<div class="panel panel-primary panel-inverse"><div class="panel-heading"><a href="javascript:;" class="text-default text-bold cursor-default text-uline-no"><span class="collapse-arrow"><\/span>{{title}}<\/a><div class="heading-control wrapper-toolbar"><\/div><\/div><div class="panel-collapse"><div class="panel-body"><table class="table table-responsive table-form table-template-setup"><colgroup><\/colgroup><tbody><\/tbody><\/table><\/div><\/div><\/div>',_controls:null,itemList:null,_noSurffixIndex:!1,controlType:"widget.union.form",init:function(n){var t=_.isUndefined(ecount.resource[n.unionData.RESX_CD])?n.unionData.RESX_CD:ecount.resource[n.unionData.RESX_CD];this.template=this.template.replace("{{title}}",t);widget.union.prototype.init.apply(this,arguments)},render:function(){widget.union.prototype.render.apply(this,arguments);this.setCommonUnion(this.unionData.isCommon);this.setCollapseUnion(this.unionData.collapseUnion);this.renderColgroup();this.setBackGround()},setCollapseUnion:function(n){(this.collapseATagArea=this.$el.find(".panel-heading > a"),this.collapseTableArea=this.$el.find(".panel-collapse"),ecount.common.isTrue(n))&&(this.collapseATagArea.removeClass("cursor-default"),this.collapseATagArea.removeClass("text-uline-no"),ecount.common.isTrue(this.unionData.isCollapsed)||this.hideCollapse(),this.bindCollapseEvent())},bindCollapseEvent:function(){this.$el.find(".panel-heading").on("click.unionForm",this.collapseClickHandler.bind(this))},collapseClickHandler:function(){var n=this.collapseTableArea.hasClass("hidden");n?this.showCollapse():this.hideCollapse()},renderColgroup:function(){var n,t;(_.isArray(this.unionData)||_.isNumber(this.unionWidth))&&(n=$("<col id='col-title'>"),t=$("<col id='col-contents'>"),this.$el.find("colgroup").append(n).append(t));_.isArray(this.unionWidth)&&_.each(this.unionWidth,function(n){this.$el.find("col")[i].width(n)});_.isNumber(this.unionWidth)&&n.width(this.unionWidth)},getControlParent:function(n,t){var u,o,i,f,h=widget.generator,c=h.control(),r,s,e;return t!==0?(u=n.subTitle,o=['<tr id="row-'+n.id+'">',"<th>","<div class='pull-left'>",u,"<\/div>","<div id='right' class='pull-right'><\/div>","<\/th>",'<td data-label="'+u+'">',"<div class='wrapper-toolbar whole-row'>","<\/div>","<\/td>","<\/tr>"].join("\n"),i=$(o),n.notUsingTitle&&(i.find("th").remove(),i.find("td").attr("colspan",2)),n.subTitleLink&&(r=c.define("widget.link","sectionUnionLink-"+t,"sectionUnionLink-"+n.subLinkID).setURL("javascript:;").label(n.subTitleLink).noneFlex().end(),ecount.control.lazyLoad(r.controlType),s=ecount.common.createNamespace(r.controlType),e=new s(r),this._overrideInstanceFunction(e),e.render(i.find("#right"))),this.$el.find("table").append(i),this.$el.find("tr#row-"+n.id+" > td > .wrapper-toolbar")):(f=this.$el.find("div.heading-control"),n.id&&f.prop("id","row-"+n.id),f)},setBackGround:function(){var n;this.showBackground&&(n=this.$el.find("table"),n.removeClass("table-template-setup"),n.addClass("table-border-no-a table-th-left"))},showRow:function(n){$.isArray(n)||(n=[n]);for(var t=0,i=n.length;t<i;t++)this.$el.find("tr#row-"+n[t]).removeClass("hidden")},hideRow:function(n){var t,r,i;for($.isArray(n)||(n=[n]),t=0,r=n.length;t<r;t++)i=this.$el.find("tr#row-"+n[t]),i.hasClass("hidden")||i.addClass("hidden")},showCollapse:function(){this.collapseTableArea.removeClass("hidden");this.collapseATagArea.removeClass("collapsed")},hideCollapse:function(){this.collapseTableArea.hasClass("hidden")||this.collapseTableArea.addClass("hidden");this.collapseATagArea.hasClass("collapsed")||this.collapseATagArea.addClass("collapsed")},isCollapsed:function(){return this.collapseATagArea.hasClass("collapsed")},setCommonUnion:function(n){ecount.common.isTrue(n)?this.$el.hasClass("common-items")||this.$el.addClass("common-items"):this.$el.removeClass("common-items")},hideControls:function(n){var t=this;_.defer(function(){t.hideRow(n)})},setSubTitle:function(n,t){$.isArray(n)||(n=[n]);for(var i=0,r=n.length;i<r;i++)this.$el.find("tr#row-"+n[i]+">th")[0].innerHTML=t},toggle:function(n,t,i){var r=this.get(t);r||(r=this.get(this.removeSuffixIndex(t)));$.isNull(r)||(i[0].intersect(r.getStandardValue()).length>0?this.showRow(n.id):i[1].intersect(r.getStandardValue()).length>0&&this.hideRow(n.id))},disabled:function(n,t,i){var r=this.get(t);$.isNull(r)||(i[0].intersect(r.getStandardValue()).length>0?n.setReadOnly(!0):i[1].intersect(r.getStandardValue()).length>0&&n.setReadOnly(!1))},readOnly:function(n,t,i){var r=this.get(t);$.isNull(r)||(i[0].intersect(r.getStandardValue()).length>0?n.setReadOnly(!0):i[1].intersect(r.getStandardValue()).length>0&&n.setReadOnly(!1))},isReadOnly:function(){for(var t=!0,n=0,i=this.itemList.length;n<i;n++)this.itemList[n].isReadOnly()||(t=!1);return t},removeSuffixIndex:function(n){return _.replace(n,this.suffixIndex,"")}},leftBasicType:{template:'<table class="table table-responsive table-form table-template-setup"><colgroup><\/colgroup><tbody><\/tbody><\/table>',_defaultGroup:null,_controls:null,itemList:null,_noSurffixIndex:!1,controlType:"widget.union.leftBasicType",init:function(){widget.union.prototype.init.apply(this,arguments)},setDefault:function(){this.unionData.Group=[{WIDGET_ID:"basicForGroupTitle",CONTROL_TYPE:"",CONTROL_OPTION:"",RESX_CD:"LBL00832"},{WIDGET_ID:"basicForCodeItems",CONTROL_TYPE:"widget.code.addColumn",CONTROL_OPTION:"",RESX_CD:"LBL13344"},{WIDGET_ID:"basicForTitleNm",CONTROL_TYPE:"widget.input",CONTROL_OPTION:"",RESX_CD:"LBL11081"},{WIDGET_ID:"basicForLength",CONTROL_TYPE:"widget.input.size",CONTROL_OPTION:"",RESX_CD:"LBL11079"}]},render:function(){widget.union.prototype.render.apply(this,arguments)},onLazyRender:function(){for(var i=this.unionData.controlVisible,n,r=[],u=this._noSurffixIndex?"":this.unionData.suffixIndex,t=0,f=this.unionData.Group.length;t<f;t++)n=this.unionData.Group[t],i&&i[n.WIDGET_ID]===!1&&r.push(n.WIDGET_ID+u);this.hideRow(r)},getControlParent:function(n){var t,i;return t=n.controlType.toUpperCase()==="WIDGET.EMPTY"?'<div class="wrapper-sub-title ">'+n.subTitle+"<\/div>":n.subTitle,i=['<tr id="row-'+n.id+'">',"<th>",t,"<\/th>",'<td data-label="'+t+'"><\/td>',"<\/tr>"].join("\n"),this.$el.append($(i)),this.$el.find("tr#row-"+n.id+" > td")},showRow:function(n){$.isArray(n)||(n=[n]);for(var t=0,i=n.length;t<i;t++)this.$el.find("tr#row-"+n[t]).show()},hideRow:function(n){$.isArray(n)||(n=[n]);for(var t=0,i=n.length;t<i;t++)this.$el.find("tr#row-"+n[t]).hide()}},create:function(n){var t,i,r;(n=n||"_default",t=widget.union.repository[n]||{},widget.union._baseLoaded||(i=$.Class(ecount.control,widget.union.repository._default),widget.union=$.extend(i,widget.union),widget.union._baseLoaded=!0,n!="_default"))&&(widget.union[n]||(t.init||(t.init=function(){widget.union.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.union.prototype.render.apply(this,arguments)}),r=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.union,widget.union[n]=$.Class(r,t)))}}};ecount.control.storeReloadTarget&&ecount.control.storeReloadTarget("widget.gridCell");widget.gridCell={};widget.gridCell._baseLoaded=!1;widget.gridCell._export=function(){return{_default:{controlType:"widget.gridCell",template:'<div class="{{css}} {{addCss}}" style="{{style.color}} {{style.bgcolor}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}">\ndefault\n<\/div>',init:function(){ecount.lightControl.prototype.init.apply(this,arguments)},createView:function(){return this.ecview},render:function(){ecount.lightControl.prototype.render.apply(this,arguments)}},label:{controlType:"widget.gridCell.label",template:'<span class="{{css}} {{addCss}}" style="{{style.color}} {{style.bgcolor}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" >{{label}}<\/span>',onInitComponents:function(n,t){t.label=((_.isNil(t.label)?"":t.label)+"").replace(/\n/g,"<br/>");t.gridSectionType=n.gridSectionType;t.gridColumnID=n.gridColumnID;t.gridDataKey=n.gridDataKey},setLabel:function(n,t){t=t||0;this.getComponent(t).label=n;this.$el.html(n)},getLabel:function(n){return n=n||0,this.getComponent(n).label}},textarea:{controlType:"widget.gridCell.textarea",template:'<span class="{{css}} {{addCss}}" style="{{style.color}} {{style.bgcolor}} {{style.height}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" >{{label}}<\/span>',onInitComponents:function(n,t){t.label=((_.isNil(t.label)?"":t.label)+"").replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>");t.gridSectionType=n.gridSectionType;t.gridColumnID=n.gridColumnID;t.gridDataKey=n.gridDataKey;t["style.height"]=this.getLabelHeight(t.label)},getLabelHeight:function(n){var t="",i=n?n.split("<br/>").length:0;return _.get(ecount,"gridV2.view.util.getTextareaHeight")&&(t="height: "+ecount.gridV2.view.util.getTextareaHeight(Math.max(i,2))+"px;"),t},setLabel:function(n,t){t=t||0;this.getComponent(t).label=n;this.$el.html(n)},getLabel:function(n){return n=n||0,this.getComponent(n).label}},link:{controlType:"widget.gridCell.link",template:'<a href="javascript:;" class="{{css}} {{addCss}}" style="{{style.color}} {{style.bgcolor}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" {{ecService}} {{ecServiceAttr}} {{ecServiceTrigger}} {{compTooltip}}>{{label}}<\/a>',initializeOptions:function(n){this.dropdownOptions=n.ownDropdownOptions||n.dropdownOptions;this.ecServiceTrigger=n.ecServiceTrigger;this._preventLayerOpenByHover=n.preventLayerOpenByHover||!1},onInitComponents:function(n,t){n.hasDropdown&&(t.ecService="layer.dropdown",t.ecServiceAttr="layer.fixed",t.ecServiceTrigger=t.ecServiceTrigger||this.ecServiceTrigger||"mouseover");_.isArray(n.compTooltip)&&(t.tooltip=n.compTooltip[t.index]||"")},onInitTemplate:function(n,t){return ecount.widget.replaceAttr(n,{ecService:t.ecService?'data-service="'+t.ecService+'"':"",ecServiceAttr:t.ecServiceAttr?'data-service-attr="'+t.ecServiceAttr+'"':"",ecServiceTrigger:t.ecServiceTrigger?'data-service-trigger="'+t.ecServiceTrigger+'"':"",compTooltip:t.tooltip?'data-tooltip="'+t.tooltip+'"':""})},getLayerServiceKey:function(n){var t=this._layerKey||n.cindex;return ecount.common.makeServiceKey(n.ecPath,t)},showDropdown:function(n){var t={handler:".layer.dropdown",ecService:"layer.dropdown",cindex:0,cid:this.cid,ecPath:this.getEcPath()},i=this.hasIconCSS(n.items);i&&(this.hasDropdownLayerIcon=!0,this.isSetDropdownSize=!0);_.extend(n,{_onClicked:!0});this._showLayer(t,{},n)},hasIconCSS:function(n){return n&&n.filter(function(n){return!!n.iconCSS||!!n.liCss}).length>0?!0:!1},ON_CLICK:function(n,t,i,r){r.cid=this.id;r.__self=this;r.className=_.get(t,"target.className")},getGridSelectedLabel:function(){var n="";return this.$el.length>0&&(n=this.$el.get(0).outerHTML),n},ON_MOUSEOVER:function(n,t){var i=_.get(t.target,"dataset.tooltip","");i&&this.setPopover($(t.target),{title:i,message:i,type:"tooltip",placement:"auto",trigger:"hover",directShow:!0})}},caretLink:{controlType:"widget.gridCell.caretLink",template:"<a href='javascript:;' data-ecpath='{{ecPath}}' data-cid='{{cid}}' class='{{css}} {{addCss}}' data-index='{{index}}'>{{label}}<span class='fa fa-caret-{{position}}'><\/span><\/a>",onInitComponents:function(n,t){t.position=this.getPositionConvert(n.position)},getPositionConvert:function(n){return n=="up"||_.upperCase(n)=="D"?"up":"down"},setPosition:function(n){n=this.getPositionConvert(n);this.$el&&(this.getComponent(0).position=n,this.$el.find("span").removeClass("fa-caret-"+(n=="down"?"up":"down")).addClass("fa-caret-"+n))}},faCheckLink:{controlType:"widget.gridCell.faCheckLink",template:["<a href='javascript:;' data-ecpath='{{ecPath}}' data-cid='{{cid}}' class='{{css}} {{addCss}}' data-index='{{index}}'>","<span class='fa fa-check'><\/span>","{{label}}","<\/a>",].join("")},thumbnailLink:{controlType:"widget.gridCell.thumbnailLink",noDataTemplate:["<span class='thumbnail {{css}}'>","<img src='{{value}}' style='{{style}}'>","<\/span>",].join(""),template:["<a href='javascript:;' data-ecpath='{{ecPath}}' data-cid='{{cid}}' data-index='{{index}}' class='thumbnail {{css}} {{addCss}}' {{style}}>","<img src='{{value}}' style='{{style}}'>","<\/a>",].join(""),onInitComponents:function(n,t){this.isNotLink=n.isNotLink||!1;t.value=t.value||"";t.style=ecount.convertor.convertToStyle(n.inlineStyle)||""},onInitTemplate:function(n){return this.isNotLink?this.noDataTemplate:n}},barcodeImageTag:{controlType:"widget.gridCell.barcodeImageTag",template:'<span class="{{css}} {{addCss}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" >{{barcodeData}}<\/span>',_imgTemplate:'<div><img width="{{width}}" height="{{height}}" src="{{url}}"><\/div>{{br}}',_brTemplate:'<br style="display: block;"/>',onInitComponents:function(n,t){var i=n.barcodeData||[];t.barcodeData=$.isArray(i)?i:[i]},onInitTemplate:function(n,t){var i="",r=this._brTemplate,u=t.barcodeData.length;return t.barcodeData.forEach(function(n,t){var f=this._imgTemplate.replace("{{width}}",(n.width||"0")+"px;").replace("{{height}}",(n.height||"0")+"px;").replace("{{url}}",n.url||"");u===t+1&&(r="");i+=f.replace("{{br}}",r)}.bind(this)),n.replace("{{barcodeData}}",i)},setLabel:function(n,t){t=t||0;this.getComponent(t).label=n;this.$el.html(n)},getLabel:function(n){return n=n||0,this.getComponent(n).label}},checkbox:{controlType:"widget.gridCell.checkbox",template:'<div class="form-checkbox {{css}}" data-ecpath="{{ecPath}}" {{style}}><input type="checkbox" name="{{name}}" {{checked}}  data-cid="{{cid}}" data-index="{{index}}" {{attr.disabled}}><label class="form-checkbox" name="{{name}}">{{label}}<\/label><\/div>',onInitComponents:function(n,t){t.checked=t.selected||!1;t.label=t.label||""},onInitTemplate:function(n,t){return n=n.replace("{{style}}",this.style?'style="'+this.style+'"':""),t.checked==!0?n.replace("{{checked}}","checked"):n.replace("{{checked}}","")},setValue:function(n,t){var u=this.getComponents(),i,e,r,f;for(arguments.length==1?(t=arguments[0],n=u&&u.length>1?null:[0]):arguments.length==2&&(n=_.isArray(n)?n:[n]),i=0,e=_.isNull(n)?u.length:n.length;i<e;i++)r=this.getComponent(_.isNull(n)?i:n[i]),f=_.isNull(n)?t[i]:t,r&&(r.checked=f,this.$el.find("input").eq(r.index).prop("checked",f))},getValue:function(n){var r=[],t,i,u;if($.isNull(n)){for(i=0,u=this.getComponents().length;i<u;i++)t=this.getComponent(i),t&&this.getElements(t.index).prop("checked")&&r.push(t.value);return r}return t=this.getComponent(n),this.getElements(t?t.index:0).prop("checked")},changeLabel:function(n,t){var i=this.$el&&this.$el.find("label.form-checkbox")[t],r=this.getComponent(t||0).label;r=n;i.innerText=n}},checkboxNumbered:{controlType:"widget.gridCell.checkboxNumbered",template:'<div class="form-checkbox-numbered {{css}} {{addCss}}" data-ecpath="{{ecPath}}" {{style}}><input type="checkbox" name="{{name}}" {{checked}} data-cid="{{cid}}" data-index="{{index}}" class="{{style.disabled}}" data-disabled="{{attr.disabled}}"><div class="checkbox-numbered" name="{{name}}">{{label}}<\/div><\/div>',onInitComponents:function(n,t){t.checked=t.selected||!1;t.label=t.label||"";t["style.disabled"]=t["attr.disabled"]?"disabled":""},onInitTemplate:function(n,t){return n=n.replace("{{style}}",this.style?'style="'+this.style+'"':""),t.checked==!0?n.replace("{{checked}}","checked"):n.replace("{{checked}}","")},setValue:function(n,t){arguments.length==1?(t=arguments[0],n=[0]):arguments.length==2&&(n=_.isArray(n)?n:[n]);for(var i,r=0,u=n.length;r<u;r++)i=this.getComponent(n[r]),i&&(i.checked=t,this.$el.find("input").eq(i.index).prop("checked",t))},getValue:function(n){var r=[],t,i,u;if($.isNull(n)){for(i=0,u=this.getComponents().length;i<u;i++)t=this.getComponent(i),t&&this.getElements(t.index).prop("checked")&&r.push(t.value);return r}return t=this.getComponent(n),this.getElements(t?t.index:0).prop("checked")},changeLabel:function(n,t){this.getComponent(t||0).label=n;this.$el.find("div.checkbox-numbered").html(n)}},mergeAddRow:{controlType:"widget.gridCell.mergeAddRow",template:"<a href='javascript:;' data-ecpath='{{ecPath}}' data-cid='{{cid}}' data-index='{{index}}'><span class='fa fa-plus-square'><\/span><\/a>"},date:{controlType:"widget.gridCell.date",__inheritParent:"ecount.lightControl.date",template:'<span class="{{css}} {{addCss}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" >{{label}}<\/span>',onInitComponents:function(){ecount.lightControl.date.prototype.onInitComponents.apply(this,arguments)},onInitTemplate:function(){return ecount.lightControl.date.prototype.onInitTemplate.apply(this,arguments)},initializeOptions:function(){ecount.lightControl.date.prototype.initializeOptions.apply(this,arguments)}},select:{controlType:"widget.gridCell.select",template:'<span class="{{css}} {{addCss}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" >{{label}}<\/span>',onInitComponents:function(n,t){t.label=this._getSelectedLabel(t.label,t.option);t.gridSectionType=n.gridSectionType;t.gridColumnID=n.gridColumnID;t.gridDataKey=n.gridDataKey},_getSelectedLabel:function(n,t){var i=ecount.control.select.getOptionsFromArray(t,function(){return 1},function(n){return{value:""+n[0],label:""+n[1]}}),r=i.head(ecount.control.select.optionFindingPredicate.bind(i,n));return r?r.label:""}},radio:{controlType:"widget.gridCell.radio",template:'<span class="{{css}} {{addCss}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" >{{label}}<\/span>',onInitComponents:function(n,t){t.label=this._getSelectedLabel(t.label,n);t.gridSectionType=n.gridSectionType;t.gridColumnID=n.gridColumnID;t.gridDataKey=n.gridDataKey},_getSelectedLabel:function(n,t){var u=t.data||[],r=t.gridSectionType||"",i={};return(r==="thead"?i.label=n:r==="tbody"&&(i=u.head(function(t){return t.selected==!0&&t.label==n}.bind(this))),!_.isEmpty(i))?i.label:""}},foldColumn:{controlType:"widget.gridCell.foldColumn",template:'<div class="view-hidden-item {{addCss}}" data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" sectiontype="{{gridSectionType}}" data-column-id="{{gridColumnID}}" data-key="{{gridDataKey}}" ><div><\/div><\/div>',onInitComponents:function(n,t){t.gridSectionType=n.gridSectionType;t.gridColumnID=n.gridColumnID;t.gridDataKey=n.gridDataKey}},treeWidget:{controlType:"widget.gridCell.treeWidget",template:'<div data-ecpath="{{ecPath}}" data-cid="{{cid}}" data-index="{{index}}" class="{{css}}">((items))<\/div>',labelTemplate:'<span class="tree-label" data-cid="{{cid}}" data-index="{{index}}" data-ccid="((ccid))">((label))<\/span>',linkTemplate:'<a href="javascript:;" class="tree-link" data-cid="{{cid}}" data-index="{{index}}" data-ccid="((ccid))">((label))<\/a>',iconTemplate:'<span class="((style.css))" data-ccid="((ccid))"><\/span>',checkboxTemplate:'<span class="form-checkbox form-checkbox-text-no"><input type="checkbox" name="{{name}}" ((checked))><label name="{{name}}"><\/label><\/span>',init:function(){ecount.lightControl.prototype.init.apply(this,arguments)},onInitComponents:function(n,t){$.isNull(n.childComps)&&(n.childComps={});n.childComps&&_.merge(t,{childComps:{arrow:{state:n.childComps.arrow===undefined?null:n.childComps.arrow,"class":"tree-arrow",on:"open",id:"arrow"},checkbox:{state:n.childComps.checkbox===undefined?null:n.childComps.checkbox,"class":"form-checkbox form-checkbox-text-no"},bookmark:{state:n.childComps.bookmark===undefined?null:n.childComps.bookmark,"class":"tree-bookmark",on:"tree-bookmark-added",id:"bookmark"},folder:{state:n.childComps.folder===undefined?null:n.childComps.folder,"class":"tree-folder",on:"tree-unfolder",id:"folder"},link:{state:n.childComps.link===undefined?null:n.childComps.link,"class":"tree-link",id:"link"},label:{state:t.label===undefined?null:t.label,"class":"tree-label",id:"label"}}});this.dropdownOptions=n.dropdownOptions||[]},onInitTemplate:function(n,t){function e(n,t,i,r){switch(t){case"arrow":case"bookmark":case"folder":$.isNull(i.state)||i.state!==!0?i.state!==null&&i.state===!1&&n.push(this.getIconTemplate(i.class,t)):n.push(this.getIconTemplate(i.class+" "+i.on,t));break;case"checkbox":$.isNull(i.state)||(n.push(this.checkboxTemplate),i.state===!0&&n.push(n.replace("((checked))","checked")));break;case"link":t!=="link"||$.isNull(i.state)?(t="label",n.push(this.labelTemplate.replace("((label))",r.label).replace("((ccid))",t))):n.push(this.linkTemplate.replace("((label))",r.label).replace("((ccid))",t))}}var u=[],r,i,f;if(t.childComps)for(r=Object.keys(t.childComps),i=0;i<r.length;i++)f=t.childComps[r[i]],e.call(this,u,r[i],f,t);return n.replace("((items))",u.join(" "))},getIconTemplate:function(n,t){return this.iconTemplate.replace("((style.css))",n).replace("((ccid))",t)},getTarget:function(n){return this.$el.find("[data-ccid="+(n||"")+"]")},getChildComps:function(n){return this.components[0].childComps[n]},displayFnButton:function(n){var t=this.getTarget("fn"),i=this.getChildComps("fn");t&&n?t.removeClass("hidden"):t&&!n&&t.addClass("hidden");i.state=n},setToggleArrow:function(){this.toggleClass("arrow","open")},setToggleFolder:function(){this.toggleClass("folder","tree-unfolder")},setToggleBookmark:function(){this.toggleClass("bookmark","tree-bookmark-added")},toggleClass:function(n,t){var i=this.getTarget(n);i.hasClass(t)?i.removeClass(t):i.addClass(t)},setCustomAddClass:function(n,t){var i=this.getTarget(n),r=this.getChildComps(n);r.customCss=t;i.addClass(t)},setCustomRemoveClass:function(n,t){var i=this.getTarget(n),r;t===undefined?(r=this.getChildComps(n).customCss,i.removeClass(r)):i.removeClass(t)},ON_CLICK:function(n,t,i,r){if(n.ecPath==this.ecPath&&n.ecService){var u=this.getlayerOptions(n,t,i,r);this._fixClickedLayer(n,t,u)}}},empty:{controlType:"widget.gridCell.treeWidget",template:""},create:function(n){var i,t,u,r,f;if(n=n||"_default",i=widget.gridCell.repository,t=i[n]||{},!widget.gridCell._baseLoaded){u=$.Class(ecount.lightControl,i._default);widget.gridCell=$.extend(u,widget.gridCell);for(r in i)i.hasOwnProperty(r)&&widget.gridCell[r]&&delete widget.gridCell[r];if(widget.gridCell._baseLoaded=!0,n=="_default")return}widget.gridCell[n]||(t.init||(t.init=function(){widget.gridCell.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.gridCell.prototype.render.apply(this,arguments)}),f=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.gridCell,widget.gridCell[n]=$.Class(f,t))}}};ecount.control.reloadRepository&&ecount.control.reloadRepository("widget.gridCell");widget.flowSlide={};widget.flowSlide._baseLoaded=!1;widget.flowSlide._export=function(){return{_default:{controlType:"widget.flowSlide",init:function(){ecount.control.flowSlide.prototype.init.apply(this,arguments)},render:function(){ecount.control.flowSlide.prototype.render.apply(this,arguments)}},create:function(n){var t,i;(n=n||"_default",t=widget.flowSlide.repository[n]||{},i=ecount.control.flowSlide,widget.flowSlide._baseLoaded||(ecount.control.loadRepository(ecount.control.flowSlide,ecount.control.view.flowSlide,"widget.flowSlide"),widget.flowSlide._baseLoaded=!0,n!="_default"))&&(widget.flowSlide[n]||(t.init||(t.init=function(){widget.flowSlide.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.flowSlide.prototype.render.apply(this,arguments)}),i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.flowSlide,widget.flowSlide[n]=$.Class(i,t)))}}};widget.view.flowSlide||(widget.view.flowSlide={});widget.view.flowSlide._export=function(){return{_default:{}}};widget.flowSignalLamp={};widget.flowSignalLamp._baseLoaded=!1;widget.flowSignalLamp._export=function(){return{_default:{controlType:"widget.flowSignalLamp",init:function(){ecount.control.flowSignalLamp.prototype.init.apply(this,arguments)},render:function(){ecount.control.flowSignalLamp.prototype.render.apply(this,arguments)}},create:function(n){var t,i;(n=n||"_default",t=widget.flowSignalLamp.repository[n]||{},i=ecount.control.flowSignalLamp,widget.flowSignalLamp._baseLoaded||(ecount.control.loadRepository(ecount.control.flowSignalLamp,ecount.control.view.flowSignalLamp,"widget.flowSignalLamp"),widget.flowSignalLamp._baseLoaded=!0,n!="_default"))&&(widget.flowSignalLamp[n]||(t.init||(t.init=function(){widget.flowSignalLamp.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.flowSignalLamp.prototype.render.apply(this,arguments)}),i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.flowSignalLamp,widget.flowSignalLamp[n]=$.Class(i,t)))}}};widget.view.flowSignalLamp||(widget.view.flowSignalLamp={});widget.view.flowSignalLamp._export=function(){return{_default:{}}};widget.flowOrder={};widget.flowOrder._baseLoaded=!1;widget.flowOrder._export=function(){return{_default:{controlType:"widget.flowOrder",init:function(){ecount.control.flowOrder.prototype.init.apply(this,arguments)},render:function(){ecount.control.flowOrder.prototype.render.apply(this,arguments)}},create:function(n){var t,i;(n=n||"_default",t=widget.flowOrder.repository[n]||{},i=ecount.control.flowOrder,widget.flowOrder._baseLoaded||(ecount.control.loadRepository(ecount.control.flowOrder,ecount.control.view.flowOrder,"widget.flowOrder"),widget.flowOrder._baseLoaded=!0,n!="_default"))&&(widget.flowOrder[n]||(t.init||(t.init=function(){widget.flowOrder.prototype.init.apply(this,arguments)}),t.render||(t.render=function(){widget.flowOrder.prototype.render.apply(this,arguments)}),i=t.__inheritParent?ecount.common.createNamespace(t.__inheritParent):widget.flowOrder,widget.flowOrder[n]=$.Class(i,t)))}}};widget.view.flowOrder||(widget.view.flowOrder={});widget.view.flowOrder._export=function(){return{_default:{}}};ecount.module("widget.compiler",{generatorFunction:{L:"label",V:"value",O:"option",C:"setController",S:"setOptions",N:"numericOnly",D:"dataRules",F:"filter",CD:"codeType",SE:"select",RI:"readOnlyByIndex"},compile:function(n){var i;if(!$.isNull(n)&&!$.isEmpty(n)){var r=widget.compiler.generatorFunction,u=n,t={};for(i in u)t[f(i)]=u[i];function f(n){for(var t in r)if(n==r[t])return t;return null}return t=Object.toJSON(t),t.replaceAll("ecount.resource.","")}},deCompile:function(n,t,i){var u;if($.isString(n)&&!$.isEmpty(n)){var e=widget.compiler.generatorFunction,r=n,f={};r=r.replace(/['"]((lbl|msg|btn)\d{5})['"]/ig,function(){var n=ecount.resource[arguments[1]];return $.isEmpty(n)?'"'+arguments[1]+'"':'"'+n.replace(/\n/g,"\\n")+'"'});r=this.mappingGeneratorData(r,t,i||{});r=JSON.parse(r);for(u in r)f[e[u]]=r[u];return f}},mappingGeneratorData:function(n,t,i){var r,f,e,u;if(!$.isNull(n)){if(r=n.match(/\$(W|S|P|C)\([^\)]+\)/g),$.isNull(r))return n;for(u=0;u<r.length;u++)f=r[u],e=this.getMappingData(f,t,i),n=n.replace(f,e)}return n},getMappingData:function(n,t,i){var e=n[1],r=n.substr(3,n.length-4).split("/"),o={W:i,C:window,P:window[ecount.page.prefix+t]},u,f;if(e=="S")r[0]=r[0].replace(/(lbl|msg|btn)\d{5}/ig,function(){return ecount.resource[arguments[0]].replace(/\n/g,"\\n")}),u=String.format.apply(this,r);else for(u=o[e],f=0;f<r.length;f++){if(!u)break;r[f]!=""&&(u=u[r[f]])}return u},controllerFunction:{T:"toggle",R:"readOnly",D:"disabled"},unionAssembler:function(n){for(var t=n.split(":"),u=widget.compiler.controllerFunction[t.shift()],f=t.shift(),r=[],i=0,e=t.length;i<e;i++)r.push(t[i].split(","));return{handler:u,target:f,data:r}}});