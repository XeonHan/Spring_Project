window.__define_resource&&__define_resource("MSG06586","MSG01136","MSG02158","MSG00684","LBL03176","LBL02263");ecount.class("ecount.gridV3",null,{init:function(n,t){if(this.config=t,this.constValue=ecount.grid.constValue,this.constEvent=ecount.grid.event.list,this.rowVariableNames=this.constValue.rowVariableNames,this.pageRelatedEvents=t.events.pageRelatedEvents,this.gridRelatedEvents=t.events.gridRelatedEvents,this.gridRelatedEvents.register("ecount.gridV3.dataLoadCompleted",this,this.initInstances),this.gridRelatedEvents.register("ecount.gridV3.renderingCancel",this,this.renderStop),this.gridRelatedEvents.register("ecount.gridV3.makeRenderingHTMLCompleted",this,this.renderHTMLCompleted),this.__selector=n,this.config.layout.container=this.config.layout&&this.config.layout.layer&&this.config.layout.layer.querySelector("[data-gid='"+this.__selector+"']"),this.config.layout.container)this.config.layout.$container=$(this.config.layout.container);else return;if(this.config.common.ecContainerId=n,this.config.common.drawCount=0,this.config.common.isDrawing=!1,this.config.common.isDrawCancel=!1,this.config.layout&&this.config.layout.layer&&this.config.layout.fixCustomOptions&&this.config.layout.fixCustomOptions.contentsName){var i=$(this.config.layout.layer).find(this.config.layout.fixCustomOptions.contentsName);i.length>0&&(this.config.layout.fixCustomContents=i[0],this.config.layout.$fixCustomContents=i)}},render:function(){if(this.config.layout&&this.config.layout.container){if(this.config.layout.container.classList.remove("variable-reset-full-size"),this.sectionContainers)for(var n=0,t=this.sectionContainers.length;n<t;n++)this.sectionContainers[n].clearAddons();this.config.layout.container.innerHTML=""}this.progressbar(!0);this.config.events.widgetCommonEventDelegator||this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.tableReady,{settings:this.config});this.config.common.drawCount&&this.config.common.drawCount>1&&this.sectionContainers&&this.sectionContainers.forEach(function(n){n.flushTbodyMultiCheckBulk()});this.config.common.isDrawing||this.config.common.isDrawCancel?(this.config.common.isDrawCancel=!0,ecount.global.setTimeout(this.config.common.ecPageId,function(){this.config.common.isDrawing||this.config.common.isDrawCancel||this.render()}.bind(this))):(this.config.common.isDrawing=!0,this.config.common.parentGridId?this.config.end?this.config.end():this.initInstances():ecount.global.setTimeout(this.config.common.ecPageId,function(){this.config.end?this.config.end():this.initInstances()}.bind(this),0))},initInstances:function(){var n,t;(this.detachScrollEvent(),this.destroyGridGenerator(),this.destroyControlGenerator(),this.destroyInstanceManager(),this.destroySectionContainers(),this.html="",this.madeRows=[],this.sectionContainers=[],this.config.layout.container)&&(this.gridGenerator=new ecount.gridV3.generator,this.controlGenerator=widget.generator.control(),this.instanceManager=new ecount.gridV3.instanceManager,n={gridGenerator:this.gridGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager,toolbarGenerator:this.toolbarGenerator},this.config&&this.config.editable&&this.config.editable.use&&(t=[this.config.common.ecPageId,this.config.common.ecTabId,this.config.common.ecContainerId].join(ecount.delimiter),ecount.runtime.observe("control.togglePopover",t,function(n){var t=n.gridInfo,i={type:n.type},r=n.control,u={flag:n.flag,popoverInfo:n.popoverInfo};this._ON_VALIDATE(t,i,r,u)}.bind(this)),ecount.runtime.observe(ECountEvent.Type.MOUSEUP,null,function(){if(this.config&&this.config.common&&this.config.common.lazyDeactive&&this.config.common.deactiveRowId){var n=this;this.sectionContainers.forEach(function(t){t.resetTrHeightAllColumn(n.config.common.deactiveRowId);t.redrawCssValidationAllColumn(n.config.common.deactiveRowId)});this.config.common.lazyDeactive=!1}}.bind(this))),this.makeRenderingHTMLCompletedCount=0,this.isRenderingCompleted=!1,this.config.common.getHasDetailGrid()&&(this._detailTableList=this.config.common.getDetailGridSettings(),this._detailTableCount=0),this.config.checkbox&&(this.config.checkbox.madeCount=0,this.config.checkbox.clearManageCount()),this.config.matrixState&&this.config.matrixState.use&&(this.gridRelatedEvents.remove(ecount.gridV3.constEvent.matrixState.getTbodyRowItem),this.gridRelatedEvents.register(ecount.gridV3.constEvent.matrixState.getTbodyRowItem,this,function(n){var t=this.getTbodyRowItem(n.rowId),i,f,e,r,u;if(n.columnId&&n.rowId){if(i={},i[this.constValue.keyColumnPropertyName]=t[this.constValue.keyColumnPropertyName],i[this.constValue.rowStatePropertyName]=t[this.constValue.rowStatePropertyName],i[this.constValue.rowCountColumnPropertyName]=t[this.constValue.rowCountColumnPropertyName],n.isIncludeChangeColumnId&&(r=this.getTbodyColumnInfo(n.columnId),u=r&&r.propertyName||columnId,i[u]=t[u]),n.importColumnIdList)for(f=0,e=n.importColumnIdList.length;f<e;f++)r=this.getTbodyColumnInfo(n.importColumnIdList[f]),u=r&&r.propertyName||n.importColumnIdList[f],i[u]=t[u];return(n.isIncludeChangeColumnId||n.importColumnIdList&&n.importColumnIdList.length>0)&&(t=i),t}return!0}.bind(this))),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.preInit,null,{isMoveCursor:this.config.keyboard.useMoveCursor}),this.initSectionContainer(n))},initSectionContainer:function(n){this.delayRender({instances:n,startIndex:0,endCount:10>this.config.tbodyRowData.rowDataBundle.length?this.config.tbodyRowData.rowDataBundle.length:10,increaseRenderCount:10});this.config.editable.isClipboardMode==!0&&(this.clipboard=new ecount.gridV3.modules.clipboard)},delayRender:function(n){var r,i;for(n=_.extend({increaseRenderCount:10},n||{}),r=n.startIndex||0,i=n.endCount||this.config.tbodyRowData.rowDataBundle.length-1;r<i;){var t=r,u=this.config.tbodyRowData.rowDataBundle[t],e=u[0]&&u[0][this.rowVariableNames.renderSet],o=e&&e[this.rowVariableNames.tableId],f=new ecount.gridV3.sectionContainer({tableId:o,common:this.config.common,layout:this.config.layout,table:this.config.table,theadForm:this.config.theadColumns.forms?this.config.theadColumns.forms:this.config.theadColumns.columns,theadColumn:this.config.theadColumns,tbodyForm:this.config.tbodyColumns.forms?this.config.tbodyColumns.forms:this.config.tbodyColumns.columns,tbodyColumn:this.config.tbodyColumns,tfootForm:this.config.tfootColumns.forms?this.config.tfootColumns.forms:this.config.tfootColumns.columns,tfootColumn:this.config.tfootColumns,theadRowDatas:this.config.theadRowData.rowDatas,tbodyRowDatas:u,tfootRowDatas:this.config.tfootRowData.rowDatas,theadRow:this.config.theadRowData,tbodyRow:this.config.tbodyRowData,tfootRow:this.config.tfootRowData,form:this.config.form,paging:t==0?this.config.paging:{},topToolbar:this.config.topToolbar,headerToolbar:this.config.headerToolbar,events:this.config.events,footerToolbar:this.config.footerToolbar,bottomToolbar:this.config.bottomToolbar,checkbox:this.config.checkbox,editable:this.config.editable,drag:this.config.drag,row:this.config.row||{},foot:this.config.foot||{},tbodyShaded:this.config.tbodyShaded||{},sortable:this.config.sortable||{},matrixState:this.config.matrixState||{},tbodyValidation:this.config.tbodyValidation||{},keyboard:this.config.keyboard||{},tree:this.config.tree||{},theadSearch:this.config.theadSearch||{},tbodySearch:this.config.tbodySearch||{},tfootSearch:this.config.tfootSearch||{},print:this.config.print,foldColumn:this.config.foldColumn||{}},n.instances,t);this.sectionContainers.push(f);this.config.common.renderType==this.constValue.gridRenderType.typeHorizonList?f.renderHorizonList({rowDatasIndex:t,isFirstContainer:t==0,isLastContainer:this.config.tbodyRowData.rowDataBundle.length-1==t}):f.render({rowDatasIndex:t,isFirstContainer:t==0,isLastContainer:this.config.tbodyRowData.rowDataBundle.length-1==t});r+=1}i<this.config.tbodyRowData.rowDataBundle.length&&ecount.global.setTimeout(this.config.common.ecPageId,function(){this.delayRender({instances:n.instances,startIndex:i,endCount:i+n.increaseRenderCount>this.config.tbodyRowData.rowDataBundle.length?this.config.tbodyRowData.rowDataBundle.length:i+n.increaseRenderCount,increaseRenderCount:n.increaseRenderCount})}.bind(this))},renderStop:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&(this.config.common.isDrawing=!1,this.config.common.isDrawCancel=!1,this.detachScrollEvent(),this.destroyGridGenerator(),this.destroyControlGenerator(),this.destroyInstanceManager(),this.destroySectionContainers())},initPartialInstance:function(){var n={gridGenerator:this.gridGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager,toolbarGenerator:this.toolbarGenerator};this.html="";this.makeRenderingHTMLCompletedCount=0;this.config.tbodyRowData.setNextPartRowDataBundle();this.initSectionContainer(n)},continuePartialRendering:function(){var n=this.config.print&&this.config.print.getLimitPartitialRowEndIndex()||0,t=this.config.print&&this.config.print.getTotalPage();t-1>n?(ecount.global.setTimeout(this.config.common.ecPageId,function(){this.initPartialInstance()}.bind(this),0),this.partitialRenderingStatus="ongoing"):this.partitialRenderingStatus="finish"},renderHTMLCompleted:function(n){var t,i,u,r;if(n.detailGrid||(this.makeRenderingHTMLCompletedCount+=1,n.isReplaceTable?this.html=this.html.replace("<"+n.dataTableId+">",n.renderingHTML||""):this.html+=n.renderingHTML||""),this.config.tbodyRowData.rowDataBundle.length==this.makeRenderingHTMLCompletedCount){if(n.detailGrid&&this.attachDetailGrid(n),this._detailTableList&&this._detailTableList.length>0){this.renderDetailGrid(n);return}if(this.config.common.isSalaryPayrollBookList()&&this.continuePartialRendering(),this.config.common.drawCount+=1,this.isRenderingCompleted=!0,this.html+="<div style='position: fixed; top: 0px; left: 0px; width: 0px; height: 0px;'><\/div>",this.$htmlElement=$(this.html),this.config.print.getUse()&&(this.config.layout.$container.append(this.config.layout.iframeForPrintArea),this.print||(t={container:this.config.layout.container,formType:this.config.form.getType(),renderType:this.config.common.renderType,isRequireImage:this.config.common.isRequireImage,useTableCutLine:this.config.common.getUseTableCutLine(),gridCountPerPage:this.config.common.getGridCountPerPage(),gridDuplicate:this.config.common.getGridDuplicate(),hasDetailGrid:this.config.common.getHasDetailGrid(),secondTablePosition:this.config.common.secondTablePosition,tableCutLinePosition:this.config.common.tableCutLinePosition,isInitailizeWidth:this.config.print&&this.config.print.isInitailizeWidth,isInitailizeHeight:this.config.print&&this.config.print.isInitailizeHeight,isNotUsePadding:this.config.print&&this.config.print.isNotUsePadding,autoAlignStandard:this.config.print&&this.config.print.autoAlignStandard,topToolbar:{},bottomToolbar:{}},this.sectionContainers.forEach(function(n){t.topToolbar[n.dataTableId]=n.topToolbar;t.bottomToolbar[n.dataTableId]=n.bottomToolbar}.bind(this)),this.print=new ecount.gridV3.modules.print(t)),this.html=this.print.duplicateTableCutLine(this.$htmlElement)),this._detailTableList&&this._detailTableList.length==0&&this.config.print._detailTableId.length>0){for(i=0,u=this.config.print._detailTableId.length;i<u;i++)this.html=this.html.replace("&lt;"+this.config.print._detailTableId[i]+"&gt;","");this.config.print._detailTableId=[]}this.config.common.isTypeSpecTran()&&(this.config.layout.container.style.cssText="position: relative; top: -9999px");this.config.layout.container.children.length==0?this.config.layout.container.innerHTML=this.html:this.config.layout.container.children[this.config.layout.container.children.length-1].insertAdjacentHTML("afterEnd",this.html);r=function(){if(this.config.common.renderType&&!this.config.layout.printIframeArea){var n=$('<div id="tempIframeForPrint" style="width:0px;height:0px;position:absolute;top:-10000px;left:-10000px;overflow:hidden;"><\/div>');this.config.layout.printIframeArea=n[0];this.config.layout.container.appendChild(this.config.layout.printIframeArea)}this.config.common.isTypeSpecTran()&&(this.config.layout.container.style.cssText="");this.sectionContainers.forEach(function(n){n.setCacheTable()});(this.config.theadColumns.fix||this.config.fix&&(this.config.fix.rowFixed||this.config.fix.columnFixed))&&(this.fixed=new ecount.gridV3.modules.fix({ecPageId:this.config.common.ecPageId,ecContainerId:this.config.common.ecContainerId,layer:this.config.layout.layer,contentsSelector:".contents",contents:this.config.layout.contents[0],fixCustomOptions:this.config.layout.fixCustomOptions||null,fixCustomContents:this.config.layout.fixCustomContents||null,containerSelector:"#"+this.config.common.ecContainerId,container:this.config.layout.container,tableSelector:"#grid-main",fixedRowCount:this.config.fix.rowFixed,fixedColumnCount:this.config.fix.columnFixed,isFixedHead:this.config.theadColumns.fix,freeSizeWidth:!1,topToolbarSelector:"."+this.config.headerToolbar.css,fixedChangeCallback:function(n){this.pageRelatedEvents&&this.pageRelatedEvents._triggerEvent(ecount.grid.event.list.fixedChange,{},n)}.bind(this)}),this.sectionContainers.forEach(function(n){n.setFixed(this.fixed)}.bind(this)),this.fixed.render());this.config.resize&&this.config.resize.use&&(this.resize=new ecount.resizeTable({resizeType:this.config.resize.resizeType,resizeTarget:this.config.resize.resizeTarget,heightSections:this.config.resize.heightSections,widthSections:this.config.resize.widthSections,enableColumns:this.config.resize.enableColumns,groupColumns:this.config.resize.groupColumns,maxSize:this.config.resize.maxSize},{container:this.config.layout.container,body:this.config.layout.scrollContainer,ecPageID:this.config.common.ecPageId,layoutSelector:"div[data-gid="+this.config.common.ecContainerId+"]",calculateScroll:!0},this.gridRelatedEvents),this.resize.render(),this.gridRelatedEvents.remove(ecount.constValue.resizeEvent.start),this.gridRelatedEvents.register(ecount.constValue.resizeEvent.start,this,ecount.gridV3.handler.resize.resizeStart),this.gridRelatedEvents.remove(ecount.constValue.resizeEvent.enable),this.gridRelatedEvents.register(ecount.constValue.resizeEvent.enable,this,ecount.gridV3.handler.resize.resizeEnable),this.gridRelatedEvents.remove(ecount.constValue.resizeEvent.move),this.gridRelatedEvents.register(ecount.constValue.resizeEvent.move,this,ecount.gridV3.handler.resize.resizeMove),this.gridRelatedEvents.remove(ecount.constValue.resizeEvent.end),this.gridRelatedEvents.register(ecount.constValue.resizeEvent.end,this,ecount.gridV3.handler.resize.resizeEnd));ecount.global.setTimeout(this.config.common.ecPageId,function(){this.progressbar(!1);this.config.common.isDrawing=!1;this.config.common.isDrawCancel=!1;var n=this.getTbodyRowList();this.pageRelatedEvents&&this.pageRelatedEvents._triggerEvent(ecount.grid.event.list.renderComplete,{},{containerId:this.__selector,gridId:this.config.common.ecContainerId,drawCounter:1,gridWidth:this.getTotalWidth(),totalDataCount:n.length,dataCount:n.length,dataRows:n,printPageCount:0,isPositionRelative:!1,partitialRenderingStatus:this.partitialRenderingStatus||"finish"});this.config.drag&&this.config.drag.use&&this.setGridDraggable();this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.gridResized,{},{});(this.config.theadColumns.fix||this.config.fix&&(this.config.fix.rowFixed||this.config.fix.columnFixed))&&(ecount.runtime.observe("scroll.page.eventContainer",[[this.config.common.ecPageId,"grid"].join("_"),this.config.common.ecContainerId],function(n){this.fixed.getDrawCount()<=1&&this.fixed.scrollCloneTable(n);this.config.common.isSalaryPayrollBookList()&&this.print.scrollPrintTable(n)}.bind(this)),this.gridRelatedEvents.register("ecount.gridV3.resizeColumn",this,function(n){var t=this.getTheadColumnInfo(n.gridColumnID),i=this.getTheadColumnIndexById(this.constValue.returnType.multi,n.gridColumnID,!0),r=parseInt(this.getTotalWidth("visible"),10)-parseInt(t.width,10)+parseInt(n.gridColumnWidth,10);this.fixed.setCloneColumnWidth(n,i,parseInt(n.gridColumnWidth,10)+"px");this.fixed.setCloneTableWidth(n,r)}),this.gridRelatedEvents.register("ecount.gridV3.fixed.addClass",this,function(n){this.fixed.addClass(n.gridSectionType,n.gridColumnID,n.gridDataKey,n.gridAddClassNames)}),this.gridRelatedEvents.register("ecount.gridV3.fixed.removeClass",this,function(n){this.fixed.removeClass(n.gridSectionType,n.gridColumnID,n.gridDataKey,n.gridRemoveClassNames)}),this.gridRelatedEvents.register("ecount.gridV3.fixed.addControlClass",this,function(n){this.fixed.addControlClass(n.gridSectionType,n.gridColumnID,n.gridDataKey,n.gridControlIndex,n.gridAddClassNames)}),this.gridRelatedEvents.register("ecount.gridV3.fixed.removeControlClass",this,function(n){this.fixed.removeControlClass(n.gridSectionType,n.gridColumnID,n.gridDataKey,n.gridControlIndex,n.gridRemoveClassNames)}),this.config.common.popupId&&(ecount.runtime.stopObserving("dragStop",this.config.common.ecPageId),ecount.runtime.observe("dragStop",this.config.common.ecPageId,this.fixed.setCloneTablePosition.bind(this.fixed))));ecount.runtime.observe("resize",[this.config.common.ecPageId,this.config.common.ecContainerId],function(){if(this.config&&this.config.theadColumns&&this.config.theadColumns.fix||this.config.fix&&(this.config.fix.rowFixed||this.config.fix.columnFixed)){if(!this.isVisibleTable())return;this.fixed.getDrawCount()<=1&&this.fixed.setCloneTablePosition()}}.bind(this));this.config.common.parentGridEvent&&this.config.common.parentGridEventArgs&&(_.merge(this.config.common.parentGridEventArgs,{detailGrid:this.config.layout.container}),this.config.common.parentGridEvent._triggerEvent("ecount.gridV3.makeRenderingHTMLCompleted",this.config.common.parentGridEventArgs));this.html=""}.bind(this),0)}.bind(this);this.print&&this.print.render?this.print.render($(this.config.layout.container),r):r();this.pageRelatedEvents&&this.pageRelatedEvents._triggerEvent(ecount.grid.event.list.afterAppendToPage,{},{})}},setGridDraggable:function(){function c(n){var u=n.gridDataKey;if(u){var i=$(this.sectionContainers[0].tableElement),f="left: "+event.clientX+"px; top: "+event.clientY+"px;",e=i.attr("class"),o=i.attr("style"),s=i.find("colGroup").html(),t=i.find("tbody > tr[data-key='"+u+"']").clone(),r=0;return this.config.checkbox.use?(r=this.getTbodyCheckedCount(ecount.grid.constValue.checkBoxPropertyName),t.find("input[type='checkbox']").attr("checked","checked"),t=t.html()):t=t.html(),"<div class='draggable-helper' style='"+f+"'>"+(r>1?"<span class='badge'>"+r+"<\/span>":"")+"<table class = '"+e+"' style='"+o+"'><colGroup>"+s+"<\/colGroup><tbody><tr>"+t+"<\/tr><\/tbody><\/table>"+(r>1?"<div class='overlap-paper'><\/div>":"")+"<\/div>"}}var s=this.getTbodyRowList(),n,r,u,f,e,t,i,o,h;s.length>0&&(e=this.getTbodyRowKeyByIndex(0),n=this.sectionContainers[0].tableElement.querySelector("tbody").querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(e)+"']"),r=n[0].offsetHeight*n.length,u=n[0].offsetWidth,f=n[0].children.length);t=this.config.drag.moveMode?"<tr drag-grid-blank='true' class='draggable-holder' style='height:"+r+"px; width:"+u+"px;'><td colspan='"+f+"'><\/td><\/tr>":null;i=[];o=this.config.drag.moveMode?"hidden":"draggable-selected";this.config.drag.dragableModule.setDragData({id:this.config.common.ecPageId,target:"table#grid-main > tbody",helper:c.bind(this),helperDistance:{x:20,y:10},droppable:this.config.drag.droppableArea,blank:t,axis:"vertical",drag_start:function(n){var i=n.originalEvent&&n.originalEvent.target,t;if(i){t=this.getActiveCellByTarget(i);var r=$(i).closest("td").data("columnid"),o=$(i).closest("td").data("key"),u=this.sectionContainers[0].tbodySection.getColumnById(r),f=u.controlGenerator.end().controlType,e=_.merge(this.constValue.nativeControlInWidgetCheckbox,{"ecount.gridV2.widget.checkbox":!0,"ecount.gridV2.widget.rowItemCheckbox":!0});if(e[f])return!1}return t&&t!=""&&(t=ecount.gridV3.utils.replaceEscape(t),_.merge(n,{rowKey:t})),this.config.drag.startHandler&&this.config.drag.startHandler(n)===!1?!1:!0}.bind(this),drag_move:function(n){this.config.drag.moveHandler&&this.config.drag.moveHandler(n)}.bind(this),drag_stop:function(n){var r=n.originalEvent&&n.originalEvent.target,u,f,e;for(r&&(u=this.getActiveCellByTarget(r)),t&&$(this.sectionContainers[0].tableElement).find("tr[drag-grid-blank='true']").length>0&&$(this.sectionContainers[0].tableElement).find("tr[drag-grid-blank='true']").remove(),f=0;f<i.length;f++)this.removeTbodyRowClass(i[f],o);return u&&u!=""&&(u=ecount.gridV3.utils.replaceEscape(u)),$(r).closest("div.jstree").length>0&&(e=$(r).closest("li.jstree-node"),e.length>0&&(n.jstreeNodeId=e.attr("id"))),n.nodeType=r.nodeName.toLowerCase(),n.className=$(r).attr("class"),_.merge(n,{rowKey:u,blankTargetDataKey:h}),this.config.drag.endHandler&&this.config.drag.endHandler(n)===!1?!1:!0}.bind(this)})},renderDetailGrid:function(n){var t=this._detailTableList.pop(),i=document.createElement("div"),r=this.config.common.ecContainerId+this.constValue.detailItemsForPrintContainerAfterfix+this._detailTableCount,u;i.setAttribute("data-gid",r);i.style.display="none";this.config.layout.contents.append(i);t.setCommonParentGridEvent(this.gridRelatedEvents,n).setCommonParentPageId(this.config.common.parentEcPageId).setCommonEcPageId(this.config.common.ecPageId).setAlreadyIncludedLayout(this.config.common.alreadyIncludedLayout).setCommonWidgetInitializer(this.config.common.widgetInitializer).setCommonPopupLevel(this.config.common.popupLevel).setCommonPopupID(this.config.common.popupID).setLayoutLayer(this.config.layout.layer).setCommonParentGridId(this.config.common.ecGridId);this.config.common.useOuterDetailGrid&&(t.common.isOuterDetailGrid=!0);this._detailTableCount++;u=new ecount.gridV3(r,t);u.render()},attachDetailGrid:function(n){if(this.config.common.useOuterDetailGrid){var t="";$(n.detailGrid).find("div[data-detailtableid]").each(function(n,i){t=i.getAttribute("data-detailtableid");this.html=this.html.replaceAll("<"+t+">",i.innerHTML)}.bind(this))}else $(n.detailGrid).children("table[data-detailtableid]").each(function(n,t){var i=t.getAttribute("data-detailtableid");this.html=this.html.replaceAll("<"+i+">",t.outerHTML)}.bind(this))},destroy:function(){this.destroyAll()},destroyGridGenerator:function(){this.gridGenerator&&this.gridGenerator.destroyAll();this.gridGenerator=null},destroyControlGenerator:function(){this.controlGenerator=null},destroyInstanceManager:function(){this.instanceManager&&this.instanceManager.destroyAll();this.instanceManager=null;this.config&&this.config.common&&ecount.runtime.clearCache(this.config.common.ecPageId)},destroySectionContainers:function(){if(this.sectionContainers){for(var n;n=this.sectionContainers.pop();)n.destroyAll(),n=null;this.sectionContainers=null}},destroyGridRelatedEvents:function(){this.gridRelatedEvents.destroy();this.gridRelatedEvents=null},detachScrollEvent:function(){(this.config.theadColumns.fix||this.config.fix&&(this.config.fix.rowFixed||this.config.fix.columnFixed))&&ecount.runtime.stopObserving("scroll.page.eventContainer",[[this.config.common.ecPageId,"grid"].join("_"),this.config.common.ecContainerId])},destroyConfig:function(){this.config.destroyAll&&this.config.destroyAll();this.config=null},destroyAll:function(){if(this.config.editable&&this.config.editable.use){var n=[this.config.common.ecPageId,this.config.common.ecTabId,this.config.common.ecContainerId].join(ecount.delimiter);ecount.runtime.stopObserving("control.togglePopover",n)}ecount.runtime.stopObserving("temporarySave.hideTempSaveButton",this.config.common.ecPageId);ecount.runtime.stopObserving("temporarySave.showTempSaveButton",this.config.common.ecPageId);ecount.runtime.stopObserving("page.contetsFixed",this.config.common.ecPageId);ecount.runtime.stopObserving("resize",[this.config.common.ecPageId,this.config.common.ecContainerId]);this.detachScrollEvent();this.destroyGridRelatedEvents();this.destroyConfig();this.destroyGridGenerator();this.destroyControlGenerator();this.destroyInstanceManager();this.destroySectionContainers()},progressbar:function(n){this.config.common.useLoadingProgressbar&&(n?this.config.layout.progressbar&&this.config.layout.progressbar.show&&this.config.layout.progressbar.show({gridId:this.config.common.ecContainerId}):this.config.layout.progressbar&&this.config.layout.progressbar.hide&&this.config.layout.progressbar.hide({gridId:this.config.common.ecContainerId}))},isPossibleRenderOnLoad:function(){return this.config.tbodyRowData.dataUseFirst===!0&&this.config.common.isPossibleRenderOnLoad===!0&&this.config.common.drawCount==0},off:function(n){this.pageRelatedEvents&&this.pageRelatedEvents.remove(n)},on:function(n,t){this.pageRelatedEvents&&this.pageRelatedEvents.register(n,null,t)},getGridVersion:function(){return"v3"},bindDocumentEvents:function(){},getTotalWidth:function(n,t){var i;return this.isFreeSizeWidth()?(i=this.sectionContainers[0].getTableElement(),i&&i.offsetWidth||0):(t=t||{},t.targetType=n,this.sectionContainers[0].getTotalWidth(t))},getTopContainerWidth:function(){var n=0;return this.sectionContainers&&this.sectionContainers.forEach(function(t){var i=t.getTopContainerMaxWidth();i>n&&(n=i)}),n},getBottomContainerWidth:function(){var n=0;return this.sectionContainers&&this.sectionContainers.forEach(function(t){var i=t.getBottomContainerMaxWidth();i>n&&(n=i)}),n},getMaxWidth:function(n,t){var i=this.getTopContainerWidth(),r=this.getTotalWidth(n,t),u=this.getBottomContainerWidth();return Math.max(i,r,u)},setTotalWidth:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTotalWidth(n)})},addTheadCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTheadCellClass(n,t,i)})},addTbodyCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTbodyCellClass(n,t,i)})},addTfootCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTfootCellClass(n,t,i)})},addColumn:function(){},addColumnSection:function(){},addTheadColumn:function(n,t,i,r){this.sectionContainers&&this.sectionContainers.forEach(function(u){u.addTheadColumn(n,t,i,r)})},addTbodyColumn:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTbodyColumn(n,t,i,defaultColumnInfos)})},addTfootColumn:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTfootColumn(n,t,i,defaultColumnInfos)})},addTbodyRow:function(n,t,i){arguments.length==1&&(i=arguments[0],n=null,t="down");this.sectionContainers&&this.sectionContainers.forEach(function(r){r.addTbodyRow(n,t,i)})},addTheadRowClass:function(n,t){t!=undefined&&t!=null&&(typeof t=="string"&&(t=[t]),this.sectionContainers&&this.sectionContainers.forEach(function(i){i.addTheadRowClass(n,t)}))},addTbodyRowClass:function(n,t){t!=undefined&&t!=null&&(typeof t=="string"&&(t=[t]),this.sectionContainers&&this.sectionContainers.forEach(function(i){i.addTbodyRowClass(n,t)}))},addTfootRowClass:function(n,t){t!=undefined&&t!=null&&(typeof t=="string"&&(t=[t]),this.sectionContainers&&this.sectionContainers.forEach(function(i){i.addTfootRowClass(n,t)}))},begin:function(){},cancel:function(){},commit:function(){},emitEvent:function(){},getCell:function(){},getTheadCell:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTheadCell(n,t),$.isEmpty(i)?void 0:!0}),i},getTbodyCell:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTbodyCell(n,t),$.isEmpty(i)?void 0:!0}),i},getTfootCell:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTfootCell(n,t),$.isEmpty(i)?void 0:!0}),i},getTheadCellByRowDataIndex:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTheadCellByRowDataIndex(n,t),i?!0:void 0}),i},getTbodyCellByRowDataIndex:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTbodyCellByRowDataIndex(n,t),i?!0:void 0}),i},getTfootCellByRowDataIndex:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTfootCellByRowDataIndex(n,t),i?!0:void 0}),i},getTheadEditableState:function(n,t){var i=!1;return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=r.getTheadEditableState(n,t)}),i},getTbodyEditableState:function(n,t){var i=!1;return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=r.getTbodyEditableState(n,t)}),i},getTfootEditableState:function(n,t){var i=!1;return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=r.getTfootEditableState(n,t)}),i},getTheadRowCount:function(n){var t=0;return n=n||[],this.sectionContainers&&this.sectionContainers.forEach(function(i){t=i.getTheadRowCount(n)}),t},getTbodyRowCount:function(n){var t=0;return n=n||[],this.sectionContainers&&this.sectionContainers.forEach(function(i){t+=i.getTbodyRowCount(n)}),t},getTfootRowCount:function(n){var t=0;return n=n||[],this.sectionContainers&&this.sectionContainers.forEach(function(i){t=i.getTfootRowCount(n)}),t},getTbodyRowFilterList:function(n,t,i){var c,s,u,f,r,a,o;i=i||{};var v=i.rowState||{},p=i.rowNumbering||{},e=i.exceptRowType,w=typeof v.check=="boolean"?v.check:!1,b=v.include||[],k=typeof p.isZeroBase=="boolean"?p.isZeroBase:!1,h=[],y=[],l=0;if(typeof e=="string"&&e!=""&&(e=[e]),c=null,s=n,n&&(this.sectionContainers.some(function(t){return c=t.getTbodyColumnInfo(n),c?!0:void 0}),c&&(s=c.propertyName)),typeof t=="function"){for(u=this.getTbodyRowList(),r=0,a=u.length;r<a;r++)e&&e.contains(u[r][constValue.rowVariableNames.rowType])||t(u[r],r)===!0&&(y.push(u[r]),u[r][ecount.grid.constValue.displayRowNumberingPropertyName]=l+(k?0:1),[ecount.grid.constValue.rowState.none,ecount.grid.constValue.rowState.changed,ecount.grid.constValue.rowState.changedIndex].contains(u[r][ecount.grid.constValue.rowStatePropertyName])&&(ecount.grid.constValue.rowState.changed!=u[r][ecount.grid.constValue.rowStatePropertyName]&&(u[r][ecount.grid.constValue.rowStatePropertyName]=u[r][ecount.grid.constValue.rowIndexPropertyName]==r?ecount.grid.constValue.rowState.none:ecount.grid.constValue.rowState.changedIndex),u[r][ecount.grid.constValue.rowChangedIndexPropertyName]=u[r][ecount.grid.constValue.rowIndexPropertyName]==r?!1:!0),w&&b.contains(u[r][ecount.grid.constValue.rowStatePropertyName])&&(n?(o={},o[this.constValue.keyColumnPropertyName]=u[r][this.constValue.keyColumnPropertyName],o[s]=u[r][s],h.push(o)):h.push(JSON.parse(Object.toJSON(u[r])))),l+=1);for(f=this.getTbodyDeletedRowList(),r=0,a=f.length;r<a;r++)e&&e.contains(f[r][constValue.rowVariableNames.rowType])||t(f[r],r)===!0&&(y.push(f[r]),f[r][ecount.grid.constValue.displayRowNumberingPropertyName]=l+(k?0:1),[ecount.grid.constValue.rowState.none,ecount.grid.constValue.rowState.changed,ecount.grid.constValue.rowState.changedIndex].contains(f[r][ecount.grid.constValue.rowStatePropertyName])&&(ecount.grid.constValue.rowState.changed!=f[r][ecount.grid.constValue.rowStatePropertyName]&&(f[r][ecount.grid.constValue.rowStatePropertyName]=f[r][ecount.grid.constValue.rowIndexPropertyName]==r?ecount.grid.constValue.rowState.none:ecount.grid.constValue.rowState.changedIndex),f[r][ecount.grid.constValue.rowChangedIndexPropertyName]=f[r][ecount.grid.constValue.rowIndexPropertyName]==r?!1:!0),w&&b.contains(f[r][ecount.grid.constValue.rowStatePropertyName])&&(n?(o={},o[this.constValue.keyColumnPropertyName]=f[r][this.constValue.keyColumnPropertyName],o[s]=f[r][s],h.push(o)):h.push(JSON.parse(Object.toJSON(f[r])))),l+=1)}return{RowCount:y.length,InitRowCount:this.config.tbodyRowData.initRowCount,list:h}},getTheadRowItem:function(n){var t;return this.sectionContainers.some(function(i){return t=i.getTheadRowDataById(n),t?!0:void 0}.bind(this)),t},getTbodyRowItem:function(n){var t;return this.sectionContainers.some(function(i){return t=i.getTbodyRowDataById(n),t?!0:void 0}.bind(this)),t},getTfootRowItem:function(n){var t;return this.sectionContainers.some(function(i){return t=i.getTfootRowDataById(n),t?!0:void 0}.bind(this)),t},getTheadRowKeyByIndex:function(n){var t=null;return this.sectionContainers.some(function(i){var r=i.getTheadRowDataByIndex(n);if(r)return t=r[this.constValue.keyColumnPropertyName],!0}.bind(this)),t},getTbodyRowKeyByIndex:function(n){var t=null;return this.sectionContainers&&this.sectionContainers.some(function(i){var r=i.getTbodyRowDataByIndex(n);if(r)return t=r[this.constValue.keyColumnPropertyName],!0}.bind(this)),t},getTfootRowKeyByIndex:function(n){var t=null;return this.sectionContainers.some(function(i){var r=i.getTfootRowDataByIndex(n);if(r)return t=r[this.constValue.keyColumnPropertyName],!0}.bind(this)),t},getTheadRowKeyList:function(){var n=[];return this.sectionContainers.some(function(t){t.getTheadRowList().map(function(t){n.push(t[this.constValue.keyColumnPropertyName])}.bind(this))}.bind(this)),n},getTbodyRowKeyList:function(){var n=[];return this.sectionContainers.some(function(t){t.getTbodyRowList().map(function(t){n.push(t[this.constValue.keyColumnPropertyName])}.bind(this))}.bind(this)),n},getTfootRowKeyList:function(){var n=[];return this.sectionContainers.some(function(t){t.getTfootRowList().map(function(t){n.push(t[this.constValue.keyColumnPropertyName])}.bind(this))}.bind(this)),n},getTheadRowList:function(n,t){var i=[];return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=i.concat(r.getTheadRowList(n,t))}),i},getTbodyRowList:function(n,t){var i=[];return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=i.concat(r.getTbodyRowList(n,t))}),i},getTbodyDeletedRowList:function(){var n=[];return this.sectionContainers&&this.sectionContainers.forEach(function(t){n=n.concat(t.getTbodyDeletedRowList())}),n},getTfootRowList:function(n,t){var i=[];return this.sectionContainers&&this.sectionContainers.forEach(function(r){i=i.concat(r.getTfootRowList(n,t))}),i},getTheadRowListObject:function(n,t){t=t||{};var u=t.filterFunc,f=typeof u=="function",e=this.getTheadRowList(),r={};return n||e.some(function(n){f?u(n)===!0&&(r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))):r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))}.bind(this)),r},getTbodyRowListObject:function(n,t){t=t||{};var u=t.filterFunc,f=typeof u=="function",e=this.getTbodyRowList(),r={};return n||e.some(function(n){f?u(n)===!0&&(r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))):r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))}.bind(this)),r},getTfootRowListObject:function(n,t){t=t||{};var u=t.filterFunc,f=typeof u=="function",e=this.getTfootRowList(),r={};return n||e.some(function(n){f?u(n)===!0&&(r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))):r[n[this.constValue.keyColumnPropertyName]]=JSON.parse(Object.toJSON(rows[i]))}.bind(this)),r},hasTheadRowClass:function(n,t){var i=!1;return this.sectionContainers.some(function(r){return i=r.hasTheadRowClass(n,t),i?!0:void 0}),i},hasTbodyRowClass:function(){var n=!1;return this.sectionContainers.some(function(t){return n=t.hasTbodyRowClass(rowId,className),n?!0:void 0}),n},hasTfootRowClass:function(){var n=!1;return this.sectionContainers.some(function(t){return n=t.hasTfootRowClass(rowId,className),n?!0:void 0}),n},insertRow:function(){},moveTbodyRow:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.moveTbodyRow(n,t)}.bind(this))},refreshCell:function(){},refreshTheadCell:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.refreshTheadCell(n,t)}.bind(this))},refreshTbodyCell:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.refreshTbodyCell(n,t,i)}.bind(this))},refreshTfootCell:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.refreshTfootCell(n,t)}.bind(this))},refreshCellByColumn:function(){},refreshTheadCellByColumn:function(n){var t=this.getTheadRowList();t.forEach(function(t){this.refreshTheadCell(n,t[this.constValue.keyColumnPropertyName])}.bind(this))},refreshTbodyCellByColumn:function(n){var t=this.getTbodyRowList();t.forEach(function(t){this.refreshTbodyCell(n,t[this.constValue.keyColumnPropertyName])}.bind(this))},refreshTfootCellByColumn:function(n){var t=this.getTfootRowList();t.forEach(function(t){this.refreshTfootCell(n,t[this.constValue.keyColumnPropertyName])}.bind(this))},cellRemakeSpecialrow:function(){var n,t,r,i,u,f;__core.drawing||(mixinOption.optSelector.use&&(n=__core.view.selector.getStartInfos(),t=__core.view.selector.getBoundary().get(),[theadType,tbodyType,tfootType].contains(n.sectionType)&&(r=__core.data.column.getAll(n.columnSectionType||n.sectionType,constValue.returnType.multi))),this.remakeAllRow(tfootType),__core.view.selector&&[theadType,tbodyType,tfootType].contains(n.sectionType)&&(i=mixinOption.dataRow.getAll(n.sectionType),u=[],mixinOption.optCommon.columnType==constValue.columnType.multi&&n.sectionType==tfootType?(u=__core.data.column.getAll(tbodyType,constValue.returnType.multi),se=__core.view.cell.getCellOriginalElement(n.sectionType,r[t.top-u.length][t.left].id,i[i.length-1][constValue.keyColumnPropertyName]),f=__core.view.cell.getCellOriginalElement(n.sectionType,r[t.bottom-u.length][t.right].id,i[i.length-1][constValue.keyColumnPropertyName])):(se=__core.view.cell.getCellOriginalElement(n.sectionType,r[t.top][t.left].id,i[0][constValue.keyColumnPropertyName]),f=__core.view.cell.getCellOriginalElement(n.sectionType,r[t.bottom][t.right].id,i[0][constValue.keyColumnPropertyName])),__core.view.selector.ecSelectByElement(se,f).ecDraw()))},remakeAllRow:function(){},removeTheadCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.removeTheadCellClass(n,t,i)})},removeTbodyCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.removeTbodyCellClass(n,t,i)})},removeTfootCellClass:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.removeTfootCellClass(n,t,i)})},removeTheadCheckedRow:function(){},removeTbodyCheckedRow:function(n){n=n||this.constValue.checkBoxPropertyName;var t=this.getTbodyCheckedKeyList(n);t&&t.forEach(function(n){this.removeTbodyRowData(n)}.bind(this))},removeTfootCheckedRow:function(){},removeTbodyRowData:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.removeTbodyRowData(n)}.bind(this))},deleteTbodyRow:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.deleteTbodyRow(n)}.bind(this))},removeRowAtBoundary:function(){},removeTheadRowClass:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.removeTheadRowClass(n,t)})},removeTbodyRowClass:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.removeTbodyRowClass(n,t)})},removeTfootRowClass:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.removeTfootRowClass(n,t)})},setTheadCell:function(n,t,i,r){this.sectionContainers&&this.sectionContainers.forEach(function(u){u.setTheadCell(n,t,i,r)}.bind(this))},setTbodyCell:function(n,t,i,r){this.sectionContainers&&this.sectionContainers.forEach(function(u){u.setTbodyCell(n,t,i,r)}.bind(this))},setTfootCell:function(n,t,i,r){this.sectionContainers&&this.sectionContainers.forEach(function(u){u.setTfootCell(n,t,i,r)}.bind(this))},setTheadCaretLinkPosition:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setTheadCaretLinkPosition(n,t,i)}.bind(this))},setTbodyCellByControlIndex:function(n,t,i,r,u){this.sectionContainers&&this.sectionContainers.forEach(function(f){f.setTbodyCellByControlIndex(n,t,i,r,u)}.bind(this))},setTheadCellByColumnId:function(n,t){var i,r;if(typeof t=="object"&&t.constructor!=Array)for(i in t)t.hasOwnProperty(i)&&this.setTheadCell(n,i,t[i]);else r=this.getTheadRowList(),r.forEach(function(i){this.setTheadCell(n,i[this.constValue.keyColumnPropertyName],t)}.bind(this))},setTbodyCellByColumnId:function(n,t){var i,r;if(typeof t=="object"&&t.constructor!=Array)for(i in t)t.hasOwnProperty(i)&&this.setTbodyCell(n,i,t[i]);else r=this.getTbodyRowList(),r.forEach(function(i){this.setTbodyCell(n,i[this.constValue.keyColumnPropertyName],t)}.bind(this))},setTfootCellByColumnId:function(n,t){var i,r;if(typeof t=="object"&&t.constructor!=Array)for(i in t)t.hasOwnProperty(i)&&this.setTfootCell(n,i,t[i]);else r=this.getTfootRowList(),r.forEach(function(i){this.setTfootCell(n,i[this.constValue.keyColumnPropertyName],t)}.bind(this))},setTheadCellByRowDataIndex:function(n,t,i){var r=this.getTheadRowDataByIndex(t);r&&this.setTheadCell(n,r[this.constValue.keyColumnPropertyName],i)},setTbodyCellByRowDataIndex:function(n,t,i){var r=this.getTheadRowDataByIndex(t);r&&this.setTheadCell(n,r[this.constValue.keyColumnPropertyName],i)},setTfootCellByRowDataIndex:function(n,t,i){var r=this.getTheadRowDataByIndex(t);r&&this.setTheadCell(n,r[this.constValue.keyColumnPropertyName],i)},setTheadCellByRowId:function(n,t){if(n!=undefined&&typeof n=="object")for(var i in n)n.hasOwnProperty(i)&&this.setTheadCell(i,t,n[i])},setTbodyCellByRowId:function(n,t){if(n!=undefined&&typeof n=="object")for(var i in n)n.hasOwnProperty(i)&&this.setTbodyCell(i,t,n[i])},setTfootCellByRowId:function(n,t){if(n!=undefined&&typeof n=="object")for(var i in n)n.hasOwnProperty(i)&&this.setTfootCell(i,t,n[i])},setTheadCellFocus:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTheadCellFocus(n,t)}.bind(this))},setTbodyCellFocus:function(n,t){typeof t=="number"&&(t=t.toString());this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTbodyCellFocus(n,t)}.bind(this))},setTfootCellFocus:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTfootCellFocus(n,t)}.bind(this))},setColumnTitle:function(){},setColumnVisibility:function(n,t){if(!this.config.common.isDrawing&&this.sectionContainers){var r=0,i=-1;this.sectionContainers.forEach(function(t){r=Math.max(r,t.getTheadColumnMaxColspanCount(n));r=Math.max(r,t.getTbodyColumnMaxColspanCount(n));r=Math.max(r,t.getTfootColumnMaxColspanCount(n))}.bind(this));this.sectionContainers.some(function(t){return(i=t.getTheadColumnIndexById(this.constValue.returnType.multi,n,!0),i!=-1)?!0:(i=t.getTbodyColumnIndexById(this.constValue.returnType.multi,n,!0),i!=-1)?!0:(i=t.getTfootColumnIndexById(this.constValue.returnType.multi,n,!0),i!=-1?!0:void 0)}.bind(this));this.sectionContainers.forEach(function(n){for(var u,e=0,f=i,o=i+r;f<o;f++)u=n.getTheadColumnInfoByIndex(this.constValue.returnType.multi,f),u.forEach(function(i){n.setColgroupColVisibility(i.id,t);n.setTheadColumnVisibility(i.id,t);this.fixed&&this.fixed.setColumnVisibility(i.id,t)}.bind(this)),e=n.getTotalWidth({targetType:this.constValue.targetType.visible}),u=n.getTbodyColumnInfoByIndex(this.constValue.returnType.multi,f),u.forEach(function(i){n.setTbodyColumnVisibility(i.id,t)}),u=n.getTfootColumnInfoByIndex(this.constValue.returnType.multi,f),u&&u.forEach(function(i){n.setTfootColumnVisibility(i.id,t)});n.setTotalWidth(e)}.bind(this))}},setTheadCellEditable:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setTheadCellEditable(n,t,i)}.bind(this))},setTbodyCellEditable:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setTbodyCellEditable(n,t,i)}.bind(this))},setTfootCellEditable:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setTfootCellEditable(n,t,i)}.bind(this))},setLastUpdateTime:function(){this.config.common.lastUpdateTime=new Date},setRow:function(){},setAddRowLimitFlag:function(n){this.config.tbodyRowData.setAutoAddRowOnLastRow(n)},getAddRowLimitFlag:function(){return this.config.tbodyRowData.autoAddRowOnLastRow},settings:function(){return this.config},transaction:function(){},setting:{get:function(){}},isActive:function(){if([this.constValue.gridType.list,this.constValue.gridStyle.tree].contains(this.config.common.gridType)){if(this.config.keyboard.useMoveCursor)return this.config.keyboard.prevColumnId&&this.config.keyboard.prevRowId}else return this.config.common.activeSectionType&&this.config.common.activeColumnId&&this.config.common.activeRowId},getGridId:function(){return this.config.common.ecContainerId},getGridRowdataBundle:function(){return this.config.tbodyRowData.rowDataBundle},lazyInitialize:function(){},setTableActiveResponsive:function(n){n==!0?tableAddClass("table-responsive"):tableRemoveClass("table-responsive")},isCurrentPageLast:function(){return this.config.paging.currentPage===this.config.paging.totalPageCount},getMaxWidthForPrint:function(){return this.config.common.typeSpecTranMaxWidth||this.sectionContainers&&this.sectionContainers.length>0&&this.sectionContainers[0].getTotalWidth()},setPrintGridPage:function(n){this.print&&this.print.setCurrentPrintPage(n)},getPrintGridCurrentPage:function(){return this.print&&this.print.getPrintGridCurrentPage()},getPrintGridPageInfo:function(n){return this.print&&this.print.getPrintGridPageInfo(n)||{}},isChecked:function(){},isCheckedCustomHeader:function(){},checkTbodyAll:function(n,t){ecount.common.isTrue(t)?__core.data.checkbox.headerCheckFunction(null,n):__core.data.checkbox.checkAll(null,n)},getTheadCheckedCount:function(n){var i=this.getTheadRowList(),r=this.getTheadColumnInfo(n),u=r.propertyName,t=0;return i.forEach(function(n){ecount.common.isTrue(n[u])&&(t+=1)}.bind(this)),t},getTbodyCheckedCount:function(n){var i=this.getTbodyRowList(),r=this.getTbodyColumnInfo(n),u=r.propertyName,t=0;return i.forEach(function(n){ecount.common.isTrue(n[u])&&(t+=1)}.bind(this)),t},getTfootCheckedCount:function(n){var i=this.getTfootRowList(),r=this.getTfootColumnInfo(n),u=r.propertyName,t=0;return i.forEach(function(n){ecount.common.isTrue(n[u])&&(t+=1)}.bind(this)),t},getTheadCheckedKeyList:function(n,t){t=t||{};var e=this.getTheadRowList(),f=this.getTheadColumnInfo(n),o=f&&f.propertyName,i=[];e.forEach(function(n){ecount.common.isTrue(n[o])&&i.push(n[this.constValue.keyColumnPropertyName])}.bind(this));var r=(t.sortOrder||"A").toUpperCase(),s=t.sortColumnId||n,u=this.getTheadColumnInfo(s),h=u&&u.propertyName||n;return r=="A"||r=="ASC"?u||(i=i.sort(function(n,t){return n<t?-1:n>t?1:0})):(r=="D"||r=="DESC")&&(u||(i=i.sort(function(n,t){return n<t?1:n>t?-1:0}))),i},getTbodyCheckedKeyList:function(n,t){t=t||{};var e=this.getTbodyRowList(),f=this.getTbodyColumnInfo(n),o=f&&f.propertyName,i=[];e.forEach(function(n){ecount.common.isTrue(n[o])&&i.push(n[this.constValue.keyColumnPropertyName])}.bind(this));var r=(t.sortOrder||"A").toUpperCase(),s=t.sortColumnId||n,u=this.getTbodyColumnInfo(s),h=u&&u.propertyName||n;return r=="A"||r=="ASC"?u||(i=i.sort(function(n,t){return n<t?-1:n>t?1:0})):(r=="D"||r=="DESC")&&(u||(i=i.sort(function(n,t){return n<t?1:n>t?-1:0}))),i},getTfootCheckedKeyList:function(n,t){t=t||{};var e=this.getTfootRowList(),f=this.getTfootColumnInfo(n),o=f&&f.propertyName,i=[];e.forEach(function(n){ecount.common.isTrue(n[o])&&i.push(n[this.constValue.keyColumnPropertyName])}.bind(this));var r=(t.sortOrder||"A").toUpperCase(),s=t.sortColumnId||n,u=this.getTfootColumnInfo(s),h=u&&u.propertyName||n;return r=="A"||r=="ASC"?u||(i=i.sort(function(n,t){return n<t?-1:n>t?1:0})):(r=="D"||r=="DESC")&&(u||(i=i.sort(function(n,t){return n<t?1:n>t?-1:0}))),i},getTbodyChecked:function(n,t){var u,e,o,i;t=t||{};var r=[],s=t.sortColumn||this.constValue.rowCountColumnPropertyName,f=(t.sortOrder||"A").toUpperCase();return arguments.length==0&&(n=this.constValue.checkBoxPropertyName),u=this.config.checkbox.manage[n]&&this.config.checkbox.manage[n].use&&this.config.checkbox.manage[n],e=u&&u.isRememberChecked,e?r=u.rememberCheckedList:(i=this.getTbodyColumnInfo(n),this.getTbodyRowList().forEach(function(n){if(n[i.propertyName]){var t;this.sectionContainers.some(function(i){return t=i.getTbodyRowDataById(n[this.constValue.keyColumnPropertyName]),t?!0:void 0}.bind(this));t&&r.push(t)}}.bind(this))),o=u&&u.isUseDisableCheck,o&&Array.prototype.push.apply(r,u.disabledCheckedList),i=this.getTbodyColumnInfo(s),i&&(f=="A"||f=="ASC"?r&&r.sort(function(n,t){return n[i.propertyName]>t[i.propertyName]?1:n[i.propertyName]<t[i.propertyName]?-1:0}.bind(this)):(f=="D"||f=="DESC")&&r&&r.sort(function(n,t){return n[i.propertyName]<t[i.propertyName]?1:n[i.propertyName]>t[i.propertyName]?-1:0}.bind(this))),r},getTheadCheckedObject:function(n,t){t=t||{};var r=t.filterFunc,e=typeof r=="function",o=this.getTheadRowList(),u=this.getheadColumnInfo(n),i=u&&u.getPropertyName(),f={};return o.some(function(n){if(ecount.common.isFalse(n[this.constValue.checkBoxPropertyName]))return!1;var t=JSON.parse(Object.toJSON(n));if(e&&r(t))return!1;i&&(t={},t[this.constValue.keyColumnPropertyName]=n[this.constValue.keyColumnPropertyName],t[i]=n[i]);f[this.constValue.keyColumnPropertyName]=t}.bind(this)),f},getTbodyCheckedObject:function(n,t){t=t||{};var r=t.filterFunc,e=typeof r=="function",o=this.getTbodyRowList(),u=this.getbodyColumnInfo(n),i=u&&u.getPropertyName(),f={};return o.some(function(n){if(ecount.common.isFalse(n[this.constValue.checkBoxPropertyName]))return!1;var t=JSON.parse(Object.toJSON(n));if(e&&r(t))return!1;i&&(t={},t[this.constValue.keyColumnPropertyName]=n[this.constValue.keyColumnPropertyName],t[i]=n[i]);f[this.constValue.keyColumnPropertyName]=t}.bind(this)),f},getTfootCheckedObject:function(n,t){t=t||{};var r=t.filterFunc,e=typeof r=="function",o=this.getTfootRowList(),u=this.getfootColumnInfo(n),i=u&&u.getPropertyName(),f={};return o.some(function(n){if(ecount.common.isFalse(n[this.constValue.checkBoxPropertyName]))return!1;var t=JSON.parse(Object.toJSON(n));if(e&&r(t))return!1;i&&(t={},t[this.constValue.keyColumnPropertyName]=n[this.constValue.keyColumnPropertyName],t[i]=n[i]);f[this.constValue.keyColumnPropertyName]=t}.bind(this)),f},setCheckWithChild:function(n,t,i){arguments.length==2&&(i=arguments[1],t=arguments[0],n=tbodyType);__core.data.tree.setCheckWithChild(n,t,i)},setTheadCheckWithChild:function(){},setTbodyCheckWithChild:function(){},setTfootCheckWithChild:function(){},getCheckedCustomData:function(){},getCheckedCustomRowDatas:function(){},clearChecked:function(n){arguments.length==0&&(n=this.constValue.checkBoxPropertyName);this.config.checkbox.clearManage(n);var t=this.getTbodyRowList(),i=this.getTheadRowList();i.forEach(function(t){this.sectionContainers[0].theadSection.setControlChecked(n,t[this.constValue.keyColumnPropertyName],!1,0,{isRunChange:!0})&&this.refreshTbodyCell(n,t[this.constValue.keyColumnPropertyName])}.bind(this));t.forEach(function(t){this.sectionContainers[0].tbodySection.setControlChecked(n,t[this.constValue.keyColumnPropertyName],{checked:!1},0,{isRunChange:!0})&&this.refreshTbodyCell(n,t[this.constValue.keyColumnPropertyName])}.bind(this))},getShadedColumn:function(){var f=this.config.tbodyShaded.activeList||{},r=[],n,e,u,t,i;for(e in f)for(u=f[e],t=0;t<u.length;t++)n=u[t],i=r.find(function(t){return n.columnId==t.columnId}),i?i.shadedKey.contains(n.rowId)||i.shadedKey.push(n.rowId):r.push({columnId:n.columnId,shadedKey:[n.rowId]});return r},clickShadedByKey:function(n,t,i){this.config.tbodyShaded.use&&(this.config.tbodyShaded.deactiveList=this.config.tbodyShaded.activeList,this.config.tbodyShaded.activeList={});this.config.tbodyShaded.type=="groupByKeyColumn"&&i!==undefined&&this.config.tbodyShaded.shadeKey.forEach(function(n){this.config.tbodyShaded.data[n]=i[n]}.bind(this));this.sectionContainers&&this.sectionContainers.forEach(function(i){i.executeTbodyShaded(n,t)}.bind(this))},removeShadedColumn:function(){this.config.tbodyShaded.deactiveList={};this.config.tbodyShaded.activeList={}},getResizeResult:function(n,t){return{resizedTotalWidth:this.getTotalWidth(n,t)}},isFreeSizeWidth:function(){return this.config.common.isFreeSizeWidth},setSelectDisabled:function(){},getTheadColumnInfo:function(n){return this.sectionContainers&&this.sectionContainers.length>0&&this.sectionContainers[0].getTheadColumnInfo(n,!0)},getTbodyColumnInfo:function(n){return this.sectionContainers&&this.sectionContainers.length>0&&this.sectionContainers[0].getTbodyColumnInfo(n,!0)},getTfootColumnInfo:function(n){return this.sectionContainers&&this.sectionContainers.length>0&&this.sectionContainers[0].getTfootColumnInfo(n,!0)},setTheadColumnInfo:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTheadColumnInfo(n,t)})},setTbodyColumnInfo:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTbodyColumnInfo(n,t)})},setTfootColumnInfo:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.setTfootColumnInfo(n,t)})},setMovingScrollTop:function(n){this.print&&n&&this.print.setMoveScrollTop(n)},getColumnInfoList:function(){},getTheadColumnInfoList:function(n){n=n||{};var r=n.isReturnValueMulti===!0?this.constValue.returnType.multi:this.constValue.returnType.single,t=typeof n.isIncludeSystemColumn=="boolean"?n.isIncludeSystemColumn:t,i=[];return this.sectionContainers.length>0&&(i=this.sectionContainers[0].getTheadColumnInfoList(r,!0,t)),i},getTbodyColumnInfoList:function(n){n=n||{};var r=n.isReturnValueMulti===!0?this.constValue.returnType.multi:this.constValue.returnType.single,t=typeof n.isIncludeSystemColumn=="boolean"?n.isIncludeSystemColumn:t,i=[];return this.sectionContainers.length>0&&(i=this.sectionContainers[0].getTbodyColumnInfoList(r,!0,t)),i},getTfootColumnInfoList:function(n){n=n||{};var r=n.isReturnValueMulti===!0?this.constValue.returnType.multi:this.constValue.returnType.single,t=typeof n.isIncludeSystemColumn=="boolean"?n.isIncludeSystemColumn:t,i=[];return this.sectionContainers.length>0&&(i=this.sectionContainers[0].getTfootColumnInfoList(r,!0,t)),i},getTheadColumnIndexById:function(n,t,i){var r=-1;return this.sectionContainers.some(function(u){return r=u.getTheadColumnIndexById(n,t,i),r!=-1?!0:void 0}),r},getTbodyColumnIndexById:function(n,t){var i=-1;return this.sectionContainers.some(function(r){return i=r.getTbodyColumnIndexById(n,t),i!=-1?!0:void 0}),i},getTfootColumnIndexById:function(n,t){var i=-1;return this.sectionContainers.some(function(r){return i=r.getTfootColumnIndexById(n,t),i!=-1?!0:void 0}),i},moveColumn:function(){},removeColumn:function(){},getCellElement:function(){},setCellClick:function(n,t){var r,u,i;r=/special-row-\d+/g.test(t)?tfootType:tbodyType;i=document.createEvent("MouseEvents");u=__core.view.cell.getCellElement(r,n,t);i.initEvent("click",!0,!0);i.ignoreDetail=!0;u.cell.dispatchEvent(i)},setTbodyShowCellError:function(n,t,i){this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setTbodyShowValidation(n,t,i)})},setTheadCellShowPopover:function(){},setTbodyCellShowPopover:function(){},setTfootCellShowPopover:function(){},setCellDestroyPopover:function(n,t,i,r){var u=__core.data.validate.get(n,t,i,r);u&&__core.view.cell.destroyPopover(t,i,r)},setCellMerge:function(){},setCellDivide:function(){},getTbodyRowListMatrix:function(n,t,i){return this.config.matrixState&&this.config.matrixState.use?this.config.matrixState.getRowList(n,t,i):null},getRowIndexByKey:function(n){var t=-1;return this.config.tbodyRowData.rowDataBundle.some(function(i){return i.some(function(i,r){if(i[this.constValue.keyColumnPropertyName]==n)return t=r,!0}.bind(this)),t!=-1?!0:void 0}.bind(this)),t},getTheadRowDataIndexById:function(n){var t=-1;return this.sectionContainers.some(function(i){return t=i.getTheadRowDataIndexById(n),t>-1?!0:void 0}),t},getTbodyRowDataIndexById:function(n){var t=-1;return this.sectionContainers.some(function(i){return t=i.getTbodyRowDataIndexById(n),t>-1?!0:void 0}),t},getTfootRowDataIndexById:function(n){var t=-1;return this.sectionContainers.some(function(i){return t=i.getTfootRowDataIndexById(n),t>-1?!0:void 0}),t},setCellTransaction:function(){return{start:function(){},end:function(){}}},validate:function(){},validateCell:function(){},redrawTbodyValidation:function(){this.sectionContainers&&this.sectionContainers.forEach(function(n){n.showTbodyValidationAll()})},deleteAllValidation:function(){this.sectionContainers&&this.sectionContainers.forEach(function(n){var t=n.getTbodyValidationErrorKeyList();t.forEach(function(t){n.deleteTbodyValidation(t.columnId,t.rowKey)})})},deleteTbodyValidation:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.deleteTbodyValidation(n,t)})},showTbodyCellControlLayer:function(n,t,i){this.sectionContainers.forEach(function(r){r.showTbodyCellControlLayer(n,t,i)})},getTbodyValidationErrorTotalCount:function(){return this.getTbodyValidationErrorKeyList().length},getTbodyValidationErrorKeyList:function(){var n=[];return this.sectionContainers&&this.sectionContainers.forEach(function(t){n=n.concat(t.getTbodyValidationErrorKeyList())}),n},getTbodyValidationResult:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTbodyValidationResult(n,t),i?!0:void 0}.bind(this)),i},getLastUpdateTime:function(){return this.config.common.lastUpdateTime},getRowListForTempSave:function(){},getTheadRowListForTempSave:function(n){n=n||"string";var t=this.getTheadRowList();return n=="string"&&(t=Object.toJSON(t)),t},getTbodyRowListForTempSave:function(n){n=n||"string";var t=this.getTbodyRowList();return n=="string"&&(t=Object.toJSON(t)),t},getTfootRowListForTempSave:function(n){n=n||"string";var t=this.getTfootRowList();return n=="string"&&(t=Object.toJSON(t)),t},getOriginalRowListForTempSave:function(){},saveActiveCell:function(){var n;this.sectionContainers.some(function(t){return n=t.getTbodyCellModuleEditLayerActive(),n?!0:void 0});n&&(this.config.common.saveActiveSectionType=n.sectionType,this.config.common.saveActiveColumnId=n.id,this.config.common.saveActiveRowId=n.getRowDataId())},getActiveSectionType:function(){var n;return(this.sectionContainers.some(function(t){return n=t.getTbodyCellModuleEditLayerActive(),n?!0:void 0}),n)?"tbody":null},getActiveCellColumnId:function(){var n;return(this.sectionContainers.some(function(t){return n=t.getTbodyCellModuleEditLayerActive(),n?!0:void 0}),n)?n.id:null},getActiveCellRowId:function(){var n;return(this.sectionContainers.some(function(t){return n=t.getTbodyCellModuleEditLayerActive(),n?!0:void 0}),n)?n.getRowDataId():null},getLastActiveCellSectionType:function(){return this.config&&this.config.common&&this.config.common.activeSectionType||this.config.common.deactiveSectionType},getLastActiveCellColumnId:function(){return this.config&&this.config.common&&this.config.common.activeColumnId||this.config.common.deactiveColumnId},getLastActiveCellRowId:function(){return this.config&&this.config.common&&this.config.common.activeRowId||this.config.common.deactiveRowId},getActiveCellByTarget:function(n){return!n||!($(n).closest("table").length>0&&$(n).closest("table")[0].getAttribute("data-tableid"))?null:n.getAttribute("data-key")||n.parentNode.getAttribute("data-key")},getActiveCellData:function(){},restoreActiveCell:function(){var t,i,r,n;this.config.common.saveActiveSectionType&&this.config.common.saveActiveColumnId&&this.config.common.saveActiveRowId&&(t=this.config.layout.layer.querySelector(this.config.common.saveActiveSectionType),t&&(i=t.querySelector("[data-key='"+this.config.common.saveActiveRowId+"'][data-columnid='"+this.config.common.saveActiveColumnId+"']")),i&&(r=i.querySelector("span"),n=document.createEvent("MouseEvents"),this.config.common.isForceSetControlInstanceValue=!0,n.initEvent("click",!0,!0),n.ignoreDetail=!0,r.dispatchEvent(n)),this.config.common.saveActiveSectionType=null,this.config.common.saveActiveColumnId=null,this.config.common.saveActiveRowId=null)},getLastActiveCellPosition:function(){return{sectionType:this.config.common.deactiveSectionType,columnId:this.config.common.deactiveColumnId,rowKey:this.config.common.deactiveRowId}},restoreLastActiveCell:function(){},editDone:function(){this.sectionContainers&&this.sectionContainers.forEach(function(n){n.deactiveTheadModuleEditLayer();n.deactiveTbodyModuleEditLayer();n.deactiveTfootModuleEditLayer()})},activeCellBlur:function(){},activeCellFocusout:function(){this.sectionContainers&&this.sectionContainers.forEach(function(n){n.deactiveTheadModuleEditLayer();n.deactiveTbodyModuleEditLayer();n.deactiveTfootModuleEditLayer()}.bind(this))},setTheadTreeNodeOpen:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTheadTreeNodeOpen(n)}.bind(this))},setTbodyTreeNodeOpen:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTbodyTreeNodeOpen(n)}.bind(this))},setTfootTreeNodeOpen:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTfootTreeNodeOpen(n)}.bind(this))},setTheadTreeNodeClose:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTheadTreeNodeClose(n)}.bind(this))},setTbodyTreeNodeClose:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTbodyTreeNodeClose(n)}.bind(this))},setTfootTreeNodeClose:function(n){this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTfootTreeNodeClose(n)}.bind(this))},isTbodyTreeExpand:function(n){var t;return this.sectionContainers.some(function(i){return t=i.isTbodyTreeExpand(n),typeof t=="boolean"?!0:void 0}),t},isTbodyTreeParent:function(n){var t;return this.sectionContainers.some(function(i){return t=i.isTbodyTreeParent(n),typeof t=="boolean"?!0:void 0}),t},getTbodyTreeParentKey:function(n){var t;return this.sectionContainers.some(function(i){return t=i.getTbodyTreeParentKey(n),t?!0:void 0}),t},isTbodyTreeInParent:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.isTbodyTreeInParent(n,t),typeof i=="boolean"?!0:void 0}),i},getTbodyTreeChildCount:function(n,t){var i=0;return this.sectionContainers.some(function(r){i+=r.getTbodyTreeChildCount(0,n,t)}),i},hasTbodyTreeChildRow:function(n){var t;return this.sectionContainers.some(function(i){return t=i.hasTbodyTreeChildRow(n),t?!0:void 0}),t},getTbodyTreeChildRowList:function(n,t){var i;return this.sectionContainers.some(function(r){return i=r.getTbodyTreeChildRowList(n,t),i?!0:void 0}),i},setTbodyTreeNodeInOut:function(){},moveTbodyRowWithChild:function(n,t,i){var f,o;arguments.length==2&&(i=arguments[1],t=arguments[0],n=tbodyType);var u=__core.data.row.getIndexById(n,t),r=__core.data.row.getIndexById(n,i),s=__core.data.row.getRowCount(n);if(!isNaN(u)&&!isNaN(r)&&u!=r&&u>0&&r>0&&u<s&&r<s){var l=__core.data.tree.hasChildRow(n,t),a=__core.data.tree.getParentKey(n,t),e=__core.data.tree.getChildRowList(a),h=-1,c=-1;for(f=0,o=e.length;f<o;f++)if(t==e[f]){h=f;break}for(f=0,o=e.length;f<o;f++)if(i==e[f]){c=f;break}e.splice(h,1);e.splice(c,0,t);ecount.global.setTimeout(mixinOption.optCommon.ecPageId,function(){var e,f,o,s;l?u<r?(f=__core.data.tree.getChildRowList(t,{isRetrieveKey:!0}),e=__core.data.tree.getChildRowList(i,{isRetrieveKey:!0}),r+=e.length,__core.data.row.moveBulkRows(n,u,r,f.length)):(f=__core.data.tree.getChildRowList(t,{isRetrieveKey:!0}),__core.data.row.moveBulkRows(n,u,r,f.length)):u<r?(o=__core.data.tree.getChildRowList(i),s=__core.data.row.getIdByIndex(n,r+o.length),__core.data.row.moveBulkRows(n,u,r,0)):__core.data.row.moveBulkRows(n,u,r,0)}.bind(this),0)}},addTbodyTreeChild:function(n,t){this.sectionContainers&&this.sectionContainers.forEach(function(i){i.addTbodyTreeChild(n,t)})},checkTreeNumberRadio:function(n,t,i){return __core.data.tree.checkTreeNumberRadio(n,t,i)},destroy:function(){this.destroyAll()},containerFocus:function(){this.config&&this.config.layout&&this.config.layout.container&&this.config.layout.container.focus()},popupGridFocus:function(){this.config.keyboard.useMoveCursor&&this.config.keyboard.useMovePage&&this.config.keyboard.spacebarForSelect&&this.config.keyboard.enterForExecute&&this.focus()},focus:function(n){var t,i;n=n||{};t=this.config.common.ecGridId;!1||(ecount.gridV3.customEvent.fire("mousedown",this.config.layout.container,{}),i=ecount.runtime.getActivateGrid()||{},this.config.common.ecContainerId!=i.activeId?this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.focus,{},{gridID:t}):document.activeElement&&document.activeElement.blur(),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.preInit,null,{isMoveCursor:this.config.keyboard.useMoveCursor}))},blur:function(){__core.view.keyboard&&(__core.view.keyboard.removeCurRowClass&&__core.view.keyboard.removeCurRowClass(),__core.view.keyboard.reset&&__core.view.keyboard.reset())},_ON_GRID_SHOW_ERROR:function(){},_ON_GRID_HIDE_ERROR:function(){},prettifyPrintableHTML:function(n){this.print.prettifyPrintableHTML($(this.config.layout.container),n)},getHTML:function(n,t,i){function d(n,t){var e=[],f,h,c=0,l=n[0],o,u,s,r,i,a;if($.isArray(t)&&(o=n.find("table[id='grid-main']"),o&&o.length>0&&(u=o[0]),u)){for(s=0;s<t.length;s++){for(i=this.sectionContainers[0].getTheadColumnIndexById(this.constValue.sectionType.tbody,this.constValue.returnColumnIndexType.multi,t[s],!0),e.push($(u).find("colgroup").find("col")[i]),f=$(u).find("thead").find("tr"),r=0;r<f.length;r++)e.push($(f[r]).find("th")[i]);for(f=$(u).find("tbody").find("tr"),r=0;r<f.length;r++)e.push($(f[r]).find("td")[i]);c+=parseInt($(u).find("colgroup").find("col")[i].style.width,10)}for($(e).remove(),h=parseInt(u.style.width,10)-c+"px",i=0,a=l.childNodes.length;i<a;i++)l.childNodes[i].style.width=h}}var u,y,p,s;if(n=n||{},this.sectionContainers==undefined||this.sectionContainers==null||this.sectionContainers.length==0)return"";var a={isSetWidth:_.isBoolean(n.isSetWidth)?n.isSetWidth:!1,isSetHeight:_.isBoolean(n.isSetHeight)?n.isSetHeight:!0,isNotUsePadding:_.isBoolean(n.isNotUsePadding)?n.isNotUsePadding:!1},b=this.sectionContainers[0].getTheadColumnInfoList(this.constValue.returnType.single),k=this.sectionContainers[0].getTbodyRowList();if(b&&k){u="";var o=this.config.layout.container.cloneNode(!0),e=$(o),g=new RegExp('url\\(\\\\*"[^\\)^\\\\]*\\\\*"\\)',"gi"),nt=new RegExp('\\\\*"',"gi");if(e.find('div[fixedgrid="true"]').remove(),e.find("#tempIframeForPrint").remove(),e.find("#gridChromeDummy").remove(),e.find("input[type=radio]").hide(),e.find(".fix-clone").remove(),e.find(".grid-toolbar-clone").remove(),e.find("#grid-fixedtop-div").remove(),e.find("#grid-fixedleft-div").remove(),i===!0&&ecount.document.adjustPrintTable(e.find("table").get(0)),e.removeClass("hidden"),y=this.config.layout.container.classList.contains("hidden"),y&&(a.isSetWidth=!0,this.config.layout.container.classList.remove("hidden"),this.config.layout.container.style.top="5000px",this.config.layout.container.classList.add("positin-fixed")),d(e,n),this.config.layout.useEmailType&&(p=o.children[this.config.common.ecContainerId+"-emailTarget"],o.removeChild(p)),this.config.common.renderType===this.constValue.gridRenderType.typeSpecTran||this.config.common.renderType===this.constValue.gridRenderType.salaryPayrollBookList||this.config.common.renderType===this.constValue.gridRenderType.draft)n!==!0?(s=this.config.layout.printIframeArea,$(s).html(""),s.appendChild(o),this.print.prettifyPrintableHTML(e,{isSetWidth:a.isSetWidth,isSetHeight:a.isSetHeight,isNotUsePadding:a.isNotUsePadding}),$(o).addClass("wrapper-grid-print"),u=o.outerHTML,this.constValue.isIE_LT11&&!this.constValue.isIE_LT9&&(u=this.constValue.IE10BorderHack+u),$(s).html("")):u=this.getHTMLByGrid(!0,null,!0);else if(this.config.common.renderType===this.constValue.gridRenderType.salaryPrint)if(n!==!0){s=this.config.layout.printIframeArea;$(s).html("");s.appendChild(o);this.print.prettifyPrintableHTML(e,{isSetHeight:!0});var w=$(o).find(".wrapper-print"),v=w.length||0,l=Math.floor((this.config.common.pageHeight-(this.config.common.topMargin+this.config.common.bottomMargin))/25.4*96),tt=50,c=1,h=0,f=null,r=null;w.each(function(n,t){r=$(t);this.config.common.gridCountPerPage==1?(r.css({"margin-bottom":""}),n!=v-1&&r.after("<div class='page-break'><\/div>")):c<this.config.common.gridCountPerPage?(h=r.height(),l/2<h?(r.css({"margin-bottom":""}),n!=v-1&&r.after("<div class='page-break'><\/div>"),h=0,c=1,f=null):(c+=1,f=r)):c==this.config.common.gridCountPerPage&&(h=l/2+r.height(),l<h+tt?(f&&f.css({"margin-bottom":""}),n!=v-1?(f&&f.after("<div class='page-break'><\/div>"),r.css({"margin-bottom":""}),f=r):(h=0,c=1,f=null)):f.height()>l/2?(f&&f.after("<div class='page-break'><\/div>"),r.css({"margin-bottom":""}),f=r):(r.before('<div style="height: '+(l/2-f.height())+'px"><\/div>'),r.css({"margin-bottom":""}),n!=v-1&&r.after("<div class='page-break'><\/div>"),h=0,c=1,f=null))});$(o).addClass("wrapper-grid-print");u=o.outerHTML;this.constValue.isIE_LT11&&!this.constValue.isIE_LT9&&(u=this.constValue.IE10BorderHack+u);$(s).html("")}else u=this.getHTMLByGrid(!0,null,!0);else this.config.common.typeSpecTranMaxWidth=this.sectionContainers[0].getTotalWidth(),t===!0&&$(o).css({width:this.config.common.typeSpecTranMaxWidth+"px"}),u=o.outerHTML;return this.constValue.isIE&&$.isString(u)&&(u=u.replace(g,function(n){return n.replace(nt,"")})),y&&(this.config.layout.container.classList.add("hidden"),this.config.layout.container.style.top="",this.config.layout.container.classList.remove("positin-fixed")),u}},getHTMLByGrid:function(n,t,i){var g=new RegExp('url\\(\\\\*"[^\\)^\\\\]*\\\\*"\\)',"gi"),nt=new RegExp('\\\\*"',"gi"),tt=!1,v,y,c,h,r,u,s,l;this.config.layout.container.classList.contains("hidden")&&$(this.config.layout.container).removeClass("hidden");var p=this.config.layout.container.cloneNode(!0),ut=!(n||!1),a=null,b="",e={},o={},f={},k={},d=!1;if(tt&&$(this.config.layout.container).css({position:"absolute",top:"-5000px",left:"-5000px"}),p.classList.remove("hidden"),t)for(r in t)if(t.hasOwnProperty(r))if(v=t[r],$.isArray(v))for(u=0,s=v.length;u<s;u++)k[v[u]]=r,d=!0;else $.isString(v)&&(k[v]=r,d=!0);for(var it=$('<div class="wrapper-print" container-type="wrapper-print"><\/div>')[0],rt=$('<div class="page-break"><\/div>')[0],w=p.cloneNode(!0);child=w.lastChild;)w.removeChild(child),child=null;if(a=$(p).find(".grid-print-cut-line"),a=a.length>0?a[0]:null,$(p).find(".grid-wrapper-print-content").filter(function(n,t){var u=t.getAttribute("groupid"),i=u.split(ecount.delimiter),r="";if(i.length===2){if(a&&!b&&(b=(this.config.common.backupSecondTablePosition||this.config.common.secondTablePosition||this.config.common.secondTablePosition_default)+"mm"),$(t).css("top",""),/\d+_DUPLICATE/.test(i[1])&&!ut)return;r=d===!0?k[i[0]]:i[0];e[r]||(e[r]=[]);e[r].push(t)}}.bind(this)),a){for(r in e)if(e.hasOwnProperty(r))for(c=null,y=null,o[r]=[],u=0,s=e[r].length;u<s;u+=2)c=it.cloneNode(!0),c.appendChild(e[r][u]),y=e[r][u+1],y&&(c.appendChild(a.cloneNode(!0)),y.style.top=b,c.appendChild(y)),o[r].push(c)}else for(r in e)if(e.hasOwnProperty(r))for(c=null,o[r]=[],u=0,s=e[r].length;u<s;u++)c=it.cloneNode(!0),c.appendChild(e[r][u]),o[r].push(c);if(i!==!0){for(r in o)if(o.hasOwnProperty(r)){for(h=w.cloneNode(!0),u=0,s=o[r].length;u<s;u++)h.appendChild(o[r][u]),u<s-1&&h.appendChild(rt.cloneNode(!0));l=this.config.layout.printIframeArea;$(l).html("");l.appendChild(h);this.print.prettifyPrintableHTML($(h),{isSetWidth:!0,isSetHeight:!0,isHideBack:!0});f[r]=h.outerHTML;this.constValue.isIE_LT11&&!this.constValue.isIE_LT9&&(f[r]=this.constValue.IE10BorderHack+f[r]);this.constValue.isIE&&$.isString(f[r])&&(f[r]=f[r].replace(g,function(n){return n.replace(nt,"")}));$(l).html("")}}else{h=w.cloneNode(!0);for(r in o)if(o.hasOwnProperty(r))for(u=0,s=o[r].length;u<s;u++)h.appendChild(o[r][u]),u<s-1&&h.appendChild(rt.cloneNode(!0));l=this.config.layout.printIframeArea;$(l).html("");l.appendChild(h);this.print.prettifyPrintableHTML($(h),{isSetWidth:!0,isSetHeight:!0,isHideBack:!0});f=h.outerHTML;this.constValue.isIE_LT11&&!this.constValue.isIE_LT9&&(f=this.constValue.IE10BorderHack+f);this.constValue.isIE&&$.isString(f)&&(f=f.replace(g,function(n){return n.replace(nt,"")}));$(l).html("")}return tt&&($(this.config.layout.container).addClass("hidden"),$(this.config.layout.container).css({position:"",top:"",left:""})),f},getTheadFirstEmptyRowDataByColumnId:function(n){var t=null;return this.sectionContainers.some(function(i){return t=i.getTheadFirstEmptyRowDataByColumnId(n),t?void 0:!0}.bind(this)),t},getTbodyFirstEmptyRowDataByColumnId:function(n){var t=null;return this.sectionContainers.some(function(i){return t=i.getTbodyFirstEmptyRowDataByColumnId(n),t?void 0:!0}.bind(this)),t},getTfootFirstEmptyRowDataByColumnId:function(n){var t=null;return this.sectionContainers.some(function(i){return t=i.getTfootFirstEmptyRowDataByColumnId(n),t?void 0:!0}.bind(this)),t},getTheadNextColumnId:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTheadNextColumnId(n,t),i?!0:void 0}.bind(this)),i},getTbodyNextColumnId:function(n,t,i){var r=null;return this.sectionContainers.some(function(u){return r=u.getTbodyNextColumnId(n,t,i),r?!0:void 0}.bind(this)),r},getTfootNextColumnId:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTfootNextColumnId(n,t),i?!0:void 0}.bind(this)),i},getTheadPrevColumnId:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTheadPrevColumnId(n,t,!1),i?!0:void 0}.bind(this)),i},getTbodyPrevColumnId:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTbodyPrevColumnId(n,t,!1),i?!0:void 0}.bind(this)),i},getTfootPrevColumnId:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTfootPrevColumnId(n,t,!1),i?!0:void 0}.bind(this)),i},getTheadColumnFirst:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTheadColumnFirst(n,t,!1),i?!0:void 0}.bind(this)),i},getTbodyColumnFirst:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTbodyColumnFirst(n,t,!1),i?!0:void 0}.bind(this)),i},getTfootColumnFirst:function(n,t){var i=null;return this.sectionContainers.some(function(r){return i=r.getTfootColumnFirst(n,t,!1),i?!0:void 0}.bind(this)),i},getTheadCellControlType:function(n,t){if(n==undefined||n==null||t==undefined||t==null)return null;var i=null;return this.sectionContainers.some(function(r){return i=r.getTheadControlType(n,t),i?!0:void 0}.bind(this)),i},getTbodyCellControlType:function(n,t){if(n==undefined||n==null||t==undefined||t==null)return null;var i=null;return this.sectionContainers.some(function(r){return i=r.getTbodyControlType(n,t),i?!0:void 0}.bind(this)),i},getTfootCellControlType:function(n,t){if(n==undefined||n==null||t==undefined||t==null)return null;var i=null;return this.sectionContainers.some(function(r){return i=r.getTfootControlType(n,t),i?!0:void 0}.bind(this)),i},getRowTotalCount:function(){},getRowSubTotalCount:function(){},moveUpTheadChecked:function(){},moveUpTbodyChecked:function(n){var r,t,i;(n=n||this.constValue.checkBoxPropertyName,r=this.getTbodyRowList(),t=this.getTbodyColumnInfo(n),t)&&(i=t.propertyName,r.some(function(n,t){if(t==0)return!1;if(ecount.common.isTrue(n[i])){var r=this.getTbodyRowItem(this.getTbodyRowKeyByIndex(t-1));if(!r||ecount.common.isTrue(r[i]))return!1;this.moveTbodyRow(n[this.constValue.keyColumnPropertyName],r[this.constValue.keyColumnPropertyName])}}.bind(this)))},moveUpTfootChecked:function(){},moveUpTheadByKeyList:function(){},moveUpTbodyByKeyList:function(n){for(var r,u,i,t=0,f=n.length;t<f;t++)(r=this.getTbodyRowItem(n[t]),u=r[this.constValue.rowCountColumnPropertyName]-1,u!=0)&&(i=this.getTbodyRowItem(this.getTbodyRowKeyByIndex(u-1)),i)&&(n.contains(i[this.constValue.keyColumnPropertyName])||this.moveTbodyRow(r[this.constValue.keyColumnPropertyName],i[this.constValue.keyColumnPropertyName]))},moveUpTfootByKeyList:function(){},moveDownTheadChecked:function(){},moveDownTbodyChecked:function(n){var u,s,t,f,i;n=n||this.constValue.checkBoxPropertyName;var r=this.getTbodyRowList(),o=r.length-1,e=this.getTbodyColumnInfo(n);if(e)for(u=e.propertyName,s=[],t=r.length-2;t>-1;t--)if(f=r[t],ecount.common.isTrue(f[u])){if(o==t)continue;if(i=this.getTbodyRowItem(this.getTbodyRowKeyByIndex(t+1)),!i)continue;if(ecount.common.isTrue(i[u]))continue;this.moveTbodyRow(f[this.constValue.keyColumnPropertyName],i[this.constValue.keyColumnPropertyName])}},moveDownTfootChecked:function(){},moveDownTheadByKeyList:function(){},moveDownTbodyByKeyList:function(n){for(var r,u,t,f=this.getTbodyRowList(),e=f.length-1,i=0,o=n.length;i<o;i++)(r=this.getTbodyRowItem(n[i]),u=r[this.constValue.rowCountColumnPropertyName]-1,e!=u)&&(t=this.getTbodyRowItem(this.getTbodyRowKeyByIndex(u+1)),t)&&(n.contains(t[this.constValue.keyColumnPropertyName])||this.moveTbodyRow(r[this.constValue.keyColumnPropertyName],t[this.constValue.keyColumnPropertyName]))},moveDownTfootByKeyList:function(){},insertUpTheadChecked:function(){},insertUpTbodyChecked:function(n){var i,t,r;(n=n||this.constValue.checkBoxPropertyName,i=this.getTbodyRowList(),t=this.getTbodyColumnInfo(n),t)&&(r=t.propertyName,i.some(function(n){ecount.common.isTrue(n[r])&&this.addTbodyRow(n[this.constValue.keyColumnPropertyName],"up",1)}.bind(this)))},insertUpTfootChecked:function(){},insertUpTheadByKeyList:function(){},insertUpTbodyByKeyList:function(n){for(var t,i;t=n.pop();)i=this.getTbodyRowDataById(t),this.addTbodyRow(i[this.constValue.keyColumnPropertyName],"up",1)},insertUpTfootByKeyList:function(){},setNextFocus:function(){},setTheadNextFocus:function(n,t){var i=this.getTheadNextColumnId(n,t,!1);i&&this.setTheadCellFocus(i,t)},setTbodyNextFocus:function(n,t){var i=this.getTbodyNextColumnId(n,t,{isIncludeSystemColumn:!1,editableType:"enable"}),u,r;i||(u=this.getTbodyColumnFirst(n,t),i=u&&u.id,this.sectionContainers.some(function(n){return r=n.getTbodyRowDataByIndex(this.getTbodyRowDataIndexById(t)+1),r?!0:void 0}.bind(this)),t=r&&r[this.constValue.keyColumnPropertyName]);i&&this.setTbodyCellFocus(i,t)},setTfootNextFocus:function(n,t){var i=this.getTfootNextColumnId(n,t,!1);i&&this.setTfootCellFocus(i,t)},getMergeInfo:function(){},getTheadMergeInfo:function(){},getTbodyMergeInfo:function(){},getTfootMergeInfo:function(){},getMatrixInfo:function(){},getTheadMatrixInfo:function(){},getTbodyMatrixInfo:function(){},getTfootMatrixInfo:function(){},getMatrixEmptyArray:function(n,t){return this.createRowColumns(n,t)},createRowColumns:function(n,t){var i,f;t=t||{};var r=t.defaultColumnInfo||{},u=[],e=__core.data.column.getAll(n,constValue.returnType.multi);for(i=0,f=e.length;i<f;i++)u.push(this.createColumns(n,i,{width:r.width,isGarbage:r.isGarbage,isMergeColumn:r.isMergeColumn},t));return u},createColumns:function(n,t,i,r){for(var f=[],e=r.startColumnIndex||0,o=r.endColumnCount||1,s=__core.data.row.getAll(n),u;e<o;e++)u=this.getCreateColumnInfo(n,i),u.POSITION=mixinOption.optCommon.columnType==constValue.columnType.multi?n:theadType,u.lineNo=t+1,u.isTempColumn="1",f.push(u);return f},getCreateColumnInfo:function(n,t){t=t||{};var i=mixinOption.optColumn.generator,r=t.id||mixinOption.optColumn.generator.uniqueId();return i.setColumnType(mixinOption.optCommon.columnType),i.create(n,$.extend({id:r,width:100},t))},getTrHeights:function(n){n=n||{};var t=n.sectionType,i=n.useEachRow;return __core.view.row.getHeights(t,i)},getTopToolbarControlInstance:function(n){for(var i,t=0,r=this.sectionContainers.length;t<r;t++)if(i=this.sectionContainers[t].getTopToolbarControlInstance(n),i)return i},getHeaderToolbarControlInstance:function(n){for(var i,t=0,r=this.sectionContainers.length;t<r;t++)if(i=this.sectionContainers[t].getHeaderToolbarControlInstance(n),i)return i},getFooterToolbarControlInstance:function(n){for(var i,t=0,r=this.sectionContainers.length;t<r;t++)if(i=this.sectionContainers[t].getFooterToolbarControlInstance(n),i)return i},openPopupForGraphSetup:function(n,t){ecount.graph&&(callbackID=registerGraphProcedure(this),callbackID&&ecount.graph.openGraphSetup(this,n,t,callbackID))},openPopup:function(){},getColumnIndexAddtionCount:function(){},setActiveCellColorClass:function(){},setCellShowDropdownMenu:function(n,t,i){arguments.length==3?typeof arguments[2]=="object"&&(options=arguments[2],i=arguments[1],t=arguments[0],n=theadType):arguments.length==2&&(i=arguments[1],t=arguments[0],options={},n=theadType);mixinOption.optForm.version==constValue.formVersion.second?(cellInfo=mixinOption.viewCell.getCellElement(tbodyType,t,i),cellInfo.cell&&__core.customEvents.fire("mousemove",cellInfo.cell,{shiftKey:!1,altKey:!1,ctrlKey:!1,ignoreDetail:!0})):mixinOption.optForm.version==constValue.formVersion.third&&(n=mixinOption.optCommon.columnType==constValue.columnType.single?theadType:n,cellInfo=mixinOption.viewCell.getCellElement(n,t,i),cellInfo.cell&&(__core.customEvents.fire("mousedown",cellInfo.cell,{shiftKey:!1,altKey:!1,ctrlKey:!1,ignoreDetail:!0}),__core.customEvents.fire("mouseup",cellInfo.cell,{shiftKey:!1,altKey:!1,ctrlKey:!1,ignoreDetail:!0})))},setTheadCellShowDropdownMenu:function(){},setTbodyCellShowDropdownMenu:function(){},setTfootCellShowDropdownMenu:function(){},setSortOrder:function(n,t){this.config.sortable&&this.config.sortable.use&&(t?(this.config.sortable.sortOrderList={},this.config.sortable.sortOrderList[t]={sortOrder:n=="D"?"D":"A"}):this.config.sortable.sortOrder=n=="D"?"D":"A")},toTbodySort:function(n){function d(n,t){var i=["D","DESC"].contains(n.sortOrder&&n.sortOrder.toUpperCase())?-1:1;return function(r,u){var f=isNaN(r[n.prop])?r[n.prop]||"":r[n.prop],e=isNaN(u[n.prop])?u[n.prop]||"":u[n.prop],v=n.dataType&&n.dataType.substr(0,1)||"0",l,a,o=0,s=0,c=0,y=f.length,h=0;if(["8","9"].contains(v))l=(f==""||f==null)&&f!==0,a=(e==""||e==null)&&e!==0,l||a?h=!l&&a?-i:l&&!a?i:0:(f=parseFloat(f),e=parseFloat(e),h=f<e?-1:f>e?1:0);else{if(["5"].contains(v)&&(f=f.replace(/[\/\-\.]/g,""),e=e.replace(/[\/\-\.]/g,"")),isNaN(f)||isNaN(e))while(f[c]||e[c]){if(o=f[c]&&f.charCodeAt(c)||0,s=e[c]&&e.charCodeAt(c)||0,h=o>=65&&o<=90||o>=97&&o<=122?s<32||s>126?1:o<s?-1:o>s?1:0:s>=65&&s<=90||s>=97&&s<=122?o<32||o>126?-1:o<s?-1:o>s?1:0:o<s?-1:o>s?1:0,h!=0)break;c+=1}else h=f<e?-1:f>e?1:0;ecount.common.isChrome&&t&&h==0&&(h=(r.temp_index<u.temp_index?-1:r.temp_index>u.temp_index?1:0)*i)}return h*i}}function g(){var n=arguments;return function(t,i){for(var r=0,u=0,f=n.length;u===0&&r<f;)u=d(n[r],r==f-1)(t,i),r+=1;return u}}function nt(n,t){var e=h[t],u=n.indexOf(e),f,r,i;if(u!=-1)for(u+=1,f=a.config.tree.listParentToChild[t],r=f.length-1;r>-1;r--)i={},i[a.constValue.keyColumnPropertyName]=f[r],n.splice(u,0,i),h[i[a.constValue.keyColumnPropertyName]]=i}for(var r,k,h,c,y,l,u,a=this,p=this.getTbodyRowList(),w=[],b=[],i=[],f,e,o,s=ecount.grid.constValue,t=0,v=n.length;t<v;t++)r=n[t],e=this.getTbodyColumnInfo(r.columnId),r.sortOrder=r.sortOrder=="D"||r.sortOrder=="d"?"desc":"asc",r.prop=e&&e.propertyName||this.config.tbodyColumns.propertyNormalizer(r.columnId),r.dataType=(e&&e.dataType||"").substring(0,1);for(k=!1,h={},t=0;t<p.length;t++)o=p[t],c=o[s.rowVariableNames.treeSet],(!c||c&&c[s.rowVariableNames.depth]==0)&&(ecount.gridV3.utils.isEmptyData(o,n)?b.push(o[s.keyColumnPropertyName]):(f=ecount.gridV3.utils.getCompareData(o,n),f.temp_index=t,i.push(f),h[f[s.keyColumnPropertyName]]=f));if(i.sort(g.apply(null,n)).forEach(function(n){w.push(n[s.keyColumnPropertyName])}),this.config.tree.use){y=this.config.tree.listParentToChild;for(l in y)l!="0000"&&y.hasOwnProperty(l)&&nt(i,l)}for(t=0,v=i.length;t<v;t++)(u=null,this.sectionContainers.some(function(n){return u=n.getTbodyRowDataByIndex(t),u?!0:void 0}.bind(this)),u)&&u[this.constValue.keyColumnPropertyName]!=i[t][this.constValue.keyColumnPropertyName]&&this.sectionContainers.some(function(n){if(n.moveTbodyRow(i[t][this.constValue.keyColumnPropertyName],u[this.constValue.keyColumnPropertyName],!1))return!0}.bind(this));!this.config.checkbox.originalStyle&&i.length>0&&this.sectionContainers.some(function(n){n.changeTbodyCheckboxNumber(i[0][this.constValue.keyColumnPropertyName],i[i.length-1][this.constValue.keyColumnPropertyName],{useMaxRowLength:!0})}.bind(this))},searchTextCellHighlight:function(n,t){var s,f,i,u,c,l,a;if(t=t||{},s=this.config.layout.$container.find("."+this.constValue.searchTextClassname),this.config.common.searchTextIndex!=-1&&(f=s.find(":Contains('"+this.config.common.prevSearchText+"'):not(.hide)").closest("td:not(.hide)").eq(this.config.common.searchTextIndex),u=f.closest("thead,tbody,tfoot"),u&&u.length>0))switch(u[0].tagName){case"THEAD":f.removeClass(this.config.theadSearch.searchHighlightClassname);break;case"TBODY":f.removeClass(this.config.tbodySearch.searchHighlightClassname);break;case"TFOOT":f.removeClass(this.config.tfootSearch.searchHighlightClassname)}this.config.common.prevSearchText!=n&&(this.config.common.searchTextIndex=-1);var h=-1,e=-1,y=this.config.layout.layer.getBoundingClientRect(),v=this.config.layout.container.getBoundingClientRect(),o=this.config.layout.contents[0].getBoundingClientRect(),r;if(i=s.find(":Contains('"+n+"'):not(.hide)").closest("td:not(.hide)").eq(this.config.common.searchTextIndex+1),u=i.closest("thead,tbody,tfoot"),u&&u.length>0){this.config.tree.use&&(c=i.attr("data-key"),l=c&&this.getTbodyTreeParentKey(c),l&&this.setTbodyTreeNodeOpen(l),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.gridResized,{},{}));switch(u[0].tagName){case"THEAD":i.addClass(this.config.theadSearch.searchHighlightClassname);h=i[0].offsetTop;e=i[0].offsetLeft;r=i[0].getBoundingClientRect();break;case"TBODY":i.addClass(this.config.tbodySearch.searchHighlightClassname);h=i[0].offsetTop;e=i[0].offsetLeft;r=i[0].getBoundingClientRect();break;case"TFOOT":i.addClass(this.config.tfootSearch.searchHighlightClassname);h=i[0].offsetTop;e=i[0].offsetLeft;r=i[0].getBoundingClientRect()}this.config.common.searchTextIndex+=1}else this.config.common.searchTextIndex=-1;return r&&(v.right<=r.left+r.width?this.config.layout.scrollContainer.scrollLeft=r.left+r.width-v.right:this.config.layout.scrollContainer.scrollLeft>=e&&(this.config.layout.scrollContainer.scrollLeft-=this.config.layout.scrollContainer.scrollLeft-e),o.top>r.top?(a=this.config.layout.$container.find("thead")[0],this.config.layout.scrollContainer.scrollTop-=o.top-r.top+(a&&a.clientHeight||0)+50):o.bottom<r.top&&(this.config.layout.scrollContainer.scrollTop+=r.bottom-o.bottom+50)),this.config.common.prevSearchText=n,this.config.common.searchTextIndex},searchTextClearCellHighlight:function(){var i=this.config.layout.$container.find("."+this.constValue.searchTextClassname),n,t;if(this.config.common.searchTextIndex!=-1&&(n=i.find(":Contains('"+this.config.common.prevSearchText+"'):not(.hide)").closest("th,td").eq(this.config.common.searchTextIndex),t=n.closest("thead,tbody,tfoot"),t&&t.length>0))switch(t[0].tagName){case"THEAD":n.removeClass(this.config.theadSearch.searchHighlightClassname);break;case"TBODY":n.removeClass(this.config.tbodySearch.searchHighlightClassname);break;case"TFOOT":n.removeClass(this.config.tfootSearch.searchHighlightClassname)}this.config.common.searchTextIndex=-1;this.config.common.prevSearchText=""},resetClipboardObj:function(){__core.view.clipboard.reset()},addMergeRow:function(){},changeFooterBottomRightHTML:function(n,t,i){arguments.length==2&&(i=arguments[1],n=arguments[0]);this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setFooterToolbarChangeRightHTML(t,n,i)}.bind(this))},changeFooterBottomLeftHTML:function(n,t,i){arguments.length==2&&(i=arguments[1],n=arguments[0]);this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setFooterToolbarChangeLeftHTML(t,n,i)}.bind(this))},changeHeaderTopRightHTML:function(n,t,i){arguments.length==2&&(i=arguments[1],n=arguments[0]);this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setHeaderToolbarChangeRightHTML(t,n,i)}.bind(this))},changeHeaderTopLeftHTML:function(n,t,i){arguments.length==2&&(i=arguments[1],n=arguments[0]);this.sectionContainers&&this.sectionContainers.forEach(function(r){r.setHeaderToolbarChangeLeftHTML(t,n,i)}.bind(this))},executeHeaderSort:function(){},executeCheckbox:function(){},showLayerByEvent:function(){},showLayer:function(){},popupDragStopEnd:function(){var n=__core.view.fix;n&&n.setCloneTablePosition()},popupResizeEnd:function(){var n=__core.view.fix;n&&n.setCloneTablePosition()},getUniqueId:function(){return mixinOption.optColumn&&mixinOption.optColumn.generator&&mixinOption.optColumn.generator.uniqueId()},hideLayer:function(n,t,i){var r=mixinOption.optCommon.ecPageId,u=mixinOption.optCommon.ecGridId,f=[r,u,n,t,i].join(ecount.separator.ecPath);ecount.layer.hide(f)},visibleLayer:function(n,t,i,r){var f=mixinOption.optCommon.ecPageId,e=mixinOption.optCommon.ecGridId,u=[f,e,n,t,i].join(ecount.separator.ecPath);r?ecount.layer.show({serviceKey:u}):(ecount.layer.setOnClicked(u,!1),ecount.layer.hide(u))},setDropdownListShowLayer:function(){},openContextmenu:function(){},setSigncodeVisibility:function(n,t){t=t||"";visiblity=n==!0?'url(" '+t+' ")':"none";var i=__core.$container.find(".wrapper-print #signcode");i.each(function(){$(this).css("background-image",visiblity)})},setApprovalLineVisibility:function(n){visiblity=n==!0?"table-row":"none";var t=__core.$container.find(".wrapper-print #approvalline");t.each(function(){$(this).css("display",visiblity)})},reloadOuterHorizontalManager:function(){__core.view.outerHorizontal&&__core.view.outerHorizontal.clearAllChildElement().clearContainerElement().resetData().render()},reloadOuterVerticalManager:function(){__core.view.outerVertical&&__core.view.outerVertical.clearAllChildElement().clearContainerElement().resetData().render()},resetGridDraggable:function(){ecount.draggable.create({target:"table#grid-main > tbody",helper:"",droppable:"table#grid-main > tbody",drag_start:function(n){var i=n.originalEvent&&n.originalEvent.target,t,u,r;i&&(t=this.getActiveCellByTarget(i),t&&t!=""&&(t=ecount.gridV3.utils.replaceEscape(t),mixinOption.optDrag.helperType=="clone"&&mixinOption.optDrag.targetColumnId&&(u=$(i).closest("tr")&&$(i).closest("tr").find("td[data-columnId='"+mixinOption.optDrag.targetColumnId+"']"),r=u.text(),r&&ecount.draggable.setHelperText(r))));_.merge(n,{rowKey:t});mixinOption.optDrag.dragCallback&&mixinOption.optDrag.dragCallback(n)}.bind(this),drag_move:function(n){mixinOption.optDrag.moveCallback&&mixinOption.optDrag.moveCallback(n)}.bind(this),drag_stop:function(n){var i=n.originalEvent&&n.originalEvent.target,t;i&&(t=this.getActiveCellByTarget(i));t&&t!=""&&(t=ecount.gridV3.utils.replaceEscape(t),_.merge(n,{rowKey:t}));mixinOption.optDrag.dropCallback&&mixinOption.optDrag.dropCallback(n)}.bind(this)})},setEcEventCommonParameter:function(n,t){(!t||$.isEmpty(t.pcid))&&(n.gridColumnID=t&&t.gridColumnID||n.gridColumnID,n.gridDataKey=t&&t.gridDataKey||n.gridDataKey,n.gridSectionType=t&&t.gridSectionType||n.gridSectionType)},setFixedTopMargin:function(n,t){this.fixed&&this.fixed.cloneTop&&(n=="top"?this.fixed.cloneTop.style.marginTop=t||"":n=="left"&&(this.fixed.cloneTop.style.marginLeft=t||""))},setFoldData:function(n,t){this.config.foldColumn&&this.config.foldColumn.setFoldDataChecked(n,t)},_ON_REFRESH_ACTIVE_MODULE_POSITION:function(n,t,i,r){this.isRenderingCompleted&&this.sectionContainers.forEach(function(u){u._ON_REFRESH_ACTIVE_MODULE_POSITION(n,t,i,r)})},_ON_VALIDATE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_VALIDATE(n,t,i,r)})},_ON_CHANGE:function(n,t,i,r){this.config.common.isDrawing||this.sectionContainers.forEach(function(u){u._ON_CHANGE(n,t,i,r)})},_ON_CLICK_SERVICE:function(n,t,i,r){r.sectionType&&r.rowId&&r.columnId&&this.sectionContainers.forEach(function(u){u._ON_CLICK_SERVICE(n,t,i,r)})},_ON_CLICK:function(n,t,i,r){if(i=i||{},this.clickedTable=n.gridTableID||null,this.config.common.gridType==this.constValue.gridType.list&&t.target&&t.target.tagName&&/T[DH]/.test(t.target.tagName)){this.config.events.useEmptyColumnClickEvent===!0&&this.sectionContainers.forEach(function(u){u._ON_CLICK(n,t,i,r)});return}this.config.tbodyRowData.showInputFakeOutLine=="activeRow"&&this.config.common.deactiveRowId&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]);(i.controlType=="widget.paging"||n.gridSectionType&&n.gridDataKey&&n.gridColumnID)&&(r=r||{},n.gridSectionType==this.constValue.sectionType.tbody&&t.target.tagName=="A"&&this.sectionContainers.forEach(function(t){var u,i,r;this.config.tbodyShaded&&this.config.tbodyShaded.use&&(["data","dataGroup"].contains(this.config.tbodyShaded.type)?t.dataTableId==n.gridTableID&&(i=t.getTbodyRowDataById(n.gridDataKey),u=t.getTbodyColumnInfo(n.gridColumnID),this.config.tbodyShaded.data=i[u.propertyName]):this.config.tbodyShaded.type=="groupByKeyColumn"?t.dataTableId==n.gridTableID&&(i=t.getTbodyRowDataById(n.gridDataKey),r={},this.config.tbodyShaded.shadeKey.forEach(function(n){r[n]=i[n]}),this.config.tbodyShaded.data=r):this.config.tbodyShaded.data=null)}.bind(this)),this.config.tbodyShaded.use&&this.config.tbodyShaded.list.contains(n.gridColumnID)&&this.constValue.nativeFocusControl[i.controlType]&&(this.config.tbodyShaded.deactiveList=this.config.tbodyShaded.activeList,this.config.tbodyShaded.activeList={}),this.sectionContainers.forEach(function(u){u._ON_CLICK(n,t,i,r)}))},_ON_DBLCLICK:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_DBLCLICK(n,t,i,r)})},_ON_FOCUSIN:function(n,t,i,r){var u=!0;return this.sectionContainers.forEach(function(f){u=f._ON_FOCUSIN(n,t,i,r)&&u}),u},_ON_FOCUSOUT:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_FOCUSOUT(n,t,i,r)})},_ON_GRID_ACTIVATE:function(n,t,i,r){this.config.common.isActive=!0;this.sectionContainers.forEach(function(u){u._ON_MOUSEDOWN(n,t,i,r)})},_ON_GRID_DEACTIVATE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_DEACTIVATE(n,t,i,r)});this.config.common.isActive=!1},_ON_GRID_FOCUS_IN:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_FOCUS_IN(n,t,i,r)})},_ON_GRID_FOCUS_OUT:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_FOCUS_OUT(n,t,i,r)})},setTbodyRowActive:function(n){this.config.keyboard.useMoveCursor&&this.config.common.gridType==this.constValue.gridType.list&&this.focus();this.sectionContainers&&this.sectionContainers.forEach(function(t){t.setTbodyRowActive(n)}.bind(this))},isVisibleTable:function(){return this.sectionContainers.any(function(n){return!!n.tableElement.offsetParent})},isViewLayerDisplay:function(){if(!_.get(this,"config.editable.useViewMode"))return!1;var n=_.get(this,"config.common.moduleEditLayer.$viewLayer");return n&&n.length>0&&!n.hasClass("hide")?!0:!1},_ON_GRID_KEYDOWN_ARROW_DOWN:function(n,t,i,r){var e,o,s,f,u,h,c;if((i||this.config.common.gridType!=this.constValue.gridType.editable)&&!/(layer\.selectbox)$/.test(n.handler)&&(!i||!/widget.textarea/.test(i.controlType)||this.isViewLayerDisplay())&&!this.config.events.keyboardEventNotUsed){if(this.setEcEventCommonParameter(n,i),this.config.keyboard.useMoveCursor==!0&&[this.constValue.gridType.list,this.constValue.gridStyle.tree].contains(this.config.common.gridType)&&this.focus(),this.sectionContainers.length===1)this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r)});else{if(e=this.sectionContainers.filter(function(n){return n.dataTableId==this.clickedTable}.bind(this)),this.clickedTable=null,o=!_.isEmpty(e)&&e||this.sectionContainers,s=o.some(function(n){return n.getTableElement().querySelector("tbody").querySelector(".active-kbd")}),!s)return f=e[0]||this.sectionContainers[0],this.config.keyboard.prevRowId&&this.sectionContainers.filter(function(n){return Object.keys(n.tbodySection.row.rowDataKeys).includes(this.config.keyboard.prevRowId)}.bind(this))[0].removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),f._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r),!1;for(u=0,e.length===1&&(u=e[0].containerIndex),u;u<this.sectionContainers.length;u++){var f=this.sectionContainers[u],l=this.sectionContainers[u===this.sectionContainers.length-1?0:u+1],a=f.getTbodyRowList().length;if(f.getTableElement().querySelector("tbody").querySelector(".active-kbd")){h=f.getTableElement().querySelector("tbody").querySelector(".active-kbd").getAttribute("data-key");c=f.getTbodyRowDataIndexById(h);n.isLastSectionContainer=this.sectionContainers.length-1===u;c===a-1?(f.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),l._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r)):f._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r);break}}}t.preventDefault();t.stopPropagation()}},_ON_GRID_KEYDOWN_ARROW_LEFT:function(n,t,i,r){if(!this.config.events.keyboardEventNotUsed){var u={isPreventDefault:!1};if(this.config.keyboard.useMoveCursor==!0&&[this.constValue.gridType.list,this.constValue.gridStyle.tree].contains(this.config.common.gridType))if(!n.cid&&(n.cindex===undefined||n.cindex===null)||n.gridID&&n.gridColumnID&&n.gridDataKey)this.focus();else return!0;this.sectionContainers.forEach(function(f){u=f._ON_GRID_KEYDOWN_ARROW_LEFT(n,t,i,r)});u.isPreventDefault&&(t.preventDefault(),t.stopPropagation())}},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r)})},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(n,t,i,r){if(!this.config.events.keyboardEventNotUsed){var u={isPreventDefault:!1};if(this.config.keyboard.useMoveCursor==!0&&[this.constValue.gridType.list,this.constValue.gridStyle.tree].contains(this.config.common.gridType))if(!n.cid&&(n.cindex===undefined||n.cindex===null)||n.gridID&&n.gridColumnID&&n.gridDataKey)this.focus();else return!0;this.sectionContainers.forEach(function(f){u=f._ON_GRID_KEYDOWN_ARROW_RIGHT(n,t,i,r)});u.isPreventDefault&&t.preventDefault()}},_ON_GRID_KEYDOWN_ARROW_UP:function(n,t,i,r){var e,o,s,u,f,h,c,l;if(!/(layer\.selectbox)$/.test(n.handler)&&(!i||!/widget.textarea/.test(i.controlType)||this.isViewLayerDisplay())&&!this.config.events.keyboardEventNotUsed){if(this.setEcEventCommonParameter(n,i),this.config.keyboard.useMoveCursor==!0&&[this.constValue.gridType.list,this.constValue.gridStyle.tree].contains(this.config.common.gridType)&&this.focus(),this.sectionContainers.length===1)this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r)});else{if(e=this.sectionContainers.filter(function(n){return n.dataTableId==this.clickedTable}.bind(this)),this.clickedTable=null,o=!_.isEmpty(e)&&e||this.sectionContainers,s=o.some(function(n){return n.getTableElement().querySelector("tbody").querySelector(".active-kbd")}),!s)return f=e[0]||this.sectionContainers[0],this.config.keyboard.prevRowId&&this.sectionContainers.filter(function(n){return Object.keys(n.tbodySection.row.rowDataKeys).includes(this.config.keyboard.prevRowId)}.bind(this))[0].removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),f._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r),!1;for(u=0,e.length===1&&(u=e[0].containerIndex),u;u<this.sectionContainers.length;u++)if(f=this.sectionContainers[u],h=this.sectionContainers[u===0?this.sectionContainers.length-1:u-1],f.getTableElement().querySelector("tbody").querySelector(".active-kbd")){c=f.getTableElement().querySelector("tbody").querySelector(".active-kbd").getAttribute("data-key");l=f.getTbodyRowDataIndexById(c);n.isLastSectionContainer=this.sectionContainers.length-1===u;l===0?(f.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),h._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r)):f._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r);break}}t.preventDefault()}},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r)})},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_DELETE(n,t,i,r)})},_ON_GRID_KEYDOWN_ENTER:function(n,t,i,r){(!i||["widget.paging","widget.input"].contains(i.controlType)||n.gridSectionType&&n.gridDataKey&&n.gridColumnID||i.gridSectionType&&i.gridDataKey&&i.gridColumnID)&&(/T[DH]/.test(t.target.tagName)||(r=r||{},this.setEcEventCommonParameter(n,i),this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ENTER(n,t,i,r)})))},_ON_GRID_KEYDOWN_ESC:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ESC(n,t,i,r)})},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){var u={isPreventDefault:!1};return this.sectionContainers.forEach(function(f){u=f._ON_GRID_KEYDOWN_SPACE(n,t,i,r)}),u.isPreventDefault?(t.preventDefault(),t.stopPropagation(),!1):void 0},_ON_GRID_KEYUP_ARROW_DOWN:function(n,t,i){this.setEcEventCommonParameter(n,i)},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(n,t,i){this.setEcEventCommonParameter(n,i)},_ON_GRID_KEYUP_SPACE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYUP_SPACE(n,t,i,r)})},_ON_GRID_KEYDOWN_ESC_SERVICE:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYDOWN_ESC_SERVICE(n,t,i,r)})},_ON_GRID_KEYUP:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_GRID_KEYUP(n,t,i,r)})},_ON_GRID_PASTE:function(n,t,i){var r,u;if(this.setEcEventCommonParameter(n,i),n.gridSectionType&&n.gridDataKey&&n.gridColumnID)return this.constValue.sectionType.tbody!=n.gridSectionType?void 0:(this.config.editable.isClipboardMode==!0&&(r={columnInfo:this.sectionContainers[0].getTbodyColumnInfoList(this.constValue.returnType.single,!1),columnId:n.gridColumnID,rowKey:n.gridDataKey,exceptColumnCounter:this.config.editable.exceptColumnCounter,clipboardKeyword:this.config.editable.clipboardKeyword},this.clipboard.setOptions(r),u=this.clipboard.getValue(t),this.deactiveTheadModuleEditLayer(),this.deactiveTbodyModuleEditLayer(),this.deactiveTfootModuleEditLayer(),this.optEvent.clipboardCallback&&this.optEvent.clipboardCallback(u)),!1)},_ON_INPUT:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_INPUT(n,t,i,r)})},_ON_KEYDOWN_TAB:function(n,t,i,r){this.setEcEventCommonParameter(n,i);var u=!1;return this.sectionContainers.forEach(function(f){var e=f._ON_KEYDOWN_TAB(n,t,i,r);e&&(u=!0)}),u?(t.preventDefault(),t.stopPropagation(),!1):void 0},_ON_KEYUP:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_KEYUP(n,t,i,r)})},_ON_MOUSEDOWN:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_MOUSEDOWN(n,t,i,r)})},_ON_MOUSEOUT:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_MOUSEOUT(n,t,i,r)})},_ON_MOUSEOVER:function(n,t,i,r){n.gridSectionType&&n.gridDataKey&&n.gridColumnID&&(r=r||{},this.sectionContainers.forEach(function(u){u._ON_MOUSEOVER(n,t,i,r)}))},_ON_MOUSEUP:function(n,t,i,r){this.sectionContainers.forEach(function(u){u._ON_MOUSEUP(n,t,i,r)})},_ON_GRID_CONTEXTMENU:function(n,t,i,r){this.config.events.useRightClick&&this.sectionContainers.forEach(function(u){u._ON_GRID_CONTEXTMENU(n,t,i,r)})},_ON_SCROLL:function(n,t,i,r){this.config.common.isActive&&this.sectionContainers.forEach(function(u){u._ON_SCROLL(n,t,i,r)})},_ON_GRID_RESIZE_MAXIMIZE:function(){this.fixed&&this.fixed.setCloneTablePosition()},_ON_GRID_CHANGE_CHILD_DISPLAY:function(n){(this.config.common.isActive||_.get(n,"isForce"))&&this.sectionContainers.forEach(function(t){t._ON_GRID_CHANGE_CHILD_DISPLAY(n)})},_ON_CLICK_MENU_TOGGLE:function(){this.fixed&&this.fixed.onClickMenuToggle()}});ecount.gridV3.createClass=function(n,t){ecount.control.lazyLoad(n);var i=ecount.common.isExistNamespace(n);return i?new i(t||{}):new function(){return{init:function(){},getComposedDomString:function(){return ecount.errorLog("runnig method of dummy class instance"),""}}}};ecount.gridV3.logger=function(){var n=!1;return{on:function(){n=!0},off:function(){n=!1},state:function(){return n},log:function(t){n&&console.log(" gridV3 ::: "+t)}}}();ecount.class("ecount.gridV3.events",null,{__events:null,init:function(){this.__events={}},register:function(n,t,i){this.__events[n]={fn:t,scope:i}},once:function(n,t,i){this.exist(n)||this.register(n,t,i)},exist:function(n){return!!this.__events[n]},triggerEvent:function(n){var t=this.__events[n];return t&&t.fn&&t.fn.apply(t.scope,Array.prototype.slice.call(arguments,1))},_triggerEvent:function(n,t){var i=this.__events[n];return i&&i.fn&&i.fn.call(i.scope,t)}});ecount.gridV3.config={operateMode:function(){return window.location.href.test(/http(s)?:\/\/(test|zeus|apollo)\d*(a\d*|b\d*|c\d*|d\d*|e\d*|f\d*|ba)?(-dev)?.ecount.com/)?"development":"operating"}(),rowLimit:2e3,allPerformance:!1,initRenderPerformance:!1,renderRenderPerformance:!1,allRenderPerformance:!1,dataPerformance:!1,madeHTMLPerformance:!1,viewPerformance:!1,renderingPerformance:!1,viewEnable:!0,forceOperatingMode:!1},function(n){n.operateMode=n.forceOperatingMode?"operating":n.operateMode;switch(n.operateMode){case"development":n.allPerformance=!0;n.initRenderPerformance=!0;n.renderRenderPerformance=!0;n.dataPerformance=!0;n.madeHTMLPerformance=!0;n.allRenderPerformance=!0;n.viewPerformance=!0;n.renderingPerformance=!0;break;case"operating":n.allPerformance=!1;n.initRenderPerformance=!1;n.renderRenderPerformance=!1;n.allRenderPerformance=!1;n.dataPerformance=!1;n.madeHTMLPerformance=!1;n.viewPerformance=!1;n.renderingPerformance=!1}}(ecount.gridV3.config);ecount.class("ecount.gridV3.instanceManager",null,{init:function(){this.__datas={}},destroy:function(){},destroyAll:function(){for(var n in this.__datas)this.__datas.hasOwnProperty(n)&&this.__datas[n].destroy&&this.__datas[n].destroy()},getKey:function(n,t,i){i=i||{};var r=n;return/widget.code.*/.test(n)||ecount.grid.constValue.customizerRex.test(n)?r=[t.gridSectionType,t.gridColumnID,t.gridDataKey,n].join(ecount.constValue.gridDelimiter):i.createActionInstance&&(r=["action",r].join(".")),r},hasKey:function(n){return!$.isNull(this.__datas[n])},create:function(n,t,i){i=i||{};var u=this.getKey(n,t,i),r=this.__datas[u];return r?r.init&&r.init(t):(r=ecount.gridV3.createClass(n,t),this.__datas[u]=r,i.createActionInstance&&r.getComposedDomString&&r.getComposedDomString()),r}});ecount.gridV3.utils={convertStyles:function(n,t){var i,r;t=typeof t=="boolean"?t:!1;i="";for(r in n)if(n.hasOwnProperty(r)){i+=r+":"+n[r];switch(r){case"height":case"top":case"left":case"bottom":case"right":i+="px";default:i+=";"}}return i==""?"":t?i:"style='"+i+"'"},convertAttrs:function(n,t){var r,i,u;t=typeof t=="boolean"?t:!1;r="";for(i in n)if(u="",n.hasOwnProperty(i)){r!=""&&(r=r+" ");switch(i){case"height":case"top":case"left":case"bottom":case"right":u="px"}r+=i=="data-tableid"?i+'="'+(n[i]||"").escapeHTML(!0)+u+'"':i+'="'+ecount.gridV3.utils.replaceRegexpString(n[i])+u+'"'}return r},convertToClassName:function(n,t){return(t=typeof t=="boolean"?t:!1,!$.isArray(n))?"":n.length==0?"":t?n.join(" "):"class='"+n.join(" ").trim()+"'"},AscendingByNumber:function(n,t){return n>t?1:n<t?-1:0},DescendingByNumber:function(n,t){return n>t?-1:n<t?1:0},AscendingByMergeSet:function(n,t){return n[ecount.grid.constValue.rowVariableNames.mergeStartIndex]>t[ecount.grid.constValue.rowVariableNames.mergeStartIndex]?1:n[ecount.grid.constValue.rowVariableNames.mergeStartIndex]<t[ecount.grid.constValue.rowVariableNames.mergeStartIndex]?-1:0},DescendingByMergeSet:function(n,t){return n[ecount.grid.constValue.rowVariableNames.mergeStartIndex]>t[ecount.grid.constValue.rowVariableNames.mergeStartIndex]?-1:n[ecount.grid.constValue.rowVariableNames.mergeStartIndex]<t[ecount.grid.constValue.rowVariableNames.mergeStartIndex]?1:0},setViewValueDate20:function(n){var t=/^([1|2][0-9]{3})[\/\-\.]?(0[1-9]|1[0-2])[\/\-\.]?([\/\-\.]\d+)?$/g.exec(n);return t&&(n=t[1]+"/"+t[2]+"/01",t[3]&&(n+=t[3])),n},escapeHTML:function(n){return typeof n=="string"&&/['"&<>\t]/.test(n)&&(/[&\t]/.test(n)&&(n=n.replace(/&/g,"&amp;")),/[<>]/.test(n)&&(n=n.replace(/</g,"&lt;"),n=n.replace(/>/g,"&gt;")),/['"]/.test(n)&&(n=n.replace(/"/g,"&quot;"),n=n.replace(/'/g,"&#39;")),n=n.replace(/&lt;(\/?)(b|strong|br|br\s*\/|u|strike|font|span|div|p|marquee)(\s*)&gt;/gi,"<$1$2$3>"),n=n.replace(/&lt;(font|span|div|p|marquee) (\?|%|&|$|\/|\.|\s|;|:|-|=|"|'|\#|\w|\&quot;|&#39;|&amp;|[가-힣])*&gt;/gi,ecount.gridV3.utils.replaceEscape),/&amp;/.test(n)&&(n=n.replace(/&amp;(lt;|gt;|#39;|quot;|amp;|nbsp;)/g,"&$1"))),n},replaceEscape:function(n){return $.isString(n)?(n=n.replace(/&lt;/g,"<"),n=n.replace(/&gt;/g,">"),n=n.replace(/&#39;/g,"'"),n=n.replace(/&quot;/g,'"'),n.replace(/&amp;/g,"&")):n},replaceRegexpString:function(n){return $.isNull(n)?n:typeof n!="string"?n:n.replace&&n.replace(/\$/g,function(n){return n+n})||n},convert2ByteChar2:function(n){for(var t,r="",u=n.length,i=0;i<u;i++)t=n.charCodeAt(i),r+=t>=65281&&t<=65374&&t!=65340?String.fromCharCode(t-65248):t==8217?String.fromCharCode(39):t==8221?String.fromCharCode(34):t==12288?String.fromCharCode(32):t==65507?String.fromCharCode(126):t==65509?String.fromCharCode(92):n.charAt(i);return r},isNotEmptyOrZero:function(n,t,i){if(n[i]!==""&&n[i]!=undefined)if(t=="1"||t=="2"){if(n[i]!="0")return!0;arrEmptys.push(n)}else{if(t=="8"||t=="9"){var r=new Decimal(n[i]);return r.isZero()?!1:!0}return!0}else return!1},isNotEmpty:function(n,t,i){if(n[i]!==""&&n[i]!=undefined)if(t=="1"||t=="2"){if(n[i]!="0")return!0;arrEmptys.push(n)}else return t=="8"||t=="9"?!0:!0;else return!1},getCompareData:function(n,t){for(var i,u={},r,f=0,e=t.length;f<e;f++)i=t[f],r=n[i.prop],u[i.prop]=i.dataType=="8"||i.dataType=="9"?parseFloat(r):r?ecount.gridV3.utils.convert2ByteChar2(r.toString()).toLowerCase():0;return u[ecount.grid.constValue.keyColumnPropertyName]=n[ecount.grid.constValue.keyColumnPropertyName],u},isEmptyData:function(n,t){var i=!0;return t.some(function(t){if(!t.isCompareEmptyData&&ecount.gridV3.utils.isNotEmpty(n,t.dataType,t.prop))return i=!1,!0}),i},isPropertyInConstValue:function(n){var t=ecount.grid.constValue,i,r;if(['"'+t.keyColumnPropertyName+'":','"'+t.checkBoxPropertyName+'":','"'+t.rowMoveablePropertyName+'":','"'+t.rowNumberingPropertyName+'":','"'+t.rowStatePropertyName+'":','"'+t.rowCountColumnPropertyName+'":'].contains(n))return!0;for(i in t.rowVariableNames)if('"'+t.rowVariableNames[i]+'":'==n)return!0;for(r in t.tree)if('"'+t.tree[r]+'":'==n)return!0;return!1},parents:function(n,t){for(var i=n.parentNode;i;){if(i.tagName&&i.tagName.test(t))break;i=i.parentNode}return i==document||i==document.body?null:i},closest:function(n,t){for(var i=n;i;){if(i.tagName&&i.tagName.test(t))break;i=i.parentNode}return i==document||i==document.body?null:i},findParentElementByTagName:function(n,t){do if(n&&n.nodeName&&n.nodeName.search(t)!=-1)return n;while(n=n.parentNode);return null},getCheckboxWidthByRowCount:function(n){return n=parseInt(n),n/1e4>0?"37":n/1e3>0?"32":n/100>0?"28":"25"},replaceForQuerySelectorId:function(n){return n&&(n=n.replaceAll(/\\/,"\\\\").replaceAll(/(\')/,"\\'").replaceAll(/&nbsp;/,String.fromCharCode(160))),n},replaceSpaceChar:function(n){return n.replaceAll(String.fromCharCode(160),"&nbsp;")},getColor:function(n){return(n=n||"",n)?ecount.grid.constValue.nativeColorname[n]?n:"#"+n:""}};ecount.class("ecount.gridV3.rowDataKeyGenerator",null,{init:function(n){n=n||{};$.isEmpty(n.prefixId)&&(n.prefixId="");_.extend(this,n);this.keyIndex=0;this.constValue=ecount.grid.constValue},get:function(n,t){t=t||this.rowDataKeyProperties;var i="";return t?(t.forEach(function(t){i!=""&&(i+=ecount.constValue.rowKeySeparator);i+=(n[t]||"").toString().replace(/\t/g,"    ")}.bind(this)),i==""?i=this.keyIndex++:[this.constValue.rowType.total,this.constValue.rowType.subtotal].contains(n[this.constValue.rowVariableNames.rowType])&&(i=this.keyIndex.toString(),this.keyIndex+=1)):i=this.keyIndex++,this.prefixId+i.toString()}});ecount.gridV3.generatorColumn={column:function(n,t,i,r){var f=n||"ec",e=parseInt(t||1,10),u=i||ecount.grid.constValue.columnType.single,h=r||{},c={POSITION:null,id:null,realId:null,propertyName:null,name:null,width:0,lineNo:0,linechange:!1,index:0,GROUP_FLAG:null,title:""},o=function(){e+=1;return f+e},l=function(n){f=n},a=function(n){u=n},v=function(n,t){t=t||{};var i=t.id||o(),r=u==ecount.grid.constValue.columnType.each?1:100,f={id:i,realId:i,propertyName:i,name:i,width:r};return $.extend({},c,f,s(n),t)},s=function(n){var t=$.extend({BitMaskType:"DesignDefaultColumn",BitMask:"0",align:"center",controlOption:null,controlType:null,customizeDate:null,data:null,dataType:null,dataType1:null,dataType2:null,dateFormat:null,decCount:0,decimalSeparator:null,decimalType:null,font:"dotum",fontColor:"",fontSize:12,fontUnderline:"0",fontItalic:"0",fontStrike:"0",fontBold:"0",isShadow:"0",isDisplayZero:"0",isCheckZero:"0",isHideColumn:"0",isTodayTime:"0",IsSubTotal:"0",IsTotal:"0",colEssentialYn:"0",isRequisite2:"0",isEditable:"0",isInputable:"0",groupColCd:null,headerClass:null,imageSize:null,isColorSettable:!1,pairId:null,thousandSeparator:null,valign:"",controlOption:{}},h);return u==ecount.grid.constValue.columnType.multi?[ecount.grid.constValue.sectionType.thead,ecount.grid.constValue.sectionType.tfoot].contains(n)?(t.isShadow="1",t.align=ecount.config.companyForm.OUT_ALIGN_TITLE_HALIGN,t.valign=ecount.config.companyForm.OUT_ALIGN_TITLE_VALIGN):t.isShadow="0":(t.columnOption={BitMaskType:"ColumnOption",BitMask:"0",fontUnderline:"0",fontItalic:"0",fontStrike:"0",fontBold:"0",fontSize:11,fontColor:null,align:ecount.config.companyForm.OUT_ALIGN_TITLE_HALIGN,valign:ecount.config.companyForm.OUT_ALIGN_TITLE_VALIGN},t.footerOption={BitMaskType:"FooterOption",BitMask:"0",fontUnderline:"0",fontItalic:"0",fontStrike:"0",fontBold:"0",fontSize:11,fontColor:null,align:ecount.config.companyForm.OUT_ALIGN_TITLE_HALIGN,valign:ecount.config.companyForm.OUT_ALIGN_TITLE_VALIGN}),t},y=function(){};return{uniqueId:o,create:v,setPrefixId:l,setColumnType:a,getDefaultColumnOption:s,destroy:y}},columnTemp:function(n){n=n||{};var t=n.lineCount||0,i=n.columnCountPerLine||0,r=n.tempColumnCountPerLine||0,u=typeof n.idGenerator=="function"?n.idGenerator:function(){return ecount.gridV3.logger.log("idGenerator 가 설정되지 않아 컬럼ID는 빈값으로 설정됩니다."),""},f=typeof n.realIdCallback=="function"?n.realIdCallback:function(n,t,i,r,u){return ecount.gridV3.logger.log("realIdCallback 이 설정되지 않아 realId 는 idGenerator 로 만들어진 값을 사용합니다."),u},e=typeof n.columnMappingIdCallback=="function"?n.columnMappingIdCallback:function(){},o=function(n){u=n},s=function(n){f=n},h=function(n,u){u=u||{};for(var f=typeof u.lineCount=="number"?u.lineCount:t,o=typeof u.columnCountPerLine=="number"?u.columnCountPerLine:i,e=typeof u.tempColumnCountPerLine=="number"?u.tempColumnCountPerLine:r;f>0;)n.splice(f*o-e,e),f-=1;return n},c=function(n,t,i){var s,r,e;i=i||{};var y=typeof i.idGenerator=="function"?i.idGenerator:u,p=typeof i.realIdCallback=="function"?i.realIdCallback:f,o=[],h,c,l=0,a={},v=n.length;for(s=0;s<t;s++)for(r=0,e=0;e<v;e++)n[e].linechange?(r+=1,l=1):l+=1,o[r]||(o[r]=[]),h=Object.clone(n[e]),c=y(),h.id=c,h.propertyName=c,h.linechange=!1,h.realId=p(e,r,s,n[e],c),o[r].push(h),a[c]={columnId:n[e].id};for(var s=0,r=o.length-1,w=o.length;s<w;s++,r--)o[r].splice(0,0,v-l*s,0),n.splice.apply(n,o[r]);return a},l=function(n,u){var o,c;u=u||{};var l=typeof u.lineCount=="number"?u.lineCount:t,s=typeof u.columnCountPerLine=="number"?u.columnCountPerLine:i,a=typeof u.tempColumnCountPerLine=="number"?u.tempColumnCountPerLine:r,v=typeof u.columnMappingIdCallback=="function"?u.columnMappingIdCallback:e,f,h,y={};for(o=0,c=l;o<c;o++)for(f=o*s+s-a,h=o*s+s;f<h;f++)y[n[f].id]={columnId:v(n[f])}};return{create:c,createMap:l,remove:h,setIdGenerator:o,setRealIdCallback:s}}};ecount.gridV3.customEvent=function(){};ecount.gridV3.customEvent.fire=function(n,t,i){var r,u;if(document.createEvent){switch(n){case"mousedown":case"mouseup":case"mouseenter":case"mousemove":case"click":r=document.createEvent("MouseEvents");r.initMouseEvent(n,!0,!0,i.view||window,i.detail||0,i.screenX||0,i.screenY||0,i.clientX||0,i.clientY||0,i.ctrlKey||!1,i.altKey||!1,i.shiftKey||!1,i.metaKey||!1,i.button||0,i.relatedTarget||null);break;default:r=document.createEvent("Event");r.initEvent(n,!1,!1)}if(i)for(u in i)i.hasOwnProperty(u)&&(r[u]=i[u]);t.dispatchEvent(r)}else{if(r=document.createEventObject(),i)for(u in i)i.hasOwnProperty(u)&&(r[u]=i[u]);document.fireEvent(n,r)}};ecount.gridV3.constEvent={};ecount.gridV3.constEvent.matrixState={getTbodyRowItem:"ecount.gridV3.constEvent.matrixState.getTbodyRowItem"};ecount.class("ecount.gridV3.handler",null,{init:function(){}});ecount.class("ecount.gridV3.handler.common",null,{init:function(){},_ON_CLICK:function(){}});ecount.gridV3.handler.resize={resizeEnable:function(){},resizeStart:function(n,t){function p(n){switch(n.sectionType){}}function w(n){for(var r,t=i[0].cellIndex-1;t>-1;t--)if(r=c[0].children[t],!r.classList.contains("hide")){i=$(r);break}n.columnId=i.attr("data-columnid")}var k=this,d=ecount.grid.constValue,i=$(t.target).closest("TH,TD"),c=i.closest("TR"),e,f,h;n.isTop&&p(n);n.isLeft&&w(n);var l=i.attr("colspan")||1,a=i.attr("rowspan")||1,o=l-1,b=a-1,r=[],v=0,y=0,s,u;if(n.sectionType==this.constValue.sectionType.thead?(s=this.getTheadColumnInfo(n.columnId),u=this.getTheadColumnIndexById(this.constValue.returnType.multi,n.columnId,!0)):n.sectionType==this.constValue.sectionType.tbody?(s=this.getTbodyColumnInfo(n.columnId),u=this.getTbodyColumnIndexById(this.constValue.returnType.multi,n.columnId,!0)):n.sectionType==this.constValue.sectionType.tfoot&&(s=this.getTfootColumnInfo(n.columnId),u=this.getTfootColumnIndexById(this.constValue.returnType.multi,n.columnId,!0)),o==0)r.push(1);else if(v=parseInt(i.width(),10),e=this.getTheadColumnInfoList({isReturnValueMulti:!0,isIncludeSystemColumn:!0}),e[0]&&e[0].length>0)for(f=u,h=u+o;f<=h;f++)f==h?r.push(1-y):(r.push(parseInt(e[0][f].width,10)/v),y+=r[r.length-1]);return{cellElem:i[0],rowElem:c[0],sectionType:n.sectionType,rowId:n.rowId,columnId:n.columnId,columnIdx:u,widthRatio:r,changeAllColRow:n.changeAllColRow,changeAllRow:n.changeAllRow,colspanCount:l,rowspanCount:a,colspanIndex:o,rowspanIndex:b}},resizeMove:function(n,t){var a=ecount.grid.constValue,v=$(t.target).closest("TD,TH"),s=v.closest("TR"),h,e,c,l,i,o,r,y,f;if(n.isTopCheck&&s.length>0)return s[0].rowIndex===0;if(n.isLeftCheck){for(e=v[0].cellIndex-1;e>-1;e--)if(c=s[0].children[e],!c.classList.contains("hide")){h=c;break}if(h)return{columnId:h.getAttribute("data-columnid")}}if(n.moveWidth)if(ecount.gridV3.handler.resize.setVariableResetFullSize.call(this),l=parseInt(n.width,10),i=this.config.resize.groupColumns&&this.config.resize.groupColumns[n.columnId].slice(),i){i.unshift(n.columnId);for(var u=0,p=i.length,w=parseInt(n.widthGap,10),l=Math.round(w/(n.columnIdx+1));u<p;u++)n.sectionType==this.constValue.sectionType.thead?(o=this.getTheadColumnInfo(this.constValue.returnType.multi,i[u]),r=this.getTheadColumnIndexById(this.constValue.returnType.multi,i[u],!1)):n.sectionType==this.constValue.sectionType.thead?(o=this.getTbodyColumnInfo(this.constValue.returnType.multi,i[u]),r=this.getTbodyColumnIndexById(this.constValue.returnType.multi,i[u],!1)):n.sectionType==this.constValue.sectionType.thead&&(o=this.getTfootColumnInfo(this.constValue.returnType.multi,i[u]),r=this.getTfootColumnIndexById(this.constValue.returnType.multi,i[u],!1)),f=Math.round(n.startOffsetWidth+l*n.widthRatio[0]),this.fixed&&this.fixed.setCloneColumnWidth(n,r,f+"px"),this.mixinOption.viewTable.setColgroupElementWidth(n.sectionType,n.tableId+n.tableIndex,r,f+"px"),this.mixinOption.dataColumn.setColumnInfo(n.sectionType,o.id,{width:f});this.fixed&&this.fixed.updateCloneTableWidth(n);this.mixinOption.viewTable.setTableElementWidth(n.sectionType,n.tableId+n.tableIndex,this.mixinOption.dataColumn.getTotalWidth()+"px")}else{y=this.getTheadColumnInfoList({isReturnValueMulti:!0,isIncludeSystemColumn:!0});for(var r=n.columnIdx,e=0,b=r+n.colspanIndex;r<=b;r++,e++)f=Math.round(l*n.widthRatio[e]),this.fixed&&this.fixed.setCloneColumnWidth(n,r,f+"px"),this.setTheadColumnInfo(y[0][r].id,{width:f});this.setTotalWidth(this.getTotalWidth(ecount.grid.constValue.targetType.visible));this.fixed&&this.fixed.setCloneTableWidth(n,this.getTotalWidth(ecount.grid.constValue.targetType.visible)+"px")}n.moveHeight&&(columnRowIdx=$.isNumber(n.rowspan)&&n.rowspan>0?_.parseInt(n.columnRowIdx)+n.rowspan:n.columnRowIdx,n.changeAllColRow?n.changeAllRow?this.mixinOption.viewRow.setRowElementHeightAll(n.sectionType,columnRowIdx,n.height,n.changeAllRow):this.mixinOption.optCommon.columnType==a.columnType.single?this.mixinOption.viewRow.setRowElementHeightAll(n.sectionType,columnRowIdx,n.height):this.mixinOption.optCommon.columnType==a.columnType.multi&&this.mixinOption.viewRow.setRowElementHeight(n.sectionType,n.rowId,columnRowIdx,n.height):this.mixinOption.viewRow.setRowElementHeight(n.sectionType,n.rowId,columnRowIdx,n.height))},setVariableResetFullSize:function(){var o=_.get(this.sectionContainers,"[0].tableElement"),n,e,t,c;if(o){var h=$(o),r=$(o).parents("div.wrapper-grid[data-layouttype='grid']"),l=h.parents("div.contents"),a=l.hasClass("variable-reset"),v=h.parents("body").hasClass("variable-full-size-y");if(r.length&&!r.hasClass("variable-reset-full-size")&&!a&&v){var s=r.find("table"),i={},u=s.eq(0),f=u.find("colGroup > col");for(i.table=u.get(0).getBoundingClientRect().width,n=0;n<f.length;n++)t=f.eq(n),i[t.attr("data-columnid")]=t.get(0).getBoundingClientRect().width;for(r.find("div.wrapper-toolbar.grid-header-toolbar").css("width",i.table),n=0;n<s.length;n++)for(u=s.eq(n),f=u.find("colGroup > col"),u.css("width",i.table),e=0;e<f.length;e++)t=f.eq(e),c=i[t.attr("data-columnid")],c&&t.css("width",i[t.attr("data-columnid")]);r.addClass("variable-reset-full-size")}}},resizeEnd:function(n,t){var u=ecount.grid.constValue,r=n.sectionType,i;if(n.moveHeight){this.mixinOption.optRow[r].trHeight instanceof Array||(this.mixinOption.optRow[r].trHeight=[]);var f=this.mixinOption.optRow[r].trHeight,e=n.columnRowIdx,o=n.rowId;f[e]=parseInt(n.height,10)}n.sectionType==this.constValue.sectionType.thead?(i=this.getTheadColumnInfoList(this.constValue.returnType.single,n.columnId),columnIdx=this.getTheadColumnIndexById(this.constValue.returnType.single,n.columnId,!1)):n.sectionType==this.constValue.sectionType.thead?(i=this.getTbodyColumnInfo(this.constValue.returnType.single,n.columnId),columnIdx=this.getTbodyColumnIndexById(this.constValue.returnType.single,n.columnId,!1)):n.sectionType==this.constValue.sectionType.thead&&(i=this.getTfootColumnInfo(this.constValue.returnType.single,n.columnId),columnIdx=this.getTfootColumnIndexById(this.constValue.returnType.single,n.columnId,!1));this.pageRelatedEvents&&this.pageRelatedEvents._triggerEvent(ecount.grid.event.list.resizeEndCompleted,{},{colList:i,resizedHeightType:n.sectionType==u.sectionType.thead?"header":"body",resizedWidth:n.moveWidth===!0?parseInt(n.width,10):0,resizedHeight:n.moveHeight===!0?parseInt(n.height,10):0,resizedColumnId:n.columnId},t)}};ecount.gridV3.modules={};ecount.gridV3.modules.util={findParentElementByTagName:function(n,t){do if(n&&n.nodeName&&n.nodeName.search(t)!=-1)return n;while(n=n.parentNode);return null}};ecount.class("ecount.gridV3.modules.api",null,{init:function(n,t){n=n||{};t=t||{};this.list=[];this.listKey={};this.loopIndex=0;this.callbackStep=1;this.defaultOptions={resolve:null,reject:null,completed:null,url:"",param:{},async:!1};this.modules={};_.extend(this.defaultOptions,n);_.extend(this.modules,t)},reset:function(){this.list=[];this.listKey={};this.loopIndex=0;this.callbackStep=1},render:function(){},destroyAll:function(){},add:function(n,t){var i={};t.success=this.success.bind(this);t.error=this.fail.bind(this);i.apiKey=n;i.requestInfo=t;this.list.push(i);i.index=this.list.length-1},call:function(){this.list.length!=0&&(this.loopIndex>this.list.length||this.modules.ajax&&this.executeApi())},length:function(){return this.list.length},success:function(n){var t=this.getItem(),r,i;i=t.resolve&&t.resolve(n,t.config);i&&i.result&&loopIndex<list.length-1?(this.increaseCallbackStep().increaseLoopIndex(),this.executeApi()):(this.reset(),r={state:"success"},t.completed&&t.completed(r,t.config))},fail:function(n,t,i){var r=this.getItem(),u;u={state:"fail"};this.reset();r.reject&&r.reject(n,t,i)},increaseCallbackStep:function(){return this.callbackStep+=1,this},increaseLoopIndex:function(){return this.loopIndex+=1,this},getItem:function(){return this.list[this.loopIndex]&&this.list[this.loopIndex].requestInfo},executeApi:function(){var n=this.getItem();this.modules.ajax&&this.modules.ajax(_.extend({},this.defaultOptions,n))}});ecount.class("ecount.gridV3.modules.fix",null,{init:function(n){(n=n||{},this.constValue=ecount.grid.constValue,_.extend(this,n),this.layer)&&(this.drawCount={},this.leftMargin=5,this.isFixCustomSchedule=this.fixCustomOptions&&this.fixCustomOptions.type=="schedule",this.useFixedChangeObserve=this.fixCustomOptions&&this.fixCustomOptions.useFixedChangeObserve===!0,this.reset(),this.initData(),this.addDrawCount())},reset:function(){this.copyElement={};this.copyElement.cloneTopTable={};this.copyElement.cloneLeft={};this.copyElement.cloneLeftTable={};this.copyElement.cloneCorner={};this.copyElement.cloneCornerTable={}},initData:function(){this.hasTopToolbar=!1;this.fixOptions={};this.fixOptions.title=this.layer.querySelector(".header .wrapper-title");this.fixOptions.titleTop=null;this.fixOptions.titleHeight=null;this.fixOptions.titleWidth=null;this.fixOptions.topToolbar=null;this.fixOptions.topToolbarWidth="0px";this.topToolbarSelector&&(this.fixOptions.topToolbar=this.layer.querySelector(this.topToolbarSelector),this.fixOptions.topToolbar&&(this.fixOptions.topToolbarWidth=this.fixOptions.topToolbar.style.width,this.hasTopToolbar=!0));this.fixOptions.contents=this.fixCustomContents||this.contents;this.fixOptions.container=this.container;this.fixOptions.table=this.fixOptions.container.querySelector(this.tableSelector);this.fixOptions.tableBoundary=this.fixOptions.table.getBoundingClientRect();this.moveTop=!1;this.moveLeft=!1;this.moveTopChanged=!1;this.moveBottomChanged=!1;this.moveLeftChanged=!1;this.moveRightChanged=!1;this.isPopup=this.layer.classList.contains("ui-dialog");this.fixOptions.tab=this.fixOptions.contents.querySelector(".nav.nav-tabs");this.fixOptions.isTab=this._isTab();this.fixOptions.currentTabId=this._currentTabId();this.cloneTopBoundary={}},render:function(){this.setCloneTopToolbar();this.setCloneTop()},addDrawCount:function(){if(this.fixOptions.isGridTop)return!1;this.fixOptions.isTab?(this.drawCount[this.ecPageId]||(this.drawCount[this.ecPageId]={}),this.drawCount[this.ecPageId][this.fixOptions.currentTabId]?this.drawCount[this.ecPageId][this.fixOptions.currentTabId]+=1:this.drawCount[this.ecPageId][this.fixOptions.currentTabId]=1):this.drawCount[this.ecPageId]?this.drawCount[this.ecPageId]+=1:this.drawCount[this.ecPageId]=1},getDrawCount:function(){if(this.fixOptions.isTab){if(this.drawCount[this.ecPageId])return this.drawCount[this.ecPageId][this.fixOptions.currentTabId]}else return this.drawCount[this.ecPageId]},resetDrawCount:function(){this.fixOptions.isTab?this.drawCount[this.ecPageId]&&(this.drawCount[this.ecPageId][this.fixOptions.currentTabId]=null,delete this.drawCount[this.ecPageId][this.fixOptions.currentTabId],_.isEmpty(this.drawCount[this.ecPageId])&&delete this.drawCount[this.ecPageId]):(this.drawCount[this.ecPageId]=null,delete this.drawCount[this.ecPageId])},setTitleBoundary:function(){this.fixOptions.titleBoundary=this.fixOptions.title.getBoundingClientRect();this.fixOptions.titleTop=this.fixOptions.titleBoundary.top;this.fixOptions.titleRight=this.fixOptions.titleBoundary.right;this.fixOptions.titleHeight=this.fixOptions.title.offsetHeight;this.fixOptions.titleWidth=this.fixOptions.title.offsetWidth},_isTab:function(){var n=!1;return _.isElement(this.fixOptions.tab)&&this.fixOptions.tab.querySelector(".active")&&(n=!0),n},_currentTabId:function(){var n="tempTab";return this.fixOptions.isTab&&(n=this.fixOptions.tab.querySelector(".active").getAttribute("id")),n},getTopToolbar:function(){},getLayerBoundary:function(){var t={},n={};return t=this.cloneTopBoundary,this.hasTopToolbar?(n.fixTopToolbar=!0,n.height=this.fixOptions.topToolbar.getBoundingClientRect().height):(n.fixTopToolbar=!1,n.height=0),{topBoundary:t,toolbarHeight:n}},setCloneColumnWidth:function(n,t,i){var r;this.cloneTopTable&&(r=this.cloneTopTable.querySelector("colgroup"),r&&(r.children[t].style.width=i));this.cloneLeftTable&&(r=this.cloneLeftTable.querySelector("colgroup"),r&&r.children[t]&&(r.children[t].style.width=i));this.cloneCornerTable&&(r=this.cloneCornerTable.querySelector("colgroup"),r&&r.children[t]&&(r.children[t].style.width=i))},setCloneTableWidth:function(n,t){this.cloneTopTable&&(this.cloneTopTable.style.width=t)},setTableKeys:function(){for(var t={},i=this.defaultDatas.$container.find(this.optTable.tableTagName).filter(function(n,t){return/grid-(.+)-\d+$/g.test(t.getAttribute("id"))}),n=0,r=i.length;n<r;n++)t[n]=i[n];return t},changeDisplay:function(){},hide:function(){},show:function(){},removeDOM:function(){},destroyAll:function(){this._removeCloneTop();this._removeCloneLeft();this._removeCloneCorner();this._removeCloneTopToolbar()},clearCopyOptions:function(){var n=this;_.each(this.copyElement,function(t,i){t=null;delete n.copyElement[i]});this.copyElement=null},clearFixOptions:function(){var n=this;_.each(this.fixOptions,function(t,i){t=null;delete n.fixOptions[i]});this.fixOptions=null},setCloneTopToolbar:function(){if(this.fixOptions.isGridTop)return!1;var n=this.isFixedHead,t=this.isCopyHeaderArea,i=this.fixedRowCount;if(!n&&!t&&i<=0){this.hasTopToolbar=!1;return}if(this.fixOptions.topToolbar)this.hasTopToolbar=!0;else{this.hasTopToolbar=!1;return}this.cloneTopToolbar=this.fixOptions.topToolbar.cloneNode(!0);this.cloneTopToolbar.classList.add("hidden");this.cloneTopToolbar.classList.add("grid-clone-topToolbar");$(this.fixOptions.topToolbar).after(this.cloneTopToolbar)},getLeftPosition:function(){return this.layer!==window?this.fixCustomContents?this.fixCustomContents.getBoundingClientRect().left:this.layer.getBoundingClientRect().left:0},setCloneTop:function(){var u=this.isFixedHead,r=this.fixedRowCount,n,t,i;if(u||!(r<=0))return n=document.createElement("div"),n.setAttribute("data-gid",this.containerSelector.replace(/^[#.]/,"")),n.setAttribute("data-layouttype","grid"),t=this.fixOptions.table.cloneNode(!1),this.cloneTable(t,this.fixOptions.table,r,!1),i=this.getLeftPosition(),n.style.left=(this.isPopup?i+1:i)+"px",n.setAttribute("id",this.constValue.fix.gridTopDiv),n.setAttribute("data-gid",n.getAttribute("data-gid")+ecount.delimiter+this.constValue.fix.gridTopDiv),t.style.position="relative",t.style.marginBottom="0px",t.setAttribute("id",this.constValue.fix.gridTop),t.setAttribute("data-gridid",t.getAttribute("data-gridid")+ecount.delimiter+this.constValue.fix.gridTop),n.className="grid-clone-top table-clone-top hidden",n.appendChild(t),$(this.fixOptions.table).after(n),this.cloneTop=n,this.cloneTopTable=t,this.checkBoxColumnWidth>0&&(n.style.left=this.checkBoxColumnWidth+"px"),this.isFixCustomSchedule&&(n.style.paddingLeft="0px"),!0},setCloneLeft:function(){var u=this.fixedColumnCount,t,n,e,i,o,r,f,s;if(u&&!(u<=0)){for(t=document.createElement("div"),t.setAttribute("data-gid",this.containerSelector.replace(/^[#.]/,"")),t.setAttribute("data-layouttype","grid"),n=this.fixOptions.table.cloneNode(!0),i=0,o=n.children.length;i<o;i++)switch(n.children[i].tagName){case"COLGROUP":this.removeCloneTableCellInCol(n.children[i],u);break;default:this.removeCloneTableCellInRow(n.children[i],this.fixOptions.table.children[i],u)}if(r=0,n.children[0].tagName=="COLGROUP"){for(f=0,s=n.children[0].length;f<s;f++)r+=parseInt(n.children[0][f].style.width,10);r+="px"}else r="inherit";e=this.getLeftPosition();t.style.left=(this.isPopup?e+1:e)+"px";t.className="grid-clone-left hidden";t.setAttribute("id",this.constValue.fix.gridLeftDiv);t.setAttribute("data-gid",t.getAttribute("data-gid")+ecount.delimiter+this.constValue.fix.gridLeftDiv);n.style.width=r;n.style.position="relative";n.setAttribute("id",this.constValue.fix.gridLeft);n.setAttribute("data-gridid",n.getAttribute("data-gridid")+ecount.delimiter+this.constValue.fix.gridLeft);t.appendChild(n);$(this.fixOptions.table).after(t);this.cloneLeft=t;this.cloneLeftTable=n;this.checkBoxColumnWidth>0&&(t.style.left=this.checkBoxColumnWidth+"px")}},setCloneCorner:function(){var s=this,u=this.fixedColumnCount,o=this.fixedRowCount,t,n,f,i,h,r,e,c;if(!(o<=0)||!(u<=0)){for(t=document.createElement("div"),t.setAttribute("data-gid",this.containerSelector.replace(/^[#.]/,"")),t.setAttribute("data-layouttype","grid"),n=this.fixOptions.table.cloneNode(!1),this.cloneTable(n,this.fixOptions.table,o,!0),i=0,h=n.children.length;i<h;i++)switch(n.children[i].tagName){case"COLGROUP":this.removeCloneTableCellInCol(n.children[i],u);break;case"THEAD":this.removeCloneTableCellInThead(n.children[i],this.fixOptions.table.children[i],u);break;default:this.removeCloneTableCellInRow(n.children[i],this.fixOptions.table.children[i],u,o)}if(r=0,n.children[0].tagName=="COLGROUP"){for(e=0,c=n.children[0].length;e<c;e++)r+=parseInt(n.children[0][e].style.width,10);r+="px"}else r="inherit";f=this.getLeftPosition();this.fixOptions.contents&&(f+=Math.max(this.leftMargin-this.fixOptions.contents.scrollLeft,0));t.style.left=(this.isPopup?f+1:f)+"px";t.setAttribute("id",this.constValue.fix.gridCornerDiv);t.setAttribute("data-gid",t.getAttribute("data-gid")+ecount.delimiter+this.constValue.fix.gridCornerDiv);n.style.width=r;n.style.marginBottom="0px";n.setAttribute("id",this.constValue.fix.gridCorner);n.setAttribute("data-gridid",n.getAttribute("data-gridid")+ecount.delimiter+this.constValue.fix.gridCorner);t.className="grid-clone-corner hidden";t.appendChild(n);this.cloneCorner=t;this.cloneCornerTable=n;$(this.fixOptions.table).after(t);s.checkBoxColumnWidth>0&&(t.style.left=s.checkBoxColumnWidth+"px")}},removeCloneTableCellInCol:function(n,t){for(var r=n.children,i=r.length-1;i>-1;i--)i>=t?n.removeChild(r[i]):!0&&r[i].getAttribute("data-columnid")===this.constValue.checkboxPropertyName&&n.removeChild(r[i])},removeCloneTableCellInThead:function(n,t,i){for(var y,u,p,o,w,it=n.children,l=t.children,b,f=[],k=l.length,a=t.cloneNode(),r=0;r<k;r++){var s=l[r],h=s.cloneNode(),d=s.getBoundingClientRect();h.style.height=d.height+"px";var b=s.children,e=0,v=0;for(y=i;e<y;e++)if(!f[r]||f[r][e]!==1){var c=b[v],g=c.rowSpan,nt=c.colSpan,tt=c.cloneNode(!0);for(h.appendChild(tt),u=0,p=g;u<p;u++)for(f[r+u]||(f[r+u]=[]),o=0,w=nt;o<w;o++)f[r+u][e+o]=1;v+=1}a.appendChild(h)}n.parentNode.replaceChild(a,n)},removeCloneTableCellInRow:function(n,t,i,r){for(var p,f,w,s,b,rt=n.children,a=t.children,k,e=[],d=_.isNumber(r)?r:a.length,v=t.cloneNode(),u=0;u<d;u++){var h=a[u],c=h.cloneNode(),g=h.getBoundingClientRect();c.style.height=g.height+"px";var k=h.children,o=0,y=0;for(p=i;o<p;o++)if(!e[u]||e[u][o]!==1){var l=k[y],nt=l.rowSpan,tt=l.colSpan,it=l.cloneNode(!0);for(c.appendChild(it),f=0,w=nt;f<w;f++)for(e[u+f]||(e[u+f]=[]),s=0,b=tt;s<b;s++)e[u+f][o+s]=1;y+=1}v.appendChild(c)}n.parentNode.replaceChild(v,n)},cloneTable:function(n,t,i,r){function y(n){for(var i=n.children,t=i.length-1;t>=0;t--)if(l&&i[t].getAttribute("data-columnid")===this.constValue.checkboxPropertyName){n.removeChild(i[t]);break}}for(var p,u,w,h={},a=document.createElement("tbody"),v=document.createElement("thead"),o,s,f,c,l=!0,e=0,b=t.children.length;e<b;e++){switch(t.children[e].tagName){case"COLGROUP":f=t.children[e].cloneNode(!0);n.appendChild(f);l&&!r&&y.call(this,f);break;case"THEAD":for(n.appendChild(v),o=t.children[e],v.className=o.className,h.thead=0,u=0,p=o.children.length;u<p;u++)f=o.children[u].cloneNode(!0),c=o.children[u],v.appendChild(f),h.thead+=_.parseInt(c.style.height),l&&!r&&y.call(this,f);break;case"TBODY":for(n.appendChild(a),s=t.children[e],a.className=s.className,u=0,w=s.children.length;u<w;u++)if(u<i)f=s.children[u].cloneNode(!0),c=s.children[u],a.appendChild(f),h.tbody=_.parseInt(c.style.height),l&&!r&&y.call(this,f);else break}this.cloneTopBoundary=h}},setCloneTablePosition:function(){var t,i,n,u,r;if(this.fixOptions.isGridTop)return!1;this.setTitleBoundary();t=this.fixOptions.table.getBoundingClientRect();n=this.getLeftPosition();this.cloneTop&&this.hasTopToolbar&&this.moveTop&&(this.cloneTopToolbar.style.top=this.fixOptions.titleTop+this.fixOptions.titleHeight+"px",this.cloneTopToolbar.style.left=(this.isPopup?n+1:n)+"px",this.cloneTopToolbar.style.width=this.isPopup||this.cloneTopToolbar.style.width!==""?this.fixOptions.titleRight-ecount.gridV2.view.util.getScrollbarWidth()>t.right?t.right-this.cloneTopToolbar.getBoundingClientRect().left+"px":this.fixOptions.title.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px":this.cloneTopToolbar.offsetWidth+"px",ecount.isResponsiveMode()&&(this.cloneTopToolbar.style.cssText="width:"+this.cloneTopToolbar.style.width+" !important;"+_.join(_.remove(_.split(this.cloneTopToolbar.style.cssText,";"),function(n){return!n.test(/width/)}),";")));this.cloneTop&&(i=this.hasTopToolbar?this.cloneTopToolbar.getBoundingClientRect().top+this.cloneTopToolbar.getBoundingClientRect().height+"px":this.isFixCustomSchedule?this.fixOptions.contents.getBoundingClientRect().top+"px":this.fixOptions.titleTop+this.fixOptions.titleHeight+"px",this.cloneTop.style.top!==i&&(this.cloneTop.style.top=i),this.cloneTop.style.left=(this.isPopup?n+1:n)+"px",this.isFixCustomSchedule?(this.cloneTop.style.width=this.fixOptions.contents.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px",this.hasTopToolbar&&(this.cloneTopToolbar.style.width=this.cloneTop.style.width)):this.cloneTop.style.width=this.fixOptions.titleRight-ecount.gridV2.view.util.getScrollbarWidth()>t.right?t.right-this.cloneTop.getBoundingClientRect().left+"px":this.fixOptions.titleWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px",this.freeSizeWidth&&(this.cloneTopTable.style.width=table.offsetWidth+"px"),this.hasTopToolbar&&this.cloneTopToolbar.children.length>0&&(u=this.cloneTopToolbar,r=this.fixOptions.contents.scrollLeft,_.each(this.cloneTopToolbar.children,function(n){var t;n.classList.contains("pull-right")?(t=_.parseInt(this.cloneTopToolbar.style.width)-_.parseInt(u.style.width)-r,t&&(n.style.left=t+this.leftMargin+"px")):n.style.left=-r+"px"}.bind(this))),this.isFixedChange=!0);this.cloneLeft&&(this.cloneLeft.style.left=(this.isPopup?n+1:n)+"px",this.moveTop&&this.cloneTop?(this.cloneLeft.style.top=this.cloneTop.style.top,$(this.cloneLeftTable).offset({top:t.top})):this.cloneLeft.style.top=t.top+"px");this.cloneCorner&&(this.cloneCorner.style.left=(this.isPopup?n+1:n)+"px",this.cloneCorner.style.top=this.moveTop&&this.cloneTop?this.cloneTop.style.top:t.top+"px");this.isFixedChange&&(this.isFixedChange=!1,this.useFixedChangeObserve&&_.isFunction(this.fixedChangeCallback)&&this.fixedChangeCallback({ecPageId:this.ecPageId,ecContainerId:this.ecContainerId,fixedDisplay:!~this.cloneTop.className.indexOf("hidden"),changeType:"resize",top:this.cloneTop?this.cloneTop.style.top:null,width:this.cloneTop?this.cloneTop.style.width:null}))},executeCloneCheckbox:function(n,t,i){this.cloneTopTable&&(td=this.cloneTopTable.querySelector("[data-columnid='"+n+"'][data-key='"+t+"']"),checkbox=td.querySelector("input[type='checkbox']"),checkbox&&(checkbox.checked=i))},addClass:function(n,t,i,r){function f(n){n&&r.forEach(function(t){new RegExp(t,"g").test(n.className)||(n.className!=""&&(n.className+=" "),n.className+=t)})}r.constructor!=Array&&(r=[r]);var u;this.cloneLeftTable&&(u=$(this.cloneLeftTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]));this.cloneTopTable&&(u=$(this.cloneTopTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]));this.cloneCornerTable&&(u=$(this.cloneCornerTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]))},removeClass:function(n,t,i,r){function f(n){n&&r.forEach(function(t){n.className=n.className.replace(new RegExp("(\\s)"+t+"(?!(w|-))|^"+t+"(?!(w|-))"),"")})}r.constructor!=Array&&(r=[r]);var u;this.cloneLeftTable&&(u=$(this.cloneLeftTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]));this.cloneTopTable&&(u=$(this.cloneTopTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]));this.cloneCornerTable&&(u=$(this.cloneCornerTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),u.length>0&&f(u[0]))},addControlClass:function(n,t,i,r,u){function e(n){n&&u.forEach(function(t){new RegExp(t,"g").test(n.className)||(n.className!=""&&(n.className+=" "),n.className+=t)})}u.constructor!=Array&&(u=[u]);var f;this.cloneLeftTable&&(f=$(this.cloneLeftTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]));this.cloneTopTable&&(f=$(this.cloneTopTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]));this.cloneCornerTable&&(f=$(this.cloneCornerTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]))},removeControlClass:function(n,t,i,r,u){function e(n){n&&u.forEach(function(t){n.className=n.className.replace(new RegExp("(\\s)"+t+"(?!(w|-))|^"+t+"(?!(w|-))"),"")})}u.constructor!=Array&&(u=[u]);var f;this.cloneLeftTable&&(f=$(this.cloneLeftTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]));this.cloneTopTable&&(f=$(this.cloneTopTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]));this.cloneCornerTable&&(f=$(this.cloneCornerTable).find(n).find("[data-key='"+i+"'][data-columnid='"+t+"']"),f.length>0&&e(f[0].children[r]))},getCloneCellElement:function(n,t,i){var r=this.dataRow.getViewDataCellMap(n,t,i),u,f,e,o;return r.cellInfo&&r.cellInfo.adjustmentValue!=1&&(u=[this.constValue.tableIdPrefix+r.tableId,r.tableIndex].join("-"),f=this.defaultDatas.tableSectionIndex[u]&&this.defaultDatas.tableSectionIndex[u][n+"Index"],cloneTable&&(e=this.cloneTopTable.children[f]&&this.cloneTopTable.children[f].children[r.rowInfo.trIdx[r.cellInfo.columnRowIdx]]),o=e&&e.children[r.cellInfo.columnIdx+r.cellInfo.adjustmentValue]),{map:r,cell:o}},scrollCloneTable:function(n){var t,i,r,u;if(this.fixOptions.isGridTop||(this.setTitleBoundary(),this.fixOptions.contents!==n.target))return!1;if(this.fixOptions.table.parentNode){if(t=this.fixOptions.table.getBoundingClientRect(),this.fixOptions.table.offsetHeight>0&&(i=this.fixOptions.titleTop+this.fixOptions.titleHeight>=t.top-(this.hasTopToolbar?this.cloneTopToolbar.clientHeight:0)+0,i?(this.moveTop=!0,this.toggleTopArea(this.fixOptions.table,n,t),this.cloneTop&&(this.cloneTopTable.style.left=-n.target.scrollLeft+"px",this.cloneTop.style.width=this.fixOptions.titleRight-ecount.gridV2.view.util.getScrollbarWidth()>t.right?t.right-this.cloneTop.getBoundingClientRect().left+"px":this.isFixCustomSchedule?this.fixOptions.contents.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px":this.fixOptions.title.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px"),this.hasTopToolbar&&(this.cloneTopToolbar.style.width=this.isPopup||this.cloneTopToolbar.style.width!==""?this.fixOptions.titleRight-ecount.gridV2.view.util.getScrollbarWidth()>t.right?t.right-this.cloneTopToolbar.getBoundingClientRect().left+"px":this.isFixCustomSchedule?this.fixOptions.contents.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px":this.fixOptions.title.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px":this.cloneTopToolbar.offsetWidth+"px",this.cloneTopToolbar.style.setProperty("width",this.cloneTopToolbar.style.width,"important"),this.leftMargin=0,this.cloneTopToolbar.children.length>0&&(r=this.cloneTopToolbar,_.each(this.cloneTopToolbar.children,function(t){var i;t.classList.contains("pull-right")&&!this.isFixCustomSchedule?(i=_.parseInt(this.cloneTopToolbar.style.width)-_.parseInt(r.style.width)-n.target.scrollLeft,i&&(t.style.left=i+this.leftMargin+"px")):t.style.left=-n.target.scrollLeft+"px"}.bind(this)))),this.isFixedChange&&(this.isFixedChange=!1,this.useFixedChangeObserve&&_.isFunction(this.fixedChangeCallback)&&this.cloneTop&&this.fixedChangeCallback({ecPageId:this.ecPageId,ecContainerId:this.ecContainerId,fixedDisplay:!0,changeType:"scroll",top:this.cloneTop?this.cloneTop.style.top:null,width:this.cloneTop?this.cloneTop.style.width:null}))):(this.moveTop=!1,this.toggleTopArea(this.fixOptions.table),this.isFixedChange&&(this.isFixedChange=!1,this.useFixedChangeObserve&&_.isFunction(this.fixedChangeCallback)&&this.fixedChangeCallback({ecPageId:this.ecPageId,ecContainerId:this.ecContainerId,fixedDisplay:!1,changeType:"scroll"})))),u=this.isFixCustomSchedule?this.getLeftPosition()>=t.left:this.layer.offsetLeft>=t.left,u){if(this.moveLeft=!0,this.toggleLeftArea(this.fixOptions.table),this.cloneLeft){this.cloneLeft.style.top=Math.max(this.fixOptions.titleTop+this.fixOptions.titleHeight,t.top)+"px";this.moveTop?$(this.cloneLeftTable).offset({top:t.top}):$(this.cloneLeftTable).offset({top:Math.max(this.fixOptions.titleTop+this.fixOptions.titleHeight,t.top)});var e=this.fixOptions.contents.getBoundingClientRect(),o=this.fixOptions.table.getBoundingClientRect(),f=o.top-e.top;this.cloneLeft.style.height=f>0?this.fixOptions.contents.clientHeight-f+"px":this.fixOptions.contents.clientHeight+"px"}}else this.cloneTopToolbar&&this.cloneTopToolbar.children.length>0&&_.each(this.cloneTopToolbar.children,function(n){n.style.left=n.classList.contains("pull-right")?null:"0px"}.bind(this)),this.moveLeft=!1,this.toggleLeftArea(this.fixOptions.table);this.cloneTop&&this.cloneLeft&&(this.moveTop||this.moveLeft)&&this.toggleCornerArea(this.fixOptions.table)}},toggleLeftArea:function(){this.moveLeft?this.moveLeftChanged||(this.setCloneLeft(),this.cloneLeft&&(this.cloneLeft.classList.remove("hidden"),this.moveTop&&this.cloneTop&&(this.cloneLeft.style.top=this.cloneTop.style.top)),this.moveLeftChanged=!0,this.moveRightChanged=!1):this.moveRightChanged||(this.cloneLeft&&this._removeCloneLeft(),this.cloneCorner&&this._removeCloneCorner(),this.moveLeftChanged=!1,this.moveRightChanged=!0)},toggleTopArea:function(n,t,i){var r,u;this.moveTop?this.moveTopChanged||(u=this.setCloneTop(),this.hasTopToolbar&&u?(r=this.toggleTopToolbar(this.moveTop,this.fixOptions.table,i),r.style.top=this.fixOptions.titleTop+this.fixOptions.titleHeight+"px",this.isFixCustomSchedule&&(r.style.top=this.fixOptions.contents.getBoundingClientRect().top+"px"),this.cloneTopToolbar&&this.cloneTopToolbar.classList.remove("hidden")):(r=this.fixOptions.title,r.style.top=this.fixOptions.titleTop+"px"),this.cloneTop&&(this.cloneTop.style.top=!this.isFixCustomSchedule||this.hasTopToolbar&&u?_.parseInt(r.style.top)+r.offsetHeight+"px":this.fixOptions.contents.getBoundingClientRect().top+"px",this.cloneTop.classList.remove("hidden"),this.freeSizeWidth&&(this.cloneTopTable.style.width=n.offsetWidth+"px")),this.cloneLeft&&this.cloneTop&&(this.cloneLeft.style.top=this.cloneTop.style.top,this.cloneLeftTable.style.position="relative"),this.moveTopChanged=!0,this.moveBottomChanged=!1,this.isFixedChange=!0):this.moveBottomChanged||(this.hasTopToolbar&&(this.toggleTopToolbar(this.moveTop,this.fixOptions.table,i),this.cloneTopToolbar&&this.cloneTopToolbar.classList.add("hidden")),this.cloneTop&&this._removeCloneTop(),this.cloneCorner&&this._removeCloneCorner(),this.cloneLeftTable&&(this.cloneLeftTable.style.position=""),this.moveTopChanged=!1,this.moveBottomChanged=!0,this.isFixedChange=!0)},toggleCornerArea:function(n){var t=0;(this.moveTop||this.moveLeft)&&(this.cloneCorner&&this._removeCloneCorner(),this.setCloneCorner(),this.cloneCorner&&(this.hasTopToolbar&&(t=parseInt(this.cloneTopToolbar.style.top,10)+parseInt(this.cloneTopToolbar.offsetHeight,10)+"px"),this.cloneCorner.classList.remove("hidden"),this.cloneCorner.style.top=this.moveTop&&this.cloneTop?this.cloneTop.style.top:n.getBoundingClientRect().top+t+"px"))},toggleTopToolbar:function(n){var t=this.cloneTopToolbar,i=this.getLeftPosition();return n?(t.style.orgCssText=t.style.cssText,t.style.cssText="",t.style.left=(this.isPopup?i+1:i)+"px",t.classList.add("grid-toolbar-clone"),this.isFixCustomSchedule&&(t.style.width=this.fixOptions.contents.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px",t.style.paddingLeft="0px"),t.children.length>0&&_.each(t.children,function(n){n.style.position="relative"})):(t.style.cssText=t.style.orgCssText,t.style.width=this.fixOptions.topToolbarWidth,t.classList.remove("grid-toolbar-clone"),t.children.length>0&&_.each(t.children,function(n){n.style.position=""})),t},onClickMenuToggle:function(){if(this.cloneTop||this.cloneLeft){var n=function(n,t,i,r){n&&(t&&(n.style.left=t),this.isFixCustomSchedule||(n.style.paddingLeft=i?i:null),this.moveTop===!0&&r&&(n.style.width=r))}.bind(this);this.cloneTopToolbar&&n(this.cloneTopToolbar,"auto","0px",this.cloneTopToolbar.offsetWidth+"px");n(this.cloneTop,"auto","0px","auto");n(this.cloneLeft,"auto","0px");n(this.cloneCorner,"auto","0px");ecount.global.setTimeout(this.ecPageId,function(){var f=this.moveLeft?this.cloneTop:this.fixOptions.table,i=this.fixOptions.table.getBoundingClientRect(),t=f&&f.getBoundingClientRect().left,u=this.isFixCustomSchedule?0:5,e=this.isFixCustomSchedule?0:4,r;isNaN(t)||(t=t-u);this.cloneTopToolbar&&(r=i.right-this.cloneTopToolbar.getBoundingClientRect().left+u,n(this.cloneTopToolbar,t+e+"px",null,r+"px"));r=this.fixOptions.table.offsetWidth+u;this.cloneLeft&&(this.cloneLeft.style.top=Math.max(this.fixOptions.titleTop+this.fixOptions.titleHeight,i.top)+"px",this.moveTop?$(this.cloneLeftTable).offset({top:i.top}):$(this.cloneLeftTable).offset({top:Math.max(this.fixOptions.titleTop+this.fixOptions.titleHeight,i.top)}));n(this.cloneTop,t+"px",null,r+"px");n(this.cloneLeft,t+"px");n(this.cloneCorner,t+"px")}.bind(this),250)}},resetCloneLeft:function(){this.cloneLeft&&(this._removeCloneLeft(),this.setCloneLeft(),this.cloneLeft.classList.remove("hidden"),this.moveTop&&this.cloneTop&&(this.cloneLeft.style.top=this.cloneTop.style.top))},setColumnVisibility:function(n,t){var h,u,r,f,e,o,i,s;if(this.cloneTop){for(h=t?"removeClass":"addClass",u=this.cloneTop.querySelectorAll("th[data-columnid='"+n+"']"),i=0;i<u.length;i++){if(r=u[i],r.isMergedCell||r.isOnlyDataColumn&&r.isOnlyDataColumn())return!1;$(r)[h]("hide")}if(f=this.fixOptions.table.getBoundingClientRect(),this.fixOptions.table.offsetHeight>0){for(e=0,o=this.cloneTopTable.querySelectorAll("col"),i=0;i<o.length;i++)s=o[i],s.classList.contains("hide")||(e+=Number(s.style.width.replace("px","")));this.cloneTop.style.width=this.fixOptions.titleRight-ecount.gridV2.view.util.getScrollbarWidth()>f.right?f.right-this.cloneTop.getBoundingClientRect().left+"px":this.isFixCustomSchedule?this.fixOptions.contents.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px":this.fixOptions.title.offsetWidth-ecount.gridV2.view.util.getScrollbarWidth()+"px";this.cloneTopTable.style.width=e+"px"}}},_removeCloneTop:function(){this.cloneTop&&this.cloneTop.parentNode&&this.cloneTop.parentNode.removeChild(this.cloneTop);this.cloneTop=null},_removeCloneLeft:function(){this.cloneLeft&&this.cloneLeft.parentNode&&this.cloneLeft.parentNode.removeChild(this.cloneLeft);this.cloneLeft=null},_removeCloneCorner:function(){this.cloneCorner&&this.cloneCorner.parentNode&&this.cloneCorner.parentNode.removeChild(this.cloneCorner);this.cloneCorner=null},_removeCloneTopToolbar:function(){this.cloneTopToolbar&&this.cloneTopToolbar.parentNode&&this.cloneTopToolbar.parentNode.removeChild(this.cloneTopToolbar);this.cloneTopToolbar=null}});ecount.class("ecount.gridV3.modules.editLayer",null,{init:function(n){(this.systemColumnWidth=50,this.rightMargin=20,this.defaultDatas=n||{},this.viewLayerDefaultClassName="grid-input-data-view",this.editLayerDefaultClassName="grid-input-data-edit",this.parentElement=this.defaultDatas.layer.querySelector(n.parentElementSelector),this.parentElement)&&(this.scrollContainer=n.scrollContainer,this.header=this.defaultDatas.layer.querySelector(n.headerElementSelector),this.contents=this.defaultDatas.layer.querySelector(n.contentsElementSelector),this.queue=[],this.isCaching=!0,this.util=ecount.gridV3.modules.util,this.resetActive())},render:function(){},destroyAll:function(){delete this.util},createLayer:function(){this.$layerContainer=$("<div class='hide grid-input-holder edit_container '><div id='view' class='grid-input-data-view'><\/div><div id='edit' class='grid-input-data-edit'><\/div><\/div>");this.layerContainer=this.$layerContainer[0];this.$editLayer=this.$layerContainer.find("#edit");this.editLayer=this.$editLayer[0];this.$viewLayer=this.$layerContainer.find("#view");this.viewLayer=this.$viewLayer[0];this.queue.push(this.layerContainer)},removeLayer:function(){for(var t,i,n=this.queue.length-1;n>-1;n--)t=this.queue[n],i=t.parentElement,i&&i.removeChild(t),this.queue.splice(n,1)},showLayer:function(){this.layerContainer.classList.remove("hide")},hideLaye:function(){this.layerContainer.classList.add("hide")},getLayerContainerElement:function(){return this.layerContainer},get$LayerContainerElement:function(){return this.$layerContainer},getViewLayerElement:function(){return this.viewLayer},get$ViewLayerElement:function(){return this.$viewLayer},getEditLayerElement:function(){return this.editLayer},get$EditLayerElement:function(){return this.$editLayer},getControlElement:function(){return this.editLayer.children[0]},get$ControlElement:function(){return this.$editLayer.children()},active:function(n,t,i){this.activeSectionType=n;this.activeColumnId=t;this.activeRowId=i},deactive:function(){this.resetActive()},resetActive:function(){this.activeSectionType=null;this.activeColumnId=null;this.activeRowId=null},isActive:function(n,t,i){return this.activeSectionType==n&&this.activeColumnId==t&&this.activeRowId==i},isViewMode:function(){return this.layerContainer.classList.contains("view-state")},showViewLayer:function(){this.layerContainer.classList.add("view-state");this.$viewLayer.removeClass("hide")},hideViewLayer:function(){this.layerContainer.classList.remove("view-state");this.$viewLayer.addClass("hide")},showEditLayer:function(){this.layerContainer.classList.add("edit-state");this.$viewLayer.addClass("hide")},hideEditLayer:function(){this.layerContainer.classList.remove("edit-state");this.$viewLayer.removeClass("hide")},getMode:function(){return this.layerContainer.classList.contains("edit-state")?"edit":this.layerContainer.classList.contains("view-state")?"view":""},initViewLayerClassList:function(){this.viewLayer.className=this.viewLayerDefaultClassName},removeViewLayerClassList:function(n){n.some(function(n){if(n=="")return!1;this.viewLayer.classList.remove(n)}.bind(this))},addViewLayerClassList:function(n){n.some(function(n){if(n=="")return!1;this.viewLayer.classList.add(n)}.bind(this))},showByTargetElement:function(n){var t=this.util.findParentElementByTagName(n,/T[DH]/),i;if(!t||(i=this.util.findParentElementByTagName(t,/T(HEAD|BODY|FOOT)/),!i))return this.resetActive(),!1;this.moveContainerPositionByTargetElement(n);this.layerContainer.parentElement||this.parentElement.appendChild(this.layerContainer)},setTopPosition:function(n){this.layerContainer.style.top=n+"px"},moveTopPosition:function(n){var n=parseFloat(this.layerContainer.style.top)+n;this.setTopPosition(n)},setLeftPosition:function(n){this.layerContainer.style.left=n+"px"},moveLeftPosition:function(n){var n=parseFloat(this.layerContainer.style.left)+n;this.setLeftPosition(n)},setWidth:function(n){this.layerContainer.style.width=n+"px"},setHeight:function(n){this.layerContainer.style.height=n+"px"},scrollIntoView:function(n){var t=n.getBoundingClientRect();(t.width!=0||t.height!=0)&&(t.right>this.contentsRect.right-this.contentsRect.width*.1?(ecount.gridV3.logger.log("editLayer scrollIntoView right"),this.$layerContainer.addClass("invisible"),this.scrollContainer.scrollLeft+=this.contentsRect.width*.25,this.$layerContainer.removeClass("invisible")):t.left<this.contentsRect.left+this.contentsRect.width*.1&&(ecount.gridV3.logger.log("editLayer scrollIntoView left"),this.$layerContainer.addClass("invisible"),this.scrollContainer.scrollLeft-=this.contentsRect.width*.25,this.$layerContainer.removeClass("invisible")))},moveContainerPositionByTargetElement:function(n){var t=this.util.findParentElementByTagName(n,/T[DH]/),i;return t?(i=this.util.findParentElementByTagName(t,/T(HEAD|BODY|FOOT)/),!i)?(this.resetActive(),!1):(this.setWidth(t.clientWidth),this.setHeight(t.clientHeight),this.setTopPosition(t.offsetTop+t.clientTop),this.setLeftPosition(t.offsetLeft),!0):(this.resetActive(),!1)},hide:function(){this.layerContainer.classList.add("hide");this.setTopPosition(-5e3);this.setLeftPosition(-5e3)},focusout:function(){this.$layerContainer.find(document.activeElement).blur()},detachEditLayerChildElement:function(){this.editLayer.children.length>0&&this.editLayer.removeChild(this.editLayer.children[0])},detachViewLayerChildElement:function(){this.viewLayer.children.length>0&&this.viewLayer.removeChild(this.viewLayer.children[0])}});ecount.gridV3.modules.clipboard=$.Class(ecount.clipboard,{value:null,columns:null,arrByLines:[],columnPropertyList:[],bindEvent:null,gridResult:null,firstSetting:!0,isFixedType:!1,failList:[],successList:[],currentColumnId:null,currentRowKey:null,columnProperty:null,exceptColumnCounter:0,columnNameIdx:{},lineFeedKeyword:"Ecount|ECOUNT|ecount",noLineFeedKeyword:String.fromCharCode(13),init:function(){},setOptions:function(n){this.setColumns(n.columnInfo);this.currentColumnId=n.columnId;this.currentRowKey=n.rowKey;this.exceptColumnCounter=n.exceptColumnCounter;this.lineFeedKeyword=n.clipboardKeyword?n.clipboardKeyword:this.lineFeedKeyword},render:function(){},destroy:function(){this._super.destroy()},reset:function(){this.value=null;this.columns=null;this.arrByLines=[];this.columnPropertyList=[];this.bindEvent=null;this.gridResult=null;this.firstSetting=!0;this.isFixedType=!1;this.failList=[];this.successList=[];this.currentColumnId=null;this.currentRowKey=null;this.columnProperty=null;this.exceptColumnCounter=0;this.columnNameIdx={}},executeEvent:function(){},setValue:function(){},setGridResult:function(){this.gridResult={correctColumns:null,incorrectColumns:null,rowData:[],success:!1,failCause:null,firstSetting:!1,currentColumnId:null,currentRowKey:null,columnIdList:[]}},getValue:function(){return this.setGridResult(),this.value=ecount.clipboard.prototype.getValue.apply(this,arguments),this.splitNewline(),this.setRowData(),this.gridResult},setColumns:function(n){this.columns=n},splitNewline:function(){var t=new RegExp(this.lineFeedKeyword),i,n,r;if(this.arrByLines=this.value.split(t),i=!0,this.arrByLines.length==1&&(t=new RegExp(this.noLineFeedKeyword),this.arrByLines=this.value.split(t),i=!1),this.arrByLines.length==1)this.arrByLines=this.value.split(/\r\n|\n/);else for(n=0,r=this.arrByLines.length;n<r;n++)n==0&&(this.arrByLines[n]="\n"+this.arrByLines[n]),this.arrByLines[n]=i?this.arrByLines[n].trim(/\r\n|\n/).slice(0,-1):this.arrByLines[n].trim(/\r\n|\n/);this.arrByLines[this.arrByLines.length-1]==""&&this.arrByLines.pop()},setColumnPropertyList:function(){for(var i,n=0,t=this.columns.length;n<t;n++)i=this.columns[n].propertyName||"A"+n,this.columnPropertyList.push(i)},validateColumnName:function(){var u=this.arrByLines[0]&&this.arrByLines[0].trim(/\r\n|\n/).split("\t")||"",e,o,n={},r,s,i,f,t,h;for(n.returnValue=u.length>0?!0:!1,n.correctCounter=0,n.incorrectCounter=0,r=0,s=u.length;r<s;r++){for(i=u[r],f=!1,t=0,h=this.columns.length-this.exceptColumnCounter;t<h;t++)if(e=this.columns[t].title,o=ecount.common.isTrue(this.columns[t].isHideColumn),e==i&&!o){f=!0;this.columnNameIdx[i]=t;break}f==!1?(this.failList.push(i),n.returnValue=!1,n.incorrectCounter++):(this.successList.push(i),n.correctCounter++)}return n},setFirstSetting:function(){var r=this.validateColumnName(),s=this.columns.filter(function(n){return!ecount.common.isTrue(n.isHideColumn)}),u,f,e,o,t,n,i;if(r.returnValue===!0){if(this.arrByLines&&this.arrByLines.length>=0){for(t=this.arrByLines[0].trim(/\r\n|\n/).split("\t"),u=[],n=0,i=t.length;n<i;n++)f=this.columnNameIdx[t[n]],e=this.columns[f]&&this.columns[f].propertyName,e&&u.push(e);this.columnProperty=u;this.gridResult.success=!0}}else if(r.correctCounter==0)if(s.length-this.exceptColumnCounter>=r.incorrectCounter){if(this.arrByLines&&this.arrByLines.length>=0){for(o=[],t=this.arrByLines[0].trim(/\r\n|\n/).split("\t"),n=0,i=t.length;n<i;n++)o.push(s[n].propertyName);this.arrByLines.splice(0,0,o);this.columnProperty=this.arrByLines[0];this.gridResult.success=!0}}else this.gridResult.failCause="excess";else this.gridResult.failCause="partial error"},setRowData:function(){var i,u,n,r,t,f;if(this.firstSetting===!0)for(this.setFirstSetting(),this.gridResult.correctColumns=this.successList,this.gridResult.incorrectColumns=this.failList,this.gridResult.firstSetting=!0,typeof this.columnProperty=="string"&&(this.columnProperty=this.columnProperty.trim(/\r\n|\n/).split("\t")),i=1,u=this.arrByLines.length;i<u;i++)if(n=null,r={},n=this.arrByLines[i],typeof n=="string"&&(n=n.split("\t")),this.columnProperty&&$.isArray(this.columnProperty)==!0&&this.columnProperty.length>0)if(this.columnProperty.length<=n.length){for(t=0,f=this.columnProperty.length;t<f;t++)n[t]=n[t].replace(/[\s\S]*\n[\s\S]*/g,this.replaceFunc),r[this.columnProperty[t]]=n[t];this.gridResult.rowData.push(r)}else this.gridResult.rowData=[],this.gridResult.success=!1,this.gridResult.failCause="incorrect form";return this.gridResult},replaceFunc:function(n){var t;return t=n.slice(1,-1),t.replace(/""/g,'"')},destroyAll:function(){}});ecount.class("ecount.gridV3.modules.print",null,{init:function(n){n=n||{};this.constValue=ecount.grid.constValue;this.pageInfo=[];this.printPages=[];this.moveScrollTop=0;this.currentPrintPage=0;this.typeSpecTranMaxWidth=0;this.formType=n.formType;this.container=n.container;this.renderType=n.renderType;this.isRequireImage=n.isRequireImage;this.hasDetailGrid=n.hasDetailGrid;this.useTableCutLine=n.useTableCutLine;this.gridCountPerPage=n.gridCountPerPage;this.tableCutLinePosition=n.tableCutLinePosition;this.gridDuplicate=n.gridDuplicate;this.secondTablePosition=n.secondTablePosition;this.isOverScrollHeight=!1;this.isInitailizeWidth=_.isBoolean(n.isInitailizeWidth)?n.isInitailizeWidth:!0;this.isInitailizeHeight=_.isBoolean(n.isInitailizeHeight)?n.isInitailizeHeight:!0;this.isNotUsePadding=_.isBoolean(n.isNotUsePadding)?n.isNotUsePadding:!1;this.autoAlignStandard=n.autoAlignStandard;this.topToolbar=n.topToolbar;this.bottomToolbar=n.bottomToolbar},render:function(n,t){this.setPrintPages(n);this.prettifyPrintableHTML(n,{isInitailize:!0,isSetWidth:this.isInitailizeWidth,isSetHeight:this.isInitailizeHeight,isNotUsePadding:this.isNotUsePadding,isHideBack:!0,autoAlignStandard:this.autoAlignStandard,completeCallback:t})},getHTML:function(){},removeColumns:function(){},getHTMLbyGrid:function(n,t,i,r){var it=new RegExp('url\\(\\\\*"[^\\)^\\\\]*\\\\*"\\)',"gi"),rt=new RegExp('\\\\*"',"gi"),w=n.setting._getSettings(),d=n.container.cloneNode(!0),et=!(t||!1),y=null,g="",o={},s={},e={},nt={},tt=!1,a=ecount.gridV2.constValue,p,b,l,c,u,f,h,v;if(i)for(u in i)if(i.hasOwnProperty(u))if(p=i[u],$.isArray(p))for(f=0,h=p.length;f<h;f++)nt[p[f]]=u,tt=!0;else $.isString(p)&&(nt[p]=u,tt=!0);for(var ut=$('<div class="wrapper-print" container-type="wrapper-print"><\/div>')[0],ft=$('<div class="page-break"><\/div>')[0],k=d.cloneNode(!0);child=k.lastChild;)k.removeChild(child),child=null;if(y=$(d).find(".grid-print-cut-line"),y=y.length>0?y[0]:null,$(d).find(".grid-wrapper-print-content").filter(function(n,t){var u=t.getAttribute("groupid"),i=u.split(ecount.delimiter),r="";if(i.length===2){if(y&&!g&&(g=(w.formOption.backupSecondTablePosition||w.formOption.secondTablePosition||w.formOption.secondTablePosition_default)+"mm"),$(t).css("top",""),/\d+_DUPLICATE/.test(i[1])&&!et)return;r=tt===!0?nt[i[0]]:i[0];o[r]||(o[r]=[]);o[r].push(t)}}),y){for(u in o)if(o.hasOwnProperty(u))for(l=null,b=null,s[u]=[],f=0,h=o[u].length;f<h;f+=2)l=ut.cloneNode(!0),l.appendChild(o[u][f]),b=o[u][f+1],b&&(l.appendChild(y.cloneNode(!0)),b.style.top=g,l.appendChild(b)),s[u].push(l)}else for(u in o)if(o.hasOwnProperty(u))for(l=null,s[u]=[],f=0,h=o[u].length;f<h;f++)l=ut.cloneNode(!0),l.appendChild(o[u][f]),s[u].push(l);if(r!==!0){for(u in s)if(s.hasOwnProperty(u)){for(c=k.cloneNode(!0),f=0,h=s[u].length;f<h;f++)c.appendChild(s[u][f]),f<h-1&&c.appendChild(ft.cloneNode(!0));v=w.layout.printIframeArea;$(v).html("");v.appendChild(c);n.render.prettifyPrintableHTML($(c),{isSetWidth:!0,isSetHeight:!0,isHideBack:!0});e[u]=c.outerHTML;a.isIE_LT11&&!a.isIE_LT9&&(e[u]=a.IE10BorderHack+e[u]);a.isIE&&$.isString(e[u])&&(e[u]=e[u].replace(it,function(n){return n.replace(rt,"")}));$(v).html("")}}else{c=k.cloneNode(!0);for(u in s)if(s.hasOwnProperty(u))for(f=0,h=s[u].length;f<h;f++)c.appendChild(s[u][f]),f<h-1&&c.appendChild(ft.cloneNode(!0));v=w.layout.printIframeArea;$(v).html("");v.appendChild(c);n.render.prettifyPrintableHTML($(c),{isSetWidth:!0,isSetHeight:!0,isHideBack:!0});e=c.outerHTML;a.isIE_LT11&&!a.isIE_LT9&&(e=a.IE10BorderHack+e);a.isIE&&$.isString(e)&&(e=e.replace(it,function(n){return n.replace(rt,"")}));$(v).html("")}return e},prettifyPrintableHTML:function(n,t){function f(){return i.pageInfo||(i.pageInfo=[]),i.pageInfo}function e(n){i.setTypeSpecTranMaxWidth=n}var i=this;t=t||{};t.isSetWidth=t.isSetWidth===!0;t.isSetHeight=t.isSetHeight===!0;t.isHideBack=t.isHideBack===!0;t.isNotUsePadding=t.isNotUsePadding===!0;t.printableSize=t.printableSize?!0:!1;t.isInitailize=t.isInitailize?!0:!1;t.marginBottom=$.isNumber(t.marginBottom)?parseInt(t.marginBottom):0;var r=typeof t.completeCallback=="function"?t.completeCallback:null,u=n.find("img");this.isRequireImage?r?ecount.common.setAdjustAbsoluteElementHeight(n,{renderType:this.renderType,formType:this.formType,$images:u,isRequireImage:!0,completeCallback:r,callbackPageInfo:f,setTypeSpecTranMaxWidth:e,isOverScrollHeight:this.isOverScrollHeight},t):ecount.common.setAdjustAbsoluteElementHeight(n,{renderType:this.renderType,formType:this.formType,$images:u,completeCallback:r,callbackPageInfo:f,setTypeSpecTranMaxWidth:e,isOverScrollHeight:this.isOverScrollHeight},t):(n.find(".wrapper-print").attr("data-rendertype",this.renderType).attr("data-formtype",this.formType),ecount.common.setAdjustAbsoluteElementHeight(n,{renderType:this.renderType,formType:this.formType,$images:u,completeCallback:r,callbackPageInfo:f,setTypeSpecTranMaxWidth:e,isOverScrollHeight:this.isOverScrollHeight},t));ecount.gridV3.logger.log("pageInfo");ecount.gridV3.logger.log(this.pageInfo)},getTopToolbarHTML:function(n,t){return this.topToolbar[n]?(this.topToolbar[n].makePrintData(t%2==0?"TOP":"TOP_DUPLICATE"),this.topToolbar[n].getTemplateData()):""},getBottomToolbarHTML:function(n,t){return this.bottomToolbar[n]?(this.bottomToolbar[n].makePrintData(t%2==0?"BOTTOM":"BOTTOM_DUPLICATE"),this.bottomToolbar[n].getTemplateData()):""},duplicateTableCutLine:function(n){var r,e,y,p,f,i,g,h,w,b,c,l,k;n.parent()&&n.parent().length!=0||(r=$("<div><\/div>"),r.append(n));var d=this.gridCountPerPage||0,nt=this.secondTablePosition,tt=this.tableCutLinePosition,a=this.gridDuplicate||1,u=n.find("div.wrapper-print");if(u.length==0&&(u=n.filter("div.wrapper-print")),u.length==0)return r&&r.length==1&&r[0].innerHTML||n[0].outerHTML;if(e=function(n){$("<div class='page-break'><\/div>").insertBefore(n)},d==1){if(a-1==0)u.each(function(n,t){var i=$(t);n==0||e(i)});else for(i=0;i<a-1;i++)u.each(function(n,t){var u=$(t),s=u.find("table#grid-main:eq(0)").attr("data-tableid"),h=this.getTopToolbarHTML(s,i+1),c=this.getBottomToolbarHTML(s,i+1),a=u.find("div.wrapper-print-content"),r=u.clone(),l=r.find("div.wrapper-print-content"),f=r.find("div.custom-top"),o=r.find("div.custom-bottom");h&&f&&f.length==1&&f.replaceWith(h);c&&o&&o.length==1&&o.replaceWith(c);i==0&&n!=0&&e(u);l.attr("groupid",l.attr("groupid")+"_DUPLICATE");r.addClass("hide");r.insertAfter(u);e(r)}.bind(this));r.find("div.wrapper-print").each(function(n,t){t.setAttribute("print-page",n+1)})}else{var v=0,it=u.length,t,o=$("<div><\/div>"),s=0;do{for(y=u.eq(v),p=y.find("table#grid-main:eq(0)").attr("data-tableid"),i=0,g=a;i<g;i++)h=t&&t.find("div.wrapper-print-content")||[],t&&h.length!=d||(s+=1,t&&o.append(t),s>2&&e(t),t=$(u.eq(0)[0].cloneNode())),w=this.getTopToolbarHTML(p,i),b=this.getBottomToolbarHTML(p,i),f=y.find("div.wrapper-print-content").clone(),c=f.find("div.custom-top"),l=f.find("div.custom-bottom"),w&&c&&c.length==1&&c.replaceWith(w),b&&l&&l.length==1&&l.replaceWith(b),i>0&&f.attr("groupid",f.attr("groupid")+"_DUPLICATE"),t.append(f),h.length%2==0?(k=$('<div class="print-half-line grid-print-cut-line"><\/div>'),k.css("top",tt+"mm"),k.insertAfter(f)):h.length%2==1&&f.css("top",nt+"mm"),t.attr("print-page",s),s>1&&(t.hasClass("hide")||t.addClass("hide"));v+=1}while(v<it);o.append(t);o.find("div.wrapper-print").length>1&&e(t);r=o}return r&&r.length==1&&r[0].innerHTML||n[0].outerHTML},setPrintPages:function(n){var i=this,t=n.filter("div.wrapper-print");t.length==0&&(t=n.find("div.wrapper-print"));t.each(function(n,t){var r=[],u=t.getAttribute("print-page");$(t).find(".grid-wrapper-print-content").filter(function(n,t){var i=t.getAttribute("groupid");i&&r.push(i)});i.printPages.push({elementObj:t,groupIdList:r});$(this).hasClass("hide")||(i.currentPrintPage=u)})},setCurrentPrintPage:function(n){if(typeof n=="number"&&this.printPages.length>0){var t=$(this.printPages[n-1].elementObj);t.length>0&&($(this.printPages[this.currentPrintPage-1].elementObj).addClass("hide"),t.removeClass("hide"),this.currentPrintPage=n)}},getPrintGridCurrentPage:function(){return this.currentPrintPage},getPrintGridPageInfo:function(n){if(typeof n=="number"&&this.printPages.length>0){var t=this.printPages[n-1];if(t)return{groupIdList:t.groupIdList}}return{groupIdList:[]}},setMoveScrollTop:function(n){this.moveScrollTop=parseInt(n)},scrollPrintTable:function(){var n=$(this.container).scrollParent().get(0),u;if(this.renderType==this.constValue.gridRenderType.salaryPayrollBookList&&n){var t=n.scrollHeight,i=Math.ceil(n.scrollTop),r=n.clientHeight;i!=0&&i!=undefined&&i!=null&&(u=0,this.pageInfo&&this.pageInfo.forEach(function(n){u=Math.max(u,n.bottomHeight-n.topHeight)}.bind(this)),this.pageInfo&&this.pageInfo.some(function(u,f,e){var o=u.el;o||(o=this.container.querySelector("[print-page='"+u.key+"']"));u.el=o;t==i+r&&t<=u.topHeight&&t+r>=u.topHeight&&(o.classList.contains("hide")?o.classList.remove("hide"):o.classList.contains("invisible")&&o.classList.remove("invisible"));this.moveScrollTop>i?t<=u.topHeight&&t+r>=u.topHeight&&ecount.global.setTimeout(this.optCommon.ecPageId,function(){n.scrollTop=this.moveScrollTop;e.length-1===f&&(this.moveScrollTop=null)}.bind(this),0):this.moveScrollTop=null}.bind(this)))}}});ecount.class("ecount.gridV3.settings",null,{init:function(n){n=n||{};this.constValue=ecount.grid.constValue;n.events&&this.setEventPageRelatedEvents(n.events);this.createTbodyShadedInstance();this.createFixInstance();this.createTreeInstance();this.createCommonInstance();this.createLayoutInstance();this.createEventInstance();this.createTableInstance();this.createFooterToolbarInstance();this.createBottomToolbarInstance();this.createFormInstance();this.createTopToolbarInstance();this.createHeaderToolbarInstance();this.createCheckboxInstance();this.createNumberingInstance();this.createRowmoveableInstance();this.createFoldColumnInstance();this.createPagingInstance();this.createRowDataApiInfoInstance();this.createTbodyColumnInstance();this.createTbodyRowDataInstance();this.createTfootColumnInstance();this.createTfootRowDataInstance();this.createTheadColumnInstance();this.createTheadRowDataInstance();this.createTheadStyleInstance();this.createEditableInstance();this.createRowInstance();this.createFootInstance();this.createDragInstance();this.createKeyboardInstance();this.createPrintInstance();this.setCellResize(!0,"width")},render:function(){},destroy:function(){},destroyCommon:function(){return this.common&&this.common.destroy(),this},destroyLayout:function(){return this.layout&&this.layout.destroy(),this},destroyTable:function(){return this.table&&this.table.destroy(),this},destroyHeader:function(){return this.header&&this.header.destroy(),this},destroyForm:function(){return this.form&&this.form.destroy(),this},destroyTheadColumns:function(){return this.theadColumns&&this.theadColumns.destroy(),this},destroyTbodyColumns:function(){return this.tbodyColumns&&this.tbodyColumns.destroy(),this},destroyTfootColumns:function(){return this.tfootColumns&&this.tfootColumns.destroy(),this},destroyRowDataApiInfo:function(){return this.rowDataApiInfo&&this.rowDataApiInfo.destroy(),this},destroyTheadRowData:function(){return this.theadRowData&&this.theadRowData.destroy(),this},destroyTheadStyle:function(){return this.theadStyle&&this.theadStyle.destroy(),this},destroyTbodyRowData:function(){return this.tbodyRowData&&this.tbodyRowData.destroy(),this},destroyTfootRowData:function(){return this.tfootRowData&&this.tfootRowData.destroy(),this},destroyEditable:function(){return this.editable&&this.editable.destroy(),this},destroyPaging:function(){return this.paging&&this.paging.destroy(),this},destroyDrag:function(){return this.drag&&this.drag.destroy(),this},destroyEvents:function(){return this.events&&this.events.destroy(),this},destroyTbodyShaded:function(){return this.tbodyShaded&&this.tbodyShaded.destroy(),this},destroyCheckbox:function(){return this.checkbox&&this.checkbox.destroy(),this},destroyRowmoveable:function(){return this.rowmoveable&&this.rowmoveable.destroy(),this},destroyFoldColumn:function(){return this.foldColumn&&this.foldColumn.destroy(),this},destroyNumbering:function(){return this.numbering&&this.numbering.destroy(),this},destroyHeaderToolbar:function(){return this.headerToolbar&&this.headerToolbar.destroy(),this},destroyFooterToolbar:function(){return this.footerToolbar&&this.footerToolbar.destroy(),this},destroyBottomToolbar:function(){return this.bottomToolbar&&this.bottomToolbar.destroy(),this},destroyRow:function(){return this.row&&this.row.destroy(),this},destroyFoot:function(){return this.foot&&this.foot.destroy(),this},destroySortable:function(){return this.sortable&&this.sortable.destroy(),this},destroyAll:function(){this.destroyCommon();this.destroyLayout();this.destroyTable();this.destroyHeader();this.destroyForm();this.destroyTheadColumns();this.destroyTbodyColumns();this.destroyTfootColumns();this.destroyRowDataApiInfo();this.destroyTheadRowData();this.destroyTheadStyle();this.destroyTbodyRowData();this.destroyTfootRowData();this.destroyEditable();this.destroyPaging();this.destroyDrag();this.destroyEvents();this.destroyTbodyShaded();this.destroyCheckbox();this.destroyRowmoveable();this.destroyFoldColumn();this.destroyNumbering();this.destroyHeaderToolbar();this.destroyFooterToolbar();this.destroyBottomToolbar();this.destroyRow();this.destroyFoot();this.destroySortable()},createCommonInstance:function(){return this.common||(this.common=ecount.gridV3.createClass("ecount.gridV3.settings.common")),this},createLayoutInstance:function(){return this.layout||(this.layout=ecount.gridV3.createClass("ecount.gridV3.settings.layout")),this},createKeyboardInstance:function(){return this.keyboard||(this.keyboard=ecount.gridV3.createClass("ecount.gridV3.settings.keyboard")),this},createTableInstance:function(){return this.table||(this.table=ecount.gridV3.createClass("ecount.gridV3.settings.table")),this},createHeaderInstance:function(){return this.header||(this.header=ecount.gridV3.createClass("ecount.gridV3.settings.header")),this},createFormInstance:function(){return this.form||(this.form=ecount.gridV3.createClass("ecount.gridV3.settings.form",{config:this})),this},createTheadColumnInstance:function(){return this.theadColumns||(this.createEventInstance(),this.theadColumns=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTheadColumn",{config:this})),this},createTbodyColumnInstance:function(){return this.tbodyColumns||(this.tbodyColumns=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTbodyColumn",{config:this})),this},createTfootColumnInstance:function(){return this.tfootColumns||(this.tfootColumns=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTfootColumn",{config:this})),this},createFixInstance:function(){return this.fix||(this.fix=ecount.gridV3.createClass("ecount.gridV3.settings.fix")),this},createRowDataApiInfoInstance:function(){return this.rowDataApiInfo||(this.rowDataApiInfo=ecount.gridV3.createClass("ecount.gridV3.settings.rowDataApiInfo",{config:this})),this},createTheadRowDataInstance:function(){return this.theadRowData||(this.createEventInstance(),this.theadRowData=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTheadRowData",{config:{common:this.common,rowDataApiInfo:this.rowDataApiInfo,column:this.theadColumns,events:this.events,paging:this.paging,shaded:this.theadShaded,checkbox:this.checkbox,rowmoveable:this.rowmoveable,foldColumn:this.foldColumn,numbering:this.numbering,fix:this.fix}})),this},createTheadStyleInstance:function(){return this.theadStyle||(this.theadStyle=ecount.gridV3.createClass("ecount.gridV3.settings.theadStyle")),this},createTbodyRowDataInstance:function(){return this.tbodyRowData||(this.createEventInstance(),this.tbodyRowData=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTbodyRowData",{config:this})),this},createTfootRowDataInstance:function(){return this.tfootRowData||(this.createEventInstance(),this.tfootRowData=ecount.gridV3.createClass("ecount.gridV3.settings.sectionTfootRowData",{config:this})),this},createEditableInstance:function(){return this.editable||(this.editable=ecount.gridV3.createClass("ecount.gridV3.settings.editable")),this},createPagingInstance:function(){return this.paging||(this.paging=ecount.gridV3.createClass("ecount.gridV3.settings.paging",{config:this})),this},createDragInstance:function(){return this.drag||(this.drag=ecount.gridV3.createClass("ecount.gridV3.settings.drag",{config:this})),this},createEventInstance:function(){return this.events||(this.events=ecount.gridV3.createClass("ecount.gridV3.settings.events")),this},createTbodyShadedInstance:function(){return this.tbodyShaded||(this.tbodyShaded=ecount.gridV3.createClass("ecount.gridV3.settings.shaded",{config:this})),this},createCheckboxInstance:function(){return this.checkbox||(this.checkbox=ecount.gridV3.createClass("ecount.gridV3.settings.checkbox",{config:this})),this},createRowmoveableInstance:function(){return this.rowmoveable||(this.rowmoveable=ecount.gridV3.createClass("ecount.gridV3.settings.rowmoveable",{config:this})),this},createFoldColumnInstance:function(){return this.foldColumn||(this.foldColumn=ecount.gridV3.createClass("ecount.gridV3.settings.foldColumn",{config:this})),this},createNumberingInstance:function(){return this.numbering||(this.numbering=ecount.gridV3.createClass("ecount.gridV3.settings.numbering",{config:this})),this},createTopToolbarInstance:function(){return this.topToolbar||(this.topToolbar=ecount.gridV3.createClass("ecount.gridV3.settings.topToolbar",{config:this})),this},createHeaderToolbarInstance:function(){return this.headerToolbar||(this.headerToolbar=ecount.gridV3.createClass("ecount.gridV3.settings.headerToolbar",{config:this})),this},createFooterToolbarInstance:function(){return this.footerToolbar||(this.footerToolbar=ecount.gridV3.createClass("ecount.gridV3.settings.footerToolbar",{config:this})),this},createBottomToolbarInstance:function(){return this.bottomToolbar||(this.bottomToolbar=ecount.gridV3.createClass("ecount.gridV3.settings.bottomToolbar",{config:this})),this},createRowInstance:function(){return this.row||(this.row=ecount.gridV3.createClass("ecount.gridV3.settings.row",{config:this})),this},createFootInstance:function(){return this.foot||(this.foot=ecount.gridV3.createClass("ecount.gridV3.settings.foot")),this},createSortableInstance:function(){return this.sortable||(this.sortable=ecount.gridV3.createClass("ecount.gridV3.settings.sortable")),this},createPrintInstance:function(){return this.print||(this.print=ecount.gridV3.createClass("ecount.gridV3.settings.print",{config:this})),this},createMatrixStateInstance:function(){return this.matrixState||(this.matrixState=ecount.gridV3.createClass("ecount.gridV3.settings.matrixState")),this},createResizeInstance:function(){return this.resize||(this.resize=ecount.gridV3.createClass("ecount.gridV3.settings.resize")),this},createTreeInstance:function(){this.tree||(this.tree=ecount.gridV3.createClass("ecount.gridV3.settings.tree"))},createTheadSearchInstance:function(){this.theadSearch||(this.theadSearch=ecount.gridV3.createClass("ecount.gridV3.settings.search"))},createTbodySearchInstance:function(){this.tbodySearch||(this.tbodySearch=ecount.gridV3.createClass("ecount.gridV3.settings.search"))},createTfootSearchInstance:function(){this.tfootSearch||(this.tfootSearch=ecount.gridV3.createClass("ecount.gridV3.settings.search"))},setTheadColumns:function(n){return this.createTheadColumnInstance(),this.theadColumns.setColumns(n),this},setTheadFormData:function(n){return this.createTbodyColumnInstance(),this.setTheadFormDataParameter(null),this.theadColumns.setFormData(n),this},getTheadFormData:function(){return this.createTbodyColumnInstance(),this.theadColumns.getFormData()},setTheadFormDataById:function(n,t){return this.createTbodyColumnInstance(),this.theadColumns.setFormDataById(n,t),this},setTbodyColumns:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setColumns(n),this},setTbodyFormData:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setFormData(n),this},getTbodyFormData:function(){return this.createTbodyColumnInstance(),this.tbodyColumns.getFormData()},setTbodyFormDataById:function(n,t){return this.createTbodyColumnInstance(),this.tbodyColumns.setFormDataById(n,t),this},setTfootColumns:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setColumns(n),this},setTfootFormData:function(n){return this.createTbodyColumnInstance(),this.tfootColumns.setFormData(n),this},getTfootFormData:function(){return this.createTbodyColumnInstance(),this.tfootColumns.getFormData()},setTfootFormDataById:function(n,t){return this.createTbodyColumnInstance(),this.tfootColumns.setFormDataById(n,t),this},setTheadColumnCopyHeaderMergeInfo:function(n){return this.createTheadColumnInstance(),this.theadColumns.setCopyHeaderMergeInfo(n),this},setTheadColumnRowCustom:function(n,t){return this.createTheadColumnInstance(),this.theadColumns.setRowCustom(t),this},setTfootColumnRowCustom:function(n,t){return this.createTfootColumnInstance(),this.tfootColumns.setRowCustom(t),this},setTheadColumnFix:function(n){return this.createTheadColumnInstance(),this.theadColumns.setFix(n),this},setFixCustomOptions:function(n){return this.createTheadColumnInstance(),this.layout.setFixCustomOptions(n),this},setTheadFormType:function(n){var t="/Common/Form/GetFormView";switch(n){case this.constValue.formType.single:t="/Common/Form/GetFormView";break;case this.constValue.formType.multi:t="/SVC/Common/Form/GetXFormTab";break;default:t="/Common/Form/GetFormView"}return this.createFormInstance(),this.form.setType(n),this.setTheadFormDataUrl(t),this},setTheadFormDataUrl:function(n){return this.createFormInstance(),this.form.setDataUrl(n),this},setTheadFormDataParameter:function(n){return this.createFormInstance(),this.createTheadColumnInstance(),this.form.setDataParameter(n),this.theadColumns.setFormData(null),this},getCommonGridVersion:function(){return this.common.gridVersion},setCommonFormVersion:function(n){return this.createCommonInstance(),this.common.setFormVersion(n),this},setCommonTopBottomHTML:function(n){return this.createCommonInstance(),this.common.setTopBottomHTML(n),this},resetCommonFormOption:function(){this.tbodyRowData.maxRowCountPerGrid=null;this.tbodyRowData.standardBodyRowCountPerGrid=null;this.common.isAppearTopAreaOnlyFirst=null;this.common.appearTopAreaOnlyFirstAddBodyRowCount=null;this.common.isAppearBottomAreaOnlyLast=null;this.common.appearBottomAreaOnlyLastAddBodyRowCount=null;this.common.isAppearTopAreaOnlyFirst=null;this.common.appearTopAreaOnlyFirstAddBodyRowCount=null;this.common.isAppearBottomAreaOnlyLast=null;this.common.appearBottomAreaOnlyLastAddBodyRowCount=null;this.common.tableCutLinePosition=null;this.common.useTableCutLine=null;this.common.secondTablePosition=null;this.common.topMargin=null;this.common.bottomMargin=null;this.common.leftMargin=null;this.common.rightMargin=null;this.common.pageWidth=null;this.common.pageHeight=null;this.common.pageWay=null;this.common.gridCountPerPage=null;this.common.useTop=null;this.common.topOnly=null;this.common.useBody=null;this.common.useBottom=null;this.tbodyRowData.removeEmptyLine=null;this.table.borderRemoveVertical=null;this.table.borderRemoveHorizontal=null;this.table.borderRemoveAll=null;this.common.gridDuplicate=null;this.common.prefixIdIdx=null;this.common.isIncludeHeaderRowDataLength=null;this.common.isIgnoreResponsiveApplyType=null;this.theadStyle.styleFontSize=null;this.theadStyle.styleFontBold=null;this.theadStyle.styleFontItalic=null;this.theadStyle.styleFontStrike=null;this.theadStyle.styleFontUnderline=null;this.theadStyle.styleFontAlign=null;this.theadStyle.styleFontVAlign=null;this.theadStyle.showHeaderWithDetail=null;this.foot.styleFontSize=null;this.foot.styleFontBold=null;this.foot.styleFontItalic=null;this.foot.styleFontStrike=null;this.foot.styleFontUnderline=null;this.foot.styleFontAlign=null;this.foot.styleFontVAlign=null;this.foot.styleFont=null;this.foot.styleFontColor=null;this.foot.styleFontBgColor=null;this.foot.styleCellBgColor=null;this.theadColumns.formOption||(this.theadColumns.formOption={});this.theadColumns.formOption.isShowPageNo=null;this.table.marginLeft=null;this.table.borderColor=null},setCommonFormOption:function(n){var t,i,r;n=n||{};this.tbodyRowData.maxRowCountPerGrid===null&&(t=$.isNumber(n.bodyRowCnt)?$.parseNumber(n.bodyRowCnt):this.tbodyRowData.bodyRowCount_default,this.setTbodyRowMaxRowCountPerGrid(t),t>0&&this.setFixColumn(0));this.tbodyRowData.standardBodyRowCountPerGrid===null&&($.isNumber(n.standardBodyRowCountPerGrid)&&(t=$.parseNumber(n.standardBodyRowCountPerGrid)),this.setTbodyRowStandardBodyRowCountPerGrid(t));ecount.common.isTrue(n.useTop)&&ecount.common.isFalse(n.TB_TOP_ATCL_USE_TF)&&this.common.isAppearTopAreaOnlyFirst===null&&this.common.appearTopAreaOnlyFirstAddBodyRowCount===null&&(ecount.common.isBoolean(n.useTop)?(t=ecount.common.isTrue(n.topFirst),i=n.topRowCnt||0):(t=this.common.isAppearTopAreaOnlyFirst_default,i=this.common.appearTopAreaOnlyFirstAddBodyRowCount_default),this.setCommonAppearTopAreaOnlyFirst(t,i));ecount.common.isTrue(n.useBottom)&&ecount.common.isFalse(n.TB_BTTM_ATCL_USE_TF)&&this.common.isAppearBottomAreaOnlyLast===null&&this.common.appearBottomAreaOnlyLastAddBodyRowCount===null&&(ecount.common.isBoolean(n.useBottom)?(t=ecount.common.isTrue(n.bottomLast),i=n.bottomRowCnt||0):(t=this.common.isAppearBottomAreaOnlyLast_default,i=this.common.appearBottomAreaOnlyLastAddBodyRowCount_default),this.setCommonAppearBottomAreaOnlyLast(t,i));ecount.common.isFalse(n.topFirst)&&ecount.common.isFalse(n.bottomLast)&&this.common.isAppearTopAreaOnlyFirst===null&&this.common.appearTopAreaOnlyFirstAddBodyRowCount===null&&this.common.isAppearBottomAreaOnlyLast===null&&this.common.appearBottomAreaOnlyLastAddBodyRowCount===null&&(ecount.common.isTrue(n.TB_TOP_ATCL_USE_TF)||ecount.common.isTrue(n.TB_BTTM_ATCL_USE_TF)?(this.setCommonAppearToolbar(this.constValue.appearToolbar.all),this.setCommonAppearTopAreaOnlyFirstAddBodyRowCount(n.topRowCnt),this.setCommonAppearBottomAreaOnlyLastAddBodyRowCount(n.bottomRowCnt)):(ecount.common.isTrue(n.useTop)?(this.setCommonAppearToolbar(this.constValue.appearToolbar.onlyTopFirstTable),this.setCommonAppearTopAreaOnlyFirstAddBodyRowCount(n.topRowCnt)):(this.setCommonAppearToolbar(this.constValue.appearToolbar.none),this.setCommonAppearTopAreaOnlyFirstAddBodyRowCount(n.topRowCnt)),ecount.common.isTrue(n.useBottom)?(this.setCommonAppearToolbar(this.constValue.appearToolbar.onlyBottomLastTable),this.setCommonAppearBottomAreaOnlyLastAddBodyRowCount(n.bottomRowCnt)):(this.setCommonAppearToolbar(this.constValue.appearToolbar.none),this.setCommonAppearBottomAreaOnlyLastAddBodyRowCount(n.bottomRowCnt))));this.common.tableCutLinePosition===null&&(t=$.isNumber(n.dotLineHeight)?$.parseNumber(n.dotLineHeight):this.common.tableCutLinePosition_default,this.setCommonTableCutLinePosition(t));this.common.useTableCutLine===null&&(t=$.isEmpty(n.dottedlineYn)?this.common.useTableCutLine_default:ecount.common.isTrue(n.dottedlineYn),this.setCommonUseTableCutLine(t));this.common.secondTablePosition===null&&(t=$.isNumber(n.tMarginTwo)?$.parseNumber(n.tMarginTwo):this.common.secondTablePosition_default,this.setCommonSecondTablePosition(t));this.common.topMargin===null&&(t=$.isEmpty(n.tMargin)?this.common.topMargin_default:n.tMargin||0,this.setCommonTopMargin($.isNumber(t)?parseFloat(t||0):0));this.common.bottomMargin===null&&(t=$.isEmpty(n.bMargin)?this.common.bottomMargin_default:n.bMargin||0,this.setCommonBottomMargin($.isNumber(t)?parseFloat(t||0):0));this.common.leftMargin===null&&(t=$.isEmpty(n.lMargin)?this.common.leftMargin_default:n.lMargin||0,this.setCommonLeftMargin($.isNumber(t)?parseFloat(t||0):0));this.common.rightMargin===null&&(t=$.isEmpty(n.rMargin)?this.common.rightMargin_default:n.rMargin||0,this.setCommonRightMargin($.isNumber(t)?parseFloat(t||0):0));this.common.pageWidth===null&&(t=$.isEmpty(n.width)?this.common.pageWidth_default:n.width||0,this.setCommonPageWidth($.isNumber(t)?parseFloat(t||0):0));this.common.pageHeight===null&&(t=$.isEmpty(n.height)?this.common.pageHeight_default:n.height||0,this.setCommonPageHeight($.isNumber(t)?parseFloat(t||0):0));this.common.pageWay===null&&(t=n.printWay?n.printWay:this.common.pageWay_default,this.setCommonPageWay(t));this.common.gridCountPerPage===null&&(t=$.isEmpty(n.sheetYn)?this.common.gridCountPerPage_default:!ecount.common.isTrue(n.sheetYn),this.setCommonMultipleGridPerPage(t));this.common.useTop===null&&(t=$.isEmpty(n.useTop)?this.common.useTop_default:ecount.common.isTrue(n.useTop),this.setCommonUseTop(t));this.common.topOnly===null&&(t=$.isEmpty(n.onlyTopUseYn)?this.common.topOnly_default:ecount.common.isTrue(n.onlyTopUseYn),this.setCommonTopOnly(t));this.common.useBody===null&&(t=$.isEmpty(n.useBody)?this.common.useBody_default:ecount.common.isTrue(n.useBody),this.setCommonUseBody(t));this.common.useBottom===null&&(t=$.isEmpty(n.useBottom)?this.common.useBottom_default:ecount.common.isTrue(n.useBottom),this.setCommonUseBottom(t));this.tbodyRowData.removeEmptyLine===null&&(t=$.isEmpty(n.otherViewYn)?this.tbodyRowData.removeEmptyLine_default:ecount.common.isTrue(n.otherViewYn),this.setTbodyRowRemoveEmptyLine(t));this.table.borderRemoveVertical===null&&(t=$.isEmpty(n.verticalViewYn)?this.table.borderRemoveVertical_default:ecount.common.isTrue(n.verticalViewYn),this.setTableStyleRemoveBorderVertical(t));this.table.borderRemoveHorizontal===null&&(t=$.isEmpty(n.horizontalViewYn)?this.table.borderRemoveHorizontal_default:ecount.common.isTrue(n.horizontalViewYn),this.setTableStyleBorderRemoveHorizontal(t));this.table.borderRemoveAll===null&&(t=$.isEmpty(n.allViewYn)?this.table.borderRemoveAll_default:ecount.common.isTrue(n.allViewYn),this.setTableStyleRemoveBorderAll(t));this.common.gridDuplicate===null&&(t=$.isEmpty(n.printNcnt)?$.isEmpty(n.isPrintTwice)?this.common.gridDuplicate_default:typeof n.isPrintTwice=="number"?n.isPrintTwice:typeof n.isPrintTwice=="boolean"?n.isPrintTwice===!0?2:1:this.common.gridDuplicate_default:typeof n.printNcnt=="number"?n.printNcnt:this.common.gridDuplicate_default,this.common.detailGridSettings||this.setCommonDuplicate(t));this.common.prefixIdIdx==null&&(t=$.isNumber(n.tempColumnCount)?n.tempColumnCount:0,this.setCommonPrefixIdIndex(t,!0));this.common.isIncludeHeaderRowDataLength===null&&(t=ecount.common.isTrue(n.TB_USE_TF)?ecount.common.isTrue(n.TB_TTL_USE_TF):this.common.isIncludeHeaderRowDataLength_default,this.setCommonIsIncludeHeaderRowDataLength(t));this.common.isIgnoreResponsiveApplyType||(ecount.grid.parent.ecount&&ecount.grid.parent.ecount.user&&ecount.grid.parent.ecount.user.RESPONSIVE_TYPE_TEMP=="W"?this.setCommonUseTableResponsive(!0):ecount.grid.parent.ecount&&ecount.grid.parent.ecount.user&&ecount.grid.parent.ecount.user.RESPONSIVE_TYPE_TEMP=="L"?this.setCommonUseTableResponsive(!1):(r=ecount.getConfig("RESPONSIVE_APPLY_TYPE"),r==="W"?this.setCommonUseTableResponsive(!0):r==="L"&&this.setCommonUseTableResponsive(!1)));$.isEmpty(n.isShowPageNo)||this.setFooterToolbarIsShowPageNo(n.isShowPageNo);$.isNumber(n.bdLMargin)&&this.setTableStyleMarginLeft(n.bdLMargin);this.theadStyle.styleFontSize===null&&(t=$.isEmpty(n.headFontSize)?this.theadStyle.styleFontSize_default:n.headFontSize,this.setTheadStyleFontSize(t));this.theadStyle.styleFontBold===null&&(t=$.isEmpty(n.headFontBold)?this.theadStyle.styleFontBold_default:ecount.common.isTrue(n.headFontBold),this.setTheadStyleFontBold(t));this.theadStyle.styleFontItalic===null&&(t=$.isEmpty(n.headFontItalic)?this.theadStyle.styleFontItalic_default:ecount.common.isTrue(n.headFontItalic),this.setTheadStyleFontItalic(t));this.theadStyle.styleFontStrike===null&&(t=$.isEmpty(n.headFontStrike)?this.theadStyle.styleFontStrike_default:ecount.common.isTrue(n.headFontStrike),this.setTheadStyleFontStrike(t));this.theadStyle.styleFontUnderline===null&&(t=$.isEmpty(n.headFontUnderline)?this.theadStyle.styleFontUnderline_default:ecount.common.isTrue(n.headFontUnderline),this.setTheadStyleFontUnderline(t));this.theadStyle.styleFontAlign===null&&(t=$.isEmpty(n.headHAlign)?this.theadStyle.styleFontAlign_default:n.headHAlign,this.setTheadStyleHorizontalAlign(t));this.theadStyle.styleFontVAlign===null&&(t=$.isEmpty(n.headVAlign)?this.theadStyle.styleFontVAlign_default:n.headVAlign,this.setTheadStyleVerticalAlign(t));this.foot.styleFontSize===null&&this.setTotalFontSize(n.totalFontSize);this.foot.styleFontBold===null&&this.setTotalFontBold(n.totalFontBold);this.foot.styleFontItalic===null&&this.setTotalFontItalic(n.totalFontItalic);this.foot.styleFontStrike===null&&this.setTotalFontStrike(n.totalFontStrike);this.foot.styleFontUnderline===null&&this.setTotalFontUnderline(n.totalFontUnderline);this.foot.styleFontAlign===null&&this.setTotalHorizontalAlign(n.totalHAlign);this.foot.styleFontVAlign===null&&this.setTotalVerticalAlign(n.totalVAlign);this.foot.styleFont===null&&this.setTotalFont(n.totalFont);this.foot.styleFontColor===null&&this.setTotalFontColor(n.totalFontColor);this.foot.styleFontBgColor===null&&this.setTotalFontBgColor(n.totalFontBgColor);this.foot.styleCellBgColor===null&&this.setTotalFontCellBgColor(n.totalFontCellBgColor);n.borderColor&&this.setTableStyleBorderColor(n.borderColor);n.showHeaderWithDetail&&this.setTheadStyleShowWithDetail(n.showHeaderWithDetail)},setTbodyRowMaxRowCountPerGrid:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setMaxRowCountPerGrid(n),this},setTbodyRowStandardBodyRowCountPerGrid:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setStandardBodyRowCountPerGrid(n),this},setCommonAppearTopAreaOnlyFirst:function(n,t){return this.createCommonInstance(),this.common.setIsAppearTopAreaOnlyFirst(n),this.common.setAppearTopAreaOnlyFirstAddBodyRowCount(t),this.setCommonAppearToolbar(n?this.constValue.appearToolbar.onlyTopFirstTable:this.constValue.appearToolbar.allTopTable),this},setCommonAppearToolbar:function(n,t){return this.createCommonInstance(),this.common.setAppearToolbar(n),this.common.setAppearToolbarDivisionValue(t),this},setCommonAppearTopAreaOnlyFirstAddBodyRowCount:function(n){return this.createCommonInstance(),this.common.setAppearTopAreaOnlyFirstAddBodyRowCount(n),this},setCommonTopOnly:function(n){return this.createCommonInstance(),this.common.setTopOnly(n),this},setCommonUseTop:function(n){return this.createCommonInstance(),this.common.setUseTop(n),this},setCommonUseBody:function(n){return this.createCommonInstance(),this.common.setUseBody(n),this},setCommonUseBottom:function(n){return this.createCommonInstance(),this.common.setUseBottom(n),this},setCommonAppearBottomAreaOnlyLast:function(n,t){return this.createCommonInstance(),this.common.setIsAppearBottomAreaOnlyLast(n),this.common.setAppearBottomAreaOnlyLastAddBodyRowCount(t),this.setCommonAppearToolbar(n?this.constValue.appearToolbar.onlyBottomLastTable:this.constValue.appearToolbar.allBottomTable),this},setCommonAppearBottomAreaOnlyLastAddBodyRowCount:function(n){return this.createCommonInstance(),this.common.setAppearBottomAreaOnlyLastAddBodyRowCount(n),this},setCommonMultipleGridPerPage:function(n){return this.createCommonInstance(),n===!0?this.common.setGridCountPerPage(2):n===!1?this.common.setGridCountPerPage(1):this.common.setGridCountPerPage(null),this},setGridTypeDetailGridSettings:function(n,t,i){var r,u;if(arguments.length===2&&$.isBoolean(arguments[1])&&(i=t,t=null),n){for($.isArray(n)||(n=[n]),r=0;r<n.length;r++)u=n[r],t=t||ecount.grid.constValue.gridRenderType.typeDetailList,u.setCommonShowDetailItems(!0),u.setCommonRenderType(t);this.createCommonInstance();this.common.setDetailGridSettings(n);this.common.setUseOuterDetailGrid(i===!0)}return this},setCommonShowDetailItems:function(n){return this.createCommonInstance(),this.common.setShowDetailItems(n===!0),this},setCommonHeaderHtmlCallback:function(n){return this.createTopToolbarInstance(),this.topToolbar.setHeaderHtmlCallback($.isFunction(n)?n:null),this},setCommonHeaderHtmlCallbackClear:function(){return this.createTopToolbarInstance(),this.topToolbar.setHeaderHtmlCallbackClear(),this},setUseTopToolbar:function(n){return this.createTopToolbarInstance(),this.topToolbar.setUse(n),this},setCommonFooterHtmlCallback:function(n){return this.createBottomToolbarInstance(),this.bottomToolbar.setFooterHtmlCallback($.isFunction(n)?n:null),this},setCommonHeaderWithDetail:function(n){return this.createCommonInstance(),this.common.setShowHeaderWithDetail(n===!0),this},setTfootRowAdjustRowHeight:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setRowTrHeightAdjust(n===!0?1:0),this},setCommonUsePaging:function(n){return this.createCommonInstance(),this.common.setUsePaging(n===!0),this},setCommonSkipSecondGridInPage:function(n){return this.createCommonInstance(),this.common.setSkipSecondGridInPage(n===!0),this},setCommonTableCutLinePosition:function(n){return this.createCommonInstance(),this.common.setTableCutLinePosition($.isNumber(n)?n:null),this},setCommonUseTableCutLine:function(n){return this.createCommonInstance(),this.common.setUseTableCutLine(n===!0),this},setCommonSecondTablePosition:function(n){return this.createCommonInstance(),this.common.setSecondTablePosition($.isNumber(n)?n:null),this},setCommonDuplicate:function(n){return this.createCommonInstance(),this.common.setGridDuplicate(n),this},setCommonUseFormPrint:function(n){return this.createCommonInstance(),this.common.setUseFormPrint(n===!0),this.setTfootRowAdjustRowHeight(n),this},setCommonIsIncludeHeaderRowDataLength:function(n){return this.createCommonInstance(),this.common.setIsIncludeHeaderRowDataLength(n===!0),this},setCommonIsRequireImage:function(n){return this.createCommonInstance(),this.common.setIsRequireImage(n===!0),this},setFreeSizeWidth:function(n){return this.createCommonInstance(),this.common.setFreeSizeWidth(n===!0),this},setTableStyleRemoveBorderVertical:function(n){return this.createTableInstance(),this.table.setStyleBorderRemoveVertical(n),this},setTableStyleBorderRemoveHorizontal:function(n){return this.createTableInstance(),this.table.setStyleBorderRemoveHorizontal(n),this},setTableStyleRemoveBorderAll:function(n){return this.table.setStyleBorderRemoveAll(n),n&&(this.table.setStyleBorderRemoveHorizontal(!1),this.table.setStyleBorderRemoveVertical(!1)),this},setTableStyleBorderColor:function(n){return n!=undefined&&$.isString(n)&&(this.createTableInstance(),this.table.setBorderColor(n)),this},setTableStyleDisableHover:function(n){return this.createTableInstance(),this.table.setDisableHover(n===!0),this},setTableStyleRestrictedTime:function(n){return this.createTableInstance(),this.table.setRestrictedTime(n===!0),this},setTableStyleMarginLeft:function(n){return this.createTableInstance(),this.table.setMarginLeft(n),this},setColumnByWidth:function(n){return this.createTheadColumnInstance(),this.theadColumns.setColumnByWidth(n),this},setTheadColumnGenerator:function(n){return this.createTheadColumnInstance(),this.theadColumns.setGenerator(n),this},setTbodyColumnGenerator:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setGenerator(n),this},setTfootColumnGenerator:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setGenerator(n),this},setColumnRepeatGenerator:function(){return this},setTbodyRowRemoveEmptyLine:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setRemoveEmptyLine(n),this},setTheadRowDatas:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setDatas(n),this},setTbodyRowDatas:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setDatas(n),this},setTfootRowDatas:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setDatas(n),this},setTheadRowDataDefaultValue:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setDefaultValue(n),this},setTbodyRowDataDefaultValue:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setDefaultValue(n),this},setTfootRowDataDefaultValue:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setDefaultValue(n),this},setTheadRowDataSample:function(n,t){return this.createTheadRowDataInstance(),this.theadRowData.setAdditionalDatas(n),this.theadRowData.setNotContainRowType(t),this},setTbodyRowDataSample:function(n,t){return this.createTbodyRowDataInstance(),this.tbodyRowData.setAdditionalDatas(n),this.tbodyRowData.setNotContainRowType(t),this},setTfootRowDataSample:function(n,t){return this.createTfootRowDataInstance(),this.tfootRowData.setAdditionalDatas(n),this.tfootRowData.setNotContainRowType(t),this},setTheadRowDataSkipRowLine:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setSkipRowLineRule(n),this},setTbodyRowDataSkipRowLine:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setSkipRowLineRule(n),this},setTfootRowDataSkipRowLine:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setSkipRowLineRule(n),this},setTbodyRowDataDetailSectionInvisible:function(n,t){return this.createTbodyRowDataInstance(),this.tbodyRowData.setDetailSectionInvisible(n,t),this},setTfootRowDataDetailSectionInvisible:function(n,t){return this.createTfootRowDataInstance(),this.tfootRowData.setDetailSectionInvisible(n,t),this},setTheadRowHeights:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setHeights(n),this},setTbodyRowHeights:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setHeights(n),this},setTfootRowHeights:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setHeights(n),this},setTheadRowInitRowIndex:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setIsInitRowIndex(n),this},setTbodyRowInitRowIndex:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setIsInitRowIndex(n),this},setTfootRowInitRowIndex:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setIsInitRowIndex(n),this},setTheadRowInitRowState:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setIsInitRowState(n),this.theadRowData.setInitRowState(ecount.grid.constValue.rowState.create),this},setTbodyRowInitRowState:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setIsInitRowState(n),this.tbodyRowData.setInitRowState(ecount.grid.constValue.rowState.create),this},setTfootRowInitRowState:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setIsInitRowState(n),this.tfootRowData.setInitRowState(ecount.grid.constValue.rowState.create),this},setTbodyRowBackgroundColor:function(n,t){return this.createTbodyRowDataInstance(),this.tbodyRowData.setBackgroundColor(n,t),this},setTheadRowEmptyRowMergeInfo:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setEmptyRowMergeInfo(n),this},setTbodyRowEmptyRowMergeInfo:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setEmptyRowMergeInfo(n),this},setTfootRowEmptyRowMergeInfo:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setEmptyRowMergeInfo(n),this},setTbodyAutoAddRowOnLastRow:function(n,t,i){return n?(this.tbodyRowData.setAutoAddRowOnLastRow(!0),this.tbodyRowData.setAutoAddRowCount(t),this.tbodyRowData.setAutoAddRowMargin(i)):(this.tbodyRowData.setAutoAddRowCount(10),this.tbodyRowData.setAutoAddRowMargin(2)),this},setTheadColumnAutoAddColumnOnLastColumn:function(n,t,i){return n?(this.theadColumns.setAutoAddColumnOnLastColumn(!0),this.theadColumns.setAutoAddColumnCount(t||2),this.theadColumns.setAutoAddColumnMargin(i||2),this.theadColumns.setAddedColumnCount(0)):this.theadColumns.setAutoAddColumnOnLastColumn(!1),this},setTbodyColumnAutoAddColumnOnLastColumn:function(n,t,i){return n?(this.tbodyColumns.setAutoAddColumnOnLastColumn(!0),this.tbodyColumns.setAutoAddColumnCount(t||2),this.tbodyColumns.setAutoAddColumnMargin(i||2),this.tbodyColumns.setAddedColumnCount(0)):this.tbodyColumns.setAutoAddColumnOnLastColumn(!1),this},setTheadColumnAddInfo:function(n){return this.createTheadColumnInstance(),this.theadColumns.setAutoAddColumnInfo(n),this},setTbodyColumnAddInfo:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setAutoAddColumnInfo(n),this},setTfootColumnAddInfo:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setAutoAddColumnInfo(n),this},setTbodyColumnMultiConvert:function(n){if(n&&n.columns)return this.createTbodyColumnInstance(),this.tbodyColumns.setMultiConvert(n),this},setTfootColumnAutoAddColumnOnLastColumn:function(n,t,i){return n?(this.tfootColumns.setAutoAddColumnOnLastColumn(!0),this.tfootColumns.setAutoAddColumnCount(t||2),this.tfootColumns.setAutoAddColumnMargin(i||2),this.tfootColumns.setAddedColumnCount(0)):this.tfootColumns.setAutoAddColumnOnLastColumn(!1),this},setMatrixStateUse:function(n){return this.createMatrixStateInstance(),this.matrixState.setUse(n),this},setTbodyRowCrossShaded:function(n,t,i){return this.createTbodyRowDataInstance(),this.tbodyRowData.setCrossShadedType(this.constValue.shadeType.multi),this.tbodyRowData.setIsCrossShadedUse(n),this.tbodyRowData.setCrossShadedMultiple(t),this.tbodyRowData.setCrossShadedCss(i),this},setTbodyRowCrossShadeByCustom:function(n,t){return this.createTbodyRowDataInstance(),this.tbodyRowData.setIsCrossShadedUse(n),this.tbodyRowData.setCrossShadedType(n?this.constValue.shadeType.custom:null),this.tbodyRowData.setCrossShadedCallback(t),this},setRowDataUrl:function(n,t){return this.createRowDataApiInfoInstance(),this.rowDataApiInfo.setURL(n,t),this},setRowDataParameter:function(n){return this.createRowDataApiInfoInstance(),this.rowDataApiInfo.setParameter(n),this},setTheadRowDataKeys:function(n){return this.createTheadRowDataInstance(),this.theadRowData.setKeys(n),this},getTheadRowDataKeys:function(){return this.createTheadRowDataInstance(),this.theadRowData.rowDataKeys},setTbodyRowDataKeys:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setKeys(n),this},getTbodyRowDataKeys:function(){return this.createTbodyRowDataInstance(),this.tbodyRowData.rowDataKeys},setTfootRowDataKeys:function(n){return this.createTfootRowDataInstance(),this.tfootRowData.setKeys(n),this},getTfootRowDataKeys:function(){return this.createTfootRowDataInstance(),this.tfootRowData.rowDataKeys},setTheadColumnPropertyNormailze:function(n){return this.createTheadColumnInstance(),this.theadColumns.setPropertyNormailze(n),this.createTheadRowDataInstance(),this.theadRowData.setPropertyNormailze(n),this},setTbodyColumnPropertyNormailze:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setPropertyNormailze(n),this.createTbodyRowDataInstance(),this.tbodyRowData.setPropertyNormailze(n),this},setTfootColumnPropertyNormailze:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setPropertyNormailze(n),this.createTfootRowDataInstance(),this.tfootRowData.setPropertyNormailze(n),this},setTheadColumnPropertyName:function(n){return this.createTheadColumnInstance(),this.theadColumns.setPropertyName(n),this},setTbodyColumnPropertyName:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setPropertyName(n),this},setTfootColumnPropertyName:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setPropertyName(n),this},setTheadColumnVisible:function(n){return this.createTheadColumnInstance(),this.theadColumns.setVisible(n===!0),this},setTheadColumnCustomCell:function(n,t){return this.createTheadColumnInstance(),this.theadColumns.setCustomCell(n,t),this},setTheadColumnDefaultValue:function(n){return this.createTheadColumnInstance(),this.theadColumns.setDefaultValue(n),this},setTbodyColumnDefaultValue:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setDefaultValue(n),this},setTfootColumnDefaultValue:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setDefaultValue(n),this},setTbodyColumnCustomCell:function(n,t){return this.createTbodyColumnInstance(),this.tbodyColumns.setCustomCell(n,t),this},setTfootColumnCustomCell:function(n,t){return this.createTfootColumnInstance(),this.tfootColumns.setCustomCell(n,t),this},setTbodyColumnColumnsAutoSetting:function(n,t){return this.createTbodyColumnInstance(),this.tbodyColumns.setIsAutoCalculate(n?!0:!1),this.tbodyColumns.setAutoCalculate(n),this.tbodyColumns.setInitAutoCalculcate(t),this},setTfootColumnRowAutoSetting:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setIsAutoCalculate(n?!0:!1),this.tfootColumns.setAutoCalculate(n),this},setTheadColumnMoveCursorType:function(n){return this.createTheadColumnInstance(),this.theadColumns.setMoveCursorType(n),this},setTbodyColumnMoveCursorType:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setMoveCursorType(n),this},setTfootColumnMoveCursorType:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setMoveCursorType(n),this},setEmptyGridMessage:function(n){return this.createCommonInstance(),this.common.setEmptyGridMessage(n),this},setCommonIsLazyInitializeOnLoad:function(){},setCommonParentPageId:function(n){return this.createCommonInstance(),this.common.setParentEcPageId(n),this},setAlreadyIncludedLayout:function(n){return this.createCommonInstance(),this.common.setAlreadyIncludedLayout(n),this},setCommonWidgetInitializer:function(n){return this.createCommonInstance(),this.common.setWidgetInitializer(n),this},setCommonWidgetCallbackId:function(n){return this.createCommonInstance(),this.common.setWidgetCallbackId(n),this},setCommonUseTableResponsive:function(n,t){return this.createCommonInstance(),this.common.setUseTableResponsive(n===!0),this.common.setIsIgnoreResponsiveApplyType(t===!0),this},setCommonSettingPanel:function(){},setCommonPrefixIdIndex:function(n,t){return this.createCommonInstance(),this.common.setPrefixIdIdx(n),this.common.setPrefixIdIdxReset(t===!0),this},setCommonPrefixRepeatColumnIndex:function(n,t){return this.createCommonInstance(),this.common.setPrefixRepeatColumnIdx(n),this.common.setPrefixRepeatColumnIdxReset(t===!0),this},setCommonPopupLevel:function(n){return this.createCommonInstance(),this.common.setPopupLevel(n),this},setCommonPopupID:function(n){return this.createCommonInstance(),this.common.setPopupId(n),this},setCommonPopupType:function(n){return this.createCommonInstance(),this.common.setPopupType(n),this},setCommonEcIKey:function(n){return this.createCommonInstance(),this.common.setEcIKey(n),this},setCommonEcPageId:function(n){return this.createCommonInstance(),this.common.setEcPageId(n),this},setCommonEcContainerName:function(n){return this.createCommonInstance(),this.common.setEcContentsName(n),this},setCommonTabId:function(n){return this.createCommonInstance(),this.common.setEcTabId(n),this},setCommonUseProgressbar:function(n){return this.createCommonInstance(),this.common.setUseLoadingProgressbar(n===!0),this},setCommonGridId:function(n){return this.createCommonInstance(),this.common.setEcContainerId(n),this},setCommonGridUniqueId:function(){},setCommonIsPossibleRenderOnLoad:function(n){return this.createCommonInstance(),this.common.setIsPossibleRenderOnLoad(n),this},setCommonColumnType:function(n){return this.createCommonInstance(),this.common.setColumnType(n),this},getCommonColumnType:function(){return this.createCommonInstance(),common.columnType},setCommonRenderType:function(n){return this.createCommonInstance(),this.common.setGridTypeRenderType(n),this},setCommonParentGridId:function(n){return this.createCommonInstance(),this.common.setParentGridId(n),this},setCommonGridType:function(n){return this.createCommonInstance(),this.common.setGridType(n||this.constValue.gridType.list),this},setCommonAutoGenerateTotalMergeUse:function(n){return this.createCommonInstance(),this.common.setUseMergeAutoGenratorTotal(n),this},setCommonParentGridEvent:function(n,t){return this.createCommonInstance(),this.common.setParentGridEvent(n),this.common.setParentGridEventArgs(t),this},setCommonTbodyClassName:function(n){return typeof n=="string"&&(n=[n]),this.createCommonInstance(),this.common.setTbodyClassName(n),this},setCommonIsHeaderFix:function(n){return this.createCommonInstance(),this.common.setIsHeaderFix(n),this},setCommonTopMargin:function(n){return this.createCommonInstance(),this.common.setTopMargin(n),this},setCommonIncludedOption:function(n){return this.createCommonInstance(),this.common.setIncludedOption(n),this},setTheadStyleCellClass:function(n){return this.createTheadStyleInstance(),this.theadStyle.cellClass=n,this},setTheadStyleFontSize:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontSize=n,this},setTheadStyleFontBold:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontBold=n===!0,this},setTheadStyleFontItalic:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontItalic=n===!0,this},setTheadStyleFontUnderline:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontUnderline=n===!0,this},setTheadStyleFontStrike:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontStrike=n===!0,this},setTheadStyleHorizontalAlign:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontAlign=n,this},setTheadStyleVerticalAlign:function(n){return this.createTheadStyleInstance(),this.theadStyle.fontVAlign=n,this},setTheadStyleShowWithDetail:function(n){return this.createTheadStyleInstance(),this.theadStyle.setShowWithDetail(n),this},setSessionCreateLocationType:function(n,t,i){if(this.createSessionInstance(),this.session.setCreateSessionLocationType(n),this.session.setLocationInfo(t==undefined||t==null?"":t),i)this.session.setSessionDomain(i);else switch(t&&t.toUpperCase()){case"F":this.session.setSessionDomain(".ecount.cn");break;default:this.session.setSessionDomain(null)}return ecount.grid.constValue.locationType.GMC==n?this.session.setSessionCreateURL("/Common/Infra/MakeGMCSession"):ecount.grid.constValue.locationType.ZONE==n&&this.session.setSessionCreateURL("/Common/Infra/MakeZONESession"),this},setSessionGMCNotUseCN:function(n){return this.createSessionInstance(),this.session.setUseGmcNotUseCN(n===!0),this},setSessionCreateURL:function(n){return this.createSessionInstance(),this.session.setCreateURL(n),this},setSessionDomain:function(n){return this.createSessionInstance(),this.session.setDomain(n),this},setSessionParameter:function(n){return this.createSessionInstance(),this.session.setParameter(n),this},setEventContainerObj:function(n){this.createEventInstance();var t,i;return n&&(n.nodeType?n.nodeType==HTMLElement.ELEMENT_NODE?(t=n,i=$(n)):n.nodeType==HTMLElement.DOCUMENT_NODE&&(t=document.body,i=$(document.body)):n instanceof $&&(t=n[0],i=n)),this.events.setBootstrapContainer(t),this.events.setBootstrapContainer$(i),this},setEventProgressBarObj:function(n){return this.createLayoutInstance(),this.layout.setProgressbar(n),this},setCheckBoxUse:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setUse(n,t),this},setCheckBoxUseMultiCheck:function(n){return this.createCheckboxInstance(),this.checkbox.setUseMultiCheck(n),this},setCheckBoxUseMultiCheckBulk:function(n){return this.createCheckboxInstance(),this.checkbox.setUseMultiCheckBulk(n),this},setCheckBoxClearChecked:function(n){return this.createCheckboxInstance(),this.checkbox.resetManage(n),this},setCheckBoxPosition:function(n){return this.createCheckboxInstance(),this.checkbox.setIndex(n),this},setCheckBoxActiveRowStyle:function(n,t,i,r){return this.createCheckboxInstance(),arguments.length==1?(t=arguments[0],n=this.constValue.checkBoxPropertyName):arguments.length<=3&&(r=arguments[2],i=arguments[1],t=arguments[0],n=this.constValue.checkBoxPropertyName),t?(i&&i.constructor==Array?this.checkbox.setManageActiveRowStyle(n,i):typeof i=="string"?this.checkbox.setManageActiveRowStyle(n,[i]):this.checkbox.setManageActiveRowStyle(n,["active"]),typeof r=="function"?this.checkbox.setManageActiveRowDeterminer(n,r):this.checkbox.setManageActiveRowDeterminer(n,null)):(this.checkbox.setManageActiveRowStyle(n,[]),this.checkbox.setManageActiveRowDeterminer(n,null)),this},setCheckBoxActiveRowDeterminer:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),typeof t=="function"?this.checkbox.setManageActiveRowDeterminer(n,t):this.checkbox.setManageActiveRowDeterminer(n,null),this},setCheckBoxHeaderStyle:function(n){return this.createCheckboxInstance(),this.checkbox.setHeaderStyle(n),this},setCheckboxOriginal:function(n){return this.createCheckboxInstance(),this.checkbox.setOriginalStyle(n===!0),this},setCheckboxDynamicCheckedList:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageIsDynamicCheckedList(n,t),this},setCheckBoxRememberChecked:function(n,t,i){return arguments.length==1?(t=arguments[0],n=this.constValue.checkBoxPropertyName,i=!1):arguments.length==2&&(i=arguments[1],t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageRememberChecked(n,t,i),this},setCheckBoxPagingRememberChecked:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManagePagingRememberChecked(n,t===!0),this},setCheckBoxMaxCount:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),t=parseInt(t),this.createCheckboxInstance(),this.checkbox.setManageCheckedMaxCount(n,t),this.checkbox.setManageFixCheckedMaxCount(n,!0),this},setCheckBoxMaxCountExceeded:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageMaxCountExceeded(n,t),this},setCheckMaxRadioMode:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setCheckMaxRadioMode(n,t),this},setCheckBoxInitialCheckedItems:function(n,t,i){return arguments.length==1?(t=arguments[0],n=this.constValue.checkBoxPropertyName):arguments.length==2&&(i=arguments[1],t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageInitialCheckedList(n,t),this.checkbox.setManageRemoveAfterRedraw(n,i),this},getCheckBoxremoveAfterRedraw:function(){return this.checkbox.removeAfterRedraw},setCheckBoxDisplayMergeType:function(n){return this.createCheckboxInstance(),this.checkbox.setDisplayMergeType(n),this},setTbodyDisplayMergeType:function(n){return this.createTbodyRowDataInstance(),this.tbodyRowData.setDisplayMergeType(n),this},setCheckBoxManageUse:function(n,t){return this.createCheckboxInstance(),this.checkbox.setManageCheckedMaxCount(n,t),this},setCheckBoxManageRememberChecked:function(n,t){return this.createCheckboxInstance(),this.checkbox.setManageRememberChecked(n,t),this},setCheckBoxCheckingDeterminer:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageCheckingDeterminer(n,t),this},setCheckBoxCountingDeterminer:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageCountingDeterminer(n,t),this},setCheckboxUseDisableCheck:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageIsUseDisableCheck(n,t),this},setCheckboxCheckCountTypeOnlyChild:function(n,t){return arguments.length==1&&(t=arguments[0],n=this.constValue.checkBoxPropertyName),this.createCheckboxInstance(),this.checkbox.setManageCheckCountTypeOnlyChild(n,t),this},setCheckBoxDisplayMergeType:function(n){return this.createCheckboxInstance(),this.checkbox.setDisplayMergeType(n),this},setPagingUse:function(n){return this.createPagingInstance(),this.paging.setUse(n),this},setPagingRowCountPerPage:function(n,t){return this.createPagingInstance(),this.paging.setRowCountPerPage(n,t),this},setPagingCurrentPage:function(n){return this.createPagingInstance(),this.paging.setCurrentPage(n),this},getPagingCurrentPage:function(){return this.createPagingInstance(),this.paging.currentPage},setPagingTotalRowCount:function(n){return this.createPagingInstance(),this.paging.setTotalRowCount(n),this},setPagingPosition:function(n){return this.createPagingInstance(),this.paging.setPosition(n),this},setEditRowMoveable:function(n,t){return this.setRowmoveableUse(n,t)},setRowmoveableUse:function(n,t){return this.createRowmoveableInstance(),this.rowmoveable.setUse(n),this.rowmoveable.setIsEventTrigger(t),this},setRowmoveableIndex:function(n){return this.createRowmoveableInstance(),this.rowmoveable.setIndex(n),this},setNumberingUse:function(n){return this.createNumberingInstance(),this.numbering.setUse(n),this},setNumberIndex:function(n){return this.createNumberingInstance(),this.numbering.setIndex(n),this},setTopHTML:function(n){return this.createTopInstance(),this.top.html=n,this},setHeaderToolbarLeftHTML:function(n){return this.createHeaderToolbarInstance(),this.headerToolbar.setLeftHTML(n),this},setHeaderToolbarRightHTML:function(n){return this.createHeaderToolbarInstance(),this.headerToolbar.setRightHTML(n),this},setHeaderToolbarCustomChild:function(n){return this.createHeaderToolbarInstance(),this.headerToolbar.setChildItems(n),this},setFooterToolbarLeftHTML:function(n){return this.createFooterToolbarInstance(),this.footerToolbar.setLeftHTML(n),this},setFooterToolbarRightHTML:function(n){return this.createFooterToolbarInstance(),this.footerToolbar.setRightHTML(n),this},setFooterToolbarIsShowPageNo:function(n){return[this.constValue.gridRenderType.typeStatusList,this.constValue.gridRenderType.typeStatusReportList].contains(this.common.renderType)&&(this.createFooterToolbarInstance(),this.createTheadColumnInstance(),this.theadColumns.formOption||(this.theadColumns.formOption={}),this.theadColumns.formOption.isShowPageNo=n,this.footerToolbar.setIsShowPageNo(n)),this},setEventPageRelatedEvents:function(n){return this.createEventInstance(),this.events.pageRelatedEvents=n,this},setEventGridRelatedEvents:function(n){return this.createEventInstance(),this.events.gridRelatedEvents=n,this},setEventBodyDelegatorObj:function(n){return this.createLayoutInstance(),this.layout.window=n==document?window:n instanceof jQuery?n[0]:n,this.setLayoutLayer(n),this},setEventBeforeKeydownEnterHandler:function(n){return this.createEventInstance(),this.events.setBeforeKeydownEnterHandler(n),this},setEventAfterKeydownEnterHandler:function(n){return this.createEventInstance(),this.events.setAfterKeydownEnterHandler(n),this},setEventBeforeKeydownTabHandler:function(n){return this.createEventInstance(),this.events.setBeforeKeydownTabHandler(n),this},setEventAfterKeydownTabHandler:function(n){return this.createEventInstance(),this.events.setAfterKeydownTabHandler(n),this},setEventBeforeKeydownArrowDownHandler:function(n){return this.createEventInstance(),this.events.setBeforeKeydownArrowDownHandler(n),this},setEventAfterKeydownArrowDownHandler:function(n){return this.createEventInstance(),this.events.setAfterKeydownArrowDownHandler(n),this},setEventBeforeKeydownArrowUpHandler:function(n){return this.createEventInstance(),this.events.setBeforeKeydownArrowUpHandler(n),this},setEventAfterKeydownArrowUpHandler:function(n){return this.createEventInstance(),this.events.setAfterKeydownArrowUpHandler(n),this},setLayoutLayer:function(n){return n=n==document?document.body:n instanceof jQuery?n[0]:n,this.createLayoutInstance(),this.layout.setLayer(n),this.setLayoutLayer$($(this.layout.layer)),this},setLayoutLayer$:function(n){return this.createLayoutInstance(),this.layout.setLayer$(n),this},setPanelContainer:function(n){return this.createLayoutInstance(),this.layout.setPanelContainer(n),this},setLayoutScrollContainer:function(n){return this.layout.scrollContainer=n,this},setLayoutHeader:function(n){return this.layout.$header=n,this},setLayoutContents:function(n){return this.createLayoutInstance(),this.layout.setContents(n),this},setLayoutContents$:function(n){return this.createLayoutInstance(),this.layout.setContents$(n),this},setLayoutContainerSelector:function(n){return this.createLayoutInstance(),this.layout.setContainerSelector(n),this},setLayoutContainer:function(n){return this.createLayoutInstance(),this.layout.setContainer(n),this},setLayoutContainer$:function(n){return this.createLayoutInstance(),this.layout.setContainer$(n),this},setImageListTypeGrid:function(n){return this.createCommonInstance(),this.createTableInstance(),n==!0?(this.common.setUseImageListTypeGrid(!0),this.table.setTableTagName("ul")):(this.common.setUseImageListTypeGrid(!1),this.table.setTableTagName("table")),this},setEditable:function(n,t,i){return this.createEditableInstance(),n?(this.editable.setUse(n),this.setCommonGridType(this.constValue.gridType.editable),typeof t=="number"?this.editable.setInitialRowCount(t):this.editable.setInitialRowCount(10),typeof i=="number"?this.editable.setInitialRowCountMargin(i):this.editable.setInitialRowCountMargin(2)):(this.setCommonGridType(this.constValue.gridType.list),this.editable.setInitialRowCount(10),this.editable.setInitialRowCountMargin(2)),this},setEditableUseViewMode:function(n){return this.createEditableInstance(),this.editable.setUseViewMode(n===!0),this},setEditableSpecialRowCount:function(n){return this.createEditableInstance(),this.editable.setSpecialRowCount(n),this},setEditalbeSpecialRowKeepControlType:function(n){return this.createEditableInstance(),this.editable.setSpecialRowKeepControlType(n===!0),this},setCommonGridStyle:function(n){var t=n==this.constValue.gridStyle.tree?!0:!1;return this.createCommonInstance(),this.common.setGridStyle(n||""),this.setCheckBoxOriginalStyle(t),this},setEditableSpecialRowMerge:function(n){return this.createEditableInstance(),$.isArray(n)?this.editable.setSpecialRowMerge(n.toArray()):this.editable.setSpecialRowMerge([]),this},setEditableLimitAddRow:function(n){return this.createEditableInstance(),this.editable.setLimitAddRow($.isNumber(n)?n:null),this},setEditableLimitAddColumn:function(n){return this.createEditableInstance(),this.editable.setLimitAddColumn($.isNumber(n)?n:null),this},setEditableLimitAddRowCallback:function(n){return this.createEditableInstance(),this.editable.setLimitAddRowCallback($.isFunction(n)?n:null),this},setEditableClipboardMode:function(n,t){return this.createEditableInstance(),this.editable.setIsClipboardMode(n===!0),this.editable.setExceptColumnCounter(t),this},setEditableClipboardLineKeyword:function(n){return this.editable.setClipboardKeyword(n),this},setEditableHighlightHeader:function(n){return this.createEditableInstance(),this.editable.setHighlightHeader(n===!0),this},setTreeUse:function(n,t){return this.createTreeInstance(),this.tree.setStyleTreeGrid(n,t),this},setTreeNormalUse:function(n){return this.createTreeInstance(),this.tree.setUse(n),this},setTreeNormalUseCheckbox:function(n){return this.createTreeInstance(),this.tree.setUseCheckbox(n),this},setTreeNormalUseFavorite:function(n){return this.createTreeInstance(),this.tree.setUseFavorite(n),this},setTreeNormalUseFn:function(n){return this.createTreeInstance(),this.tree.setUseFn(n),this},setTreeNormalParentIcon:function(n){return this.createTreeInstance(),this.tree.setParentIcon(n),this},setTreeNormalChildIcon:function(n){return this.createTreeInstance(),this.tree.setChildIcon(n),this},setTreeNormalUseContextmenu:function(){},setTreeEventDisable:function(n){return this.createTreeInstance(),this.tree.setEventDisable(n===!0),this},setTreeEventOnLabel:function(n){return this.createTreeInstance(),this.tree.setEventOnLabel(n),this},setTreeHideOnNoChild:function(n){return this.createTreeInstance(),this.tree.setHideOnNoChild(n===!0),this},setTreeOpenOnInit:function(n){if(this.createTreeInstance(),n===!1?this.tree.setOpenOnInit(0):typeof n=="number"?n>=0?this.tree.setOpenOnInit(n):this.tree.setOpenOnInit(0):n.constructor==Array?this.tree.setOpenOnInit(n):n=="upper"?this.tree.setOpenOnInit(n):this.tree.setOpenOnInit(!0),n===!0)this.tree.setOpenOnInitCallback(function(){return!0});else if(n===!1)this.tree.setOpenOnInitCallback(function(){return!1});else if(typeof n=="number"){var t=n+(tree.hideOnNoChild==!0?-1:0);this.tree.setOpenOnInitCallback(function(n,i){return n[i]<=t})}else $.isArray(n)?this.tree.setOpenOnInitCallback(function(t,i){return n.contains(i)}):n=="upper"?this.tree.setOpenOnInitCallback(function(){return!0}):this.tree.setOpenOnInitCallback(function(){return!0});return this},setTreeColumnSort:function(n){return this.createTreeInstance(),this.tree.setSort(n===!0),this},setTreeNoReOrder:function(n){return this.createTreeInstance(),this.tree.setDataNoReOrder(n===!0),this},setTheadSearchUse:function(n){return this.createTheadSearchInstance(),this.theadSearch.setUse(n),this},setTbodySearchUse:function(n){return this.createTbodySearchInstance(),this.tbodySearch.setUse(n),this},setTfootSearchUse:function(n){return this.createTfootSearchInstance(),this.tfootSearch.setUse(n),this},setTheadSearchClassname:function(n){return this.createTheadSearchInstance(),this.theadSearch.setSearchHighlightClassname(n),this},setTbodySearchClassname:function(n){return this.createTbodySearchInstance(),this.tbodySearch.setSearchHighlightClassname(n),this},setTfootSearchClassname:function(n){return this.createTfootSearchInstance(),this.tfootSearch.setSearchHighlightClassname(n),this},setTbodyRowShowInputOutLine:function(n){return this.createTbodyRowDataInstance(),n===!0||n===!1||n==="activeRow"?this.tbodyRowData.setShowInputFakeOutLine(n):this.tbodyRowData.setShowInputFakeOutLine(!0),this},setEventFocusOnInit:function(n){return this.createEventInstance(),this.events.setFocusOnInit(n===!0),this},setEventUseAfterRowDataLoadForInitialData:function(n){return this.createEventInstance(),this.events.triggerAfterRowDataLoadOnSetRowData=n===!0,this},setEventNotFocusableCallback:function(n){return this.createEventInstance(),this.events.notFocusableCallback=n,this},setEventClipboardCallback:function(n){return this.createEventInstance(),this.events.clipboardCallback=n,this},setEvnetRightClickMode:function(n){return this.createEventInstance(),this.events.useRightClick=n,this},setEventContextmenu:function(n){return this.createEventInstance(),this.events.contextmenu=n,this},setEventWidgetTriggerObj:function(n){return this.createEventInstance(),this.events.widgetCommonEventDelegator=n,this},setEventWidgetDelegatorObj:function(n){return this.createEventInstance(),this.events.widgetUIEventDelegator=n,this},setKeyboardCursorMove:function(n){return this.createKeyboardInstance(),this.keyboard.setUseMoveCursor(n===!0),this},setKeyboardEnterForExecute:function(n,t){return this.createKeyboardInstance(),n?(this.keyboard.enterForExecute=!0,typeof t=="string"&&(t=[t]),this.keyboard.executeColumnIdList=t):(this.keyboard.enterForExecute=!1,this.keyboard.executeColumnIdList=null),this},setKeyboardSpacebarForSelectRow:function(n){return this.createKeyboardInstance(),this.keyboard.spacebarForSelect=n===!0,this},setKeyboardUseSelectEach:function(n){return this.createKeyboardInstance(),this.keyboard.useSelectEach=n===!0,this},setKeyboardSpacebarForCustomSelectCell:function(n){return this.createKeyboardInstance(),typeof n=="string"&&(this.keyboard.fireColumnIdList=[n]),this.keyboard.fireColumnIdList=n,this},setKeyboardPageMove:function(n){return this.createKeyboardInstance(),this.keyboard.useMovePage=n===!0,this},setEditableControlEnterHandler:function(n){return this.createEditableInstance(),this.editable.controlEnterHandler=$.isFunction(n)?n:null,this},setKeyboardPrevMoveCallback:function(n){return this.createKeyboardInstance(),this.keyboard.prevMoveCallback=n,this},setKeyboardNextMoveCallback:function(n){return this.createKeyboardInstance(),this.keyboard.nextMoveCallback=n,this},setEventShadedColumnId:function(n,t){return this.setShadedUse(!0).setShadedType("id").setShadedList(n),t===!0?this.setShadedRemember(!0):typeof t=="object"&&this.setShadedRemember(t.isAllRememberShaded===!0).setShadedType(t.useShadedCellData===!0?"data":"id").setShadedIntergration(t.useIntegration===!0).setShadedClassName(t.shadedClassName?t.shadedClassName:"text-primary-inverse "),this},setEventGroupShaded:function(n,t,i){var i=i||{},r;return(this.createTbodyShadedInstance(),r=[],r=typeof i=="object"&&i.referenceColumnId?typeof i.referenceColumnId=="string"?[i.referenceColumnId]:i.referenceColumnId:typeof t=="string"?[t]:t,this.tbodyShaded.intergration)?this:(n===!0?this.setShadedUse(!0).setShadedType(i.useShadedCellData===!0?"groupByKeyColumn":"dataGroup").setShadedKey(i.shadeKey||[]).setShadedGroupIdList(r):this.setShadedUse(!1).setShadedType(null).setShadedGroupIdList(r),this)},setEventUseEmptyColumnClickEvent:function(n){return this.createEventInstance(),this.events.useEmptyColumnClickEvent=n,this},setKeyboardEventNotUsed:function(n){return this.createEventInstance(),this.events.keyboardEventNotUsed=n,this},setShadedUse:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setUse(n),this},setShadedType:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setType(n),this},setShadedKey:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setShadedKey(n),this},setShadedIntergration:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setIntergration(n),this},setShadedList:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setList(n),this},setShadedRemember:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setRemember(n),this},setShadedClassName:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setClassName(n),this},setShadedGroupIdList:function(n){return this.createTbodyShadedInstance(),this.tbodyShaded.setGroupIdList(n),this},setStyleBoldOnMergeRow:function(n){return this.createRowInstance(),this.row.setStyleBoldOnMergeRow(n),this},setTotalFontSize:function(n){return this.createFootInstance(),this.foot.setFontSize(n),this},setTotalFontBold:function(n){return this.createFootInstance(),this.foot.setFontBold(n),this},setTotalFontItalic:function(n){return this.createFootInstance(),this.foot.setFontItalic(n),this},setTotalFontStrike:function(n){return this.createFootInstance(),this.foot.setFontStrike(n),this},setTotalFontUnderline:function(n){return this.createFootInstance(),this.foot.setFontUnderline(n),this},setTotalHorizontalAlign:function(n){return this.createFootInstance(),this.foot.setHorizontalAlign(n),this},setTotalVerticalAlign:function(n){return this.createFootInstance(),this.foot.setVerticalAlign(n),this},setTotalFont:function(n){return this.createFootInstance(),this.foot.setFont(n),this},setTotalFontColor:function(n){return this.createFootInstance(),this.foot.setFontColor(n),this},setTotalFontBgColor:function(n){return this.createFootInstance(),this.foot.setFontBgColor(n),this},setTotalFontCellBgColor:function(n){return this.createFootInstance(),this.foot.setCellBgColor(n),this},setCommonBottomMargin:function(n){return this.createCommonInstance(),this.common.setBottomMargin(n),this},setCommonLeftMargin:function(n){return this.createCommonInstance(),this.common.setLeftMargin(n),this},setCommonRightMargin:function(n){return this.createCommonInstance(),this.common.setRightMargin(n),this},setCommonPageWidth:function(n){return this.createCommonInstance(),this.common.setPageWidth(n),this},setCommonPageHeight:function(n){return this.createCommonInstance(),this.common.setPageHeight(n),this},setCommonPageWay:function(n){return this.createCommonInstance(),this.common.setPageWay(n),this},setColumnSortable:function(n){return this.createSortableInstance(),this.sortable.setUse(n),this.sortable.setUseAllSortColumns(n),this.sortable.setReset(!0),this},setColumnSortableReset:function(n){return this.createSortableInstance(),this.sortable.setReset(n),this},setColumnSortAscending:function(n){return this.createSortableInstance(),this.sortable.setAscending(n),this},setColumnSortDisableList:function(n){return this.createSortableInstance(),this.sortable.setDisableList(n),this},setColumnSortEnableList:function(n){return this.createSortableInstance(),this.sortable.setEnableList(n),this},setColumnFilterUse:function(n){return this.createColumnFilterInstance(),this.columnFilter.setUse(n),this},setColumnFilterPosition:function(n,t){return this.createColumnFilterInstance(),this.columnFilter.setSortDisplayPosition(n,t),this},setColumnFilterDisableList:function(n){return this.createColumnFilterInstance(),this.columnFilter.setDisableList(n),this},setColumnFilterEnableList:function(n){return this.createColumnFilterInstance(),this.columnFilter.setEnableList(n),this},setTheadColumnDataConversionColumns:function(n){return this.createTheadColumnInstance(),this.theadColumns.dataConversionColumns=n,this},setTbodyColumnDataConversionColumns:function(n){return this.createTbodyColumnInstance(),this.theadColumns.dataConversionColumns=n,this},setTfootColumnDataConversionColumns:function(n){return this.createTfootColumnInstance(),this.tfootColumns.dataConversionColumns=n,this},setResetAllColumnSortableState:function(){},setFixRow:function(n){return this.createFixInstance(),this.fix.setRowFixed(n),this},setFixColumn:function(n){return this.createFixInstance(),this.fix.setColumnFixed(n),this},setTheadColumnRepeat:function(n){return this.createTheadColumnInstance(),this.theadColumns.setResetRepeatCount(this.theadColumns.repeatCount!=n),this.theadColumns.setRepeatCount($.isNumber(n)?parseInt(n,10):n),this},setTbodyColumnRepeat:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setResetRepeatCount(this.tbodyColumns.repeatCount!=n),this.tbodyColumns.setRepeatCount($.isNumber(n)?parseInt(n,10):n),this},setTfootColumnRepeat:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setResetRepeatCount(this.tfootColumns.repeatCount!=n),this.tfootColumns.setRepeatCount($.isNumber(n)?parseInt(n,10):n),this},setTheadColumnOverflowThousandMessage:function(n){return this.createTheadColumnInstance(),this.theadColumns.setOverflowThousnadMessage(n),this},setTbodyColumnOverflowThousandMessage:function(n){return this.createTbodyColumnInstance(),this.tbodyColumns.setOverflowThousnadMessage(n),this},setTfootColumnOverflowThousandMessage:function(n){return this.createTfootColumnInstance(),this.tfootColumns.setOverflowThousnadMessage(n),this},setTheadColumnMergeOverflowThousandMessage:function(){return this.createTheadRowDataInstance(),this},setTbodyColumnMergeOverflowThousandMessage:function(){return this.createTbodyRowDataInstance(),this},setTfootColumnMergeOverflowThousandMessage:function(){return this.createTfootRowDataInstance(),this},setNotUsePaddingOfPrint:function(n){return this.createPrintInstance(),this.print.setNotUsePaddingOfPrint(n),this},setAutoAlignStandard:function(n){return this.createPrintInstance(),this.print.setAutoAlignStandard(n),this},setPrintIsInitailizeWidth:function(n){return this.createPrintInstance(),this.print.setIsInitailizeWidth(n),this},setPrintIsInitailizeHeight:function(n){return this.createPrintInstance(),this.print.setIsInitailizeHeight(n),this},setDragable:function(n,t){return this.createDragInstance(),this.drag.setUse(n),this.drag.setMoveMode(t),this},setDragStartCallback:function(n){return this.createDragInstance(),this.drag.setStartCallback(n),this},setDragMoveCallback:function(n){return this.createDragInstance(),this.drag.setMoveCallback(n),this},setDragStopCallback:function(n){return this.createDragInstance(),this.drag.setStopCallback(n),this},setDragOption:function(n){return this.createDragInstance(),this.drag.setHelperType(n.helperType),this.drag.setTargetColumnId(n.targetColumnId),this.drag.setDroppableArea(n.droppableArea),this},setCellResize:function(n,t,i,r){return this.createResizeInstance(),this.resize.setUse(n),this.resize.setResizeTarget(t),this.resize.setResizeType(i),this.resize.setMaxSize(r),this},setResizeWidthSection:function(n){return this.resize.setResizeWidthSection(n),this},setUseFoldColumn:function(n){return this.createFoldColumnInstance(),this.foldColumn.setUse(n),this},seFoldColumnData:function(n){return this.createFoldColumnInstance(),this.foldColumn.initFoldData(n),this},getConfig:function(n){var t={};t.common=this.common;t.paging=this.paging;t.checkbox=this.checkbox||{};t.numbering=this.numbering||{};t.rowmoveable=this.rowmoveable||{};t.foldColumn=this.foldColumn||{};t.topToolbar=this.topToolbar||{};t.headerToolbar=this.headerToolbar||{};t.foot=this.foot||{};t.editable=this.editable||{};switch(n){case"thead":t.column=this.theadColumns;t.rowData=this.theadRowData;t.shaded=this.theadShaded;break;case"tbody":t.column=this.tbodyColumns;t.rowData=this.tbodyRowData;t.shaded=this.tbodyShaded;break;case"tfoot":t.column=this.tfootColumns;t.rowData=this.tfootRowData;t.shaded=this.tfootShaded}return t},initTheadRowDatas:function(){var n=this.theadRowData.additionalDatas&&_.merge({},this.theadRowData.additionalDatas)||{};this.theadColumns.getForm().forEach(function(t){t.controlType=="widget.checkbox"?(t.labels||(t.labels=[]),t.labels.push(t.title||"")):n[t.propertyName]=t.title||""});this.theadRowData.setDatas([n])},setFormColumnEventHandler:function(){this.events.gridRelatedEvents.remove("ecount.gridV3.responseColumns");this.events.gridRelatedEvents.register("ecount.gridV3.responseColumns",this,function(n){n.Data.columns&&n.Data.columns.length>0&&(this.columnDataInstance+=1,this.createTheadColumnInstance(),this.theadColumns.setFormData(n.Data));n.Data.columns&&n.Data.columns.length>0&&(this.columnDataInstance+=1,this.createTbodyColumnInstance(),this.tbodyColumns.setFormData(n.Data));n.Data.columns&&n.Data.columns.length>0&&(this.columnDataInstance+=1,this.createTfootColumnInstance(),this.tfootColumns.setFormData(n.Data));this.theadColumns&&this.theadColumns.end({common:this.common,rowDataApiInfo:this.rowDataApiInfo,form:this.form,checkbox:this.checkbox||{},rowmoveable:this.rowmoveable||{},foldColumn:this.foldColumn||{},numbering:this.numbering||{}});this.tbodyColumns&&this.tbodyColumns.end({common:this.common,rowDataApiInfo:this.rowDataApiInfo,form:this.form,checkbox:this.checkbox||{},rowmoveable:this.rowmoveable||{},foldColumn:this.foldColumn||{},numbering:this.numbering||{}});this.tfootColumns&&this.tfootColumns.end({common:this.common,rowDataApiInfo:this.rowDataApiInfo,form:this.form,checkbox:this.checkbox||{},rowmoveable:this.rowmoveable||{},foldColumn:this.foldColumn||{},numbering:this.numbering||{}})})},callbackSetFomOptionValue:function(){},callbackSetFormColumn:function(){},onAfterLoadDataCheckbox:function(){var i,n,t;if(this.checkbox.use){for(i in this.checkbox.manage)this.checkbox.manage.hasOwnProperty(i)&&(n=this.checkbox.manage[i],(n.checkedMaxCount==0||n.fixCheckedMaxCount===!1)&&(n.checkedMaxCount=this.tbodyRowData.rowDatas.length));!this.checkbox.useCustomHeaderWidth&&this.tbodyRowData.rowDatas.length>=100&&(t=ecount.gridV3.utils.getCheckboxWidthByRowCount(this.tbodyRowData.rowDatas.length),this.theadColumns.getForm().forEach(function(n){this.constValue.checkBoxPropertyNameRex.test(n.id)&&(n.width=t)}.bind(this)),this.tbodyColumns.getForm().forEach(function(n){this.constValue.checkBoxPropertyNameRex.test(n.id)&&(n.width=t)}.bind(this)),this.tfootColumns&&this.tfootColumns.getForm().forEach(function(n){this.constValue.checkBoxPropertyNameRex.test(n.id)&&(n.width=t)}.bind(this)))}},initTree:function(){this.tree&&this.tree.use&&this.tree.styleType!="grid"&&this.setTableStyleRemoveBorderAll(!0)},afterTree:function(){if(this.tree&&this.tree.use&&this.tree.styleType!="grid"){this.tree.treeColumns=[];var n=this.theadColumns.getForm();n&&n.length>0&&this.tree.treeColumns.push(n[0].id);this.theadColumns.setVisible(!1);this.tfootColumns&&this.tfootColumns.setVisible(!1)}},end:function(){var n,t,i,r;this.columnDataLoadedCount=0;this.columnDataInstance=0;this.rowDataLoadedCount=0;this.rowDataInstanceCount=0;this.createCommonInstance();this.common.end();this.createFormInstance();this.createDragInstance();this.drag&&this.drag.end&&this.drag.end();this.createTableInstance();this.createKeyboardInstance();this.createHeaderToolbarInstance();this.headerToolbar.end({form:this.form});this.createPagingInstance();this.paging.end&&this.paging.end({form:this.form});this.createRowDataApiInfoInstance();this.checkbox&&(this.tree&&this.tree.use&&(this.checkbox.resetManage(),this.tree.styleType=="grid"?this.checkbox.setOriginalStyle(!0):this.checkbox.setUse(this.constValue.checkBoxPropertyName,!1)),this.common.renderType==this.constValue.gridRenderType.cloud&&this.checkbox.setCheckboxWidth(30));this.common.isRenderTypePrint()||this.common.isDetailTableType()||this.common.isTypeReportStatusList()?(this.print.setUse(!0),this.print.resetUsableSectionInfo()):(this.print.setUse(!1),this.print.resetUsableSectionInfo());this.keyboard&&this.keyboard.end();this.matrixState&&this.matrixState.use&&this.matrixState.end({events:this.events});this.initTree();this.layout.$layer&&(n=this.common.popupType=="layer"?this.layout.$layer.find(".contents"):this.layout.$layer.find(".contents"),t=null,n.length>0&&n[0]==document?(t=n[0].body.parentElement,n=$(t)):t=n[0],this.layout.$scrollContainer=n,this.layout.scrollContainer=t);i=function(){var n,r,t,u,i;if((this.common.isTypeSpecTran()||this.common.isSalaryPrint())&&(n=this.tbodyRowData.maxRowCountPerGrid||1,r=this.common.gridCountPerPage||1,this.tbodyRowData.trHeights&&$.isArray(this.tbodyRowData.trHeights)))for(t=0,u=this.tbodyRowData.trHeights.length;t<u;t++)i=this.tbodyRowData.trHeights[t],i>0||(i=parseInt((245-n)/n,10),r==1&&(i=parseInt((720-n)/n,10))),this.tbodyRowData.trHeights[t]=i}.bind(this);r=function(){var n,u,i;if(this.common.isTypeSpecTran()||this.common.isSalaryPrint()){var t=this.tbodyRowData.maxRowCountPerGrid||1,f=this.common.gridCountPerPage||1,r=this.tfootRowData.trHeights;if(r&&$.isArray(this.tbodyRowData.trHeights)&&$.isArray(this.tfootRowData.trHeights))for(this.common.isIncludeHeaderRowDataLength&&(t-=this.theadRowData.rowDatas.length),this.tbodyRowData.trHeights.length>this.tfootRowData.trHeights.length&&(r=this.tbodyRowData.trHeights),n=0,u=r.length;n<u;n++)i=this.tfootRowData.trHeights[n]||this.tbodyRowData.trHeights[n],i>0||(i=parseInt((245-t)/t,10),f==1&&(i=parseInt((720-t)/t,10))),this.tfootRowData.trHeights[n]=i}}.bind(this);this.events.gridRelatedEvents.remove("ecount.gridV3.loadRowDataCompleted");this.events.gridRelatedEvents.register("ecount.gridV3.loadRowDataCompleted",this,function(){this.rowDataLoadedCount+=1;this.rowDataInstanceCount==this.rowDataLoadedCount&&this.columnDataInstance==this.columnDataLoadedCount&&(this.onAfterLoadDataCheckbox(),this.afterTree(),i(),r(),this.events.gridRelatedEvents._triggerEvent("ecount.gridV3.dataLoadCompleted",{}))}.bind(this));this.events.gridRelatedEvents.remove("ecount.gridV3.loadColumnDataCompleted");this.events.gridRelatedEvents.register("ecount.gridV3.loadColumnDataCompleted",this,function(){this.columnDataLoadedCount+=1;this.rowDataInstanceCount==this.rowDataLoadedCount&&this.columnDataInstance==this.columnDataLoadedCount&&(this.onAfterLoadDataCheckbox(),this.afterTree(),i(),r(),this.events.gridRelatedEvents._triggerEvent("ecount.gridV3.dataLoadCompleted",{}))}.bind(this));this.events.gridRelatedEvents.remove(ecount.grid.event.list.renderingError);this.events.gridRelatedEvents.register(ecount.grid.event.list.renderingError,this,function(){});this.form.formDataUrl&&this.form.formDataParameter&&this.rowDataApiInfo.rowDataURL&&!this.rowDataApiInfo.isWithColumn?(this.theadRowData&&(this.rowDataInstanceCount+=1),this.tbodyRowData&&(this.rowDataInstanceCount+=1),this.tfootRowData&&(this.rowDataInstanceCount+=1),this.setFormColumnEventHandler(),this.form.end(),this.table.end({table:this.table,common:this.common,form:this.form,drag:this.drag}),this.initTheadRowDatas(),this.theadRowData&&this.theadRowData.end({common:this.common,events:this.events,column:this.theadColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.theadShaded,form:this.form,foot:this.foot}),this.tbodyRowData&&this.tbodyRowData.end({common:this.common,events:this.events,column:this.tbodyColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tbodyShaded,form:this.form,foot:this.foot,paging:this.paging,print:this.print}),this.tfootRowData&&this.tfootRowData.end({common:this.common,events:this.events,column:this.tfootColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tfootShaded,form:this.form,foot:this.foot})):this.form.formDataUrl&&this.form.formDataParameter?(this.setFormColumnEventHandler(),this.form.end(),this.table.end({table:this.table,common:this.common,form:this.form,drag:this.drag})):this.rowDataApiInfo.rowDataURL&&!this.rowDataApiInfo.isWithColumn?(this.table.end({table:this.table,common:this.common,form:this.form,drag:this.drag}),this.theadColumns&&(this.columnDataInstance+=1),this.tbodyColumns&&(this.columnDataInstance+=1),this.tfootColumns&&(this.columnDataInstance+=1),this.theadRowData&&(this.rowDataInstanceCount+=1),this.tbodyRowData&&(this.rowDataInstanceCount+=1),this.tfootRowData&&(this.rowDataInstanceCount+=1),this.theadColumns&&this.theadColumns.end(),this.tbodyColumns&&this.tbodyColumns.end(),this.tfootColumns&&this.tfootColumns.end(),this.theadRowData&&this.theadRowData.end({common:this.common,events:this.events,column:this.theadColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.theadDataShaded,form:this.form,foot:this.foot}),this.tbodyRowData&&this.tbodyRowData.end({common:this.common,events:this.events,column:this.tbodyColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tbodyDataShaded,form:this.form,foot:this.foot,print:this.print}),this.tfootRowData&&this.tfootRowData.end({common:this.common,events:this.events,column:this.tfootColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tfootDataShaded,form:this.form,foot:this.foot})):(this.form.end(),this.setCommonFormOption(this.theadColumns&&this.theadColumns.formOption||{}),this.table.end({table:this.table,common:this.common,form:this.form,drag:this.drag}),this.theadColumns&&(this.columnDataInstance+=1),this.tbodyColumns&&(this.columnDataInstance+=1),this.tfootColumns&&(this.columnDataInstance+=1),this.theadRowData&&(this.rowDataInstanceCount+=1),this.tbodyRowData&&(this.rowDataInstanceCount+=1),this.tfootRowData&&(this.rowDataInstanceCount+=1),this.theadColumns&&this.theadColumns.end(),this.tbodyColumns&&this.tbodyColumns.end(),this.tfootColumns&&this.tfootColumns.end(),this.initTheadRowDatas(),this.theadRowData&&this.theadRowData.end({common:this.common,events:this.events,column:this.theadColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.theadShaded,form:this.form,foot:this.foot,fix:this.fix}),this.tbodyRowData&&this.tbodyRowData.end({common:this.common,events:this.events,column:this.tbodyColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tbodyShaded,form:this.form,foot:this.foot,fix:this.fix,print:this.print}),this.tfootRowData&&this.tfootRowData.end({common:this.common,events:this.events,column:this.tfootColumns,rowDataApiInfo:this.rowDataApiInfo,shaded:this.tfootShaded,form:this.form,foot:this.foot,fix:this.fix}));this.events.gridRelatedEvents.remove("ecount.gridV3.setFormColumn");this.events.gridRelatedEvents.register("ecount.gridV3.setFormColumn",this,function(n){var t=n.columnForm||{},i;t.option=t.option||{};this.theadColumns.formOption&&!$.isBoolean(this.theadColumns.formOption.isShowPageNo)&&(t.option.isShowPageNo=this.theadColumns.formOption.isShowPageNo);this.setCommonFormOption(t.option);this.events.gridRelatedEvents&&this.events.gridRelatedEvents._triggerEvent(ecount.grid.event.list.afterFormLoad,{},{columnForm:t,rowDataParam:null});this.table.end({table:this.table,common:this.common,form:this.form,drag:this.drag});this.common.columnType=="single"?(this.theadColumns.initSingleForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.columns,!0)),this.tbodyColumns.initSingleForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.columns,!0)),this.tfootColumns.initSingleForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.columns,!0)),i={},this.theadColumns.getForm().forEach(function(n){i[n.propertyName]=n.title||""}),this.theadRowData.setDatas([i]),this.theadRowData.initRowDatas()):this.common.columnType=="multi"&&(this.theadColumns.initMultiForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.headerColumns,!0),this.theadColumns.columns),this.tbodyColumns.initMultiForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.columns,!0),this.tbodyColumns.columns),this.tfootColumns.initMultiForm({common:this.common,editable:this.editable||{}},Object.clone(n.columnForm.footerColumns,!0),this.tfootColumns.columns||[]))})}});ecount.class("ecount.gridV3.settings.sectionTheadColumn",null,{init:function(n){_.extend(this,n);this.customColumns=null;this.normalize=null;this.propertyName=null;this.customCellCallback={};this.customColumnCallback={};this.forms=null;this.apiFormData=null;this.formOption=null;this.visible=!0;this.constValue=ecount.grid.constValue},render:function(){},destroy:function(){},setColumns:function(n){this.customColumns=n},setVisible:function(n){this.visible=n===!0},setIsAutoCalculate:function(n){this.isAutoCalculdate=n},setAutoCalculate:function(n){this.autoCalculate=n},setInitAutoCalculcate:function(n){this.initAutoCalculcate=n},__getColumns:function(){return this.columns||[]},__getForms:function(n){if(n=n===!0,n){var t=[];return this.forms.forEach(function(n){t.push(Object.clone(n,!0))}),t}return this.forms},setFormData:function(n){n=n||{};this.apiFormData=n.columns;this.formOption=n.option||{};this.config.formDataParameter=null},setFormDataById:function(n,t){var i=this.apiFormData.find(function(t){return t.id===n});i&&(i=_.extend(i,t))},getFormData:function(){return this.apiFormData},getForm:function(n){return this.config.form.formDataUrl&&this.config.form.formDataParameter||this.config.rowDataApiInfo.isWithColumn||this.forms?this.__getForms(n):this.__getColumns(n)},setFormColumns:function(n){this.formColumns=n},setPropertyNormailze:function(n){this.normalize=typeof n=="string"?n.toUpperCase():n},getNormalize:function(){return this.normalize},setPropertyName:function(n){this.propertyName=n},getPropertyName:function(){return this.propertyName||"id"},propertyNormalizer:function(n){if(this.normalize){if(this.normalize=="UPPER")return typeof n=="string"?n.toUpperCase():n;if(this.normalize=="UPPER")return typeof n=="string"?n.toLowerCase():n}else return n},setCustomCell:function(n,t){this.customCellCallback[n]=t},setCustomColumn:function(n,t){this.customColumnCallback[n]=t},setGenerator:function(n){this.generator=n},setKeyColumns:function(n){typeof n=="string"&&(n=[n]);this.keyColumns=n},setCopyHeaderMergeInfo:function(n){this.copyHeaderMergeInfo=n===!0},setRowCustom:function(n){this.columnRowsObject=$.isArray(n)?n.toArray():[]},setFix:function(n){this.fix=n===!0},setColumnByWidth:function(n){var t=Object.keys(n);t.forEach(function(t){this.customColumns.forEach(function(i){i.id===t&&(i.width=n[t])})}.bind(this))},getColumnById:function(n){var t={column:null};return this.customColumns&&this.customColumns.some(function(t){if(t.id==n)return this.column=t,!0},t),t.column},convertDataType:function(n){var t=n.dataType||"";if(n.dataType1)switch(n.dataType1){case"DATETIME":/^(date)\d{2}$/gi.test(n.dateFormat)?t=n.dateFormat:n.dateFormat=="CustomDate"?(t="29",n.customizeDate==""&&(n.dateFormat="")):t="5";break;case"NUM":t=(ecount.common.isTrue(n.isDisplayZero)?"9":"8")+($.isNumber(n.decCount)?n.decCount:"0")}n.dataType=t},initDataType:function(n){var r=n.dataType||"",u,f,i,e,t;r.length!==0&&(i=r.substring(0,1),e=r.substring(1),i=="1"||i=="2"||i=="5"?(n.dataType=r,t=n.controlOption||{},t.dataType=t.dataType||r,n.controlOption=t):(i=="8"||i=="9")&&(n.dataType=r,f=i=="8"?!1:i=="9"?!0:n.isShowIfZero!=undefined?n.isShowIfZero:!0,u=n.isCheckZero!=undefined?n.isCheckZero:!0,n.isCheckZero=u,n.isShowIfZero=f,t=n.controlOption||{},t.dataType=t.decimalUnit!=undefined?"9"+t.decimalUnit[1].toString():"9"+e,t.isCheckZero=u,t.decimalUnit=t.decimalUnit||[ecount.common.number.defaultLength,ecount.common.number.defaultPointLength],t.numberType=t.numberType!=undefined?t.numberType:this.constValue.numberType.decimal,n.controlOption=t))},makeColumnDataType:function(n){if(this.convertDataType(n),this.initDataType(n),n.dataType){var t=n.dataType.substring(0,1),i=null;i=["1","2","5"].contains(t)?ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?ecount.convertor.dataTypeConvertor[t]:/^(date)\d{2}$/gi.test(n.dataType)?ecount.convertor.dataTypeConvertor.date:function(n){return n};n.converter=i}},convertControlType:function(n){if(n.controlType!=null&&n.controlType!=undefined&&n.controlType!=""&&!/^widget.gridCell.*/.test(n.controlType)){var t=n.controlType.split(".");t.splice(1,0,"gridCell");n.controlType=t.join(".")}},getNumberingColumn:function(){var t=this.config.numbering.headerStyle||{},r="widget.gridCell.label",i=$.isEmpty(t.align)?"center":t.align,u=$.isEmpty(t.width)?"25":t.width,f=$.isEmpty(t.title)?"":t.title,n={id:this.constValue.rowNumberingPropertyName,propertyName:this.constValue.rowNumberingPropertyName,originalId:this.constValue.rowNumberingPropertyName,sectionType:this.constValue.sectionType.thead,width:u,title:f,align:i,className:"text-"+i,controlType:r,columnOption:{controlType:r,align:i},footerOption:{}};return this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getCheckBoxColumn:function(){var t=this.config.checkbox.headerStyle,i="widget.gridCell.checkboxNumbered",r=$.isEmpty(t.align)?"center":t.align,u=$.isEmpty(t.width)?"25":t.width,f=$.isEmpty(t.title)?"":t.title,n;return t.visible==!1&&(i="widget.gridCell.label"),n={id:this.constValue.checkBoxPropertyName,propertyName:this.constValue.checkBoxPropertyName,originalId:this.constValue.checkBoxPropertyName,sectionType:this.constValue.sectionType.thead,width:u,title:f,align:r,className:"text-"+r,controlType:i,editableState:"1",columnOption:{controlType:i,align:r},footerOption:{}},this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getRowmoveableColumn:function(){var t=this.config.rowmoveable.headerStyle||{},r="widget.link.icon",i=$.isEmpty(t.align)?"center":t.align,u=$.isEmpty(t.width)?"25":t.width,f=$.isEmpty(t.title)?"":t.title,n={id:this.constValue.rowMoveablePropertyName,propertyName:this.constValue.rowMoveablePropertyName,originalId:this.constValue.rowMoveablePropertyName,sectionType:this.constValue.sectionType.thead,width:u,title:f,align:i,className:"text-"+i,controlType:r,editableState:"1",columnOption:{controlType:r,align:i},footerOption:{}};return this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getFoldColumn:function(n){var i=this.config.foldColumn.headerStyle||{},r="widget.gridCell.foldColumn",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"20":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.foldColumnPropertyName,propertyName:this.constValue.foldColumnPropertyName,originalId:this.constValue.foldColumnPropertyName,sectionType:this.constValue.sectionType.thead,width:f,title:e,align:u,className:"text-"+u,controlType:r,editableState:"1",columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{}},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},getSystemColumnCount:function(){var t=this.config.numbering.use,i=this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName),r=this.config.rowmoveable.use,n=0;return t&&(n+=1),i&&(n+=1),r&&(n+=1),n},addSystemColumn:function(){var p=this.config.numbering.use,w=this.config.numbering.index,b=this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName),k=this.config.checkbox.index,d=this.config.rowmoveable.use,g=this.config.rowmoveable.index||1,nt=this.config.foldColumn.use,h,c,l,r=this.getForm(),a=r[0],e=0,v=0,s,t,n,u,y,i,o,f;for(r.forEach(function(n){(e==0||n.linechange)&&(e+=1);e==1&&(v+=1)}),s=0,t=0;t<e;t++){for(n=[],p&&(h=this.getNumberingColumn(),n.push({index:w,item:h})),b&&(c=this.getCheckBoxColumn(),n.push({index:k,item:c})),d&&(l=this.getRowmoveableColumn(),n.push({index:g,item:l})),nt&&(foldColumn=this.getFoldColumn(),n.push({index:r.length+n.length,item:foldColumn})),n.length>1&&(n=n.sort(function(n,t){return n.index-t.index})),u=0,y=n.length;u<y;u++)i=n[u].item,o={},i.lineNo=t+1,this.config.common.columnType==this.constValue.columnType.single?o=_.pick(a.columnOption,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"]):this.config.common.columnType==this.constValue.columnType.multi&&(o=_.pick(a,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"])),_.extend(i,o),f=t*v+s+n[u].index,r.splice(f,0,i),t!=0&&(i.id+="-"+t.toString(),i.originalId+="-"+t.toString(),i.propertyName+="-"+t.toString(),u==0&&(i.linechange=!0,r[f+1]&&(r[f+1].linechange=!1))),r[f+1]&&(i.GROUP_FLAG=r[f+1].GROUP_FLAG);s+=n.length}},initSortableColumn:function(n){var u;if(this.config.sortable&&this.config.sortable.use){var f=n.id,t=n.originalId||f,i=this.config.sortable.useAllSortColumns,e=this.config.sortable.sortEnableList||[],o=this.config.sortable.sortDisableList||[],r;this.config.sortable&&this.config.sortable.use&&(u=(!i||n.columnOption.controlType)&&e.indexOf(t)!=-1||i&&!n.columnOption.controlType&&o.indexOf(t)==-1&&/tempColumnId\d+/g.test(t)===!1,u&&(n.controlType="widget.gridCell.caretLink",r=this.config.sortable.sortOrderList[n.id]?this.config.sortable.sortOrderList[n.id].sortOrder:this.config.sortable.sortOrder,n.controlOption.position=r,n.editableState=1))}},setRowHeight:function(){var h=this.getForm(),e=0,r,n,i,t,f,s,u,o;for(h.forEach(function(n){(e==0||n.linechange)&&(e+=1)}),r=0;r<e;r++)i=this.config.tbodyRowData.maxRowCountPerGrid||1,t=this.config.theadRowData.trHeights,this.config.common.isIncludeHeaderRowDataLength&&(i-=this.config.theadRowData.rowDatas.length),$.isPlainObject(this.config.theadRowData.trHeights)&&(t=this.config.theadRowData.trHeights[this.constValue.sectionSeparateType.line]),f=$.isArray(t)&&(t[r]>0?t[r]:t[0]),f>0?n=f:this.config.common.renderType==this.constValue.gridRenderType.typeSpecTran||this.config.common.renderType==this.constValue.gridRenderType.salaryPrint?(s=this.config.common.gridCountPerPage,n=parseInt((245-i)/i,10),s==1?n=20:(u=this.config.tbodyRowData.trHeights,$.isPlainObject(u)&&(u=this.config.tbodyRowData.trHeights[this.constValue.sectionSeparateType.line]),o=$.isArray(u)?u[0]:u,n=o>0&&f<=0?20-(o+1)*i:265-(i*n+i))):this.config.common.renderType==this.constValue.gridRenderType.salaryPayrollBookList&&(n=20),(n||n===0)&&t&&(t[r]=n)},createGenerator:function(){this.generator||(this.generator=ecount.gridV3.generatorColumn.column("tempColumnId",this.prefixIdIdx,this.config.common.columnType,this.defaultValue))},end:function(){var n=this.apiFormData;this.forms=null;n?this.initSingleForm(Object.clone(n)):this.initSingleCustomForm()},initSingleForm:function(n){var e=0,h=0,c=0,u,t,s,o;for(this.createGenerator(),u=-1,t=0,s=n.length;t<s;t++){var f=n[t].id||"",l=n[t][this.propertyName],r=this.customColumns&&this.customColumns.find(function(n){return n.id==f});n[t].realId=f;o=n[t].index!=undefined?n[t].index:t;n[t].sectionType=this.constValue.sectionType.thead;r&&r.index!=undefined&&(o=r.index);n[t].index=o;n[t].propertyName=this.propertyNormalizer(l||"A"+(n[t].index!=undefined?n[t].index:i));r?r.propertyName=n[t].propertyName:r={};n[t]=$.extend(!0,{},n[t],r);n[t].align&&n[t].align.toLowerCase&&(n[t].align=n[t].align.toLowerCase());n[t].valign&&n[t].valign.toLowerCase&&(n[t].valign=n[t].valign.toLowerCase());u==-1&&ecount.common.isTrue(n[t].LEFT_FIXD_STND_TF)&&(u=t);typeof n[t].controlOption=="string"&&(n[t].widgetOptions=n[t].controlOption,n[t].controlOption={});n[t].columnOption=n[t].columnOption||{};n[t].footerOption=n[t].footerOption||{};n[t].controlOption=n[t].controlOption||{};n[t].columnOption.controlType||n[t].controlType=="widget.sortable"&&(n[t].columnOption.controlType=n[t].controlType);this.config.editable.use?(!n[t].controlOption.controlType&&n[t].controlType&&(n[t].controlOption.controlType=n[t].controlType),n[t].controlType&&!this.constValue.nativeViewControlType[n[t].controlType]&&(n[t].controlType=this.constValue.viewControl[n[t].controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(n[t]);ecount.common.isTrue(n[t].linechange)&&(e+=1);/(-)?\d+/g.test(n[t].lineNo)||(n[t].lineNo=e+1);e==0&&(h+=1,/tempRepeat\d+/g.test(n[t].id)&&(c+=1));n[t].sectionType=this.constValue.sectionType.thead;n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());n[t].fontColor&&n[t].fontColor.trim()=="000000"&&(n[t].fontColor="");n[t].columnOption.fontColor&&n[t].columnOption.fontColor.trim()=="000000"&&(n[t].columnOption.fontColor="");n[t].footerOption.fontColor&&n[t].footerOption.fontColor.trim()=="000000"&&(n[t].footerOption.fontColor="");this.config.editable.use&&(n[t].width===0||n[t].width==="0"||n[t].width===undefined)&&(n[t].isHideColumn=!0);(!this.config.common.isFreeSizeWidth&&$.isNull(n[t].isHideColumn)||ecount.common.isFalse(n[t].isHideColumn))&&($.isNull(n[t].width)||n[t].width==="")&&(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(n[t]);this.initSortableColumn(n[t]);this.config.common.columnType==this.constValue.columnType.single&&_.extend(n[t],n[t].columnOption);n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());this.customCellCallback[f]&&(n[t].customCellCallback=this.customCellCallback[f]);this.customColumnCallback[f]&&(n[t].customColumnCallback=this.customColumnCallback[f])}this.forms=n;this.columns=n;this.addSystemColumn();u>-1&&(u+=this.getSystemColumnCount(),this.config.fix.__leftFixedColumnIndex=u);this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initSingleCustomForm:function(){if(this.customColumns){this.createGenerator();this.columns=Object.clone(this.customColumns,!0);var n=-1;this.columns.forEach(function(t,i){var r=t.id,u;n==-1&&ecount.common.isTrue(t.LEFT_FIXD_STND_TF)&&(n=i);/tempRepeat\d+/g.test(r)||(t.realId=r);t.sectionType=this.constValue.sectionType.thead;u=t[this.propertyName];t.propertyName=this.propertyNormalizer(u||t.propertyName||"A"+i.toString());t.columnOption=t.columnOption||{};t.footerOption=t.footerOption||{};t.controlOption=t.controlOption||{};t.fontColor&&t.fontColor.trim()=="000000"&&(t.fontColor="");t.columnOption.fontColor&&t.columnOption.fontColor.trim()=="000000"&&(t.columnOption.fontColor="");t.footerOption.fontColor&&t.footerOption.fontColor.trim()=="000000"&&(t.footerOption.fontColor="");t.align&&t.align.toLowerCase&&(t.align=t.align.toLowerCase());t.valign&&t.valign.toLowerCase&&(t.valign=t.valign.toLowerCase());this.config.editable.use?(!t.controlOption.controlType&&t.controlType&&(t.controlOption.controlType=t.controlType),t.controlType&&!this.constValue.nativeViewControlType[t.controlType]&&(t.controlType=this.constValue.viewControl[t.controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(t);t.GROUP_FLAG&&typeof t.GROUP_FLAG=="number"&&(t.GROUP_FLAG=t.GROUP_FLAG.toString());this.customCellCallback[r]&&(t.customCellCallback=this.customCellCallback[r]);this.customColumnCallback[r]&&(t.customColumnCallback=this.customColumnCallback[r]);this.config.common.isFreeSizeWidth||t.width!=""||(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(t);this.initSortableColumn(t);this.config.common.columnType==this.constValue.columnType.single&&_.extend(t,t.columnOption)}.bind(this));this.addSystemColumn();n>-1&&(n+=this.getSystemColumnCount(),this.config.fix.__leftFixedColumnIndex=n)}this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initMultiForm:function(){},initMultiCustomForm:function(){}});ecount.class("ecount.gridV3.settings.sectionTbodyColumn",null,{init:function(n){_.extend(this,n);this.customColumns=null;this.normalize=null;this.propertyName=null;this.customCellCallback={};this.customColumnCallback={};this.convertorDecimal={};this.multiConvert={};this.forms=null;this.apiFormData=null;this.formOption=null;this.visible=!0;this.constValue=ecount.grid.constValue;this.prefixIdIdx=0;this.defaultValue=null;this.generator=null},render:function(){},destroy:function(){},setColumns:function(n){this.customColumns=n},setVisible:function(n){this.visible=n===!0},setIsAutoCalculate:function(n){this.isAutoCalculate=n},setAutoCalculate:function(n){n=n||{};for(var t in n)n.hasOwnProperty(t)&&(n[t].targetRowId=n[t].targetRowId||"0",n[t].targetColumnId=n[t].targetColumnId||t);this.autoCalculate=n},setInitAutoCalculcate:function(n){this.initAutoCalculcate=n},__getColumns:function(){return this.columns||[]},__getForms:function(n){if(n=n===!0,n){var t=[];return this.forms.forEach(function(n){t.push(Object.clone(n,!0))}),t}return this.forms},setFormData:function(n){n=n||{};this.apiFormData=n.columns;this.formOption=n.option||{};this.config.formDataParameter=null},setFormDataById:function(n,t){var i=this.apiFormData.find(function(t){return t.id===n});i&&(i=_.extend(i,t))},getFormData:function(){return this.apiFormData},getForm:function(n){return this.config.form.formDataUrl&&this.config.formDataParameter||this.config.rowDataApiInfo.isWithColumn||this.forms?this.__getForms(n):this.__getColumns(n)},setFormColumns:function(n){this.formColumns=n},setPropertyNormailze:function(n){this.normalize=typeof n=="string"?n.toUpperCase():n},getNormalize:function(){return this.normalize},setPropertyName:function(n){this.propertyName=n},getPropertyName:function(){return this.propertyName||"id"},propertyNormalizer:function(n){if(this.normalize){if(this.normalize=="UPPER")return typeof n=="string"?n.toUpperCase():n;if(this.normalize=="UPPER")return typeof n=="string"?n.toLowerCase():n}else return n},setCustomCell:function(n,t){this.customCellCallback[n]=t},setCustomColumn:function(n,t){this.customColumnCallback[n]=t},setGenerator:function(n){this.generator=n},getColumnById:function(n){var t={column:null};return this.customColumns&&this.customColumns.some(function(t){if(t.id==n)return this.column=t,!0},t),t.column},setMultiConvert:function(n){var t=n.seperator?n.seperator:"\n";n.columns.forEach(function(n){this.multiConvert[n]=t}.bind(this))},convertDataType:function(n){var t=n.dataType||"";if(n.dataType1)switch(n.dataType1){case"DATETIME":/^(date)\d{2}$/gi.test(n.dateFormat)?t=n.dateFormat:n.dateFormat=="CustomDate"?(t="29",n.customizeDate==""&&(n.dateFormat="")):t="5";break;case"NUM":t=(ecount.common.isTrue(n.isDisplayZero)?"9":"8")+($.isNumber(n.decCount)?n.decCount:"0")}n.dataType=t},initDataType:function(n){var r=n.dataType||"",u,f,e=!1,i,o,t,s;r.length!==0&&(i=r.substring(0,1),o=r.substring(1),i=="1"||i=="2"||i=="5"?(n.dataType=r,t=n.controlOption||{},t.dataType=t.dataType||r,n.controlOption=t):(i=="8"||i=="9")&&(n.dataType=r,f=i=="8"?!1:i=="9"?!0:n.isShowIfZero!=undefined?n.isShowIfZero:!0,u=n.isCheckZero!=undefined?n.isCheckZero:!0,this.config.editable.use&&(s=n.controlOption&&n.controlOption.controlType,s=="widget.input.number"&&(f=i=="8"?!1:i=="9"?!0:n.isShowIfZero!=undefined?n.isShowIfZero:!0,e=!0)),n.isCheckZero=u,n.isShowIfZero=f,t=n.controlOption||{},t.dataType=t.decimalUnit!=undefined?"9"+t.decimalUnit[1].toString():"9"+o,t.isCheckZero=e?!1:u,t.decimalUnit=t.decimalUnit||[ecount.common.number.defaultLength,ecount.common.number.defaultPointLength],t.numberType=t.numberType!=undefined?t.numberType:this.constValue.numberType.decimal,n.controlOption=t))},makeColumnDataType:function(n){if(this.convertDataType(n),this.initDataType(n),n.dataType){var t=n.dataType.substring(0,1),i=null;["1","2","5"].contains(t)?i=ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?(i=ecount.convertor.dataTypeConvertor[t],this.convertorDecimal[n.id]=ecount.convertor.dataTypeConvertor[t]):i=/^(date)\d{2}$/gi.test(n.dataType)?ecount.convertor.dataTypeConvertor.date:function(n){return n};n.converter=i}},getConvetorDecimalList:function(){return this.convertorDecimal},convertControlType:function(n){if(n.controlType!=null&&n.controlType!=undefined&&n.controlType!=""&&!/^widget.gridCell.*/.test(n.controlType)){var t=n.controlType.split(".");t.splice(1,0,"gridCell");n.controlType=t.join(".")}},getNumberingColumn:function(n){var i=this.config.numbering.headerStyle||{},r="widget.gridCell.label",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"25":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.rowNumberingPropertyName,propertyName:this.constValue.rowNumberingPropertyName,originalId:this.constValue.rowNumberingPropertyName,sectionType:this.constValue.sectionType.tbody,width:f,title:e,align:u,className:"text-"+u,controlType:r,columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{}},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},getCheckBoxColumn:function(n){var i=this.config.checkbox.headerStyle,r="widget.gridCell.checkboxNumbered",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"25":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.checkBoxPropertyName,propertyName:this.constValue.checkBoxPropertyName,originalId:this.constValue.checkBoxPropertyName,sectionType:this.constValue.sectionType.tbody,width:f,title:e,align:u,className:"text-"+u,controlType:r,editableState:"1",columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{},countingDeterminer:this.config.checkbox.getManageCountingDeterminer(this.constValue.checkBoxPropertyName),checkingDeterminer:this.config.checkbox.getManageCheckingDeterminer(this.constValue.checkBoxPropertyName)},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},getRowmoveableColumn:function(n){var i=this.config.rowmoveable.headerStyle||{},r="widget.link.icon",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"25":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.rowMoveablePropertyName,propertyName:this.constValue.rowMoveablePropertyName,originalId:this.constValue.rowMoveablePropertyName,sectionType:this.constValue.sectionType.tbody,width:f,title:e,align:u,className:"text-"+u,controlType:r,editableState:"1",columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{}},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},getFoldColumn:function(n){var i=this.config.foldColumn.headerStyle||{},r="widget.gridCell.foldColumn",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"20":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.foldColumnPropertyName,propertyName:this.constValue.foldColumnPropertyName,originalId:this.constValue.foldColumnPropertyName,sectionType:this.constValue.sectionType.tbody,width:f,title:e,align:u,className:"text-"+u,controlType:r,editableState:"1",columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{}},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},setRowHeight:function(){var o=this.getForm(),u=0,r,t,i,f,n,e;for(o.forEach(function(n){(u==0||n.linechange)&&(u+=1)}),r=0;r<u;r++)if(i=this.config.tbodyRowData.maxRowCountPerGrid||1,n=this.config.tbodyRowData.trHeights,this.config.common.isIncludeHeaderRowDataLength&&(i-=this.config.theadRowData.rowDatas.length),$.isPlainObject(this.config.tbodyRowData.trHeights)&&(n=this.config.tbodyRowData.trHeights[this.constValue.sectionSeparateType.line]),$.isArray(n)){if(f=n[r]>0?n[r]:n[0],f>0)t=f;else if(this.config.common.renderType==this.constValue.gridRenderType.typeSpecTran||this.config.common.renderType==this.constValue.gridRenderType.salaryPrint)e=this.config.common.gridCountPerPage,t=parseInt((245-i)/i,10),e==1&&(t=parseInt((720-i)/i,10));else if(this.config.common.renderType==this.constValue.gridRenderType.salaryPayrollBookList){var s=this.config.common.pageWay=="P"?this.config.common.pageHeight:this.config.common.pageWidth,h=Math.floor((s-(this.config.common.topMargin+this.config.common.bottomMargin+50))/25.4*96);t=Math.floor(h/(i*u))}(t||t===0)&&n&&(n[r]=t)}},addSystemColumn:function(){var nt=this.config.numbering.use,tt=this.config.numbering.index,it=this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName),rt=this.config.checkbox.index,ut=this.config.rowmoveable.use,ft=this.config.rowmoveable.index||1,i,r,e,g,n,o,u;isUseFoldColumn=this.config.foldColumn.use;var y,p,w,b,l=!1,t=this.getForm(),s=t[0],h=0,k=0,c=0,f=[];t.forEach(function(n){l||(l=n.columnType==this.constValue.columnBitmask.comparisonPeriod);(h==0||n.linechange)&&(h+=1);n.linechange&&(c+=1);f[c]||(f[c]=[]);f[c].push(n);h==1&&(k+=1)}.bind(this));var a=!1,v=!1,d=0;for(i=0;i<h;i++){for(r=[],nt&&(y=this.getNumberingColumn(_.pick(f[i][0],["GROUP_FLAG"])),r.push({index:tt,item:y})),it&&(p=this.getCheckBoxColumn(_.pick(f[i][0],["GROUP_FLAG"])),r.push({index:rt,item:p})),ut&&(w=this.getRowmoveableColumn(_.pick(f[i][0],["GROUP_FLAG"])),r.push({index:ft,item:w})),isUseFoldColumn&&(b=this.getFoldColumn(_.pick(f[i][0],["GROUP_FLAG"])),r.push({index:t.length+r.length,item:b})),r.length>1&&(r=r.sort(function(n,t){return n.index-t.index})),e=0,g=r.length;e<g;e++)n=r[e].item,o={},n.lineNo=i+1,this.config.common.columnType==this.constValue.columnType.single?(o=_.pick(s,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"]),s.footerOption&&(o.footerOption=_.pick(s.footerOption,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"]))):this.config.common.columnType==this.constValue.columnType.multi&&(o=_.pick(s,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"])),_.extend(n,o),u=i*k+d+r[e].index,t.splice(u,0,n),i!=0&&(n.id+="-"+i.toString(),n.originalId+="-"+i.toString(),n.propertyName+="-"+i.toString(),e==0&&(n.linechange=!0,t[u+1]&&(t[u+1].linechange=!1))),n.id.test(this.constValue.checkBoxPropertyNameRex)&&(a==!1&&v==!1?this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlySlip?t[u+1]&&t[u+1].GROUP_FLAG==this.constValue.sectionSeparateValue.slip&&(n.GROUP_FLAG=this.constValue.sectionSeparateValue.slip,v=!0):(this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.merge||this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlyLine)&&t[u+1]&&(t[u+1].GROUP_FLAG==undefined||t[u+1].GROUP_FLAG==null||t[u+1].GROUP_FLAG!=this.constValue.sectionSeparateValue.slip?(n.GROUP_FLAG=this.constValue.sectionSeparateValue.line,a=!0,u!=0&&(t[0].id=n.id,t[0].propertyName=n.propertyName,n.id=this.constValue.checkBoxPropertyName,n.propertyName=this.constValue.checkBoxPropertyName)):n.GROUP_FLAG=this.constValue.sectionSeparateValue.slip):l?i>1&&(n.controlType="widget.gridCell.label"):n.controlType="widget.gridCell.label",a==!1&&v==!1&&(n.controlType="widget.gridCell.label"));d+=r.length}},getColumnClassName:function(n){var i={},t="";return(ecount.common.isTrue(n.fontBold)||ecount.common.isTrue(i.styleFontBold))&&(t+="text-bold "),n.fontSize&&!isNaN(n.fontSize)?t+="font-"+n.fontSize+"px ":i.styleFontSize&&!isNaN(i.styleFontSize)&&(t+="font-"+i.styleFontSize+"px "),n.align?t+="text-"+n.align.toString().toLowerCase()+" ":i.styleFontAlign&&(t+="text-"+i.styleFontAlign.toString().toLowerCase()+" "),ecount.common.isTrue(n.ellipsis)&&(t+="ellipsis "),(ecount.common.isTrue(n.fontItalic)||ecount.common.isTrue(i.styleFontItalic))&&(t+="text-italic "),n.valign?t+="valign-"+n.valign.toString().toLowerCase()+" ":i.styleFontVAlign&&(t+="valign-"+i.styleFontVAlign.toString().toLowerCase()+" "),n.font?t+="font-"+ecount.convertor.convertFontClassName(n.font.toString())+" ":i.styleFont&&(t+="font-"+ecount.convertor.convertFontClassName(i.styleFont.toString())+" "),ecount.common.isTrue(n.fontStrike)&&ecount.common.isTrue(n.fontUnderline)||ecount.common.isTrue(i.styleFontStrike)&&ecount.common.isTrue(i.styleFontUnderline)?t+="grid-text-uline-through ":((ecount.common.isTrue(n.fontStrike)||ecount.common.isTrue(i.styleFontStrike))&&(t+="text-line-through "),(ecount.common.isTrue(n.fontUnderline)||ecount.common.isTrue(i.styleFontUnderline))&&(t+="text-uline ")),ecount.common.isTrue(n.isEmptyCell)&&(t+="border-no-a "),this.config.common.isDynamicWidth===!0&&ecount.common.isTrue(n.isDynamicWidth)&&(t+="text-nowrap "),ecount.common.isTrue(n.isShadow)&&(t+="bg-muted "),n.className?n.className+" "+t:t},createGenerator:function(){this.generator||(this.generator=ecount.gridV3.generatorColumn.column("tempColumnId",this.prefixIdIdx,this.config.common.columnType,this.defaultValue))},end:function(){var n=this.apiFormData;this.forms=null;this.convertorDecimal={};n?this.initSingleForm(Object.clone(n)):this.initSingleCustomForm()},initSingleForm:function(n){for(var e,f=0,o=0,s=0,t=0,h=n.length;t<h;t++){var u=n[t].id||"",c=n[t][this.propertyName],r=this.customColumns&&this.customColumns.find(function(n){return n.id==u});n[t].realId=u;e=n[t].index!=undefined?n[t].index:t;n[t].sectionType=this.constValue.sectionType.tbody;r&&r.index!=undefined&&(e=r.index);n[t].index=e;n[t].propertyName=this.propertyNormalizer(c||"A"+(n[t].index!=undefined?n[t].index:i));n[t].columnOption=n[t].columnOption||{};n[t].footerOption=n[t].footerOption||{};n[t].controlOption=n[t].controlOption||{};r?r.propertyName=n[t].propertyName:r={};n[t]=$.extend(!0,{},n[t],r);n[t].align&&n[t].align.toLowerCase&&(n[t].align=n[t].align.toLowerCase());n[t].valign&&n[t].valign.toLowerCase&&(n[t].valign=n[t].valign.toLowerCase());n[t].font&&n[t].font.toLowerCase&&(n[t].font=n[t].font.toLowerCase());typeof n[t].controlOption=="string"&&(n[t].widgetOptions=n[t].controlOption,n[t].controlOption={});n[t].columnOption.controlType||n[t].controlType=="widget.sortable"&&(n[t].columnOption.controlType=n[t].controlType);this.config.editable.use?this.config.tree&&this.config.tree.use&&this.config.tree.treeColumns&&this.config.tree.treeColumns.contains(n[t].id)?(n[t].controlOption&&n[t].controlOption.controlType||!n[t].controlType||(n[t].controlOption=n[t].controlOption||{},n[t].controlOption.controlType=n[t].controlType),n[t].controlType="widget.gridCell.treeWidget"):(n[t].controlOption&&n[t].controlOption.controlType||!n[t].controlType||(n[t].controlOption=n[t].controlOption||{},n[t].controlOption.controlType=n[t].controlType),!n[t].controlType||this.constValue.nativeViewControlType[n[t].controlType]||ecount.grid.constValue.customizerRex.test(n[t].controlType)||(n[t].controlType=this.constValue.viewControl[n[t].controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(n[t]);ecount.common.isTrue(n[t].linechange)&&(f+=1);/(-)?\d+/g.test(n[t].lineNo)||(n[t].lineNo=f+1);f==0&&(o+=1,/tempRepeat\d+/g.test(n[t].id)&&(s+=1));n[t].sectionType=this.constValue.sectionType.tbody;n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());n[t].fontColor&&n[t].fontColor.trim()=="000000"&&(n[t].fontColor="");n[t].columnOption.fontColor&&n[t].columnOption.fontColor.trim()=="000000"&&(n[t].columnOption.fontColor="");n[t].footerOption.fontColor&&n[t].footerOption.fontColor.trim()=="000000"&&(n[t].footerOption.fontColor="");!this.config.keyboard.isMoveCursorIndex&&_.isNumber(n[t].cursorIndex)&&(this.config.keyboard.isMoveCursorIndex=!0);this.config.editable.use&&(n[t].width===0||n[t].width==="0"||n[t].width===undefined)&&(n[t].isHideColumn=!0);(!this.config.common.isFreeSizeWidth&&$.isNull(n[t].isHideColumn)||ecount.common.isFalse(n[t].isHideColumn))&&($.isNull(n[t].width)||n[t].width==="")&&(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(n[t]);n[t].className=this.getColumnClassName(n[t]);this.constValue.nativeControlInWidgetCheckbox[n[t].controlType]&&this.config.setCheckBoxUse(n[t].id,!0);n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());this.customCellCallback[u]&&(n[t].customCellCallback=this.customCellCallback[u]);this.customColumnCallback[u]&&(n[t].customColumnCallback=this.customColumnCallback[u])}this.forms=n;this.columns=n;this.addSystemColumn();this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initSingleCustomForm:function(){this.customColumns&&(this.createGenerator(),this.columns=Object.clone(this.customColumns,!0),this.columns.forEach(function(n,t){var i=n.id,r;/tempRepeat\d+/g.test(i)||(n.realId=i);n.sectionType=this.constValue.sectionType.tbody;r=n[this.propertyName];n.propertyName=this.propertyNormalizer(r||n.propertyName||"A"+t.toString());n.columnOption=n.columnOption||{};n.footerOption=n.footerOption||{};n.controlOption=n.controlOption||{};n.fontColor&&n.fontColor.trim()=="000000"&&(n.fontColor="");n.columnOption.fontColor&&n.columnOption.fontColor.trim()=="000000"&&(n.columnOption.fontColor="");n.footerOption.fontColor&&n.footerOption.fontColor.trim()=="000000"&&(n.footerOption.fontColor="");n.align&&n.align.toLowerCase&&(n.align=n.align.toLowerCase());n.valign&&n.valign.toLowerCase&&(n.valign=n.valign.toLowerCase());this.config.editable.use?this.config.tree&&this.config.tree.use&&this.config.tree.treeColumns&&this.config.tree.treeColumns.contains(n.id)?(!n.controlOption.controlType&&n.controlType&&(n.controlOption.controlType=n.controlType),n.controlType="widget.gridCell.treeWidget"):(!n.controlOption.controlType&&n.controlType&&(n.controlOption.controlType=n.controlType),!n.controlType||this.constValue.nativeViewControlType[n.controlType]||ecount.grid.constValue.customizerRex.test(n.controlType)||(n.controlType=this.constValue.viewControl[n.controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(n);!this.config.keyboard.isMoveCursorIndex&&_.isNumber(n.cursorIndex)&&(this.config.keyboard.isMoveCursorIndex=!0);n.GROUP_FLAG&&typeof n.GROUP_FLAG=="number"&&(n.GROUP_FLAG=n.GROUP_FLAG.toString());this.customCellCallback[i]&&(n.customCellCallback=this.customCellCallback[i]);this.customColumnCallback[i]&&(n.customColumnCallback=this.customColumnCallback[i]);this.config.common.isFreeSizeWidth||n.width!=""||(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(n);n.className=this.getColumnClassName(n);this.constValue.nativeControlInWidgetCheckbox[n.controlType]&&this.config.setCheckBoxUse(n.id,!0)}.bind(this)),this.addSystemColumn());this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initMultiForm:function(){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initMultiCustomForm:function(){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})}});ecount.class("ecount.gridV3.settings.sectionTfootColumn",null,{init:function(n){_.extend(this,n);this.customColumns=null;this.normalize=null;this.propertyName=null;this.customCellCallback={};this.customColumnCallback={};this.convertorDecimal={};this.forms=null;this.apiFormData=null;this.formOption=null;this.visible=!0;this.constValue=ecount.grid.constValue},render:function(){},destroy:function(){},setColumns:function(n){this.customColumns=n},setVisible:function(n){this.visible=n===!0},setIsAutoCalculate:function(n){this.isAutoCalculate=n},setAutoCalculate:function(n){var i,t,r;n=n||{};i={};for(t in n)r=t,i[r]={actionType:n[t].actionType,sourceColumnId:n[t].sourceColumnId,targetColumnId:n[t].targetColumnId};this.autoCalculate=i},setInitAutoCalculcate:function(n){this.initAutoCalculcate=n},__getColumns:function(){return this.columns||[]},__getForms:function(n){if(n=n===!0,n){var t=[];return this.forms.forEach(function(n){t.push(Object.clone(n,!0))}),t}return this.forms},setRowCustom:function(n){this.columnRowsObject=$.isArray(n)?n.toArray():[]},setFormData:function(n){n=n||{};this.apiFormData=n.columns;this.formOption=n.option||{};this.config.formDataParameter=null},setFormDataById:function(n,t){var i=this.apiFormData.find(function(t){return t.id===n});i&&(i=_.extend(i,t))},getFormData:function(){return this.apiFormData},getForm:function(n){return this.config.form.formDataUrl&&this.config.formDataParameter||this.config.rowDataApiInfo.isWithColumn||this.forms?this.__getForms(n):this.__getColumns(n)},setPropertyNormailze:function(n){this.normalize=typeof n=="string"?n.toUpperCase():n},getNormalize:function(){return this.normalize},setPropertyName:function(n){this.propertyName=n},getPropertyName:function(){return this.propertyName||"id"},propertyNormalizer:function(n){if(this.normalize){if(this.normalize=="UPPER")return typeof n=="string"?n.toUpperCase():n;if(this.normalize=="UPPER")return typeof n=="string"?n.toLowerCase():n}else return n},setCustomCell:function(n,t){this.customCellCallback[n]=t},setCustomColumn:function(n,t){this.customColumnCallback[n]=t},setGenerator:function(n){this.generator=n},getColumnById:function(n){var t={column:null};return this.customColumns&&this.customColumns.some(function(t){if(t.id==n)return this.column=t,!0},t),t.column},convertDataType:function(n){var t=n.dataType||"";if(n.dataType1)switch(n.dataType1){case"DATETIME":/^(date)\d{2}$/gi.test(n.dateFormat)?t=n.dateFormat:n.dateFormat=="CustomDate"?(t="29",n.customizeDate==""&&(n.dateFormat="")):t="5";break;case"NUM":t=(ecount.common.isTrue(n.isDisplayZero)?"9":"8")+($.isNumber(n.decCount)?n.decCount:"0")}n.dataType=t},initDataType:function(n){var r=n.dataType||"",u,f,i,e,t;r.length!==0&&(i=r.substring(0,1),e=r.substring(1),i=="1"||i=="2"||i=="5"?(n.dataType=r,t=n.controlOption||{},t.dataType=t.dataType||r,n.controlOption=t):(i=="8"||i=="9")&&(n.dataType=r,f=i=="8"?!1:i=="9"?!0:n.isShowIfZero!=undefined?n.isShowIfZero:!0,u=n.isCheckZero!=undefined?n.isCheckZero:!0,n.isCheckZero=u,n.isShowIfZero=f,t=n.controlOption||{},t.dataType=t.decimalUnit!=undefined?"9"+t.decimalUnit[1].toString():"9"+e,t.isCheckZero=u,t.decimalUnit=t.decimalUnit||[ecount.common.number.defaultLength,ecount.common.number.defaultPointLength],t.numberType=t.numberType!=undefined?t.numberType:this.constValue.numberType.decimal,n.controlOption=t))},makeColumnDataType:function(n){if(this.convertDataType(n),this.initDataType(n),n.dataType){var t=n.dataType.substring(0,1),i=null;["1","2","5"].contains(t)?i=ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?(i=ecount.convertor.dataTypeConvertor[t],this.convertorDecimal[n.id]=ecount.convertor.dataTypeConvertor[t]):i=/^(date)\d{2}$/gi.test(n.dataType)?ecount.convertor.dataTypeConvertor.date:function(n){return n};n.converter=i}},getConvetorDecimalList:function(){return this.convertorDecimal},convertControlType:function(n){if(n.controlType!=null&&n.controlType!=undefined&&n.controlType!=""&&!/^widget.gridCell.*/.test(n.controlType)){var t=n.controlType.split(".");t.splice(1,0,"gridCell");n.controlType=t.join(".")}},getNumberingColumn:function(){var t=this.config.numbering.headerStyle||{},i="widget.gridCell.label",r=$.isEmpty(t.align)?"center":t.align,u=$.isEmpty(t.width)?"25":t.width,f=$.isEmpty(t.title)?"":t.title,n={id:this.constValue.rowNumberingPropertyName,propertyName:this.constValue.rowNumberingPropertyName,originalId:this.constValue.rowNumberingPropertyName,sectionType:this.constValue.sectionType.tfoot,width:u,title:f,align:r,className:"text-"+r,controlType:i,columnOption:{controlType:i},footerOption:{}};return this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getCheckBoxColumn:function(){var t=this.config.checkbox.headerStyle,i="widget.gridCell.label",n;return align=$.isEmpty(t.align)?"center":t.align,width=$.isEmpty(t.width)?"25":t.width,title=$.isEmpty(t.title)?"":t.title,n={id:this.constValue.checkBoxPropertyName,propertyName:this.constValue.checkBoxPropertyName,originalId:this.constValue.checkBoxPropertyName,sectionType:this.constValue.sectionType.tfoot,width:width,title:title,align:align,className:"text-"+align,controlType:i,editableState:"1",columnOption:{controlType:i},footerOption:{}},this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getRowmoveableColumn:function(){var t=this.config.rowmoveable.headerStyle||{},i="widget.gridCell.label",r=$.isEmpty(t.align)?"center":t.align,u=$.isEmpty(t.width)?"25":t.width,f=$.isEmpty(t.title)?"":t.title,n={id:this.constValue.rowMoveablePropertyName,propertyName:this.constValue.rowMoveablePropertyName,originalId:this.constValue.rowMoveablePropertyName,sectionType:this.constValue.sectionType.tfoot,width:u,title:f,align:r,className:"text-"+r,controlType:i,editableState:"1",columnOption:{controlType:i},footerOption:{}};return this.customCellCallback[n.id]&&(n.customCellCallback=this.customCellCallback[n.id]),this.customColumnCallback[n.id]&&(n.customColumnCallback=this.customColumnCallback[n.id]),n},getFoldColumn:function(n){var i=this.config.foldColumn.headerStyle||{},r="widget.gridCell.label",u=$.isEmpty(i.align)?"center":i.align,f=$.isEmpty(i.width)?"20":i.width,e=$.isEmpty(i.title)?"":i.title,t=_.extend({id:this.constValue.foldColumnPropertyName,propertyName:this.constValue.foldColumnPropertyName,originalId:this.constValue.foldColumnPropertyName,sectionType:this.constValue.sectionType.tfoot,width:f,title:e,align:u,className:"text-"+u,controlType:r,editableState:"1",columnOption:{controlType:r},controlOption:{controlType:r},footerOption:{}},n);return this.customCellCallback[t.id]&&(t.customCellCallback=this.customCellCallback[t.id]),this.customColumnCallback[t.id]&&(t.customColumnCallback=this.customColumnCallback[t.id]),t},addSystemColumn:function(){var p=this.config.numbering.use,w=this.config.numbering.index,b=this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName),k=this.config.checkbox.index,d=this.config.rowmoveable.use,g=this.config.rowmoveable.index||1,nt=this.config.foldColumn.use,h,c,l,r=this.getForm(),a=r[0],e=0,v=0,s,t,n,u,y,i,o,f;for(r.forEach(function(n){(e==0||n.linechange)&&(e+=1);e==1&&(v+=1)}),s=0,t=0;t<e;t++){for(n=[],p&&(h=this.getNumberingColumn(),n.push({index:w,item:h})),b&&(c=this.getCheckBoxColumn(),n.push({index:k,item:c})),d&&(l=this.getRowmoveableColumn(),n.push({index:g,item:l})),nt&&(foldColumn=this.getFoldColumn(),n.push({index:r.length+n.length,item:foldColumn})),n.length>1&&(n=n.sort(function(n,t){return n.index-t.index})),u=0,y=n.length;u<y;u++)i=n[u].item,o={},i.lineNo=t+1,this.config.common.columnType==this.constValue.columnType.single?o=_.pick(a.footerOption,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"]):this.config.common.columnType==this.constValue.columnType.multi&&(o=_.pick(a,["BTTM_BORD_COLOR_CD","BTTM_BORD_STYL_CD","BTTM_BORD_THICK","BTTM_BORD_USE_TF","LEFT_BORD_COLOR_CD","LEFT_BORD_STYL_CD","LEFT_BORD_THICK","LEFT_BORD_USE_TF","RGT_BORD_COLOR_CD","RGT_BORD_STYL_CD","RGT_BORD_THICK","RGT_BORD_USE_TF","TOP_BORD_COLOR_CD","TOP_BORD_STYL_CD","TOP_BORD_THICK","TOP_BORD_USE_TF","fontCellBgColor"])),_.extend(i,o),f=t*v+s+n[u].index,r.splice(f,0,i),t!=0&&(i.id+="-"+t.toString(),i.originalId+="-"+t.toString(),i.propertyName+="-"+t.toString(),u==0&&(i.linechange=!0,r[f+1]&&(r[f+1].linechange=!1))),r[f+1]&&(i.GROUP_FLAG=r[f+1].GROUP_FLAG);s+=n.length}},getColumnClassName:function(n){var i=this.config.foot,t="";return ecount.common.isTrue(n.fontBold)&&(t+="text-bold "),n.fontSize&&!isNaN(n.fontSize)&&(t+="font-"+n.fontSize+"px "),n.align&&(t+="text-"+n.align.toString().toLowerCase()+" "),ecount.common.isTrue(n.ellipsis)&&(t+="ellipsis "),ecount.common.isTrue(n.fontItalic)&&(t+="text-italic "),n.valign&&(t+="valign-"+n.valign.toString().toLowerCase()+" "),n.font&&(t+="font-"+ecount.convertor.convertFontClassName(n.font.toString())+" "),ecount.common.isTrue(n.fontStrike)&&ecount.common.isTrue(n.fontUnderline)?t+="grid-text-uline-through ":(ecount.common.isTrue(n.fontStrike)&&(t+="text-line-through "),ecount.common.isTrue(n.fontUnderline)&&(t+="text-uline ")),ecount.common.isTrue(n.isEmptyCell)&&(t+="border-no-a "),this.config.common.isDynamicWidth===!0&&ecount.common.isTrue(n.isDynamicWidth)&&(t+="text-nowrap "),ecount.common.isTrue(n.isShadow)&&(t+="bg-muted "),t},setRowHeight:function(){var o=this.getForm(),u=0,i,t,r,n,f,e;for(o.forEach(function(n){(u==0||n.linechange)&&(u+=1)}),i=0;i<u;i++){if(r=this.config.common.bodyRowCount||1,n=this.config.tfootRowData.trHeights,$.isPlainObject(this.config.tbodyRowData.trHeights)&&(n=this.config.tfootRowData.trHeights[this.constValue.sectionSeparateType.line]),f=$.isArray(n)&&(n[i]>0?n[i]:n[0]),f>0)t=f;else if(this.config.common.renderType==this.constValue.gridRenderType.typeSpecTran||this.config.common.renderType==this.constValue.gridRenderType.salaryPrint)e=this.config.common.gridCountPerPage,t=parseInt((245-r)/r,10),e==1&&(t=parseInt((720-r)/r,10));else if(this.config.common.renderType==this.constValue.gridRenderType.salaryPayrollBookList){var s=this.config.common.pageWay=="P"?this.config.common.pageHeight:this.config.common.pageWidth,h=Math.floor((s-(this.config.common.topMargin+this.config.common.bottomMargin+50))/25.4*96);t=Math.floor(h/(r*u))}(t||t===0)&&n&&(n[i]=t)}},createGenerator:function(){this.generator||(this.generator=ecount.gridV3.generatorColumn.column("tempColumnId",this.prefixIdIdx,this.config.common.columnType,this.defaultValue))},end:function(){var n=this.apiFormData;this.forms=null;this.convertorDecimal={};n?this.initSingleForm(Object.clone(n)):this.initSingleCustomForm()},initSingleForm:function(n){var f=0,s=0,h=0,t,o,e;for(this.createGenerator(),t=0,o=n.length;t<o;t++){var u=n[t].id||"",c=n[t][this.propertyName],r=this.customColumns&&this.customColumns.find(function(n){return n.id==u});n[t].realId=u;e=n[t].index!=undefined?n[t].index:t;n[t].sectionType=this.constValue.sectionType.tfoot;r&&r.index!=undefined&&(e=r.index);n[t].index=e;n[t].propertyName=this.propertyNormalizer(c||"A"+(n[t].index!=undefined?n[t].index:i));n[t].columnOption=n[t].columnOption||{};n[t].footerOption=n[t].footerOption||{};n[t].controlOption=n[t].controlOption||{};r?r.propertyName=n[t].propertyName:r={};n[t]=$.extend(!0,{},n[t],r);n[t].align&&n[t].align.toLowerCase&&(n[t].align=n[t].align.toLowerCase());n[t].valign&&n[t].valign.toLowerCase&&(n[t].valign=n[t].valign.toLowerCase());typeof n[t].controlOption=="string"&&(n[t].widgetOptions=n[t].controlOption,n[t].controlOption={});n[t].columnOption.controlType||n[t].controlType=="widget.sortable"&&(n[t].columnOption.controlType=n[t].controlType);this.config.editable.use?(n[t].controlOption&&n[t].controlOption.controlType||!n[t].controlType||(n[t].controlOption=n[t].controlOption||{},n[t].controlOption.controlType=n[t].controlType),n[t].controlType&&!this.constValue.nativeViewControlType[n[t].controlType]&&(n[t].controlType=this.constValue.viewControl[n[t].controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(n[t]);ecount.common.isTrue(n[t].linechange)&&(f+=1);/(-)?\d+/g.test(n[t].lineNo)||(n[t].lineNo=f+1);f==0&&(s+=1,/tempRepeat\d+/g.test(n[t].id)&&(h+=1));n[t].sectionType=this.constValue.sectionType.tfoot;n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());n[t].fontColor&&n[t].fontColor.trim()=="000000"&&(n[t].fontColor="");n[t].columnOption.fontColor&&n[t].columnOption.fontColor.trim()=="000000"&&(n[t].columnOption.fontColor="");n[t].footerOption.fontColor&&n[t].footerOption.fontColor.trim()=="000000"&&(n[t].footerOption.fontColor="");this.config.editable.use&&(n[t].width===0||n[t].width==="0"||n[t].width===undefined)&&(n[t].isHideColumn=!0);(!this.config.common.isFreeSizeWidth&&$.isNull(n[t].isHideColumn)||ecount.common.isFalse(n[t].isHideColumn))&&($.isNull(n[t].width)||n[t].width==="")&&(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(n[t]);n[t].footerOption.className=this.getColumnClassName(n[t]);this.config.common.columnType==this.constValue.columnType.single&&_.extend(n[t],n[t].footerOption);n[t].GROUP_FLAG&&typeof n[t].GROUP_FLAG=="number"&&(n[t].GROUP_FLAG=n[t].GROUP_FLAG.toString());this.customCellCallback[u]&&(n[t].customCellCallback=this.customCellCallback[u]);this.customColumnCallback[u]&&(n[t].customColumnCallback=this.customColumnCallback[u])}this.forms=n;this.addSystemColumn();this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initSingleCustomForm:function(){this.customColumns&&(this.createGenerator(),this.columns=Object.clone(this.customColumns,!0),this.columns.forEach(function(n,t){var i=n.id,r;/tempRepeat\d+/g.test(i)||(n.realId=i);n.sectionType=this.constValue.sectionType.tfoot;r=n[this.propertyName];n.propertyName=this.propertyNormalizer(r||n.propertyName||"A"+t.toString());n.columnOption=n.columnOption||{};n.footerOption=n.footerOption||{};n.controlOption=n.controlOption||{};n.fontColor&&n.fontColor.trim()=="000000"&&(n.fontColor="");n.columnOption.fontColor&&n.columnOption.fontColor.trim()=="000000"&&(n.columnOption.fontColor="");n.footerOption.fontColor&&n.footerOption.fontColor.trim()=="000000"&&(n.footerOption.fontColor="");n.align&&n.align.toLowerCase&&(n.align=n.align.toLowerCase());n.valign&&n.valign.toLowerCase&&(n.valign=n.valign.toLowerCase());this.config.editable.use?(!n.controlOption.controlType&&n.controlType&&(n.controlOption.controlType=n.controlType),n.controlType&&!this.constValue.nativeViewControlType[n.controlType]&&(n.controlType=this.constValue.viewControl[n.controlOption.controlType]||"widget.gridCell.label")):this.convertControlType(n);n.GROUP_FLAG&&typeof n.GROUP_FLAG=="number"&&(n.GROUP_FLAG=n.GROUP_FLAG.toString());this.customCellCallback[i]&&(n.customCellCallback=this.customCellCallback[i]);this.customColumnCallback[i]&&(n.customColumnCallback=this.customColumnCallback[i]);this.config.common.isFreeSizeWidth||n.width!=""||(this.config.common.isFreeSizeWidth=!0);this.makeColumnDataType(n);n.className=this.getColumnClassName(n);this.config.common.columnType==this.constValue.columnType.single&&_.extend(n,n.footerOption)}.bind(this)),this.addSystemColumn());this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadColumnDataCompleted",{})},initMultiForm:function(){},initMultiCustomForm:function(){}});ecount.class("ecount.gridV3.settings.sectionTheadRowData",null,{init:function(n){_.extend(this,n);this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.keyIndex=0;this.rowDatas=null;this.rowDataKeys=null;this.trHeights=[];this.rowDataKeyGenerator=null;this.additionalDatas=null},render:function(){},destroy:function(){},setDatas:function(n){this.rowDatas=n},getDatas:function(n){return(n=n===!0,n)?Object.clone(this.rowDatas,!0):this.rowDatas},setKeys:function(n){this.rowDataKeys=n},setNotContainRowType:function(n){this.notContainRowType=n},setSkipRowLineRule:function(n){this.skipRowLineRule=n},setHeights:function(n){this.trHeights=$.isArray(n)?n:$.isNumber(n)?[n]:$.isPlainObject(n)?n:null},setAdditionalDatas:function(n){this.additionalDatas=n},setPropertyNormailze:function(n){this.propertyNormalize=typeof n=="string"?n.toUpperCase():n},makeKey:function(n,t){var i=[];t?(t.forEach(function(t){var r=this.config.column.getColumnById(t);i!=""&&(i+=ecount.constValue.rowKeySeparator);i+=(r&&n[r.propertyName]||n[t]||"").toString().replace(/\t/g,"    ")}.bind(this)),i==""?(n[this.constValue.keyColumnPropertyName]=this.keyIndex.toString(),this.keyIndex+=1):[this.constValue.subtotalRowType,this.constValue.totalRowType].contains(n[this.rowVariableNames.rowType])?(n[this.constValue.keyColumnPropertyName]=this.keyIndex.toString(),this.keyIndex+=1):n[this.constValue.keyColumnPropertyName]=i):(i=this.keyIndex++,n[this.constValue.keyColumnPropertyName]=i.toString())},createRowDataKeyGenerator:function(){var n=this.rowDataKeys&&this.rowDataKeys.length>0?[]:null;this.rowDataKeys&&this.rowDataKeys.forEach(function(t){var i=this.config.column.getColumnById(t);n.push(i&&i.propertyName||t)}.bind(this));n&&n.length>0&&(this.rowDataKeyProperties=n);this.rowDataKeyGenerator=new ecount.gridV3.rowDataKeyGenerator({rowDataKeyProperties:n})},initPropertyNormalize:function(){if(this.propertyNormalize){this.propertyNormalize=="UPPER"?(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toUpperCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:['"label":','"checked":'].contains(n)?n:n.toUpperCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n}):(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toLowerCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:['"label":','"checked":'].contains(n)?n:n.toLowerCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n});for(var n in this.constValue.rowVariableNames)this.propertyNormalize=="UPPER"?this.constValue.rowVariableNames[n].toUpperCase():this.constValue.rowVariableNames[n].toLowerCase()}else this.normalizeProperties=function(n){return n},this.arrayNormalizeProperties=function(n){return n}},makeSystemMergeSet:function(n,t){var i=n[this.rowVariableNames.mergeSet]||[],u,r,f,h=!1,c=!1,l=!1,s=1,e=0,a=this.config.column.getForm(),o;a.forEach(function(n){n.linechange&&(s+=1);s==1&&(e+=1)});o=0;this.config.checkbox.use&&(u={},u[this.rowVariableNames.mergeStartIndex]=this.config.checkbox.index,u[this.rowVariableNames.rowspanCount]=s,i.push(u),e-=1,o+=1);this.config.rowmoveable.use&&(r={},r[this.rowVariableNames.mergeStartIndex]=this.config.rowmoveable.index,r[this.rowVariableNames.rowspanCount]=s,r[this.rowVariableNames.isCenterAlign]=!0,i.push(r),e-=1,o+=1);this.config.numbering.use&&(f={},f[this.rowVariableNames.mergeStartIndex]=this.config.numbering.index,f[this.rowVariableNames.rowspanCount]=s,i.push(f),e-=1,o+=1);this.config.column.columnRowsObject&&this.config.column.columnRowsObject[t]&&this.config.column.columnRowsObject[t][this.rowVariableNames.mergeSet]&&(i=i.concat(Object.clone(this.config.column.columnRowsObject[t][this.rowVariableNames.mergeSet],!0)));i.forEach(function(n){var t=n[this.constValue.rowVariableNames.mergeStartIndex],v=n[this.constValue.rowVariableNames.rowspanCount]||1,y=n[this.constValue.rowVariableNames.colspanCount]||1,i=t===0?0:o,s,a;s=this.config.checkbox.use&&this.config.rowmoveable.use?Math.floor((t+i)/e):Math.floor((t-i)/e);a=Math.floor((t-i)%e);n[this.constValue.rowVariableNames.mergeStartIndex]+=o*s;u&&h===!1&&u[this.rowVariableNames.mergeStartIndex]==t&&u!=n?h=!0:r&&c===!1&&r[this.rowVariableNames.mergeStartIndex]==t&&r!=n?c=!0:f&&l===!1&&f[this.rowVariableNames.mergeStartIndex]==t&&f!=n&&(l=!0)}.bind(this));h&&i.splice(i.indexOf(u),1);c&&i.splice(i.indexOf(r),1);l&&i.splice(i.indexOf(f),1);i.sort(ecount.gridV3.utils.AscendingByMergeSet);n[this.rowVariableNames.mergeSet]=i},initRowDatas:function(){var t,n;this.initPropertyNormalize();this.createRowDataKeyGenerator();t=[];this.rowDatas&&(this.rowDatas=Object.clone(this.rowDatas,!0));var r=1,i=0,u=this.config.column.getForm();u.forEach(function(n){n.linechange&&(r+=1);r==1&&(i+=1)});n=this.config.fix.__leftFixedColumnIndex;this.rowDatas&&this.rowDatas.forEach(function(r,u){var e,f,s;if(r=this.normalizeProperties(r),r[this.constValue.keyColumnPropertyName]=this.rowDataKeyGenerator.get(r),this.makeSystemMergeSet(r,u),r[this.constValue.rowStatePropertyName]=this.constValue.rowState.create,r[this.constValue.rowIndexPropertyName]=u,r[this.constValue.rowCountColumnPropertyName]=u+1,this.config.fix.__leftFixedColumnIndex>-1)for(e=r[this.rowVariableNames.mergeSet]||[],f=0,s=e.length;f<s;f++){var o=e[f],h=o[this.constValue.rowVariableNames.mergeStartIndex],a=o[this.constValue.rowVariableNames.rowspanCount]||1,l=o[this.constValue.rowVariableNames.colspanCount]||1,v=h/i,c=h%i;if(n==c){n=c+l-1;this.config.fix.__leftFixedColumnIndex=-1;break}}t.push(r)}.bind(this));n>-1&&this.config.fix.setColumnFixed(n+1);this.rowDatas=t;this.config.column.setRowHeight()},end:function(){this.keyIndex=0;this.initRowDatas();this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadRowDataCompleted",{})}});ecount.class("ecount.gridV3.settings.sectionTbodyRowData",null,{init:function(n){_.extend(this,n);this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.__api=new ecount.gridV3.modules.api(null,{ajax:ecount.common.api});this.__apiPrefixId="_REQUEST_ROWDATA_";this.__apiPrefixIndex=1;this.keyIndex=0;this.rowDataKeys=null;this.rowDataKeyProperties=null;this.propertyNormalize=null;this.rowDataBundle=[];this.dataUseFirst=!1;this.bodyRowCount_default=0;this.maxRowCountPerGrid=null;this.currentMaxRowCountPerGrid=null;this.standardBodyRowCountPerGrid=null;this.standardBodyRowCountPerGrid_default=1;this.isCrossShade=!1;this.crossShadedType=null;this.crossShadedMultiple=2;this.crossShadedCss="tr-striped";this.crossShadedCallback=null;this.removeEmptyLine=null;this.removeEmptyLine_default=!1;this.rowDataKeyGenerator=null;this.isInitRowIndex=!1;this.initRowState=null;this.initRowCount=0;this.detailSectionInVisible=this.constValue.detailSectionInvisible.none;this.trHeights=[];this.emptyRowMergeInfo=null},render:function(){},destroy:function(){this.__api.destroyAll()},initPrintPageVariable:function(){this.originalTableId="";this.tableId="";this.tableIndex=0;this.currentPageCount=1;this.maxPageCount=0;this.madeRowCount=0;this.tableSplitIndex=0},setDatas:function(n){this.rowDatas=n;this.rowDataUseFirst=!0;this.dataUseFirst=!0},getDatas:function(n){return(n=n===!0,n)?Object.clone(this.rowDatas,!0):this.rowDatas},setKeys:function(n){this.rowDataKeys=n},setDefaultValue:function(n){this.defaultValue=n},setNotContainRowType:function(n){this.notContainRowType=n},setSkipRowLineRule:function(n){this.skipRowLineRule=n},setDetailSectionInvisible:function(n){this.detailSectionInvisible=n},setIsInitRowIndex:function(n){this.isInitRowIndex=n},setIsInitRowState:function(n){this.isInitRowState=n},setInitRowState:function(n){this.initRowState=n},setShowInputFakeOutLine:function(n){this.showInputFakeOutLine=n},setHeights:function(n){this.trHeights=$.isArray(n)?n:$.isNumber(n)?[n]:$.isPlainObject(n)?n:null},setAdditionalDatas:function(n){this.additionalDatas=n},setPropertyNormailze:function(n){this.propertyNormalize=typeof n=="string"?n.toUpperCase():n},setBackgroundColor:function(n,t){typeof n=="function"?(this.styleBackgroundColorDeterminer=n,this.styleBackgroundColor=t):(this.styleBackgroundColorDeterminer=null,this.styleBackgroundColor="")},setEmptyRowMergeInfo:function(n){this.emptyRowMergeInfo=n},setAutoAddRowOnLastRow:function(n){this.autoAddRowOnLastRow=n},setDisplayMergeType:function(n){this.displayMergeType=n},setAutoAddRowCount:function(n){this.autoAddRowCount=typeof n=="number"?n:10},setAutoAddRowMargin:function(n){this.autoAddRowMargin=typeof n=="number"?n:2},setMaxRowCountPerGrid:function(n){this.maxRowCountPerGrid=$.isNumber(n)?n:null},setStandardBodyRowCountPerGrid:function(n){this.standardBodyRowCountPerGrid=n},setRemoveEmptyLine:function(n){this.removeEmptyLine=n},setIsCrossShadedUse:function(n){this.isCrossShade=n},setCrossShadedMultiple:function(n){$.isNumber(n)&&(this.crossShadedMultiple=n)},setCrossShadedCss:function(n){n!=undefined&&n!=null&&(this.crossShadedCss=n)},setCrossShadedType:function(n){this.crossShadedType=n},setCrossShadedCallback:function(n){typeof n=="function"&&(this.crossShadedCallback=n)},createRowDataKeyGenerator:function(){var n=this.rowDataKeys&&this.rowDataKeys.length>0?[]:null;this.rowDataKeys&&this.rowDataKeys.forEach(function(t){var i=this.config.tbodyColumns.getColumnById(t);n.push(i&&i.propertyName||t)}.bind(this));n&&n.length>0&&(this.rowDataKeyProperties=n);this.rowDataKeyGenerator=new ecount.gridV3.rowDataKeyGenerator({rowDataKeyProperties:n})},initPropertyNormalize:function(){if(this.propertyNormalize){this.propertyNormalize=="UPPER"?(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toUpperCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:n.toUpperCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n}):(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toLowerCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:n.toLowerCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n});for(var n in this.constValue.rowVariableNames)this.propertyNormalize=="UPPER"?this.constValue.rowVariableNames[n].toUpperCase():this.constValue.rowVariableNames[n].toLowerCase()}else this.normalizeProperties=function(n){return n},this.arrayNormalizeProperties=function(n){return n}},makeSystemMergeSet:function(n){var i=n[this.rowVariableNames.mergeSet]||[],f=1,e=0,c=0,o=0,s=0,l=0,p=-1,t,r,u,a=!1,v=!1,y=!1,b=this.config.tbodyColumns.getForm(),w=0,h;b.forEach(function(n,t){t==0?n.GROUP_FLAG==this.constValue.sectionSeparateValue.slip?c+=1:n.GROUP_FLAG&&n.GROUP_FLAG!=this.constValue.sectionSeparateValue.line||(e+=1):n.columnType==this.constValue.columnBitmask.comparisonPeriod?l==0&&(l+=1,f-=1):n.linechange&&(f+=1,n.GROUP_FLAG==this.constValue.sectionSeparateValue.slip?c+=1:n.GROUP_FLAG&&n.GROUP_FLAG!=this.constValue.sectionSeparateValue.line||(e+=1));f==1&&(s+=1,o+=1);n.id.test(this.constValue.checkBoxPropertyNameRex)&&n.controlType=="widget.gridCell.checkboxNumbered"&&(p=t)}.bind(this));h=0;this.config.checkbox.use?(this.displayMergeType=this.config.checkbox.displayMergeType,w=p):this.displayMergeType=null;this.displayMergeType&&(t={},t[this.rowVariableNames.mergeStartIndex]=l*s+w,this.constValue.subtotalRex2.test(n[this.constValue.rowVariableNames.rowType])?this.displayMergeType==this.constValue.displayMergeType.onlySlip?t[this.rowVariableNames.rowspanCount]=c:this.displayMergeType==this.constValue.displayMergeType.onlyLine?(this.config.common.columnType==this.constValue.columnType.multi&&(t[this.rowVariableNames.mergeStartIndex]+=(c+e)*s),t[this.rowVariableNames.rowspanCount]=e):this.displayMergeType==this.constValue.displayMergeType.merge&&(this.config.common.columnType==this.constValue.columnType.multi&&(t[this.rowVariableNames.mergeStartIndex]+=e*s),t[this.rowVariableNames.rowspanCount]=f-e):this.displayMergeType==this.constValue.displayMergeType.onlySlip?t[this.rowVariableNames.rowspanCount]=c:this.displayMergeType==this.constValue.displayMergeType.onlyLine?t[this.rowVariableNames.rowspanCount]=e:this.displayMergeType==this.constValue.displayMergeType.merge&&(t[this.rowVariableNames.rowspanCount]=f),i.push(t),o-=1,h+=1);this.config.rowmoveable.use&&(r={},r[this.rowVariableNames.mergeStartIndex]=l*s+this.config.rowmoveable.index,r[this.rowVariableNames.rowspanCount]=f,r[this.rowVariableNames.isCenterAlign]=!0,i.push(r),o-=1,h+=1);this.config.numbering.use&&(u={},u[this.rowVariableNames.mergeStartIndex]=l*s+this.config.numbering.index,u[this.rowVariableNames.rowspanCount]=f,i.push(u),o-=1,h+=1);i.forEach(function(n){var i=n[this.constValue.rowVariableNames.mergeStartIndex],s=n[this.constValue.rowVariableNames.rowspanCount]||1,c=n[this.constValue.rowVariableNames.colspanCount]||1,f,e;subtractCount=i===0?0:h;f=Math.floor((i-subtractCount)/o);e=Math.floor((i-subtractCount)%o);t==n||r==n||u==n||(n[this.constValue.rowVariableNames.mergeStartIndex]+=h*f);t&&a===!1&&t[this.rowVariableNames.mergeStartIndex]==i&&t!=n?a=!0:r&&v===!1&&r[this.rowVariableNames.mergeStartIndex]==i&&r!=n?v=!0:u&&y===!1&&u[this.rowVariableNames.mergeStartIndex]==i&&u!=n&&(y=!0)}.bind(this));a&&i.splice(i.indexOf(t),1);v&&i.splice(i.indexOf(r),1);y&&i.splice(i.indexOf(u),1);i.sort(ecount.gridV3.utils.AscendingByMergeSet);n[this.rowVariableNames.mergeSet]=i},makeShaded:function(n,t){if(t.shaded&&t.shaded.use){var e,u,i,f=t.shaded.keys,r;t.shaded.columnIds.some(function(o){var s=t.column.getColumnById(o),c,h;if(!s)return!1;c=n[this.constValue.keyColumnPropertyName];h=s.id;r=f[h]?f[h]:{};switch(t.shaded.keyType){case"id":u=c;break;case"data":case"dataGroup":i=row[s.propertyName];s.controlOption.numberType=="decimal"&&(e=this.data.column._convertorDataTypeView.getConvertor(h),(i==undefined||i==null)&&(i=""),i=e(i,{dataType:s.controlOption.dataType,zeroYN:s.controlOption.isCheckZero,amtCalc:s.controlOption.amtCalc,thousandSeparator:"",isTodayTime:ecount.common.isTrue(s.controlOption.isTodayTime)}));u=i}r[u]||(r[u]=[]);r[u].push({rowId:c,columnId:h});f[h]||t.shaded.add(h,r)})}},makeEmptyPageRows:function(n,t,i,r){for(var u,f=0;f<t;f++)u=this.getEmptyRow(),u[this.constValue.shadedTbodyRowCountColumnPropertyName]=i,u[this.constValue.rowCountColumnPropertyName]=r,u[this.rowVariableNames.renderSet]={},u[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=this.tableId,u[this.rowVariableNames.renderSet][this.rowVariableNames.remakeTableId]=this.tableId,u[this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=this.currentPageCount,f==0&&n.length==0&&(u[this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t-1&&(u[this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0),i+=1,r+=1,n.push(u)},addRowDataBundle:function(n,t,i){this.rowDataBundle||(this.rowDataBundle=[]);this.removeEmptyLine&&t[0][this.constValue.keyColumnPropertyName]===this.constValue.rowEmptyRowPropertyName&&(t[0][this.rowVariableNames.renderSet].isRemoveEmptyLine=!0);var r={isShowDetailItems:this.config.common.isShowDetailItems,useOuterDetailGrid:this.config.common.useOuterDetailGrid,showHeaderWithDetail:this.config.common.showHeaderWithDetail,isAppearTopAreaOnlyFirst:this.config.common.isAppearTopAreaOnlyFirst,isAppearBottomAreaOnlyLast:this.config.common.isAppearBottomAreaOnlyLast,appearToolbar:this.config.common.appearToolbar,appearToolbarDivisionValue:this.config.common.appearToolbarDivisionValue};this.config.print.getUse()&&this.config.print.setUsableSectionInfo(n,this.rowDataBundle.length,t,i,r);this.rowDataBundle.push(t)},getEmptyRow:function(n){var r={},i=[],t={};return this.emptyRowMergeInfo?(_.extend(i,this.emptyRowMergeInfo),i.sort(function(n,t){return n[this.rowVariableNames.mergeStartIndex]>t[this.rowVariableNames.mergeStartIndex]?1:n[this.rowVariableNames.mergeStartIndex]<t[this.rowVariableNames.mergeStartIndex]?-1:0}.bind(this))):(t[this.rowVariableNames.mergeStartIndex]=0,t[this.rowVariableNames.colspanCount]=n||1,t[this.rowVariableNames.rowspanCount]=1,t[this.rowVariableNames.isCenterAlign]="center",t[this.rowVariableNames.rowTitle]=n&&this.config.common.emptyGridMessage,i.push(t)),r[this.rowVariableNames.mergeSet]=i,r[this.constValue.keyColumnPropertyName]=this.constValue.rowEmptyRowPropertyName,r},setTableId:function(n,t){this.originalTableId=(t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]||this.tableIndex).toString();this.tableId=t[this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]?this.originalTableId:this.originalTableId;(!n||t[this.rowVariableNames.renderSet][this.rowVariableNames.newTable])&&(t[this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0,t[this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0)},setNextPartRowDataBundle:function(){var n=this.config.print.getLimitPartitialRowEndIndex(),f=this.config.print.getPartitialRenderingPageCount(),s=this.config.print.getTotalPage(),e=0,r=1,t,i,o,u;n===0&&(this._rowDataBundle=Object.clone(this.rowDataBundle,!0));t=this._rowDataBundle[n]&&this._rowDataBundle[n][0];t&&t[this.rowVariableNames.renderSet]&&(i=t[this.rowVariableNames.renderSet][this.constValue.rowVariableNames.pageCnt]||s,u=t[this.rowVariableNames.renderSet][this.constValue.rowVariableNames.currentPage]||1,i&&this.config.print.setTotalPage(i),o=u+f>i?i:u+f);e=n;r=o-1;this.config.print.setLimitPartitialRowStartIndex(n);this.config.print.setLimitPartitialRowEndIndex(r);this.rowDataBundle=this._rowDataBundle.slice(e,r)},getTreeData:function(n){var s,h={},l=[],a=this.constValue.keyColumnPropertyName,r={},t={rootNodeList:[],listParentToChild:{},listChildToParent:{}},c={},i,u,f,e,v,o;n.some(function(i){var u="",e=i[a],o=i[this.rowVariableNames.rowType],f;[this.constValue.subtotalRowType,this.constValue.totalRowType].contains(o)&&l.push(i);f=i[this.rowVariableNames.treeSet];f&&(u=f[this.rowVariableNames.parentGroupId],f[this.rowVariableNames.depth]=this.getDepth(n,a,u),c.hasOwnProperty(u)||(c[u]=f[this.rowVariableNames.depth]),f[this.rowVariableNames.depth]==0&&(t.rootNodeList.push(e),s=u),r[e]=i,t.listParentToChild[u]||(t.listParentToChild[u]=[]),t.listParentToChild[u].push(e),r[u]&&r[u][this.rowVariableNames.treeSet]?(r[u][this.rowVariableNames.treeSet][this.rowVariableNames.expand]=this.config.tree.openOnInitCallback?this.config.tree.openOnInitCallback(c,u):!0,r[u][this.rowVariableNames.treeSet][this.rowVariableNames.expand]||i[this.rowVariableNames.treeSet]&&(i[this.rowVariableNames.treeSet][this.rowVariableNames.expand]=!1)):e==""&&(i[this.rowVariableNames.treeSet][this.rowVariableNames.expand]=!0),h[e]=i)}.bind(this));for(i in t.listParentToChild)t.listParentToChild.hasOwnProperty(i)&&(this.config.tree.treeSort&&(t.listParentToChild[i]=t.listParentToChild[i].sort()),this.config.tree.treeHideOnNoChild||t.listParentToChild[i].length!=0||(delete h[i],delete r[i],delete t.listParentToChild[i]));u=[];this.config.tree.dataNoReOrder?u=n:this.dataOrder(u,s,t.rootNodeList.sort(),h,t.listParentToChild,r);for(f in t.listParentToChild)for(e=0,v=t.listParentToChild[f].length;e<v;e++)o=t.listParentToChild[f][e],t.listChildToParent[o]||(t.listChildToParent[o]=[]),t.listChildToParent[o].push(f);return this.config.tree.rootNodeId=s,this.config.tree.listParentToChild=t.listParentToChild,this.config.tree.listChildToParent=t.listChildToParent,this.config.tree.dataNoReOrder?u:u.concat(l)},getDepth:function(n,t,i){var r=-1;return n.some(function(n){var f,u;return i=="0000"?r=0:n[t]==i&&(f=n[this.rowVariableNames.treeSet],f&&(u=f[this.rowVariableNames.depth],r=parseInt(u==undefined||u==null?-1:u,10)+1)),r>-1?!0:void 0}.bind(this)),r},dataOrder:function(n,t,i,r,u,f){for(var e,o=0,s=i.length;o<s;o++)e=i[o],n.push(r[e]),n[n.length-1][this.constValue.rowCountColumnPropertyName]=n.length,u[e]?this.dataOrder(n,e,u[e],r,u,f):this.config.tree.treeOpenOnInit=="upper"&&f[t][this.rowVariableNames.depth]>0&&(f[t][this.rowVariableNames.expand]=!1)},initDecimalValue:function(n){var f=this.config.tbodyColumns.getForm(),r=this.config.tbodyColumns.getConvetorDecimalList(),u,t,i;if(r)for(u in r)if(r.hasOwnProperty(u)&&(t=f.find(function(n){return n.id==u}),t&&t.controlOption.numberType==this.constValue.numberType.decimal)){if(i=n[t.propertyName],i==undefined||i=="")continue;i=i.toString().replace(this.constValue.thousandsPattern,"");n[t.propertyName]=r[u](i,{dataType:"910",isCheckZero:ecount.common.isTrue(t.controlOption.isCheckZero),amtCalc:"r"}).replace(this.constValue.thousandsPattern,"")}},callbackSuccess:function(n){if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}ecount.gridV3.config.dataPerformance&&(window.ecount.gridV3.gridDataPerformance=(new Date).getTime());var t,r=n.Data&&n.Data.TotalCount,u=n.Data&&n.Data.isLimitData===!0,i=n.Data&&n.Data.PivotData||{};this.config.rowDataApiInfo&&this.config.rowDataApiInfo.isWithColumn&&(n.Data.ColumnForm&&ecount.common.isTrue(n.Data.ColumnForm.isFormCache)&&(n.Data.ColumnForm=ecount.formset.getXFormViewModelSync(this.config.common.ecPageId,{companyType:n.Data.ColumnForm.companyType,formType:n.Data.ColumnForm.formType,formSeq:n.Data.ColumnForm.formSeq})),t=n.Data.ColumnForm||{},this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent(ecount.grid.event.list.afterFormLoad,{},{columnForm:t,pivotData:i,rowDataParam:this.rowDataParameter}),this.config.paging.use&&this.config.paging.initFormProperties(t.option),this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.setFormColumn",{columnForm:t,pivotData:i}),n.Data=n.Data.Data);this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent(ecount.grid.event.list.afterRowDataLoad,{},{result:n,totalCount:r,isLimitData:u,pivotData:i});n.Data&&n.Data.Data&&(n.Data=n.Data.Data);n.Data&&(this.rowDatas=n.Data)},setCurrentMaxRowCountPerGrid:function(n,t){this.currentMaxRowCountPerGrid=this.maxRowCountPerGrid;this.config.common.isIncludeHeaderRowDataLength&&(this.currentMaxRowCountPerGrid==1||(this.currentMaxRowCountPerGrid-=this.config.theadRowData.rowDatas.length));this.config.common.getIsAppearTopAreaOnlyFirst()&&t!=1&&(this.currentMaxRowCountPerGrid+=this.config.common.getAppearTopAreaOnlyFirstAddBodyRowCount());this.config.common.getIsAppearBottomAreaOnlyLast()&&n!=t&&(this.currentMaxRowCountPerGrid+=this.config.common.getAppearBottomAreaOnlyLastAddBodyRowCount())},getInitTbodyRowDataCount:function(){return 0},callbackFail:function(n,t,i){if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent(ecount.grid.event.list.renderingError,{},{error:i});i&&i.Message!=undefined&&ecount.error(i.Message,{title:"System Error "+t,trace:i.MessageDetail})},callbackComplete:function(){var ct,a,at,l,p,ii,tt,vt,u,d,w;if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}this.isInitRowIndex&&(this.initRowCount=0);var n=[],e=0,o=0,et=!1;this.rowDataBundle=[];var r=this.getInitTbodyRowDataCount(),kt=[],s=0,i=s.toString(),t=1,f=1,ot=0,dt=1,it=[],gt=0,rt={},st=this.config.tbodyColumns.getForm(),c=null;if(this.rowDatas=Object.clone(this.rowDatas)||[],st.forEach(function(n){n.linechange&&(dt+=1,ot+=1);it[ot]||(it[ot]=[]);dt!=1||ecount.common.isTrue(n.isHideColumn)||(gt+=1);rt[n.propertyName]="";it[ot].push(n)}.bind(this)),this.initPropertyNormalize(),this.createRowDataKeyGenerator(),this.standardBodyRowCountPerGrid===null&&(this.config.common.columnType=="single"?this.standardBodyRowCountPerGrid=256:this.config.common.columnType=="multi"&&(this.standardBodyRowCountPerGrid=196864)),this.config.editable&&this.config.editable.use){this.additionalDatas&&(this.additionalDatas=this.normalizeProperties(this.additionalDatas),_.extend(rt,this.additionalDatas));var yt=this.config.editable.initialRowCount,ri=this.config.editable.initialRowCountMargin,pt=this.config.editable.limitAddRow,ht=ri+this.rowDatas.length,ni;if(!$.isEmpty(pt)&&ht>pt&&(ht=pt),yt<ht&&(yt=ht),ni=yt-this.rowDatas.length,this.defaultValue)for(ct in this.defaultValue)a=st.find(function(n){return n.propertyName==ct}),value=this.defaultValue[ct],a&&typeof a.converter=="function"&&(value=a.converter(value,{isTodayTime:a.isTodayTime,dataType:a.dataType,amtCalc:a.amtCalc,isCheckZero:a.isCheckZero,thousandSeparator:a.thousandSeparator,decimalSeparator:a.decimalSeparator,customizeDate:a.customizeDate,dateFormat:a.dateFormat})),rt[ct]=value;for(d=0,w=ni;d<w;d++)rt[this.constValue.rowStatePropertyName]=this.constValue.rowState.create,this.rowDatas.push(Object.clone(rt))}if((!this.rowDatas||this.rowDatas.length==0)&&st&&st.length>0){var v={},ti=[],g={},ui=it.findIndex(function(n){return n[0].columnType?n[0].columnType==this.constValue.columnBitmask.normal?!0:void 0:!0}.bind(this));g[this.rowVariableNames.mergeStartIndex]=it[0].length*ui;g[this.rowVariableNames.colspanCount]=gt;g[this.rowVariableNames.rowspanCount]=1;g[this.rowVariableNames.isCenterAlign]="center";g[this.rowVariableNames.rowTitle]=this.config.common.emptyGridMessage;ti.push(g);v[this.constValue.rowStatePropertyName]=this.constValue.rowState.create;v[this.rowVariableNames.mergeSet]=ti;v[this.rowVariableNames.renderSet]=v[this.rowVariableNames.renderSet]||{};et=!0;this.config.common.isEmptyRowData=et;this.rowDatas.push(v)}var lt={},b=this.config.common.isRenderTypePrint(),y=this.config.common.isTypeReportStatusList(),fi=this.config.common.isTypeStatusList(),nt=this.config.common.isDetailTableType(),i="table";if(this.rowDatas.some(function(t,u){var f,h,c,o,s;if(t[this.constValue.rowStatePropertyName]==this.constValue.rowState.create||this.notContainRowType&&this.notContainRowType.contains(t[this.constValue.rowVariableNames.rowType])||(t=_.merge({},this.additionalDatas,t)),t[this.rowVariableNames.renderSet]=t[this.rowVariableNames.renderSet]||{},t=this.normalizeProperties(t),this.initDecimalValue(t),t[this.constValue.rowStatePropertyName]||(t[this.constValue.rowStatePropertyName]=this.isInitRowState?this.initRowState:this.constValue.rowState.none),this.isInitRowIndex&&[ecount.grid.constValue.rowState.none,ecount.grid.constValue.rowState.changed,ecount.grid.constValue.rowState.changedIndex,ecount.grid.constValue.rowState.deleted].contains(t[this.constValue.rowStatePropertyName])&&(t[this.constValue.rowIndexPropertyName]=this.initRowCount,this.initRowCount+=1),u==0&&(b||fi||y)&&(t[this.rowVariableNames.renderSet]||(t[this.rowVariableNames.renderSet]={}),t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]?i=t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]:t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i),t[this.rowVariableNames.renderSet]&&t[this.rowVariableNames.renderSet][this.rowVariableNames.newTable]?(t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]?i=t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]:(i="table",t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i),b||nt||y||this.rowDataBundle.push(n),n=[],r=0,this.config.checkbox.use&&!this.config.checkbox.getManageIsAutoSplit(this.constValue.checkBoxPropertyName)&&this.config.checkbox.setManageAutoSplit(this.constValue.checkBoxPropertyName,!0)):this.maxRowCountPerGrid>0&&this.maxRowCountPerGrid==r?(t[this.rowVariableNames.renderSet]||(t[this.rowVariableNames.renderSet]={}),t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]?i=t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]:t[this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,b||nt||y||this.rowDataBundle.push(n),n=[],r=this.getInitTbodyRowDataCount(),this.config.checkbox.use&&!this.config.checkbox.getManageIsAutoSplit(this.constValue.checkBoxPropertyName)&&this.config.checkbox.setManageAutoSplit(this.constValue.checkBoxPropertyName,!0)):t[this.rowVariableNames.renderSet]&&t[this.rowVariableNames.renderSet][this.constValue.rowVariableNames.tableDirection]&&(this.rowDataBundle.push(n),n=[]),b||nt||y||n.push(t),t[this.constValue.keyColumnPropertyName]=this.rowDataKeyGenerator.get(t),et||this.makeSystemMergeSet(t,u),this.setCheckboxTotalCount(lt,t),e+=1,r+=1,this.config.tbodyShaded.use&&this.config.tbodyShaded.type!="id")for(f=0,h=this.config.tbodyShaded.list.length;f<h;f++)(c=this.config.tbodyShaded.list[f],o=this.config.tbodyColumns.getForm().find(function(n){return n.id==c}),o)&&(s=t[o.propertyName],this.config.tbodyShaded.activeList[s]&&this.config.tbodyShaded.activeList[s].push({columnId:o.id,rowId:t[this.constValue.keyColumnPropertyName]}));t[this.constValue.rowCountColumnPropertyName]=e;(b||nt||y)&&(this.rowDatas[u]=t)}.bind(this)),this.isInitRowIndex=!1,this.config.tree&&this.config.tree.use)n=this.getTreeData(n);else if(b||nt||y)for(r=this.getInitTbodyRowDataCount(),e=1,o=1,at=function(n,t,i,r){n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=t;n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=r;n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(r==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0);n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0;i==r&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0)}.bind(this),this.config.common.isIncludeHeaderRowDataLength&&this.maxRowCountPerGrid==1&&(this.config.common.columnType==this.constValue.columnType.single?this.setDetailSectionInvisible(this.constValue.detailSectionInvisible.data|this.constValue.detailSectionInvisible.topsubtotal|this.constValue.detailSectionInvisible.bottomsubtotal|this.constValue.detailSectionInvisible.pagetotal):this.config.common.columnType==this.constValue.columnType.multi&&(this.setDetailSectionInvisible(this.constValue.detailSectionInvisible.data|this.constValue.detailSectionInvisible.topsubtotal|this.constValue.detailSectionInvisible.bottomsubtotal),this.config.tfootRowData.detailSectionInvisible=this.constValue.detailSectionInvisible.data|this.constValue.detailSectionInvisible.pagetotal)),l=0,p=this.rowDatas.length;l<p;l++){var ut=l==0?null:this.rowDatas[l-1],v=this.rowDatas[l],ft=l+1==p?null:this.rowDatas[l+1];v[this.rowVariableNames.renderSet]||(v[this.rowVariableNames.renderSet]={});ut&&!ut[this.rowVariableNames.renderSet]&&(ut[this.rowVariableNames.renderSet]={});ft&&!ft[this.rowVariableNames.renderSet]&&(ft[this.rowVariableNames.renderSet]={});var wt=ut&&ut[this.rowVariableNames.renderSet],k=v[this.rowVariableNames.renderSet],h=ft&&ft[this.rowVariableNames.renderSet],bt=!this.removeEmptyLine&&n.length==0&&r>0&&this.currentMaxRowCountPerGrid>r;if((k[this.rowVariableNames.newTable]||bt)&&wt&&($.isNull(wt[this.rowVariableNames.detailTableId])||$.isEmpty(wt[this.rowVariableNames.detailTableId]))){if(!this.removeEmptyLine&&f>t&&this.currentMaxRowCountPerGrid>r&&(u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,u,o,e),r+=u,o+=u,e+=u,t=t+(u==this.currentMaxRowCountPerGrid?1:0)),ii=k[this.rowVariableNames.tableId]||(s+1).toString(),n.length>0&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0,bt&&this.rowDataBundle.length>0&&(this.rowDataBundle[this.rowDataBundle.length-1][0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableId]||this.rowDataBundle[this.rowDataBundle.length-1][0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType])&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]="cutFromDetail"),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c),k[this.rowVariableNames.isFirstTable]=!0,this.config.common.columnType==this.constValue.columnType.single&&f>t))for(;t<f;t++)n=[],this.setCurrentMaxRowCountPerGrid(f,t+1),this.makeEmptyPageRows(n,this.currentMaxRowCountPerGrid,o,e),at(n,i,f,t+1),this.addRowDataBundle(i,n,c),s+=1;!bt&&n.length>0&&(s+=1);i=ii;n=[];r=this.getInitTbodyRowDataCount();t=1;c=null}else i=k[this.rowVariableNames.tableId]||i||s.toString();if(f=k[this.rowVariableNames.pageCnt]||f,this.setCurrentMaxRowCountPerGrid(f,t),v[this.constValue.shadedTbodyRowCountColumnPropertyName]=o,o+=1,v[this.constValue.rowCountColumnPropertyName]=e,e+=1,n.push(v),r+=1,c=k[this.rowVariableNames.detailTableIdList]||c,u=this.currentMaxRowCountPerGrid-r,k[this.rowVariableNames.detailTableId])if(h&&!h[this.rowVariableNames.newTable]&&(this.currentMaxRowCountPerGrid>r&&(h[this.rowVariableNames.detailTableType]="cutFromDetail"),h[this.rowVariableNames.tableId]=i),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),!this.removeEmptyLine&&this.currentMaxRowCountPerGrid>r&&(l==p-1||h&&h[this.rowVariableNames.newTable])&&(this.config.print.nextTableId[i+ecount.delimiter+s]=i+ecount.delimiter+(s+1),this.config.print.replaceTableId[i+ecount.delimiter+(s+1)]=!0,this.addRowDataBundle(i,n,c),n=[],s+=1,u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,u,o,e),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!1,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]="cutFromDetail",r+=u,o+=u,e+=u,u=0),(this.currentMaxRowCountPerGrid==r||h&&h[this.rowVariableNames.newTable]||l==p-1&&this.removeEmptyLine)&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0),(this.currentMaxRowCountPerGrid==r||h&&h[this.rowVariableNames.newTable]||l==p-1)&&f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.currentMaxRowCountPerGrid>r&&l!=p-1&&!(h&&h[this.rowVariableNames.newTable])&&(this.config.print.nextTableId[i+ecount.delimiter+s]=i+ecount.delimiter+(s+1),this.config.print.replaceTableId[i+ecount.delimiter+(s+1)]=!0),this.addRowDataBundle(i,n,c),(this.currentMaxRowCountPerGrid>r&&l!=p-1||this.currentMaxRowCountPerGrid==r)&&(s+=1),n=[],h&&h[this.rowVariableNames.newTable]){for(r=this.getInitTbodyRowDataCount(),tt=t,w=f;tt<w;tt++)t+=1,this.setCurrentMaxRowCountPerGrid(f,t),u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,u,o,e),o+=u,e+=u,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c),s+=1,n=[],r=this.getInitTbodyRowDataCount();t=1}else this.currentMaxRowCountPerGrid==r&&f>t&&(r=this.getInitTbodyRowDataCount(),t+=1);else if(this.currentMaxRowCountPerGrid==r)if(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0,f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c),s+=1,n=[],r=this.getInitTbodyRowDataCount(),h&&h[this.rowVariableNames.newTable]){if(this.removeEmptyLine&&f>t){for(;t<f;t++)n=[],this.setCurrentMaxRowCountPerGrid(f,t+1),u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,this.currentMaxRowCountPerGrid,o,e),at(n,i,f,t+1),this.addRowDataBundle(i,n,c),r=this.getInitTbodyRowDataCount(),o+=u,e+=u,s+=1;n=[];r=this.getInitTbodyRowDataCount()}}else if(this.removeEmptyLine&&l==p-1&&f>t)for(;t<f;t++)n=[],this.setCurrentMaxRowCountPerGrid(f,t+1),u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,this.currentMaxRowCountPerGrid,o,e),at(n,i,f,t+1),this.addRowDataBundle(i,n,c),r=this.getInitTbodyRowDataCount(),o+=u,e+=u,s+=1;else t+=1;if(!this.removeEmptyLine&&f==t&&u>0&&h&&h[this.rowVariableNames.newTable])this.makeEmptyPageRows(n,u,o,e),r+=u,o+=u,e+=u,u==n.length&&this.rowDataBundle.length>0&&(this.rowDataBundle[this.rowDataBundle.length-1][this.rowDataBundle[this.rowDataBundle.length-1].length-1][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableId]||this.rowDataBundle[this.rowDataBundle.length-1][this.rowDataBundle[this.rowDataBundle.length-1].length-1][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType])&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]="cutFromDetail",n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c),s+=1,n=[],r=this.getInitTbodyRowDataCount(),t=1);else if(!this.removeEmptyLine&&f!=t&&this.config.common.columnType==this.constValue.columnType.multi&&h&&h[this.rowVariableNames.newTable])for(tt=t,w=f;tt<w;tt++)t+=1,this.setCurrentMaxRowCountPerGrid(f,t),u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,u,o,e),o+=u,e+=u,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c),s+=1,n=[],r=this.getInitTbodyRowDataCount()}for(vt in lt)lt.hasOwnProperty(vt)&&n.length==lt[vt].total&&this.config.checkbox.setManageAllChecked(vt,!0);if(this.config.paging.use&&(this.rowDatas&&this.rowDatas.length>0?this.config.paging.setTotalRowCount(this.rowDatas[0][this.constValue.row.maxCount]||this.config.paging.totalRowCount||0):this.config.paging.setTotalRowCount(this.config.paging.totalRowCount||0)),(b||y)&&(this.setCurrentMaxRowCountPerGrid(f,t),!this.removeEmptyLine&&f>=t&&this.currentMaxRowCountPerGrid!=r&&(u=this.currentMaxRowCountPerGrid-r,this.makeEmptyPageRows(n,u,o,e),u==n.length&&this.rowDataBundle.length>0&&(this.rowDataBundle[this.rowDataBundle.length-1][this.rowDataBundle[this.rowDataBundle.length-1].length-1][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableId]||this.rowDataBundle[this.rowDataBundle.length-1][this.rowDataBundle[this.rowDataBundle.length-1].length-1][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType])&&r>0&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]="cutFromDetail",this.config.print.nextTableId[i+ecount.delimiter+s]=i+ecount.delimiter+(s+1),this.config.print.replaceTableId[i+ecount.delimiter+(s+1)]=!0),r+=u,o+=u,e+=o),n.length>0&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0))),nt&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0)),n.length>0&&(y&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0,n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]=!0),this.addRowDataBundle(i,n,c)),b||y)for(d=t,w=f;d<w;d++)n=[],t+=1,this.setCurrentMaxRowCountPerGrid(f,t),this.makeEmptyPageRows(n,this.currentMaxRowCountPerGrid,o,e),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.tableId]=i,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.currentPage]=t,n[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]||(t==1&&(n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]=!0),n[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]=!0),f==t&&(n[n.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]=!0),this.addRowDataBundle(i,n,c);(kt.length>0||et)&&this.config.tfootRowData.setDatas(kt);this.config.tbodyColumns.setRowHeight();this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadRowDataCompleted",{})},setCheckboxTotalCount:function(n,t){var i,r,h,f,u,e,o,s;if(this.config.checkbox.use)for(i in this.config.checkbox.manage)this.config.checkbox.manage.hasOwnProperty(i)&&(r=this.config.checkbox.manage[i],r&&(n[i]||(n[i]={total:0}),h=r.initialCheckedList&&r.initialCheckedList.contains(t[this.constValue.keyColumnPropertyName])||!1,f={},this.config.tbodyColumns.getForm().some(function(n,t){if(n.id==i)return this.column=n,this.columnIndex=t,!1},f),u=0,e=!1,!$.isEmpty(f.columnIndex)&&r.isRememberChecked&&r.rememberCheckedList.some(function(n){var i,r;if(t[this.constValue.keyColumnPropertyName]==n[this.constValue.keyColumnPropertyName])return e=!0,i=t[this.rowVariableNames.mergeSet],i&&(r=i.find(function(n){return f.columnIndex==n[this.rowVariableNames.mergeStartIndex]}.bind(this)),r&&(u=r[this.rowVariableNames.rowspanCount]||1)),!0}.bind(this)),!e&&h&&(u=1,o=t[this.rowVariableNames.mergeSet],o&&(s=o.find(function(n){return f.columnIndex==n[this.rowVariableNames.mergeStartIndex]}.bind(this)),s&&(u=s[this.rowVariableNames.rowspanCount]||1)),r.isRememberChecked&&r.rememberCheckedList.push(t),this.config.checkbox.setManageIncreaseCheckedTotalCount(i,u)),n[i].total+=u))},end:function(n){this.keyIndex=0;this.config.common.isEmptyRowData=!1;n.rowDataApiInfo&&n.rowDataApiInfo.rowDataURL?(this.__api.add(this.__apiPrefixId+"$"+this.__apiPrefixIndex,{config:n,url:n.rowDataApiInfo.rowDataURL,data:Object.toJSON(n.rowDataApiInfo.rowDataParameter||{}),progressbar:!1,async:!1,resolve:this.callbackSuccess.bind(this),reject:this.callbackFail.bind(this),completed:this.callbackComplete.bind(this)}),this.__apiPrefixIndex+=1,this.__api.length()>0&&this.__api.call()):this.callbackComplete(null,n)}});ecount.class("ecount.gridV3.settings.sectionTfootRowData",null,{init:function(n){_.extend(this,n);this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.keyIndex=0;this.rowTrHeightAdjust=0;this.trHeights=[];this.rowDataKeyGenerator=null;this.detailSectionInvisible=this.constValue.detailSectionInvisible.none},render:function(){},destroy:function(){},setDatas:function(n){this.rowDatas=n},getDatas:function(n){return(n=n===!0,n)?Object.clone(this.rowDatas,!0):this.rowDatas},setKeys:function(n){this.rowDataKeys=n},setDefaultValue:function(n){this.defaultValue=n},setNotContainRowType:function(n){this.notContainRowType=n},setSkipRowLineRule:function(n){this.skipRowLineRule=n},setDetailSectionInvisible:function(n){this.detailSectionInvisible=n},setHeights:function(n){this.trHeights=$.isArray(n)?n:$.isNumber(n)?[n]:$.isPlainObject(n)?n:null},setAdditionalDatas:function(n){this.additionalDatas=n},setPropertyNormailze:function(n){this.propertyNormalize=typeof n=="string"?n.toUpperCase():n},setRowTrHeightAdjust:function(n){this.rowTrHeightAdjust=n},makeKey:function(n,t){var i=[];t?(t.forEach(function(t){var r=this.config.tfootColumns.getColumnById(t);i!=""&&(i+=ecount.constValue.rowKeySeparator);i+=(r&&n[r.propertyName]||n[t]||"").toString().replace(/\t/g,"    ")}.bind(this)),i==""?(n[this.constValue.keyColumnPropertyName]=this.keyIndex.toString(),this.keyIndex+=1):[this.constValue.subtotalRowType,this.constValue.totalRowType].contains(n[this.constValue.rowVariableNames.rowType])?(n[this.constValue.keyColumnPropertyName]=this.keyIndex.toString(),this.keyIndex+=1):n[this.constValue.keyColumnPropertyName]=i):(i=this.keyIndex++,n[this.constValue.keyColumnPropertyName]=i.toString())},createRowDataKeyGenerator:function(){var n=this.rowDataKeys&&this.rowDataKeys.length>0?[]:null;this.rowDataKeys&&this.rowDataKeys.forEach(function(t){var i=this.config.tfootColumns.getColumnById(t);n.push(i&&i.propertyName||t)}.bind(this));n&&n.length>0&&(this.rowDataKeyProperties=n);this.rowDataKeyGenerator=new ecount.gridV3.rowDataKeyGenerator({rowDataKeyProperties:n})},initPropertyNormalize:function(){if(this.propertyNormalize){this.propertyNormalize=="UPPER"?(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toUpperCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:n.toUpperCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n}):(this.normalizeProperties=function(n){return n===undefined?undefined:typeof n=="string"?n.toLowerCase():JSON.parse(Object.toJSON(n).replace(/(\")([\w|\-|\.|\|\#|\∬]+)(\"\:)/gi,function(n){return ecount.gridV3.utils.isPropertyInConstValue(n)?n:n.toLowerCase()}))},this.arrayNormalizeProperties=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=this.normalizeProperties(n[t]);return n});for(var n in this.constValue.rowVariableNames)this.propertyNormalize=="UPPER"?this.constValue.rowVariableNames[n].toUpperCase():this.constValue.rowVariableNames[n].toLowerCase()}else this.normalizeProperties=function(n){return n},this.arrayNormalizeProperties=function(n){return n}},initDecimalValue:function(n){var f=this.config.tfootColumns.getForm(),r=this.config.tfootColumns.getConvetorDecimalList(),u,t,i;if(r)for(u in r)if(r.hasOwnProperty(u)&&(t=f.find(function(n){return n.id==u}),t&&t.controlOption.numberType==this.constValue.numberType.decimal)){if(i=n[t.propertyName],i==undefined||i=="")continue;i=i.toString().replace(this.constValue.thousandsPattern,"");n[t.propertyName]=r[u](i,{dataType:"910",isCheckZero:ecount.common.isTrue(t.controlOption.isCheckZero),amtCalc:"r"}).replace(this.constValue.thousandsPattern,"")}},makeSystemMergeSet:function(n,t){var i=n[this.rowVariableNames.mergeSet]||[],r,u,f,l=!1,a=!1,v=!1,o=1,e=0,c=0,h=0,y=this.config.tfootColumns.getForm(),s;y.forEach(function(n){n.columnType==this.constValue.columnBitmask.comparisonPeriod?h==0&&(h+=1,o-=1):n.linechange&&(o+=1);o==1&&(c+=1,e+=1)}.bind(this));s=0;this.config.checkbox.use&&(r={},r[this.rowVariableNames.mergeStartIndex]=h*c+this.config.checkbox.index,r[this.rowVariableNames.rowspanCount]=o,i.push(r),e-=1,s+=1);this.config.rowmoveable.use&&(u={},u[this.rowVariableNames.mergeStartIndex]=h*c+this.config.rowmoveable.index,u[this.rowVariableNames.rowspanCount]=o,i.push(u),e-=1,s+=1);this.config.numbering.use&&(f={},f[this.rowVariableNames.mergeStartIndex]=h*c+this.config.numbering.index,f[this.rowVariableNames.rowspanCount]=o,i.push(f),e-=1,s+=1);this.config.tfootColumns.columnRowsObject&&this.config.tfootColumns.columnRowsObject[t]&&this.config.tfootColumns.columnRowsObject[t][this.rowVariableNames.mergeSet]&&(i=i.concat(Object.clone(this.config.tfootColumns.columnRowsObject[t][this.rowVariableNames.mergeSet],!0)));i.forEach(function(n){var t=n[this.constValue.rowVariableNames.mergeStartIndex],c=n[this.constValue.rowVariableNames.rowspanCount]||1,y=n[this.constValue.rowVariableNames.colspanCount]||1,i=t===0?0:s,o,h;o=this.config.checkbox.use&&this.config.rowmoveable.use?Math.floor((t+i)/e):Math.floor((t-i)/e);h=Math.floor((t-i)%e);n[this.constValue.rowVariableNames.mergeStartIndex]+=s*o;r&&l===!1&&r[this.rowVariableNames.mergeStartIndex]==t&&r!=n?l=!0:u&&a===!1&&u[this.rowVariableNames.mergeStartIndex]==t&&u!=n?a=!0:f&&v===!1&&f[this.rowVariableNames.mergeStartIndex]==t&&f!=n&&(v=!0)}.bind(this));l&&i.splice(i.indexOf(r),1);a&&i.splice(i.indexOf(u),1);v&&i.splice(i.indexOf(f),1);i.sort(ecount.gridV3.utils.AscendingByMergeSet);n[this.rowVariableNames.mergeSet]=i},end:function(){this.keyIndex=0;this.initPropertyNormalize();this.createRowDataKeyGenerator();var n=[];this.rowDatas&&(this.rowDatas=Object.clone(this.rowDatas,!0));this.rowDatas&&this.rowDatas.forEach(function(t,i){var o,r,f,e,u;if(t=this.normalizeProperties(t),this.initDecimalValue(t),t[this.constValue.keyColumnPropertyName]=this.rowDataKeyGenerator.get(t),this.makeSystemMergeSet(t,i),t[this.constValue.rowStatePropertyName]=this.constValue.rowState.create,t[this.constValue.rowIndexPropertyName]=i,t[this.constValue.rowCountColumnPropertyName]=i+1,this.config.tbodyColumns.isAutoCalculate&&this.config.tbodyColumns.autoCalculate)for(o in this.config.tbodyColumns.autoCalculate)r=this.config.tbodyColumns.autoCalculate[o],u=this.config.tbodyColumns.getForm().find(function(n){return n.id==o}),u&&((r.total||0)==0?(f=new Decimal(0),this.config.tbodyRowData.rowDataBundle.forEach(function(n){n.forEach(function(n){f=f.plus(n[u.propertyName]||0)})}),t[u.propertyName]=f.toString()):t[u.propertyName]=r.total||0);this.config.tfootColumns.isAutoCalculate&&this.config.tfootColumns.autoCalculate&&(r=this.config.tfootColumns.autoCalculate[t[this.constValue.keyColumnPropertyName]],r&&(f="0",e=this.config.tfootColumns.getForm().find(function(n){return n.id==r.targetColumnId}),typeof r.actionType=="function"?f=r.actionType(t):e&&r.sourceColumnId.forEach(function(n){u=this.config.tfootColumns.getForm().find(function(t){return t.id==n});u&&(f+=parseFloat(t[u.propertyName]||0))}.bind(this)),e&&(t[e.propertyName]=f.toString())));n.push(t)}.bind(this));this.rowDatas=n;this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.loadRowDataCompleted",{})}});ecount.class("ecount.gridV3.settings.rowDataApiInfo",null,{init:function(){this.constValue=ecount.grid.constValue;this.rowDataURL=null;this.rowDataParameter=null;this.isWithColumn=!1},destroy:function(){},setURL:function(n,t){this.rowDataURL=n;this.isWithColumn=t},setParameter:function(n){this.rowDataParameter=n}});ecount.class("ecount.gridV3.settings.common",null,{init:function(){this.constValue=ecount.grid.constValue;this.isActive=!1;this.activeSectionType=null;this.activeColumnId=null;this.activeRowId=null;this.lazyDeactive=!1;this.gridVersion="v3";this.ecGridId="grid-main";this.templateType="list";this.isFreeSizeWidth=!1;this.isEmptyRowData=!1;this.typeSpecTranMaxWidth=0;this.prefixIdIdx=null;this.prefixIdIdxReset=!1;this.prefixRepeatColumnIdx=null;this.prefixRepeatColumnIdxReset=!1;this.useImageListTypeGrid=!1;this.parentEcPageId=null;this.ecPageId="";this.ecContainerId="";this.ecContentsName="";this.gridType="list";this.renderType="list";this.parentGridId=null;this.isPossibleRenderOnLoad=!1;this.columnType="single";this.alreadyIncludedLayout=!1;this.widgetInitializer=null;this.popupLevel=null;this.popupId=null;this.popupType=null;this.ecIKey=null;this.ecTabId="";this.widgetCallbackId=null;this.useLoadingProgressbar=!0;this.useTableResponsive=!0;this.isIgnoreResponsiveApplyType=!1;this.formVersion=null;this.usePaging=!1;this.skipSecondGridInPage=!1;this.tableCutLinePosition=null;this.tableCutLinePosition_default=135.5;this.useTableCutLine=null;this.useTableCutLine_default=!0;this.secondTablePosition=null;this.secondTablePosition_default=145;this.topBottomHTML=null;this.topOnly=null;this.topOnly_default=!1;this.useTop=null;this.useTop_default=!0;this.useBody=null;this.useBody_default=!0;this.useBottom=null;this.useBottom_default=!0;this.useFormPrint=!1;this.gridCountPerPage=null;this.gridCountPerPage_default=!1;this.useMergeAutoGenratorTotal=!1;this.parentGridEvent=null;this.parentGridEventArgs=null;this.tbodyClassName=null;this.isAppearTopAreaOnlyFirst=null;this.isAppearTopAreaOnlyFirst_default=!1;this.appearTopAreaOnlyFirstAddBodyRowCount=null;this.appearTopAreaOnlyFirstAddBodyRowCount_default=2;this.appearToolbar=0;this.appearToolbarDivisionValue=null;this.isAppearBottomAreaOnlyLast=null;this.isAppearBottomAreaOnlyLast_default=!1;this.appearBottomAreaOnlyLastAddBodyRowCount=null;this.appearBottomAreaOnlyLastAddBodyRowCount_default=2;this.isIncludeHeaderRowDataLength=null;this.isIncludeHeaderRowDataLength_default=!1;this.topMargin=null;this.topMargin_default=0;this.bottomMargin=null;this.bottomMargin_default=0;this.leftMargin=null;this.leftMargin_default=0;this.rightMargin=null;this.rightMargin_default=0;this.pageWidth=null;this.pageWidth_default=0;this.pageHeight=null;this.pageHeight_default=0;this.pageWay=null;this.pageWay_default="P";this.emptyGridMessage="";this.isHeaderFix=!1;this.hasDetailGrid=!1;this.detailGridSettings=null;this.useOuterDetailGrid=null;this.gridDuplicate=null;this.gridDuplicate_default=!1;this.isShowDetailItems=!1;this.showHeaderWithDetail=!1;this.isOuterDetailGrid=!1;this.bodyRowCount=0;this.isRequireImage=!0;this.includedOption=!1},render:function(){},destroy:function(){},setPrefixIdIdx:function(n){this.prefixIdIdx=n},setPrefixIdIdxReset:function(n){this.prefixIdIdxReset=n},setPrefixRepeatColumnIdx:function(n){this.prefixRepeatColumnIdx=n},setPrefixRepeatColumnIdxReset:function(n){this.prefixRepeatColumnIdxReset=n},setUseImageListTypeGrid:function(n){this.useImageListTypeGrid=n},setTemplateType:function(n){this.templateType=n},setParentEcPageId:function(n){this.parentEcPageId=n},setEcPageId:function(n){this.ecPageId=n},setEcContainerId:function(n){this.ecContainerId=n},setEcContentsName:function(n){this.ecContentsName=n},setGridType:function(n){this.gridType=n},setGridTypeRenderType:function(n){this.renderType=n},setParentGridId:function(n){this.parentGridId=n},setIsPossibleRenderOnLoad:function(n){this.isPossibleRenderOnLoad=n===!0},setColumnType:function(n){switch(n){case"columnFix":case"single":n=this.constValue.columnType.single;break;case"separate":case"separateSetting":case"multi":n=this.constValue.columnType.multi;break;default:n=this.constValue.columnType.single}this.columnType=n},setAlreadyIncludedLayout:function(n){this.alreadyIncludedLayout=n},setWidgetInitializer:function(n){this.widgetInitializer=n},setWidgetCallbackId:function(n){this.widgetCallbackId=n},setPopupLevel:function(n){this.popupLevel=n},setPopupId:function(n){this.popupId=n},setPopupType:function(n){this.popupType=n},setEcIKey:function(n){this.ecIKey=n},setEcTabId:function(n){this.ecTabId=n},setUseLoadingProgressbar:function(n){this.useLoadingProgressbar=n},setUseTableResponsive:function(n){this.useTableResponsive=n},setIsIgnoreResponsiveApplyType:function(n){this.isIgnoreResponsiveApplyType=n},setFormVersion:function(n){this.formVersion=n},setUsePaging:function(n){this.usePaging=n},setSkipSecondGridInPage:function(n){this.skipSecondGridInPage=n},setTableCutLinePosition:function(n){this.tableCutLinePosition=n},setUseTableCutLine:function(n){this.useTableCutLine=n},setSecondTablePosition:function(n){this.secondTablePosition=n},setTopBottomHTML:function(n){this.topBottomHTML=n},setTopOnly:function(n){this.topOnly=n},setUseTop:function(n){this.useTop=n},setUseBody:function(n){this.useBody=n},setUseBottom:function(n){this.useBottom=n},setUseFormPrint:function(n){this.useFormPrint=n},setGridCountPerPage:function(n){this.gridCountPerPage=n},setUseMergeAutoGenratorTotal:function(n){this.useMergeAutoGenratorTotal=n},setParentGridEvent:function(n){this.parentGridEvent=n},setParentGridEventArgs:function(n){this.parentGridEventArgs=n},setTbodyClassName:function(n){this.tbodyClassName=n},setIsAppearTopAreaOnlyFirst:function(n){this.isAppearTopAreaOnlyFirst=n},setAppearTopAreaOnlyFirstAddBodyRowCount:function(n){this.appearTopAreaOnlyFirstAddBodyRowCount=n},setIsAppearBottomAreaOnlyLast:function(n){this.isAppearBottomAreaOnlyLast=n},setAppearBottomAreaOnlyLastAddBodyRowCount:function(n){this.appearBottomAreaOnlyLastAddBodyRowCount=n},setIsIncludeHeaderRowDataLength:function(n){this.isIncludeHeaderRowDataLength=n},setAppearToolbar:function(n){(this.constValue.appearToolbar.onlyTopFirstTable&n||this.constValue.appearToolbar.allTopTable&n||this.constValue.appearToolbar.onlyBottomLastTable&n||this.constValue.appearToolbar.allBottomTable&n)&&(this.constValue.appearToolbar.onlyTopFirstTable&this.appearToolbar||this.constValue.appearToolbar.allTopTable&this.appearToolbar||this.constValue.appearToolbar.onlyBottomLastTable&this.appearToolbar||this.constValue.appearToolbar.allBottomTable&this.appearToolbar)&&(n+=this.appearToolbar);this.appearToolbar=this.constValue.appearToolbar.onlyTopFirstTable&n||this.constValue.appearToolbar.onlyBottomLastTable&n&&this.constValue.appearToolbar.division^n&&this.constValue.appearToolbar.all^n?n:this.constValue.appearToolbar.onlyTopFirstTable^n&&this.constValue.appearToolbar.onlyBottomLastTable^n&&this.constValue.appearToolbar.division&n&&this.constValue.appearToolbar.all^n?n:this.constValue.appearToolbar.onlyTopFirstTable^n||this.constValue.appearToolbar.onlyBottomLastTable^n&&this.constValue.appearToolbar.division^n&&this.constValue.appearToolbar.all&n?n:this.constValue.appearToolbar.none},setAppearToolbarDivisionValue:function(n){this.appearToolbarDivisionValue=n},setAppearBottomAreaDivisionValue:function(n){this.appearBottomAreaDivisionValue=n},setTopMargin:function(n){this.topMargin=n},setBottomMargin:function(n){this.bottomMargin=n},setLeftMargin:function(n){this.leftMargin=n},setRightMargin:function(n){this.rightMargin=n},setPageWidth:function(n){this.pageWidth=n},setPageHeight:function(n){this.pageHeight=n},setPageWay:function(n){this.pageWay=n},setEmptyGridMessage:function(n){this.emptyGridMessage=n},setIsHeaderFix:function(n){this.isHeaderFix=n===!0},setDetailGridSettings:function(n){this.hasDetailGrid=!0;this.detailGridSettings=n},setUseOuterDetailGrid:function(n){this.useOuterDetailGrid=n},setGridDuplicate:function(n){typeof n=="number"||(n=typeof n=="boolean"?n===!0?2:1:1);this.gridDuplicate=n},setFreeSizeWidth:function(n){this.isFreeSizeWidth=n},getGridDuplicate:function(){return this.gridDuplicate},setShowDetailItems:function(n){this.isShowDetailItems=n},setIncludedOption:function(n){this.includedOption=n},getIncludedOption:function(){return this.includedOption},getGridCountPerPage:function(){return this.gridCountPerPage},setShowHeaderWithDetail:function(n){this.showHeaderWithDetail=n},getIsAppearTopAreaOnlyFirst:function(){return this.isAppearTopAreaOnlyFirst||this.appearToolbar&this.constValue.appearToolbar.onlyTopFirstTable||this.appearToolbar&this.constValue.appearToolbar.all||this.appearToolbar&this.constValue.appearToolbar.division},getIsAppearBottomAreaOnlyLast:function(){return this.isAppearBottomAreaOnlyLast||this.appearToolbar&this.constValue.appearToolbar.onlyBottomLastTable||this.appearToolbar&this.constValue.appearToolbar.all||this.appearToolbar&this.constValue.appearToolbar.division},getAppearTopAreaOnlyFirstAddBodyRowCount:function(){return this.appearTopAreaOnlyFirstAddBodyRowCount},getAppearBottomAreaOnlyLastAddBodyRowCount:function(){return this.appearBottomAreaOnlyLastAddBodyRowCount},getShowDetailItems:function(){return this.isShowDetailItems},getDetailGridSettings:function(){return this.detailGridSettings},getUseTableCutLine:function(){return this.useTableCutLine},getUsePaging:function(){return this.usePaging},setIsRequireImage:function(n){this.isRequireImage=n===!0},getHasDetailGrid:function(){return this.hasDetailGrid},isRenderTypePrint:function(){return[this.constValue.gridRenderType.typeSpecTran,this.constValue.gridRenderType.salaryPayrollBookList,this.constValue.gridRenderType.salaryPrint,this.constValue.gridRenderType.typeSplitList,this.constValue.gridRenderType.draft].contains(this.renderType)},isRenderTypeUsingPageBreak:function(){return[this.constValue.gridRenderType.typeStatusList,this.constValue.gridRenderType.typeSplitList,this.constValue.gridRenderType.salaryPayrollBookList].contains(this.renderType)},isTypeStatusList:function(){return this.renderType===this.constValue.gridRenderType.typeStatusList},isTypeReportStatusList:function(){return this.renderType===this.constValue.gridRenderType.typeStatusReportList},isTypeSpecTran:function(){return this.renderType===ecount.grid.constValue.gridRenderType.typeSpecTran},isDetailTableType:function(){return this.renderType===ecount.grid.constValue.gridRenderType.typeDetailList},isSalaryPayrollBookList:function(){return this.renderType===ecount.grid.constValue.gridRenderType.salaryPayrollBookList},isSalaryPrint:function(){return this.renderType===ecount.grid.constValue.gridRenderType.salaryPrint},serialize:function(){},end:function(n){this.templateType==ecount.gridV2.render.template.typeSplitList&&n.form.setTableRemoveEmptyLine(!0)}});ecount.class("ecount.gridV3.settings.layout",null,{init:function(){this.constValue=ecount.grid.constValue;this.window=null;this.layer=null;this.$layer=null;this.layerRect=null;this.panelContainer=null;this.scrollContainer=null;this.$header=null;this.contents=null;this.contentsRect=null;this.containerSelector=null;this.container=null;this.containerRect=null;this.useEmailType=!1;this.iframeForPrintArea=$('<div id="tempIframeForPrint" style="width:0px;height:0px;position:absolute;top:-10000px;left:-10000px;overflow:hidden;"><\/div>');this.progressbar=null},destroy:function(){},setLayer:function(n){this.layer=n},setLayer$:function(n){this.$layer=n},setLayerRect:function(){this.layer&&(this.layerRect=this.layer.getBoundingClientRect())},setPanelContainer:function(n){this.panelContainer=n},setContents:function(n){this.contents=n;this.$contents=$(n)},setFixCustomOptions:function(n){this.fixCustomOptions=n||null},setContentsRect:function(){this.contents&&this.contents.length>0&&(this.contentsRect=this.contents[0].getBoundingClientRect())},setContainerSelector:function(n){this.containerSelector=n},setContainer:function(n){this.container=n},setContainer$:function(n){this.$container=n},setContainerRect:function(){this.container&&(this.containerRect=this.container.getBoundingClientRect())},setProgressbar:function(n){this.progressbar=n}});ecount.class("ecount.gridV3.settings.events",null,{init:function(){this.gridRelatedEvents=null;this.widgetRelatedEvents=null;this.UIRelatedEvents=null;this.pageRelatedEvents=null;this.bootstrapContainer=null;this.$bootstrapContainer=null;this.focusOnInit=!1;this.triggerAfterRowDataLoadOnSetRowData=!1;this.notFocusableCallback=null;this.clipboardCallback=null;this.useRightClick=!1;this.contextmenu=null;this.widgetCommonEventDelegator=null;this.widgetUIEventDelegator=null;this.beforeKeydownEnterHandler=null;this.afterKeydownEnterHandler=null;this.beforeKeydownTabHandler=null;this.afterKeydownTabHandler=null;this.beforeKeydownArrowDownHandler=null;this.afterKeydownArrowDownHandler=null;this.beforeKeydownArrowUpHandler=null;this.afterKeydownArrowUpHandler=null;this.gridRelatedEvents=new ecount.events},destroy:function(){},setBootstrapContainer:function(n){this.bootstrapContainer=n},setBootstrapContainer$:function(n){this.$bootstrapContainer=n},setFocusOnInit:function(n){this.focusOnInit=n},setBeforeKeydownEnterHandler:function(n){this.beforeKeydownEnterHandler=n},setAfterKeydownEnterHandler:function(n){this.afterKeydownEnterHandler=n},setBeforeKeydownTabHandler:function(n){this.beforeKeydownTabHandler=n},setAfterKeydownTabHandler:function(n){this.afterKeydownTabHandler=n},setBeforeKeydownArrowDownHandler:function(n){this.beforeKeydownArrowDownHandler=n},setAfterKeydownArrowDownHandler:function(n){this.afterKeydownArrowDownHandler=n},setBeforeKeydownArrowUpHandler:function(n){this.beforeKeydownArrowUpHandler=n},setAfterKeydownArrowUpHandler:function(n){this.afterKeydownArrowUpHandler=n},end:function(){return{gridRelatedEvents:this.gridRelatedEvents,widgetRelatedEvents:this.widgetRelatedEvents,UIRelatedEvents:this.UIRelatedEvents}}});ecount.class("ecount.gridV3.settings.table",null,{init:function(){this.constValue=ecount.grid.constValue;this.disableHover=!1;this.marginLeft=null;this.borderColor=null;this.showWithDetail=!1;this.borderRemoveAll=null;this.borderRemoveAll_default=!1;this.borderRemoveVertical=null;this.borderRemoveVertical_default=!1;this.borderRemoveHorizontal=null;this.borderRemoveHorizontal_default=!1},render:function(){},destroy:function(){},setTableClassName:function(n){this.className=n},isNeedIEBugFixClass:function(){return ecount.grid.constValue.isIE_MS10&&!this.borderRemoveVertical&&!this.borderRemoveHorizontal&&!this.borderRemoveAll&&!this.borderRemoveLeftRight?!0:!1},setShowWithDetail:function(n){this.showWithDetail=n},setBorderColor:function(n){this.borderColor=n},setStyleBorderRemoveAll:function(n){this.borderRemoveAll=n},setStyleBorderRemoveHorizontal:function(n){this.borderRemoveHorizontal=n},setStyleBorderRemoveVertical:function(n){this.borderRemoveVertical=n},setDisableHover:function(n){this.disableHover=n},setMarginLeft:function(n){this.marginLeft=n},end:function(n){var t=["table"],i=[this.constValue.gridRenderType.typeSpecTran,this.constValue.gridRenderType.salaryPayrollBookList,this.constValue.gridRenderType.salaryPrint,this.constValue.gridRenderType.salaryDetail];n.common.renderType==this.constValue.gridRenderType.cloud?t.push("table-cloud"):t.push("table-bordered");n.drag.use&&[this.constValue.formVersion.second,this.constValue.formVersion.third].contains(n.form.version)&&t.push("gridDrag-group");n.form.version==this.constValue.formVersion.third&&t.push("gridSelector-group");this.disableHover!==!0&&t.push("table-hover");this.restrictedTime==!0&&t.push("table-restricted-time");this.isNeedIEBugFixClass()&&t.push("ie-border-bug-fix");n.common.isDynamicWidth&&t.push("table-layout-auto");i.contains(n.common.renderType)?(t.push("table-padding-no-a","table-lh-normal"),!this.constValue.isIE_LT11||this.constValue.isIE_LT9?t.push("table-slip-body"):t.push("table-slip-body","table-border-darken"),n.common.useFormPrint===!0&&t.push("table-slip-template-paper-body")):n.common.useTableResponsive!==!0||n.common.useTreeStyle||t.push("table-responsive");n.common.renderType==this.constValue.gridRenderType.barCode?(t.push("table"),t.push("table-barcode")):([this.constValue.gridType.editable,this.constValue.gridType.editableForm].contains(n.common.gridType)?t.push("table-grid-input","table-listform"):n.common.renderType!==this.constValue.gridRenderType.typeSpecTran&&t.push("table-list"),n.drag&&n.drag.use==!0&&[this.constValue.formVersion.second].contains(n.form.version)&&t.push("table-template-setup-preview"));n.table.borderRemoveAll==!0?t.push("table-border-no-a"):(n.table.borderRemoveVertical==!0&&t.push("table-border-no-v"),n.table.borderRemoveHorizontal==!0&&t.push("table-border-no-h"));n.common.useBody==!1&&t.push("hide");n.common.autoAddColumnOnLastColumn===!0&&t.push("table-grid-input-th");this.className=t}});ecount.class("ecount.gridV3.settings.checkbox",null,{init:function(){this.constValue=ecount.grid.constValue;this.headerStyle={align:"center",width:"25",title:"",visible:!0};this.originalStyle=!1;this.useCustomHeaderStyle=!1;this.useMultiCheck=!0;this.useMultiCheckBulk=!1;this.use=!1;this.isCheckMaxRadioMode=!1;this.index=0;this.displayMergeType=this.constValue.displayCheckboxMegeType.merge;this.madeCount=0;this.manage={}},destroy:function(){},setUse:function(n,t){this.use=t===!0;this.setManageUse(n,this.use)},setCheckMaxRadioMode:function(n,t){this.isCheckMaxRadioMode=t===!0},setUseMultiCheck:function(n){this.useMultiCheck=n===!0},getUseMultiCheck:function(){return this.useMultiCheck},setUseMultiCheckBulk:function(n){this.useMultiCheckBulk=n===!0},getUseMultiCheckBulk:function(){return this.useMultiCheckBulk},setIndex:function(n){this.index=n},setHeaderStyle:function(n){n&&!$.isEmpty(n.width)&&(this.useCustomHeaderWidth=!0);this.headerStyle=n},setCheckboxWidth:function(n){this.headerStyle.width=n||25},getHeaderVisible:function(){return this.headerStyle.visible},setOriginalStyle:function(n){this.originalStyle=n},setDisplayMergeType:function(n){this.displayMergeType=n},resetManage:function(){for(var n in this.manage)this.manage.hasOwnProperty(n)&&this.manage[n].use&&(this.manage[n].isRememberChecked?this.manage[n].allChecked=!1:(this.manage[n].checkedMaxCount=0,this.manage[n].fixCheckedMaxCount=!1,this.manage[n].disabledCheckedList=[],this.manage[n].rememberCheckedList=[]))},clearManage:function(n){var t=this.manage[n];t&&(t.checkedCount=0,t.checkedTotalCount=0,t.checkedDislabeTotalCount=0,t.disabledCheckedList=[],t.rememberCheckedList=[])},clearManageCount:function(){for(var n in this.manage)this.manage.hasOwnProperty(n)&&this.manage[n].use&&(this.manage[n].checkedCount=0,this.manage[n].availableCount=0,this.manage[n].disabledCount=0)},setManageUse:function(n,t){t?this.manage[n]={use:t,autoSplit:!1,madeCount:0,checkedMaxCount:0,fixCheckedMaxCount:!1,checkedTotalCount:0,checkedDislabeTotalCount:0,allChecked:!1,checkedCount:0,availableCount:0,disabledCount:0,isUseDisableCheck:!1,disabledCheckedList:[],isRememberChecked:!1,rememberCheckedList:[],countingDeterminer:null,checkingDeterminer:null,maxCountCallback:null}:delete this.manage[n]},getManage:function(n){return this.manage[n]},getManageUse:function(n){return this.manage[n]&&this.manage[n].use},getManageIsAutoSplit:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].autoSplit:null},setManageAutoSplit:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].autoSplit=t)},setManageActiveRowStyle:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].activeRowStyle=t)},getManageActiveRowStyle:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].activeRowStyle:null},setManageActiveRowDeterminer:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].activeRowDeterminer=t)},setManageCheckedMaxCount:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedMaxCount=$.isNumber(t)?t:-1)},setManageFixCheckedMaxCount:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].fixCheckedMaxCount=t)},setManageMaxCountExceeded:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].maxCountCallback=t)},executeManageMaxCountCallback:function(n){this.manage[n]&&this.manage[n].use&&this.manage[n].maxCountCallback&&this.manage[n].maxCountCallback(this.manage[n].checkedMaxCount)},setManageInitialCheckedList:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].initialCheckedList=t)},setManageRemoveAfterRedraw:function(n,t){t=t===!1?!1:!0;this.manage[n]&&this.manage[n].use&&(this.manage[n].removeAfterRedraw=t)},setManagePagingRememberChecked:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].pagingRememberChecked=t)},setManageCheckingDeterminer:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].checkingDeterminer=t)},getManageCheckingDeterminer:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].checkingDeterminer:null},setManageCountingDeterminer:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].countingDeterminer=t)},getManageCountingDeterminer:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].countingDeterminer:null},setManageRememberChecked:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].isRememberChecked=t)},getManageIsRememberChecked:function(n){if(this.manage[n]&&this.manage[n].use)return this.manage[n].isRememberChecked},getManageRememberCheckedList:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].rememberCheckedList:null},setManageRememberCheckedList:function(n,t){this.manage[n]&&this.manage[n].use&&this.manage[n].rememberCheckedList.push(t)},hasManageRememberCheckedList:function(n,t){var i=!1,r;return this.manage[n]&&this.manage[n].use&&(r=this.manage[n].rememberCheckedList,r.some(function(n){if(n[this.constValue.keyColumnPropertyName]==t)return i=!0,!0}.bind(this))),i},removeManageRememberCheckedList:function(n,t){var r,i;if(this.manage[n]&&this.manage[n].use)for(r=this.manage[n].rememberCheckedList,i=r.length-1;i>-1;i--)if(r[i][this.constValue.keyColumnPropertyName]==t){r.splice(i,1);break}},setManageIsUseDisableCheck:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].isUseDisableCheck=t)},getManageIsUseDisableCheck:function(n){return this.manage[n]&&this.manage[n].use&&this.manage[n].isUseDisableCheck?this.manage[n].isUseDisableCheck:!1},setManageIsDynamicCheckedList:function(n,t){this.manage[n]&&this.manage[n].use&&(this.manage[n].isDynamicCheckedList=t)},getManageDisabledCheckedList:function(n){return this.manage[n]&&this.manage[n].use&&this.manage[n].isUseDisableCheck?this.manage[n].disabledCheckedList:null},setManageDisabledCheckedList:function(n,t){this.manage[n]&&this.manage[n].use&&this.manage[n].isUseDisableCheck&&this.manage[n].disabledCheckedList.push(t)},hasManageDisabledChecked:function(n,t){var i=!1;return this.manage[n]&&this.manage[n].use&&this.manage[n].isUseDisableCheck&&this.manage[n].disabledCheckedList.some(function(n){if(n[this.constValue.keyColumnPropertyName]==t)return i=!0,!0}),i},removeManageDisabledCheckedList:function(n,t){var r,i;if(this.manage[n]&&this.manage[n].use)for(r=this.manage[n].disabledCheckedList,i=r.length-1;i>-1;i--)r[i][this.constValue.keyColumnPropertyName]==t&&r.splice(i,1)},setManageIncreaseCheckedMaxCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedMaxCount+=t)},setManageDecreaseCheckedMaxCount:function(n,t){t=/-\d+/.test(t)?t:-1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedMaxCount+=t)},setManageIncreaseCheckedTotalCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedTotalCount+=t)},setManageDecreaseCheckedTotalCount:function(n,t){t=/-\d+/.test(t)?t:-1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedTotalCount+=t,this.manage[n].checkedTotalCount<0&&(this.manage[n].checkedTotalCount=0))},setManageIncreaseCheckedDislabeTotalCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedDislabeTotalCount+=t)},setManageDecreaseCheckedDislabeTotalCount:function(n,t){t=/-\d+/.test(t)?t:-1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedDislabeTotalCount+=t)},getManageCheckedMaxCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].checkedMaxCount:0},getManageCheckedTotalCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].checkedTotalCount:0},setManageAllChecked:function(n,t){this.manage[n]&&this.manage[n].use&&this.manage[n].isRememberChecked&&(this.manage[n].allChecked=t)},getManageAllChecked:function(n){if(this.manage[n]&&this.manage[n].use)return this.manage[n].allChecked},setManageCheckCountTypeOnlyChild:function(n,t){this.manage[n]&&this.manage[n].use&&(this.checkCountTypeOnlyChild=t)},isChecked:function(n){return n==!0||["y","true","checked"].contains(n.toString().toLowerCase())?!0:n==!1||["n","false"].contains(n.toString().toLowerCase())?!1:void 0},setManageResetRadio:function(n){this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedTotalCount=0,this.manage[n].rememberCheckedList=[])},isRadioMode:function(n){return this.manage[n]&&this.manage[n].use?this.isCheckMaxRadioMode&&this.getManageCheckedMaxCount(n)==1:!1},isRadioAlreadyChecked:function(n){return this.manage[n]&&this.manage[n].use?this.isRadioMode(n)&&this.isCheckedMax(n):!1},isCheckedMax:function(n){return this.manage[n]&&this.manage[n].use?this.getManageCheckedMaxCount(n)===0||this.getManageCheckedTotalCount(n)===0?!1:this.getManageCheckedMaxCount(n)<=this.getManageCheckedTotalCount(n):!1},isAllChecked:function(n){return this.manage[n]&&this.manage[n].use?this.getManageCheckableCount(n)===0||this.getManageCheckedCount(n)===0?!1:this.getManageCheckableCount(n)===this.getManageCheckedCount(n):!1},shouldTheadCheck:function(n){return this.manage[n]&&this.manage[n].use?this.isCheckedMax(n)||this.isAllChecked(n):!1},getManageCheckableCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].isUseDisableCheck?this.manage[n].availableCount+this.manage[n].disabledCount:this.manage[n].availableCount:0},getManageDisabledCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].disabledCount:0},setManageIncreaseDisabledCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].disabledCount+=t)},setManageDecreaseDisabledCount:function(n,t){t=/-\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].disabledCount-=t)},getManageAvailableCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].availableCount:0},setManageIncreaseAvailableCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].availableCount+=t)},setManageDecreaseAvailableCount:function(n,t){t=/-\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].availableCount-=t)},getManageCheckedCount:function(n){return this.manage[n]&&this.manage[n].use?this.manage[n].checkedCount:0},setManageIncreaseCheckedCount:function(n,t){t=/\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedCount+=t)},setManageDecreaseCheckedCount:function(n,t){t=/-\d+/.test(t)?t:1;this.manage[n]&&this.manage[n].use&&(this.manage[n].checkedCount-=t)},end:function(){}});ecount.class("ecount.gridV3.settings.rowmoveable",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.index=1;this.isEventTrigger=!0},destroy:function(){},setUse:function(n){this.use=n===!0},setIndex:function(){this.index=0},setIsEventTrigger:function(n){this.isEventTrigger=n},end:function(){}});ecount.class("ecount.gridV3.settings.foldColumn",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.index=1;this.data={}},destroy:function(){},setUse:function(n){this.use=n===!0},setIndex:function(){this.index=0},initFoldData:function(n){this.data=n},setFoldDataChecked:function(n,t){this.data[n]&&(this.data[n].checked=t)},end:function(){}});ecount.class("ecount.gridV3.settings.numbering",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.index=-1},destroy:function(){},setUse:function(n){this.use=n===!0},setIndex:function(){this.index=0},end:function(){}});ecount.class("ecount.gridV3.settings.editable",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.initialRowCount=10;this.initialRowCountMargin=2;this.useViewMode=!1;this.specialRowCount=0;this.specialRowKeepControlType=!1;this.specialRowMerge=[];this.limitAddRow=null;this.limitAddColumn=null;this.limitAddRowCallback=null;this.isClipboardMode=!1;this.exceptColumnCounter=0;this.clipboardKeyword=null;this.highlightHeader=!1;this.controlEnterHandler=null},destroy:function(){},setUse:function(n){this.use=n===!0},setInitialRowCount:function(n){this.initialRowCount=n},setInitialRowCountMargin:function(n){this.initialRowCountMargin=n},setUseViewMode:function(n){this.useViewMode=n},setSpecialRowCount:function(n){this.specialRowCount=n},setSpecialRowKeepControlType:function(n){this.specialRowKeepControlType=n},setSpecialRowMerge:function(n){this.specialRowMerge=n},setLimitAddRow:function(n){this.limitAddRow=n},setLimitAddColumn:function(n){this.limitAddColumn=n},setLimitAddRowCallback:function(n){this.limitAddRowCallback=n},setIsClipboardMode:function(n){this.isClipboardMode=n},setExceptColumnCounter:function(n){this.exceptColumnCounter=n},setClipboardKeyword:function(n){this.clipboardKeyword=n},setHighlightHeader:function(n){this.highlightHeader=n}});ecount.class("ecount.gridV3.settings.theadStyle",null,{init:function(){this.constValue=ecount.grid.constValue;this.showHeaderWithDetail=!1;this.styleFontSize=null;this.styleFontSize_default=12;this.styleFontBold=null;this.styleFontBold_default=!1;this.styleFontItalic=null;this.styleFontItalic_default=!1;this.styleFontUnderline=null;this.styleFontUnderline_default=!1;this.styleFontStrike=null;this.styleFontStrike_default=!1;this.styleFontAlign=null;this.styleFontAlign_default="center";this.styleFontVAlign=null;this.styleFontVAlign_default="center";this.styleFont=null;this.styleFont_default=null;this.styleFontColor=null;this.styleFontColor_default=null},destroy:function(){}});ecount.class("ecount.gridV3.settings.header",null,{init:function(){this.constValue=ecount.grid.constValue},destroy:function(){}});ecount.class("ecount.gridV3.settings.topToolbar",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.html="";this.headerHtmlCallback=null},destroy:function(){},setUse:function(n){this.use=n===!0},getUse:function(){return this.use},setHeaderHtmlCallback:function(n){this.setUse(!0);this.headerHtmlCallback=n},setHeaderHtmlCallbackClear:function(){this.setUse(!1);this.headerHtmlCallback=null}});ecount.class("ecount.gridV3.settings.headerToolbar",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.leftHTML="";this.rightHTML="";this.toolbars=[];this.customWidgetCreationCallback=null;this.css="wrapper-grid-pagination"},destroy:function(){},setUse:function(n){this.use=n===!0},getUse:function(){return this.use},setLeftHTML:function(n){n&&_.isString(n)?this.setUse(!0):n="";this.leftHTML=n},setRightHTML:function(n){n&&_.isString(n)?this.setUse(!0):n="";this.rightHTML=n},setChildItems:function(n){this.customWidgetCreationCallback=n},end:function(){}});ecount.class("ecount.gridV3.settings.footerToolbar",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.pageIndex=null;this.isShowPageNo=!1;this.leftHTML="";this.rightHTML=""},destroy:function(){},setUse:function(n){this.use=n===!0},getUse:function(){return this.isShowPageNo||this.leftHTML!=""||this.rightHTML!=""},setPageIndex:function(n){this.pageIndex=n},setIsShowPageNo:function(n){this.isShowPageNo=n!==!1},setLeftHTML:function(n){n=n||"";this.leftHTML=n},setRightHTML:function(n){n=n||"";this.rightHTML=n}});ecount.class("ecount.gridV3.settings.bottomToolbar",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.html="";this.footerHtmlCallback=null},destroy:function(){},setUse:function(n){this.use=n===!0},getUse:function(){return this.use},setFooterHtmlCallback:function(n){this.setUse(!0);this.footerHtmlCallback=n}});ecount.class("ecount.gridV3.settings.row",null,{init:function(){this.constValue=ecount.grid.constValue;this.styleBoldOnMergeRow=!1},destroy:function(){},setStyleBoldOnMergeRow:function(n){this.styleBoldOnMergeRow=n===!0}});ecount.class("ecount.gridV3.settings.foot",null,{init:function(){this.constValue=ecount.grid.constValue;this.styleFontSize=null;this.styleFontSize_default=12;this.styleFontBold=null;this.styleFontBold_default=!1;this.styleFontItalic=null;this.styleFontItalic_default=!1;this.styleFontUnderline=null;this.styleFontUnderline_default=!1;this.styleFontStrike=null;this.styleFontStrike_default=!1;this.styleFontAlign=null;this.styleFontAlign_default="center";this.styleFontVAlign=null;this.styleFontVAlign_default="center";this.styleFont=null;this.styleFont_default=null;this.styleFontColor=null;this.styleFontColor_default=null;this.styleFontBgColor=null;this.styleFontBgColor_default=null;this.styleCellBgColor=null;this.styleCellBgColor_default=null;this.bottomMargin=null;this.bottomMargin_default=0},destroy:function(){},setFontSize:function(n){this.styleFontSize===null&&($.isEmpty(n)&&(n=this.styleFontSize_default),this.styleFontSize=n)},setFontBold:function(n){this.styleFontBold===null&&(n=$.isEmpty(n)?this.styleFontBold_default:ecount.common.isTrue(n),this.styleFontBold=n)},setFontItalic:function(n){this.styleFontItalic===null&&(n=$.isEmpty(n)?this.styleFontItalic_default:ecount.common.isTrue(n),this.styleFontItalic=n)},setFontUnderline:function(n){this.styleFontUnderline===null&&(n=$.isEmpty(n)?this.styleFontUnderline_default:ecount.common.isTrue(n),this.styleFontUnderline=n)},setFontStrike:function(n){this.styleFontStrike===null&&(n=$.isEmpty(n)?this.styleFontStrike_default:ecount.common.isTrue(n),this.styleFontStrike=n)},setHorizontalAlign:function(n){this.styleFontAlign===null&&($.isEmpty(n)&&(n=this.styleFontAlign_default),this.styleFontAlign=n)},setVerticalAlign:function(n){this.styleFontVAlign===null&&($.isEmpty(n)&&(n=this.styleFontVAlign_default),this.styleFontVAlign=n)},setFont:function(n){this.styleFont===null&&($.isEmpty(n)&&(n=this.styleFont_default),this.styleFont=n)},setFontColor:function(n){this.styleFontColor===null&&($.isEmpty(n)&&(n=this.styleFontColor_default),this.styleFontColor=n)},setFontBgColor:function(n){this.styleFontBgColor===null&&($.isEmpty(n)&&(n=this.styleFontBgColor_default),this.styleFontBgColor=n)},setCellBgColor:function(n){this.styleCellBgColor===null&&($.isEmpty(n)&&(n=this.styleCellBgColor_default),this.styleCellBgColor=n)},setBottomMargin:function(n){this.bottomMargin=n},end:function(){}});ecount.class("ecount.gridV3.settings.paging",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.rowCountPerPage=null;this.rowCountPerPagePreferManualSetting=!1;this.currentPage=1;this.totalRowCount=0;this.totalPageCount=0;this.position=this.constValue.pagingPosition.topLeftMost;this.backTrack=!0;this.backTrackCount=1;this.makeableContainerIndex=[0]},destroy:function(){},setUse:function(n){this.use=n===!0},getUse:function(){return this.use},setRowCountPerPage:function(n,t){this.rowCountPerPage=n;this.rowCountPerPagePreferManualSetting=t},setCurrentPage:function(n){this.currentPage=parseInt(n,10)},setTotalRowCount:function(n){this.totalRowCount=n},setTotalPageCount:function(n){this.totalPageCount=n},getTotalPageCount:function(){return this.totalPageCount},getTotalRowCount:function(){return this.totalRowCount},setPosition:function(n){this.position=n},initFormProperties:function(n){n=n||{};var i=n.pageSize||this.constValue.defaultPageSize,t;this.rowCountPerPage==null?t=i:this.RowCountPerPagePreferManualSetting==!1&&(t=i);t==undefined&&(t=this.rowCountPerPage);this.RowCountPerPage=t},initCustomProperties:function(n){var t=$.isNull(n)?this.rowCountPerPage!=null?this.rowCountPerPage:this.constValue.defaultPageSize:n.pageSize;t=t||this.constValue.defaultPageSize;this.rowCountPerPage=t},end:function(n){n.form.formDataUrl?this.initFormProperties():this.initCustomProperties()}});ecount.class("ecount.gridV3.settings.shaded",null,{init:function(){this.use=!1;this.className="text-primary-inverse";this.activeList={};this.deactiveList={}},destroy:function(){},setUse:function(n){this.use=n},setKeyType:function(n){this.keyType=n},setType:function(n){this.type=n},setIntergration:function(n){this.intergration=n},setList:function(n){typeof n=="string"&&(n=[n]);this.list=n},setRemember:function(n){this.remember=n},setClassName:function(n){this.className=n||"text-warning"},setGroupIdList:function(n){this.shadedGroupIdList=n},setShadedKey:function(n){this.shadeKey=n}});ecount.class("ecount.gridV3.settings.form",null,{init:function(n){_.extend(this,n);this.constValue=ecount.grid.constValue;this.type-this.constValue.formType.single;this.__api=new ecount.gridV3.modules.api(null,{ajax:ecount.common.api});this.__apiPrefixId="_REQUEST_FORMDATA_";this.__apiPrefixIndex=1;this.formData=null;this.formDataUrl="/Common/Form/GetFormView"},render:function(){},destroy:function(){},setType:function(n){this.type=n},getType:function(){return this.type},setDataUrl:function(n){this.formDataUrl=n},setDataParameter:function(n){this.formDataParameter=n},setDatas:function(n){this.formData=n},serialize:function(){},setOptions:function(n){n=n||{}},callbackSuccess:function(n){if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}this.formData=n||{}},callbackFail:function(n,t,i){if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent(ecount.grid.event.list.renderingError,{},{error:i});i&&i.Message!=undefined&&ecount.error(i.Message,{title:"System Error "+t,trace:i.MessageDetail})},callbackComplete:function(){if(this.config.common&&this.config.common.ecPageId&&!ecount.global.findPageInstance(this.config.common.ecPageId)){this.config.events&&this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents.destroy();return}this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.responseColumns",this.formData)},end:function(){this.formDataUrl&&this.formDataParameter&&!this.formData?(this.__api.add(this.__apiPrefixId+"$"+this.__apiPrefixIndex,{url:this.formDataUrl,data:Object.toJSON(this.formDataParameter||{}),progressbar:!1,async:!1,resolve:this.callbackSuccess.bind(this),reject:this.callbackFail.bind(this),completed:this.callbackComplete.bind(this)}),this.__apiPrefixIndex+=1,this.__api.length()>0&&this.__api.call()):this.callbackComplete()}});ecount.class("ecount.gridV3.settings.drag",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.startHandler=null;this.moveHandler=null;this.endHandler=null;this.helperType=null;this.targetColumnId=null;this.dragableModule=null;this.moveMode=!1;this.droppableArea="table#grid-main"},render:function(){},destroy:function(){delete this.constValue},serialize:function(){},setUse:function(n){this.use=n===!0;n&&(this.dragableModule=new ecount.draggable)},setMoveMode:function(n){this.moveMode=n===!0},setStartCallback:function(n){this.startHandler=n},setMoveCallback:function(n){this.moveHandler=n},setStopCallback:function(n){this.endHandler=n},setHelperType:function(n){n&&(this.helperType=n)},setTargetColumnId:function(n){n&&(this.targetColumnId=n)},setDroppableArea:function(n){n&&(this.droppableArea=n)},end:function(){}});ecount.class("ecount.gridV3.settings.sortable",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.useAllSortColumns=!1;this.sortDisableList=null;this.sortEnableList=null;this.sortOrder="A";this.sortOrderList={}},destroy:function(){},setUse:function(n){n=n===!0;this.use=n},setUseAllSortColumns:function(n){this.useAllSortColumns=n===!0},setReset:function(n){return n&&(this.sortOrderList={}),this},setAscending:function(n){this.sortOrder=n?"D":"A"},setDisableList:function(n){return n==null||n==undefined?this.sortDisableList=n:(typeof n=="string"&&(n=[n]),this.sortDisableList=n),this},setEnableList:function(n){n==null||n==undefined||n.length==0||n==""?(this.sortEnableList=n,this.setUse(!1)):(typeof n=="string"&&(n=[n]),this.setUse(!0),this.sortEnableList=n)}});ecount.class("ecount.gridV3.settings.fix",null,{init:function(){this.constValue=ecount.grid.constValue;this.rowFixed=0;this.columnFixed=0;this.__leftFixedColumnIndex=-1},setFixUse:function(n){this.use=n===!0},setRowFixed:function(n){this.rowFixed=n},setColumnFixed:function(n){this.columnFixed=n}});ecount.class("ecount.gridV3.settings.keyboard",null,{init:function(){this.constValue=ecount.grid.constValue;this.useMoveCursor=!1;this.isMoveCursorIndex=!1;this.prevRowId=null;this.prevColumnId=null},destroy:function(){},setUseMoveCursor:function(n){this.useMoveCursor=n},end:function(){this.prevRowId=null;this.prevColumnId=null}});ecount.class("ecount.gridV3.settings.matrixState",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1},destroy:function(){},setUse:function(n){this.use=n===!0},getCell:function(n,t,i){var r;return n==this.constValue.matrixState.standardLine.row?r=this.stateHorizontal[t]:n==this.constValue.matrixState.standardLine.column&&(r=this.stateVertical[t]),r&&r[i]},getRowList:function(n,t,i){var r,u;if(t=t||{},r=[],n==this.constValue.matrixState.standardLine.row)for(u in this.stateHorizontal)r=r.concat(this.getRow(n,u,t,i));else if(n==this.constValue.matrixState.standardLine.column)for(u in this.stateVertical)r=r.concat(this.getRow(n,u,t,i));return r},getRow:function(n,t,i,r){var h,e,s;i=i||{};r=r||{};var c=$.isBoolean(r.isIncludeChangeColumnId)?r.isIncludeChangeColumnId:!1,l=r.importColumnIdList||[],u,f,o=[];if(n==this.constValue.matrixState.standardLine.row)if(u=this.stateHorizontal[t],i.stateInclude){s=this.gridRelatedEvents._triggerEvent(ecount.gridV3.constEvent.matrixState.getTbodyRowItem,{rowId:t});f={rowItem:s,columnItems:[]};for(e in u)i.stateInclude.contains(u[e].state)&&(h={},h[e]=u[e],f.columnItems.push(h));f.columnItems.length>0&&o.push(f)}else o.push(u);else if(n==this.constValue.matrixState.standardLine.column)if(u=this.stateVertical[t],i.stateInclude)for(e in u)i.stateInclude.contains(u[e].state)&&(f=o.find(function(n){return n.columnId==t&&n.columnState==u[e].state}),f||(f={columnId:t,columnState:null,rowItems:[]},o.push(f)),f.columnState=u[e].state,s=this.gridRelatedEvents._triggerEvent(ecount.gridV3.constEvent.matrixState.getTbodyRowItem,{columnId:t,rowId:e,importColumnIdList:l,isIncludeChangeColumnId:c}),f.rowItems.push(s));else o.push(u);return Object.clone(o)},initGlobalValue:function(n){this.constValue=ecount.grid.constValue;_.extend(this,n)},removeRow:function(n){return this.stateHorizontal[n]&&delete this.stateHorizontal[n],this.stateVertical[n]&&delete this.stateVertical[n],this},reset:function(){return this.stateHorizontal={},this.stateVertical={},this},setCell:function(n,t,i,r){return this.makeRow(n,t),n==this.constValue.matrixState.standardLine.row?this.stateHorizontal[t][i]=r:n==this.constValue.matrixState.standardLine.column&&(this.stateVertical[t][i]=r),this},makeRow:function(n,t){return n==this.constValue.matrixState.standardLine.row?this.stateHorizontal[t]||(this.stateHorizontal[t]={}):n==this.constValue.matrixState.standardLine.column&&(this.stateVertical[t]||(this.stateVertical[t]={})),this},end:function(n){this.use&&(n=n||{},this.reset(),this.gridRelatedEvents=n.events&&n.events.gridRelatedEvents)}});ecount.class("ecount.gridV3.settings.tree",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.listParentToChild=null;this.styleType=null;this.treeColumns=null;this.treeSort=!0;this.treeHideOnNoChild=!1;this.dataNoReOrder=!1;this.treeOpenOnInit=null;this.openOnInitCallback=null;this.eventOnLabel=this.constValue.treeEvent.arrow;this.eventDisable=!1;this.useCheckbox=!1;this.useFavorite=!1;this.useFn=!1;this.fnList=null;this.useParentIcon=!0;this.useChildIcon=!0;this.useContextmenu=!1},destroy:function(){delete this.constValue},setStyleTreeGrid:function(n,t){typeof t==null||typeof t==undefined?t=[]:typeof t=="string"&&(t=[t]);n===!0?(this.use=!0,this.styleType="grid",this.treeColumns=t):(this.use=!1,this.styleType=null,this.treeColumns=null)},setUse:function(n){this.use=n===!0;this.styleType=null},setUseCheckbox:function(n){this.useCheckbox=n===!0},setUseFavorite:function(n){this.useFavorite=n===!0},setUseFn:function(n){this.useFn=n===!0},setFnList:function(n){this.fnList=n},setParentIcon:function(n){this.useParentIcon=n},setChildIcon:function(n){this.childIcon=n},setUseContextmenu:function(n){this.useContextmenu=n===!0},setSort:function(n){this.treeSort=n===!0},setDataNoReOrder:function(n){this.dataNoReOrder=n===!0},setOpenOnInit:function(n){this.treeOpenOnInit=n},setOpenOnInitCallback:function(n){this.openOnInitCallback=n},setEventDisable:function(n){this.eventDisable=n},setEventOnLabel:function(n){switch(typeof n){case"boolean":this.eventOnLabel=n?this.constValue.treeEvent.row:this.constValue.treeEvent.arrow;break;case"string":n=="cell"&&(this.eventOnLabel=this.constValue.treeEvent.cell);break;default:this.eventOnLabel=null}},setHideOnNoChild:function(n){this.treeHideOnNoChild=n===!0}});ecount.class("ecount.gridV3.settings.resize",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.resizeTarget=null;this.resizeType=null;this.heightSections;this.widthSections=[];this.enableColumns;this.groupColumns;this.maxSize},destroy:function(){delete this.constValue},setUse:function(n){this.use=n===!0},setResizeTarget:function(n){this.resizeTarget=n},setResizeType:function(n){this.resizeType=n},setResizeWidthSection:function(n){this.widthSections=n},setMaxSize:function(n){this.maxSize=n}});ecount.class("ecount.gridV3.settings.search",null,{init:function(){this.constValue=ecount.grid.constValue;this.use=!1;this.searchHighlightClassname="active-kbd"},destroy:function(){delete this.constValue},setUse:function(n){this.use=n===!0},setSearchHighlightClassname:function(n){this.searchHighlightClassname=n}});ecount.class("ecount.gridV3.settings.print",null,{init:function(n){_.extend(this,n);this.constValue=ecount.grid.constValue;this.totalPage=0;this.partitialRenderingPageCount=10;this.limitPartitialRowStartIndex=0;this.limitPartitialRowEndIndex=0;this.isSeperateRendering=!1;this.isInitailizeWidth=!0;this.isInitailizeHeight=!0;this.autoAlignStandard="table";this.usableSectionInfo={};this.printPageCount=1;this._detailTableId=[];this.nextTableId={};this.replaceTableId={};this.use=!1},destroy:function(){delete this.config;delete this.constValue},setUsableSectionInfo:function(n,t,i,r,u){var f=this.constValue.rowVariableNames,e=i[0]&&i[0][this.constValue.rowVariableNames.renderSet]||{},o=i[i.length-1]&&i[i.length-1][this.constValue.rowVariableNames.renderSet]||{},s=this._storeDetailTableId(e,o,u),h;s&&(this._detailTableId=this._detailTableId.concat(s));h=!0;u.isShowDetailItems||u.showHeaderWithDetail||e[f.isPageStartRow]?h=!0:(s.length>0||i[0]&&i[0][this.constValue.keyColumnPropertyName]==this.constValue.rowEmptyRowPropertyName)&&(h=!1);this.usableSectionInfo[n+ecount.delimiter+t]={tableId:e[f.tableId],tableIndex:parseInt(e[f.currentPage])-1,detailTableId:s,linkedTableIdList:o[f.isLastTable]?r:null,topToolbar:(u.appearToolbar&this.constValue.appearToolbar.all||u.appearToolbar&this.constValue.appearToolbar.allTopTable)&&e[f.isPageStartRow]||u.appearToolbar&this.constValue.appearToolbar.division&&o[f.isPageEndRow]%u.appearToolbarDivisionValue==0||u.appearToolbar&this.constValue.appearToolbar.onlyTopFirstTable&&e[f.isFirstTable]||!1,headerToolbar:!0,thead:h,tbody:!0,tfoot:o[f.isLastTable]||!1,footerToolbar:!0,bottomToolbar:(u.appearToolbar&this.constValue.appearToolbar.all||u.appearToolbar&this.constValue.appearToolbar.allBottomTable)&&(o[f.isPageEndRow]||o[f.isLastTable])||u.appearToolbar&this.constValue.appearToolbar.division&&o[f.isPageEndRow]%u.appearToolbarDivisionValue==0||u.appearToolbar&this.constValue.appearToolbar.onlyBottomLastTable&&o[f.isLastTable]||!1,openWrapperPrint:$.isNull(e[f.detailTableType])||$.isNull(e[f.isRemainRow])?!0:!1,closeWrapperPrint:$.isNull(e[f.detailTableType])||$.isNull(e[f.isRemainRow])?!0:!1,openWrapperPrintContent:!0,closeWrapperPrintContent:!0};this.config.common.renderType==this.constValue.gridRenderType.draft&&(this.usableSectionInfo[n+ecount.delimiter+t].openWrapperPrintContent=!1,this.usableSectionInfo[n+ecount.delimiter+t].closeWrapperPrintContent=!1)},resetUsableSectionInfo:function(){this.usableSectionInfo={}},getUsableSectionInfo:function(n){return $.isEmpty(n)?this.usableSectionInfo:this.usableSectionInfo[n]},setPrintPageCount:function(n){this.printPageCount=parseInt(n)},getPrintPageCount:function(){return this.printPageCount},increasePrintPageCount:function(){this.printPageCount++},setTotalPage:function(n){this.totalPage=n},getTotalPage:function(){return this.totalPage},setPartitialRenderingPageCount:function(n){this.partitialRenderingPageCount=n},getPartitialRenderingPageCount:function(){return this.partitialRenderingPageCount},setLimitPartitialRowStartIndex:function(n){this.limitPartitialRowStartIndex=n},getLimitPartitialRowStartIndex:function(){return this.limitPartitialRowStartIndex},setLimitPartitialRowEndIndex:function(n){this.limitPartitialRowEndIndex=n},getLimitPartitialRowEndIndex:function(){return this.limitPartitialRowEndIndex},setIsSeperateRendering:function(n){this.isSeperateRendering=n},getIsSeperateRendering:function(){return this.isSeperateRendering},setUse:function(n){this.use=n===!0},getUse:function(){return this.use},setIsInitailizeWidth:function(n){this.isInitailizeWidth=n===!0},setIsInitailizeHeight:function(n){this.isInitailizeHeight=n===!0},setNotUsePaddingOfPrint:function(n){this.isNotUsePadding=n===!0},setAutoAlignStandard:function(n){this.autoAlignStandard=n},getLinkedTableIdList:function(n,t,i){var r=i.useOuterDetailGrid?n:t,u=[];return i.useOuterDetailGrid&&(r[this.constValue.rowVariableNames.detailTableIdList]?$.isArray(r[this.constValue.rowVariableNames.detailTableIdList])?u=r[this.constValue.rowVariableNames.detailTableIdList]:u.push(r[this.constValue.rowVariableNames.detailTableIdList]):r[this.constValue.rowVariableNames.detailTableId]&&u.push(r[this.constValue.rowVariableNames.detailTableId])),u},_storeDetailTableId:function(n,t,i){var r=i.useOuterDetailGrid?n:t,u=[];return i.useOuterDetailGrid?r[this.constValue.rowVariableNames.detailTableId]&&u.push(r[this.constValue.rowVariableNames.detailTableId]):r[this.constValue.rowVariableNames.detailTableId]&&u.push(r[this.constValue.rowVariableNames.detailTableId]),u}});ecount.class("ecount.gridV3.sectionTopToolbar",null,{init:function(n,t,i,r){_.extend(this,n);this.config=t;this.initDatas=r;this.constValue=ecount.grid.constValue;this.gridRelatedEvents=t.events.gridRelatedEvents;this.html=""},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.constValue;delete this.gridRelatedEvents;for(var n=0,t=this.itemList;n<t;n++)this.itemList[n].destroy()},makeData:function(n){var i,t;this.config.topToolbar.headerHtmlCallback||this.config.common.topBottomHTML?this.makePrintData(null,n):(i=widget.generator.toolbar(),this.config.topToolbar.html&&i.addRight(this.controlGenerator.define("widget.label").label(this.config.topToolbar.html)),t=this.instanceManager.create("ecount.layout.toolbar",i.end()),t.render($("<div />")),this.html=t.$el[0].outerHTML,this.itemList=t.itemList)},makePrintData:function(n,t){var e=this.config.topToolbar.headerHtmlCallback,u=this.config.common.topBottomHTML||{},r=this.initDatas.tableId,f=this.initDatas.tableIndex,n=n||"TOP",o="",i="";!this.config.common.isShowDetailItems;e?(i=e({areaKind:n,tableId:r,tableIndex:f,isFirst:t}),i!=undefined&&i!=null&&(o="custom-top")):u[r]&&u[r][f]&&(i=u[r][f][n]||"");i&&(this.html='<div class="'+o+'">'+i+"<\/div>")},getTemplateData:function(){return this.html},getControlInstance:function(n){for(var r=this.itemList.slice(0),t,i,u;r.length;){if(t=r.pop(),t.cid==n)return t;if(t.itemList)for(i=0,u=t.itemList.length;i<u;i++)r.push(t.itemList[i])}}});ecount.class("ecount.gridV3.sectionHeaderToolbar",null,{init:function(n,t,i,r){_.extend(this,n);_.extend(this,i);this.config=t;this.form=r;this.constValue=ecount.grid.constValue;this.html=""},render:function(){var n,r,u,t,i;this.toolbar=widget.generator.toolbar().setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId,ignorePrimaryButton:!0});this.makePaging();this.makeChildItems();n=0;this.config.common.isFreeSizeWidth?n=100:(r=0,this.form.some(function(t){if(t.linechange&&(r+=1),r!=0)return!0;n+=parseInt(t.width,10)}));this.toolbar.width(this.config.common.isFreeSizeWidth?n+"%":n+"px");u="grid-header-toolbar";this.config.headerToolbar.css&&(u+=" "+this.config.headerToolbar.css);this.toolbar.setOptions({customToolbarCss:u});this.leftHTML&&this.toolbar.addLeft(this.controlGenerator.define("widget.gridCell.label").label(this.leftHTML));this.rightHTML&&this.toolbar.addRight(this.controlGenerator.define("widget.gridCell.label").label(this.rightHTML));t=this.instanceManager.create("ecount.layout.toolbar",this.toolbar.end());t.render(this.config.layout.$container);i=t.getControl("paging");this.pagingInst=i;i?this.config.paging.setTotalPageCount(i.getState(i._IT_SELF,"opt.totalPage")):this.config.paging.setTotalPageCount(0);this.html=t.$el[0].outerHTML;this.itemList=t.itemList},destroyAll:function(){for(var n=0,t=this.itemList;n<t;n++)this.itemList[n].destroy()},makeData:function(){var n,t,i;this.toolbar=widget.generator.toolbar().setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId});this.makePaging();n=0;this.config.common.isFreeSizeWidth?n=100:(t=0,this.form.some(function(i){if(i.linechange&&(t+=1),t!=0)return!0;n+=parseInt(i.width,10)}));this.toolbar.width(this.config.common.isFreeSizeWidth?n+"%":n+"px");this.toolbar.setOptions({customCss:this.config.headerToolbar.css});this.leftHTML&&this.toolbar.addLeft(this.controlGenerator.define("widget.gridCell.label").label(this.leftHTML));this.rightHTML&&this.toolbar.addRight(this.controlGenerator.define("widget.gridCell.label").label(this.rightHTML));i=this.instanceManager.create("ecount.layout.toolbar",this.toolbar.end());i.render($("<div />"));this.html=i.$el[0].outerHTML},makePaging:function(){if(this.config.paging.use){if(this.config.paging.totalRowCount<=0)return;var n=this.controlGenerator.define("widget.paging","paging","paging","paging").setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId}).setGridPagingInfo(this.config.paging.currentPage,this.config.paging.rowCountPerPage,this.config.paging.totalRowCount);this.toolbar.addLeft(n)}},makeChildItems:function(){var i,t,r,n;if(this.customWidgetCreationCallback){for(i=this.customWidgetCreationCallback(),t=0,r=i.length;t<r;t++)n=i[t],n&&n.control&&(n.control.setOptions({gridID:this.config.common.ecContainerId}),n.position=="right"?this.toolbar.addRight(n.control):this.toolbar.addLeft(n.control));this.toolbar.setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,delegator:this.config.events.widgetCommonEventDelegator})}},getTemplateData:function(){return this.html},getControlInstance:function(n){for(var r=this.itemList.slice(0),t,i,u;r.length;){if(t=r.pop(),t.cid==n)return t;if(t.itemList)for(i=0,u=t.itemList.length;i<u;i++)r.push(t.itemList[i])}},getToolbarInst:function(){return this.pagingInst},changeLeftHTML:function(n,t,i){var e=this.config.layout.container,r,f,u;e&&(r=e.querySelectorAll(".grid-header-toolbar"),r&&(f=n=="last"?r[r.length-1]:n=="first"?r[0]:/\d+/g.test(n)?r[n]:r[0],u=f&&f.querySelector(".pull-left"),u&&(i?u.innerHTML+=t:u.innerHTML=t)))},changeRightHTML:function(n,t,i){var e=this.config.layout.container,r,f,u;e&&(r=e.querySelectorAll(".grid-header-toolbar"),r&&(f=n=="last"?r[r.length-1]:n=="first"?r[0]:/\d+/g.test(n)?r[n]:r[0],u=f&&f.querySelector(".pull-right"),u&&(i?u.innerHTML+=t:u.innerHTML=t)))}});ecount.class("ecount.gridV3.sectionBottomToolbar",null,{init:function(n,t,i,r){_.extend(this,n);this.config=t;this.initDatas=r;this.constValue=ecount.grid.constValue;this.html=""},destroyAll:function(){delete this.config},makeData:function(n){(this.config.bottomToolbar.footerHtmlCallback||this.config.common.topBottomHTML)&&this.makePrintData(null,n)},makePrintData:function(n,t){var e=this.config.bottomToolbar.footerHtmlCallback,u=this.config.common.topBottomHTML||{},r=this.initDatas.tableId,f=this.initDatas.tableIndex,n=n||"BOTTOM",o="",i="";e?(i=e({areaKind:n,tableId:r,tableIndex:f,isLast:t}),i!=undefined&&i!=null&&(o="custom-bottom")):u[r]&&u[r][f]&&(i=u[r][f][n]||"");i&&(this.html='<div class="'+o+'">'+i+"<\/div>")},getTemplateData:function(){return this.html}});ecount.class("ecount.gridV3.sectionContainer",null,{init:function(n,t,i){this.config=n;this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.util=ecount.gridV3.utils;this.tableElement=null;this.preOverRowKey=null;this.preColumnId=null;this.preRowId=null;this.multiCheckBulk={};this.containerIndex=i;this.dataTableId="table"+ecount.delimiter+this.containerIndex;this.dataResizeTableId="table"+ecount.delimiter+"resize"+this.containerIndex;$.isNull(this.config.tableId)||(this.dataTableId=this.config.tableId+ecount.delimiter+this.containerIndex);this.gridRelatedEvents=n.events.gridRelatedEvents;this.pageRelatedEvents=n.events.pageRelatedEvents;this.usableSectionInfo=n.print.getUsableSectionInfo(this.dataTableId);this.isRenderCancel()||(this.initColgroup(t),n.topToolbar&&n.topToolbar.use||n.print.getUse()?this.initTopToolbar(t):(n.headerToolbar&&n.headerToolbar.getUse()||n.paging.getUse&&n.paging.getUse())&&this.initHeaderToolbar(t),n.theadForm&&n.theadRowDatas&&this.initThead(t),n.tbodyForm&&n.tbodyRowDatas&&this.initTbody(t),n.tfootForm&&n.tfootRowDatas&&n.tfootRowDatas.length>0&&this.initTfoot(t),this.initFooterToolbar(t),(n.bottomToolbar&&n.bottomToolbar.use||n.print.getUse())&&this.initBottomToolbar(t))},initTopToolbar:function(n){var t;if(this.usableSectionInfo){if(this.usableSectionInfo.topToolbar===!1)return;t={tableId:this.usableSectionInfo.tableId,tableIndex:this.usableSectionInfo.tableIndex}}else t={tableId:this.dataTableId,tableIndex:this.containerIndex};this.topToolbar=new ecount.gridV3.sectionTopToolbar(n,this.config,this.config.theadForm,t)},initHeaderToolbar:function(n){this.headerToolbar=new ecount.gridV3.sectionHeaderToolbar(n,this.config,this.config.headerToolbar,this.config.theadForm)},initColgroup:function(n){this.config.table.dataTableId=this.dataTableId;this.config.table.dataResizeTableId=this.dataResizeTableId;this.colgroupSection=new ecount.gridV3.sectionColgroup(n,this.config.theadForm,this.config,{dataTableId:this.dataTableId,dataResizeTableId:this.dataResizeTableId})},initThead:function(n){this.usableSectionInfo&&this.usableSectionInfo.thead===!1||(this.theadSection=new ecount.gridV3.sectionThead(n,this.config.theadForm,this.config.theadRowDatas,{common:this.config.common,layout:this.config.layout,table:this.config.table,column:this.config.theadColumn,form:this.config.form,events:this.config.events,checkbox:this.config.checkbox,drag:this.config.drag,editable:this.config.editable,row:this.config.row||{},rowConfig:this.config.theadRow,foot:this.config.foot||{},theadSearch:this.config.theadSearch,foldColumn:this.config.foldColumn},{dataTableId:this.dataTableId}))},initTbody:function(n){this.tbodySection=new ecount.gridV3.sectionTbody(n,this.config.tbodyForm,this.config.tbodyRowDatas,this.config.tfootForm,{common:this.config.common,layout:this.config.layout,table:this.config.table,column:this.config.tbodyColumn,form:this.config.form,events:this.config.events,checkbox:this.config.checkbox,drag:this.config.drag,editable:this.config.editable,row:this.config.row||{},rowConfig:this.config.tbodyRow,tfootRowConfig:this.config.tfootRow,foot:this.config.foot||{},shaded:this.config.tbodyShaded||{},matrixState:this.config.matrixState||{},valdation:this.config.tbodyValidation||{},keyboard:this.config.keyboard||{},tree:this.config.tree||{},tbodySearch:this.config.tbodySearch,tfootSearch:this.config.tfootSearch,foldColumn:this.config.foldColumn},{dataTableId:this.dataTableId})},initTfoot:function(n){this.tfootSection=new ecount.gridV3.sectionTfoot(n,this.config.tfootForm,this.config.tfootRowDatas,{common:this.config.common,layout:this.config.layout,table:this.config.table,column:this.config.tfootColumn,form:this.config.form,events:this.config.events,checkbox:this.config.checkbox,drag:this.config.drag,editable:this.config.editable,row:this.config.row||{},rowConfig:this.config.tfootRow,foot:this.config.foot||{},tfootSearch:this.config.tfootSearch},{dataTableId:this.dataTableId})},initFooterToolbar:function(n){this.config.footerToolbar.isShowPageNo&&this.config.footerToolbar.setPageIndex(this.containerIndex+1);this.footerToolbar=new ecount.gridV3.sectionFooterToolbar(n,this.config,this.config.footerToolbar,this.config.theadForm)},initBottomToolbar:function(n){var t;if(this.usableSectionInfo){if(this.usableSectionInfo.bottomToolbar===!1)return;t={tableId:this.usableSectionInfo.tableId,tableIndex:this.usableSectionInfo.tableIndex}}else t={tableId:this.dataTableId,tableIndex:this.containerIndex};this.bottomToolbar=new ecount.gridV3.sectionBottomToolbar(n,this.config,this.config.theadForm,t)},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},render:function(n){var v="",u=!1,y=!1,o;this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet]&&(this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet][this.rowVariableNames.detailTableType]=="cutFromDetail"&&(u=!0),this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet].isRemoveEmptyLine&&(y=!0));var t="",p="",r="",f="",h="",c="",l="",a="",e="",i="",s="",w=(new Date).getTime();if(this.isRenderCancel()||u||!this.topToolbar||(this.topToolbar.makeData(n.isFirstContainer),r=this.topToolbar.getTemplateData()),this.isRenderCancel()||u||!this.headerToolbar||(this.containerIndex==0?this.headerToolbar.render():(this.headerToolbar.makeData(),f=this.headerToolbar.getTemplateData())),!this.isRenderCancel()&&this.colgroupSection&&(this.colgroupSection.makeData({dataTableId:this.dataTableId}),h=this.colgroupSection.getTemplateData()),!this.isRenderCancel()&&this.tbodySection&&(y?l="":(this.tbodySection.makeData({dataTableId:this.dataTableId}),l=this.tbodySection.getTemplateData())),this.isRenderCancel()||u||!this.theadSection||(this.theadSection.makeData({dataTableId:this.dataTableId}),c=this.theadSection.getTemplateData()),!this.isRenderCancel()&&this.tfootSection&&(this.tfootSection.makeData({dataTableId:this.dataTableId}),a=this.tfootSection.getTemplateData()),this.isRenderCancel()||this.config.common.isTypeSpecTran()||u||!this.footerToolbar||(this.footerToolbar.makeData(),e=this.footerToolbar.getTemplateData()),!this.isRenderCancel()&&this.bottomToolbar&&(this.bottomToolbar.makeData(n.isLastContainer),i=this.bottomToolbar.getTemplateData()),this.config.common.renderType==this.constValue.gridRenderType.typeHorizonList){this.renderHorizonList({topToolbarHTML:r,headerToolbarHTML:f,colgroupHTML:h,theadHTML:c,tfootHTML:a,footerToolbarHTML:e,bottomToolbarHTML:i});return}if(o="",this.isRenderCancel()||(o=$.template(ecount.gridV3.template.table,{table:this.getTableData()}).replace("{{colgroup}}",h).replace("{{thead}}",c).replace("{{tbody}}",l).replace("{{tfoot}}",a)),!this.config.print.getUse()||u||this.config.common.isDetailTableType()?u&&this.usableSectionInfo&&this.usableSectionInfo.detailTableId&&!this.config.print.nextTableId[this.dataTableId]?(s=this.getDetailTableTag("",this.dataTableId),t=r+f+o+s+e+i):t=this.config.common.parentGridId&&this.config.common.isOuterDetailGrid?"<div data-detailtableid='"+this.usableSectionInfo.tableId+"'>"+r+f+o+e+i+"<\/div>":r+f+o+e+i:this.config.common.isTypeSpecTran()?(this.config.common.appearToolbar&this.constValue.appearToolbar.onlyTopFirstTable?this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet]&&this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet][this.rowVariableNames.isFirstTable]&&(t+=r):this.config.common.appearToolbar&this.constValue.appearToolbar.allTopTable?this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet]&&this.config.tbodyRowDatas[0][this.rowVariableNames.renderSet][this.rowVariableNames.isPageStartRow]&&(t+=r):t+=r,t=t+f+o+e,this.config.common.appearToolbar&this.constValue.appearToolbar.onlyBottomLastTable?this.config.tbodyRowDatas[this.config.tbodyRowDatas.length-1][this.rowVariableNames.renderSet]&&this.config.tbodyRowDatas[this.config.tbodyRowDatas.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable]&&(t+=this.usableSectionInfo&&this.usableSectionInfo.detailTableId&&this.usableSectionInfo.detailTableId.length>0?"<replace"+ecount.delimiter+"detailTableString/>"+i:i):this.config.common.appearToolbar&this.constValue.appearToolbar.allBottomTable?this.config.tbodyRowDatas[this.config.tbodyRowDatas.length-1][this.rowVariableNames.renderSet]&&(this.config.tbodyRowDatas[this.config.tbodyRowDatas.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isPageEndRow]||this.config.tbodyRowDatas[this.config.tbodyRowDatas.length-1][this.rowVariableNames.renderSet][this.rowVariableNames.isLastTable])&&(t+=this.usableSectionInfo&&this.usableSectionInfo.detailTableId&&this.usableSectionInfo.detailTableId.length>0?"<replace"+ecount.delimiter+"detailTableString/>"+i:i):t+="<replace"+ecount.delimiter+"detailTableString/>"+i):t=r+f+o+e+i,this.config.common.isRenderTypeUsingPageBreak()&&this.containerIndex>0&&(p="<div class='page-break'><\/div>"),this.isRenderCancel()){this.renderCancel();return}!this.config.print.getUse()||u||this.config.common.isDetailTableType()||(this.config.common.isTypeSpecTran()&&(s=this.getDetailTableTag("",this.dataTableId)),t=this.wrappingPrintContainer(t,s));v+=t;this.gridRelatedEvents._triggerEvent("ecount.gridV3.makeRenderingHTMLCompleted",{container:this,renderingHTML:p+v,isReplaceTable:this.config.print.replaceTableId[this.dataTableId],dataTableId:this.dataTableId,topToolbar:this.topToolbar,bottomToolbar:this.bottomToolbar})},getDetailTableTag:function(n,t){var u,r,i;return n=n||"",u=this.config.print.getUsableSectionInfo(t),r=u&&u.detailTableId,r&&r.length>0&&(n+=r.reduce(function(n,t){return n+("<"+t+">")},"")),i=this.config.print.nextTableId[t],i&&(n+="<"+i+">",this.config.print.nextTableId[i]&&(n=this.getDetailTableTag(n,i))),n},wrappingPrintContainer:function(n,t){var r=this.usableSectionInfo||{},h=r.tableId,o=r.tableIndex,i="",u="",f,e=[],s;return r.openWrapperPrint&&(f=this.config.print.getPrintPageCount(),f!==1&&this.config.common.getUsePaging()&&e.push("hide"),this.config.common.isTypeReportStatusList()&&e.push("wrapper-print-left"),u+=this.config.common.renderType==this.constValue.gridRenderType.draft?'<div class="wrapper-print '+e.join(" ")+'" container-type="wrapper-print" print-page="'+f+'" groupid="'+[h,o].join(ecount.delimiter)+'">':'<div class="wrapper-print '+e.join(" ")+'" container-type="wrapper-print" print-page="'+f+'">',this.config.print.increasePrintPageCount()),r.openWrapperPrintContent&&(s="wrapper-print-content grid-wrapper-print-content",this.config.common.includedOption&&(s="wrapper-print-content grid-wrapper-print-content position-static"),i+='<div class="'+s+'" container-type="wrapper-print-content" groupid="'+[h,o].join(ecount.delimiter)+'">'),i+=n,r.closeWrapperPrint?(r.detailTableId&&r.detailTableId.length>0?i.indexOf("<replace"+ecount.delimiter+"detailTableString/>")>-1?i=i.replace("<replace"+ecount.delimiter+"detailTableString/>",t):i+=t:i=i.replace("<replace"+ecount.delimiter+"detailTableString/>",""),this.usableSectionInfo&&this.usableSectionInfo.linkedTableIdList&&this.usableSectionInfo.linkedTableIdList.forEach(function(n){i+=_.isEmpty(n)?"":"<"+n+">"}),r.closeWrapperPrintContent&&(i+="<\/div>"),u+=i,u+="<\/div>",o!=0||r.detailTableId&&r.detailTableId.length!=0||(u+=t)):u+=i,u},renderHorizonList:function(n){var t="",i="",r="",u="",f="",e="",o="",s="",h="",c,l;n.isFirstContainer&&(!this.isRenderCancel()&&this.topToolbar&&(this.topToolbar.makeData(),i=this.topToolbar.getTemplateData()),!this.isRenderCancel()&&this.headerToolbar&&(this.containerIndex==0?this.headerToolbar.render():(this.headerToolbar.makeData(),r=this.headerToolbar.getTemplateData())));!this.isRenderCancel()&&this.colgroupSection&&(this.colgroupSection.makeData({dataTableId:this.dataTableId}),u=this.colgroupSection.getTemplateData());!this.isRenderCancel()&&this.tbodySection&&(this.tbodySection.makeData({dataTableId:this.dataTableId}),e=this.tbodySection.getTemplateData());!this.isRenderCancel()&&this.theadSection&&(this.theadSection.makeData({dataTableId:this.dataTableId}),f=this.theadSection.getTemplateData());!this.isRenderCancel()&&this.tfootSection&&(this.tfootSection.makeData({dataTableId:this.dataTableId}),o=this.tfootSection.getTemplateData());n.isLastContainer&&(this.isRenderCancel()||this.config.common.isTypeSpecTran()||!this.footerToolbar||(this.footerToolbar.makeData(),s=this.footerToolbar.getTemplateData()),!this.isRenderCancel()&&this.bottomToolbar&&(this.bottomToolbar.makeData(),h=this.bottomToolbar.getTemplateData()));n.isFirstContainer&&(t+=i+r,c=this.getTotalWidth({targetType:this.constValue.targetType.visible}),l=String.format("{0}{1}",parseInt(c,10)*2+1,this.config.common.isFreeSizeWidth?"%;":"px;"),t+=String.format("<div class='wrapper-floating-table' style='width: {0}'>",l));this.isRenderCancel()||(t+=$.template(ecount.gridV3.template.table,{table:this.getTableData()}).replace("{{colgroup}}",u).replace("{{thead}}",f).replace("{{tbody}}",e).replace("{{tfoot}}",o));n.isLastContainer&&(t+="<\/div>",t+=s+h);this.gridRelatedEvents._triggerEvent("ecount.gridV3.makeRenderingHTMLCompleted",{container:this,renderingHTML:t,isReplaceTable:this.config.print.replaceTableId[this.dataTableId],dataTableId:this.dataTableId,topToolbar:this.topToolbar,bottomToolbar:this.bottomToolbar})},destroyAll:function(){this.topToolbar&&this.topToolbar.destroyAll();this.headerToolbar&&this.headerToolbar.destroyAll();this.colgroupSection&&this.colgroupSection.destroyAll();this.theadSection&&this.theadSection.destroyAll();this.tbodySection&&this.tbodySection.destroyAll();this.tfootSection&&this.tfootSection.destroyAll();this.footerToolbar&&this.footerToolbar.destroyAll();this.bottomToolbar&&this.bottomToolbar.destroyAll();delete this.config;delete this.constValue;delete this.rowVariableNames;delete this.util;delete this.tableElement;delete this.pageRelatedEvents;delete this.gridRelatedEvents},getTableData:function(){var t={attrs:{id:this.config.common.ecGridId,"data-tableid":this.dataTableId,"data-resizetableid":this.dataResizeTableId},styles:{},className:_.clone(this.config.table.className)},i=this.getTotalWidth({targetType:this.constValue.targetType.visible}),n;return t.styles.width=i+(this.config.common.isFreeSizeWidth?"%":"px"),this.config.table.borderColor&&(t.styles["border-color"]="#"+this.config.table.borderColor),$.isNumber(this.config.table.marginLeft)&&(t.styles["margin-left"]=this.config.table.marginLeft+"px"),n=this.config.theadColumn.columns&&this.config.theadColumn.columns[0],n&&n.TOP_BORD_USE_TF&&n.BTTM_BORD_USE_TF&&n.LEFT_BORD_USE_TF&&n.RGT_BORD_USE_TF&&(t.styles["border-color"]=n.TOP_BORD_COLOR_CD||n.BTTM_BORD_COLOR_CD||n.LEFT_BORD_COLOR_CD||n.RGT_BORD_COLOR_CD,t.styles["border-width"]=n.TOP_BORD_THICK||n.BTTM_BORD_THICK||n.LEFT_BORD_THICK||n.RGT_BORD_THICK,t.styles["border-style"]=n.TOP_BORD_STYL_CD||n.BTTM_BORD_STYL_CD||n.LEFT_BORD_STYL_CD||n.RGT_BORD_STYL_CD),this.config.common.isDetailTableType()&&this.usableSectionInfo&&(t.attrs["data-detailtableid"]=this.usableSectionInfo.tableId),t},getTotalWidth:function(n){return this.colgroupSection.getTotalWidth(n)},setTotalWidth:function(n){var t=this.getTableElement();t.style.width=n+"px"},getTopContainerMaxWidth:function(){var n=0,t=this.config.layout.container,i;return t&&(i=$(t),i.find(".custom-top").children().each(function(t,i){var r=$(i).outerWidth();t==0?n=r:r>n&&(n=r)})),n},getBottomContainerMaxWidth:function(){var n=0,t=this.config.layout.container,i;return t&&(i=$(t),i.find(".custom-bottom").children().each(function(t,i){var r=$(i).outerWidth();t==0?n=r:r>n&&(n=r)})),n},setCacheTable:function(){var n=this.config.layout.container;n&&(this.tableElement=$(n).find('[data-tableid="'+this.dataTableId+'"]')[0]);this.theadSection&&this.theadSection.setCacheTable(this.tableElement);this.tbodySection&&this.tbodySection.setCacheTable(this.tableElement);this.tfootSection&&this.tfootSection.setCacheTable(this.tableElement)},getTableElement:function(){if(this.tableElement)return this.tableElement;var n=this.config.layout.container;return n&&(this.tableElement=$(n).find('[data-tableid="'+this.dataTableId+'"]')[0]),this.tableElement},setFixed:function(n){this.fixed=n},setTbodyCheckboxMaxCount:function(){var n,t,i;if(this.config.checkbox.manage){n=this.tbodySection.getRowList();for(t in this.config.checkbox.manage)i=this.config.checkbox.manage[t],i.checkedMaxCount=n.length}},getColgroupColWidth:function(n){return this.colgroup.getWidth(n)},getTheadColumnInfo:function(n,t){return this.theadSection.getColumnById(n,t)},getTheadColumnInfoByIndex:function(n,t,i){return this.theadSection.getColumnByIndex(n,t,i)},setTheadColumnInfo:function(n,t){var r,u,i,f;t.width&&(r=this.getTheadColumnInfo(n),u=parseInt(this.getTotalWidth({targetType:"visible"}),10)-parseInt(r.width||"0",10)+parseInt(t.width,10),this.gridRelatedEvents&&this.gridRelatedEvents._triggerEvent("ecount.gridV3.resizeColumn",{gridColumnID:n,gridColumnWidth:t.width}),this.theadSection.setColumnWidth(n,t.width),this.colgroupSection.setWidth(n,t.width),this.setTotalWidth(u));t.dataType1||t.dataType==undefined||t.dataType==null||typeof t.dataType=="string"&&(i=t.dataType.substring(0,1),f=t.dataType.substring(1),i=="1"||i=="2"?(t.dataType1="DATETIME",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1):i=="8"||i=="9"?(t.dataType1="NUM",t.dateFormat="",t.isDisplayZero=i=="9",t.decCount=f,t.isShowIfZero=i=="9",t.dateFormat="",t.customizeDate="",t.controlOption||(t.controlOption={}),t.controlOption.numberType||(t.controlOption.numberType="decimal"),t.controlOption.decimalUnit||(t.controlOption.decimalUnit=[ecount.common.number.defaultLength,decCount])):(t.dataType1="TEXT",t.dateFormat="",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1,t.dateFormat="",t.customizeDate=""));t.dataType1&&(t.dateFormat||ecount.common.isBoolean(t.isDisplayZero)||$.isNumber(t.decCount))&&this.theadSection.setControlChangeDataTypeAllRowData(n,t.dataType1,t.isDisplayZero,t.decCount,t.amtCalc,t.isCheckZero,t.isShowIfZero,t.thousandSeparator,t.decimalSeparator,t.dateFormat,t.customizeDate,t.controlOption);t.isHideColumn!=null&&t.isHideColumn!=undefined&&this.theadSection.setColumnVisibility(n,t.isHideColumn);t.isShadow!=null&&t.isShadow!=undefined;t.font!=null&&t.font!=undefined&&this.theadSection.setControlFontAllRowData(n,t);t.fontColor!=null&&t.fontColor!=undefined&&this.theadSection.setControlFontColorAllRowData(n,t);t.fontSize!=null&&t.fontSize!=undefined&&this.theadSection.setControlFontSizeAllRowData(n,t);t.fontBold!=null&&t.fontBold!=undefined&&this.theadSection.setControlFontBold(n,t);t.fontUnderline!=null&&t.fontUnderline!=undefined&&this.theadSection.setControlFontUnderline(n,t);t.fontItalic!=null&&t.fontItalic!=undefined&&this.theadSection.setControlFontItalic(n,t);t.fontStrike!=null&&t.fontStrike!=undefined&&this.theadSection.setControlFontStrike(n,t);t.align!=null&&t.align!=undefined&&this.theadSection.setControlHorizontalAlign(n,t);t.valign!=null&&t.valign!=undefined&&this.theadSection.setControlVerticalAlign(n,t)},getTbodyColumnInfo:function(n,t){return this.tbodySection.getColumnById(n,t)},getTbodyColumnInfoByIndex:function(n,t,i){return this.tbodySection.getColumnByIndex(n,t,i)},setTbodyColumnInfo:function(n,t){var f=!1,i,e,o,u,r,s;if(t.width&&this.tbodySection.setColumnWidth(n,t.width),t.dataType1||t.dataType==undefined||t.dataType==null||typeof t.dataType=="string"&&(i=t.dataType.substring(0,1),e=t.dataType.substring(1),i=="1"||i=="2"?(t.dataType1="DATETIME",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1):i=="8"||i=="9"?(t.dataType1="NUM",t.dateFormat="",t.isDisplayZero=i=="9",t.decCount=e,t.isShowIfZero=i=="9",t.dateFormat="",t.customizeDate="",t.controlOption||(t.controlOption={}),t.controlOption.numberType||(t.controlOption.numberType="decimal"),t.controlOption.decimalUnit||(t.controlOption.decimalUnit=[ecount.common.number.defaultLength,decCount])):(t.dataType1="TEXT",t.dateFormat="",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1,t.dateFormat="",t.customizeDate="")),t.dataType1&&(t.dateFormat||ecount.common.isBoolean(t.isDisplayZero)||$.isNumber(t.decCount))&&(this.tbodySection.setControlChangeDataTypeAllRowData(n,t.dataType1,t.isDisplayZero,t.decCount,t.amtCalc,t.isCheckZero,t.isShowIfZero,t.thousandSeparator,t.decimalSeparator,t.dateFormat,t.customizeDate,t.controlOption),f=!0),t.isHideColumn!=null&&t.isHideColumn!=undefined&&this.tbodySection.setColumnVisibility(n,t.isHideColumn),t.isShadow!=null&&t.isShadow!=undefined,t.font!=null&&t.font!=undefined&&this.tbodySection.setControlFontAllRowData(n,t),t.fontColor!=null&&t.fontColor!=undefined&&this.tbodySection.setControlFontColorAllRowData(n,t),t.fontSize!=null&&t.fontSize!=undefined&&this.tbodySection.setControlFontSizeAllRowData(n,t),t.fontBold!=null&&t.fontBold!=undefined&&this.tbodySection.setControlFontBold(n,t),t.fontUnderline!=null&&t.fontUnderline!=undefined&&this.tbodySection.setControlFontUnderline(n,t),t.fontItalic!=null&&t.fontItalic!=undefined&&this.tbodySection.setControlFontItalic(n,t),t.fontStrike!=null&&t.fontStrike!=undefined&&this.tbodySection.setControlFontStrike(n,t),t.align!=null&&t.align!=undefined&&this.tbodySection.setControlHorizontalAlign(n,t),t.valign!=null&&t.valign!=undefined&&this.tbodySection.setControlVerticalAlign(n,t),f)for(o=this.getTbodyColumnInfo(n),u=this.getTbodyRowList(),r=0,s=u.length;r<s;r++)this.setTbodyCell(n,u[r][this.constValue.keyColumnPropertyName],u[r][o.propertyName],{isRunChange:!1})},getTfootColumnInfo:function(n,t){return this.tfootSection.getColumnById(n,t)},getTfootColumnInfoByIndex:function(n,t,i){return this.tfootSection&&this.tfootSection.getColumnByIndex(n,t,i)},setTfootColumnInfo:function(n,t){var f,i,e,o,u,r,s;if(this.tfootSection&&(f=!1,t.width&&this.tfootSection.setColumnWidth(n,t.width),t.dataType1||t.dataType==undefined||t.dataType==null||typeof t.dataType=="string"&&(i=t.dataType.substring(0,1),e=t.dataType.substring(1),i=="1"||i=="2"?(t.dataType1="DATETIME",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1):i=="8"||i=="9"?(t.dataType1="NUM",t.dateFormat="",t.isDisplayZero=i=="9",t.decCount=e,t.isShowIfZero=i=="9",t.dateFormat="",t.customizeDate="",t.controlOption||(t.controlOption={}),t.controlOption.numberType||(t.controlOption.numberType="decimal"),t.controlOption.decimalUnit||(t.controlOption.decimalUnit=[ecount.common.number.defaultLength,decCount])):(t.dataType1="TEXT",t.dateFormat="",t.isDisplayZero=!1,t.decCount=0,t.isShowIfZero=!1,t.dateFormat="",t.customizeDate="")),t.dataType1&&(t.dateFormat||ecount.common.isBoolean(t.isDisplayZero)||$.isNumber(t.decCount))&&(this.tfootSection.setControlChangeDataTypeAllRowData(n,t.dataType1,t.isDisplayZero,t.decCount,t.amtCalc,t.isCheckZero,t.isShowIfZero,t.thousandSeparator,t.decimalSeparator,t.dateFormat,t.customizeDate,t.controlOption),f=!0),t.isHideColumn!=null&&t.isHideColumn!=undefined&&this.tfootSection.setColumnVisibility(n,t.isHideColumn),t.isShadow!=null&&t.isShadow!=undefined,t.font!=null&&t.font!=undefined&&this.tfootSection.setControlFontAllRowData(n,t),t.fontColor!=null&&t.fontColor!=undefined&&this.tfootSection.setControlFontColorAllRowData(n,t),t.fontSize!=null&&t.fontSize!=undefined&&this.tfootSection.setControlFontSizeAllRowData(n,t),t.fontBold!=null&&t.fontBold!=undefined&&this.tfootSection.setControlFontBold(n,t),t.fontUnderline!=null&&t.fontUnderline!=undefined&&this.tfootSection.setControlFontUnderline(n,t),t.fontItalic!=null&&t.fontItalic!=undefined&&this.tfootSection.setControlFontItalic(n,t),t.fontStrike!=null&&t.fontStrike!=undefined&&this.tfootSection.setControlFontStrike(n,t),t.align!=null&&t.align!=undefined&&this.tfootSection.setControlHorizontalAlign(n,t),t.valign!=null&&t.valign!=undefined&&this.tfootSection.setControlVerticalAlign(n,t),f))for(o=this.getTfootColumnInfo(n),u=this.getTfootRowList(),r=0,s=u.length;r<s;r++)this.setTfootCell(n,u[r][this.constValue.keyColumnPropertyName],u[r][o.propertyName],{isRunChange:!1})},getTheadColumnInfoList:function(n,t,i){return this.theadSection.getColumnInfoList(n,t,i)},getTbodyColumnInfoList:function(n,t,i){return this.tbodySection.getColumnInfoList(n,t,i)},getTfootColumnInfoList:function(n,t,i){return this.tfootSection.getColumnInfoList(n,t,i)},getTheadColumnIndexById:function(n,t,i){return this.theadSection.getColumnIndexById(n,t,i)},getTbodyColumnIndexById:function(n,t,i){return this.tbodySection.getColumnIndexById(n,t,i)},getTfootColumnIndexById:function(n,t,i){return this.tfootSection.getColumnIndexById(n,t,i)},setColgroupColVisibility:function(n,t){this.colgroupSection.setVisibility(n,t)},setTheadColumnVisibility:function(n,t){this.theadSection.setColumnVisibility(n,t)},setTbodyColumnVisibility:function(n,t){this.tbodySection.setColumnVisibility(n,t)},setTfootColumnVisibility:function(n,t){this.tfootSection.setColumnVisibility(n,t)},addTheadColumn:function(n,t,i,r){for(var d,tt,e,it,h,a,u,p,f,v=this.theadSection.getColumnIndexById(this.constValue.returnType.multi,n),rt=this.theadSection.getColumnIndexById(this.constValue.returnType.single,n),ut=this.theadSection.addColumn(n,t,i,r,{dataTableId:this.dataTableId}),ft=$(ut),g=ft.find("tr"),b=this.getTableElement(),o=b.querySelector("colgroup"),y=b.querySelector("thead"),nt=[],s=1,k=i;s<=k;s++)d=this.theadSection.getColumnByIndex(this.constValue.returnType.single,rt+s),d&&nt.push(d.serialize());tt=this.colgroupSection.addCol(n,t,i,nt);e=$(tt);switch(t){case"right":for(h=o.children[v+1],s=0,k=e[0].children.length;s<k;s++)h?o.insertBefore(e[0].children[0],h):o.appendChild(e[0].children[0]);for(u=0,p=y.children.length;u<p;u++){var c=y.children[u],l=g[u],w=c.children[v+1];for(f=0,it=l.children.length;f<it;f++)w?c.insertBefore(l.children[0],w):c.appendChild(l.children[0])}break;case"left":for(h=o.children[v],a=e.length-1;a>-1;a++)h?o.insertBefore(e[a],h):o.appendChild(e[a]);for(u=0,p=y.children.length;u<p;u++){var c=y.children[u],l=g[u],w=c.children[v];for(f=l.children.length-1;f>-1;f--)w?c.insertBefore(l.children[f],w):c.appendChild(l.children[f])}}b.style.width=this.colgroupSection.getTotalWidth()+(this.config.common.isFreeSizeWidth?"%":"px")},addTbodyColumn:function(n,t,i){var c=this.tbodySection.getColumnIndexById(this.constValue.returnType.multi,n),v=this.tbodySection.addColumn(n,t,i,null,{dataTableId:this.dataTableId}),y=$(v),l=y.find("tr"),p=this.getTableElement(),o=p.querySelector("tbody"),a,r,s,u;switch(t){case"right":for(r=0,s=o.children.length;r<s;r++){var f=o.children[r],e=l[r],h=f.children[c+1];for(u=0,a=e.children.length;u<a;u++)h?f.insertBefore(e.children[0],h):f.appendChild(e.children[0])}case"left":for(r=0,s=o.children.length;r<s;r++){var f=o.children[r],e=l[r],h=f.children[c];for(u=e.children.length-1;u>-1;u--)h?f.insertBefore(e.children[u],h):f.appendChild(e.children[u])}}},addTfootColumn:function(n,t,i){var c=this.tfootSection.getColumnIndexById(this.constValue.returnType.multi,n),v=this.tfootSection.addColumn(n,t,i,null,{dataTableId:this.dataTableId}),y=$(v),l=y.find("tr"),p=this.getTableElement(),o=p.querySelector("tfoot"),a,r,s,u;switch(t){case"right":for(r=0,s=o.children.length;r<s;r++){var f=o.children[r],e=l[r],h=f.children[c+1];for(u=0,a=e.children.length;u<a;u++)h?f.insertBefore(e.children[0],h):f.appendChild(e.children[0])}break;case"left":for(r=0,s=o.children.length;r<s;r++){var f=o.children[r],e=l[r],h=f.children[c];for(u=e.children.length-1;u>-1;u--)h?f.insertBefore(e.children[u],h):f.appendChild(e.children[u])}}},getTheadNextColumnId:function(n,t,i){return this.theadSection.getNextColumnById(n,t,i)},getTbodyNextColumnId:function(n,t,i){return this.tbodySection.getNextColumnById(n,t,i)},getTfootNextColumnId:function(n,t,i){return this.tfootSection.getNextColumnById(n,t,i)},getTheadPrevColumnId:function(n,t,i){return this.theadSection.getPrevColumnId(n,t,i)},getTbodyPrevColumnId:function(n,t,i){return this.tbodySection.getPrevColumnId(n,t,i)},getTfootPrevColumnId:function(n,t,i){return this.tfootSection.getPrevColumnId(n,t,i)},getTheadColumnFirst:function(n,t,i){return this.theadSection.getColumnFirst(n,t,i)},getTbodyColumnFirst:function(n,t,i){return this.tbodySection.getColumnFirst(n,t,i)},getTfootColumnFirst:function(n,t,i){return this.tfootSection.getColumnFirst(n,t,i)},getTheadColumnLast:function(n,t,i){return this.theadSection.getColumnLast(n,t,i)},getTbodyColumnLast:function(n,t,i){return this.tbodySection.getColumnLast(n,t,i)},getTfootColumnLast:function(n,t,i){return this.tfootSection.getColumnLast(n,t,i)},getTheadRowDataById:function(n){return this.theadSection.getRowDataById(n)},getTbodyRowDataById:function(n){return this.tbodySection.getRowDataById(n)},getTheadRowDataIndexById:function(n){return this.theadSection.getRowDataIndexById(n)},getTbodyRowDataIndexById:function(n){return this.tbodySection.getRowDataIndexById(n)},getTfootRowDataIndexById:function(n){return this.tfootSection.getRowDataIndexById(n)},getTfootRowDataById:function(n){return this.tfootSection.getRowDataById(n)},getTheadRowDataByIndex:function(n){return this.theadSection.getRowDataByIndex(n)},getTbodyRowDataByIndex:function(n){return this.tbodySection.getRowDataByIndex(n)},getTfootRowDataByIndex:function(){return this.tfootSection.getRowDataByIndex(rowIndex)},executeTheadShaded:function(){},executeTbodyShaded:function(n,t){this.config.tbodyShaded.type=="id"?this.config.tbodyShaded.data=null:["data","dataGroup"].contains(this.config.tbodyShaded.type)&&(column=this.getTbodyColumnInfo(n),rowData=this.getTbodyRowDataById(t),this.config.tbodyShaded.data=rowData[column.propertyName]);this.tbodySection.executeShaded(n,t,0)},executeTfootShaded:function(){},getTheadControlType:function(n,t,i){return i=i||this.constValue.controlViewMode.view,this.theadSection.getControlControlType(n,t,i)},getTbodyControlType:function(n,t,i){return i=i||this.constValue.controlViewMode.view,this.tbodySection.getControlControlType(n,t,i)},getTfootControlType:function(n,t,i){return i=i||this.constValue.controlViewMode.view,this.tfootSection.getControlControlType(n,t,i)},getTheadColumnMaxColspanCount:function(n){return this.theadSection.getColumnMaxColspanCount(n)},getTbodyColumnMaxColspanCount:function(n){return this.tbodySection.getColumnMaxColspanCount(n)},getTfootColumnMaxColspanCount:function(n){return this.tfootSection&&this.tfootSection.getColumnMaxColspanCount(n)||0},getTheadRowList:function(n,t){return this.theadSection.getRowList(n,t)},getTbodyRowList:function(n,t){var r,i,f,u,e;return this.config.common.activeSectionType&&this.config.common.activeColumnId&&this.config.common.activeRowId&&(r=0,this.config.tbodyColumn.isAutoCalculate&&this.config.tbodyColumn.autoCalculate[this.config.common.activeColumnId]&&(r=new Decimal(this.tbodySection.getValue(this.config.common.activeColumnId,this.config.common.activeRowId)||0)),this.tbodySection.syncControlValueInRowData(this.config.common.activeColumnId,this.config.common.activeRowId,{isRunChange:!0,isSetControlValue:!1}),this.config.tbodyColumn.isAutoCalculate&&this.config.tbodyColumn.autoCalculate[this.config.common.activeColumnId]&&(i=this.config.tbodyColumn.autoCalculate[this.config.common.activeColumnId],f=this.tbodySection.getColumnById(this.config.common.activeColumnId),f&&(u=new Decimal(this.tbodySection.getValue(this.config.common.activeColumnId,this.config.common.activeRowId)||0),e=new Decimal(this.tfootSection&&this.tfootSection.getControlValue(i.targetColumnId,i.targetRowId)||0),i.actionType!="sum"||u.equals(r)||this.setTfootCell(i.targetColumnId,i.targetRowId,e.minus(r).plus(u).toString(),{isRunChange:!1})))),this.tbodySection.getRowList(n,t)},getTfootRowList:function(n,t){return this.tfootSection.getRowList(n,t)},getTbodyDeletedRowList:function(){return this.tbodySection.getDeletedRowList(!0)},addTbodyRow:function(n,t,i,r,u){var w,l,o,c,f,v;if(u=u||{moveScroll:!0},w=typeof u.moveScroll=="boolean"?u.moveScroll:!0,!n){if(o=this.getTbodyRowList(),o.length==0)return;n=o[o.length-1][this.constValue.keyColumnPropertyName]}if(l=this.tbodySection.getRowIndexById(n),l.length!=0){if(o=this.getTbodyRowList(),this.config.editable.limitAddRow!=null&&(o.length+i>this.config.editable.limitAddRow&&(i=this.config.editable.limitAddRow-o.length),o.length>=this.config.editable.limitAddRow)){this.config.editable.limitAddRowCallback&&!this.config.editable.limitAddRowCallback();return}var b=this.getTheadRowDataByIndex(0),k=this.tbodySection.addRow(n,t,i,r,{dataTableId:this.dataTableId,tableElement:this.tableElement}),d=$(k),s=d.find("tr"),g=this.getTableElement(),h=g.querySelector("tbody"),e=this.tbodySection.getRowDataIndexById(n),a,y,p;switch(t){case"up":for(a=e-1,e=e-i,y=this.tbodySection.getRowDataByIndex(e),p=this.tbodySection.getRowDataByIndex(a),c=h.children[l[0]],f=0,v=s.length;f<v;f++)c?h.insertBefore(s[f],c):h.appendChild(s[f]);break;case"down":for(a=e+i,e=e+1,y=this.tbodySection.getRowDataByIndex(e),p=this.tbodySection.getRowDataByIndex(a),c=h.children[l[l.length-1]+1],f=0,v=s.length;f<v;f++)c?h.insertBefore(s[f],c):h.appendChild(s[f])}this.setTbodyCheckboxMaxCount();b&&this.setTheadCell(this.constValue.checkBoxPropertyName,b[this.constValue.keyColumnPropertyName],!1);this.fixed&&this.fixed.fixedColumnCount>0&&this.fixed.resetCloneLeft();this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ecount.grid.event.list.renderAllRowComplete,{},{addRowStartIndex:e,addRowEndIndex:a-1,addRowStartKey:y[this.constValue.keyColumnPropertyName],addRowEndKey:p[this.constValue.keyColumnPropertyName],addRowMoveScroll:w,gridId:this.config.common.ecContainerId,isAddedFirstRow:!1,isAddedLastRow:!1,focusColumnId:null})}},removeTbodyRowData:function(n){this.tbodySection.removeRowData(n);var t=this.getTbodyColumnInfoList(this.constValue.returnType.single,!1,!0);t.some(function(t){if(t.__isOnlyDataColumn){if([this.constValue.keyColumnPropertyName,this.constValue.rowCountColumnPropertyName,this.constValue.rowIndexPropertyName,this.constValue.rowStatePropertyName].contains(t.getId()))return!1;this.setTbodyCell(t.id,n,"",{isRunChange:!1,isUISync:!1})}else{var i=t.controlOption&&t.controlOption.controlType;this.constValue.nativeControlInWidgetCheckbox[i]?this.setTbodyCell(t.id,n,!1,{isRunChange:!1}):i=="widget.link"?this.deleteTbodyValidation(t.id,n):this.setTbodyCell(t.id,n,"",{isRunChange:!1,isUISync:!1})}}.bind(this));t.some(function(t){if(t.__isOnlyDataColumn)return!1;this.refreshTbodyCell(t.id,n)}.bind(this))},deleteTbodyRow:function(n){this.tbodySection.deleteRow(n)},setEcEventColumnSectionType:function(n){if(n.gridSectionType==this.constValue.sectionType.tbody){var t=this.tbodySection.getRowDataById(n.gridDataKey)||{};n.gridColumnSectionType=t[this.rowVariableNames.rowType]==this.constValue.rowType.separate?this.constValue.sectionType.tfoot:n.gridSectionType}else n.gridColumnSectionType=n.gridSectionType},moveTbodyRow:function(n,t,i,r){var e,s,h,c,y,f,a,l,v,u,o;if((i=typeof i=="boolean"?i:!0,e=this.tbodySection.getRowIndexById(n),e.length!=0)&&(s=this.tbodySection.getRowIndexById(t),s.length!=0)&&(h=this.tbodySection.getRowDataIndexById(n),h!=-1)&&(c=this.tbodySection.getRowDataIndexById(t),c!=-1)&&h!=c){r||(h>c?r="up":h<c&&(r="down"));this.tbodySection.moveRow(r,n,t,i);y=this.getTableElement();f=y.querySelector("tbody");switch(r){case"up":for(a=f.children[s[0]],l=[],u=0,o=e.length;u<o;u++)l.push(f.children[e[u]]);for(u=0,o=l.length;u<o;u++)a?f.insertBefore(l[u],a):f.appendChild(l[u]);break;case"down":for(v=f.children[s[s.length-1]+1],u=0,o=e.length;u<o;u++)v?f.insertBefore(f.children[e[u]],v):f.appendChild(f.children[e[u]])}return!0}},changeTbodyCheckboxNumber:function(n,t,i){this.tbodySection.changeCheckboxNumber(n,t,i)},setTheadCell:function(n,t,i,r){r=r||{};var f=typeof r.isUISync=="boolean"?r.isUISync:!0,u=this.theadSection.getControlControlType(n,t,this.constValue.controlViewMode.view);this.constValue.nativeControlInWidgetCheckbox[u]?this.theadSection.setControlChecked(n,t,i,0,r):(this.theadSection.setValue(n,t,i,r),u&&f&&this.theadSection.refreshCell(n,t))},setTbodyCell:function(n,t,i,r){var e,u,h,o,c;r=r||{};var l=typeof r.isUISync=="boolean"?r.isUISync:!0,f=!1,s=this.tbodySection.getControlControlType(n,t,this.constValue.controlViewMode.view);return r.isNotRemoveValidation!=!0&&this.deleteTbodyValidation(n,t),this.constValue.nativeControlInWidgetCheckbox[s]?this._processTbodyCheckbox(i,n,t,r)&&(f=!0):(this.config.tbodyColumn.isAutoCalculate&&this.config.tbodyColumn.autoCalculate[n]&&(e=new Decimal(this.tbodySection.getValue(n,t)||0)),f=this.tbodySection.setValue(n,t,i,r),s&&l&&this.tbodySection.refreshCell(n,t),f&&this.config.matrixState&&this.config.matrixState.use&&(this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.row,t,n,{state:ecount.grid.constValue.columnState.changed}),this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.column,n,t,{state:ecount.grid.constValue.columnState.changed})),this.config.tbodyColumn.isAutoCalculate&&this.config.tbodyColumn.autoCalculate[n]&&(u=this.config.tbodyColumn.autoCalculate[n],h=this.tbodySection.getColumnById(n),h&&(o=new Decimal(this.tbodySection.getValue(n,t)||0),c=new Decimal(this.tfootSection&&this.tfootSection.getControlValue(u.targetColumnId,u.targetRowId)||0),u.actionType!="sum"||o.equals(e)||this.setTfootCell(u.targetColumnId,u.targetRowId,c.minus(e).plus(o).toString(),{isRunChange:!1})))),f},setTfootCell:function(n,t,i,r){var o,e,s,u,f,h;(r=r||{},o=typeof r.isUISync=="boolean"?r.isUISync:!0,this.tfootSection)&&(e=this.tfootSection.getControlControlType(n,t,this.constValue.controlViewMode.view),this.constValue.nativeControlInWidgetCheckbox[e]?this.tfootSection.setControlChecked(n,t,i,0,r):(this.config.tfootColumn.isAutoCalculate&&this.config.tfootColumn.autoCalculate[t]&&this.config.tfootColumn.autoCalculate[t].sourceColumnId.contains(n)&&(s=new Decimal(this.tfootSection.getValue(n,t)||0)),this.tfootSection.setValue(n,t,i,r),e&&o&&this.tfootSection.refreshCell(n,t),this.config.tfootColumn.isAutoCalculate&&this.config.tfootColumn.autoCalculate[t]&&this.config.tfootColumn.autoCalculate[t].sourceColumnId.contains(n)&&(u=this.config.tfootColumn.autoCalculate[t],typeof u.actionType=="function"?(h=this.getTfootRowDataById(t),f=u.actionType(h)):f=new Decimal(this.tfootSection.getValue(n,t)),f.equals(s)||this.setTfootCell(u.targetColumnId,t,f,{isRunChange:!1}))))},setTheadCaretLinkPosition:function(n,t,i){this.theadSection.setCaretLinkPosition(n,t,i)},setTbodyCellByControlIndex:function(n,t,i,r,u){var f=this.tbodySection.setCellByControlIndex(n,t,i,r,u);f&&this.refreshTbodyCell(n,t)},setTheadCellFocus:function(n,t){this.theadSection.setControlFocus(n,t)},setTbodyCellFocus:function(n,t){if(this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.activeRowId&&this.config.common.activeRowId!=t&&this.removeTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()]),this.tbodySection.getEditableState(n,t))){var i=this.getTbodyColumnInfo(n);i&&!i.isHideColumn&&this.addTbodyRowClass(t,[this.constValue.firstRowCssClass.trim()])}ecount.isMobile&&ecount.common.isIOS?(this._ON_GRID_AUTOADDROW({gridDataKey:t}),this.tbodySection.setControlFocus(n,t)):ecount.global.setTimeout(this.config.common.ecPageId,function(){this._ON_GRID_AUTOADDROW({gridDataKey:t});this.tbodySection.setControlFocus(n,t)}.bind(this),50)},setTfootCellFocus:function(n,t){this.tfootSection.setControlFocus(n,t)},addTheadCellClass:function(n,t,i){this.theadSection.addCellClass(n,t,i)},addTbodyCellClass:function(n,t,i){this.tbodySection.addCellClass(n,t,i)},addTfootCellClass:function(n,t,i){this.tfootSection&&this.tfootSection.addCellClass(n,t,i)},removeTheadCellClass:function(n,t,i){this.theadSection.removeCellClass(n,t,i)},removeTbodyCellClass:function(n,t,i){this.tbodySection.removeCellClass(n,t,i)},removeTfootCellClass:function(n,t,i){this.tfootSection.removeCellClass(n,t,i)},refreshTheadCell:function(n,t){this.theadSection.refreshCell(n,t)},refreshTbodyCell:function(n,t,i){this.tbodySection.refreshCell(n,t,i)},refreshTfootCell:function(n,t){this.tfootSection.refreshCell(n,t)},setTheadCellEditable:function(n,t,i){this.theadSection.setCellEditable(n,t,i)},setTbodyCellEditable:function(n,t,i){this.tbodySection.setCellEditable(n,t,i)},setTfootCellEditable:function(n,t,i){this.tfootSection.setCellEditable(n,t,i)},getTheadEditableState:function(n,t){return this.theadSection.getEditableState(n,t)},getTbodyEditableState:function(n,t){return this.tbodySection.getEditableState(n,t)},getTfootEditableState:function(n,t){return this.tfootSection.getEditableState(n,t)},getTheadRowCount:function(n){return this.theadSection.getRowCount(n)},getTbodyRowCount:function(n){return this.tbodySection.getRowCount(n)},getTfootRowCount:function(n){return this.tfootSection.getRowCount(n)},getTheadFirstEmptyRowDataByColumnId:function(n){return this.theadSection.getFirstEmptyRowDataByColumnId(n)},getTbodyFirstEmptyRowDataByColumnId:function(n){return this.tbodySection.getFirstEmptyRowDataByColumnId(n)},getTfootFirstEmptyRowDataByColumnId:function(n){return this.tfootSection.getFirstEmptyRowDataByColumnId(n)},addTheadRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("thead"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])||u.classList.add(t[i])},addTbodyRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("tbody"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])||u.classList.add(t[i])},addTfootRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("tfoot"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])||u.classList.add(t[i])},removeTheadRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("thead"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])&&u.classList.remove(t[i])},removeTbodyRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("tbody"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])&&u.classList.remove(t[i])},removeTfootRowClass:function(n,t){for(var u,i,e,o=this.getTableElement(),s=o.querySelector("tfoot"),f=s.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n)+"']"),r=0,h=f.length;r<h;r++)for(u=f[r],i=0,e=t.length;i<e;i++)u.classList.contains(t[i])&&u.classList.remove(t[i])},hasTheadRowClass:function(n,t){var i=this.getTableElement(),r=i.querySelector("thead"),u=r.querySelector("tr[data-key='"+n+"']");return u.classList.contains(t)},hasTbodyRowClass:function(n,t){var i=this.getTableElement(),r=i.querySelector("tbody"),u=r.querySelector("tr[data-key='"+n+"']");return u.classList.contains(t)},hasTfootRowClass:function(){var n=this.getTableElement(),t=n.querySelector("tfoot"),i=t.querySelector("tr[data-key='"+rowId+"']");return i.classList.contains(className)},getTheadCellByRowDataIndex:function(n,t){return this.theadSection.getCellByRowDataIndex(n,t)},getTbodyCellByRowDataIndex:function(n,t){return this.tbodySection.getCellByRowDataIndex(n,t)},getTfootCellByRowDataIndex:function(n,t){return this.tfootSection.getCellByRowDataIndex(n,t)},getTheadCell:function(n,t){return this.theadSection.getCell(n,t)},getTbodyCell:function(n,t){return this.tbodySection.getCell(n,t)},getTfootCell:function(n,t){return this.tfootSection.getCell(n,t)},getTopToolbarControlInstance:function(n){if(this.topToolbar)return this.topToolbar.getControlInstance(n)},getHeaderToolbarControlInstance:function(n){if(this.headerToolbar)return this.headerToolbar.getControlInstance(n)},getFooterToolbarControlInstance:function(n){if(this.footerToolbar)return this.footerToolbar.getControlInstance(n)},setHeaderToolbarChangeLeftHTML:function(n,t,i){this.headerToolbar&&this.headerToolbar.changeLeftHTML(n,t,i)},setHeaderToolbarChangeRightHTML:function(n,t,i){this.headerToolbar&&this.headerToolbar.changeRightHTML(n,t,i)},setFooterToolbarChangeLeftHTML:function(n,t,i){this.footerToolbar&&this.footerToolbar.changeLeftHTML(n,t,i)},setFooterToolbarChangeRightHTML:function(n,t,i){this.footerToolbar&&this.footerToolbar.changeRightHTML(n,t,i)},deleteTbodyValidation:function(n,t){this.tbodySection.deleteValidation(n,t)},showTbodyCellControlLayer:function(n,t,i){this.tbodySection.showCellControlLayer(n,t,i)},showTbodyValidationAll:function(){this.tbodySection.showValidationAll()},setTbodyShowValidation:function(n,t,i){typeof i.result!="boolean"&&(i.result=!1);this.tbodySection.showValidation(n,t,i)},getTbodyValidationErrorKeyList:function(){return this.tbodySection.getValidationErrorKeyList()},getTbodyValidationResult:function(n,t){return this.tbodySection.getValidationResultInfo(n,t)},setTheadTreeNodeOpen:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.removeTheadRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&this.setTheadTreeNodeOpen(this.config.tree.listParentToChild[n],t)}.bind(this))},setTbodyTreeNodeOpen:function(n,t,i){t=t||this.config.tree.treeColumns;i=i||1;i=i<1?1:i;typeof n=="string"&&(n=[n]);n.some(function(n){this.removeTheadRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&(t.forEach(function(t){this.tbodySection.setControlTreeNodeOpen(t,n)}.bind(this)),this.setTbodyTreeNodeOpenWithChild(this.config.tree.listParentToChild[n],t,i-1))}.bind(this))},setTbodyTreeNodeOpenWithChild:function(n,t,i){t=t||this.config.tree.treeColumns;n.some(function(n){if(this.removeTbodyRowClass(n,["hide"]),this.config.tree.listParentToChild[n]){var u=this.getTbodyRowDataById(n),r=u[this.constValue.rowVariableNames.treeSet];(i>0||r&&r[this.constValue.rowVariableNames.expand])&&this.setTbodyTreeNodeOpenWithChild(this.config.tree.listParentToChild[n],t,i-1)}}.bind(this))},setTfootTreeNodeOpen:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.removeTfootRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&this.setTfootTreeNodeOpen(this.config.tree.listParentToChild[n],t)}.bind(this))},setTheadTreeNodeClose:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.addTheadRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&this.setTheadTreeNodeClose(this.config.tree.listParentToChild[n],t)}.bind(this))},setTbodyTreeNodeClose:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.config.tree.listParentToChild[n]&&(t.forEach(function(t){this.tbodySection.setControlTreeNodeClose(t,n)}.bind(this)),this.setTbodyTreeNodeHideWithChild(this.config.tree.listParentToChild[n],t))}.bind(this))},setTbodyTreeNodeHideWithChild:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.addTbodyRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&this.setTbodyTreeNodeHideWithChild(this.config.tree.listParentToChild[n],t)}.bind(this))},setTbodyTreeNodeCloseWithChild:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.addTbodyRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&(t.forEach(function(t){this.tbodySection.setControlTreeNodeClose(t,n)}.bind(this)),this.setTbodyTreeNodeCloseWithChild(this.config.tree.listParentToChild[n],t))}.bind(this))},setTfootTreeNodeClose:function(n,t){t=t||this.config.tree.treeColumns;n.some(function(n){this.addTfootRowClass(n,["hide"]);this.config.tree.listParentToChild[n]&&this.setTfootTreeNodeClose(this.config.tree.listParentToChild[n],t)}.bind(this))},isTbodyTreeExpand:function(n){return this.config.tree.listParentToChild[n]||this.config.tree.listChildToParent[n]?!this.hasTbodyRowClass(n,"hide"):!1},isTbodyTreeParent:function(n){return this.config.tree.listParentToChild[n]!=undefined},getTbodyTreeParentKey:function(n){var t=this.config.tree.listChildToParent[n];return t&&t.length==1?t[0]:null},isTbodyTreeInParent:function(n,t){var i=this.getTbodyTreeParentKey(n);return t==i?!0:this.config.tree.rootNodeId==i?!1:this.isTbodyTreeInParent(i,t)},getTbodyTreeChildCount:function(n,t,i){var r,u,f;if(i=typeof i=="boolean"?i:!0,this.isTbodyTreeParent(t))for(r=this.config.tree.listParentToChild[t],n+=r.length,u=0,f=r.length;u<f;u++)this.isTbodyTreeParent(r[u])&&(n+=this.getTbodyTreeChildCount(0,r[u],!1));return n+(i?1:0)},hasTbodyTreeChildRow:function(n){return this.config.tree.listParentToChild[n]&&this.config.tree.listParentToChild[n].length>0},getTbodyTreeOnlyChild:function(n){return this.config.tree.listParentToChild[n]},getTbodyTreeChildRowId:function(n,t,i){var r;switch(n){case"first":this.config.tree.listParentToChild[t].length>0&&(r=this.config.tree.listParentToChild[t][0]);break;case"last":this.config.tree.listParentToChild[t].length>0&&(r=this.config.tree.listParentToChild[t][this.config.tree.listParentToChild[t].length-1]);break;default:this.config.tree.listParentToChild[t][i]&&(r=this.config.tree.listParentToChild[t][i])}return r},getTbodyTreeNextSiblingRowId:function(n){var t=this.getTbodyTreeParentKey(n),i=this.config.tree.listParentToChild[t].indexOf(n);return i==-1?null:i==this.config.tree.listParentToChild[t].length-1?null:this.config.tree.listParentToChild[t][i+1]},getTbodyTreePreviousSiblingRowId:function(n){var t=this.getTbodyTreeParentKey(n),i=this.config.tree.listParentToChild[t].indexOf(n);return i==0?null:this.config.tree.listParentToChild[t][i-1]},__getTbodyTreeRecursiveChildRowList:function(n,t,i){var r,f,u;if(i=i||{},r=this.config.tree.listParentToChild[t],!r)return n;f=typeof i.onlyExpand=="boolean"?i.onlyExpand:!1;u=i.dataFilter;i.searchDepth=($.isNumber(i.searchDepth)?i.searchDepth:1e4)-1;r.forEach(function(t){var r=this.getTbodyRowDataById(t),e=this.isTbodyTreeParent(t),o=e?"folder":"file";typeof u=="function"?u(r,o)&&n.push(r):n.push(r);i.searchDepth>0&&this.config.tree.listParentToChild[t]&&(f&&this.isTbodyTreeExpand(t)?this.__getTbodyTreeRecursiveChildRowList(n,t,i):this.__getTbodyTreeRecursiveChildRowList(n,t,i))}.bind(this))},getTbodyTreeChildRowList:function(n,t){var i=[];return this.__getTbodyTreeRecursiveChildRowList(i,n,t),i},setCheckboxConfig:function(n,t,i){var u=i[this.constValue.keyColumnPropertyName],r=this.config.checkbox,e,f;if(e=this.constValue.checkBoxPropertyNameRex.test(n)?r.getManage(this.constValue.checkBoxPropertyName):r.getManage(n),!$.isNull(e)){var o=r.getManageCountingDeterminer(n),h=o?o(i):!0,c=r.getManageIsUseDisableCheck(n),s=c&&this.tbodySection.getControlIsReadOnly(n,u);h&&(t===!0?(s&&(r.setManageIncreaseCheckedDislabeTotalCount(n,1),r.setManageDisabledCheckedList(n,i)),r.setManageIncreaseCheckedTotalCount(n,1),r.setManageIncreaseCheckedCount(n,1)):(s&&(r.setManageDecreaseCheckedDislabeTotalCount(n,1),r.removeManageDisabledCheckedList(n,u)),r.setManageDecreaseCheckedTotalCount(n,1),r.setManageDecreaseCheckedCount(n,1)));r.getManageIsRememberChecked(n)&&(t?r.hasManageRememberCheckedList(n,u)||r.setManageRememberCheckedList(n,i):r.removeManageRememberCheckedList(n,u));f=r.getManageActiveRowStyle(n);f&&(t?this.addTbodyRowClass(u,f):this.removeTbodyRowClass(u,f))}},_ON_CHANGE_THEAD_CHECKBOX:function(n,t){this.config.checkbox.getManageIsAutoSplit(n)?this._handleAutoSplitedTheadCheckbox(n):(this.constValue.checkBoxPropertyName!=n||this.config.checkbox.getHeaderVisible())&&(this.config.checkbox.shouldTheadCheck(n)?this.setHeaderCheckbox(n,!0,t):this.setHeaderCheckbox(n,!1,t))},_ON_CHANGE_TBODY_CHECKBOX:function(){},setHeaderCheckbox:function(n,t,i){var r=this.theadSection.getRowList();r.forEach(function(r){var u=r[this.constValue.keyColumnPropertyName];this.theadSection.setControlChecked(n,u,t,0,{isRunChange:!1,isFocusControl:i});this.fixed&&this.fixed.executeCloneCheckbox(n,u,t)}.bind(this))},_handleAutoSplitedTheadCheckbox:function(n){function t(){return this.tbodySection.getRowList().reduce(function(t,i){var r=i[this.constValue.keyColumnPropertyName],u=this.tbodySection.getControlIsReadOnly(n,r);return[this.constValue.rowType.total,this.constValue.rowType.subtotal].contains(i[this.rowVariableNames.rowType])||u&&!this.config.checkbox.getManageIsUseDisableCheck(n)?t:t+1}.bind(this),0)}function i(){return this.tbodySection.getRowList().reduce(function(t,i){var r=i[this.constValue.keyColumnPropertyName];return this.tbodySection.getValue(n,r)&&(t+=1),t}.bind(this),0)}t.call(this)===i.call(this)||this.config.checkbox.isCheckedMax(n)?this.setHeaderCheckbox(n,!0,!1):this.setHeaderCheckbox(n,!1,!1)},setEcEventColumnSectionType:function(n){if(n.gridSectionType==this.constValue.sectionType.tbody){var t=this.tbodySection.getRowDataById(n.gridDataKey);n.gridColumnSectionType=t&&t[this.rowVariableNames.rowType]==this.constValue.rowType.separate?this.constValue.sectionType.tfoot:n.gridSectionType}else n.gridColumnSectionType=n.gridSectionType},setEcEventRequireParameter:function(n,t){n.gridSectionType=n.gridSectionType||t.gridSectionType;n.gridColumnID=n.gridColumnID||t.gridColumnID;n.gridDataKey=n.gridDataKey||t.gridDataKey},getCallbackCommand:function(n,t){var i=this.constValue.eventPrefix;return t&&(i+=t.substring(0,1).toUpperCase()+t.substring(1)),n&&(i+=n.substring(0,1).toUpperCase()+n.substring(1)),i},setBeforeEcEventParameter:function(n){n=n||{};var r=n.gridSectionType,u=n.gridColumnID,i=n.gridDataKey,t;switch(r){case this.constValue.sectionType.thead:t=this.theadSection;break;case this.constValue.sectionType.tbody:t=this.tbodySection;break;case this.constValue.sectionType.tfoot:t=this.tfootSection}r&&i&&(n.gridRowData=t.getRowDataById(i),n.gridRowDataIndex=t.getRowDataIndexById(i))},setAfterEcEventParamter:function(n){n=n||{};var t;switch(sectionType){case this.constValue.sectionType.thead:t=this.theadSection;break;case this.constValue.sectionType.tbody:t=this.tbodySection;break;case this.constValue.sectionType.tfoot:t=this.tfootSection}sectionType&&(columnId&&(n.columnInfo=t.getColumnById(columnId,!0),n.locationType=n.columnInfo.locationType||null,n.columnProperty=n.columnInfo.propertyName),rowId&&(n.rowItem=t.getRowDataById(rowId,!0),n.rowId=rowId),columnId&&rowId&&(n.controlType=t.getControlControlType(columnId,rowId,this.constValue.controlViewMode.input)))},setStoreParameter:function(n,t,i,r){n=n||{};var u;switch(t){case this.constValue.sectionType.thead:u=this.theadSection;break;case this.constValue.sectionType.tbody:u=this.tbodySection;break;case this.constValue.sectionType.tfoot:u=this.tfootSection}t&&(i&&(n.columnInfo=u.getColumnById(i,!0),n.locationType=n.columnInfo&&n.columnInfo.locationType||null,n.columnProperty=n.columnInfo&&n.columnInfo.propertyName),r&&(n.rowItem=n.rowData=u.getRowDataById(r,!0),n.rowId=n.rowKey=r,n.rowIndex=-1),i&&r&&(n.controlType=u.getControlControlType(i,r,this.constValue.controlViewMode.input)));n.gridId=this.config.common.ecContainerId;n.childElementId=null},getTheadCellModuleEditLayerActive:function(){return this.theadSection.getCellModuleEditLayerActive()},getTbodyCellModuleEditLayerActive:function(){return this.tbodySection.getCellModuleEditLayerActive()},getTfootCellModuleEditLayerActive:function(){return this.tfootSection&&this.tfootSection.getCellModuleEditLayerActive()},deactiveTheadModuleEditLayer:function(){this.theadSection.deactiveModuleEditLayer()},deactiveTbodyModuleEditLayer:function(){this.config.common.activeSectionType&&this.config.common.activeColumnId&&this.config.common.activeRowId&&this.tbodySection.syncControlValueInRowData(this.config.common.activeColumnId,this.config.common.activeRowId,{isRunChange:!0,isSetControlValue:!1});this.tbodySection.deactiveModuleEditLayer()},deactiveTfootModuleEditLayer:function(){this.tfootSection&&this.tfootSection.deactiveModuleEditLayer()},onBlurEditlayer:function(n,t,i,r){var u=this.theadSection&&this.theadSection.getCellModuleEditLayerActive(),f=this.tbodySection.getCellModuleEditLayerActive(),e=this.tfootSection&&this.tfootSection.getCellModuleEditLayerActive();t==this.constValue.sectionType.thead?u&&(u.id!=i||u.rowId!=r)?this.theadSection.deactiveModuleEditLayer(n):f?this.tbodySection.deactiveModuleEditLayer(n):e&&this.tfootSection.deactiveModuleEditLayer(n):t==this.constValue.sectionType.tbody?f&&(f.id!=i||f.rowId!=r)?this.tbodySection.deactiveModuleEditLayer(n):u?this.theadSection.deactiveModuleEditLayer(n):e&&this.tfootSection.deactiveModuleEditLayer(n):t==this.constValue.sectionType.tfoot?e&&(e.id!=i||e.rowId!=r)?this.tfootSection.deactiveModuleEditLayer(n):f?this.tbodySection.deactiveModuleEditLayer(n):u&&this.theadSection.deactiveModuleEditLayer(n):u?this.theadSection.deactiveModuleEditLayer(n):f?this.tbodySection.deactiveModuleEditLayer(n):e&&this.tfootSection.deactiveModuleEditLayer(n)},_ON_REFRESH_ACTIVE_MODULE_POSITION:function(n,t,i,r){this.config.common.activeSectionType&&this.config.common.activeColumnId&&this.config.common.activeRowId&&this.tbodySection._ON_REFRESH_ACTIVE_MODULE_POSITION(n,t,i,r)},_ON_VALIDATE:function(n,t,i,r){r.flag?this.constValue.sectionType.thead==n.gridSectionType||(this.constValue.sectionType.tbody==n.gridSectionType?this.setTbodyShowValidation(n.gridColumnID,n.gridDataKey,{placement:r.popoverInfo.placement,message:r.popoverInfo.message,popOverVisible:!0,cssVisible:!0,showDirect:r.popoverInfo.directShow,hideTimeout:0}):this.constValue.sectionType.tfoot==n.gridSectionType):this.constValue.sectionType.thead==n.gridSectionType||(this.constValue.sectionType.tbody==n.gridSectionType?this.deleteTbodyValidation(n.gridColumnID,n.gridDataKey):this.constValue.sectionType.tfoot==n.gridSectionType);r.gridId=this.config.common.ecContainerId},setTbodyControlInstanceValue:function(n,t,i){this.tbodySection.setControlInstanceValue(n,t,i)},getCustomEventData:function(n,t,i,r){return{altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType}},resetTrHeightAllColumn:function(n){this.tbodySection.resetTrHeightAllColumn(n)},redrawCssValidationAllColumn:function(n){this.tbodySection.redrawCssValidationAllColumn(n)},setTbodyCheckboxDown:function(n){var i=n.gridColumnID,t=n.gridDataKey,r=this.tbodySection.getControlControlType(i,t,this.constValue.controlViewMode.view);this.constValue.nativeControlInWidgetCheckbox[r]&&(this.preOverRowKey=t,n.targetArea==="control"&&(this.isCheckboxDragStart=!0))},setTbodyCheckboxDrag:function(n,t,i,r){var u=n.gridColumnID,f=n.gridDataKey,s=this.tbodySection.getControlControlType(u,f,this.constValue.controlViewMode.view),h=this.constValue.nativeControlInWidgetCheckbox[s],c=this.tbodySection.getControlIsReadOnly(u,f),e,o;if((this.config.common.gridType!=this.constValue.gridType.list||!t.target||!t.target.tagName||!/T[DH]/.test(t.target.tagName)&&t.target.innerText!=String.fromCharCode(160))&&h&&!c&&n.mouseButtons===1){if(n.oType=="mouseover"&&this.preOverRowKey!==undefined&&this.preOverRowKey!==f?this.isCheckboxDragEnd?this.isCheckboxDragEnd=!1:(this.preOverRowKey=f,e=this.tbodySection.getCell(u,f)):n.oType=="mouseout"&&this.isCheckboxDragStart&&(this.isCheckboxDragStart=!1,e=this.tbodySection.getCell(u,f)),$.isEmpty(e))return;this.preColumnId=u;!e==!0&&this.config.checkbox.isCheckedMax(u)?n.oType=="mouseover"&&this.config.checkbox.executeManageMaxCountCallback(u):(r.isCheckboxDragged=!0,o={isRunChange:!0},this.config.checkbox.getUseMultiCheckBulk()&&(this.multiCheckBulk[this.preOverRowKey]={rowKey:this.preOverRowKey,index:this.tbodySection.getRowDataIndexById(this.preOverRowKey)},o.isRunChange=!1),this._processTbodyCheckbox(!e,u,f,o),this._ON_CHANGE_THEAD_CHECKBOX(u))}},flushTbodyMultiCheckBulk:function(){var n=Object.getOwnPropertyNames(this.multiCheckBulk),t,i;n.length>0&&(t=n.sort(function(n,t){return this.multiCheckBulk[n].index>this.multiCheckBulk[t].index?1:this.multiCheckBulk[n].index<this.multiCheckBulk[t].index?-1:0}.bind(this)),i=t.map(function(n){return this.multiCheckBulk[n].value=this.tbodySection.getValue(this.preColumnId,this.multiCheckBulk[n].rowKey),this.multiCheckBulk[n].rowData=this.tbodySection.getRowDataById(this.multiCheckBulk[n].rowKey),this.multiCheckBulk[n]}.bind(this)),this.pageRelatedEvents&&this.pageRelatedEvents._triggerEvent(ecount.grid.event.list.multiChecked,{},{multiCheckBulk:i}));this.preOverRowKey=null;this.multiCheckBulk={}},clearAddons:function(){this.theadSection&&this.theadSection.clearAddons();this.tbodySection&&this.tbodySection.clearAddons();this.tfootSection&&this.tfootSection.clearAddons()},_ON_CHANGE:function(n,t,i,r){function a(){this.config.common.widgetValue=null}var v,u,s,e;if(i=i||{},i.preventTriggerEvent=i.preventTriggerEvent==undefined||i.preventTriggerEvent==null?!0:i.preventTriggerEvent,this.setEcEventRequireParameter(n,i),!i.controlType){a.apply(this);return}if(r.command="NotExecuteCommand",r.commandFromGrid=!0,this.dataTableId==n.gridTableID&&(r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey)),this.constValue.sectionType.thead!=n.gridSectionType)if(this.constValue.sectionType.tbody==n.gridSectionType){if(/^widget.code.*/.test(i.controlType)){var f=this.getTbodyRowDataById(n.gridDataKey),y=this.getTbodyRowDataIndexById(n.gridDataKey),o=this.getTbodyColumnInfo(n.gridColumnID,!0),w=i.getSelectedCode(),u=i.getValue(),p=this.getTbodyCell(n.gridColumnID,n.gridDataKey);w[0]!=u&&this.setTbodyCell(n.gridColumnID,n.gridDataKey,"",{isRunChange:!1,isSetControlValue:!1,isNotRemoveValidation:!0});i.validate().length>0&&this.setTbodyCell(n.gridColumnID,n.gridDataKey,u,{isRunChange:!1,isNotRemoveValidation:!0});this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("change",n.gridSectionType),type:["addCode","addCodesAll"].contains(n.type)?n.type:null,gridId:this.config.common.ecContainerId,controlType:i.controlType,sectionType:n.gridSectionType,rowItem:f,rowData:f,rowKey:f[this.constValue.keyColumnPropertyName],rowIndex:y,columnInfo:o,columnId:n.gridColumnID,columnProperty:o.propertyName,oldValue:p,newValue:i.getValue(i.valueCompIndex),childElementId:null})}else if(i.isCombinedControl&&i.isCombinedControl()){var f=this.getTbodyRowDataById(n.gridDataKey),y=this.getTbodyRowDataIndexById(n.gridDataKey),o=this.getTbodyColumnInfo(n.gridColumnID,!0);this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("change",n.gridSectionType),type:["addCode","addCodesAll"].contains(n.type)?n.type:null,gridId:this.config.common.ecContainerId,_self:i,controlIndex:n.cindex,controlId:n.ccid,controlType:i.controlType,sectionType:n.gridSectionType,rowItem:f,rowData:f,rowKey:f[this.constValue.keyColumnPropertyName],rowIndex:y,columnInfo:o,columnId:n.gridColumnID,columnProperty:o.propertyName,oldValue:p,newValue:i.getValue(i.valueCompIndex),childElementId:null})}else if(!/^widget(.gridCell)?.checkbox/.test(i.controlType)){if(v=this.config.tbodyColumn.isAutoCalculate&&this.config.tbodyColumn.autoCalculate[n.gridColumnID]&&this.constValue.sectionType.tbody==n.gridSectionType?this.tbodySection.getConvertValue(n.gridColumnID,n.gridDataKey):this.tbodySection.getValue(n.gridColumnID,n.gridDataKey),u="",s="",i)switch(i.controlType){case"widget.date":var h=i.getSYear(),c=i.getSMonth(),l=i.getSDay();i._isDateSpace||!i._isDateSpace&&h=="===="&&c=="=="&&l==""?(u=h+"-"+c+"-"+l,u=="--"&&(u="")):u=!i._isDateSpace&&h&&c&&l?h+"-"+c+"-"+l:"";break;case"widget.select":e=i.getSelectedItem();u=e&&e.value||"";s=e&&e.label||"";break;default:this.config.common.widgetValue?(u=this.config.common.widgetValue.getValue()||"",s=this.config.common.widgetValue.getLabel()||""):(u=i.getValue(),s=u,i.isCombinedControl&&i.isCombinedControl()&&_.isNumber(n.ccindex)&&(u=u[n.ccindex]||""))}r.value!==v&&this.setTbodyCell(n.gridColumnID,n.gridDataKey,u,{isRunChange:i.preventTriggerEvent,isNotRemoveValidation:!0})&&this.config.matrixState&&this.config.matrixState.use&&(this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.row,n.gridDataKey,n.gridColumnID,{state:ecount.grid.constValue.columnState.changed}),this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.column,n.gridColumnID,n.gridDataKey,{state:ecount.grid.constValue.columnState.changed}));this.constValue.nativeControlInWidgetHTMLConvertControl[i.controlType]||this.constValue.nativeControlInWidgetCheckbox[i.controlType]||ecount.grid.constValue.customizerRex.test(i.controlType)||this.tbodySection.refreshCell(n.gridColumnID,n.gridDataKey);(n.serviceKey&&i.hasFn&&r.serviceName=="recommenddropdown"||n.serviceKey&&r.serviceName=="recommenddropdown")&&this.setTbodyCellFocus(n.gridColumnID,n.gridDataKey)}a.apply(this)}else this.constValue.sectionType.tfoot==n.gridSectionType},_ON_CLICK_SERVICE:function(n,t,i,r){this.dataTableId==r.tableId&&(r.command&&(r.layerCommand=r.command),r.command=this.getCallbackCommand("clickService",r.sectionType),this.setStoreParameter(r,r.sectionType,r.columnId,r.rowId))},_ON_CLICK:function(n,t,i,r){var o,c,l=!0,u,h,e,f;if(this.setEcEventColumnSectionType(n),i&&i.controlType=="widget.paging"&&["A","BUTTON"].contains(t.target.tagName)){if(r.pageIndex==undefined||r.pageIndex==null)return!1;r.command=this.getCallbackCommand(t.type,"Toolbar");r.sectionType="Toolbar";r.controlId=i.id}else if(this.dataTableId==n.gridTableID){if(u=ecount.gridV3.utils.replaceSpaceChar(n.gridDataKey),n.gridSectionType==this.config.common.activeSectionType&&n.gridColumnID==this.config.common.activeColumnId&&u==this.config.common.activeRowId||this.config.common.deactiveRowId&&(this.tbodySection.resetTrHeightAllColumn(this.config.common.deactiveRowId),this.tbodySection.redrawCssValidationAllColumn(this.config.common.deactiveRowId)),r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=u,$(t.target).closest("TH,TD").hasClass("disabled")){if(this.config.common.deactiveRowId&&this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]),e=!1,i.controlType=="widget.gridCell.treeWidget")switch(this.config.tree.eventOnLabel){case this.constValue.treeEvent.row:e=this.util.findParentElementByTagName(event.target,/TR/)!=null;break;case this.constValue.treeEvent.cell:e=this.util.findParentElementByTagName(event.target,/T[DH]/)!=null;break;case this.constValue.treeEvent.arrow:e=event.target&&event.target.classList.contains("tree-arrow")}e&&(event.target.classList.contains("open")?this.setTbodyTreeNodeClose([u]):this.setTbodyTreeNodeOpen([u]),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.gridResized,{},{}));l=!1}else if(this.setBeforeEcEventParameter(n),n.gridSectionType==this.constValue.sectionType.thead){if(!this.constValue.checkBoxPropertyNameRex.test(n.gridColumnID)&&!this.constValue.rowMoveablePropertyNameRex.test(n.gridColumnID)&&!this.constValue.rowNumberingPropertyNameRex.test(n.gridColumnID)&&(o=this.theadSection.getRowDataById(u),c=this.theadSection.getColumnById(n.gridColumnID),r.oldRowItem=o,r.oldValue=this.getTheadCell(n.gridColumnID,u),this.theadSection._ON_CLICK(n,t),this.config.sortable.use&&this.config.sortable.sortEnableList&&this.config.sortable.sortEnableList.contains(n.gridColumnID)||this.config.sortable.sortDisableList&&!this.config.sortable.sortDisableList.contains(n.gridColumnID))){var a=this.theadSection.getColumnIndex(n.gridColumnID),v=this.theadSection.getColumnPropertyName(n.gridColumnID),s="A";this.config.sortable.sortOrderList[n.gridColumnID]?(s=this.config.sortable.sortOrderList[n.gridColumnID].sortOrder=="D"?"D":"A",this.config.sortable.sortOrderList[n.gridColumnID].sortOrder=s):(this.config.sortable.sortOrderList={},s=this.config.sortable.sortOrder=="D"?"D":"A",this.config.sortable.sortOrderList[n.gridColumnID]={sortOrder:s});r.columnIndex=a;r.propertyName=v;r.sortOrder=s}}else if(n.gridSectionType==this.constValue.sectionType.tbody){if(this.constValue.rowMoveablePropertyNameRex.test(n.gridColumnID))t.target&&t.target.tagName&&t.target.tagName=="SPAN"?(this._ON_GRID_AUTOADDROW(n),this.addTbodyRow(u,"up",1,{},{moveScroll:!1}),this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&this.config.common.deactiveRowId&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()])):r.command="NotExecuteCommand";else if(this.constValue.checkBoxPropertyNameRex.test(n.gridColumnID)&&n.cid!=="null")this._ON_GRID_AUTOADDROW(n),this.tbodySection.setControlFocus(n.gridColumnID,u);else if(!this.constValue.checkBoxPropertyNameRex.test(n.gridColumnID)&&!this.constValue.rowNumberingPropertyNameRex.test(n.gridColumnID)){if(o=this.tbodySection.getRowDataById(u),c=this.tbodySection.getColumnById(n.gridColumnID),h=this.tbodySection.getControlControlType(n.gridColumnID,u,this.constValue.controlViewMode.input),r.oldRowItem=o,r.oldValue=this.getTbodyCell(n.gridColumnID,u),this.constValue.nativeFocusControl[h]&&(!t.target||t.target.tagName!=this.constValue.nativeFocusControlTagName[h]&&!~_.indexOf(this.constValue.nativeFocusControlSameTagName[h],t.target.tagName))){r.command="NotExecuteCommand";return}if(e=!1,f=t.target,i.controlType=="widget.gridCell.treeWidget")switch(this.config.tree.eventOnLabel){case this.constValue.treeEvent.row:e=this.util.findParentElementByTagName(f,/TR/)!=null;f=$(f).closest("tr").find("[data-columnid='"+this.config.tree.treeColumns[0]+"']").find(".tree-arrow")[0];break;case this.constValue.treeEvent.cell:e=this.util.findParentElementByTagName(f,/T[DH]/)!=null;f=$(f).closest("td").find(".tree-arrow")[0];break;case this.constValue.treeEvent.arrow:e=f&&f.classList.contains("tree-arrow")}e?(f&&(f.classList.contains("open")?this.setTbodyTreeNodeClose([u]):this.setTbodyTreeNodeOpen([u])),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.gridResized,{},{})):(this._ON_GRID_AUTOADDROW(n),this.tbodySection._ON_CLICK(n,t,i,r));this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.deactiveRowId&&this.config.common.deactiveRowId!=u&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]),this.tbodySection.getEditableState(n.gridColumnID,u)&&this.addTbodyRowClass(u,[this.constValue.firstRowCssClass.trim()]))}}else n.gridSectionType==this.constValue.sectionType.tfoot&&(this.constValue.checkBoxPropertyNameRex.test(n.gridColumnID)||this.constValue.rowMoveablePropertyNameRex.test(n.gridColumnID)||this.constValue.foldColumnPropertyNameRex.test(n.gridColumnID)||this.constValue.rowNumberingPropertyNameRex.test(n.gridColumnID)||(o=this.tfootSection.getRowDataById(u),c=this.tfootSection.getColumnById(n.gridColumnID),this.tfootSection._ON_CLICK(n,t)));this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,u);l===!1&&r.controlType=="widget.link"&&(r.command="NotExecuteCommand")}n.gridSectionType==this.constValue.sectionType.thead?t.target.tagName=="INPUT"&&this.constValue.nativeControlInWidgetCheckbox[this.theadSection.getControlControlType(n.gridColumnID,u,this.constValue.controlViewMode.view)]&&!this.config.common.isEmptyRowData&&this._handleTheadCheckbox(n,t):n.gridSectionType==this.constValue.sectionType.tbody&&t.target.tagName=="INPUT"&&this.constValue.nativeControlInWidgetCheckbox[this.tbodySection.getControlControlType(n.gridColumnID,u,this.constValue.controlViewMode.view)]&&this._handleTbodyCheckbox(n,t,i,r);n.gridSectionType==this.constValue.sectionType.tbody&&n.gridColumnSectionType==this.constValue.sectionType.tbody&&this.config.tbodyShaded&&this.config.tbodyShaded.use&&this.tbodySection.executeShaded(n.gridColumnID,u,0)},_handleTheadCheckbox:function(n,t){function e(t){t.some(function(t){var i=t[this.constValue.keyColumnPropertyName];if([this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(t[this.rowVariableNames.rowType])||this.tbodySection.getValue(n.gridColumnID,i))return!1;if(this.config.checkbox.isCheckedMax(n.gridColumnID))return this.config.checkbox.executeManageMaxCountCallback(n.gridColumnID),!0;this._processTbodyCheckbox("check",n.gridColumnID,i)}.bind(this))}function o(t){t.some(function(t){var i=t[this.constValue.keyColumnPropertyName];if([this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(t[this.rowVariableNames.rowType])||this.tbodySection.getValue(n.gridColumnID,i)===!1)return!1;this._processTbodyCheckbox("uncheck",n.gridColumnID,i)}.bind(this))}var r=this.config.checkbox.isChecked(t.target.checked),u,i,f;if(!this.config.checkbox.getManage(n.gridColumnID)){u=ecount.gridV3.utils.replaceSpaceChar(n.gridDataKey);this.theadSection.setControlChecked(n.gridColumnID,u,r,0,{isRunChange:!1,isFocusControl:!0});return}this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ecount.grid.event.list.checkAllStart,{gridId:this.config.common.ecContainerId,columnId:n.gridColumnID});i=this.tbodySection.getRowList();r?e.call(this,i):o.call(this,i);f=!0;this._ON_CHANGE_THEAD_CHECKBOX(n.gridColumnID,f);this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ecount.grid.event.list.checkAllEnd,{gridId:this.config.common.ecContainerId,columnId:n.gridColumnID});return},_handleTbodyCheckbox:function(n,t){function o(){var t=this.preColumnId!==i,f=this.preRowId===r;return u.isRadioMode(i)||!n.shiftKey||t||f||this.preRowId===null?!1:!0}var u=this.config.checkbox,r=ecount.gridV3.utils.replaceSpaceChar(n.gridDataKey),i=n.gridColumnID,f,e;if(o.call(this)){this._handleMultiCheck(i,r);this.flushTbodyMultiCheckBulk();this.preColumnId=i;this.preRowId=r;return}f=u.isChecked(t.target.checked);e={isFocusControl:!0,targetIndex:_.isUndefined(n.cindex)?0:n.cindex};u.isRadioMode(i)?this._handleRadioMode(f,i,r,e):this._handleDefaultMode(f,i,r,e);this.preColumnId=i;this.preRowId=r;this._ON_CHANGE_THEAD_CHECKBOX(i);return},_handleRadioMode:function(n,t,i,r){function f(){var n=this.tbodySection.getRowList().find(function(n){return n.CHK_H===!0});return n&&n[this.constValue.keyColumnPropertyName]}var u=f.call(this);n?(this.config.checkbox.isRadioAlreadyChecked(t)&&($.isNull(u)?this.config.checkbox.setManageResetRadio(t):this._processTbodyCheckbox("uncheck",t,u,r)),this._processTbodyCheckbox("check",t,i,r)):this._processTbodyCheckbox("uncheck",t,i,r);return},_handleDefaultMode:function(n,t,i,r){if(n){if(this.config.checkbox.isCheckedMax(t)){this.config.checkbox.executeManageMaxCountCallback(t);this.refreshTbodyCell(t,i);return}this._processTbodyCheckbox("check",t,i,r)}else this._processTbodyCheckbox("uncheck",t,i,r)},_processTbodyCheckbox:function(n,t,i,r){var u,e,f;return u=typeof n=="boolean"?n:n==="check"?!0:!1,e=this.tbodySection.getRowDataById(i),r=r?this._createCheckboxOptions(r):this._createCheckboxOptions(),f=this.tbodySection.setControlChecked(t,i,{checked:u},r.targetIndex,{isRunChange:r.isRunChange,isForce:r.isForce}),f&&this.setCheckboxConfig(t,u,e),this.refreshTbodyCell(t,i,{isFocusControl:r.isFocusControl,cindex:r.targetIndex}),f},_createCheckboxOptions:function(n){var t={isRunChange:!0,isFocusControl:!1,targetIndex:0,isForce:!1};return $.isNull(n)?t:($.isNull(n.isRunChange)||(t.isRunChange=n.isRunChange),$.isNull(n.isFocusControl)||(t.isFocusControl=n.isFocusControl),$.isNull(n.targetIndex)||(t.targetIndex=n.targetIndex),$.isNull(n.isForce)||(t.isForce=n.isForce),t)},_handleMultiCheck:function(n,t){function u(n,t){var i=this.tbodySection.getRowDataIndexById(n),r=this.tbodySection.getRowDataIndexById(t),u=i<=r?"down":"up";switch(u){case"down":return{startRowIndex:i+1,endRowIndex:r,direction:u};case"up":return{startRowIndex:r,endRowIndex:i-1,direction:u}}}var i=u.call(this,this.preRowId,t),r=this.tbodySection.getRowList().slice(i.startRowIndex,i.endRowIndex+1);i.direction==="up"&&r.reverse();this.refreshTbodyCell(n,t);r.some(function(t){var i=t[this.constValue.keyColumnPropertyName],u=this.tbodySection.getValue(n,i),r;if([this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(t[this.rowVariableNames.rowType]))return!1;if(!u==!0&&this.config.checkbox.isCheckedMax(n))return this.config.checkbox.executeManageMaxCountCallback(n),!0;r={isRunChange:!0};this.config.checkbox.getUseMultiCheckBulk()&&(this.multiCheckBulk[i]={rowKey:i,index:this.tbodySection.getRowDataIndexById(i)},r.isRunChange=!1);this._processTbodyCheckbox(!u,n,i,r);this._ON_CHANGE_THEAD_CHECKBOX(n)}.bind(this));return},_ON_CLICK_CUSTOM:function(n,t,i,r){n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection._ON_CLICK_CUSTOM(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot)},_ON_DBLCLICK:function(n,t,i,r){if(i=i||{},n.gridTableID==this.dataTableId&&(!n.gridSectionType&&!n.gridColumnID&&!n.gridDataKey&&i.gridSectionType&&i.gridColumnID&&i.gridDataKey&&(n.gridSectionType=i.gridSectionType,n.gridColumnID=i.gridColumnID,n.gridDataKey=i.gridDataKey),this.dataTableId==n.gridTableID&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey)),n.gridSectionType!=this.constValue.sectionType.thead))if(n.gridSectionType==this.constValue.sectionType.tbody){var u=this.tbodySection.getControlControlType(n.gridColumnID,n.gridDataKey,this.constValue.controlViewMode.input);/^widget.code.*/.test(u)&&this.config.common.activeRowId&&this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&this.removeTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()]);this.tbodySection._ON_DBLCLICK(n,t,i,r)}else n.gridSectionType==this.constValue.sectionType.tfoot},_ON_FOCUSIN:function(n,t,i,r){if(n.gridTableID==this.dataTableId){if($(t.target).closest("TH,TD").hasClass("disabled"))return!1;if(this.setEcEventRequireParameter(n,i),!n.gridSectionType||!n.gridColumnID||!n.gridDataKey)return;r.command=this.getCallbackCommand(t.type,n.gridSectionType);r.sectionType=n.gridSectionType;r.columnId=n.gridColumnID;r.rowId=n.gridDataKey;n.gridSectionType==this.constValue.sectionType.thead||n.gridSectionType==this.constValue.sectionType.tbody||n.gridSectionType==this.constValue.sectionType.tfoot;this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey)}},_ON_FOCUSOUT:function(n,t,i,r){if(this.config.common.widgetValue=null,n.gridTableID==this.dataTableId){if(this.setEcEventRequireParameter(n,i),!n.gridSectionType||!n.gridColumnID||!n.gridDataKey)return;r.command=this.getCallbackCommand(t.type,n.gridSectionType);r.sectionType=n.gridSectionType;r.columnId=n.gridColumnID;r.rowId=n.gridDataKey;n.gridSectionType==this.constValue.sectionType.thead||n.gridSectionType==this.constValue.sectionType.tbody||n.gridSectionType==this.constValue.sectionType.tfoot;this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey)}},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n,t,i,r){this.theadSection&&this.theadSection._ON_GRID_DEACTIVATE(n,t,i,r);this.tbodySection._ON_GRID_DEACTIVATE(n,t,i,r);this.tfootSection&&this.tfootSection._ON_GRID_DEACTIVATE(n,t,i,r);(this.config.common.activeRowId||this.config.common.deactiveRowId)&&this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&this.removeTbodyRowClass(this.config.common.activeRowId||this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]);this.preColumnId&&(this.preColumnId=null,this.preRowId=null);this.config.keyboard.useMoveCursor&&this.config.common.gridType==this.constValue.gridType.list&&this.config.keyboard.prevRowId&&(this.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),this.config.keyboard.prevRowId=null,this.config.keyboard.prevColumnId=null)},setTbodyRowActive:function(n){if(this.config.keyboard.useMoveCursor&&this.config.common.gridType==this.constValue.gridType.list){var i=this.getTbodyRowList(),t;_.isArray(i)&&i.length>0&&(n=_.isNil(n)?i[0]["K-E-Y"]:n,t=this.getTbodyColumnFirst(null,n,!0),t&&(this.config.keyboard.prevRowId&&(this.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),this.config.keyboard.prevRowId=null,this.config.keyboard.prevColumnId=null),this.config.keyboard.prevRowId=n,this.config.keyboard.prevColumnId=t&&t.id,this.addTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),this.config.keyboard.prevRowId&&this.config.keyboard.prevColumnId&&this.scrollDownMove({gridSectionType:"tbody",gridDataKey:n,gridColumnID:this.config.keyboard.prevColumnId})))}},_ON_GRID_KEYDOWN_ARROW_DOWN:function(n,t,i,r){var e,f,o,s,u;this.config.keyboard.useMoveCursor&&this.config.common.gridType==this.constValue.gridType.list?(n.gridDirection="down",f=this.getTbodyRowList(),this.config.keyboard.prevRowId&&(this.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),n.gridDirection=="down"&&(o=this.getTbodyRowDataIndexById(this.config.keyboard.prevRowId),u=t.shiftKey?f[o+5]==undefined?f[0]:f[o+5]:f[o+1],e=u&&this.getTbodyColumnFirst(null,u[this.constValue.keyColumnPropertyName],!0)),this.config.keyboard.prevRowId=null,this.config.keyboard.prevColumnId=null),u||(u=f[0],e=u&&this.getTbodyColumnFirst(null,u[this.constValue.keyColumnPropertyName],!0)),u&&(this.config.keyboard.prevRowId=u[this.constValue.keyColumnPropertyName],this.config.keyboard.prevColumnId=e&&e.id,this.addTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"])),n.gridSectionType=this.constValue.sectionType.tbody,n.gridDataKey=this.config.keyboard.prevRowId,n.gridColumnID=this.config.keyboard.prevColumnId,this.config.keyboard.prevRowId&&this.config.keyboard.prevColumnId&&this.scrollDownMove(n)):n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?(this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey),s=this.getCustomEventData(ecount,t,i,r),u=this.tbodySection.getNextRowData(n.gridDataKey),this.tbodySection._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r),n.gridDirection="down",this.scrollIntoView(n),this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.deactiveRowId&&this.config.common.activeRowId!=this.config.common.deactiveRowId&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]),this.config.common.activeRowId&&this.addTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()])),this.config.events.afterKeydownArrowDownHandler&&this.config.events.afterKeydownArrowDownHandler(s),u&&this._ON_GRID_AUTOADDROW({gridDataKey:u[this.constValue.keyColumnPropertyName],gridColumnID:n.gridColumnID})):n.gridSectionType==this.constValue.sectionType.tfoot)},_ON_GRID_KEYDOWN_ARROW_LEFT:function(n,t,i,r){var u={isPreventDefault:!1},f=this.config&&this.config.paging,c=f.use,o,e,h,s;if(c&&f.totalPageCount!=1&&(r.sectionType="Toolbar",r.controlId="paging",r.pageIndex=t.shiftKey?1:f.currentPage===1?1:f.currentPage-1,r.stopMove=f.currentPage===1?!0:!1,r.stopMove&&(o=this.headerToolbar.getToolbarInst(),o&&o.movePrevPage&&o.movePrevPage()),r.command=this.getCallbackCommand(t.type,"Toolbar")),n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType!=this.constValue.sectionType.thead))if(n.gridSectionType==this.constValue.sectionType.tbody){if(e=this.tbodySection.getCellModuleEditLayerActive(),h=this.getTbodyControlType(n.gridColumnID,n.gridDataKey,this.constValue.controlViewMode.input),e&&(e.getModuleEditLayer().isViewMode()||/widget.(date|multiDate|select)/.test(h))){if(s=this.getTbodyColumnFirst(n.gridColumnID,n.gridDataKey,!1),s.id==n.gridColumnID&&(!e.instance||e.instance.getReversedFocusableIndex()==-1))return u;t.shiftKey=!0;n.gridKeyType="arrowLeft";this._ON_KEYDOWN_TAB(n,t,i,r);u.isPreventDefault=!0}else if(this.constValue.nativeFocusControl[h]){if(s=this.getTbodyColumnFirst(n.gridColumnID,n.gridDataKey,!1),s.id==n.gridColumnID)return u;t.shiftKey=!0;n.gridKeyType="arrowLeft";this._ON_KEYDOWN_TAB(n,t,i,r);u.isPreventDefault=!0}}else n.gridSectionType==this.constValue.sectionType.tfoot;return u},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot))},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(n,t,i,r){var f={isPreventDefault:!1},u=this.config&&this.config.paging,c=u.use,e,s,h,o;if(c&&u.totalPageCount!=1&&(r.sectionType="Toolbar",r.controlId="paging",r.pageIndex=t.shiftKey?u.totalPageCount:u.currentPage===u.totalPageCount?u.totalPageCount:u.currentPage+1,r.stopMove=u.currentPage===u.totalPageCount?!0:!1,r.stopMove&&this.headerToolbar.getToolbarInst()&&this.headerToolbar.getToolbarInst().moveNextPage(),r.command=this.getCallbackCommand(t.type,"Toolbar")),n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType!=this.constValue.sectionType.thead))if(n.gridSectionType==this.constValue.sectionType.tbody){if(e=this.tbodySection.getCellModuleEditLayerActive(),s=this.getTbodyControlType(n.gridColumnID,n.gridDataKey,this.constValue.controlViewMode.input),n.gridIsContinueNextRow=!1,n.gridKeyType="arrowRight",e&&(e.getModuleEditLayer().isViewMode()||/widget.(date|multiDate|select)/.test(s))){if(o=this.getTbodyColumnLast(n.gridColumnID,n.gridDataKey,!1),o.id==n.gridColumnID&&(!e.instance||e.instance.getFocusableIndex()==-1))return f;h=this._ON_KEYDOWN_TAB(n,t,i,r);h===!1&&this.tbodySection.setControlFocus(n.gridColumnID,n.gridDataKey);f.isPreventDefault=!0}else if(this.constValue.nativeFocusControl[s]){if(o=this.getTbodyColumnLast(n.gridColumnID,n.gridDataKey,!1),o.id==n.gridColumnID)return f;this._ON_KEYDOWN_TAB(n,t,i,r);f.isPreventDefault=!0}}else n.gridSectionType==this.constValue.sectionType.tfoot;return f},_ON_GRID_KEYDOWN_ARROW_UP:function(n,t,i,r){var h={isPreventDefault:!1},u,e,o,f,c,s,l;return this.config.keyboard.useMoveCursor&&this.config.common.gridType==this.constValue.gridType.list?(n.gridDirection="up",f=this.getTbodyRowList(),this.config.keyboard.prevRowId&&(this.removeTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"]),o=this.getTbodyRowDataIndexById(this.config.keyboard.prevRowId),n.gridDirection=="up"&&(u=t.shiftKey?f[o-5]==undefined?f[f.length-1]:f[o-5]:f[o-1],e=u&&this.getTbodyColumnFirst(null,u[this.constValue.keyColumnPropertyName],!0)),this.config.keyboard.prevRowId=null,this.config.keyboard.prevColumnId=null),u||(f=this.getTbodyRowList(),u=f.length>0?this.getTbodyRowDataByIndex(f.length-1):null,e=u&&this.getTbodyColumnFirst(null,u[this.constValue.keyColumnPropertyName],!0)),u&&(this.config.keyboard.prevRowId=u[this.constValue.keyColumnPropertyName],this.config.keyboard.prevColumnId=e&&e.id,this.addTbodyRowClass(this.config.keyboard.prevRowId,["active-kbd"])),n.gridSectionType=this.constValue.sectionType.tbody,n.gridDataKey=this.config.keyboard.prevRowId,n.gridColumnID=this.config.keyboard.prevColumnId,this.config.keyboard.prevRowId&&this.config.keyboard.prevColumnId&&this.scrollUpMove(n)):n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?(this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey),c=this.getCustomEventData(ecount,t,i,r),this.tbodySection._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r),s=this.getTbodyRowDataIndexById(n.gridDataKey),s-1>-1&&(l=this.getTbodyRowDataByIndex(s-1),this.scrollIntoView({gridDirection:"up",gridSectionType:n.gridSectionType,gridColumnID:n.gridColumnID,gridDataKey:l[this.constValue.keyColumnPropertyName]}),h.isPreventDefault=!0),this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.deactiveRowId&&this.config.common.activeRowId!=this.config.common.deactiveRowId&&this.removeTbodyRowClass(this.config.common.deactiveRowId,[this.constValue.firstRowCssClass.trim()]),this.config.common.activeRowId&&this.addTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()])),this.config.events.afterKeydownArrowUpHandler&&this.config.events.afterKeydownArrowUpHandler(c)):n.gridSectionType==this.constValue.sectionType.tfoot),h},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot))},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection._ON_GRID_KEYDOWN_DELETE(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot))},_ON_GRID_KEYDOWN_ENTER:function(n,t,i,r){var u,f,n,e;if(this.config.common.gridType==this.constValue.gridType.list){if(this.config.keyboard.enterForExecute&&this.config.keyboard.executeColumnIdList&&this.config.keyboard.prevRowId)for(u=0,f=this.config.keyboard.executeColumnIdList.length;u<f;u++)n={gridSectionType:this.constValue.sectionType.tbody,gridColumnID:this.config.keyboard.executeColumnIdList[u],gridDataKey:this.config.keyboard.prevRowId},this._ON_CLICK_CUSTOM(n,t,i,r)}else i&&(i.controlType=="widget.paging"?(r.command=this.getCallbackCommand(t.type,"Toolbar"),r.sectionType="Toolbar",r.controlId=i.id):(this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey),e=this.getCustomEventData(ecount,t,i,r),n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?(this.constValue.nativeControlInWidgetCheckbox[i.controlType]||i.getValue&&(this.config.common.widgetValue=function(n){return{getValue:function(){return n.value},getLabel:function(){return n.label}}}({value:i.getValue(),label:i.getValue()})),this.tbodySection._ON_GRID_KEYDOWN_ENTER(n,t,i,r)&&(this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.activeRowId&&this.config.common.activeRowId!=n.gridDataKey&&this.removeTbodyRowClass(n.gridDataKey,[this.constValue.firstRowCssClass.trim()]),$.isNull(this.config.common.activeRowId)||this.addTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()])),this.config.common.activeRowId&&(n.gridDataKey=this.config.common.activeRowId,this._ON_GRID_AUTOADDROW(n))),this.config.events.afterKeydownEnterHandler&&this.config.events.afterKeydownEnterHandler(e)):n.gridSectionType==this.constValue.sectionType.tfoot)))},_ON_GRID_KEYDOWN_ESC:function(n){this.config&&this.config.editable&&this.config.editable.use&&(n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?(this.setTbodyControlInstanceValue(n.gridColumnID,n.gridDataKey,this.getTbodyCell(n.gridColumnID,n.gridDataKey)),this.setTbodyCellFocus(n.gridColumnID,n.gridDataKey)):n.gridSectionType==this.constValue.sectionType.tfoot))},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){return(n.gridTableID==this.dataTableId&&(this.setEcEventRequireParameter(n,i),n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection._ON_GRID_KEYDOWN_SPACE(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot)),this.config.common.gridType==this.constValue.gridType.list&&this.config.keyboard.spacebarForSelect&&this.config.keyboard.prevRowId)?(this._ON_CLICK_CUSTOM({gridSectionType:this.constValue.sectionType.tbody,gridColumnID:this.constValue.checkBoxPropertyName,gridDataKey:this.config.keyboard.prevRowId}),{isPreventDefault:!0}):{}},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(n,t){n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?this.config.common.gridType==this.constValue.gridType.list||/^widget(.gridCell)?.link/.test(this.tbodySection.getControlControlType(n.gridColumnID,n.gridDataKey,this.constValue.controlViewMode.input))&&t&&t.target&&t.target.click():n.gridSectionType==this.constValue.sectionType.tfoot)},_ON_GRID_KEYDOWN_ESC_SERVICE:function(){},_ON_GRID_KEYUP:function(n,t,i,r){this.dataTableId==n.gridTableID&&(this.setEcEventColumnSectionType(n),r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey)},_ON_GRID_PASTE:function(){},_ON_INPUT:function(n,t,i,r){(this.setEcEventRequireParameter(n,i),n.gridSectionType&&n.gridColumnID&&n.gridDataKey)&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey))},_ON_KEYDOWN_ENTER:function(n,t,i,r){(this.setEcEventRequireParameter(n,i),n.gridSectionType&&n.gridColumnID&&n.gridDataKey)&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey))},_ON_KEYDOWN_F8:function(n,t,i,r){(this.setEcEventRequireParameter(n,i),n.gridSectionType&&n.gridColumnID&&n.gridDataKey)&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey))},_ON_KEYDOWN_SPACE:function(n,t,i,r){(this.setEcEventRequireParameter(n,i),n.gridSectionType&&n.gridColumnID&&n.gridDataKey)&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey))},_ON_KEYDOWN_TAB:function(n,t,i,r){if(this.dataTableId==n.gridTableID&&n.gridSectionType!=this.constValue.sectionType.thead)if(n.gridSectionType==this.constValue.sectionType.tbody){i=i||{};this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey);var u=this.getCustomEventData(ecount,t,i,r);if(this.constValue.nativeControlInWidgetCheckbox[i.controlType]||i.getValue&&(this.config.common.widgetValue=function(n){return{getValue:function(){return n.value},getLabel:function(){return n.label}}}({value:i.getValue(),label:i.getValue()})),this.tbodySection._ON_KEYDOWN_TAB(n,t,i,r))return this.config.tbodyRow.showInputFakeOutLine=="activeRow"&&(this.config.common.activeRowId&&this.config.common.activeRowId!=n.gridDataKey&&this.removeTbodyRowClass(n.gridDataKey,[this.constValue.firstRowCssClass.trim()]),this.addTbodyRowClass(this.config.common.activeRowId,[this.constValue.firstRowCssClass.trim()])),this.config.common.activeRowId&&(n.gridDataKey=this.config.common.activeRowId,this._ON_GRID_AUTOADDROW(n)),!0;this.config.events.afterKeydownEnterHandler&&this.config.events.afterKeydownEnterHandler(u)}else n.gridSectionType==this.constValue.sectionType.tfoot;return!1},_ON_KEYUP:function(n,t,i,r){this.dataTableId==n.gridTableID&&(this.setEcEventRequireParameter(n,i),r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey)},_ON_MOUSEDOWN:function(n,t,i,r){if(i=i||{},this.dataTableId==n.gridTableID){this.setEcEventRequireParameter(n,i);this.onBlurEditlayer("mousedown",n.gridSectionType,n.gridColumnID,n.gridDataKey);n.gridSectionType==this.constValue.sectionType.thead?this.theadSection&&this.theadSection._ON_MOUSEDOWN(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tbody?(this.config.checkbox.getUseMultiCheck()&&this.setTbodyCheckboxDown(n,t,i,r),this.tbodySection._ON_MOUSEDOWN(n,t,i,r)):n.gridSectionType==this.constValue.sectionType.tfoot&&this.tfootSection._ON_MOUSEDOWN(n,t,i,r)}else if(this.dataTableId&&$.isNull(n.gridTableID))this.onBlurEditlayer("mousedown")},_ON_MOUSEOUT:function(n,t,i,r){this.dataTableId==n.gridTableID&&(r.command=this.getCallbackCommand(t.type,n.gridSectionType),r.sectionType=n.gridSectionType,r.columnId=n.gridColumnID,r.rowId=n.gridDataKey,n.gridSectionType==this.constValue.sectionType.thead?this.theadSection&&this.theadSection._ON_MOUSEOUT(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tbody?(this.config.checkbox.getUseMultiCheck()&&this.setTbodyCheckboxDrag(n,t,i,r),this.tbodySection._ON_MOUSEOUT(n,t,i,r)):n.gridSectionType==this.constValue.sectionType.tfoot&&this.tfootSection._ON_MOUSEOUT(n,t,i,r))},_ON_MOUSEOVER:function(n,t,i,r){this.dataTableId==n.gridTableID&&(n.gridSectionType==this.constValue.sectionType.thead?this.theadSection&&this.theadSection._ON_MOUSEOVER(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tbody?(this.config.checkbox.getUseMultiCheck()&&this.setTbodyCheckboxDrag(n,t,i,r),this.tbodySection._ON_MOUSEOVER(n,t,i,r)):n.gridSectionType==this.constValue.sectionType.tfoot&&this.tfootSection._ON_MOUSEOVER(n,t,i,r),this.setStoreParameter(r,n.gridSectionType,n.gridColumnID,n.gridDataKey))},_ON_MOUSEUP:function(n){this.dataTableId==n.gridTableID&&(n.gridSectionType==this.constValue.sectionType.thead||(n.gridSectionType==this.constValue.sectionType.tbody?(this.isCheckboxDragStart&&(this.isCheckboxDragStart=!1),this.isCheckboxDragEnd||(this.isCheckboxDragEnd=!0),this.flushTbodyMultiCheckBulk()):n.gridSectionType==this.constValue.sectionType.tfoot))},_ON_GRID_CONTEXTMENU:function(n,t,i,r){this.dataTableId==n.gridTableID&&(n.gridSectionType==this.constValue.sectionType.thead?this.theadSection&&this.theadSection._ON_GRID_CONTEXTMENU(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tbody?this.tbodySection&&this.tbodySection._ON_GRID_CONTEXTMENU(n,t,i,r):n.gridSectionType==this.constValue.sectionType.tfoot&&this.tfootSection&&this.tfootSection._ON_GRID_CONTEXTMENU(n,t,i,r))},_ON_SCROLL:function(n,t,i,r){this.theadSection&&this.theadSection._ON_SCROLL(n,t,i,r);this.tbodySection._ON_SCROLL(n,t,i,r);this.tfootSection&&this.tfootSection._ON_SCROLL(n,t,i,r)},_ON_GRID_AUTOADDROW:function(n){var t,u,r,f,i;this.config&&this.config.editable&&this.config.editable.use&&this.config.tbodyRow.autoAddRowOnLastRow&&(rowData=this.tbodySection.getRowDataById(n.gridDataKey)||{},t=this.tbodySection.getRowList(),u=this.config.tbodyRow.autoAddRowCount,rowData[this.constValue.rowCountColumnPropertyName]>t.length-this.config.tbodyRow.autoAddRowMargin&&(this.addTbodyRow(t[t.length-1][this.constValue.keyColumnPropertyName],"down",u,{}),r=this.getTbodyRowList(),!this.config.checkbox.useCustomHeaderWidth&&r.length>=100&&(f=this.getTheadColumnInfo(this.constValue.checkBoxPropertyName),i=ecount.gridV3.utils.getCheckboxWidthByRowCount(r),parseInt(f.width,10)==25&&(this.theadSection&&this.setTheadColumnInfo(this.constValue.checkBoxPropertyName,{width:i}),this.tbodySection&&this.setTbodyColumnInfo(this.constValue.checkBoxPropertyName,{width:i}),this.tfooterSection&&this.setTfootColumnInfo(this.constValue.checkBoxPropertyName,{width:i})))))},_ON_GRID_CHANGE_CHILD_DISPLAY:function(n){this.config&&this.config.editable&&this.config.editable.use&&(n.gridSectionType===this.constValue.sectionType.thead||(n.gridSectionType===this.constValue.sectionType.tbody?ecount.global.setTimeout(this.config.common.ecPageId,function(){this.tbodySection.resetTrHeightColumn(n.gridColumnID,n.gridDataKey,{isChangeChild:!0})}.bind(this),100):n.gridSectionType===this.constValue.sectionType.tfoot))},scrollIntoView:function(n){var t,i,r,s=this.getTableElement(),h=s.querySelector(n.gridSectionType),u=h.querySelector("[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n.gridDataKey)+"'][data-columnid='"+n.gridColumnID+"']"),f=this.tbodySection.getRowIndexById(n.gridDataKey),e=u.getBoundingClientRect(),o;this.config.layout.contents?(o=this.config.layout.contents[0].getBoundingClientRect(),t=this.config.layout.contents[0].offsetHeight,i=e.top-o.top,r=u.offsetHeight*f.length,n.gridDirection==="down"&&i>t-t/5&&this.config.layout.$contents.scrollTop(this.config.layout.$contents.scrollTop()+r),n.gridDirection==="up"&&i<t/5&&this.config.layout.$contents.scrollTop(this.config.layout.$contents.scrollTop()-r)):(t=document.documentElement.offsetHeight,i=e.top,r=u.offsetHeight*f.length,n.gridDirection==="down"&&i>t-t/5&&$(document.documentElement).scrollTop($(document.documentElement).scrollTop()+r),n.gridDirection==="up"&&i<t/5&&$(document.documentElement).scrollTop($(document.documentElement).scrollTop()-r))},_ON_DRAG_START:function(n){this.config.tree.dataStart={rowId:n.rowKey};ecount.draggable.setHelperText(this.getTbodyTreeChildCount(0,n.rowKey,!0))},_ON_DRAG_MOVE:function(){},_ON_DRAG_END:function(n){var t,f,i,e,o,r,u;if(n.rowKey!=this.config.tree.dataStart.rowId&&!this.isTbodyTreeInParent(n.rowKey,this.config.tree.dataStart.rowId)&&n.rowKey!=this.getTbodyTreeParentKey(this.config.tree.dataStart.rowId)&&this.config.tree.dataStart.rowId!=this.getTbodyTreeNextSiblingRowId(n.rowKey)&&(r=this.tbodySection.getRowDataIndexById(this.config.tree.dataStart.rowId),r!=-1)&&(u=this.tbodySection.getRowDataIndexById(n.rowKey),u!=-1))if(r>u?i="up":r<u&&(i="down"),e=function(n,t,i){if(this.moveTbodyRow(n,t),this.isTbodyTreeParent(n)){var r=this.config.tree.listParentToChild[n];i=="down"&&(t=n);r.forEach(function(n){e(n,t,i);i=="down"&&(t=n)}.bind(this))}}.bind(this),this.isTbodyTreeParent(this.config.tree.dataStart.rowId)){if(t=this.getTbodyTreeParentKey(this.config.tree.dataStart.rowId),t&&(this.config.tree.listParentToChild[t].splice(this.config.tree.listParentToChild[t].indexOf(this.config.tree.dataStart.rowId),1),this.config.tree.listParentToChild[t].length==0&&delete this.config.tree.listParentToChild[t]),this.isTbodyTreeParent(n.rowKey)?i=="up"?f=this.getTbodyTreeParentKey(this.config.tree.dataStart.rowId)==this.getTbodyTreeParentKey(n.rowKey)?this.getTbodyTreeNextSiblingRowId(n.rowKey):this.getTbodyTreeChildRowId("last",n.rowKey):i=="down"&&(f=this.getTbodyTreeChildRowId("last",n.rowKey)):(this.config.tree.listParentToChild[n.rowKey]=[],o=function(n){var t,i;return this.config.tree.rootNodeId==n?null:(t=this.getTbodyTreeNextSiblingRowId(n),t)?t:(i=this.getTbodyTreeParentKey(n),o(i))}.bind(this),i=="up"?f=o(n.rowKey):i=="down"&&(f=n.rowKey)),this.config.tree.listParentToChild[n.rowKey].push(this.config.tree.dataStart.rowId),this.config.tree.listChildToParent[this.config.tree.dataStart.rowId]=[n.rowKey],r=this.tbodySection.getRowDataIndexById(this.config.tree.dataStart.rowId),r==-1)return;if(u=this.tbodySection.getRowDataIndexById(f),u==-1)return;r>u?i="up":r<u&&(i="down");e(this.config.tree.dataStart.rowId,f,i)}else fromRowIds=[this.config.tree.dataStart.rowId],t=this.getTbodyTreeParentKey(this.config.tree.dataStart.rowId),this.config.tree.listParentToChild[t].splice(this.config.tree.listParentToChild[t].indexOf(this.config.tree.dataStart.rowId),1),this.isTbodyTreeParent(n.rowKey)||(this.config.tree.listParentToChild[n.rowKey]=[],t=this.getTbodyTreeParentKey(n.rowKey),this.config.tree.listParentToChild[t].splice(this.config.tree.listParentToChild[t].indexOf(n.rowKey),1),delete this.config.tree.listChildToParent[n.rowKey]),this.config.tree.listParentToChild[n.rowKey].push(this.config.tree.dataStart.rowId),delete this.config.tree.listChildToParent[this.config.tree.dataStart.rowId],e(i,this.config.tree.dataStart.rowId,f)},getScrollData:function(n,t){var i={},r=0;return!t.isLastSectionContainer&&!!n.parentElement.parentElement.parentElement.parentElement&&n.parentElement.parentElement.parentElement.parentElement.querySelectorAll("table#grid-main").length>1&&(r=n.parentElement.parentElement.offsetTop+n.parentElement.parentElement.parentElement.offsetTop),i.topMargin=this.config.common.topMargin||0,i.tdElement=$(n),i.currentTop=n.offsetTop+r,i.currentHeight=i.tdElement.height(),i.scrollTop=this.config.layout.$contents?this.config.layout.$contents.scrollTop():$(document).scrollTop(),i.viewportHeight=this.config.layout.contents?this.config.layout.contents[0].offsetHeight:$(window).height(),i.bottomMargin=this.config.common.bottomMargin||0,i.currentBottom=i.topMargin+i.currentTop+i.tdElement.height(),i.bottomLimit=i.scrollTop+i.viewportHeight,i.ratioMargin=i.viewportHeight-i.topMargin>=300?100:10,i.currentLeft=n.offsetLeft,i.currentRight=i.currentLeft+i.tdElement.width(),i.viewportWidth=this.config.layout.$contents?this.config.layout.$contents.width():$(window).width(),i.scrollLeft=this.config.layout.contents?this.config.layout.contents[0].scrollLeft:$(document).scrollLeft(),i.rightLimit=i.scrollLeft+i.viewportWidth,i.ratioMargin2=10,i},scrollUpMove:function(n){var i=this.getTableElement(),r=i.querySelector(n.gridSectionType),u=r.querySelector("[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n.gridDataKey)+"'][data-columnid='"+n.gridColumnID+"']"),t=this.getScrollData(u,n);(t.currentTop<=t.scrollTop+t.topMargin+t.ratioMargin||t.currentTop>t.bottomLimit)&&(this.config.layout.$contents?this.config.layout.$contents.scrollTop(t.currentTop-(t.topMargin+t.ratioMargin)+1):$(document).scrollTop(t.currentTop-(t.topMargin+t.ratioMargin)+1))},scrollDownMove:function(n){var i=this.getTableElement(),r=i.querySelector(n.gridSectionType),u=r.querySelector("[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(n.gridDataKey)+"'][data-columnid='"+n.gridColumnID+"']"),t=this.getScrollData(u,n);if(t.viewportHeight/2<=t.currentTop+t.tdElement[0].offsetHeight-t.scrollTop)this.config.layout.contents.scrollTop(t.scrollTop+(t.currentBottom-t.bottomLimit)+t.ratioMargin+t.bottomMargin+2-t.currentHeight);else if(t.currentTop+t.tdElement[0].offsetHeight-t.scrollTop<0){if(this.getTbodyRowDataByIndex(0)["K-E-Y"]===n.gridDataKey){this.config.layout.contents.scrollTop(0);return}this.config.layout.contents.scrollTop(t.scrollTop+(t.currentTop-t.scrollTop))}}});ecount.class("ecount.gridV3.sectionColgroup",null,{init:function(n,t,i,r){this.sectionTag="colgroup";_.extend(this,n);this.config=i;this.localConfig=r;this.constValue=ecount.grid.constValue;var u=0;this.cols=[];this.dataTableId=r.dataTableId;this.dataResizeTableId=r.dataResizeTableId;t.some(function(n){if(n.linechange&&(u+=1),u!=0)return!0;this.cols.push(this.createCol(n,i,r))}.bind(this))},destroyAll:function(){var n,i,t;for(delete this.config,delete this.localConfig,delete this.constValue,n=0,i=this.cols.length;n<i;n++)t=this.cols[n],t.destroyAll&&t.destroyAll(),this.cols[n]=null},createCol:function(n){var t=new ecount.gridV3.col(n,this.config,this.localConfig);return t.setGridGenerator(this.gridGenerator).setControlGenerator(this.controlGenerator).setInstanceManager(this.instanceManager),t},makeData:function(){this.madeCols=this.cols.map(function(n){return n.getCreatedData()})},getTemplateData:function(){return $.template(ecount.gridV3.template.colgroup,{sectionTag:this.sectionTag,cols:this.madeCols})},addCol:function(n,t,i,r){for(var f,s=this.getIndex(n),o=s+(t=="right"?1:0),u=[],e=0,h=i;e<h;e++)u.push(this.createCol(r[e]));return u.splice(0,0,o,0),Array.prototype.splice.apply(this.cols,u),u.splice(0,2),f=u.map(function(n){return n.getCreatedData()}),f.splice(0,0,o,0),Array.prototype.splice.apply(this.madeCols,f),f.splice(0,2),$.template(ecount.gridV3.template.colgroup,{sectionTag:this.sectionTag,cols:f})},getTotalWidth:function(n){if(n=n||{},targetType=n.targetType||this.constValue.targetType.all,removeColumnIdList=n.removeColumnIdList||[],this.config.common.isFreeSizeWidth)return"100";var t=0;return this.cols.forEach(function(n){switch(targetType){case"all":removeColumnIdList.indexOf(n.getColumnId())==-1&&(t+=n.getWidth()||0);break;case"visible":n.getVisible()&&removeColumnIdList.indexOf(n.getColumnId())==-1&&(t+=n.getWidth()||0);break;case"invisible":n.getVisible()||removeColumnIdList.indexOf(n.getColumnId())==-1&&(t+=n.getWidth()||0)}}),t.toString()},setWidth:function(n,t){this.cols.some(function(i){if(i.getColumnId()==n)return i.setWidth(t),!0})},getWidth:function(n){var t=0;return this.cols.some(function(i){if(i.getColumnId()==n)return t=i.getWidth(),!0}),t},getIndex:function(n){var t=-1;return this.cols.some(function(i,r){if(i.getColumnId()==n)return t=r,!0}),t},setVisibility:function(n,t){this.cols.some(function(i){if(i.getColumnId()==n)return i.setVisible(t),!0})}});ecount.class("ecount.gridV3.sectionThead",null,{init:function(n,t,i,r,u){if(_.extend(this,n),this.config=r,this.localConfig=u,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=r.events.gridRelatedEvents,this.tableElement=null,this.isRenderCancel()){this.renderCancel();return}this.sectionTag="thead";this.madeRows=[];this.row=new ecount.gridV3.sectionTheadRow(n,t,i,r)},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.localConfig;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;delete this.tableElement;this.row&&this.row.destroyAll&&this.row.destroyAll()},makeData:function(n){this.row.makeData(n)},getTemplateData:function(){var n=[];return this.config.column.visible||n.push("hide"),$.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,sectionClassname:n,rows:this.row.getMadeRowData()})},setCacheTable:function(n){this.tableElement=n;this.row.setCacheTable(n)},getSectionElement:function(){return this.sectionElement?this.sectionElement:(this.tableElement&&(this.sectionElement=this.tableElement.querySelector(this.sectionTag)),this.sectionElement)},getRowDataById:function(n,t){return this.row.getRowDataById(n,t)},getRowDataByIndex:function(n,t){return this.row.getRowDataByIndex(n,t)},getRowIndexById:function(n){return this.row.getRowIndexById(n)},getRowDataIndexById:function(n){return this.row.getRowDataIndexById(n)},getRowList:function(n,t){return this.row.getRowList(n,t)},removeRowClass:function(n,t){var r=this.getSectionElement(),i=r.querySelector("[data-key='"+n+"']");i&&i.classList.remove(t)},getColumnInfoList:function(n,t,i){return this.row.getColumnInfoList(n,t,i)},getColumnById:function(n,t){return this.row.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.row.getColumnByIndex(n,t)},setColumnWidth:function(n,t){this.row.setColumnWidth(n,t)},addColumn:function(n,t,i,r,u){return $.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,rows:this.row.addColumn(n,t,i,r,u)})},getNextColumnById:function(n,t){return this.row.getNextColumnById(n,t)},getPrevColumnId:function(n,t){return this.row.getPrevColumnId(n,t)},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.row.setControlChangeDataTypeAllRowData(n,t,i,r,u,f,e,o,s,h,c,l)},getColumnPropertyName:function(n){return this.row.getColumnPropertyName(n)},getColumnIndex:function(n){return this.row.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.row.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.row.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.row.getColumnMaxColspanCount(n)},setControlChecked:function(n,t,i,r,u){this.row.setControlChecked(n,t,i,r,u)},addCellClass:function(n,t,i){this.row.addCellClass(n,t,i)},removeCellClass:function(n,t,i){this.row.removeCellClass(n,t,i)},getCell:function(n,t){return this.row.getCell(n,t)},getValue:function(n,t){return this.row.getValue(n,t)},setValue:function(n,t,i,r){return this.row.setValue(n,t,i,r)},refreshCell:function(n,t,i){this.row.refreshCell(n,t,i)},setCellEditable:function(n,t,i){this.row.setCellEditable(n,t,i)},getEditableState:function(n,t){var i=this.getControlControlType(n,t,this.constValue.controlViewMode.input),r;return $.isNull(i)?!1:(r=this.row.getCellEditable(n,t),r&&i!=""&&!["widget.label","widget.gridCell.label"].contains(i))},getControlControlType:function(n,t,i){return this.row.getControlControlType(n,t,i)},setControlValue:function(n,t,i){this.row.setControlValue(n,t,i)},setCaretLinkPosition:function(n,t,i){this.row.setCaretLinkPosition(n,t,i)},getCellByRowDataIndex:function(n,t){return this.row.getCellByRowDataIndex(n,t)},getRowCount:function(n){return this.row.getRowCount(n)},getFirstEmptyRowDataByColumnId:function(n){return this.row.getFirstEmptyRowDataByColumnId(n)},getCellModuleEditLayerActive:function(){return this.row.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n){this.row.deactiveModuleEditLayer(n)},clearAddons:function(){this.row&&this.row.clearAddons&&this.row.clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.row._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){this.row._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){this.row._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){},_ON_SCROLL:function(){}});ecount.class("ecount.gridV3.sectionTbody",null,{init:function(n,t,i,r,u,f){if(_.extend(this,n),this.config=u,this.localConfig=f,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=u.events.gridRelatedEvents,this.tableElement=null,this.isRenderCancel()){this.renderCancel();return}this.sectionTag="tbody";this.madeRows=[];this.row=new ecount.gridV3.sectionTbodyRow(n,t,i,r,u)},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.localConfig;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;delete this.tableElement;this.row&&this.row.destroyAll&&this.row.destroyAll()},makeData:function(n){if(this.config.common.isDrawing&&this.config.common.isDrawCancel)return null;this.row.makeData(n)},getTemplateData:function(){var n=[];return this.config.column.visible||n.push("hide"),this.config.common.columnType==this.constValue.columnType.single?this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.topsubtotal&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.bottomsubtotal&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&n.push("hide"):this.config.common.columnType==this.constValue.columnType.multi&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.topsubtotal&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.bottomsubtotal&&this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&n.push("hide"),$.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,sectionClassname:n,rows:this.row.getMadeRowData()})},setCacheTable:function(n){this.tableElement=n;this.row.setCacheTable(n)},getSectionElement:function(){return this.sectionElement?this.sectionElement:(this.tableElement&&(this.sectionElement=this.tableElement.querySelector(this.sectionTag)),this.sectionElement)},getRowDataById:function(n,t){return this.row.getRowDataById(n,t)},getRowDataByIndex:function(n,t){return this.row.getRowDataByIndex(n,t)},getRowDataIndexById:function(n){return this.row.getRowDataIndexById(n)},getRowIndexById:function(n){return this.row.getRowIndexById(n)},getRowList:function(n,t){return this.row.getRowList(n,t)},getDeletedRowList:function(n){return this.row.getDeletedRowList(n)},addRow:function(n,t,i,r,u){return $.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,rows:this.row.addRow(n,t,i,r,u)})},removeRowData:function(n){this.row.removeRowData(n)},deleteRow:function(n){var r,i,t;for(this.row.deleteRow(n),r=this.getSectionElement(),i=this.row.getRowIndexById(n),t=i.length-1;t>-1;t--)r.removeChild(r.children[i[t]]),this.row.deleteMadeRow(i[t])},moveRow:function(n,t,i,r){this.row.moveRow(n,t,i,r)},changeCheckboxNumber:function(n,t,i){this.row.changeCheckboxNumber(n,t,i)},removeRowClass:function(n,t){var r=this.getSectionElement(),i=r.querySelector("[data-key='"+n+"']");i&&i.classList.remove(t)},deleteValidation:function(n,t){this.row.deleteValidation(n,t)},showCellControlLayer:function(n,t,i){this.row.showCellControlLayer(n,t,i)},showValidationAll:function(){this.row.showValidationAll()},showValidation:function(n,t,i){this.row.showValidation(n,t,i)},redrawCssValidationAllColumn:function(n){this.row.redrawCssValidationAllColumn(n)},getValidationErrorKeyList:function(){return this.row.getValidationErrorKeyList()},getValidationResultInfo:function(n,t){return this.row.getValidationResultInfo(n,t)},getColumnInfoList:function(n,t,i){return this.row.getColumnInfoList(n,t,i)},getColumnById:function(n,t){return this.row.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.row.getColumnByIndex(n,t)},setColumnWidth:function(n,t){this.row.setColumnWidth(n,t)},addColumn:function(n,t,i,r,u){return $.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,rows:this.row.addColumn(n,t,i,r,u)})},getNextColumnById:function(n,t,i){return this.row.getNextColumnById(n,t,i)},getPrevColumnId:function(n,t,i){return this.row.getPrevColumnId(n,t,i)},getColumnFirst:function(n,t,i){return this.row.getColumnFirst(n,t,i)},getColumnLast:function(n,t,i){return this.row.getColumnLast(n,t,i)},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.row.setControlChangeDataTypeAllRowData(n,t,i,r,u,f,e,o,s,h,c,l)},setControlFont:function(n,t,i){this.row.setControlFont(n,t,i)},setControlFontColor:function(n,t,i){this.row.setControlFontColor(n,t,i)},setControlFontSize:function(n,t,i){this.row.setControlFontSize(n,t,i)},setControlFontBold:function(n,t,i){this.row.setControlFontBold(n,t,i)},setControlFontUnderline:function(n,t,i){this.row.setControlFontUnderline(n,t,i)},setControlFontItalic:function(n,t,i){this.row.setControlFontItalic(n,t,i)},setControlFontStrike:function(n,t,i){this.row.setControlFontStrike(n,t,i)},setControlVerticalAlign:function(n,t,i){this.row.setControlVerticalAlign(n,t,i)},setControlHorizontalAlign:function(n,t,i){this.row.setControlHorizontalAlign(n,t,i)},setControlIsBackgroundColor:function(n,t,i){this.row.setControlIsBackgroundColor(n,t,i)},getColumnPropertyName:function(n){return this.row.getColumnPropertyName(n)},getColumnIndex:function(n){return this.row.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.row.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.row.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.row.getColumnMaxColspanCount(n)},setControlToggleShaded:function(n,t,i,r){this.row.setControlToggleShaded(n,t,i,r)},executeShaded:function(n,t,i){this.row.executeShaded(n,t,i)},setControlChecked:function(n,t,i,r,u){return this.row.setControlChecked(n,t,i,r,u)},getCheckboxId:function(){return this.row.getCheckboxId()},getColumnCheckbox:function(){return this.row.getColumnCheckbox()},addCellClass:function(n,t,i){this.row.addCellClass(n,t,i)},removeCellClass:function(n,t,i){this.row.removeCellClass(n,t,i)},hasCellClass:function(n,t,i){return this.row.hasCellClass(n,t,i)},getCell:function(n,t){return this.row.getCell(n,t)},getConvertValue:function(n,t){return this.row.getConvertValue(n,t)},getValue:function(n,t){return this.row.getValue(n,t)},setValue:function(n,t,i,r){return this.row.setValue(n,t,i,r)},setCellByControlIndex:function(n,t,i,r,u){return this.row.setCellByControlIndex(n,t,i,r,u)},refreshCell:function(n,t,i){this.row.refreshCell(n,t,i)},setCellEditable:function(n,t,i){this.row.setCellEditable(n,t,i)},getEditableState:function(n,t){var i=this.getControlControlType(n,t,this.constValue.controlViewMode.input),r;return $.isNull(i)?!1:(r=this.row.getCellEditable(n,t),r&&i!=""&&!["widget.label","widget.gridCell.label"].contains(i))},getControlControlType:function(n,t,i){return this.row.getControlControlType(n,t,i)},setControlValue:function(n,t,i){this.row.setControlValue(n,t,i)},getControlValue:function(n,t){return this.row.getControlValue(n,t)},getControlIsReadOnly:function(n,t){return this.row.getControlIsReadOnly(n,t)},syncControlValueInRowData:function(n,t,i){this.row.syncControlValueInRowData(n,t,i)},setControlFocus:function(n,t){this.row.setControlFocus(n,t)},getCellByRowDataIndex:function(n,t){return this.row.getCellByRowDataIndex(n,t)},getRowCount:function(n){return this.row.getRowCount(n)},getFirstEmptyRowDataByColumnId:function(n){return this.row.getFirstEmptyRowDataByColumnId(n)},getNextRowData:function(n,t){return this.row.getNextRowData(n,t)},getPrevRowData:function(n,t){return this.row.getPrevRowData(n,t)},setControlTreeNodeOpen:function(n,t){this.row.setControlTreeNodeOpen(n,t)},setControlTreeNodeClose:function(n,t){this.row.setControlTreeNodeClose(n,t)},getCellModuleEditLayerActive:function(){return this.row.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n,t){this.row.deactiveModuleEditLayer(n,t)},resetTrHeightColumn:function(n,t,i){this.row.resetTrHeightColumn(n,t,i)},resetTrHeightAllColumn:function(n){this.row.resetTrHeightAllColumn(n)},setControlInstanceValue:function(n,t,i){this.row.setControlInstanceValue(n,t,i)},clearAddons:function(){this.row&&this.row.clearAddons&&this.row.clearAddons()},_ON_REFRESH_ACTIVE_MODULE_POSITION:function(n,t,i,r){this.row._ON_REFRESH_ACTIVE_MODULE_POSITION(n,t,i,r)},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t,i,r){return this.row._ON_CLICK(n,t,i,r)},_ON_CLICK_CUSTOM:function(n,t,i,r){this.row._ON_CLICK_CUSTOM(n,t,i,r)},_ON_DBLCLICK:function(n,t,i,r){this.row._ON_DBLCLICK(n,t,i,r)},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n,t,i,r){this.row._ON_GRID_DEACTIVATE(n,t,i,r)},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_ARROW_DOWN(n,t,i,r)},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r)},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_ARROW_UP(n,t,i,r)},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r)},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_DELETE(n,t,i,r)},_ON_GRID_KEYDOWN_ENTER:function(n,t,i,r){return this.row._ON_GRID_KEYDOWN_ENTER(n,t,i,r)},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){this.row._ON_GRID_KEYDOWN_SPACE(n,t,i,r)},_ON_GRID_KEYUP_ARROW_DOWN:function(n,t,i,r){this.row._ON_GRID_KEYUP_ARROW_DOWN(n,t,i,r)},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(n,t,i,r){this.row._ON_GRID_KEYUP_ARROW_UP(n,t,i,r)},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(n,t,i,r){return this.row._ON_KEYDOWN_TAB(n,t,i,r)},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(n,t,i,r){this.row._ON_MOUSEDOWN(n,t,i,r)},_ON_MOUSEOUT:function(n,t,i,r){this.row._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){this.row._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(n,t,i,r){this.row._ON_GRID_CONTEXTMENU(n,t,i,r)},_ON_SCROLL:function(n,t,i,r){this.row._ON_SCROLL(n,t,i,r)}});ecount.class("ecount.gridV3.sectionTfoot",null,{init:function(n,t,i,r,u){if(_.extend(this,n),this.config=r,this.localConfig=u,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=r.events.gridRelatedEvents,this.tableElement=null,this.isRenderCancel()){this.renderCancel();return}this.sectionTag="tfoot";this.madeRows=[];this.row=new ecount.gridV3.sectionTfootRow(n,t,i,r)},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.localConfig;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;delete this.tableElement;this.row&&this.row.destroyAll&&this.row.destroyAll()},makeData:function(n){this.row.makeData(n)},getTemplateData:function(){var n=[];return this.config.column.visible||n.push("hide"),this.config.common.columnType==this.constValue.columnType.single&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&n.push("hide"),$.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,sectionClassname:n,rows:this.row.getMadeRowData()})},setCacheTable:function(n){this.tableElement=n;this.row.setCacheTable(n)},getSectionElement:function(){return this.sectionElement?this.sectionElement:(this.tableElement&&(this.sectionElement=this.tableElement.querySelector(this.sectionTag)),this.sectionElement)},getRowDataById:function(n,t){return this.row.getRowDataById(n,t)},getRowDataByIndex:function(n,t){return this.row.getRowDataByIndex(n,t)},getRowDataIndexById:function(n){return this.row.getRowDataIndexById(n)},getRowIndexById:function(n){return this.row.getRowIndexById(n)},getRowList:function(){return this.row.getRowList()},removeRowClass:function(n,t){var r=this.getSectionElement(),i=r.querySelector("[data-key='"+n+"']");i&&i.classList.remove(t)},getColumnInfoList:function(n,t,i){return this.row.getColumnInfoList(n,t,i)},getColumnById:function(n,t){return this.row.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.row.getColumnByIndex(n,t)},setColumnWidth:function(n,t){this.row.setColumnWidth(n,t)},addColumn:function(n,t,i,r,u){return $.template(ecount.gridV3.template.section,{sectionTag:this.sectionTag,rows:this.row.addColumn(n,t,i,r,u)})},getNextColumnById:function(n,t){return this.row.getNextColumnById(n,t)},getPrevColumnId:function(n,t){return this.row.getPrevColumnId(n,t)},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.row.setControlChangeDataTypeAllRowData(n,t,i,r,u,f,e,o,s,h,c,l)},getColumnPropertyName:function(n){return this.row.getColumnPropertyName(n)},getColumnIndex:function(n){return this.row.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.row.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.row.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.row.getColumnMaxColspanCount(n)},addCellClass:function(n,t,i){this.row.addCellClass(n,t,i)},removeCellClass:function(n,t,i){this.row.removeCellClass(n,t,i)},getCell:function(n,t){return this.row.getCell(n,t)},getValue:function(n,t){return this.row.getValue(n,t)},setValue:function(n,t,i,r){return this.row.setValue(n,t,i,r)},refreshCell:function(n,t){this.row.refreshCell(n,t)},setCellEditable:function(n,t,i){this.row.setCellEditable(n,t,i)},getEditableState:function(n,t){var i=this.getControlControlType(n,t,this.constValue.controlViewMode.input),r;return $.isNull(i)?!1:(r=this.row.getCellEditable(n,t),r&&i!=""&&!["widget.label","widget.gridCell.label"].contains(i))},getControlControlType:function(n,t,i){return this.row.getControlControlType(n,t,i)},setControlValue:function(n,t,i){this.row.setControlValue(n,t,i)},getControlValue:function(n,t){return this.row.getControlValue(n,t)},getCellByRowDataIndex:function(n,t){return this.row.getCellByRowDataIndex(n,t)},getRowCount:function(n){return this.row.getRowCount(n)},getFirstEmptyRowDataByColumnId:function(n){return this.row.getFirstEmptyRowDataByColumnId(n)},getCellModuleEditLayerActive:function(){return this.row.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n){this.row.deactiveModuleEditLayer(n)},getCell:function(n,t){return this.row.getCell(n,t)},clearAddons:function(){this.row&&this.row.clearAddons&&this.row.clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.row._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){this.row._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){this.row._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){},_ON_SCROLL:function(){}});ecount.class("ecount.gridV3.sectionFooterToolbar",null,{init:function(n,t,i,r,u){_.extend(this,n);_.extend(this,i);this.config=t;this.localConfig=u;this.form=r;this.constValue=ecount.grid.constValue;this.html=""},destroyAll:function(){for(var n=0,t=this.itemList;n<t;n++)this.itemList[n].destroy()},makeData:function(){var n,r,u,i,f,e,t;this.toolbar=widget.generator.toolbar();this.toolbar.setOptions({customToolbarCss:"grid-bottom-toolbar"});n=0;this.config.common.isFreeSizeWidth?n=100:(r=0,this.form.some(function(t){if(t.linechange&&(r+=1),r!=0)return!0;n+=parseInt(t.width,10)}));this.toolbar.width(this.config.common.isFreeSizeWidth?n+"%":n+"px");i="";e="";u=this.controlGenerator.define("widget.gridCell.label","leftPanel","leftPanel");this.leftHTML&&(i+=this.leftHTML);this.isShowPageNo&&(i+="[P."+this.pageIndex+"]");u.label(i);this.toolbar.addLeft(u);f=this.controlGenerator.define("widget.gridCell.label","rightPanel","rightPanel");this.rightHTML&&f.label(this.rightHTML);this.toolbar.addRight(f);t=this.instanceManager.create("ecount.layout.toolbar",this.toolbar.end());t.render($("<div />"));this.id=t.id;this.html=t.$el[0].outerHTML;this.itemList=t.itemList},getTemplateData:function(){return this.html},getControlInstance:function(n){for(var r=this.itemList.slice(0),t,i,u;r.length;){if(t=r.pop(),t.cid==n)return t;if(t.itemList)for(i=0,u=t.itemList.length;i<u;i++)r.push(t.itemList[i])}},changeLeftHTML:function(n,t,i){var e=this.config.layout.container,r,f,u;e&&(r=e.querySelectorAll(".grid-bottom-toolbar"),r&&(f=n=="last"?r[r.length-1]:n=="first"?r[0]:/\d+/g.test(n)?r[n]:r[0],u=f&&f.querySelector(".pull-left"),u&&(i?u.innerHTML+=t:u.innerHTML=t)))},changeRightHTML:function(n,t,i){var e=this.config.layout.container,r,f,u;e&&(r=e.querySelectorAll(".grid-bottom-toolbar"),r&&(f=n=="last"?r[r.length-1]:n=="first"?r[0]:/\d+/g.test(n)?r[n]:r[0],u=f&&f.querySelector(".pull-right"),u&&(i?u.innerHTML+=t:u.innerHTML=t)))}});ecount.class("ecount.gridV3.sectionTheadRow",null,{init:function(n,t,i,r){if(_.extend(this,n),this.config=r,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=r.events.gridRelatedEvents,this.rowDataKeys={},i.forEach(function(n){this.rowDataKeys[n[this.constValue.keyColumnPropertyName]]=n}.bind(this)),this.isRenderCancel()){this.renderCancel();return}this.columns=new ecount.gridV3.sectionTheadColumns(n,t,i[0],r);this.rowDatas=i;this.activeShadedInfos=null},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;this.columns&&this.columns.destroyAll&&this.columns.destroyAll()},makeData:function(n){for(var i=[],t=0,r=this.rowDatas.length;t<r;t++){if(this.isRenderCancel())break;var f=this.rowDatas[t],e=t>0?this.rowDatas[t-1]:null,o=r-1==t?null:this.rowDatas[t+1],u=this.getCreatedRowData(e,f,o,t,n);u.splice(0,0,i.length,0);Array.prototype.splice.apply(i,u)}this.isRenderCancel()&&this.renderCancel();this.madeRows=i},getMadeRowData:function(){return this.madeRows},getCreatedRowData:function(n,t,i,r,u){return this.columns.getCreatedData(n,t,i,r,u)},setCacheTable:function(n){this.tableElement=n;this.columns.setCacheTable(n)},getRowList:function(n,t){var h,r,u,i,e;if(n=n||"",t=t||{},h=t&&t.filterFunc,r=t.exceptRowType,typeof r=="string"&&r!=""&&(r=[r]),u=[],$.isFunction(h)){for(i=0,e=this.rowDatas.length;i<e;i++)if((!r||!r.contains(this.rowDatas[i][this.rowVariableNames.rowType]))&&h(this.rowDatas[i])==!0)if(n){var o=this.columns.getColumnById(n),s=o&&o.propertyName||n,f={};f[this.constValue.keyColumnPropertyName]=this.rowDatas[i][this.constValue.keyColumnPropertyName];f[s]=this.rowDatas[i][s];u.push(f)}else u.push(JSON.parse(Object.toJSON(this.rowDatas[i]).replace(/(\")([\w|\-|\.|\|]+)(\"\:)/gi,function(n){return n.toUpperCase()})))}else for(i=0,e=this.rowDatas.length;i<e;i++)if(!r||!r.contains(this.rowDatas[i][this.rowVariableNames.rowType]))if(n){var o=__core.data.column.getById(sectionType,n),s=o&&o.propertyName||n,f={};f[this.constValue.keyColumnPropertyName]=this.rowDatas[i][this.constValue.keyColumnPropertyName];f[s]=this.rowDatas[i][s];u.push(f)}else u.push(JSON.parse(Object.toJSON(this.rowDatas[i]).replace(/(\")([\w|\-|\.|\|]+)(\"\:)/gi,function(n){return n.toUpperCase()})));return u},getRowDataById:function(n,t){t=t===!0;return this.rowDataKeys[n]},getRowDataByIndex:function(n){return this.rowDatas[n]},getRowDataIndexById:function(n){var t=this.getRowDataById(n);return t&&t[this.constValue.rowCountColumnPropertyName]-1},getRowIndexById:function(n){var t=[],i=ecount.gridV3.utils.escapeHTML(n);return this.madeRows.forEach(function(n,r){n.attrs["data-key"]==i&&t.push(r)}.bind(this)),t},getIndexById:function(n){var t=-1;return this.rowDatas.some(function(i,r){if(i[this.constValue.keyColumnPropertyName]==n)return t=r,!0}.bind(this)),t},getColumnInfoList:function(n,t,i){t=typeof t=="boolean"?t:!1;i=typeof i=="boolean"?i:!1;var r=[];switch(n){case this.constValue.returnType.single:this.columns.columns.some(function(n){if(!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id))return!1;if(n.id){var u=this.columns.getColumnById(n.id,t);u&&r.push(u)}}.bind(this));break;case this.constValue.returnType.multi:r.push([]);this.columns.columns.some(function(n){if(!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id))return!1;n.isLineChange()&&r.push([]);n.id&&r[r.length-1].push(this.columns.getColumnById(n.id,t))}.bind(this))}return r},getColumnById:function(n,t){return this.columns.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.columns.getColumnByIndex(n,t)},getColumnPropertyName:function(n){return this.columns.getColumnPropertyName(n)},getColumnIndex:function(n){return this.columns.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.columns.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.columns.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.columns.getColumnMaxColspanCount(n)},setColumnWidth:function(n,t){this.columns.setColumnWidth(n,t)},addColumn:function(n,t,i,r){for(var o,u,s=this.columns.getColumnById(n),f=this.columns.getColumnIndexById(this.constValue.returnType.single,s.getId())+(t=="right"?1:0),e=0;e<i;e++)o=_.extend(this.config.column.generator.create(),r&&r[e]||{}),this.columns.addColumn(n,t,o),n=o.id;return u=[],this.rowDatas.forEach(function(n,t){var s=t>0?this.rowDatas[t-1]:null,h=this.rowDatas[t+1]?this.rowDatas[t+1]:null,r=this.columns.getCreatedData(s,n,h,t,{columnIndex:f,columnLen:f+i}),e,o;if(r)for(e=0,o=r.length;e<o;e++)r[e].cells.splice(0,0,f,0),Array.prototype.splice.apply(this.madeRows[t].cells,r[e].cells),r[e].cells.splice(0,2);r.splice(0,0,u.length,0);Array.prototype.splice.apply(u,r)}.bind(this)),u},getNextColumnById:function(n,t){var r=this.getRowDataIndexById(t),i;if(r!=-1)return i=this.columns.getNextColumnById(n,r),i&&i.getId()},getPrevColumnId:function(n,t){var r=this.getRowDataIndexById(t),i;if(r!=-1)return i=this.columns.getPrevColumnById(n,r),i&&i.getId()},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.rowDatas.forEach(function(a,v){this.columns.setControlChangeDataType(n,v,t,i,r,u,f,e,o,s,h,c,l)}.bind(this))},setControlShaded:function(n,t,i,r){var u=this.getIndexById(t);u!=-1&&this.columns.setControlShaded(n,u,i,r)},executeShaded:function(n,t){var r=this.getRowDataById(t),i=this.columns.getColumnById(n),u;r&&i&&(u=r[i.propertyName],this.activeShadedInfos&&this.activeShadedInfos.forEach(function(n){this.setControlShaded(n.columnId,n.rowId,"",0)}.bind(this)),this.config.shaded.activeList=[],this.rowDatas.forEach(function(r){if(this.config.shaded.use&&this.config.shaded.columnIds&&this.config.shaded.columnIds.contains(n)){var f=!1;this.config.shaded.keyType=="id"?r[this.constValue.keyColumnPropertyName]==t&&(f=!0):this.config.shaded.keyType=="data"&&(i=this.columns.getColumnById(this.config.shaded.columnIds[n]),r[i.propertyName]==u&&(f=!0));f&&(this.activeShadedInfos.push({columnId:n,rowId:t}),this.setControlShaded(n,t,this.config.shaded.className,0))}}.bind(this)))},setControlChecked:function(n,t,i,r,u){var f=this.getIndexById(t),e;f!=-1&&(e=this.getRowDataById(t),this.columns.setControlChecked(n,f,i,r,e,u))},addCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.addCellClass(n,r,i)},removeCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.removeCellClass(n,r,i)},getCell:function(n,t){var i=this.getRowDataIndexById(t);return i==-1?"":this.columns.getCell(n,i)},getValue:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getValue(n,i)},setValue:function(n,t,i,r){var u=this.getRowDataIndexById(t),f,e;if(u!=-1)return f=this.getRowDataById(t),e=this.columns.setValue(n,u,i,f,r),this.columns.setValue(this.constValue.rowStatePropertyName,u,this.constValue.rowState.changed,f),e},refreshCell:function(n,t,i){var r=this.getRowDataIndexById(t),u;r!=-1&&(u=this.getRowDataById(t),this.columns.refreshCell(n,u,r,i))},setCellEditable:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setCellEditable(n,r,i)},getCellEditable:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getCellEditable(n,i)},getControlControlType:function(n,t,i){var r=this.getIndexById(t);return r==-1?"":this.columns.getControlControlType(n,r,i)},setControlValue:function(n,t,i){var r=this.getIndexById(t);r!=-1&&this.columns.setControlValue(n,r,i)},setCaretLinkPosition:function(n,t,i){var r=this.getIndexById(t);r!=-1&&this.columns.setCaretLinkPosition(n,r,i)},getCellByRowDataIndex:function(n,t){return this.columns.getCell(n,t)},getRowCount:function(n){var t=this.rowDatas.length;return this.rowDatas.some(function(){n.contains(this.constValue.rowCount.type.minusSubTotal)&&(t-=1);n.contains(this.constValue.rowCount.type.minusTotal)&&(t-=1)}.bind(this)),t},getFirstEmptyRowDataByColumnId:function(n){var t=null,i=this.columns.getColumnById(n),r;return i&&(r=this.getRowList(),r.some(function(n,r){var u=i.getValue(r);if(u==undefined||u==null||u=="")return t=n,!0}.bind(this))),t},getCellModuleEditLayerActive:function(){return this.columns.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n){this.columns.deactiveModuleEditLayer(n)},clearAddons:function(){this.columns&&this.columns.clearAddons&&this.columns.clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.config.shaded&&this.config.shaded.use&&this.executeShaded(n.gridColumnID,n.gridDataKey,0);var i=this.getIndexById(n.gridDataKey);i!=-1&&(n.gridRowIndex=i,this.columns._ON_CLICK(n,t))},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){var u=this.getIndexById(n.gridDataKey);u!=-1&&(n.gridRowIndex=u,this.columns._ON_MOUSEOUT(n,t,i,r))},_ON_MOUSEOVER:function(n,t,i,r){var u=this.getIndexById(n.gridDataKey);u!=-1&&(n.gridRowIndex=u,this.columns._ON_MOUSEOVER(n,t,i,r))},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTbodyRow",null,{init:function(n,t,i,r,u){var o,e,f;if(_.extend(this,n),this.config=u,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=u.events.gridRelatedEvents,this.rawForm=t,this.rowDataKeys={},this.isRenderCancel()){this.renderCancel();return}if(this.config.common.isEmptyRowData?(this.rowDatas=[],this.emptyRowData=i):this.rowDatas=i,o=null,e=null,this.rowDatas.some(function(n){var t=n[this.rowVariableNames.rowType];if((t==this.constValue.rowType.separate||this.constValue.pagetotalRex.test(t)||this.constValue.totalRex.test(t))&&(o=n,this.rowDataKeys[n[this.constValue.keyColumnPropertyName]]=n),!e&&[this.constValue.rowType.subtotal,this.constValue.rowType.total].contains(t)&&(e=n),this.isRenderCancel())return!0;this.rowDataKeys[n[this.constValue.keyColumnPropertyName]]=n}.bind(this)),this.columns=new ecount.gridV3.sectionTbodyColumns(n,t,i[0],e,u),this.isRenderCancel()){this.renderCancel();return}f=_.extend({},u);f.rowConfig=f.tfootRowConfig;delete f.tfootRowConfig;r&&(this.tfootColumns=new ecount.gridV3.sectionTfootColumns(n,r,o,f));this.deleteRowDatas=[];this.madeRows=null;this.activeShadedInfos=null},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;this.columns&&this.columns.destroyAll&&this.columns.destroyAll()},makeData:function(n){var u=[],f=this.config.rowConfig.rowDatas,y=f.length,b=y-1,e=[],t,o,i,c,l,r,v;for(e=this.config.common.isEmptyRowData?this.emptyRowData:this.rowDatas,t=0,o=e.length;t<o;t++){if(this.isRenderCancel())break;var s=e[t],h=s[this.constValue.rowCountColumnPropertyName],a=h-1,p=a>0?this.config.rowConfig.rowDatas[a-1]:null,w=f[h]?f[h]:null;if(n.isFirstRowData=t==0,n.isLastRowData=t==o-1,i=this.getCreatedRowData(p,s,w,t,n),this.config.tree&&this.config.tree.use&&(c=this.config.tree.listChildToParent[s[this.constValue.keyColumnPropertyName]],this.rowDataKeys[c]&&(l=this.rowDataKeys[c][this.constValue.rowVariableNames.treeSet],l&&l[this.constValue.rowVariableNames.expand]===!1)))for(r=0,v=i.length;r<v;r++)i[r].className&&!i[r].className.contains("hide")&&i[r].className.push("hide");i.splice(0,0,u.length,0);Array.prototype.splice.apply(u,i)}this.isRenderCancel()&&this.renderCancel();this.madeRows=u},getMadeRowData:function(){return this.madeRows},getCreatedRowData:function(n,t,i,r,u){return[this.constValue.rowType.separate].contains(t[this.rowVariableNames.rowType])||this.constValue.pagetotalRex.test(t[this.rowVariableNames.rowType])||this.constValue.totalRex.test(t[this.rowVariableNames.rowType])?this.tfootColumns.getCreatedData(n,t,i,r,u):this.columns.getCreatedData(n,t,i,r,u)},setDataRenderingTableMap:function(){for(var i,n=0,t=this.rowDatas.length;n<t;n++)i=this.getRowDataByIndex(n),this.columns.createDataRenderingTableMap(0,i,n)},setCacheTable:function(n){this.tableElement=n;this.columns.setCacheTable(n);this.tfootColumns&&this.tfootColumns.setCacheTable(n)},getRowList:function(n,t){var c,r,f,u,o,i;if(n=n||"",t=t||{},c=t&&t.filterFunc,r=t.exceptRowType,typeof r=="string"&&r!=""&&(r=[r]),f=[],$.isFunction(c)){for(u=0,o=this.rowDatas.length;u<o;u++)if((i=this.getRowDataByIndex(u),!r||!r.contains(i[this.rowVariableNames.rowType]))&&c(i)==!0)if(n){var s=this.columns.getColumnById(n),h=s&&s.propertyName||n,e={};e[this.constValue.keyColumnPropertyName]=i[this.constValue.keyColumnPropertyName];e[h]=i[h];f.push(e)}else f.push(JSON.parse(Object.toJSON(i)))}else for(u=0,o=this.rowDatas.length;u<o;u++)if(i=this.getRowDataByIndex(u),!r||!r.contains(i[this.rowVariableNames.rowType]))if(n){var s=__core.data.column.getById(sectionType,n),h=s&&s.propertyName||n,e={};e[this.constValue.keyColumnPropertyName]=i[this.constValue.keyColumnPropertyName];e[h]=i[h];f.push(e)}else f.push(JSON.parse(Object.toJSON(i)));return f},getDeletedRowList:function(n){if(n){var t=[];return this.deleteRowDatas.forEach(function(n){t.push(JSON.parse(Object.toJSON(n)))}),t}return this.deleteRowDatas},getRowDataById:function(n){return this.rowDataKeys[n]},getRowDataByIndex:function(n){return this.rowDatas[n]},getRowDataIndexById:function(n,t){var r,f,e,i,u;if(t=t||{},r=-1,t.useMaxRowLength)return this.rowDatas.length-1;if(this.config.editable.use)return f=this.getRowDataById(n),f&&f[this.constValue.rowCountColumnPropertyName]-1;if(t.separate)for(e=-1,i=0,u=this.rowDatas.length;i<u;i++){if(this.constValue.pagetotalRex.test(this.rowDatas[i][this.rowVariableNames.rowType])||this.constValue.totalRex.test(this.rowDatas[i][this.rowVariableNames.rowType])||this.constValue.separateRex.test(this.rowDatas[i][this.rowVariableNames.rowType]))e+=1;else continue;if(this.rowDatas[i][this.constValue.keyColumnPropertyName]==n){r=e;break}}else for(i=0,u=this.rowDatas.length;i<u;i++)if(this.rowDatas[i][this.constValue.keyColumnPropertyName]==n){r=i;break}return r},getRowIndexById:function(n){var t=[],i=ecount.gridV3.utils.escapeHTML(n);return this.madeRows.forEach(function(n,r){n.attrs["data-key"]==i&&t.push(r)}.bind(this)),t},getRelatedMergeSetRow:function(n){for(var i,t=n;t>-1;t--)if(i=this.getRowDataByIndex(t)&&this.getRowDataByIndex(t)[this.constValue.rowVariableNames.mergeSet],i&&i.length>1)return this.rowDatas[t]},setAddedRowMergeSet:function(n,t){for(var i,e,u=n[this.constValue.rowVariableNames.mergeSet],f=[],r=0,o=u.length;r<o;r++)u[r].type=="MERGE"&&u[r][this.constValue.rowVariableNames.rowspanCount]&&(i=u[r],e=this.getColumnByIndex(this.constValue.returnType.single,i[this.constValue.rowVariableNames.mergeStartIndex]),i[this.constValue.rowVariableNames.rowspanCount]+=1,this.columns.updateDataRenderingTableMap(i.rowIndex,i[this.constValue.rowVariableNames.mergeStartIndex],i),f[i.columnIndex]={columnIndex:i[this.constValue.rowVariableNames.mergeStartIndex],tableIndex:i.tableIndex},delete t[e.propertyName]);f.length&&this.columns.insertRowSpanToRenderingTableMap(t[this.constValue.rowIndexPropertyName],f)},addRow:function(n,t,i,r,u){var o=this.getRowDataIndexById(n),s,v,d,l,y,f,p,a,w,b,h,e,c;if(o!=-1){switch(t){case"up":s=o;break;case"down":s=o+1}for(v=s,d=v+i,e=v,c=this.rowDatas.length;e<c;e++)(o=this.getRowDataIndexById(this.rowDatas[e][this.constValue.keyColumnPropertyName]),o!=-1)&&(l=this.getRowDataByIndex(o),this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName)&&this.columns.setControlIncreaseCheckBoxNumber(this.constValue.checkBoxPropertyName,o,1),l[this.constValue.rowCountColumnPropertyName]+=i,$.isNumber(l[this.constValue.rowIndexPropertyName])&&(l[this.constValue.rowIndexPropertyName]+=i));for(y=[],e=0,c=i;e<c;e++)f={},this.rawForm.forEach(function(n){f[n.propertyName]=""}.bind(this)),f[this.constValue.rowCountColumnPropertyName]=s+1+e,f[this.constValue.rowIndexPropertyName]=s+e,f[this.constValue.rowStatePropertyName]=this.constValue.rowState.create,this.config.rowConfig.additionalDatas&&(f=$.extend(!0,f,this.config.rowConfig.additionalDatas)),f[this.constValue.keyColumnPropertyName]=this.config.rowConfig.rowDataKeyGenerator.get(f),this.config.rowConfig.makeSystemMergeSet(f),this.config.tree&&this.config.tree.use&&(p=f[this.constValue.rowVariableNames.treeSet],p&&(a=p[this.constValue.rowVariableNames.parentGroupId],a&&this.config.tree.listParentToChild[a]&&(this.config.tree.listParentToChild[a].push(f[this.constValue.keyColumnPropertyName]),this.config.tree.listChildToParent[f[this.constValue.keyColumnPropertyName]]=[a]))),f[this.constValue.rowVariableNames.mergeSet]&&f[this.constValue.rowVariableNames.mergeSet].length==1&&(w=this.getRelatedMergeSetRow(f[this.constValue.rowIndexPropertyName]-1),w&&this.setAddedRowMergeSet(w,f)),y.push(f),this.rowDataKeys[f[this.constValue.keyColumnPropertyName]]=f;for(y.splice(0,0,s,0),Array.prototype.splice.apply(this.rowDatas,y),b=this.config.rowConfig.rowDatas,h=[],e=v,c=d;e<c;e++){var l=this.rowDatas[e],k=l[this.constValue.rowCountColumnPropertyName],g=k-1,tt=g>0?this.config.rowConfig.rowDatas[g-1]:null,it=b[k]?b[k]:null,nt=this.columns.addRow(e,t,tt,l,it,e,u);nt.splice(0,0,h.length,0);Array.prototype.splice.apply(h,nt)}return h.splice(0,0,s*this.columns.columnRowCount,0),Array.prototype.splice.apply(this.madeRows,h),h.splice(0,2),h}},removeRowData:function(n){var i=this.getRowDataIndexById(n),t;return i==-1?null:(t=this.getRowDataById(n),this.columns.removeRowData(i,t),t)},deleteRow:function(n){var i=this.getRowDataIndexById(n),t,r;if(i!=-1){for(t=this.rowDatas.length-1;t>=i;t--)t==i?this.columns.deleteRow(i):(this.config.checkbox.getManageUse(this.constValue.checkBoxPropertyName)&&this.columns.setControlDecreaseCheckBoxNumber(this.constValue.checkBoxPropertyName,t,-1),this.rowDatas[t][this.constValue.rowCountColumnPropertyName]-=1,this.rowDatas[t][this.constValue.rowIndexPropertyName]-=1);return r=this.rowDatas.splice(i,1),r[this.constValue.rowStatePropertyName]=r[this.constValue.rowStatePropertyName]==this.constValue.rowState.create?this.constValue.rowState.deletedNew:this.constValue.rowState.deleted,this.deleteRowDatas.push(r),r}},deleteMadeRow:function(n){this.madeRows.splice(n,1)},moveRow:function(n,t,i,r){var s=this.getRowDataIndexById(t),f,e,h,c,o,u,l;if(s!=-1&&(f=this.getRowDataIndexById(i),f!=-1)&&(e=this.getRowIndexById(t),e.length!=0)&&(h=this.getRowIndexById(i),h.length!=0)){c=this.rowDatas.splice(s,1);c.splice(0,0,f,0);Array.prototype.splice.apply(this.rowDatas,c);switch(n){case"up":o=this.madeRows.splice(e[0],e.length);o.splice(0,0,h[0],0);Array.prototype.splice.apply(this.madeRows,o);break;case"down":o=this.madeRows.splice(e[0],e.length);o.splice(0,0,h[h.length-1],0);Array.prototype.splice.apply(this.madeRows,o)}for(this.columns.moveRow(s,f),u=Math.min(s,f),l=Math.max(s,f);u<=l;u++)this.rowDatas[u][this.constValue.rowCountColumnPropertyName]=u+1,r&&this.columns.setControlChangeCheckBoxNumber(this.constValue.checkBoxPropertyName,u,this.rowDatas[u][this.constValue.rowCountColumnPropertyName])}},changeCheckboxNumber:function(n,t,i){var f=this.getRowDataIndexById(n),u,r,e;if(f!=-1&&(u=this.getRowDataIndexById(t,i),u!=-1))for(r=Math.min(f,u),e=Math.max(f,u);r<=e;r++)this.columns.setControlChangeCheckBoxNumber(this.constValue.checkBoxPropertyName,r,this.rowDatas[r][this.constValue.rowCountColumnPropertyName])},deleteValidation:function(n,t){var i=this.getRowDataIndexById(t);i!=-1&&this.columns.deleteValidation(n,i)},showCellControlLayer:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.showCellControlLayer(n,r,i)},showValidationAll:function(){this.rowDatas.some(function(n,t){this.columns.showValidationAll(t)}.bind(this))},showValidation:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.showValidation(n,r,i)},redrawCssValidationAllColumn:function(n){var t=this.getRowDataIndexById(n);t!=-1&&this.columns.redrawCssValidationAllColumn(t)},getValidationErrorKeyList:function(){var n=[];return this.rowDatas.some(function(t,i){var r=this.columns.getValidationErrorKeyList(i);r.forEach(function(n){n.rowKey=t[this.constValue.keyColumnPropertyName]}.bind(this));n=n.concat(r)}.bind(this)),n},getValidationResultInfo:function(n,t){var r=this.getRowDataIndexById(t),i;if(r!=-1)return i=this.columns.getValidationResultInfo(n,r),i.rowKey=t,i},getColumnInfoList:function(n,t,i){t=typeof t=="boolean"?t:!1;i=typeof i=="boolean"?i:!1;var r=[];switch(n){case this.constValue.returnType.single:this.columns.columns.some(function(n){if(!i&&([this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id)||n.__isOnlyDataColumn))return!1;if(n.id){var u=this.columns.getColumnById(n.id,t);u&&r.push(u)}}.bind(this));break;case this.constValue.returnType.multi:r.push([]);this.columns.columns.some(function(n){if(!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id))return!1;n.isLineChange()&&r.push([]);n.id&&r[r.length-1].push(this.columns.getColumnById(n.id,t))}.bind(this))}return r},getColumnById:function(n,t){return this.columns.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.columns.getColumnByIndex(n,t)},getColumnPropertyName:function(n){return this.columns.getColumnPropertyName(n)},getColumnIndex:function(n){return this.columns.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.columns.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.columns.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.columns.getColumnMaxColspanCount(n)},setColumnWidth:function(n,t){this.columns.setColumnWidth(n,t)},addColumn:function(n,t,i,r){for(var o,u,s=this.columns.getColumnById(n),f=this.columns.getColumnIndexById(this.constValue.returnType.single,s.getId())+(t=="right"?1:0),e=0;e<i;e++)o=_.extend(this.config.column.generator.create(),r&&r[e]||{}),this.columns.addColumn(n,t,o),n=o.id;return u=[],this.rowDatas.forEach(function(n,t){var s=t>0?this.rowDatas[t-1]:null,h=this.rowDatas[t+1]?this.rowDatas[t+1]:null,r=this.columns.getCreatedData(s,n,h,t,{columnIndex:f,columnLen:f+i}),e,o;if(r)for(e=0,o=r.length;e<o;e++)r[e].cells.splice(0,0,f,0),Array.prototype.splice.apply(this.madeRows[t].cells,r[e].cells),r[e].cells.splice(0,2);r.splice(0,0,u.length,0);Array.prototype.splice.apply(u,r)}.bind(this)),u},getNextColumnById:function(n,t,i){var r=this.getRowDataIndexById(t),u,f;if(r!=-1)return u=this.getRowDataById(t),f=this.config.keyboard.isMoveCursorIndex?this.columns.getNextColumnByIndex(n,r,u,i):this.columns.getNextColumnById(n,r,u,i.isIncludeSystemColumn),f&&f.getId()},getPrevColumnId:function(n,t,i){var u=this.getRowDataIndexById(t),r;if(u!=-1)return r=this.columns.getPrevColumnById(n,u,i),r&&r.getId()},getColumnFirst:function(n,t,i){var r=this.getRowDataIndexById(t),u;if(r!=-1)return u=this.getRowDataById(t),this.columns.getColumnFirst(r,u,i)},getColumnLast:function(n,t,i){var r=this.getRowDataIndexById(t),u;if(r!=-1)return u=this.getRowDataById(t),this.columns.getColumnLast(r,u,i)},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.rowDatas.forEach(function(a,v){this.columns.setControlChangeDataType(n,v,t,i,r,u,f,e,o,s,h,c,l)}.bind(this))},setControlFont:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFont(n,r,i)},setControlFontColor:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontColor(n,r,i)},setControlFontSize:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontSize(n,r,i)},setControlFontBold:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontBold(n,r,i)},setControlFontUnderline:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontUnderline(n,r,i)},setControlFontItalic:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontItalic(n,r,i)},setControlFontStrike:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlFontStrike(n,r,i)},setControlVerticalAlign:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlVerticalAlign(n,r,i)},setControlHorizontalAlign:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlHorizontalAlign(n,r,i)},setControlIsBackgroundColor:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlIsBackgroundColor(n,r,i)},setControlToggleShaded:function(n,t,i,r,u){var f=this.getRowDataIndexById(t);f!=-1&&this.columns.setControlToggleShaded(n,f,i,r,u)},executeShaded:function(n,t){var u,f,r,i,e;if(this.config.shaded.use&&this.config.shaded.list&&this.config.shaded.list.contains(n)){u=this.config.shaded.deactiveList;for(f in u)for(r=u[f],i=0,e=r.length;i<e;i++)this.setControlToggleShaded(r[i].columnId,r[i].rowId,!1,this.config.shaded.className,0);this.rowDatas.some(function(i){var r,u=!1,e=!1,f;if([this.constValue.rowType.subtotal,this.constValue.rowType.total].contains(i[this.rowVariableNames.rowType])||this.constValue.pagetotalRex.test(i[this.rowVariableNames.rowType])||this.constValue.pagetotalRex.test(i[this.rowVariableNames.rowType]))return!1;this.config.shaded.type=="id"?i[this.constValue.keyColumnPropertyName]==t&&(r=t,u=!0):["data","dataGroup"].contains(this.config.shaded.type)?(column=this.columns.getColumnById(n),i[column.propertyName]==this.config.shaded.data&&(r=this.config.shaded.data,u=!0)):this.config.shaded.type=="groupByKeyColumn"&&this.config.shaded.data&&(f=Object.keys(this.config.shaded.data),e=f.all(function(n){return this.config.shaded.data[n]==i[n]}.bind(this)),e&&(r=this.config.shaded.data[f[0]],u=!0));u&&(this.config.shaded.activeList[r]||(this.config.shaded.activeList[r]=[]),this.config.shaded.activeList[r].push({columnId:n,rowId:i[this.constValue.keyColumnPropertyName]}),this.setControlToggleShaded(n,i[this.constValue.keyColumnPropertyName],!0,this.config.shaded.className,0))}.bind(this))}},setControlChecked:function(n,t,i,r,u){var f=this.getRowDataIndexById(t),e;if(f!=-1)return e=this.getRowDataById(t),this.columns.setControlChecked(n,f,i,r,e,u)},getCheckboxId:function(){return this.columns.getCheckboxId()},addCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.addCellClass(n,r,i)},removeCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.removeCellClass(n,r,i)},hasCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);if(r!=-1)return this.columns.hasCellClass(n,r,i)},getCell:function(n,t){var i=this.getRowDataIndexById(t);return i==-1?"":this.columns.getCell(n,i)},getConvertValue:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getConvertValue(n,i)},getValue:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getValue(n,i)},setValue:function(n,t,i,r){var u=this.getRowDataIndexById(t),f,e;if(u!=-1)return f=this.getRowDataById(t),e=this.columns.setValue(n,u,i,f,r),this.columns.setValue(this.constValue.rowStatePropertyName,u,this.constValue.rowState.changed,f),e},setCellByControlIndex:function(n,t,i,r,u){var f=this.getRowDataIndexById(t),e,o;if(f!=-1)return e=this.getRowDataById(t),o=this.columns.setCellByControlIndex(n,f,i,r,e,u),o},refreshCell:function(n,t,i){var f=this.getRowDataIndexById(t),u,r,o,s;if(f!=-1){if(u=this.getRowDataById(t),u[this.constValue.rowVariableNames.mergeSet]&&u[this.constValue.rowVariableNames.mergeSet].length==1&&(r=this.getRelatedMergeSetRow(f),r)){var e=this,h=r[this.constValue.rowVariableNames.mergeSet],c=h.find(function(t){if(t.type=="MERGE"){var i=e.getColumnByIndex(e.constValue.returnType.single,t[e.constValue.rowVariableNames.mergeStartIndex]);return i.id==n}});c&&(o=this.getRowDataById(r[this.constValue.keyColumnPropertyName]),s=this.getRowIndexById(r[this.constValue.keyColumnPropertyName]),this.columns.refreshCell(n,o,s,i))}this.columns.refreshCell(n,u,f,i)}},setCellEditable:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setCellEditable(n,r,i)},getCellEditable:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getCellEditable(n,i)},getColumnCheckbox:function(){return this.columns.getColumnCheckbox()},getControlControlType:function(n,t,i){var r=this.getRowDataIndexById(t),u;return r==-1?"":(u=this.getRowDataById(t),this.columns.getControlControlType(n,r,i,u))},setControlValue:function(n,t,i){var u=this.getRowDataIndexById(t),r;u!=-1&&(r=this.getRowDataById(t),r[this.constValue.rowStatePropertyName]==this.constValue.rowState.deletedNew?r[this.constValue.rowStatePropertyName]=this.constValue.rowState.create:[this.constValue.rowState.none,this.constValue.rowState.changed,this.constValue.rowState.deleted].contains(r[this.constValue.rowStatePropertyName])&&(r[this.constValue.rowStatePropertyName]=this.constValue.rowState.changed),this.columns.setControlValue(n,u,i)&&this.config.matrixState.use&&(this.config.matrixState.setCell(this.constValue.matrixState.standardLine.row,t,n,{state:r[this.constValue.rowStatePropertyName]}),this.config.matrixState.setCell(this.constValue.matrixState.standardLine.column,n,t,{state:r[this.constValue.rowStatePropertyName]})))},getControlValue:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getControlValue(n,i)},getControlIsReadOnly:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getControlIsReadOnly(n,i)},syncControlValueInRowData:function(n,t,i){var r=this.getRowDataIndexById(t),u;if(r!=-1)return u=this.getRowDataById(t),this.columns.syncControlValueInRowData(n,r,u,i)},setControlFocus:function(n,t,i){var r;if(i=i||{isContinueEvent:!0},r=this.getRowDataIndexById(t),r!=-1){var o=this.getRowDataById(t),u=this.config.common.activeRowId,f=this.config.common.activeColumnId,e=this.config.common.activeSectionType,s=this.columns.setControlFocus(n,r,o,i);switch(s){case"same":return!0;case"other":return this.config.common.deactiveRowId=u,this.config.common.deactiveColumnId=f,this.config.common.deactiveSectionType=e,this.config.common.activeRowId=t,this.config.common.activeColumnId=n,this.config.common.activeSectionType="tbody",!0;case"pass":return!1;default:return this.config.common.deactiveRowId=u,this.config.common.deactiveColumnId=f,this.config.common.deactiveSectionType=e,this.config.common.activeRowId=null,this.config.common.activeColumnId=null,this.config.common.activeSectionType=null,!1}}},getCellByRowDataIndex:function(n,t){return this.columns.getCell(n,t)},getRowCount:function(n){var t=this.rowDatas.length;return this.rowDatas.some(function(){n.contains(this.constValue.rowCount.type.minusSubTotal)&&(t-=1);n.contains(this.constValue.rowCount.type.minusTotal)&&(t-=1)}.bind(this)),t},getFirstEmptyRowDataByColumnId:function(n){var t=null,i=this.columns.getColumnById(n),r;return i&&(r=this.getRowList(),r.some(function(n,r){var u=i.getValue(r);if(u==undefined||u==null||u=="")return t=n,!0}.bind(this))),t},getNextRowData:function(n){var t=this.getRowDataIndexById(n);return t==-1?null:this.rowDatas[t+1]},getPrevRowData:function(n){var t=this.getRowDataIndexById(n);return t==-1?null:this.rowDatas[t-1]},setControlTreeNodeOpen:function(n,t){var i=this.getRowDataIndexById(t);if(i==-1)return null;this.columns.setControlTreeNodeOpen(n,i)},setControlTreeNodeClose:function(n,t){var i=this.getRowDataIndexById(t);if(i==-1)return null;this.columns.setControlTreeNodeClose(n,i)},getCellModuleEditLayerActive:function(){return this.columns.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n,t){this.columns.deactiveModuleEditLayer(n,t)},resetTrHeightColumn:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.resetTrHeightColumn(n,r,i)},resetTrHeightAllColumn:function(n){var t=this.getRowDataIndexById(n);t!=-1&&this.columns.resetTrHeightAllColumn(t)},setControlInstanceValue:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setControlInstanceValue(n,r,i)},setControlInstanceFocus:function(n,t){var i=this.getRowDataIndexById(t);i!=-1&&this.columns.setControlInstanceFocus(n,i)},getFocusableIndex:function(n,t,i){var u=n.which==13,f=!$.isEmpty(t.pcid),r;return isLastComponent=t.getVisibleComponents?n.cindex===t.getVisibleComponents().length-1:!1,i=i||{},f?(r=!isLastComponent&&u?this.columns.getCombineChildIndex(n.gridColumnID,this.getRowDataIndexById(n.gridDataKey),{id:t.id}):this.columns.getCombineFocusableIndex(n.gridColumnID,this.getRowDataIndexById(n.gridDataKey),{id:t.id,index:n.cindex,isPrev:i.isPrev,isFirst:i.isFirst,isLast:i.isLast}),r=$.isEmpty(r)?n.cindex+(i.isPrev?-1:1):r):r=n.cindex+(i.isPrev?-1:1),r},isFirstFocusableIndex:function(n,t){var u=n.cindex===0,i,r;return $.isEmpty(t.pcid)?u:(i=this.getFocusableIndex(n,t,{isFirst:!0}),r=this.columns.getCombineChildIndex(n.gridColumnID,this.getRowDataIndexById(n.gridDataKey),{id:t.id}),i===r)},isLastFocusableIndex:function(n,t){var i,f=n.which!=13,r,u;return(i=t.getVisibleComponents?n.cindex===t.getVisibleComponents().length-1:!0,!$.isEmpty(t.pcid))?(r=this.getFocusableIndex(n,t,{isLast:!0}),u=this.columns.getCombineChildIndex(n.gridColumnID,this.getRowDataIndexById(n.gridDataKey),{id:t.id}),r===u&&(f||i)):i},clearAddons:function(){this.columns&&this.columns.clearAddons&&this.columns.clearAddons()},_ON_REFRESH_ACTIVE_MODULE_POSITION:function(n,t,i,r){var u=this.getRowDataIndexById(this.config.common.activeRowId);u!=-1&&(n.gridRowIndex=u,this.columns._ON_REFRESH_ACTIVE_MODULE_POSITION(n,t,i,r))},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t,i,r){var u,f;if(n.gridColumnSectionType==this.constValue.sectionType.tfoot){if(u=this.getRowDataIndexById(n.gridDataKey,{separate:!0}),u==-1)return;n.gridRowIndex=u;this.tfootColumns._ON_CLICK(n,t,i,r)}else{if(u=this.getRowDataIndexById(n.gridDataKey),u==-1)return;f=this.getRowDataById(n.gridDataKey);n.gridRowIndex=u;n.gridRowData=f;this.columns._ON_CLICK(n,t,i,r)}},_ON_CLICK_CUSTOM:function(n,t,i,r){var u,f;if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){if(u=this.getRowDataIndexById(n.gridDataKey),u==-1)return;f=this.getRowDataById(n.gridDataKey);n.gridRowIndex=u;n.gridRowData=f;this.columns._ON_CLICK_CUSTOM(n,t,i,r)}},_ON_DBLCLICK:function(n,t,i,r){if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){var u=this.getRowDataIndexById(n.gridDataKey);if(u==-1)return;n.gridRowIndex=u;this.columns._ON_DBLCLICK(n,t,i,r)}},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n,t,i,r){if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){var u=this.getRowDataIndexById(this.config.common.activeRowId||"");if(u==-1)return;n.gridRowIndex=u;this.columns._ON_GRID_DEACTIVATE(n,t,i,r)}},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(n,t,i,r){var u,s,h;if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){var c=!1,e=n.gridDataKey,o=n.gridColumnID,f=-1;if(this.config.editable.use){if(!e||!o)return;for(f=this.getRowDataIndexById(e)+1,u=!0,this.config.events.beforeKeydownArrowDownHandler&&(s=this.getValidationResultInfo(r.columnInfo.id,r.rowId),u=this.config.events.beforeKeydownArrowDownHandler({shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.rowData&&r.columnInfo&&r.rowData[r.columnInfo.propertyName]||"",newValue:this.constValue.nativeControlInWidgetCheckbox[i.controlType]?t.target.checked:i.getValue&&i.getValue()||"",isValidationResult:!s.result}),u=$.isNull(u)?!0:u),h=this.rowDatas.length;f<h;f++)if(this.setControlFocus(o,this.rowDatas[f][this.constValue.keyColumnPropertyName],{isContinueEvent:u,keyType:"keydown_down"})){c=!0;break}}}},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r)},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(n,t,i,r){var u,s;if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){var h=!1,e=n.gridDataKey,o=n.gridColumnID,f=-1;if(this.config.editable.use){if(!e||!o)return;for(f=this.getRowDataIndexById(e)-1,u=!0,this.config.events.beforeKeydownArrowUpHandler&&(s=this.getValidationResultInfo(r.columnInfo.id,r.rowId),u=this.config.events.beforeKeydownArrowUpHandler({shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.rowData&&r.columnInfo&&r.rowData[r.columnInfo.propertyName]||"",newValue:this.constValue.nativeControlInWidgetCheckbox[i.controlType]?t.target.checked:i.getValue&&i.getValue()||"",isValidationResult:!s.result}),u=$.isNull(u)?!0:u);f>-1;f--)if(this.setControlFocus(o,this.rowDatas[f][this.constValue.keyColumnPropertyName],{isContinueEvent:u,keyType:"keydown_up"})){h=!0;break}}}},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r)},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_GRID_KEYDOWN_DELETE(n,t,i,r)},_ON_GRID_KEYDOWN_ENTER:function(n,t,i,r){var c,l;if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){if(this.config.editable.use){var o=!1,s=n.gridDataKey,f=n.gridColumnID,u=-1,h=!1,e;if(s||(c=this.getRowDataByIndex(0),s=c&&c[this.constValue.keyColumnPropertyName]),!s)return;if(u=this.getRowDataIndexById(s),f||(e=this.columns.getColumnFirst(u,this.getRowDataByIndex(0)),f=e&&e.getId(),h=!0),!f)return;for(l=this.rowDatas.length;u<l;u++){if(h){if(this.setControlFocus(f,this.rowDatas[u][this.constValue.keyColumnPropertyName],{scrollRightMove:!0,keyType:"keydown_up",type:"first"})){o=!0;break}}else if(this.columns.isControlNextFocus(f,u,this.rowDatas[u])){this.setControlFocus(f,this.rowDatas[u][this.constValue.keyColumnPropertyName],{keyType:"keydown_right"})&&(o=!0);break}else if(i&&this.columns.setControlNextFocus(this.config.keyboard.isMoveCursorIndex?"cursorIndex":"index",f,u,this.rowDatas[u],{isIncludeSystemColumn:!1,editableType:"enable",shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.rowData&&r.columnInfo&&r.rowData[r.columnInfo.propertyName]||"",newValue:this.constValue.nativeControlInWidgetCheckbox[i.controlType]?t.target.checked:i.getValue&&i.getValue()||"",scrollRightMove:!0,keyType:"keydown_right",isLastFocusableIndex:this.isLastFocusableIndex(n,i),isLastComponent:n.cindex===i.getVisibleComponents().length-1,componentIndex:n.cindex+1,index:this.getFocusableIndex(n,i)})){o=!0;break}else{if(e=this.config.keyboard.isMoveCursorIndex?this.columns.getColumnFirstByIndex(u+1,this.getRowDataByIndex(u+1)):this.columns.getColumnFirst(u+1,this.getRowDataByIndex(u+1)),!e)break;f=e.getId()}h=!0}}return o}},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_GRID_KEYDOWN_SPACE(n,t,i,r)},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(n,t,i,r){var c,l,f;if(n.gridColumnSectionType!=this.constValue.sectionType.tfoot){var o=!1,s=n.gridDataKey,e=n.gridColumnID,u=-1,h=!1;if(this.config.editable.use)if(t.shiftKey){if(s||(c=this.rowDatas.length>0?this.getRowDataByIndex(this.rowDatas.length-1):null,s=c&&c[this.constValue.keyColumnPropertyName]),!s)return;if(u=this.getRowDataIndexById(s),e||(f=this.columns.getColumnLast(u,this.getRowDataByIndex(u),!0),e=f&&f.getId(),h=!0),!e)return;for(;u>-1;u--){if(h){if(this.setControlFocus(e,this.rowDatas[u][this.constValue.keyColumnPropertyName],{scrollLeftMove:!0,keyType:"keydown_left",type:"last"})){o=!0;break}}else if(this.columns.setControlPrevFocus(e,u,this.rowDatas[u],{isIncludeSystemColumn:!0,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.rowData&&r.columnInfo&&r.rowData[r.columnInfo.propertyName]||"",newValue:this.constValue.nativeControlInWidgetCheckbox[i.controlType]?t.target.checked:i.getValue&&i.getValue()||"",scrollLeftMove:!0,gridKeyType:n.gridKeyType,keyType:"keydown_left",isFirstFocusableIndex:this.isFirstFocusableIndex(n,i),index:this.getFocusableIndex(n,i,{isPrev:!0})})){o=!0;break}else{if(u-1<0){o=!1;break}if(f=this.columns.getColumnLast(u-1,this.getRowDataByIndex(u-1),!0),f){if([this.constValue.foldColumnPropertyName].contains(f.id)&&(f=this.columns.getPrevColumnById(f.id,u-1,!0),!f))break}else break;e=f.getId()}h=!0}}else{if(s||(c=this.getRowDataByIndex(0),s=c&&c[this.constValue.keyColumnPropertyName]),!s)return;if(u=this.getRowDataIndexById(s),e||(f=this.columns.getColumnFirst(u,this.getRowDataByIndex(u),!0),e=f&&f.getId(),h=!0),!e)return;for(l=this.rowDatas.length;u<l;u++){if(h){if(n.gridIsContinueNextRow===!1){o=!1;break}if(this.setControlFocus(e,this.rowDatas[u][this.constValue.keyColumnPropertyName],{scrollRightMove:!0,keyType:"keydown_right",type:"first"})){o=!0;break}}else if(this.columns.isControlNextFocus(e,u,this.rowDatas[u])){if(this.setControlFocus(e,this.rowDatas[u][this.constValue.keyColumnPropertyName],{keyType:"keydown_right"})){o=!0;break}}else if(ecount.control.lazyLoad(i.controlType),this.columns.setControlNextFocus("index",e,u,this.rowDatas[u],{isIncludeSystemColumn:!0,editableType:"enable",shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData&&r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo&&r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.rowData&&r.columnInfo&&r.rowData[r.columnInfo.propertyName]||"",newValue:this.constValue.nativeControlInWidgetCheckbox[i.controlType]?t.target.checked:i.getValue&&i.getValue()||"",scrollRightMove:!0,gridKeyType:n.gridKeyType,keyType:"keydown_right",isLastFocusableIndex:this.isLastFocusableIndex(n,i),index:this.getFocusableIndex(n,i)})){o=!0;break}else{if(f=this.columns.getColumnFirst(u+1,this.getRowDataByIndex(u+1),!1),!f)break;e=f.getId()}h=!0}}return o}},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_MOUSEDOWN(n,t,i,r)},_ON_MOUSEOUT:function(n,t,i,r){var u,f;if(n.gridColumnSectionType==this.constValue.sectionType.tfoot){if(u=this.getRowDataIndexById(n.gridDataKey,{separate:!0}),u==-1)return;n.gridRowIndex=u;this.tfootColumns._ON_MOUSEOUT(n,t,i,r)}else{if(f=this.getRowDataIndexById(n.gridDataKey),f==-1)return;n.gridRowIndex=f;this.columns._ON_MOUSEOUT(n,t,i,r)}},_ON_MOUSEOVER:function(n,t,i,r){var u;if(n.gridColumnSectionType==this.constValue.sectionType.tfoot){if(u=this.getRowDataIndexById(n.gridDataKey,{separate:!0}),u==-1)return;n.gridRowIndex=u;this.tfootColumns._ON_MOUSEOVER(n,t,i,r)}else{if(u=this.getRowDataIndexById(n.gridDataKey),u==-1)return;n.gridRowIndex=u;this.columns._ON_MOUSEOVER(n,t,i,r)}},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_GRID_CONTEXTMENU(n,t,i,r)},_ON_SCROLL:function(n,t,i,r){n.gridColumnSectionType==this.constValue.sectionType.tfoot||this.columns._ON_SCROLL(n,t,i,r)}});ecount.class("ecount.gridV3.sectionTfootRow",null,{init:function(n,t,i,r){if(_.extend(this,n),this.config=r,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.gridRelatedEvents=r.events.gridRelatedEvents,this.rowDataKeys={},i.forEach(function(n){this.rowDataKeys[n[this.constValue.keyColumnPropertyName]]=n}.bind(this)),this.isRenderCancel()){this.renderCancel();return}this.columns=new ecount.gridV3.sectionTfootColumns(n,t,i[0],r);this.rowDatas=i;this.activeShadedInfos=null},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){delete this.config;delete this.constValue;delete this.rowVariableNames;delete this.gridRelatedEvents;this.columns&&this.columns.destroyAll&&this.columns.destroyAll()},makeData:function(n){for(var i=[],t=0,r=this.rowDatas.length;t<r;t++){if(this.isRenderCancel())break;var f=this.rowDatas[t],e=t>0?this.rowDatas[t-1]:null,o=r-1==t?null:this.rowDatas[t+1],u=this.getCreatedRowData(e,f,o,t,n);u.splice(0,0,i.length,0);Array.prototype.splice.apply(i,u)}this.isRenderCancel()&&this.renderCancel();this.madeRows=i},getMadeRowData:function(){return this.madeRows},getCreatedRowData:function(n,t,i,r,u){return this.columns.getCreatedData(n,t,i,r,u)},setCacheTable:function(n){this.tableElement=n;this.columns.setCacheTable(n)},getRowList:function(n,t){var c,r,f,u,o,i;if(n=n||"",t=t||{},c=t&&t.filterFunc,r=t.exceptRowType,typeof r=="string"&&r!=""&&(r=[r]),f=[],$.isFunction(c)){for(u=0,o=this.rowDatas.length;u<o;u++)if((i=this.columns.getRowData(u),!r||!r.contains(i[this.rowVariableNames.rowType]))&&c(i)==!0)if(n){var s=this.columns.getColumnById(n),h=s&&s.propertyName||n,e={};e[this.constValue.keyColumnPropertyName]=i[this.constValue.keyColumnPropertyName];e[h]=i[h];f.push(e)}else f.push(JSON.parse(Object.toJSON(i).replace(/(\")([\w|\-|\.|\|]+)(\"\:)/gi,function(n){return n.toUpperCase()})))}else for(u=0,o=this.rowDatas.length;u<o;u++)if(i=this.columns.getRowData(u),!r||!r.contains(i[this.rowVariableNames.rowType]))if(n){var s=__core.data.column.getById(sectionType,n),h=s&&s.propertyName||n,e={};e[this.constValue.keyColumnPropertyName]=i[this.constValue.keyColumnPropertyName];e[h]=i[h];f.push(e)}else f.push(JSON.parse(Object.toJSON(i).replace(/(\")([\w|\-|\.|\|]+)(\"\:)/gi,function(n){return n.toUpperCase()})));return f},getRowDataById:function(n,t){t=t===!0;return this.rowDataKeys[n]},getRowDataByIndex:function(n){return this.rowDatas[n]},getRowDataIndexById:function(n){var t=this.getRowDataById(n);return t&&t[this.constValue.rowCountColumnPropertyName]-1},getRowIndexById:function(n){var t=[],i=ecount.gridV3.utils.escapeHTML(n);return this.madeRows.forEach(function(n,r){n.attrs["data-key"]==i&&t.push(r)}.bind(this)),t},getIndexById:function(n){var t=-1;return this.rowDatas.some(function(i,r){if(i[this.constValue.keyColumnPropertyName]==n)return t=r,!0}.bind(this)),t},getColumnInfoList:function(n,t,i){t=typeof t=="boolean"?t:!1;i=typeof i=="boolean"?i:!1;var r=[];switch(n){case this.constValue.returnType.single:this.columns.columns.some(function(n){if(!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id))return!1;if(n.id){var u=this.columns.getColumnById(n.id,t);u&&r.push(u)}}.bind(this));break;case this.constValue.returnType.multi:r.push([]);this.columns.columns.some(function(n){if(!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(n.id))return!1;n.isLineChange()&&r.push([]);n.id&&r[r.length-1].push(this.columns.getColumnById(n.id,t))}.bind(this))}return r},getColumnById:function(n,t){return this.columns.getColumnById(n,t)},getColumnByIndex:function(n,t){return this.columns.getColumnByIndex(n,t)},getColumnPropertyName:function(n){return this.columns.getColumnPropertyName(n)},getColumnIndex:function(n){return this.columns.getColumnIndex(n)},getColumnIndexById:function(n,t,i){return this.columns.getColumnIndexById(n,t,i)},setColumnVisibility:function(n,t){this.columns.setColumnVisibility(n,t)},getColumnMaxColspanCount:function(n){return this.columns.getColumnMaxColspanCount(n)},setColumnWidth:function(n,t){this.columns.setColumnWidth(n,t)},addColumn:function(n,t,i,r){for(var o,u,s=this.columns.getColumnById(n),f=this.columns.getColumnIndexById(this.constValue.returnType.single,s.getId())+(t=="right"?1:0),e=0;e<i;e++)o=_.extend(this.config.column.generator.create(),r&&r[e]||{}),this.columns.addColumn(n,t,o),n=o.id;return u=[],this.rowDatas.forEach(function(n,t){var s=t>0?this.rowDatas[t-1]:null,h=this.rowDatas[t+1]?this.rowDatas[t+1]:null,r=this.columns.getCreatedData(s,n,h,t,{columnIndex:f,columnLen:f+i}),e,o;if(r)for(e=0,o=r.length;e<o;e++)r[e].cells.splice(0,0,f,0),Array.prototype.splice.apply(this.madeRows[t].cells,r[e].cells),r[e].cells.splice(0,2);r.splice(0,0,u.length,0);Array.prototype.splice.apply(u,r)}.bind(this)),u},getNextColumnById:function(n,t){var r=this.getRowDataIndexById(t),i;if(r!=-1)return i=this.columns.getNextColumnById(n,r),i&&i.getId()},getPrevColumnId:function(n,t){var r=this.getRowDataIndexById(t),i;if(r!=-1)return i=this.columns.getPrevColumnById(n,r),i&&i.getId()},setControlChangeDataTypeAllRowData:function(n,t,i,r,u,f,e,o,s,h,c,l){this.rowDatas.forEach(function(a,v){this.columns.setControlChangeDataType(n,v,t,i,r,u,f,e,o,s,h,c,l)}.bind(this))},setControlShaded:function(n,t,i,r){var u=this.getIndexById(t);u!=-1&&this.columns.setControlShaded(n,u,i,r)},executeShaded:function(n,t){var r=this.getRowDataById(t),i=this.columns.getColumnById(n),u;r&&i&&(u=r[i.propertyName],this.activeShadedInfos&&this.activeShadedInfos.forEach(function(n){this.setControlShaded(n.columnId,n.rowId,"",0)}.bind(this)),this.config.shaded.activeList=[],this.rowDatas.forEach(function(r){if(this.config.shaded.use&&this.config.shaded.columnIds&&this.config.shaded.columnIds.contains(n)){var f=!1;this.config.shaded.keyType=="id"?r[this.constValue.keyColumnPropertyName]==t&&(f=!0):this.config.shaded.keyType=="data"&&(i=this.columns.getColumnById(this.config.shaded.columnIds[n]),r[i.propertyName]==u&&(f=!0));f&&(this.activeShadedInfos.push({columnId:n,rowId:t}),this.setControlShaded(n,t,this.config.shaded.className,0))}}.bind(this)))},setControlChecked:function(n,t,i,r){var u=this.getIndexById(t),f;u!=-1&&(f=this.getRowDataById(t),this.columns.setControlChecked(n,u,i,r,f))},addCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.addCellClass(n,r,i)},removeCellClass:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.removeCellClass(n,r,i)},getCell:function(n,t){var i=this.getRowDataIndexById(t);return i==-1?"":this.columns.getCell(n,i)},getValue:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getValue(n,i)},setValue:function(n,t,i,r){var u=this.getRowDataIndexById(t),f,e;if(u!=-1)return f=this.getRowDataById(t),e=this.columns.setValue(n,u,i,f,r),this.columns.setValue(this.constValue.rowStatePropertyName,u,this.constValue.rowState.changed,f),e},refreshCell:function(n,t){var i=this.getRowDataIndexById(t),r;i!=-1&&(r=this.getRowDataById(t),this.columns.refreshCell(n,r,i))},setCellEditable:function(n,t,i){var r=this.getRowDataIndexById(t);r!=-1&&this.columns.setCellEditable(n,r,i)},getCellEditable:function(n,t){var i=this.getRowDataIndexById(t);if(i!=-1)return this.columns.getCellEditable(n,i)},getControlControlType:function(n,t,i){var r=this.getIndexById(t);return r==-1?"":this.columns.getControlControlType(n,r,i)},setControlValue:function(n,t,i){var f=this.getRowDataIndexById(t),e,r,u,o;f!=-1&&(e=this.getRowDataById(t),this.config.column.isAutoCalculate&&this.config.column.autoCalculate[t]&&this.config.column.autoCalculate[t].sourceColumnId.contains(n)&&(oldValue=new Decimal(this.getValue(n,t)||0)),this.columns.setControlValue(n,f,i),this.config.column.isAutoCalculate&&this.config.column.autoCalculate[t]&&this.config.column.autoCalculate[t].sourceColumnId.contains(n)&&(r=this.config.column.autoCalculate[t],u=typeof r.actionType=="function"?r.actionType(e):new Decimal(i),u.equals(oldValue)||(o=new Decimal(this.getControlValue(r.targetColumnId,t)||0),this.setControlValue(r.targetColumnId,t,o.minus(oldValue).plus(u).toString()))))},getControlValue:function(n,t){var i=this.getIndexById(t);if(i!=-1)return this.columns.getControlValue(n,i)},getCellByRowDataIndex:function(n,t){return this.columns.getCell(n,t)},getRowCount:function(n){var t=this.rowDatas.length;return this.rowDatas.some(function(){n.contains(this.constValue.rowCount.type.minusSubTotal)&&(t-=1);n.contains(this.constValue.rowCount.type.minusTotal)&&(t-=1)}.bind(this)),t},getFirstEmptyRowDataByColumnId:function(n){var t=null,i=this.columns.getColumnById(n),r;return i&&(r=this.getRowList(),r.some(function(n,r){var u=i.getValue(r);if(u==undefined||u==null||u=="")return t=n,!0}.bind(this))),t},getCellModuleEditLayerActive:function(){return this.columns.getCellModuleEditLayerActive()},deactiveModuleEditLayer:function(n){this.columns.deactiveModuleEditLayer(n)},clearAddons:function(){this.columns&&this.columns.clearAddons&&this.columns.clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.config.shaded&&this.config.shaded.use&&this.executeShaded(n.gridColumnID,n.gridDataKey,0);var i=this.getIndexById(n.gridDataKey);i!=-1&&(n.gridRowIndex=i,this.columns._ON_CLICK(n,t))},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){var u=this.getIndexById(n.gridDataKey);u!=-1&&(n.gridRowIndex=u,this.columns._ON_MOUSEOUT(n,t,i,r))},_ON_MOUSEOVER:function(n,t,i,r){var u=this.getIndexById(n.gridDataKey);u!=-1&&(n.gridRowIndex=u,this.columns._ON_MOUSEOVER(n,t,i,r))},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTheadColumns",null,{init:function(n,t,i,r){var f,u,e;if(_.extend(this,n),this.columns=[],this.columnKeys={},this.config=r,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.renderingTableMap=[],this.columnRowCount=0,this.columnCountPerRow=0,this.slipStartRowIndex=null,this.slipEndRowIndex=null,this.lineStartRowIndex=null,this.lineEndRowIndex=null,this.topSubTotal1StartRowIndex=null,this.topSubTotal1EndRowIndex=null,this.topSubTotal2StartRowIndex=null,this.topSubTotal2EndRowIndex=null,this.topSubTotal3StartRowIndex=null,this.topSubTotal3EndRowIndex=null,this.topSubTotal4StartRowIndex=null,this.topSubTotal4EndRowIndex=null,this.topSubTotal5StartRowIndex=null,this.topSubTotal5EndRowIndex=null,this.bottomSubTotal1StartRowIndex=null,this.bottomSubTotal1EndRowIndex=null,this.bottomSubTotal1SlipStartRowIndex=null,this.bottomSubTotal1SlipEndRowIndex=null,this.bottomSubTotal2StartRowIndex=null,this.bottomSubTotal2EndRowIndex=null,this.bottomSubTotal2SlipStartRowIndex=null,this.bottomSubTotal2SlipEndRowIndex=null,this.bottomSubTotal3StartRowIndex=null,this.bottomSubTotal3EndRowIndex=null,this.bottomSubTotal3SlipStartRowIndex=null,this.bottomSubTotal3SlipEndRowIndex=null,this.bottomSubTotal4StartRowIndex=null,this.bottomSubTotal4EndRowIndex=null,this.bottomSubTotal4SlipStartRowIndex=null,this.bottomSubTotal4SlipEndRowIndex=null,this.bottomSubTotal5StartRowIndex=null,this.bottomSubTotal5EndRowIndex=null,this.bottomSubTotal5SlipStartRowIndex=null,this.bottomSubTotal5SlipEndRowIndex=null,this.pageTotal1StartRowIndex=null,this.pageTotal11EndRowIndex=null,this.pageTotal1SlipStartRowIndex=null,this.pageTotal1SlipEndRowIndex=null,t.forEach(function(i,u){if(this.isRenderCancel())return!0;(this.columnRowCount==0||i.linechange)&&(this.columnRowCount+=1);this.columnRowCount==1&&(this.columnCountPerRow+=1);var f=this.createColumn(n,i,u,r,{isFirstColumn:u==0||ecount.common.isTrue(i.linechange),isLastColumn:$.isNull(t[u+1])||t[u+1]&&ecount.common.isTrue(t[u+1].linechange)});this.columns.push(f);this.columnKeys[i.id]=f}.bind(this)),this.isRenderCancel()){this.renderCancel();return}for(f in i)[this.rowVariableNames.mergeSet].contains(f)||i.hasOwnProperty(f)&&(u={column:null,columnIndex:-1},t.find(function(n,t){if(n.propertyName==f)return this.column=n,this.columnIndex=t,!0},u),u.columnIndex==-1&&(u.column={id:f,propertyName:this.config.column.propertyNormalizer(f),__isOnlyDataColumn:!0},e=this.createColumn(n,u.column,u.columnIndex,r),this.columns.push(e),this.columnKeys[u.column.id]=e))},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){if(delete this.config,delete this.constValue,delete this.rowVariableNames,this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].destroyAll&&this.columns[n].destroyAll();this.columns=null},getCreatedData:function(n,t,i,r,u){function b(n){var i,r;$.isArray(this.config.rowConfig.trHeights)?i=this.config.rowConfig.trHeights[n]:$.isPlainObject(this.config.rowConfig.trHeights)&&(t[this.constValue.rowVariableNames.rowType]?this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]]&&(i=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]][n]):this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(i=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line][n]));f={attrs:{},styles:{},className:[],cells:[]};p&&f.className.push(p);/^special-row-\d+/g.test(g)||this.constValue.subtotalRex.test(s)||this.constValue.topsubtotalRex.test(s)||this.constValue.bottomsubtotalRex.test(s)||this.constValue.pagetotalRex.test(s)||this.constValue.totalRex.test(s)?f.className.contains("muted")||f.className.push("muted"):this.config.row.styleBackgroundColorDeterminer&&(r=this.config.row.styleBackgroundColorDeterminer(t,n),r&&f.className.push($.isString(r)?r:this.config.row.styleBackgroundColor));i&&(f.styles.height=i)}var k,l,w,tt,o,v,d;columnIndex=u.columnIndex||0;columnLen=u.columnLen||this.columns.length;var y=r*this.columnRowCount,e=0,a=[],f={attrs:{},styles:{},className:[],cells:[]},g=t[this.constValue.keyColumnPropertyName],s=t[this.rowVariableNames.rowType],h=t[this.rowVariableNames.mergeSet],nt={slip:{start:this.getSlipStartRowIndex(),end:this.getSlipEndRowIndex()},line:{start:this.getLineStartRowIndex(),end:this.getLineEndRowIndex()},topSubTotal1:{start:this.getTopSubTotal1StartRowIndex(),end:this.getTopSubTotal1EndRowIndex()},topSubTotal2:{start:this.getTopSubTotal2StartRowIndex(),end:this.getTopSubTotal2EndRowIndex()},topSubTotal3:{start:this.getTopSubTotal3StartRowIndex(),end:this.getTopSubTotal3EndRowIndex()},topSubTotal4:{start:this.getTopSubTotal4StartRowIndex(),end:this.getTopSubTotal4EndRowIndex()},topSubTotal5:{start:this.getTopSubTotal5StartRowIndex(),end:this.getTopSubTotal5EndRowIndex()},bottomSubTotal1:{start:this.getBottomSubTotal1StartRowIndex(),end:this.getBottomSubTotal1EndRowIndex()},bottomSubTotal1Slip:{start:this.getBottomSubTotal1SlipStartRowIndex(),end:this.getBottomSubTotal1SlipEndRowIndex()},bottomSubTotal2:{start:this.getBottomSubTotal2StartRowIndex(),end:this.getBottomSubTotal2EndRowIndex()},bottomSubTotal2Slip:{start:this.getBottomSubTotal2SlipStartRowIndex(),end:this.getBottomSubTotal2SlipEndRowIndex()},bottomSubTotal3:{start:this.getBottomSubTotal3StartRowIndex(),end:this.getBottomSubTotal3EndRowIndex()},bottomSubTotal3Slip:{start:this.getBottomSubTotal3SlipStartRowIndex(),end:this.getBottomSubTotal3SlipEndRowIndex()},bottomSubTotal4:{start:this.getBottomSubTotal4StartRowIndex(),end:this.getBottomSubTotal4EndRowIndex()},bottomSubTotal4Slip:{start:this.getBottomSubTotal4SlipStartRowIndex(),end:this.getBottomSubTotal4SlipEndRowIndex()},bottomSubTotal5:{start:this.getBottomSubTotal5StartRowIndex(),end:this.getBottomSubTotal5EndRowIndex()},bottomSubTotal5Slip:{start:this.getBottomSubTotal5SlipStartRowIndex(),end:this.getBottomSubTotal5SlipEndRowIndex()},pagetot:{start:this.getPageTotal1StartRowIndex(),end:this.getPageTotal1EndRowIndex()},pagetotSlip:{start:this.getPageTotal1SlipStartRowIndex(),end:this.getPageTotal1SlipEndRowIndex()},totalRowCountPerPattern:this.columnRowCount},c=this.getSkipRowLineResult(n,t,i,nt),p="";for(this.createDataRenderingTableMap(0,t,r),this.config.row.styleBoldOnMergeRow&&h&&h.length>0&&!(this.columnRowCount==1&&h.length>0&&h[0][this.rowVariableNames.mergeStartIndex]>=this.columnCountPerRow)&&(k=h.find(function(n){if(n[this.rowVariableNames.isBold])return!0}.bind(this)),k&&(p+=this.constValue.styleClassName.bold+" ")),b.call(this,e),l=0,w=0;columnIndex<columnLen;){if(this.isRenderCancel())break;if(o=this.columns[columnIndex],o.isLineChange()&&(l=0,e+=1),o.id==this.constValue.checkBoxPropertyName&&(tt=o),o.isOnlyDataColumn()){this.getCreatedColumnData(0,t,r,y+e,o,columnIndex+w,l,u);columnIndex+=1;continue}else{if(c&&c[e]){for(v=columnIndex,d=columnIndex+this.columnCountPerRow;v<d;v++)this.columns[v].createEmptyCell(t,r,y+e,columnIndex,u);columnIndex+=this.columnCountPerRow;continue}o.isLineChange()&&(c?($.isNull(c[e-1])||c[e-1]===!1)&&a.push(f):a.push(f),b.call(this,e));f.attrs["data-key"]||(f.attrs["data-key"]=ecount.gridV3.utils.escapeHTML(t[this.constValue.keyColumnPropertyName]));f.cells.push(this.getCreatedColumnData(0,t,r,y+e,o,columnIndex+w,l,u))}columnIndex+=1;l+=1}return this.isRenderCancel()&&this.renderCancel(),a.push(f),a},createColumn:function(n,t,i,r,u){return new ecount.gridV3.sectionTheadColumn(n,t,r,u)},getCreatedColumnData:function(n,t,i,r,u,f,e,o){if(this.renderingTableMap[r]&&this.renderingTableMap[r][e]&&!["MERGE"].contains(this.renderingTableMap[r][e].type))u.createEmptyCell(t,i,r,f,o);else return this.renderingTableMap[r]&&this.renderingTableMap[r][e]&&(this.renderingTableMap[r][e].rowIndex=r),u.getCreatedData(t,i,r,f,o);return null},getSkipRowLineResult:function(n,t,i,r){var u=this.config.rowConfig.skipRowLineRule,f=null;return u&&this.columnRowCount>1&&(f=u(n,t,i,r)),f},createDataRenderingTableMap:function(n,t,i){var r=t[this.rowVariableNames.mergeSet];r&&r.forEach(function(t){for(var r,h=parseInt(t[this.rowVariableNames.mergeStartIndex],10),f=parseInt(t[this.rowVariableNames.colspanCount]||1,10),e=parseInt(t[this.rowVariableNames.rowspanCount]||1,10),a=f-1,v=e-1,s=i*this.columnRowCount+Math.floor(h/this.columnCountPerRow),l=s+e,o,c,u=s;u<l;u++)for(o=Math.floor(h%this.columnCountPerRow),c=o+f,this.renderingTableMap[u]||(this.renderingTableMap[u]=[]),r=o;r<c;r++)(f!=1||e!=1)&&(u==s&&r==o?(t.type="MERGE",t.rowDataIndex=i,t.tableIndex=n,t.rowIndex=-1,t.columnIndex=r,this.renderingTableMap[u][r]=t):e>1&&f>1?this.renderingTableMap[u][r]={type:"ROWSPAN_AND_COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}:e>1&&f==1?this.renderingTableMap[u][r]={type:"ROWSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}:e==1&&f>1&&(this.renderingTableMap[u][r]={type:"COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}))}.bind(this))},setCacheTable:function(n){this.tableElement=n;this.columns.some(function(t){if(t.isOnlyDataColumn())return!1;t.setCacheTable(n)})},getRowData:function(n){var t={};return this.columns.forEach(function(i){var r="";r=i.isOnlyDataColumn()?i.cells&&i.cells[n]&&i.cells[n].value:i.getValue(n);t[i.getPropertyName()]=r}.bind(this)),t},getRowDataId:function(n){var t=null;return this.columns.some(function(i){if(i.isOnlyDataColumn()&&i.getId()==this.constValue.keyColumnPropertyName)return t=i.getRowDataId(n),!0}.bind(this)),t},getRowDataCount:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataCount(n),!0)}.bind(this)),t},getRowDataIndex:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataIndex(n),!0)}.bind(this)),t},getRowDataState:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataState(n),!0)}.bind(this)),t},getColumnById:function(n,t){var r,i;if(t=t===!0,i=r=this.columnKeys[n]||this.columnKeys[this.config.rowConfig.normalizeProperties(n)],t&&i){var u=i.cells,f=i.config,e=i.gridGenerator,o=i.instanceManager,s=i.controlGenerator,h=i.rawColumnInfo,c=i.tableElement;delete i.cells;delete i.config;delete i.gridGenerator;delete i.instanceManager;delete i.controlGenerator;delete i.rawColumnInfo;delete i.tableElement;r=Object.clone(i,!0);i.cells=u;i.config=f;i.gridGenerator=e;i.instanceManager=o;i.controlGenerator=s;i.rawColumnInfo=h;i.tableElement=c}return r},getColumnIndexById:function(n,t,i){i=typeof i=="boolean"?i:!0;var u=-1,r=-1;return this.columns.some(function(f){return f.isOnlyDataColumn()?!1:!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(f.getId())?!1:(n==this.constValue.returnType.multi&&f.isLineChange()&&(r=-1),r+=1,f.getId()==t?(u=r,!0):void 0)}.bind(this)),u},getColumnByIndex:function(n,t){var r=[],i;return n=="single"?this.columns[t]:(n=="multi"&&(i=0,this.columns.some(function(n){if(n.isOnlyDataColumn())return!1;n.isLineChange()&&(i=0);i==t&&r.push(n);i+=1})),r)},getColumnFirst:function(n,t){t=t===!0;var i=null;return this.columns.some(function(r){return!t&&(this.constValue.checkBoxPropertyNameRex.test(r.getId())||this.constValue.rowMoveablePropertyNameRex.test(r.getId())||this.constValue.foldColumnPropertyNameRex.test(r.getId())||this.constValue.rowNumberingPropertyNameRex.test(r.getId()))?!1:r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(n)?!1:(i=r,!0)}.bind(this)),i},getColumnLast:function(n,t,i){var f,u,r;for(i=i===!0,f=null,u=this.columns.length-1;u>-1;u--)if((r=this.columns[u],i||!this.constValue.checkBoxPropertyNameRex.test(r.getId())&&!this.constValue.rowMoveablePropertyNameRex.test(r.getId())&&!this.constValue.foldColumnPropertyNameRex.test(r.getId())&&!this.constValue.rowNumberingPropertyNameRex.test(r.getId()))&&!r.isOnlyDataColumn()&&!r.getIsHideColumn()&&!r.isMergeColumn()&&r.isEditableState(n,t)){f=r;break}return f},getNextColumnById:function(n,t){var i=null;return this.columns.some(function(r,u){return r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(t,rowData)?!1:r.getId()==n?(u+1<this.columns.length&&(i=this.columns[u+1]),!0):void 0}.bind(this)),i},getPrevColumnById:function(n,t){var i=null;return this.columns.some(function(r,u){return r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(t,rowData)?!1:r.getId()==n?(u-1>-1&&(i=this.columns[u-1]),!0):void 0}.bind(this)),i},setColumnVisibility:function(n,t){var i=this.getColumnById(n);i&&i.setColumnVisibility(t)},getColumnMaxColspanCount:function(n){var t=this.getColumnById(n);return t&&t.getColumnMaxColspanCount()||0},getColumnIndex:function(n){var t=this.getColumnById(n);return t&&/\d+/.test(t.index)?parseInt(t.index,10):-1},getColumnPropertyName:function(n){var t=this.getColumnById(n);return t&&t.propertyName},setColumnWidth:function(n,t){var i=this.getColumnById(n);i&&i.setWidth(t)},addColumn:function(n,t,i){var u=this.getColumnIndexById(this.constValue.returnType.single,n);if(u!=-1){var e=i||{},r=u+(t=="right"?1:0),f=this.createColumn({gridGenerator:this.gridGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager,toolbarGenerator:this.toolbarGenerator},e,r,this.config);this.columns[r]?this.columns.splice(r,0,f):this.columns.push(f)}},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=this.getColumnById(n);return v&&v.setControlChangeDataType(t,i,r,u,f,e,o,s,h,c,l,a)},setControlShaded:function(n,t,i,r){var u=this.getColumnById(n);u&&u.setControlShaded(t,i,r)},setControlChecked:function(n,t,i,r,u,f){var e=this.getColumnById(n);e&&e.setControlChecked(t,i,r,u,f)},addCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.addCellClass(t,i)},removeCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.removeCellClass(t,i)},getCell:function(n,t){var i=this.getColumnById(n),r=i&&i.getCell(t);return $.isEmpty(r)?"":r},getValue:function(n,t){var i=this.getColumnById(n);return i&&i.getValue(t)},setValue:function(n,t,i,r,u){var f=this.getColumnById(n);return f&&f.setValue(t,i,r,u)},refreshCell:function(n,t,i,r){var u=this.getColumnById(n);u&&u.refreshCell(t,i,r)},setCellEditable:function(n,t,i){var r=this.getColumnById(n);r&&r.refreshCell(t,i)},getCellEditable:function(n,t){var i=this.getColumnById(n);return i&&i.getCellEditable(t)},getControlControlType:function(n,t,i){var r=this.getColumnById(n);return r&&r.getControlControlType(t,i)},setControlValue:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlValue(t,i)},setCaretLinkPosition:function(n,t,i){var r=this.getColumnById(n);return r&&r.setCaretLinkPosition(t,i)},getSlipStartRowIndex:function(){if(this.slipStartRowIndex!=null)return this.slipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isSlipType()?(n=t,!0):void 0}.bind(this)),this.slipStartRowIndex=n,n},getSlipEndRowIndex:function(){if(this.slipEndRowIndex!=null)return this.slipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isSlipType()&&(n=t)}.bind(this)),this.slipEndRowIndex=n,n},getLineStartRowIndex:function(){if(this.lineStartRowIndex!=null)return this.lineStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isLineType()?(n=t,!0):void 0}.bind(this)),this.lineStartRowIndex=n,n},getLineEndRowIndex:function(){if(this.lineEndRowIndex!=null)return this.lineEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isLineType()&&(n=t)}.bind(this)),this.lineEndRowIndex=n,n},getTopSubTotal1StartRowIndex:function(){if(this.topSubTotal1StartRowIndex!=null)return this.topSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal1()?(n=t,!0):void 0}.bind(this)),this.topSubTotal1StartRowIndex=n,n},getTopSubTotal1EndRowIndex:function(){if(this.topSubTotal1EndRowIndex!=null)return this.topSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal1()&&(n=t)}.bind(this)),this.topSubTotal1EndRowIndex=n,n},getTopSubTotal2StartRowIndex:function(){if(this.topSubTotal2StartRowIndex!=null)return this.topSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal2()?(n=t,!0):void 0}.bind(this)),this.topSubTotal2StartRowIndex=n,n},getTopSubTotal2EndRowIndex:function(){if(this.topSubTotal2EndRowIndex!=null)return this.topSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal2()&&(n=t)}.bind(this)),this.topSubTotal2EndRowIndex=n,n},getTopSubTotal3StartRowIndex:function(){if(this.topSubTotal3StartRowIndex!=null)return this.topSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal3()?(n=t,!0):void 0}.bind(this)),this.topSubTotal3StartRowIndex=n,n},getTopSubTotal3EndRowIndex:function(){if(this.topSubTotal3EndRowIndex!=null)return this.topSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal3()&&(n=t)}.bind(this)),this.topSubTotal3EndRowIndex=n,n},getTopSubTotal4StartRowIndex:function(){if(this.topSubTotal4StartRowIndex!=null)return this.topSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal4()?(n=t,!0):void 0}.bind(this)),this.topSubTotal4StartRowIndex=n,n},getTopSubTotal4EndRowIndex:function(){if(this.topSubTotal4EndRowIndex!=null)return this.topSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal4()&&(n=t)}.bind(this)),this.topSubTotal4EndRowIndex=n,n},getTopSubTotal5StartRowIndex:function(){if(this.topSubTotal5StartRowIndex!=null)return this.topSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal5()?(n=t,!0):void 0}.bind(this)),this.topSubTotal5StartRowIndex=n,n},getTopSubTotal5EndRowIndex:function(){if(this.topSubTotal5EndRowIndex!=null)return this.topSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal5()&&(n=t)}.bind(this)),this.topSubTotal5EndRowIndex=n,n},getBottomSubTotal1StartRowIndex:function(){if(this.bottomSubTotal1StartRowIndex!=null)return this.bottomSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1StartRowIndex=n,n},getBottomSubTotal1EndRowIndex:function(){if(this.bottomSubTotal1EndRowIndex!=null)return this.bottomSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1()&&(n=t)}.bind(this)),this.bottomSubTotal1EndRowIndex=n,n},getBottomSubTotal1SlipStartRowIndex:function(){if(this.bottomSubTotal1SlipStartRowIndex!=null)return this.bottomSubTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1SlipStartRowIndex=n,n},getBottomSubTotal1SlipEndRowIndex:function(){if(this.bottomSubTotal1SlipEndRowIndex!=null)return this.bottomSubTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1Slip()&&(n=t)}.bind(this)),this.bottomSubTotal1SlipEndRowIndex=n,n},getBottomSubTotal2StartRowIndex:function(){if(this.bottomSubTotal2StartRowIndex!=null)return this.bottomSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2StartRowIndex=n,n},getBottomSubTotal2EndRowIndex:function(){if(this.bottomSubTotal2EndRowIndex!=null)return this.bottomSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2()&&(n=t)}.bind(this)),this.bottomSubTotal2EndRowIndex=n,n},getBottomSubTotal2SlipStartRowIndex:function(){if(this.bottomSubTotal2SlipStartRowIndex!=null)return this.bottomSubTotal2SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2SlipStartRowIndex=n,n},getBottomSubTotal2SlipEndRowIndex:function(){if(this.bottomSubTotal2SlipEndRowIndex!=null)return this.bottomSubTotal2SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2Slip()&&(n=t)}.bind(this)),this.bottomSubTotal2SlipEndRowIndex=n,n},getBottomSubTotal3StartRowIndex:function(){if(this.bottomSubTotal3StartRowIndex!=null)return this.bottomSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3StartRowIndex=n,n},getBottomSubTotal3EndRowIndex:function(){if(this.bottomSubTotal3EndRowIndex!=null)return this.bottomSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3()&&(n=t)}.bind(this)),this.bottomSubTotal3EndRowIndex=n,n},getBottomSubTotal3SlipStartRowIndex:function(){if(this.bottomSubTotal3SlipStartRowIndex!=null)return this.bottomSubTotal3SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3SlipStartRowIndex=n,n},getBottomSubTotal3SlipEndRowIndex:function(){if(this.bottomSubTotal3SlipEndRowIndex!=null)return this.bottomSubTotal3SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3Slip()&&(n=t)}.bind(this)),this.bottomSubTotal3SlipEndRowIndex=n,n},getBottomSubTotal4StartRowIndex:function(){if(this.bottomSubTotal4StartRowIndex!=null)return this.bottomSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4StartRowIndex=n,n},getBottomSubTotal4EndRowIndex:function(){if(this.bottomSubTotal4EndRowIndex!=null)return this.bottomSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4()&&(n=t)}.bind(this)),this.bottomSubTotal4EndRowIndex=n,n},getBottomSubTotal4SlipStartRowIndex:function(){if(this.bottomSubTotal4SlipStartRowIndex!=null)return this.bottomSubTotal4SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4SlipStartRowIndex=n,n},getBottomSubTotal4SlipEndRowIndex:function(){if(this.bottomSubTotal4SlipEndRowIndex!=null)return this.bottomSubTotal4SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4Slip()&&(n=t)}.bind(this)),this.bottomSubTotal4SlipEndRowIndex=n,n},getBottomSubTotal5StartRowIndex:function(){if(this.bottomSubTotal5StartRowIndex!=null)return this.bottomSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5StartRowIndex=n,n},getBottomSubTotal5EndRowIndex:function(){if(this.bottomSubTotal5EndRowIndex!=null)return this.bottomSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5()&&(n=t)}.bind(this)),this.bottomSubTotal5EndRowIndex=n,n},getBottomSubTotal5SlipStartRowIndex:function(){if(this.bottomSubTotal5SlipStartRowIndex!=null)return this.bottomSubTotal5SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5SlipStartRowIndex=n,n},getBottomSubTotal5SlipEndRowIndex:function(){if(this.bottomSubTotal5SlipEndRowIndex!=null)return this.bottomSubTotal5SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5Slip()&&(n=t)}.bind(this)),this.bottomSubTotal5SlipEndRowIndex=n,n},getPageTotal1StartRowIndex:function(){if(this.pageTotal1StartRowIndex!=null)return this.pageTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1()?(n=t,!0):void 0}.bind(this)),this.pageTotal1StartRowIndex=n,n},getPageTotal1EndRowIndex:function(){if(this.pageTotal11EndRowIndex!=null)return this.pageTotal11EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1()&&(n=t)}.bind(this)),this.pageTotal11EndRowIndex=n,n},getPageTotal1SlipStartRowIndex:function(){if(this.pageTotal1SlipStartRowIndex!=null)return this.pageTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.pageTotal1SlipStartRowIndex=n,n},getPageTotal1SlipEndRowIndex:function(){if(this.pageTotal1SlipEndRowIndex!=null)return this.pageTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1Slip()&&(n=t)}.bind(this)),this.pageTotal1SlipEndRowIndex=n,n},getCellModuleEditLayerActive:function(){var n;return this.config.editable.use&&this.columns.some(function(t){var i=t.getCellModuleEditLayerActive();if(i)return n=i,!0}),n},deactiveModuleEditLayer:function(n){if(this.config.editable.use){var t;this.columns.some(function(n){if(n.isCellModuleEditLayerActive())return t=n,!0});t&&t.deactiveModuleEditLayer(n)}},clearAddons:function(){if(this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].clearAddons&&this.columns[n].clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){var i=this.getColumnById(n.gridColumnID);i&&i._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTbodyColumns",null,{init:function(n,t,i,r,u){function e(){var i={column:null,columnIndex:-1},r;t.find(function(n,t){if(n.propertyName==f)return this.column=n,this.columnIndex=t,!0},i);i.columnIndex==-1&&(i.column={id:f,propertyName:this.config.column.propertyNormalizer(f),__isOnlyDataColumn:!0},r=this.createColumn(n,i.column,i.columnIndex,u),this.columns.push(r),this.columnKeys[i.column.id]=r)}var f;if(_.extend(this,n),this.columns=[],this.columnKeys={},this.config=u,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.renderingTableMap=[],this.columnRowCount=0,this.columnCountPerRow=0,this.slipStartRowIndex=null,this.slipEndRowIndex=null,this.lineStartRowIndex=null,this.lineEndRowIndex=null,this.topSubTotal1StartRowIndex=null,this.topSubTotal1EndRowIndex=null,this.topSubTotal2StartRowIndex=null,this.topSubTotal2EndRowIndex=null,this.topSubTotal3StartRowIndex=null,this.topSubTotal3EndRowIndex=null,this.topSubTotal4StartRowIndex=null,this.topSubTotal4EndRowIndex=null,this.topSubTotal5StartRowIndex=null,this.topSubTotal5EndRowIndex=null,this.bottomSubTotal1StartRowIndex=null,this.bottomSubTotal1EndRowIndex=null,this.bottomSubTotal1SlipStartRowIndex=null,this.bottomSubTotal1SlipEndRowIndex=null,this.bottomSubTotal2StartRowIndex=null,this.bottomSubTotal2EndRowIndex=null,this.bottomSubTotal2SlipStartRowIndex=null,this.bottomSubTotal2SlipEndRowIndex=null,this.bottomSubTotal3StartRowIndex=null,this.bottomSubTotal3EndRowIndex=null,this.bottomSubTotal3SlipStartRowIndex=null,this.bottomSubTotal3SlipEndRowIndex=null,this.bottomSubTotal4StartRowIndex=null,this.bottomSubTotal4EndRowIndex=null,this.bottomSubTotal4SlipStartRowIndex=null,this.bottomSubTotal4SlipEndRowIndex=null,this.bottomSubTotal5StartRowIndex=null,this.bottomSubTotal5EndRowIndex=null,this.bottomSubTotal5SlipStartRowIndex=null,this.bottomSubTotal5SlipEndRowIndex=null,this.pageTotal1StartRowIndex=null,this.pageTotal11EndRowIndex=null,this.pageTotal1SlipStartRowIndex=null,this.pageTotal1SlipEndRowIndex=null,this.hasComparisonPeriod=!1,t.some(function(i,r){if(this.isRenderCancel())return!0;(this.columnRowCount==0||i.linechange)&&(this.columnRowCount+=1);this.columnRowCount==1&&(this.columnCountPerRow+=1);this.hasComparisonPeriod||(this.hasComparisonPeriod=i.columnType==this.constValue.columnBitmask.comparisonPeriod);var f=this.createColumn(n,i,r,u,{isFirstColumn:r==0||ecount.common.isTrue(i.linechange),isLastColumn:$.isNull(t[r+1])||t[r+1]&&ecount.common.isTrue(t[r+1].linechange)});this.columns.push(f);this.columnKeys[i.id]=f}.bind(this)),this.isRenderCancel()){this.renderCancel();return}for(f in i)[this.rowVariableNames.mergeSet].contains(f)||i.hasOwnProperty(f)&&e.apply(this);if(r)for(f in r)[this.rowVariableNames.mergeSet].contains(f)||r.hasOwnProperty(f)&&(this.columns.find(function(n){return n==f})||e.apply(this))},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){if(delete this.config,delete this.constValue,delete this.rowVariableNames,this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].destroyAll&&this.columns[n].destroyAll();this.columns=null},getCreatedData:function(n,t,i,r,u){function d(r){var o,u,s,h,c;if($.isArray(this.config.rowConfig.trHeights)?o=this.config.rowConfig.trHeights[r]:$.isPlainObject(this.config.rowConfig.trHeights)&&(t[this.constValue.rowVariableNames.rowType]?this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]]&&(o=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]][r]):this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(o=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line][r])),$.isArray(this.config.tfootRowConfig.trHeights)?u=this.config.tfootRowConfig.trHeights[r]:$.isPlainObject(this.config.tfootRowConfig.trHeights)&&(t[this.constValue.rowVariableNames.rowType]?this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]]?u=this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]][r]:this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(u=this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue.line][r]):this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(u=this.config.tfootRowConfig.trHeights[this.constValue.sectionSeparateValue.line][r])),f={attrs:{},styles:{},className:[],cells:[]},w&&f.className.push(w),p&&f.className.push(p%2==0?"tr-even":"tr-odd"),(/^special-row-\d+/g.test(b)||this.constValue.subtotalRex.test(e)||this.constValue.topsubtotalRex.test(e)||this.constValue.bottomsubtotalRex.test(e)||this.constValue.pagetotalRex.test(e)||this.constValue.totalRex.test(e))&&(f.className.contains("muted")||f.className.push("muted")),this.config.rowConfig.styleBackgroundColorDeterminer)s=this.config.rowConfig.styleBackgroundColorDeterminer(t,r),s&&f.className.push($.isString(s)?s:this.config.rowConfig.styleBackgroundColor);else if(this.config.rowConfig.isCrossShade)switch(this.config.rowConfig.crossShadedType){case this.constValue.shadeType.multi:(p%this.config.rowConfig.crossShadedMultiple==0||/(^total$|^subtotal$)/g.test(e))&&(f.className.push(this.config.rowConfig.crossShadedCss),(/^special-row-\d+/g.test(b)||this.constValue.subtotalRex.test(e)||this.constValue.topsubtotalRex.test(e)||this.constValue.bottomsubtotalRex.test(e)||this.constValue.pagetotalRex.test(e)||this.constValue.totalRex.test(e))&&f.className.contains("muted")&&f.className.remove(f.className.indexOf("muted")));break;case this.constValue.shadeType.custom:h=this.config.rowConfig.crossShadedCallback&&this.config.rowConfig.crossShadedCallback({prevRow:n,curRow:t,nextRow:i,etcInfo:k});h&&h.shadeClass&&f.className.push(h.shadeClass)}this.config.rowConfig.showInputFakeOutLine===!0&&(f.className.contains(this.constValue.firstRowCssClass)||f.className.push(this.constValue.firstRowCssClass));f.attrs["data-key"]||(f.attrs["data-key"]=ecount.gridV3.utils.escapeHTML(t[this.constValue.keyColumnPropertyName]));/^separateFooter$|^total$/.test(e)?u&&(f.styles.height=u):o&&(f.styles.height=o);/separateFooter/.test(e)?this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal||(this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data?f.className.contains("hide")||f.className.push("hide"):this.config.tfootRowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&(f.className.contains("hide")||f.className.push("hide"))):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.topsubtotal&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.bottomsubtotal&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal||(this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data?f.className.contains("hide")||f.className.push("hide"):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data?f.className.contains("hide")||f.className.push("hide"):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.topsubtotal?f.className.contains("hide")||f.className.push("hide"):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.bottomsubtotal?f.className.contains("hide")||f.className.push("hide"):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&(f.className.contains("hide")||f.className.push("hide")));this.config.table.borderRemoveHorizontal&&(/separateFooter/.test(e)||this.constValue.subtotalRex.test(e)||this.constValue.topsubtotalRex.test(e)||this.constValue.bottomsubtotalRex.test(e)||this.constValue.pagetotalRex.test(e)||this.constValue.totalRex.test(e),/separateFooter/.test(e)||this.constValue.subtotalRex.test(e)||this.constValue.topsubtotalRex.test(e)||this.constValue.bottomsubtotalRex.test(e)||this.constValue.pagetotalRex.test(e)||this.constValue.totalRex.test(e),n&&(this.constValue.subtotalRex.test(n[this.rowVariableNames.rowType])||this.constValue.topsubtotalRex.test(n[this.rowVariableNames.rowType])||this.constValue.bottomsubtotalRex.test(n[this.rowVariableNames.rowType])||this.constValue.pagetotalRex.test(n[this.rowVariableNames.rowType])||this.constValue.totalRex.test(n[this.rowVariableNames.rowType]))&&r==0,i&&(this.constValue.subtotalRex.test(i[this.rowVariableNames.rowType])||this.constValue.topsubtotalRex.test(i[this.rowVariableNames.rowType])||this.constValue.bottomsubtotalRex.test(i[this.rowVariableNames.rowType])||this.constValue.pagetotalRex.test(i[this.rowVariableNames.rowType])||this.constValue.totalRex.test(i[this.rowVariableNames.rowType]))&&r==this.columnRowCount-1);this.config.table.borderRemoveVertical&&(/separateFooter/.test(e)||this.constValue.subtotalRex.test(e)||this.constValue.topsubtotalRex.test(e)||this.constValue.bottomsubtotalRex.test(e)||this.constValue.pagetotalRex.test(e)||this.constValue.totalRex.test(e));this.config.checkbox&&this.config.checkbox.use&&this.config.checkbox.hasManageRememberCheckedList(this.constValue.checkBoxPropertyName,t[this.constValue.keyColumnPropertyName])&&(c=this.config.checkbox.getManageActiveRowStyle(this.constValue.checkBoxPropertyName),_.isArray(c)&&c.length>0&&(f.className=_.concat(f.className,c)))}var g,c,tt,s,a,nt;columnIndex=u.columnIndex||0;columnLen=u.columnLen||this.columns.length;var v=r*this.columnRowCount,o=0,y=[],f={attrs:{},styles:{},className:[],cells:[]},b=t[this.constValue.keyColumnPropertyName],e=t[this.rowVariableNames.rowType],h=t[this.rowVariableNames.mergeSet],p=$.isNull(t[this.constValue.shadedTbodyRowCountColumnPropertyName])?t[this.constValue.rowCountColumnPropertyName]:t[this.constValue.shadedTbodyRowCountColumnPropertyName],k={slip:{start:this.getSlipStartRowIndex(),end:this.getSlipEndRowIndex()},line:{start:this.getLineStartRowIndex(),end:this.getLineEndRowIndex()},topSubTotal1:{start:this.getTopSubTotal1StartRowIndex(),end:this.getTopSubTotal1EndRowIndex()},topSubTotal2:{start:this.getTopSubTotal2StartRowIndex(),end:this.getTopSubTotal2EndRowIndex()},topSubTotal3:{start:this.getTopSubTotal3StartRowIndex(),end:this.getTopSubTotal3EndRowIndex()},topSubTotal4:{start:this.getTopSubTotal4StartRowIndex(),end:this.getTopSubTotal4EndRowIndex()},topSubTotal5:{start:this.getTopSubTotal5StartRowIndex(),end:this.getTopSubTotal5EndRowIndex()},bottomSubTotal1:{start:this.getBottomSubTotal1StartRowIndex(),end:this.getBottomSubTotal1EndRowIndex()},bottomSubTotal1Slip:{start:this.getBottomSubTotal1SlipStartRowIndex(),end:this.getBottomSubTotal1SlipEndRowIndex()},bottomSubTotal2:{start:this.getBottomSubTotal2StartRowIndex(),end:this.getBottomSubTotal2EndRowIndex()},bottomSubTotal2Slip:{start:this.getBottomSubTotal2SlipStartRowIndex(),end:this.getBottomSubTotal2SlipEndRowIndex()},bottomSubTotal3:{start:this.getBottomSubTotal3StartRowIndex(),end:this.getBottomSubTotal3EndRowIndex()},bottomSubTotal3Slip:{start:this.getBottomSubTotal3SlipStartRowIndex(),end:this.getBottomSubTotal3SlipEndRowIndex()},bottomSubTotal4:{start:this.getBottomSubTotal4StartRowIndex(),end:this.getBottomSubTotal4EndRowIndex()},bottomSubTotal4Slip:{start:this.getBottomSubTotal4SlipStartRowIndex(),end:this.getBottomSubTotal4SlipEndRowIndex()},bottomSubTotal5:{start:this.getBottomSubTotal5StartRowIndex(),end:this.getBottomSubTotal5EndRowIndex()},bottomSubTotal5Slip:{start:this.getBottomSubTotal5SlipStartRowIndex(),end:this.getBottomSubTotal5SlipEndRowIndex()},pagetot:{start:this.getPageTotal1StartRowIndex(),end:this.getPageTotal1EndRowIndex()},pagetotSlip:{start:this.getPageTotal1SlipStartRowIndex(),end:this.getPageTotal1SlipEndRowIndex()},totalRowCountPerPattern:this.columnRowCount},l=this.getSkipRowLineResult(n,t,i,k),w="";for(this.createDataRenderingTableMap(0,t,r),this.config.row.styleBoldOnMergeRow&&h&&h.length>0&&!(this.columnRowCount==1&&h.length>0&&h[0][this.rowVariableNames.mergeStartIndex]>=this.columnCountPerRow)&&(g=h.find(function(n){if(n[this.rowVariableNames.isBold])return!0}.bind(this)),g&&(w+=this.constValue.styleClassName.bold.trim())),d.call(this,o),c=0;columnIndex<columnLen;){if(this.isRenderCancel())break;if(s=this.columns[columnIndex],s.isLineChange()&&(c=0,o+=1,this.config.checkbox.use),s.id==this.constValue.checkBoxPropertyName&&(tt=s),this.config.common.isEmptyRowData)if(this.config.common.columnType==this.constValue.columnType.single){if(this.hasComparisonPeriod){if(o>1)break}else if(o>0)break}else if(this.config.common.columnType==this.constValue.columnType.multi&&o>0)break;if(s.isOnlyDataColumn()){this.getCreatedColumnData(0,t,r,v+o,s,o,columnIndex,c,u);columnIndex+=1;continue}else{if(l&&l[o]){for(a=columnIndex,nt=columnIndex+this.columnCountPerRow;a<nt;a++)this.columns[a].createEmptyCell(t,r,v+o,columnIndex,o,this.columnRowCount,u);columnIndex+=this.columnCountPerRow;continue}s.isLineChange()&&(l&&l[o-1]!==!1||y.push(f),d.call(this,o));this.config.matrixState&&this.config.matrixState.use&&(this.config.matrixState.setCell(this.constValue.matrixState.standardLine.row,t[this.constValue.keyColumnPropertyName],s.getId(),{state:t[this.constValue.rowStatePropertyName]}),this.config.matrixState.setCell(this.constValue.matrixState.standardLine.column,s.getId(),t[this.constValue.keyColumnPropertyName],{state:t[this.constValue.rowStatePropertyName]}));f.cells.push(this.getCreatedColumnData(0,t,r,v+o,s,o,columnIndex,c,u))}columnIndex+=1;c+=1}return this.isRenderCancel()&&this.renderCancel(),y.push(f),y},createColumn:function(n,t,i,r,u){return new ecount.gridV3.sectionTbodyColumn(n,t,r,u)},getCreatedColumnData:function(n,t,i,r,u,f,e,o,s){if(this.renderingTableMap[r]&&this.renderingTableMap[r][o]&&!["MERGE"].contains(this.renderingTableMap[r][o].type))u.createEmptyCell(t,i,r,e,f,this.columnRowCount,s);else return this.renderingTableMap[r]&&this.renderingTableMap[r][o]&&(this.renderingTableMap[r][o].rowIndex=r),u.getCreatedData(t,i,r,e,f,this.columnRowCount,s);return null},getSkipRowLineResult:function(n,t,i,r){var s=this.config.rowConfig.skipRowLineRule,u=null,f,e,h,o,c;if(s&&this.columnRowCount>1&&(u=s(n,t,i,r),this.config.checkbox.use&&(f=t[this.rowVariableNames.mergeSet],e=f&&f.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.config.checkbox.index}.bind(this)),e))){h=Object.keys(u);o=h.length;for(c in u)u[c]&&(o-=1);e[this.rowVariableNames.rowspanCount]=o}return u},updateDataRenderingTableMap:function(n,t,i){this.renderingTableMap[n][t]=_.merge(this.renderingTableMap[n][t],i)},insertRowSpanToRenderingTableMap:function(n,t){for(var i,f,u=[],r=0,e=t.length;r<e;r++)i=t[r],i&&(f=this.createRowSpanCell(i.tableIndex,i.columnIndex),u[r]=_.extend(f,i));this.renderingTableMap.splice(n,0,u)},createDataRenderingTableMap:function(n,t,i){var r=t[this.rowVariableNames.mergeSet];r&&r.forEach(function(t){for(var r,h=parseInt(t[this.rowVariableNames.mergeStartIndex],10),f=parseInt(t[this.rowVariableNames.colspanCount]||1,10),e=parseInt(t[this.rowVariableNames.rowspanCount]||1,10),a=f-1,v=e-1,s=i*this.columnRowCount+Math.floor(h/this.columnCountPerRow),l=s+e,o,c,u=s;u<l;u++)for(o=Math.floor(h%this.columnCountPerRow),c=o+f,this.renderingTableMap[u]||(this.renderingTableMap[u]=[]),r=o;r<c;r++)(f!=1||e!=1)&&(u==s&&r==o?(t.type="MERGE",t.rowDataIndex=i,t.tableIndex=n,t.rowIndex=-1,t.columnIndex=r,this.renderingTableMap[u][r]=t):e>1&&f>1?this.renderingTableMap[u][r]=this.createRowSpanAndColSpanCell(n,r):e>1&&f==1?this.renderingTableMap[u][r]=this.createRowSpanCell(n,r):e==1&&f>1&&(this.renderingTableMap[u][r]=this.createColSpanCell(n,r)))}.bind(this))},createRowSpanAndColSpanCell:function(n,t){return{type:"ROWSPAN_AND_COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:t}},createRowSpanCell:function(n,t){return{type:"ROWSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:t}},createColSpanCell:function(n,t){return{type:"COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:t}},setCacheTable:function(n){this.tableElement=n;this.columns.some(function(t){if(t.isOnlyDataColumn())return!1;t.setCacheTable(n)})},getRowData:function(n){var t={};return this.columns.forEach(function(i){var r="";r=i.isOnlyDataColumn()?i.cells&&i.cells[n]&&i.cells[n].value:i.getValue(n);t[i.getPropertyName()]=r}.bind(this)),t},getRowDataId:function(n){var t=null;return this.columns.some(function(i){if(i.isOnlyDataColumn()&&i.getId()==this.constValue.keyColumnPropertyName)return t=i.getRowDataId(n),!0}.bind(this)),t},getRowDataCount:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataCount(n),!0)}.bind(this)),t},setRowDataCount:function(n,t){var i=null;return this.columns.some(function(r){if(r.isOnlyDataColumn())return!1;i=r.setRowDataCount(n,t)}.bind(this)),i},getRowDataIndex:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataIndex(n),!0)}.bind(this)),t},setRowDataIndex:function(n,t){var i=null;return this.columns.some(function(r){if(r.isOnlyDataColumn())return!1;i=r.setRowDataIndex(n,t)}.bind(this)),i},getRowDataState:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataState(n),!0)}.bind(this)),t},addRow:function(n,t,i,r,u,f,e){function tt(n){var t,c,e,h;if($.isArray(this.config.rowConfig.trHeights)?t=this.config.rowConfig.trHeights[n]:$.isPlainObject(this.config.rowConfig.trHeights)&&(r[this.constValue.rowVariableNames.rowType]?this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[r[this.constValue.rowVariableNames.rowType]]]&&(t=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[r[this.constValue.rowVariableNames.rowType]]][n]):this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(t=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line][n])),o={attrs:{},styles:{},className:[],cells:[]},k&&o.className.push(k),c=$.isNull(r[this.constValue.shadedTbodyRowCountColumnPropertyName])?r[this.constValue.rowCountColumnPropertyName]:r[this.constValue.shadedTbodyRowCountColumnPropertyName],c&&o.className.push(c%2==0?"tr-even":"tr-odd"),/^special-row-\d+/g.test(ft)||this.constValue.subtotalRex.test(s)||this.constValue.topsubtotalRex.test(s)||this.constValue.bottomsubtotalRex.test(s)||this.constValue.pagetotalRex.test(s)||this.constValue.totalRex.test(s))o.className.contains("muted")||o.className.push("muted");else if(this.config.row.styleBackgroundColorDeterminer)e=this.config.row.styleBackgroundColorDeterminer(r,n),e&&o.className.push($.isString(e)?e:this.config.row.styleBackgroundColor);else if(this.config.rowConfig.isCrossShade)switch(this.config.rowConfig.crossShadedType){case this.constValue.shadeType.multi:(f+1)%this.config.rowConfig.crossShadedMultiple==0&&o.className.push(this.config.rowConfig.crossShadedCss);break;case this.constValue.shadeType.custom:h=this.config.rowConfig.crossShadedCallback&&this.config.rowConfig.crossShadedCallback({prevRow:i,curRow:r,nextRow:u,etcInfo:nt});h&&h.shadeClass&&o.className.push(h.shadeClass)}this.config.rowConfig.showInputFakeOutLine===!0&&(o.className.contains(this.constValue.firstRowCssClass)||o.className.push(this.constValue.firstRowCssClass));o.attrs["data-key"]||(o.attrs["data-key"]=ecount.gridV3.utils.escapeHTML(r[this.constValue.keyColumnPropertyName]));t&&(o.styles.height=t);(/separateFooter/.test(s)||this.constValue.subtotalRex.test(s)||this.constValue.topsubtotalRex.test(s)||this.constValue.bottomsubtotalRex.test(s)||this.constValue.pagetotalRex.test(s)||this.constValue.totalRex.test(s))&&(n==0,n==this.columnRowCount-1);this.config.table.borderRemoveVertical&&(/separateFooter/.test(s)||this.constValue.subtotalRex.test(s)||this.constValue.topsubtotalRex.test(s)||this.constValue.bottomsubtotalRex.test(s)||this.constValue.pagetotalRex.test(s)||this.constValue.totalRex.test(s))}var g=f*this.columnRowCount,h=0,w=[],o={attrs:{},styles:{},className:[],cells:[]},ft=r[this.constValue.keyColumnPropertyName],s=r[this.rowVariableNames.rowType],y=r[this.rowVariableNames.mergeSet],nt={slip:{start:this.getSlipStartRowIndex(),end:this.getSlipEndRowIndex()},line:{start:this.getLineStartRowIndex(),end:this.getLineEndRowIndex()},topSubTotal1:{start:this.getTopSubTotal1StartRowIndex(),end:this.getTopSubTotal1EndRowIndex()},topSubTotal2:{start:this.getTopSubTotal2StartRowIndex(),end:this.getTopSubTotal2EndRowIndex()},topSubTotal3:{start:this.getTopSubTotal3StartRowIndex(),end:this.getTopSubTotal3EndRowIndex()},topSubTotal4:{start:this.getTopSubTotal4StartRowIndex(),end:this.getTopSubTotal4EndRowIndex()},topSubTotal5:{start:this.getTopSubTotal5StartRowIndex(),end:this.getTopSubTotal5EndRowIndex()},bottomSubTotal1:{start:this.getBottomSubTotal1StartRowIndex(),end:this.getBottomSubTotal1EndRowIndex()},bottomSubTotal1Slip:{start:this.getBottomSubTotal1SlipStartRowIndex(),end:this.getBottomSubTotal1SlipEndRowIndex()},bottomSubTotal2:{start:this.getBottomSubTotal2StartRowIndex(),end:this.getBottomSubTotal2EndRowIndex()},bottomSubTotal2Slip:{start:this.getBottomSubTotal2SlipStartRowIndex(),end:this.getBottomSubTotal2SlipEndRowIndex()},bottomSubTotal3:{start:this.getBottomSubTotal3StartRowIndex(),end:this.getBottomSubTotal3EndRowIndex()},bottomSubTotal3Slip:{start:this.getBottomSubTotal3SlipStartRowIndex(),end:this.getBottomSubTotal3SlipEndRowIndex()},bottomSubTotal4:{start:this.getBottomSubTotal4StartRowIndex(),end:this.getBottomSubTotal4EndRowIndex()},bottomSubTotal4Slip:{start:this.getBottomSubTotal4SlipStartRowIndex(),end:this.getBottomSubTotal4SlipEndRowIndex()},bottomSubTotal5:{start:this.getBottomSubTotal5StartRowIndex(),end:this.getBottomSubTotal5EndRowIndex()},bottomSubTotal5Slip:{start:this.getBottomSubTotal5SlipStartRowIndex(),end:this.getBottomSubTotal5SlipEndRowIndex()},pagetot:{start:this.getPageTotal1StartRowIndex(),end:this.getPageTotal1EndRowIndex()},pagetotSlip:{start:this.getPageTotal1SlipStartRowIndex(),end:this.getPageTotal1SlipEndRowIndex()},totalRowCountPerPattern:this.columnRowCount},p=this.getSkipRowLineResult(i,r,u,nt),k="",it,v,et,c,rt,a,b,ut,d,l;for(this.createDataRenderingTableMap(0,r,f),this.config.row.styleBoldOnMergeRow&&y&&y.length>0&&!(this.columnRowCount==1&&y.length>0&&y[0][this.rowVariableNames.mergeStartIndex]>=this.columnCountPerRow)&&(it=y.find(function(n){if(n[this.rowVariableNames.isBold])return!0}.bind(this)),it&&(k+=this.constValue.styleClassName.bold+" ")),tt.call(this,h),v=0,c=0,rt=this.columns.length;c<rt;){if(a=this.columns[c],a.isLineChange()&&(v=0,h+=1),a.id==this.constValue.checkBoxPropertyName&&(et=a),this.config.common.isEmptyRowData)if(this.config.common.columnType==this.constValue.columnType.single){if(this.hasComparisonPeriod){if(h>1)break}else if(h>0)break}else if(this.config.common.columnType==this.constValue.columnType.multi&&h>0)break;if(a.isOnlyDataColumn()){a.addRow(n,t,r,f,g+h,c,e);c+=1;continue}else{if(p&&p[h]){for(b=c,ut=c+this.columnCountPerRow;b<ut;b++)this.columns[b].createEmptyCell();c+=this.columnCountPerRow;continue}a.isLineChange()&&(p?($.isNull(p[h-1])||p[h-1]===!1)&&w.push(o):w.push(o),tt.apply(this));d=null;l=g+h;this.renderingTableMap[l]&&this.renderingTableMap[l][v]&&!["MERGE"].contains(this.renderingTableMap[l][v].type)?a.createEmptyCell(r,f,l,c,h,this.columnRowCount,e):(this.renderingTableMap[l]&&this.renderingTableMap[l][v]&&(this.renderingTableMap[l][v].rowIndex=l),d=a.addRow(n,t,r,f,l,c,e));o.cells.push(d)}c+=1;v+=1}return w.push(o),w},removeRowData:function(){},deleteRow:function(n){this.columns.some(function(t){t.deleteCell(n)}.bind(this))},moveRow:function(n,t){this.columns.some(function(i){i.moveRow(n,t)}.bind(this))},getColumnById:function(n,t){var r,i;if(t=t===!0,i=r=this.columnKeys[n]||this.columnKeys[this.config.rowConfig.normalizeProperties(n)],t&&i){var u=i.cells,f=i.config,e=i.gridGenerator,o=i.instanceManager,s=i.controlGenerator,h=i.rawColumnInfo,c=i.tableElement;delete i.cells;delete i.config;delete i.gridGenerator;delete i.instanceManager;delete i.controlGenerator;delete i.rawColumnInfo;delete i.tableElement;r=Object.clone(i,!0);i.cells=u;i.config=f;i.gridGenerator=e;i.instanceManager=o;i.controlGenerator=s;i.rawColumnInfo=h;i.tableElement=c}return r},getColumnIndexById:function(n,t,i){i=typeof i=="boolean"?i:!0;var u=-1,r=-1;return this.columns.some(function(f){return f.isOnlyDataColumn()?!1:!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(f.getId())?!1:(n==this.constValue.returnType.multi&&f.isLineChange()&&(r=-1),r+=1,f.getId()==t?(u=r,!0):void 0)}.bind(this)),u},getColumnByIndex:function(n,t){var r=[],i;return n=="single"?this.columns[t]:(n=="multi"&&(i=0,this.columns.some(function(n){if(n.isOnlyDataColumn())return!1;n.isLineChange()&&(i=0);i==t&&r.push(n);i+=1})),r)},getColumnFirst:function(n,t,i){i=i===!0;var r=null;return this.columns.some(function(u){return!i&&(this.constValue.checkBoxPropertyNameRex.test(u.getId())||this.constValue.rowMoveablePropertyNameRex.test(u.getId())||this.constValue.foldColumnPropertyNameRex.test(u.getId())||this.constValue.rowNumberingPropertyNameRex.test(u.getId()))?!1:u.isOnlyDataColumn()||u.getIsHideColumn()||u.isMergeColumn()||!u.isEditableState(n,t)?!1:(r=u,!0)}.bind(this)),r},getColumnFirstByIndex:function(n,t,i){i=i===!0;var r=-1,f=-1,u;return(this.columns.some(function(e){if(!i&&(this.constValue.checkBoxPropertyNameRex.test(e.getId())||this.constValue.rowMoveablePropertyNameRex.test(e.getId())||this.constValue.foldColumnPropertyNameRex.test(e.getId())||this.constValue.rowNumberingPropertyNameRex.test(e.getId()))||e.isOnlyDataColumn()||e.getIsHideColumn()||e.isMergeColumn()||!e.isEditableState(n,t))return!1;u?(r=e.getCursorIndex(n),_.isNumber(r)&&(r=parseInt(r,10),r>0&&f>r&&(u=e,f=r))):(r=e.getCursorIndex(n),_.isNumber(r)&&(r=parseInt(r,10),r>0&&(f=r,u=e)))}.bind(this)),u)?u:this.getColumnFirst(n,t,i)},getColumnNext:function(){},getColumnLast:function(n,t,i){var f,u,r;for(i=i===!0,f=null,u=this.columns.length-1;u>-1;u--)if((r=this.columns[u],i||!this.constValue.checkBoxPropertyNameRex.test(r.getId())&&!this.constValue.rowMoveablePropertyNameRex.test(r.getId())&&!this.constValue.foldColumnPropertyNameRex.test(r.getId())&&!this.constValue.rowNumberingPropertyNameRex.test(r.getId()))&&!r.isOnlyDataColumn()&&!r.getIsHideColumn()&&!r.isMergeColumn()&&r.isEditableState(n,t)&&!r.getControlIsReadOnly(n)){f=r;break}return f},getNextColumnById:function(n,t,i,r){r=r===!0;var f=null,u=1;return this.columns.some(function(e,o){if(!r&&(this.constValue.checkBoxPropertyNameRex.test(e.getId())||this.constValue.rowMoveablePropertyNameRex.test(e.getId())||this.constValue.foldColumnPropertyNameRex.test(e.getId())||this.constValue.rowNumberingPropertyNameRex.test(e.getId()))||e.isOnlyDataColumn()||e.getIsHideColumn()||e.isMergeColumn()||!e.isEditableState(t,i)||e.getControlIsReadOnly(t))return!1;if(e.getId()==n){while(!f)if(o+u<this.columns.length){if(this.columns[o+u].isOnlyDataColumn()||this.columns[o+u].getIsHideColumn()||this.columns[o+u].isMergeColumn()||!this.columns[o+u].isEditableState(t,i)||this.columns[o+u].getControlIsReadOnly(t)){u+=1;continue}f=this.columns[o+u]}else break;return!0}}.bind(this)),f},getPrevColumnById:function(n,t,i){i=i===!0;var u=null,r=1;return this.columns.some(function(f,e){if(!i&&(this.constValue.checkBoxPropertyNameRex.test(f.getId())||this.constValue.rowMoveablePropertyNameRex.test(f.getId())||this.constValue.foldColumnPropertyNameRex.test(f.getId())||this.constValue.rowNumberingPropertyNameRex.test(f.getId()))||f.isOnlyDataColumn()||f.getIsHideColumn()||f.isMergeColumn()||!f.isEditableState(t,rowData)||f.getControlIsReadOnly(t))return!1;if(f.getId()==n){while(!u)if(e-r>-1){if(this.columns[e-r].isOnlyDataColumn()||this.columns[e-r].getIsHideColumn()||this.columns[e-r].isMergeColumn()||!this.columns[e-r].isEditableState(t,rowData)||this.columns[e-r].getControlIsReadOnly(t)){r+=1;continue}u=this.columns[e-r]}else break;return!0}}.bind(this)),u},getNextColumnByIndex:function(n,t,i,r){var y,l,u,a,e,o;r=r||{isIncludeSystemColumn:!1,editableType:"all"};var v=r.isIncludeSystemColumn,s=r.editableType,f=-1,h,c=this.getColumnById(n);if(!c)return h;if(y=[],c.cursorIndex==0){for(l=this.getColumnIndexById(this.constValue.returnColumnIndexType.single,n),a=!0;a;)u=this.getColumnByIndex(this.constValue.returnType.single,l+1),u&&(u.isOnlyDataColumn()||u.getIsHideColumn()||u.isMergeColumn()||!u.isEditableState(t,i)||u.getControlIsReadOnly(t)||u.isFoldColumn())?l++:a=!1;return u}return e=c.getCursorIndex(t)||1,o=e+1e4,_.isNumber(e)&&(e=parseInt(e,10)),this.columns.some(function(n){if(!v&&(this.constValue.checkBoxPropertyNameRex.test(n.getId())||this.constValue.rowMoveablePropertyNameRex.test(n.getId())||this.constValue.foldColumnPropertyNameRex.test(n.getId())||this.constValue.rowNumberingPropertyNameRex.test(n.getId()))||n.isOnlyDataColumn()||n.getIsHideColumn()||n.isMergeColumn()||n.getControlIsReadOnly(t))return!1;if(s!="all")if(s=="enable"){if(!n.isEditableState(t,i))return!1}else if(s=="disable"&&n.isEditableState(t,i))return!1;f=n.getCursorIndex(t);_.isNumber(f)&&(f=parseInt(f,10),e<f&&f<o&&(o=Math.min(o,f),h=n))}.bind(this)),h},getPrevColumnByIndex:function(){},getColumnCount:function(){var n=0;return this.columns.forEach(function(t){t.isOnlyDataColumn()||/^CHK_H-\d+/.test(t.getId())||/^ROW_MOVEABLE-\d+/.test(t.getId())||/^ROW_NUMBERING-\d+/.test(t.getId())||(n+=1)}.bind(this)),n},setColumnVisibility:function(n,t){var i=this.getColumnById(n);i&&i.setColumnVisibility(t)},getColumnMaxColspanCount:function(n){var t=this.getColumnById(n);return t&&t.getColumnMaxColspanCount()||0},getColumnPropertyName:function(n){var t=this.getColumnById(n);return t&&t.propertyName},setColumnWidth:function(n,t){var i=this.getColumnById(n);i&&i.setWidth(t)},addColumn:function(n,t,i){var u=this.getColumnIndexById(this.constValue.returnType.single,n);if(u!=-1){var e=i||{},r=u+(t=="right"?1:0),f=this.createColumn({gridGenerator:this.gridGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager,toolbarGenerator:this.toolbarGenerator},e,r,this.config);this.columns[r]?this.columns.splice(r,0,f):this.columns.push(f)}},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=this.getColumnById(n);return v&&v.setControlChangeDataType(t,i,r,u,f,e,o,s,h,c,l,a)},setControlFont:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFont(t,i)},setControlFontColor:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontColor(t,i)},setControlFontSize:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontSize(t,i)},setControlFontBold:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontBold(t,i)},setControlFontUnderline:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontUnderline(t,i)},setControlFontItalic:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontItalic(t,i)},setControlFontStrike:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlFontStrike(t,i)},setControlVerticalAlign:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlVerticalAlign(t,i)},setControlHorizontalAlign:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlHorizontalAlign(t,i)},setControlIsBackgroundColor:function(n,t,i){var r=this.getColumnById(n);r&&r.setControlIsBackgroundColor(t,i)},getSlipStartRowIndex:function(){if(this.slipStartRowIndex!=null)return this.slipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isSlipType()?(n=t,!0):void 0}.bind(this)),this.slipStartRowIndex=n,n},getSlipEndRowIndex:function(){if(this.slipEndRowIndex!=null)return this.slipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isSlipType()&&(n=t)}.bind(this)),this.slipEndRowIndex=n,n},getLineStartRowIndex:function(){if(this.lineStartRowIndex!=null)return this.lineStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isLineType()?(n=t,!0):void 0}.bind(this)),this.lineStartRowIndex=n,n},getLineEndRowIndex:function(){if(this.lineEndRowIndex!=null)return this.lineEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isLineType()&&(n=t)}.bind(this)),this.lineEndRowIndex=n,n},getTopSubTotal1StartRowIndex:function(){if(this.topSubTotal1StartRowIndex!=null)return this.topSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal1()?(n=t,!0):void 0}.bind(this)),this.topSubTotal1StartRowIndex=n,n},getTopSubTotal1EndRowIndex:function(){if(this.topSubTotal1EndRowIndex!=null)return this.topSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal1()&&(n=t)}.bind(this)),this.topSubTotal1EndRowIndex=n,n},getTopSubTotal2StartRowIndex:function(){if(this.topSubTotal2StartRowIndex!=null)return this.topSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal2()?(n=t,!0):void 0}.bind(this)),this.topSubTotal2StartRowIndex=n,n},getTopSubTotal2EndRowIndex:function(){if(this.topSubTotal2EndRowIndex!=null)return this.topSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal2()&&(n=t)}.bind(this)),this.topSubTotal2EndRowIndex=n,n},getTopSubTotal3StartRowIndex:function(){if(this.topSubTotal3StartRowIndex!=null)return this.topSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal3()?(n=t,!0):void 0}.bind(this)),this.topSubTotal3StartRowIndex=n,n},getTopSubTotal3EndRowIndex:function(){if(this.topSubTotal3EndRowIndex!=null)return this.topSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal3()&&(n=t)}.bind(this)),this.topSubTotal3EndRowIndex=n,n},getTopSubTotal4StartRowIndex:function(){if(this.topSubTotal4StartRowIndex!=null)return this.topSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal4()?(n=t,!0):void 0}.bind(this)),this.topSubTotal4StartRowIndex=n,n},getTopSubTotal4EndRowIndex:function(){if(this.topSubTotal4EndRowIndex!=null)return this.topSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal4()&&(n=t)}.bind(this)),this.topSubTotal4EndRowIndex=n,n},getTopSubTotal5StartRowIndex:function(){if(this.topSubTotal5StartRowIndex!=null)return this.topSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal5()?(n=t,!0):void 0}.bind(this)),this.topSubTotal5StartRowIndex=n,n},getTopSubTotal5EndRowIndex:function(){if(this.topSubTotal5EndRowIndex!=null)return this.topSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal5()&&(n=t)}.bind(this)),this.topSubTotal5EndRowIndex=n,n},getBottomSubTotal1StartRowIndex:function(){if(this.bottomSubTotal1StartRowIndex!=null)return this.bottomSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1StartRowIndex=n,n},getBottomSubTotal1EndRowIndex:function(){if(this.bottomSubTotal1EndRowIndex!=null)return this.bottomSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1()&&(n=t)}.bind(this)),this.bottomSubTotal1EndRowIndex=n,n},getBottomSubTotal1SlipStartRowIndex:function(){if(this.bottomSubTotal1SlipStartRowIndex!=null)return this.bottomSubTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1SlipStartRowIndex=n,n},getBottomSubTotal1SlipEndRowIndex:function(){if(this.bottomSubTotal1SlipEndRowIndex!=null)return this.bottomSubTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1Slip()&&(n=t)}.bind(this)),this.bottomSubTotal1SlipEndRowIndex=n,n},getBottomSubTotal2StartRowIndex:function(){if(this.bottomSubTotal2StartRowIndex!=null)return this.bottomSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2StartRowIndex=n,n},getBottomSubTotal2EndRowIndex:function(){if(this.bottomSubTotal2EndRowIndex!=null)return this.bottomSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2()&&(n=t)}.bind(this)),this.bottomSubTotal2EndRowIndex=n,n},getBottomSubTotal2SlipStartRowIndex:function(){if(this.bottomSubTotal2SlipStartRowIndex!=null)return this.bottomSubTotal2SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2SlipStartRowIndex=n,n},getBottomSubTotal2SlipEndRowIndex:function(){if(this.bottomSubTotal2SlipEndRowIndex!=null)return this.bottomSubTotal2SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2Slip()&&(n=t)}.bind(this)),this.bottomSubTotal2SlipEndRowIndex=n,n},getBottomSubTotal3StartRowIndex:function(){if(this.bottomSubTotal3StartRowIndex!=null)return this.bottomSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3StartRowIndex=n,n},getBottomSubTotal3EndRowIndex:function(){if(this.bottomSubTotal3EndRowIndex!=null)return this.bottomSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3()&&(n=t)}.bind(this)),this.bottomSubTotal3EndRowIndex=n,n},getBottomSubTotal3SlipStartRowIndex:function(){if(this.bottomSubTotal3SlipStartRowIndex!=null)return this.bottomSubTotal3SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3SlipStartRowIndex=n,n},getBottomSubTotal3SlipEndRowIndex:function(){if(this.bottomSubTotal3SlipEndRowIndex!=null)return this.bottomSubTotal3SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3Slip()&&(n=t)}.bind(this)),this.bottomSubTotal3SlipEndRowIndex=n,n},getBottomSubTotal4StartRowIndex:function(){if(this.bottomSubTotal4StartRowIndex!=null)return this.bottomSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4StartRowIndex=n,n},getBottomSubTotal4EndRowIndex:function(){if(this.bottomSubTotal4EndRowIndex!=null)return this.bottomSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4()&&(n=t)}.bind(this)),this.bottomSubTotal4EndRowIndex=n,n},getBottomSubTotal4SlipStartRowIndex:function(){if(this.bottomSubTotal4SlipStartRowIndex!=null)return this.bottomSubTotal4SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4SlipStartRowIndex=n,n},getBottomSubTotal4SlipEndRowIndex:function(){if(this.bottomSubTotal4SlipEndRowIndex!=null)return this.bottomSubTotal4SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4Slip()&&(n=t)}.bind(this)),this.bottomSubTotal4SlipEndRowIndex=n,n},getBottomSubTotal5StartRowIndex:function(){if(this.bottomSubTotal5StartRowIndex!=null)return this.bottomSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5StartRowIndex=n,n},getBottomSubTotal5EndRowIndex:function(){if(this.bottomSubTotal5EndRowIndex!=null)return this.bottomSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5()&&(n=t)}.bind(this)),this.bottomSubTotal5EndRowIndex=n,n},getBottomSubTotal5SlipStartRowIndex:function(){if(this.bottomSubTotal5SlipStartRowIndex!=null)return this.bottomSubTotal5SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5SlipStartRowIndex=n,n},getBottomSubTotal5SlipEndRowIndex:function(){if(this.bottomSubTotal5SlipEndRowIndex!=null)return this.bottomSubTotal5SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5Slip()&&(n=t)}.bind(this)),this.bottomSubTotal5SlipEndRowIndex=n,n},getPageTotal1StartRowIndex:function(){if(this.pageTotal1StartRowIndex!=null)return this.pageTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1()?(n=t,!0):void 0}.bind(this)),this.pageTotal1StartRowIndex=n,n},getPageTotal1EndRowIndex:function(){if(this.pageTotal11EndRowIndex!=null)return this.pageTotal11EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1()&&(n=t)}.bind(this)),this.pageTotal11EndRowIndex=n,n},getPageTotal1SlipStartRowIndex:function(){if(this.pageTotal1SlipStartRowIndex!=null)return this.pageTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.pageTotal1SlipStartRowIndex=n,n},getPageTotal1SlipEndRowIndex:function(){if(this.pageTotal1SlipEndRowIndex!=null)return this.pageTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1Slip()&&(n=t)}.bind(this)),this.pageTotal1SlipEndRowIndex=n,n},getCheckboxId:function(){var n;return this.columns.some(function(t){var i=t.getId();if(i.test(this.constValue.checkBoxPropertyNameRex)&&t.getControlType()=="widget.checkbox")return n=i,!0}.bind(this)),n},deleteValidation:function(n,t){var i=this.getColumnById(n);i&&i.deleteValidation(t)},showCellControlLayer:function(n,t,i){var r=this.getColumnById(n);r&&r.showCellControlLayer(t,i)},showValidationAll:function(n){this.columns.some(function(t){if(t.isOnlyDataColumn()||t.isValidation())return!1;t.showUIValidation(n,{})}.bind(this))},showValidation:function(n,t,i){var r=this.getColumnById(n);r&&r.showValidation(t,i)},redrawCssValidationAllColumn:function(n){for(var t=0,i=this.columns.length;t<i;t++)this.columns[t].redrawCssValidation(n)},getValidationErrorKeyList:function(n){var t=[];return this.columns.some(function(i){if(i.isOnlyDataColumn()||i.isValidation(n))return!1;var r=this.getValidationResultInfo(i.getId(),n);t.push(r)}.bind(this)),t},getValidationResultInfo:function(n,t){var i=this.getColumnById(n);return i&&i.getValidationResultInfo(t)},getColumnNextFocus:function(n){var r=null,f=null,t=0,i,u;if(this.columns.some(function(n,i){if(n.isCellModuleEditLayerActive())return f=n,t=i,!0}),this.config.common.moveCursorType!=this.constValue.moveCursorType.index){for(u=this.columns.length;t<u;t++)if(!this.columns[t].isOnlyDataColumn()&&!["widget.label","widget.gridCell.label","",null,undefined].contains(this.columns[t].getControlOptionControlType())){r=this.columns[t];break}if(!r&&!n&&t==this.columns.length)for(i=0,u=this.columns.length;i<u;i++)if(!this.columns[i].isOnlyDataColumn()&&!["widget.label","widget.gridCell.label","",null,undefined].contains(this.columns[i].getControlOptionControlType())){r=this.columns[i];break}}return r},setControlToggleShaded:function(n,t,i,r,u){var f=this.getColumnById(n,t%this.columnRowCount);f&&f.setControlToggleShaded(t,i,r,u)},setControlChecked:function(n,t,i,r,u,f){var e=this.getColumnById(n);return e&&e.setControlChecked(t,i,r,u,f)},setControlIncreaseCheckBoxNumber:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlIncreaseCheckBoxNumber(t,i)},setControlDecreaseCheckBoxNumber:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlDecreaseCheckBoxNumber(t,i)},setControlChangeCheckBoxNumber:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlChangeCheckBoxNumber(t,i)},getColumnCheckbox:function(){var n=null,t=this.config.checkbox.use&&this.config.checkbox.manage[this.constValue.checkBoxPropertyName];return t&&this.columns.some(function(t){if(this.constValue.checkBoxPropertyNameRex.test(t.getId()))if(this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlySlip){if(t.GROUP_FLAG==this.constValue.sectionSeparateValue.slip)return n=t,!0}else if((this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.merge||this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlyLine)&&t.GROUP_FLAG==this.constValue.sectionSeparateValue.line)return n=t,!0}.bind(this)),n},getColumnCheckbox:function(){var n=null,t=this.config.checkbox.use&&this.config.checkbox.manage[this.constValue.checkBoxPropertyName];return t&&this.columns.some(function(t){if(this.constValue.checkBoxPropertyNameRex.test(t.getId()))if(this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlySlip){if(t.GROUP_FLAG==this.constValue.sectionSeparateValue.slip)return n=t,!0}else if((this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.merge||this.config.checkbox.displayMergeType==this.constValue.displayCheckboxMegeType.onlyLine)&&t.GROUP_FLAG==this.constValue.sectionSeparateValue.line)return n=t,!0}.bind(this)),n},addCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.addCellClass(t,i)},removeCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.removeCellClass(t,i)},hasCellClass:function(n,t,i){var r=this.getColumnById(n);return r&&r.hasCellClass(t,i)},getCell:function(n,t){var i=this.getColumnById(n),r=i&&i.getCell(t);return i&&/.textarea/.test(_.get(i,"controlType"))?_.isNil(r)?"":r:$.isEmpty(r)?"":r},getConvertValue:function(n,t){var i=this.getColumnById(n);return i&&i.getConvertValue(t)},getValue:function(n,t){var i=this.getColumnById(n);return i&&i.getValue(t)},setValue:function(n,t,i,r,u){var f=this.getColumnById(n);return f&&f.setValue(t,i,r,u)},setCellByControlIndex:function(n,t,i,r,u,f){var e=this.getColumnById(n);return e&&e.setCellByControlIndex(t,i,r,u,f)},refreshCell:function(n,t,i,r){var u=this.getColumnById(n);u&&u.refreshCell(t,i,r)},setCellEditable:function(n,t,i){var r=this.getColumnById(n);r&&r.setCellEditable(t,i)},getCellEditable:function(n,t){var i=this.getColumnById(n);return i&&i.getCellEditable(t)},addRowClass:function(n,t){this.columns.addRowClass(rowDataIndex,t)},removeRowClass:function(n,t){var i=this.getRowDataIndexById(n);i!=-1&&this.columns.removeRowClass(i,t)},getControlControlType:function(n,t,i,r){var u=this.getColumnById(n);return!u||u.isOnlyDataColumn()?null:u&&u.getControlControlType(t,i,r)},setControlValue:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlValue(t,i)},getControlValue:function(n,t){var i=this.getColumnById(n);return i&&i.getControlValue(t)},getControlIsReadOnly:function(n,t){var i=this.getColumnById(n);return i&&i.getControlIsReadOnly(t)},syncControlValueInRowData:function(n,t,i,r){var u=this.getColumnById(n);return u&&u.syncControlValueInRowData(t,i,r)},setControlTreeNodeOpen:function(n,t){var i=this.getColumnById(n);i&&i.setControlTreeNodeOpen(t)},setControlTreeNodeClose:function(n,t){var i=this.getColumnById(n);i&&i.setControlTreeNodeClose(t)},setControlFocus:function(n,t,i,r){var o;r=r||{};var u=typeof r.isContinueEvent=="boolean"?r.isContinueEvent:!0,e="",f=this.getColumnById(n);return f&&(o=f.getControlControlType(t,this.constValue.controlViewMode.input,i),/widget.(date|multiDate)/.test(o)?this.config.common.activeColumnId==n&&this.config.common.activeRowId==i[this.constValue.keyColumnPropertyName]||this.isControlNextFocus(n,t,i)||this.deactiveModuleEditLayer(null,{isForceFocusout:u===!1}):this.config.common.activeColumnId==n&&this.config.common.activeRowId==i[this.constValue.keyColumnPropertyName]||this.deactiveModuleEditLayer(null,{isForceFocusout:u===!1}),u&&(e=f.setControlFocus(t,i,r),this.redrawCssValidationAllColumn(t))),e},isControlNextFocus:function(n,t,i){var r=this.getColumnById(n),u=r.getControlControlType(t,this.constValue.controlViewMode.input,i);return/widget.(date|multiDate)/.test(u)?r.isControlNextFocus(t):!1},setControlNextFocus:function(n,t,i,r,u){var e,f,c,o,l;u=u||{isIncludeSystemColumn:!0};var a=u.isIncludeSystemColumn,v=null,h=-1,s=!1;if(this.columns.some(function(n,i){if(n.getId()==t)return v=n,h=i,!0}),e=null,this.constValue.checkBoxPropertyNameRex.test(t)||this.constValue.rowMoveablePropertyNameRex.test(t)||this.constValue.rowNumberingPropertyNameRex.test(t))e=this.getColumnFirst(i,r,!1);else if(n=="cursorIndex")e=this.getNextColumnByIndex(t,i,r,u);else for(f=u.isLastFocusableIndex?h+1:h,c=this.columns.length;f<c;f++)if((a||!this.constValue.checkBoxPropertyNameRex.test(this.columns[f].getId())&&!this.constValue.rowMoveablePropertyNameRex.test(this.columns[f].getId())&&!this.constValue.foldColumnPropertyNameRex.test(this.columns[f].getId())&&!this.constValue.rowNumberingPropertyNameRex.test(this.columns[f].getId()))&&!this.columns[f].isOnlyDataColumn()&&!this.columns[f].getIsHideColumn()&&!this.columns[f].isMergeColumn()&&this.columns[f].isEditableState(i,r)&&!this.columns[f].getControlIsReadOnly(i)){e=this.columns[f];break}return(e&&this.constValue.foldColumnPropertyNameRex.test(e.id)&&(e=null),e)?(o=!0,s=!0,this.config.events.beforeKeydownEnterHandler&&(u.gridKeyType=="arrowRight"||(l=this.getValidationResultInfo(t,i),o=this.config.events.beforeKeydownEnterHandler({altKey:u.altKey,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,rowData:u.rowData,rowItem:u.rowData,rowId:u.rowData[this.constValue.keyColumnPropertyName],rowKey:u.rowData[this.constValue.keyColumnPropertyName],gridId:u.gridId,columnInfo:u.columnInfo,locationType:u.locationType,columnProperty:u.columnInfo.propertyName,controlType:u.controlType,oldValue:u.oldValue,newValue:u.newValue,isValidationResult:!l.result}),o=$.isNull(o)?!0:o)),this.deactiveModuleEditLayer(null,{isForceFocusout:o===!1}),o&&(s=e.setControlFocus(i,r,u),this.redrawCssValidationAllColumn(i)),s):(this.deactiveModuleEditLayer(null,{isForceFocusout:o===!1}),s)},setControlPrevFocus:function(n,t,i,r){function s(){for(var u=null,f=!1,n=r.isFirstFocusableIndex?o-1:o;n>-1;n--)if((isIncludeSystemColumn||!this.constValue.checkBoxPropertyNameRex.test(this.columns[n].getId())&&!this.constValue.rowMoveablePropertyNameRex.test(this.columns[n].getId())&&!this.constValue.foldColumnPropertyNameRex.test(this.columns[n].getId())&&!this.constValue.rowNumberingPropertyNameRex.test(this.columns[n].getId()))&&!this.columns[n].isOnlyDataColumn()&&!this.columns[n].getIsHideColumn()&&!this.columns[n].isMergeColumn()&&this.columns[n].isEditableState(t,i)&&!this.columns[n].getControlIsReadOnly(t)){u=this.columns[n];break}return u&&(f=u.setControlPrevFocus(t,i,r),this.redrawCssValidationAllColumn(t)),f}var f,o,e,u,h,c;return isIncludeSystemColumn=r.isIncludeSystemColumn===!0,f=null,o=-1,this.columns.some(function(t,i){if(t.getId()==n)return f=t,o=i,!0}),e=!0,u=!0,this.config.events.beforeKeydownTabHandler&&(ecEvent.arrowLeft=="arrowLeft"||(h=this.getValidationResultInfo(n,t),u=this.config.events.beforeKeydownTabHandler({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,rowData:r.rowData,rowItem:r.rowData,rowId:r.rowData[this.constValue.keyColumnPropertyName],rowKey:r.rowData[this.constValue.keyColumnPropertyName],gridId:r.gridId,columnInfo:r.columnInfo,locationType:r.locationType,columnProperty:r.columnInfo.propertyName,controlType:r.controlType,oldValue:r.oldValue,newValue:r.newValue,isValidationResult:!h.result}),u=$.isNull(u)?!0:u)),c=f.getControlControlType(t,this.constValue.controlViewMode.input,i),/widget.(date|multiDate)/.test(c)?f.isControlPrevFocus(t)?u&&(e=f.setControlPrevFocus(t,i,r)):(this.deactiveModuleEditLayer(null,{isForceFocusout:u===!1}),u&&(e=s.apply(this))):(this.deactiveModuleEditLayer(null,{isForceFocusout:u===!1}),u&&(e=s.apply(this))),e},getCellModuleEditLayerActive:function(){var n;return this.config.editable.use&&this.columns.some(function(t){var i=t.getCellModuleEditLayerActive();if(i)return n=i,!0}),n},deactiveModuleEditLayer:function(n,t){this.config.editable.use&&this.columns.some(function(i){i.isCellModuleEditLayerActive()&&i.deactiveModuleEditLayer(n,t);i.setDestroyInstanceFlag(!0)})},resetTrHeightColumn:function(n,t,i){if(this.config.editable.use){var r=this.getColumnById(n);r.resetTrHeight(t,i)}},resetTrHeightAllColumn:function(n){if(this.config.editable.use)for(var t=0,i=this.columns.length;t<i;t++)this.columns[t].resetTrHeight(n)},setControlInstanceValue:function(n,t,i,r){var u=this.getColumnById(n);u&&u.setControlInstanceValue(t,i,r)},getCombineFocusableIndex:function(n,t,i){var r=this.getColumnById(n);return r&&r.getCombineFocusableIndex(t,i)},getCombineChildIndex:function(n,t,i){var r=this.getColumnById(n);return r&&r.getCombineChildIndex(t,i)},clearAddons:function(){if(this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].clearAddons&&this.columns[n].clearAddons()},_ON_REFRESH_ACTIVE_MODULE_POSITION:function(n){if(this.config.common.activeSectionType&&this.config.common.activeColumnId&&this.config.common.activeRowId){var t=this.getColumnById(this.config.common.activeColumnId);t&&t.refreshActiveModulePosition(n.gridRowIndex)}},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t,i,r){var e,f,o,u;n.ecFunction!=="fn"&&(this.config.editable.use?(this.config.common.isForceSetControlInstanceValue&&(e=this.getValue(n.gridColumnID,n.gridRowIndex),this.setControlInstanceValue(n.gridColumnID,n.gridRowIndex,e,{isForceSetControlInstanceValue:this.config.common.isForceSetControlInstanceValue}),this.config.common.isForceSetControlInstanceValue=!1),f=this.getControlControlType(n.gridColumnID,n.gridRowIndex,this.constValue.controlViewMode.input,n.gridRowData),f=="widget.gridCell.foldColumn"?(o=_.map(this.config.foldColumn.data,function(t,i){var r=this.getColumnById(i);if(r)return r.getFoldLayerValue(n.gridRowIndex,n.gridRowData,n.gridRowDataIndex)}.bind(this)),r.displayValues=o,u=this.getColumnById(n.gridColumnID),u._ON_CLICK(n,t,i,r)):this.constValue.customizerRex.test(f)&&t.target.tagName=="A"?(r.cid=n.cid,r.cindex=n.cindex):(this.setControlFocus(n.gridColumnID,n.gridRowIndex,n.gridRowData,{keyType:"click",index:n.cindex||0}),n.ecFunction=="nationalFlag"&&(u=this.getColumnById(n.gridColumnID),u._ON_CLICK(n,t,i,r)))):(r.cid=n.cid,r.cindex=n.cindex))},_ON_CLICK_CUSTOM:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_CLICK_CUSTOM(n,t,i,r)},_ON_DBLCLICK:function(n,t){var i=this.getColumnById(n.gridColumnID);i&&i._ON_DBLCLICK&&i._ON_DBLCLICK(n,t)},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n,t,i,r){if(this.config.editable.use){var u;this.columns.some(function(n){if(n.isCellModuleEditLayerActive())return u=n,!0});n.gridColumnsScope=this;u&&u._ON_GRID_DEACTIVATE(n,t,i,r)}},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r)},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r)},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_GRID_KEYDOWN_DELETE(n,t,i,r)},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_GRID_KEYDOWN_SPACE(n,t,i,r)},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(n,t,i,r){if(this.config.editable.use){var u;this.columns.some(function(n){if(n.isCellModuleEditLayerActive())return u=n,!0});u&&u._ON_MOUSEDOWN(n,t,i,r)}},_ON_MOUSEOUT:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_GRID_CONTEXTMENU(n,t,i,r)},_ON_SCROLL:function(n,t,i,r){if(this.config.editable.use){var u;this.columns.some(function(n){if(n.isCellModuleEditLayerActive())return u=n,!0});u&&u._ON_SCROLL(n,t,i,r)}}});ecount.class("ecount.gridV3.sectionTfootColumns",null,{init:function(n,t,i,r){var f,u,e;if(_.extend(this,n),this.columns=[],this.columnKeys={},this.config=r,this.constValue=ecount.grid.constValue,this.rowVariableNames=this.constValue.rowVariableNames,this.renderingTableMap=[],this.columnRowCount=0,this.columnCountPerRow=0,this.slipStartRowIndex=null,this.slipEndRowIndex=null,this.lineStartRowIndex=null,this.lineEndRowIndex=null,this.topSubTotal1StartRowIndex=null,this.topSubTotal1EndRowIndex=null,this.topSubTotal2StartRowIndex=null,this.topSubTotal2EndRowIndex=null,this.topSubTotal3StartRowIndex=null,this.topSubTotal3EndRowIndex=null,this.topSubTotal4StartRowIndex=null,this.topSubTotal4EndRowIndex=null,this.topSubTotal5StartRowIndex=null,this.topSubTotal5EndRowIndex=null,this.bottomSubTotal1StartRowIndex=null,this.bottomSubTotal1EndRowIndex=null,this.bottomSubTotal1SlipStartRowIndex=null,this.bottomSubTotal1SlipEndRowIndex=null,this.bottomSubTotal2StartRowIndex=null,this.bottomSubTotal2EndRowIndex=null,this.bottomSubTotal2SlipStartRowIndex=null,this.bottomSubTotal2SlipEndRowIndex=null,this.bottomSubTotal3StartRowIndex=null,this.bottomSubTotal3EndRowIndex=null,this.bottomSubTotal3SlipStartRowIndex=null,this.bottomSubTotal3SlipEndRowIndex=null,this.bottomSubTotal4StartRowIndex=null,this.bottomSubTotal4EndRowIndex=null,this.bottomSubTotal4SlipStartRowIndex=null,this.bottomSubTotal4SlipEndRowIndex=null,this.bottomSubTotal5StartRowIndex=null,this.bottomSubTotal5EndRowIndex=null,this.bottomSubTotal5SlipStartRowIndex=null,this.bottomSubTotal5SlipEndRowIndex=null,this.pageTotal1StartRowIndex=null,this.pageTotal11EndRowIndex=null,this.pageTotal1SlipStartRowIndex=null,this.pageTotal1SlipEndRowIndex=null,t.forEach(function(i,u){if(this.isRenderCancel())return!0;(this.columnRowCount==0||i.linechange)&&(this.columnRowCount+=1);this.columnRowCount==1&&(this.columnCountPerRow+=1);var f=this.createColumn(n,i,u,r,{isFirstColumn:u==0||ecount.common.isTrue(i.linechange),isLastColumn:$.isNull(t[u+1])||t[u+1]&&ecount.common.isTrue(t[u+1].linechange)});this.columns.push(f);this.columnKeys[i.id]=f}.bind(this)),this.isRenderCancel()){this.renderCancel();return}if(i)for(f in i)[this.rowVariableNames.mergeSet].contains(f)||i.hasOwnProperty(f)&&(u={column:null,columnIndex:-1},t.find(function(n,t){if(n.propertyName==f)return this.column=n,this.columnIndex=t,!0},u),u.columnIndex==-1&&(u.column={id:f,propertyName:this.config.column.propertyNormalizer(f),__isOnlyDataColumn:!0},e=this.createColumn(n,u.column,u.columnIndex,r),this.columns.push(e),this.columnKeys[u.column.id]=e))},isRenderCancel:function(){return this.config.common.isDrawing&&this.config.common.isDrawCancel},renderCancel:function(){this.config.common.isDrawing&&this.config.common.isDrawCancel&&this.gridRelatedEvents.gridRelatedEvents._triggerEvent("ecount.gridV3.renderingCancel",{})},destroyAll:function(){if(delete this.config,delete this.constValue,delete this.rowVariableNames,this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].destroyAll&&this.columns[n].destroyAll();this.columns=null},getCreatedData:function(n,t,i,r,u){function p(n){var i,r;$.isArray(this.config.rowConfig.trHeights)?i=this.config.rowConfig.trHeights[n]:$.isPlainObject(this.config.rowConfig.trHeights)&&(t[this.constValue.rowVariableNames.rowType]?this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]]?i=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue[t[this.constValue.rowVariableNames.rowType]]][n]:this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(i=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line][n]):this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line]&&(i=this.config.rowConfig.trHeights[this.constValue.sectionSeparateValue.line][n]));f={attrs:{},styles:{},className:[],cells:[]};y&&f.className.push(y);this.config.row.styleBackgroundColorDeterminer?(r=this.config.row.styleBackgroundColorDeterminer(t,n),r&&f.className.push($.isString(r)?r:this.config.row.styleBackgroundColor)):f.className.contains("muted")||f.className.push("muted");i&&(f.styles.height=i);this.config.table.borderRemoveHorizontal&&n==0;this.config.table.borderRemoveVertical;this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data&&this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal||(this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.data?f.className.contains("hide")||f.className.push("hide"):this.config.rowConfig.detailSectionInvisible&this.constValue.detailSectionInvisible.pagetotal&&(f.className.contains("hide")||f.className.push("hide")))}var w,l,b,g,o,a,k;columnIndex=u.columnIndex||0;columnLen=u.columnLen||this.columns.length;var v=r*this.columnRowCount,e=0,c=[],f={attrs:{},styles:{},className:[],cells:[]},s=t[this.rowVariableNames.mergeSet],d={slip:{start:this.getSlipStartRowIndex(),end:this.getSlipEndRowIndex()},line:{start:this.getLineStartRowIndex(),end:this.getLineEndRowIndex()},topSubTotal1:{start:this.getTopSubTotal1StartRowIndex(),end:this.getTopSubTotal1EndRowIndex()},topSubTotal2:{start:this.getTopSubTotal2StartRowIndex(),end:this.getTopSubTotal2EndRowIndex()},topSubTotal3:{start:this.getTopSubTotal3StartRowIndex(),end:this.getTopSubTotal3EndRowIndex()},topSubTotal4:{start:this.getTopSubTotal4StartRowIndex(),end:this.getTopSubTotal4EndRowIndex()},topSubTotal5:{start:this.getTopSubTotal5StartRowIndex(),end:this.getTopSubTotal5EndRowIndex()},bottomSubTotal1:{start:this.getBottomSubTotal1StartRowIndex(),end:this.getBottomSubTotal1EndRowIndex()},bottomSubTotal1Slip:{start:this.getBottomSubTotal1SlipStartRowIndex(),end:this.getBottomSubTotal1SlipEndRowIndex()},bottomSubTotal2:{start:this.getBottomSubTotal2StartRowIndex(),end:this.getBottomSubTotal2EndRowIndex()},bottomSubTotal2Slip:{start:this.getBottomSubTotal2SlipStartRowIndex(),end:this.getBottomSubTotal2SlipEndRowIndex()},bottomSubTotal3:{start:this.getBottomSubTotal3StartRowIndex(),end:this.getBottomSubTotal3EndRowIndex()},bottomSubTotal3Slip:{start:this.getBottomSubTotal3SlipStartRowIndex(),end:this.getBottomSubTotal3SlipEndRowIndex()},bottomSubTotal4:{start:this.getBottomSubTotal4StartRowIndex(),end:this.getBottomSubTotal4EndRowIndex()},bottomSubTotal4Slip:{start:this.getBottomSubTotal4SlipStartRowIndex(),end:this.getBottomSubTotal4SlipEndRowIndex()},bottomSubTotal5:{start:this.getBottomSubTotal5StartRowIndex(),end:this.getBottomSubTotal5EndRowIndex()},bottomSubTotal5Slip:{start:this.getBottomSubTotal5SlipStartRowIndex(),end:this.getBottomSubTotal5SlipEndRowIndex()},pagetot:{start:this.getPageTotal1StartRowIndex(),end:this.getPageTotal1EndRowIndex()},pagetotSlip:{start:this.getPageTotal1SlipStartRowIndex(),end:this.getPageTotal1SlipEndRowIndex()},totalRowCountPerPattern:this.columnRowCount},h=this.getSkipRowLineResult(n,t,i,d),y="";for(this.createDataRenderingTableMap(0,t,r),this.config.row.styleBoldOnMergeRow&&s&&s.length>0&&!(this.columnRowCount==1&&s.length>0&&s[0][this.rowVariableNames.mergeStartIndex]>=this.columnCountPerRow)&&(w=s.find(function(n){if(n[this.rowVariableNames.isBold])return!0}.bind(this)),w&&(y+=this.constValue.styleClassName.bold+" ")),p.call(this,e),l=0,b=0;columnIndex<columnLen;){if(this.isRenderCancel())break;if(o=this.columns[columnIndex],o.isLineChange()&&(l=0,e+=1),o.id==this.constValue.checkBoxPropertyName&&(g=o),o.isOnlyDataColumn()){this.columns[columnIndex].createEmptyCell(t,r,v+e,columnIndex,e,this.columnRowCount,u);columnIndex+=1;continue}else{if(h&&h[e]){for(a=columnIndex,k=columnIndex+this.columnCountPerRow;a<k;a++)this.columns[a].createEmptyCell(t,r,v+e,columnIndex,e,this.columnRowCount,u);columnIndex+=this.columnCountPerRow;continue}o.isLineChange()&&(h?($.isNull(h[e-1])||h[e-1]===!1)&&c.push(f):c.push(f),p.call(this,e));f.attrs["data-key"]||(f.attrs["data-key"]=ecount.gridV3.utils.escapeHTML(t[this.constValue.keyColumnPropertyName]));f.cells.push(this.getCreatedColumnData(0,t,r,v+e,o,e,columnIndex+b,l,u))}columnIndex+=1;l+=1}return this.isRenderCancel()&&this.renderCancel(),c.push(f),c},createColumn:function(n,t,i,r,u){return new ecount.gridV3.sectionTfootColumn(n,t,r,u)},getCreatedColumnData:function(n,t,i,r,u,f,e,o,s){if(this.renderingTableMap[r]&&this.renderingTableMap[r][o]&&!["MERGE"].contains(this.renderingTableMap[r][o].type))u.createEmptyCell(t,i,r,e,f,this.columnRowCount,s);else return this.renderingTableMap[r]&&this.renderingTableMap[r][o]&&(this.renderingTableMap[r][o].rowIndex=r),u.getCreatedData(t,i,r,e,f,this.columnRowCount,s);return null},getSkipRowLineResult:function(n,t,i,r){var s=this.config.rowConfig.skipRowLineRule,u=null,f,e,h,o,c;if(s&&this.columnRowCount>1&&(u=s(n,t,i,r),this.config.checkbox.use&&(f=t[this.rowVariableNames.mergeSet],e=f&&f.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.config.checkbox.index}.bind(this)),e))){h=Object.keys(u);o=h.length;for(c in u)u[c]&&(o-=1);e[this.rowVariableNames.rowspanCount]=o}return u},createDataRenderingTableMap:function(n,t,i){var r=t[this.rowVariableNames.mergeSet];r&&r.forEach(function(t){for(var r,h=parseInt(t[this.rowVariableNames.mergeStartIndex],10),f=parseInt(t[this.rowVariableNames.colspanCount]||1,10),e=parseInt(t[this.rowVariableNames.rowspanCount]||1,10),a=f-1,v=e-1,s=i*this.columnRowCount+Math.floor(h/this.columnCountPerRow),l=s+e,o,c,u=s;u<l;u++)for(o=Math.floor(h%this.columnCountPerRow),c=o+f,this.renderingTableMap[u]||(this.renderingTableMap[u]=[]),r=o;r<c;r++)(f!=1||e!=1)&&(u==s&&r==o?(t.type="MERGE",t.rowDataIndex=i,t.tableIndex=n,t.rowIndex=-1,t.columnIndex=r,this.renderingTableMap[u][r]=t):e>1&&f>1?this.renderingTableMap[u][r]={type:"ROWSPAN_AND_COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}:e>1&&f==1?this.renderingTableMap[u][r]={type:"ROWSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}:e==1&&f>1&&(this.renderingTableMap[u][r]={type:"COLSPAN",rowDataIndex:-1,tableIndex:n,rowIndex:-1,columnIndex:r}))}.bind(this))},setCacheTable:function(n){this.tableElement=n;this.columns.some(function(t){if(t.isOnlyDataColumn())return!1;t.setCacheTable(n)})},getRowData:function(n){var t={};return this.columns.forEach(function(i){var r="";r=i.isOnlyDataColumn()?i.cells&&i.cells[n]&&i.cells[n].value:i.getValue(n);t[i.getPropertyName()]=r}.bind(this)),t},getRowDataId:function(n){var t=null;return this.columns.some(function(i){if(i.isOnlyDataColumn()&&i.getId()==this.constValue.keyColumnPropertyName)return t=i.getRowDataId(n),!0}.bind(this)),t},getRowDataCount:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataCount(n),!0)}.bind(this)),t},getRowDataIndex:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataIndex(n),!0)}.bind(this)),t},getRowDataState:function(n){var t=null;return this.columns.some(function(i){return i.isOnlyDataColumn()?!1:(t=i.getRowDataState(n),!0)}.bind(this)),t},getColumnById:function(n,t){var r,i;if(t=t===!0,i=r=this.columnKeys[n]||this.columnKeys[this.config.rowConfig.normalizeProperties(n)],t&&i){var u=i.cells,f=i.config,e=i.gridGenerator,o=i.instanceManager,s=i.controlGenerator,h=i.rawColumnInfo,c=i.tableElement;delete i.cells;delete i.config;delete i.gridGenerator;delete i.instanceManager;delete i.controlGenerator;delete i.rawColumnInfo;delete i.tableElement;r=Object.clone(i,!0);i.cells=u;i.config=f;i.gridGenerator=e;i.instanceManager=o;i.controlGenerator=s;i.rawColumnInfo=h;i.tableElement=c}return r},getColumnIndexById:function(n,t,i){i=typeof i=="boolean"?i:!0;var u=-1,r=-1;return this.columns.some(function(f){return f.isOnlyDataColumn()?!1:!i&&[this.constValue.checkBoxPropertyName,this.constValue.rowMoveablePropertyName,this.constValue.foldColumnPropertyName,this.constValue.rowNumberingPropertyName].contains(f.getId())?!1:(n==this.constValue.returnType.multi&&f.isLineChange()&&(r=-1),r+=1,f.getId()==t?(u=r,!0):void 0)}.bind(this)),u},getColumnByIndex:function(n,t){var r=[],i;return n=="single"?this.columns[t]:(n=="multi"&&(i=0,this.columns.some(function(n){if(n.isOnlyDataColumn())return!1;n.isLineChange()&&(i=0);i==t&&r.push(n);i+=1})),r)},getColumnFirst:function(n,t){t=t===!0;var i=null;return this.columns.some(function(r){return!t&&(this.constValue.checkBoxPropertyNameRex.test(r.getId())||this.constValue.rowMoveablePropertyNameRex.test(r.getId())||this.constValue.foldColumnPropertyNameRex.test(r.getId())||this.constValue.rowNumberingPropertyNameRex.test(r.getId()))?!1:r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(n)?!1:(i=r,!0)}.bind(this)),i},getColumnLast:function(n,t,i){var f,u,r;for(i=i===!0,f=null,u=this.columns.length-1;u>-1;u--)if((r=this.columns[u],i||!this.constValue.checkBoxPropertyNameRex.test(r.getId())&&!this.constValue.rowMoveablePropertyNameRex.test(r.getId())&&!this.constValue.foldColumnPropertyNameRex.test(r.getId())&&!this.constValue.rowNumberingPropertyNameRex.test(r.getId()))&&!r.isOnlyDataColumn()&&!r.getIsHideColumn()&&!r.isMergeColumn()&&r.isEditableState(n,t)){f=r;break}return f},getNextColumnById:function(n,t){var i=null;return this.columns.some(function(r,u){return r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(t,rowData)?!1:r.getId()==n?(u+1<this.columns.length&&(i=this.columns[u+1]),!0):void 0}.bind(this)),i},getPrevColumnById:function(n,t){var i=null;return this.columns.some(function(r,u){return r.isOnlyDataColumn()||r.getIsHideColumn()||r.isMergeColumn()||!r.isEditableState(t,rowData)?!1:r.getId()==n?(u-1>-1&&(i=this.columns[u-1]),!0):void 0}.bind(this)),i},setColumnVisibility:function(n,t){var i=this.getColumnById(n);i&&i.setColumnVisibility(t)},getColumnMaxColspanCount:function(n){var t=this.getColumnById(n);return t&&t.getColumnMaxColspanCount()||0},getColumnPropertyName:function(n){var t=this.getColumnById(n);return t&&t.propertyName},setColumnWidth:function(n,t){var i=this.getColumnById(n);i&&i.setWidth(t)},addColumn:function(n,t,i){var u=this.getColumnIndexById(this.constValue.returnType.single,n);if(u!=-1){var e=i||{},r=u+(t=="right"?1:0),f=this.createColumn({gridGenerator:this.gridGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager,toolbarGenerator:this.toolbarGenerator},e,r,this.config);this.columns[r]?this.columns.splice(r,0,f):this.columns.push(f)}},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=this.getColumnById(n);return v&&v.setControlChangeDataType(t,i,r,u,f,e,o,s,h,c,l,a)},setControlShaded:function(n,t,i,r){var u=this.getColumnById(n);u&&u.setControlShaded(t,i,r)},setControlChecked:function(n,t,i,r,u){var f=this.getColumnById(n);f&&f.setControlChecked(t,i,r,u)},addCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.addCellClass(t,i)},removeCellClass:function(n,t,i){var r=this.getColumnById(n);r&&r.removeCellClass(t,i)},getCell:function(n,t){var i=this.getColumnById(n),r=i&&i.getCell(t);return $.isEmpty(r)?"":r},getValue:function(n,t){var i=this.getColumnById(n);return i&&i.getValue(t)},setValue:function(n,t,i,r,u){var f=this.getColumnById(n);return f&&f.setValue(t,i,r,u)},refreshCell:function(n,t,i){var r=this.getColumnById(n);r&&r.refreshCell(t,i)},setCellEditable:function(n,t,i){var r=this.getColumnById(n);r&&r.refreshCell(t,i)},getCellEditable:function(n,t){var i=this.getColumnById(n);return i&&i.getCellEditable(t)},getControlControlType:function(n,t,i){var r=this.getColumnById(n);return r&&r.getControlControlType(t,i)},setControlValue:function(n,t,i){var r=this.getColumnById(n);return r&&r.setControlValue(t,i)},getControlValue:function(n,t){var i=this.getColumnById(n);return i&&i.getControlValue(t)},getSlipStartRowIndex:function(){if(this.slipStartRowIndex!=null)return this.slipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isSlipType()?(n=t,!0):void 0}.bind(this)),this.slipStartRowIndex=n,n},getSlipEndRowIndex:function(){if(this.slipEndRowIndex!=null)return this.slipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isSlipType()&&(n=t)}.bind(this)),this.slipEndRowIndex=n,n},getLineStartRowIndex:function(){if(this.lineStartRowIndex!=null)return this.lineStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isLineType()?(n=t,!0):void 0}.bind(this)),this.lineStartRowIndex=n,n},getLineEndRowIndex:function(){if(this.lineEndRowIndex!=null)return this.lineEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isLineType()&&(n=t)}.bind(this)),this.lineEndRowIndex=n,n},getTopSubTotal1StartRowIndex:function(){if(this.topSubTotal1StartRowIndex!=null)return this.topSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal1()?(n=t,!0):void 0}.bind(this)),this.topSubTotal1StartRowIndex=n,n},getTopSubTotal1EndRowIndex:function(){if(this.topSubTotal1EndRowIndex!=null)return this.topSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal1()&&(n=t)}.bind(this)),this.topSubTotal1EndRowIndex=n,n},getTopSubTotal2StartRowIndex:function(){if(this.topSubTotal2StartRowIndex!=null)return this.topSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal2()?(n=t,!0):void 0}.bind(this)),this.topSubTotal2StartRowIndex=n,n},getTopSubTotal2EndRowIndex:function(){if(this.topSubTotal2EndRowIndex!=null)return this.topSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal2()&&(n=t)}.bind(this)),this.topSubTotal2EndRowIndex=n,n},getTopSubTotal3StartRowIndex:function(){if(this.topSubTotal3StartRowIndex!=null)return this.topSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal3()?(n=t,!0):void 0}.bind(this)),this.topSubTotal3StartRowIndex=n,n},getTopSubTotal3EndRowIndex:function(){if(this.topSubTotal3EndRowIndex!=null)return this.topSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal3()&&(n=t)}.bind(this)),this.topSubTotal3EndRowIndex=n,n},getTopSubTotal4StartRowIndex:function(){if(this.topSubTotal4StartRowIndex!=null)return this.topSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal4()?(n=t,!0):void 0}.bind(this)),this.topSubTotal4StartRowIndex=n,n},getTopSubTotal4EndRowIndex:function(){if(this.topSubTotal4EndRowIndex!=null)return this.topSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal4()&&(n=t)}.bind(this)),this.topSubTotal4EndRowIndex=n,n},getTopSubTotal5StartRowIndex:function(){if(this.topSubTotal5StartRowIndex!=null)return this.topSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isTopSubTotal5()?(n=t,!0):void 0}.bind(this)),this.topSubTotal5StartRowIndex=n,n},getTopSubTotal5EndRowIndex:function(){if(this.topSubTotal5EndRowIndex!=null)return this.topSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isTopSubTotal5()&&(n=t)}.bind(this)),this.topSubTotal5EndRowIndex=n,n},getBottomSubTotal1StartRowIndex:function(){if(this.bottomSubTotal1StartRowIndex!=null)return this.bottomSubTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1StartRowIndex=n,n},getBottomSubTotal1EndRowIndex:function(){if(this.bottomSubTotal1EndRowIndex!=null)return this.bottomSubTotal1EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1()&&(n=t)}.bind(this)),this.bottomSubTotal1EndRowIndex=n,n},getBottomSubTotal1SlipStartRowIndex:function(){if(this.bottomSubTotal1SlipStartRowIndex!=null)return this.bottomSubTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal1SlipStartRowIndex=n,n},getBottomSubTotal1SlipEndRowIndex:function(){if(this.bottomSubTotal1SlipEndRowIndex!=null)return this.bottomSubTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal1Slip()&&(n=t)}.bind(this)),this.bottomSubTotal1SlipEndRowIndex=n,n},getBottomSubTotal2StartRowIndex:function(){if(this.bottomSubTotal2StartRowIndex!=null)return this.bottomSubTotal2StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2StartRowIndex=n,n},getBottomSubTotal2EndRowIndex:function(){if(this.bottomSubTotal2EndRowIndex!=null)return this.bottomSubTotal2EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2()&&(n=t)}.bind(this)),this.bottomSubTotal2EndRowIndex=n,n},getBottomSubTotal2SlipStartRowIndex:function(){if(this.bottomSubTotal2SlipStartRowIndex!=null)return this.bottomSubTotal2SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal2Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal2SlipStartRowIndex=n,n},getBottomSubTotal2SlipEndRowIndex:function(){if(this.bottomSubTotal2SlipEndRowIndex!=null)return this.bottomSubTotal2SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal2Slip()&&(n=t)}.bind(this)),this.bottomSubTotal2SlipEndRowIndex=n,n},getBottomSubTotal3StartRowIndex:function(){if(this.bottomSubTotal3StartRowIndex!=null)return this.bottomSubTotal3StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3StartRowIndex=n,n},getBottomSubTotal3EndRowIndex:function(){if(this.bottomSubTotal3EndRowIndex!=null)return this.bottomSubTotal3EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3()&&(n=t)}.bind(this)),this.bottomSubTotal3EndRowIndex=n,n},getBottomSubTotal3SlipStartRowIndex:function(){if(this.bottomSubTotal3SlipStartRowIndex!=null)return this.bottomSubTotal3SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal3Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal3SlipStartRowIndex=n,n},getBottomSubTotal3SlipEndRowIndex:function(){if(this.bottomSubTotal3SlipEndRowIndex!=null)return this.bottomSubTotal3SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal3Slip()&&(n=t)}.bind(this)),this.bottomSubTotal3SlipEndRowIndex=n,n},getBottomSubTotal4StartRowIndex:function(){if(this.bottomSubTotal4StartRowIndex!=null)return this.bottomSubTotal4StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4StartRowIndex=n,n},getBottomSubTotal4EndRowIndex:function(){if(this.bottomSubTotal4EndRowIndex!=null)return this.bottomSubTotal4EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4()&&(n=t)}.bind(this)),this.bottomSubTotal4EndRowIndex=n,n},getBottomSubTotal4SlipStartRowIndex:function(){if(this.bottomSubTotal4SlipStartRowIndex!=null)return this.bottomSubTotal4SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal4Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal4SlipStartRowIndex=n,n},getBottomSubTotal4SlipEndRowIndex:function(){if(this.bottomSubTotal4SlipEndRowIndex!=null)return this.bottomSubTotal4SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal4Slip()&&(n=t)}.bind(this)),this.bottomSubTotal4SlipEndRowIndex=n,n},getBottomSubTotal5StartRowIndex:function(){if(this.bottomSubTotal5StartRowIndex!=null)return this.bottomSubTotal5StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5StartRowIndex=n,n},getBottomSubTotal5EndRowIndex:function(){if(this.bottomSubTotal5EndRowIndex!=null)return this.bottomSubTotal5EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5()&&(n=t)}.bind(this)),this.bottomSubTotal5EndRowIndex=n,n},getBottomSubTotal5SlipStartRowIndex:function(){if(this.bottomSubTotal5SlipStartRowIndex!=null)return this.bottomSubTotal5SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isBottomSubTotal5Slip()?(n=t,!0):void 0}.bind(this)),this.bottomSubTotal5SlipStartRowIndex=n,n},getBottomSubTotal5SlipEndRowIndex:function(){if(this.bottomSubTotal5SlipEndRowIndex!=null)return this.bottomSubTotal5SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isBottomSubTotal5Slip()&&(n=t)}.bind(this)),this.bottomSubTotal5SlipEndRowIndex=n,n},getPageTotal1StartRowIndex:function(){if(this.pageTotal1StartRowIndex!=null)return this.pageTotal1StartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1()?(n=t,!0):void 0}.bind(this)),this.pageTotal1StartRowIndex=n,n},getPageTotal1EndRowIndex:function(){if(this.pageTotal11EndRowIndex!=null)return this.pageTotal11EndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1()&&(n=t)}.bind(this)),this.pageTotal11EndRowIndex=n,n},getPageTotal1SlipStartRowIndex:function(){if(this.pageTotal1SlipStartRowIndex!=null)return this.pageTotal1SlipStartRowIndex;var n=-1,t=-1;return this.columns.some(function(i){return((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))?!1:i.isPageTotal1Slip()?(n=t,!0):void 0}.bind(this)),this.pageTotal1SlipStartRowIndex=n,n},getPageTotal1SlipEndRowIndex:function(){if(this.pageTotal1SlipEndRowIndex!=null)return this.pageTotal1SlipEndRowIndex;var n=-1,t=-1;return this.columns.forEach(function(i){if((t==-1||i.isLineChange())&&(t+=1),i.getId().test(this.constValue.checkBoxPropertyNameRex))return!1;i.isPageTotal1Slip()&&(n=t)}.bind(this)),this.pageTotal1SlipEndRowIndex=n,n},getCellModuleEditLayerActive:function(){var n;return this.config.editable.use&&this.columns.some(function(t){var i=t.getCellModuleEditLayerActive();if(i)return n=i,!0}),n},deactiveModuleEditLayer:function(n){if(this.config.editable.use){var t;this.columns.some(function(n){if(n.isCellModuleEditLayerActive())return t=n,!0});t&&t.deactiveModuleEditLayer(n)}},clearAddons:function(){if(this.columns)for(var n=0,t=this.columns.length;n<t;n++)this.columns[n].clearAddons&&this.columns[n].clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){var i=this.getColumnById(n.gridColumnID);i&&i._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t,i,r){var u=this.getColumnById(n.gridColumnID);u&&u._ON_MOUSEOVER(n,t,i,r)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTheadColumn",null,{init:function(n,t,i,r){r=r||{};_.extend(this,n);_.extend(this,r);this.config=i;this.constValue=ecount.grid.constValue;t&&_.extend(this,t);this.customColumnResult=null;this.cells=[]},destroyAll:function(){},getCellData:function(){var n=this,t={id:n.id,sectionType:n.sectionType,customCellCallback:n.customCellCallback,customColumnCallback:n.customColumnCallback};return t.state=n,t.state.validation={result:!0,popover:{placement:"auto",message:"",visible:!0,trigger:"hover"},css:{visible:!0}},t},getRowDataId:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].rowId:this.cells[n]&&this.cells[n].getRowDataId()},getRowDataCount:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataCount()},getRowDataIndex:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataIndex()},getRowDataState:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.constValue.rowState.none:this.cells[n]&&this.cells[n].getRowDataState()},isOnlyDataColumn:function(){return this.__isOnlyDataColumn===!0},getState:function(n){return this[n]},setState:function(n,t){this[n]=t},isLineChange:function(){return this.linechange==!0},isSlipType:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.slip},isLineType:function(){return this.GROUP_FLAG!=this.constValue.sectionSeparateValue.slip},isTopSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot1},isTopSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot2},isTopSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot3},isTopSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot4},isTopSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot5},isBottomSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1},isBottomSubTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1slip},isBottomSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2},isBottomSubTotal2Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2slip},isBottomSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3},isBottomSubTotal3Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3slip},isBottomSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4},isBottomSubTotal4Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4slip},isBottomSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5},isBottomSubTotal5Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5slip},isPageTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetot},isPageTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetotslip},getCreatedData:function(n,t,i,r,u){var f,e;if(this.isOnlyDataColumn())this.cells.push({value:n[this.propertyName],rowId:n[this.constValue.keyColumnPropertyName],rowIndex:i});else return f=this.getCellData(),f.rowId=n[this.constValue.keyColumnPropertyName],f[this.constValue.rowCountColumnPropertyName]=n[this.constValue.rowCountColumnPropertyName],f[this.constValue.rowIndexPropertyName]=n[this.constValue.rowIndexPropertyName],f[this.constValue.rowStatePropertyName]=n[this.constValue.rowStatePropertyName],f.state.value=n[this.propertyName]==undefined||n[this.propertyName]==null?"":n[this.propertyName],f.rowIndex=i,f.columnIndex=r,f.dataTableId=u.dataTableId,f.isFirstColumn=this.isFirstColumn,f.isLastColumn=this.isLastColumn,e=new ecount.gridV3.sectionTheadCell({gridGenerator:this.gridGenerator,widgetGenerator:this.widgetGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager},f,this.config),this.cells.push(e),e.getCreatedData(n,t,i,r)},createEmptyCell:function(n,t,i,r,u){this.cells.push({rowId:n[this.constValue.keyColumnPropertyName],value:n[this.propertyName]||"",rowIndex:i,columnIndex:r,dataTableId:u.dataTableId,isMergedCell:!0})},setCacheTable:function(n){this.tableElement=n;this.cells.forEach(function(t){if(t.isMergedCell)return!1;t.setCacheTable(n)})},getId:function(){return this.getState("id")},getPropertyName:function(){return this.getState("propertyName")},getIsHideColumn:function(){return ecount.common.isTrue(this.getState("isHideColumn"))},getCursorIndex:function(n){return this.cells[n]&&this.cells[n].getCursorIndex()},setWidth:function(n){this.setState("width",n)},setControlShaded:function(n,t,i){this.config.shaded&&this.config.shaded.list&&this.config.shaded.list.contains(this.getId())&&this.cells[n].setControlShaded(t,i)},setControlChecked:function(n,t,i,r,u){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||!this.constValue.nativeControlInWidgetCheckbox[this.controlType]||this.cells[n]&&this.cells[n].setControlChecked(t,i,n,r,u)},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l){return this.cells[n]&&this.cells[n].setControlChangeDataType(t,i,r,u,f,e,o,s,h,c,l)},setColumnVisibility:function(n){var t=n?"removeCellClass":"addCellClass";this.cells.some(function(i){if(i.isMergedCell||i.isOnlyDataColumn&&i.isOnlyDataColumn())return!1;i.setIsHideColumn(!n);i[t](["hide"])})},getColumnMaxColspanCount:function(){var n=0;return this.cells.some(function(t){if(t.isMergedCell||t.isOnlyDataColumn&&t.isOnlyDataColumn())return!1;n=Math.max(t.getColspanCount(),n)}),n},addCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].addCellClass(t)},removeCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].removeCellClass(t)},getCell:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getCell()},getValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getValue()},setValue:function(n,t,i,r){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]?(this.cells[n].value=t,i[this.getPropertyName()]=t,!0):!1:this.cells[n]&&this.cells[n].setValue(t,n,i,r)},refreshCell:function(n,t,i){if(!this.isOnlyDataColumn()&&(!this.cells[t]||!this.cells[t].isMergedCell))return this.cells[t]&&this.cells[t].refreshCell(n,t,i)},setCellEditable:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setCellEditable(t)},getCellEditable:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getCellEditable()},getControlControlType:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].getControlControlType(t)},setControlValue:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].setControlValue(t)},setCaretLinkPosition:function(n,t){this.cells[n]&&this.cells[n].setCaretLinkPosition(t)},isCellModuleEditLayerActive:function(){var n=!1;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=!0,!0}),n},getCellModuleEditLayerActive:function(){var n=null;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=t,!0}),n},deactiveModuleEditLayer:function(n){if(this.config.editable.use){var t=this.getCellModuleEditLayerActive();t&&t.deactiveModuleEditLayer(n)}},serialize:function(){var t={},n;return this.isOnlyDataColumn()||(n=this.cells[0],t={id:n.id,sectionType:n.sectionType,propertyName:n.state.propertyName,width:n.state.width,controlType:n.state.controlType,isShadow:n.state.isShadow,isHideColumn:n.state.isHideColumn,font:n.state.font,fontColor:n.state.fontColor,fontSize:n.state.fontSize,fontStrike:n.state.fontStrike,fontUnderline:n.state.fontUnderline,fontItalic:n.state.fontItalic,fontBold:n.state.fontBold,align:n.state.align,valign:n.state.valign,className:n.state.className,editableState:n.state.editableState,cursorIndex:n.state.cursorIndex,lineNo:n.state.lineNo,linechange:n.state.linechange,columnOption:n.state.columnOption,controlOption:n.state.controlOption,footerOption:n.state.footerOption,isTodayTime:n.state.isTodayTime,dataType:n.state.dataType,amtCalc:n.state.amtCalc,thousandSeparator:n.state.thousandSeparator,decimalSeparator:n.state.decimalSeparator,customizeDate:n.state.customizeDate,dateFormat:n.state.dateFormat,dataType:n.state.dataType,dataType1:n.state.dataType1,dataType2:n.state.dataType2,dateFormat:n.state.dateFormat,isDisplayZero:n.state.isDisplayZero,decCount:n.state.decCount,isCheckZero:n.state.isCheckZero,isShowIfZero:n.state.isShowIfZero,amtCalc:n.state.amtCalc,thousandSeparator:n.state.thousandSeparator,decimalSeparator:n.state.decimalSeparator}),t},clearAddons:function(){if(this.cells)for(var n=0,t=this.cells.length;n<t;n++)this.cells[n]&&this.cells[n].clearAddons&&this.cells[n].clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.cells[n.gridRowIndex]._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t){this.cells[n.gridRowIndex]._ON_MOUSEOUT(n,t)},_ON_MOUSEOVER:function(n,t){this.cells[n.gridRowIndex]._ON_MOUSEOVER(n,t)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTbodyColumn",null,{init:function(n,t,i,r){r=r||{};_.extend(this,n);_.extend(this,r);this.config=i;this.constValue=ecount.grid.constValue;t&&_.extend(this,t);this.customColumnResult=null;this.cells=[]},destroyAll:function(){var n,i,t;for(delete this.config,delete this.constValue,delete this.rawColumnInfo,n=0,i=this.cells.length;n<i;n++)t=this.cells[n],t.destroyAll&&t.destroyAll(),this.cells[n]=null},getCellData:function(){var n=this;return{id:n.id,sectionType:n.sectionType,customCellCallback:n.customCellCallback,customColumnCallback:n.customColumnCallback,state:{propertyName:n.propertyName,width:n.width,controlType:n.controlType,cursorIndex:n.cursorIndex,isShadow:n.isShadow,isHideColumn:n.isHideColumn,font:n.font,fontColor:n.fontColor,fontSize:n.fontSize,fontStrike:n.fontStrike,fontUnderline:n.fontUnderline,fontItalic:n.fontItalic,fontBold:n.fontBold,align:n.align,valign:n.valign,fontCellBgColor:n.fontCellBgColor,fontBgColor:n.fontBgColor,fontEcsTxtProcCd:n.fontEcsTxtProcCd,BTTM_BORD_COLOR_CD:n.BTTM_BORD_COLOR_CD,BTTM_BORD_STYL_CD:n.BTTM_BORD_STYL_CD,BTTM_BORD_THICK:n.BTTM_BORD_THICK,BTTM_BORD_USE_TF:n.BTTM_BORD_USE_TF,LEFT_BORD_COLOR_CD:n.LEFT_BORD_COLOR_CD,LEFT_BORD_STYL_CD:n.LEFT_BORD_STYL_CD,LEFT_BORD_THICK:n.LEFT_BORD_THICK,LEFT_BORD_USE_TF:n.LEFT_BORD_USE_TF,RGT_BORD_COLOR_CD:n.RGT_BORD_COLOR_CD,RGT_BORD_STYL_CD:n.RGT_BORD_STYL_CD,RGT_BORD_THICK:n.RGT_BORD_THICK,RGT_BORD_USE_TF:n.RGT_BORD_USE_TF,TOP_BORD_COLOR_CD:n.TOP_BORD_COLOR_CD,TOP_BORD_STYL_CD:n.TOP_BORD_STYL_CD,TOP_BORD_THICK:n.TOP_BORD_THICK,TOP_BORD_USE_TF:n.TOP_BORD_USE_TF,className:n.className,editableState:n.editableState,cursorIndex:n.cursorIndex,lineNo:n.lineNo,linechange:n.linechange,pairId:n.pairId,columnOption:n.columnOption,controlOption:n.controlOption,footerOption:n.footerOption,converter:n.converter,isTodayTime:n.isTodayTime,amtCalc:n.amtCalc,thousandSeparator:n.thousandSeparator,decimalSeparator:n.decimalSeparator,customizeDate:n.customizeDate,dateFormat:n.dateFormat,dataType:n.dataType,dataType1:n.dataType1,dataType2:n.dataType2,dateFormat:n.dateFormat,isDisplayZero:n.isDisplayZero,decCount:n.decCount,isCheckZero:n.isCheckZero,isShowIfZero:n.isShowIfZero,amtCalc:n.amtCalc,thousandSeparator:n.thousandSeparator,decimalSeparator:n.decimalSeparator,groupId:n.groupId,groupIndex:n.groupIndex}}},getCreatedData:function(n,t,i,r,u,f,e){var o,s,h;if(this.isOnlyDataColumn())this.cells.push({value:n[this.propertyName],rowId:n[this.constValue.keyColumnPropertyName],rowIndex:i});else return o=this.getCellData(),o.rowId=n[this.constValue.keyColumnPropertyName],o[this.constValue.rowCountColumnPropertyName]=n[this.constValue.rowCountColumnPropertyName],o[this.constValue.rowIndexPropertyName]=n[this.constValue.rowIndexPropertyName],o[this.constValue.rowStatePropertyName]=n[this.constValue.rowStatePropertyName],o.state.value=n[this.propertyName]==undefined||n[this.propertyName]==null?"":n[this.propertyName],o.rowIndex=i,o.columnIndex=r,o.dataTableId=e.dataTableId,o.isFirstColumn=this.isFirstColumn,o.isLastColumn=this.isLastColumn,o.isLastRowData=e.isLastRowData,s=new ecount.gridV3.sectionTbodyCell({gridGenerator:this.gridGenerator,widgetGenerator:this.widgetGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager},o,this.config),this.cells.push(s),s.setRowData(n),s.setRenderingState("init"),h=s.getCreatedData(n,t,i,r,u,f),s.setRenderingState("renderCompleted"),s.extendCellState({validation:{result:!0,popover:{placement:"auto",message:"",visible:!0,trigger:"hover"},css:{visible:!0}}}),h},createEmptyCell:function(n,t,i,r,u,f,e){var o={rowId:n[this.constValue.keyColumnPropertyName],value:n[this.propertyName]||"",rowIndex:i,columnIndex:r,dataTableId:e.dataTableId,isMergedCell:!0};this.cells.length>i?this.cells.splice(i,0,o):this.cells.push(o)},setCacheTable:function(n){this.tableElement=n;this.cells.forEach(function(t){if(t.isMergedCell)return!1;t.setCacheTable(n)})},addRow:function(n,t,i,r,u,f,e){var o,s,h;if(this.isOnlyDataColumn())this.cells.splice(n,0,{value:i[this.propertyName],rowId:i[this.constValue.keyColumnPropertyName],rowIndex:u});else return o=this.getCellData(),o.rowId=i[this.constValue.keyColumnPropertyName],o[this.constValue.rowCountColumnPropertyName]=i[this.constValue.rowCountColumnPropertyName],o[this.constValue.rowIndexPropertyName]=i[this.constValue.rowIndexPropertyName],o[this.constValue.rowStatePropertyName]=i[this.constValue.rowStatePropertyName],o.state.value=i[this.propertyName]==undefined||i[this.propertyName]==null?"":i[this.propertyName],o.rowIndex=u,o.columnIndex=f,o.dataTableId=e.dataTableId,s=new ecount.gridV3.sectionTbodyCell({gridGenerator:this.gridGenerator,widgetGenerator:this.widgetGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager},o,this.config),s.setCacheTable(e.tableElement),this.cells.splice(n,0,s),s.setRowData(i),s.setRenderingState("init"),h=s.getCreatedData(i,r,u,f),s.setRenderingState("renderCompleted"),s.extendCellState({validation:{result:!0,popover:{placement:"auto",message:"",visible:!0,trigger:"hover"},css:{visible:!0}}}),h},addEmptyCell:function(){},moveRow:function(n,t){var r=this.cells.splice(n,1),i,u;for(r.splice(0,0,t,0),Array.prototype.splice.apply(this.cells,r),i=Math.min(n,t),u=this.cells.length;i<u;i++)this.isOnlyDataColumn()?this.constValue.rowIndexPropertyName==this.getId()?this.cells[i].value=i:this.constValue.rowCountColumnPropertyName==this.getId()&&(this.cells[i].value=i+1):this.cells[i]&&this.cells[i].isMergedCell||(this.cells[i].setRowDataIndex(i),this.cells[i].setRowDataCount(i+1))},getRowDataId:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].rowId:this.cells[n]&&this.cells[n].getRowDataId()},getRowDataCount:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataCount()},setRowDataCount:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].setRowDataCount(t)},getRowDataIndex:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataIndex()},setRowDataIndex:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].setRowDataIndex(t)},getRowDataState:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.constValue.rowState.none:this.cells[n]&&this.cells[n].getRowDataState()},isOnlyDataColumn:function(){return this.__isOnlyDataColumn===!0},getState:function(n){return this[n]},setState:function(n,t){this[n]=t},isLineChange:function(){return this.linechange==!0},isSlipType:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.slip},isLineType:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.line},isTopSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot1},isTopSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot2},isTopSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot3},isTopSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot4},isTopSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot5},isBottomSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1},isBottomSubTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1slip},isBottomSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2},isBottomSubTotal2Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2slip},isBottomSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3},isBottomSubTotal3Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3slip},isBottomSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4},isBottomSubTotal4Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4slip},isBottomSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5},isBottomSubTotal5Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5slip},isPageTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetot},isPageTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetotslip},getId:function(){return this.getState("id")},getPropertyName:function(){return this.getState("propertyName")},getIsHideColumn:function(){return ecount.common.isTrue(this.getState("isHideColumn"))},getCursorIndex:function(n){return this.cells[n]&&this.cells[n].getCursorIndex()},isMergeColumn:function(){return ecount.common.isTrue(this.getState("isMergeColumn"))},isEditableState:function(n,t){var u,f;if(this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell)return!1;if(this.cells[n]){var i=this.cells[n].createModuleEditLayerGenerator(t,n),e=i.cellGenerator,r=i.controlGenerator;return r?(u=e.end(),f=r.end(),!["","widget.label","widget.gridCell.label",null,undefined].contains(f.controlType)&&!u.className.contains("disabled")):!1}return!1},isValidation:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!0:this.cells[n]&&this.cells[n].getCellValidationResult()===!0},isFoldColumn:function(){return this.constValue.foldColumnPropertyNameRex.test(this.getId())},getControlType:function(){return this.getState("controlType")},setWidth:function(n){this.setState("width",n)},setIsHideColumn:function(n){return this.isHideColumn=n},deleteValidation:function(n){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].deleteValidation()},showCellControlLayer:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].showCellControlLayer(t)},showValidation:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].showValidation(t)},showUIValidation:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].showUIValidation(t)},redrawCssValidation:function(n){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].redrawCssValidation({columnId:this.getId()})},getValidationResultInfo:function(n){return this.cells[n]&&this.cells[n].getValidationResultInfo()},getControlOptionControlType:function(){return this.getState("controlOption.controlType")},setControlToggleShaded:function(n,t,i,r){this.config.shaded&&this.config.shaded.list&&this.config.shaded.list.contains(this.getId())&&(this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setControlToggleShaded(t,i,r))},setControlChecked:function(n,t,i,r,u){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].setControlChecked(t,i,n,r,u)},setControlIncreaseCheckBoxNumber:function(n,t){this.cells[n]&&this.cells[n].setControlIncreaseCheckBoxNumber(t)},setControlDecreaseCheckBoxNumber:function(n,t){this.cells[n]&&this.cells[n].setControlDecreaseCheckBoxNumber(t)},setControlChangeCheckBoxNumber:function(n,t){this.cells[n]&&this.cells[n].setControlChangeCheckBoxNumber(t)},setColumnVisibility:function(n){var t=n?"removeCellClass":"addCellClass";this.cells.some(function(i){if(i.isMergedCell||i.isOnlyDataColumn&&i.isOnlyDataColumn())return!1;i.setIsHideColumn(!n);i[t](["hide"])});this.setIsHideColumn(!n)},getColumnMaxColspanCount:function(){var n=0;return this.cells.some(function(t){if(t.isMergedCell||t.isOnlyDataColumn&&t.isOnlyDataColumn())return!1;n=Math.max(t.getColspanCount(),n)}),n},addCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].addCellClass(t)},removeCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].removeCellClass(t)},hasCellClass:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].hasCellClass(t),!1},getCell:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getCell()},getConvertValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getConvertValue()},getValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getValue()},setValue:function(n,t,i,r){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]?(this.cells[n].value=t,i[this.getPropertyName()]=t,!0):!1:this.cells[n]&&this.cells[n].setValue(t,n,i,r)},setCellByControlIndex:function(n,t,i,r,u){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]?(this.cells[n].value=t,r[this.getPropertyName()]=t,!0):!1:this.cells[n]&&this.cells[n].setCellByControlIndex(t,i,r,n,u)},refreshCell:function(n,t,i){if(!this.isOnlyDataColumn()&&(!this.cells[t]||!this.cells[t].isMergedCell))return this.cells[t]&&this.cells[t].refreshCell(n,t,i)},setCellEditable:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setCellEditable(t)},getCellEditable:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getCellEditable()},getControlControlType:function(n,t,i){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].getControlControlType(t,i,n)},setControlValue:function(n,t){if(!this.isOnlyDataColumn()&&(!this.cells[n]||!this.cells[n].isMergedCell))return this.cells[n]&&this.cells[n].setControlValue(t)},getControlValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].getControlValue()},getControlIsReadOnly:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!0:this.cells[n]&&this.cells[n].getControlIsReadOnly()},syncControlValueInRowData:function(n,t,i){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].syncControlValueInRowData(t,n,i)},setControlTreeNodeOpen:function(n){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setControlTreeNodeOpen()},setControlTreeNodeClose:function(n){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setControlTreeNodeClose()},setControlFocus:function(n,t,i){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].setControlFocus(t,n,i)},setControlPrevFocus:function(n,t,i){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].setControlPrevFocus(t,n,i)},isControlNextFocus:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].isControlNextFocus()},isControlPrevFocus:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].isControlPrevFocus()},getCombineFocusableIndex:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getCombineFocusableIndex(t)},getCombineChildIndex:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getCombineChildIndex(t)},getFoldLayerValue:function(n,t,i){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getFoldLayerValue(t,i)},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v;this.setDataType1(n,t);a="";switch(t){case"NUM":v=$.isNumber(r)?r.toString():"0";a=(i?"9":"8")+v;this.setDataType(n,a);this.setDateFormat(n,"");$.isEmpty(i)&&this.setIsDisplayZero(n,i);$.isEmpty(e)&&this.setIsShowIfZero(n,e);$.isEmpty(f)&&this.setIsCheckZero(n,ecount.common.isTrue(f));u&&this.setAmtCalc(n,u);o&&this.setThousandSeparator(n,o);s&&this.setDecimalSeparator(n,s);this.setControlOptionDataType(n,"9"+v);l&&(l.decimalUnit&&this.setControlOptionDecimalUnit(n,l.decimalUnit),l.numberType&&this.setControlOptionNumberType(n,l.numberType));break;case"DATETIME":/^(date)\d{2}$/gi.test(h)?a=h:h=="CustomDate"?(a="29",c==""&&(h="")):a="5";this.setDataType(n,a);this.setDateFormat(n,h);this.setIsDisplayZero(n,!1);this.setIsCheckZero(n,!1);this.setIsShowIfZero(n,!1);this.setAmtCalc(n,"");this.setThousandSeparator(n,"");this.setDecimalSeparator(n,"");this.setControlOptionDataType(n,"");this.setControlOptionDecimalUnit(n,null);this.setControlOptionNumberType(n,null);break;case"TEXT":this.setDataType(n,a);this.setDateFormat(n,"");this.setIsDisplayZero(n,!1);this.setIsCheckZero(n,!1);this.setIsShowIfZero(n,!1);this.setAmtCalc(n,"");this.setThousandSeparator(n,"");this.setDecimalSeparator(n,"");this.setControlOptionDataType(n,"");this.setControlOptionDecimalUnit(n,null);this.setControlOptionNumberType(n,null)}},setDataType1:function(n,t){return this.setState("dataType1",t),this.cells[n]&&this.cells[n].setDataType1(t)},setDataType:function(n,t){return this.setState("dataType",t),this.cells[n]&&this.cells[n].setDataType(t)},setDateFormat:function(n,t){return this.setState("dateFormat",t),this.cells[n]&&this.cells[n].setDateFormat(t)},setIsDisplayZero:function(n,t){return this.setState("isDisplayZero",t),this.cells[n]&&this.cells[n].setIsDisplayZero(t)},setIsShowIfZero:function(n,t){return this.setState("isShowIfZero",t),this.cells[n]&&this.cells[n].setIsShowIfZero(t)},setIsCheckZero:function(n,t){return this.setState("isCheckZero",t),this.cells[n]&&this.cells[n].setIsCheckZero(t)},setAmtCalc:function(n,t){return this.setState("amtCalc",t),this.cells[n]&&this.cells[n].setAmtCalc(t)},setThousandSeparator:function(n,t){return this.setState("thousandSeparator",t),this.cells[n]&&this.cells[n].setThousandSeparator(t)},setDecimalSeparator:function(n,t){return this.setState("decimalSeparator",t),this.cells[n]&&this.cells[n].setDecimalSeparator(t)},setControlOptionDataType:function(n,t){return this.setState("controlOption.dataType",t),this.cells[n]&&this.cells[n].setControlOptionDataType(t)},setControlOptionDecimalUnit:function(n,t){return this.setState("controlOption.decimalUnit",t),this.cells[n]&&this.cells[n].setControlOptionDecimalUnit(t)},setControlOptionNumberType:function(n,t){return this.setState("controlOption.numberType",t),this.cells[n]&&this.cells[n].setControlOptionNumberType(t)},setControlFont:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFont(i)},setControlFontColor:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontColor(i)},setControlFontSize:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontSize(i)},setControlFontBold:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontBold(i)},setControlFontUnderline:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontUnderline(i)},setControlFontItalic:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontItalic(i)},setControlFontStrike:function(n,t,i){return this.cells[t]&&this.cells[t].setControlFontStrike(i)},setControlVerticalAlign:function(n,t,i){return this.cells[t]&&this.cells[t].setControlVerticalAlign(i)},setControlHorizontalAlign:function(n,t,i){return this.cells[t]&&this.cells[t].setControlHorizontalAlign(i)},setControlIsBackgroundColor:function(n,t,i){return this.cells[t]&&this.cells[t].setControlIsBackgroundColor(i)},deleteCell:function(n){this.cells[n]&&(this.isOnlyDataColumn()||this.cells[n].isMergedCell||this.cells[n].destroyAll(),this.cells.splice(n,1))},isCellModuleEditLayerActive:function(){var n=!1;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=!0,!0}),n},getCellModuleEditLayerActive:function(){var n=null;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=t,!0}),n},deactiveModuleEditLayer:function(n,t){this.config.editable.use&&this.cells.some(function(i){i.isModuleEditLayerActive&&i.isModuleEditLayerActive()&&i&&i.deactiveModuleEditLayer(n,t)})},setDestroyInstanceFlag:function(n){for(var t=0,i=this.cells.length;t<i;t++)this.isOnlyDataColumn()||this.cells[t]&&this.cells[t].isMergedCell||this.cells[t].setDestroyInstanceFlag(n)},resetTrHeight:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].resetTrHeight(t)},isControlEnableFocus:function(){if(this.config.editable.use){var n=this.getCellModuleEditLayerActive();return n&&n.isControlEnableFocus()}return!1},refreshActiveModulePosition:function(n){this.cells[n]&&this.cells[n].refreshActiveModulePosition()},serialize:function(){var n={};return this.isOnlyDataColumn()||(n={id:v.id,sectionType:v.sectionType,propertyName:v.state.propertyName,width:v.state.width,controlType:v.state.controlType,isShadow:v.state.isShadow,isHideColumn:v.state.isHideColumn,font:v.state.font,fontColor:v.state.fontColor,fontSize:v.state.fontSize,fontStrike:v.state.fontStrike,fontUnderline:v.state.fontUnderline,fontItalic:v.state.fontItalic,fontBold:v.state.fontBold,align:v.state.align,valign:v.state.valign,fontCellBgColor:v.fontCellBgColor,fontEcsTxtProcCd:v.fontEcsTxtProcCd,className:v.state.className,editableState:v.state.editableState,cursorIndex:v.state.cursorIndex,lineNo:v.state.lineNo,linechange:v.state.linechange,columnOption:v.state.columnOption,controlOption:v.state.controlOption,footerOption:v.state.footerOption,isTodayTime:v.state.isTodayTime,amtCalc:v.state.amtCalc,thousandSeparator:v.state.thousandSeparator,decimalSeparator:v.state.decimalSeparator,customizeDate:v.state.customizeDate,dateFormat:v.state.dateFormat,dataType:v.state.dataType,dataType1:v.state.dataType1,dataType2:v.state.dataType2,dateFormat:v.state.dateFormat,isDisplayZero:v.state.isDisplayZero,decCount:v.state.decCount,isCheckZero:v.state.isCheckZero,isShowIfZero:v.state.isShowIfZero,amtCalc:v.state.amtCalc,thousandSeparator:v.state.thousandSeparator,decimalSeparator:v.state.decimalSeparator}),n},setControlInstanceValue:function(n,t,i){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setControlInstanceValue(t,i)},clearAddons:function(){if(this.cells)for(var n=0,t=this.cells.length;n<t;n++)this.cells[n]&&this.cells[n].clearAddons&&this.cells[n].clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t,i,r){this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_CLICK(n,t,i,r)},_ON_CLICK_CUSTOM:function(n,t,i,r){this.isOnlyDataColumn()||this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex].isMergedCell||this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_CLICK_CUSTOM(n,t,i,r)},_ON_DBLCLICK:function(n,t){this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_DBLCLICK(n,t)},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_DEACTIVATE(n,t,i,r)}},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_KEYDOWN_ARROW_OTHERS(n,t,i,r)}},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_KEYDOWN_BACKSPACE(n,t,i,r)}},_ON_GRID_KEYDOWN_DELETE:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_KEYDOWN_DELETE(n,t,i,r)}},_ON_GRID_KEYDOWN_ENTER:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_KEYDOWN_ENTER(n,t,i,r)}},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_GRID_KEYDOWN_SPACE(n,t,i,r)}},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_MOUSEDOWN(n,t,i,r)}},_ON_MOUSEOUT:function(n,t,i,r){this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_MOUSEOUT(n,t,i,r)},_ON_MOUSEOVER:function(n,t){this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_MOUSEOVER(n,t)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(n,t,i,r){this.cells.forEach(function(u){if(u.rowId==n.gridDataKey){u._ON_GRID_CONTEXTMENU(n,t,i,r);return}})},_ON_SCROLL:function(n,t,i,r){if(this.config.editable.use){var u=this.getCellModuleEditLayerActive();u&&u._ON_SCROLL(n,t,i,r)}}});ecount.class("ecount.gridV3.sectionTfootColumn",null,{init:function(n,t,i,r){r=r||{};_.extend(this,n);_.extend(this,r);this.config=i;this.constValue=ecount.grid.constValue;t&&_.extend(this,t);this.customColumnResult=null;this.cells=[]},destroyAll:function(){},getCellData:function(){var n=this,t={id:n.id,sectionType:n.sectionType,customCellCallback:n.customCellCallback,customColumnCallback:n.customColumnCallback};return t.state=n,t.state.validation={result:!0,popover:{placement:"auto",message:"",visible:!0,trigger:"hover"},css:{visible:!0}},t},getRowDataId:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].rowId:this.cells[n]&&this.cells[n].getRowDataId()},getRowDataCount:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataCount()},getRowDataIndex:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?-1:this.cells[n]&&this.cells[n].getRowDataIndex()},getRowDataState:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.constValue.rowState.none:this.cells[n]&&this.cells[n].getRowDataState()},isOnlyDataColumn:function(){return this.__isOnlyDataColumn===!0},getState:function(n){return this[n]},setState:function(n,t){this[n]=t},isLineChange:function(){return this.linechange==!0},isSlipType:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.slip},isLineType:function(){return this.GROUP_FLAG!=this.constValue.sectionSeparateValue.slip},isTopSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot1},isTopSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot2},isTopSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot3},isTopSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot4},isTopSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.tsubtot5},isBottomSubTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1},isBottomSubTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot1slip},isBottomSubTotal2:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2},isBottomSubTotal2Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot2slip},isBottomSubTotal3:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3},isBottomSubTotal3Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot3slip},isBottomSubTotal4:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4},isBottomSubTotal4Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot4slip},isBottomSubTotal5:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5},isBottomSubTotal5Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.subtot5slip},isPageTotal1:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetot},isPageTotal1Slip:function(){return this.GROUP_FLAG==this.constValue.sectionSeparateValue.pagetotslip},getCreatedData:function(n,t,i,r,u,f,e){var o,s;if(this.isOnlyDataColumn())this.cells.push({value:n[this.propertyName],rowId:n[this.constValue.keyColumnPropertyName],rowIndex:i});else return o=this.getCellData(),o.rowId=n[this.constValue.keyColumnPropertyName],o[this.constValue.rowCountColumnPropertyName]=n[this.constValue.rowCountColumnPropertyName],o[this.constValue.rowIndexPropertyName]=n[this.constValue.rowIndexPropertyName],o[this.constValue.rowStatePropertyName]=n[this.constValue.rowStatePropertyName],o.state.value=n[this.propertyName]==undefined||n[this.propertyName]==null?"":n[this.propertyName],o.rowIndex=i,o.columnIndex=r,o.dataTableId=e.dataTableId,o.isFirstColumn=this.isFirstColumn,o.isLastColumn=this.isLastColumn,s=new ecount.gridV3.sectionTfootCell({gridGenerator:this.gridGenerator,widgetGenerator:this.widgetGenerator,controlGenerator:this.controlGenerator,instanceManager:this.instanceManager},o,this.config),this.cells.push(s),s.getCreatedData(n,t,i,r,u,f)},createEmptyCell:function(n,t,i,r,u,f,e){this.cells.push({rowId:n[this.constValue.keyColumnPropertyName],value:n[this.propertyName]||"",rowIndex:i,columnIndex:r,groupRowIndex:u,columnRowCount:f,dataTableId:e.dataTableId,isMergedCell:!0})},setCacheTable:function(n){this.tableElement=n;this.cells.forEach(function(t){if(t.isMergedCell)return!1;t.setCacheTable(n)})},getId:function(){return this.getState("id")},getPropertyName:function(){return this.getState("propertyName")},getIsHideColumn:function(){return ecount.common.isTrue(this.getState("isHideColumn"))},getCursorIndex:function(n){return this.cells[n]&&this.cells[n].getCursorIndex()},setWidth:function(n){this.setState("width",n)},setControlShaded:function(n,t,i){this.config.shaded&&this.config.shaded.list&&this.config.shaded.list.contains(this.getId())&&this.cells[n].setControlShaded(t,i)},setControlChecked:function(n,t,i,r){this.cells[n]&&this.cells[n].setControlChecked(t,i,n,r)},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v;this.setDataType1(n,t);a="";switch(t){case"NUM":v=$.isNumber(r)?r.toString():"0";a=(i?"9":"8")+v;this.setDataType(n,a);this.setDateFormat(n,"");$.isEmpty(i)&&this.setIsDisplayZero(n,i);$.isEmpty(e)&&this.setIsShowIfZero(n,e);$.isEmpty(f)&&this.setIsCheckZero(n,ecount.common.isTrue(f));u&&this.setAmtCalc(n,u);o&&this.setThousandSeparator(n,o);s&&this.setDecimalSeparator(n,s);this.setControlOptionDataType(n,"9"+v);l&&(l.decimalUnit&&this.setControlOptionDecimalUnit(n,l.decimalUnit),l.numberType&&this.setControlOptionNumberType(n,l.numberType));break;case"DATETIME":/^(date)\d{2}$/gi.test(h)?a=h:h=="CustomDate"?(a="29",c==""&&(h="")):a="5";this.setDataType(n,a);this.setDateFormat(n,h);this.setIsDisplayZero(n,!1);this.setIsCheckZero(n,!1);this.setIsShowIfZero(n,!1);this.setAmtCalc(n,"");this.setThousandSeparator(n,"");this.setDecimalSeparator(n,"");this.setControlOptionDataType(n,"");this.setControlOptionDecimalUnit(n,null);this.setControlOptionNumberType(n,null);break;case"TEXT":this.setDataType(n,a);this.setDateFormat(n,"");this.setIsDisplayZero(n,!1);this.setIsCheckZero(n,!1);this.setIsShowIfZero(n,!1);this.setAmtCalc(n,"");this.setThousandSeparator(n,"");this.setDecimalSeparator(n,"");this.setControlOptionDataType(n,"");this.setControlOptionDecimalUnit(n,null);this.setControlOptionNumberType(n,null)}},setDataType1:function(n,t){return this.setState("dataType1",t),this.cells[n]&&this.cells[n].setDataType1(t)},setDataType:function(n,t){return this.setState("dataType",t),this.cells[n]&&this.cells[n].setDataType(t)},setDateFormat:function(n,t){return this.setState("dateFormat",t),this.cells[n]&&this.cells[n].setDateFormat(t)},setIsDisplayZero:function(n,t){return this.setState("isDisplayZero",t),this.cells[n]&&this.cells[n].setIsDisplayZero(t)},setIsShowIfZero:function(n,t){return this.setState("isShowIfZero",t),this.cells[n]&&this.cells[n].setIsShowIfZero(t)},setIsCheckZero:function(n,t){return this.setState("isCheckZero",t),this.cells[n]&&this.cells[n].setIsCheckZero(t)},setAmtCalc:function(n,t){return this.setState("amtCalc",t),this.cells[n]&&this.cells[n].setAmtCalc(t)},setThousandSeparator:function(n,t){return this.setState("thousandSeparator",t),this.cells[n]&&this.cells[n].setThousandSeparator(t)},setDecimalSeparator:function(n,t){return this.setState("decimalSeparator",t),this.cells[n]&&this.cells[n].setDecimalSeparator(t)},setControlOptionDataType:function(n,t){return this.setState("controlOption.dataType",t),this.cells[n]&&this.cells[n].setControlOptionDataType(t)},setControlOptionDecimalUnit:function(n,t){return this.setState("controlOption.decimalUnit",t),this.cells[n]&&this.cells[n].setControlOptionDecimalUnit(t)},setControlOptionNumberType:function(n,t){return this.setState("controlOption.numberType",t),this.cells[n]&&this.cells[n].setControlOptionNumberType(t)},setColumnVisibility:function(n){var t=n?"removeCellClass":"addCellClass";this.cells.some(function(i){if(i.isMergedCell||i.isOnlyDataColumn&&i.isOnlyDataColumn())return!1;i.setIsHideColumn(!n);i[t](["hide"])})},getColumnMaxColspanCount:function(){var n=0;return this.cells.some(function(t){if(t.isMergedCell||t.isOnlyDataColumn&&t.isOnlyDataColumn())return!1;n=Math.max(t.getColspanCount(),n)}),n},addCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].addCellClass(t)},removeCellClass:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].removeCellClass(t)},getCell:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getCell()},getValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]&&this.cells[n].value:this.cells[n]&&this.cells[n].getValue()},setValue:function(n,t,i,r){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?this.cells[n]?(this.cells[n].value=t,i[this.getPropertyName()]=t,!0):!1:this.cells[n]&&this.cells[n].setValue(t,n,i,r)},refreshCell:function(n,t){if(!this.isOnlyDataColumn()&&(!this.cells[t]||!this.cells[t].isMergedCell))return this.cells[t]&&this.cells[t].refreshCell(n,t)},setCellEditable:function(n,t){this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell||this.cells[n]&&this.cells[n].setCellEditable(t)},getCellEditable:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?!1:this.cells[n]&&this.cells[n].getCellEditable()},getControlControlType:function(n,t){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].getControlControlType(t)},setControlValue:function(n,t){if(!this.isOnlyDataColumn()&&(!this.cells[n]||!this.cells[n].isMergedCell))return this.cells[n]&&this.cells[n].setControlValue(t)},getControlValue:function(n){return this.isOnlyDataColumn()||this.cells[n]&&this.cells[n].isMergedCell?null:this.cells[n]&&this.cells[n].getControlValue()},isCellModuleEditLayerActive:function(){var n=!1;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=!0,!0}),n},getCellModuleEditLayerActive:function(){var n=null;return this.cells.some(function(t){if(t.isModuleEditLayerActive&&t.isModuleEditLayerActive())return n=t,!0}),n},deactiveModuleEditLayer:function(n){if(this.config.editable.use){var t=this.getCellModuleEditLayerActive();t&&t.deactiveModuleEditLayer(n)}},serialize:function(){var t={},n;return this.isOnlyDataColumn()||(n=this.cells[0],t={id:n.id,sectionType:n.sectionType,propertyName:n.state.propertyName,width:n.state.width,controlType:n.state.controlType,isShadow:n.state.isShadow,isHideColumn:n.state.isHideColumn,font:n.state.font,fontColor:n.state.fontColor,fontSize:n.state.fontSize,fontStrike:n.state.fontStrike,fontUnderline:n.state.fontUnderline,fontItalic:n.state.fontItalic,fontBold:n.state.fontBold,align:n.state.align,valign:n.state.valign,className:n.state.className,editableState:n.state.editableState,cursorIndex:n.state.cursorIndex,lineNo:n.state.lineNo,linechange:n.state.linechange,columnOption:n.state.columnOption,controlOption:n.state.controlOption,footerOption:n.state.footerOption,isTodayTime:n.state.isTodayTime,dataType:n.state.dataType,amtCalc:n.state.amtCalc,thousandSeparator:n.state.thousandSeparator,decimalSeparator:n.state.decimalSeparator,customizeDate:n.state.customizeDate,dateFormat:n.state.dateFormat,dataType:n.state.dataType,dataType1:n.state.dataType1,dataType2:n.state.dataType2,dateFormat:n.state.dateFormat,isDisplayZero:n.state.isDisplayZero,decCount:n.state.decCount,isCheckZero:n.state.isCheckZero,isShowIfZero:n.state.isShowIfZero,amtCalc:n.state.amtCalc,thousandSeparator:n.state.thousandSeparator,decimalSeparator:n.state.decimalSeparator}),t},clearAddons:function(){if(this.cells)for(var n=0,t=this.cells.length;n<t;n++)this.cells[n]&&this.cells[n].clearAddons&&this.cells[n].clearAddons()},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.cells[n.gridRowIndex]&&this.cells[n.gridRowIndex]._ON_CLICK(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t){this.cells[n.gridRowIndex]._ON_MOUSEOUT(n,t)},_ON_MOUSEOVER:function(n,t){this.cells[n.gridRowIndex]._ON_MOUSEOVER(n,t)},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTheadCell",null,{init:function(n,t,i){_.extend(this,n);_.extend(this,t);this.config=i;this.cellElement=null;this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.viewTableKeys={className:"add.className"}},destroyAll:function(){var n=this.cellState&&this.cellState.toggle;n&&n.created&&ecount.popover.destroy($(this.getToggleTargetElement(n)),n.type);this.cellElement=null;this.state=null;this.controlState=null;this.rowData=null},setGridGenerator:function(n){return this.gridGenerator=n,this},setControlGenerator:function(n){return this.controlGenerator=n,this},setInstanceManager:function(n){return this.instanceManager=n,this},isEmptyValue:function(n){var t=!0;return n.some(function(n){return typeof n.label=="string"||_.isUndefined(n.label)||_.isNull(n.label)||(n.label=String(n.label)),n.label&&n.label.toString().replace("&nbsp;","")!=""?(t=!1,!0):void 0}),t},getCallbackCommand:function(n,t){var r=this.constValue.eventPrefix,i=r;return t&&(i+=t.substring(0,1).toUpperCase()+t.substring(1)),n&&(i+=n.substring(0,1).toUpperCase()+n.substring(1)),i},setRowData:function(n){this.rowData=n},getCreatedData:function(n,t){var u=this.getCellGenerator(n,t),i=u.end(),r=this.instanceManager.create(i.controlType,i);return r.setInstanceManager(this.instanceManager),this.cellState=i,this.controlState=r.state[0].controls[0].end(),r.renderHTML()},getCellGenerator:function(n,t){var u,i,r;this.rowId=n[this.constValue.keyColumnPropertyName];this.rowData=n;u=this.getAttrs({"data-key":ecount.gridV3.utils.escapeHTML(this.rowId),"data-columnid":this.id,"data-rowtype":"line"});this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]?(i=this.rowData[this.getPropertyName()],typeof i=="boolean"&&(i=[{checked:i,label:""}])):i=this.getValue();i=i==undefined||i==null?"":i;var f=this.getState("dataType1"),e=this.getState("dataType2"),o=this.getDateFormat();return i!=""&&f=="DATETIME"&&(o=="Date20"||["YEARMONTH","YEARMONTH_NO"].contains(e))&&(i=ecount.gridV3.utils.setViewValueDate20(i)),r=this.getConverter(),r&&(i=r(i,{isTodayTime:this.getIsTodayTime(),dataType:this.getDataType(),amtCalc:this.getAmtCalc(),isCheckZero:this.getIsCheckZero(),thousandSeparator:this.getThousandSeparator(),decimalSeparator:this.getDecimalSeparator(),customizeDate:this.getCustomizeDate(),dateFormat:this.getDateFormat()})),this.rowData=n,this.createCellGenerator({tag:"th",attrs:u,styles:this.getStyles(),className:this.getClassName(),text:i},n,t)},createCellGenerator:function(n,t,i){var f,e,o,a,u,s;if(this.gridGenerator){var v=t[this.rowVariableNames.mergeSet],r=v&&v.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.columnIndex}.bind(this)),h,c,l="";r&&(h=r[this.rowVariableNames.colspanCount]||1,c=r[this.rowVariableNames.rowspanCount]||1,l=r[this.rowVariableNames.rowTitle]||"",h>1&&(n.attrs.colspan=h),c>1&&(n.attrs.rowspan=c));f=this.gridGenerator.container().define("ecount.gridV3.container.view.cell",null,n);f.setInstanceManager(this.instanceManager);e=this.createWidgetGenerator(f,{attrs:{},styles:{},className:[],text:n.text},t,i);function y(){o=e.end()}y();e&&(o.id||e.setId([this.sectionType,this.id,this.rowId].join(ecount.constValue.gridDelimiter)),this.constValue.nativeControlInWidgetCheckbox[o.controlType]&&(e.value(["Y"]),(this.config.checkbox.isCheckedMax(this.id)||this.config.checkbox.isAllChecked(this.id)||n.text&&n.text[0].checked===!0)&&(e.select("Y"),f.value(!0),this.setValue(!0,i,t,!1))),["widget.label","widget.gridCell.label"].contains(o.controlType)||e.delegator(this.config.events.widgetCommonEventDelegator),f.addControl(e));l!=""&&(e.define("widget.gridCell.label").label(l),y());a={ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId,gridDataKey:this.rowId,gridColumnID:this.id,gridSectionType:this.sectionType,popupId:this.config.common.popupId,popupLevel:this.config.common.popupLevel,popupType:this.config.common.popupType,isGridV3:!0};this.getControlOptionPosition()&&(a.position=this.getControlOptionPosition());e.setOptions(a);r&&(u=f.getCss().join(" "),s=r[this.rowVariableNames.isCenterAlign]&&r[this.rowVariableNames.isCenterAlign].toString(),s&&(u=u.replace(this.constValue.alignRex,""),s=="true"?u+=" text-center ":s=="left"?u+=" text-left ":s=="right"?u+=" text-right ":alignInfo=="center"&&(u+=" text-center ")),$.isEmpty(r[this.rowVariableNames.vAlignType])||(u=u.replace(this.constValue.valignRex,"")+("valign-"+r[this.rowVariableNames.vAlignType])),!$.isEmpty(r[this.rowVariableNames.isBold])&&ecount.common.isTrue(r[this.rowVariableNames.isBold])&&(u=u.replace(this.constValue.boldRex,"")+" text-bold "),!$.isEmpty(r[this.rowVariableNames.isFontItalic])&&ecount.common.isTrue(r[this.rowVariableNames.isFontItalic])&&(u=u.replace(this.constValue.italicRex,"")+" text-italic "),!$.isEmpty(r[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(r[this.rowVariableNames.isFontStrike])&&!$.isEmpty(r[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(r[this.rowVariableNames.isFontUnderline])?u=u.replace(this.constValue.strikeUnderlineRex,"")+" grid-text-uline-through ":(!$.isEmpty(r[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(r[this.rowVariableNames.isFontStrike])&&(u=u.replace(this.constValue.strikeRex,"")+" text-line-through "),!$.isEmpty(r[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(r[this.rowVariableNames.isFontUnderline])&&(u=u.replace(this.constValue.underlineRex,"")+" text-uline ")),!$.isEmpty(r[this.rowVariableNames.fontSize])&&r[this.rowVariableNames.fontSize]>0&&(u=u.replace(this.constValue.fontSizeRex,"")+(" font-"+r[this.rowVariableNames.fontSize]+"px ")),$.isEmpty(r[this.rowVariableNames.font])||(u=u.replace(this.constValue.fontRex,"")+(" font-"+ecount.convertor.convertFontClassName(r[this.rowVariableNames.font]))),$.isEmpty(r[this.rowVariableNames.fontColor])||f.style({color:ecount.gridV3.utils.getColor(r[this.rowVariableNames.fontColor])+";"}),$.isEmpty(r[this.rowVariableNames.cellBgColor])||f.style({"background-color":ecount.gridV3.utils.getColor(r[this.rowVariableNames.cellBgColor])+";"}),$.isEmpty(r[this.rowVariableNames.lineBreak])||r[this.rowVariableNames.lineBreak]!="TRU"||f.css(["text-nowrap","overflow-hidden"]),f.removeAllCss(),f.css(u.trim().split(" ")));this.isEmptyValue(o.data)&&f.removeCss(["grid-text-uline-through","text-line-through","text-uline"])}return f},createWidgetGenerator:function(n,t,i,r){var f,u;return this.controlGenerator.reset&&this.controlGenerator.reset(),f=t.text==""?"&nbsp;":t.text,u=this.id.test(this.constValue.rowMoveablePropertyNameRex)?this.controlGenerator.define(this.getControlType()).label([{iconCSS:"fa fa-arrow-circle-down"}]):this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]?this.controlGenerator.define(this.getControlType()||"widget.gridCell.label"):this.controlGenerator.define(this.getControlType()||"widget.gridCell.label"),widget.generator.gridCommon.options(u,this,i,t.text),this.customCellCallback&&this.customCellCallback(t.text,n,u,this,i,r),u},getClassName:function(){var n=[];return this.getFont()&&n.push(this.getFont()),this.getFontSize()&&n.push(this.getFontSize()),this.getAlign()&&n.push(this.getAlign()),this.getValign()&&n.push(this.getValign()),ecount.common.isTrue(this.getFontBold())&&n.push("text-bold"),ecount.common.isTrue(this.getFontItalic())&&n.push("text-italic"),ecount.common.isTrue(this.getFontStrike())&&ecount.common.isTrue(this.getFontUnderline())?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getFontStrike())?n.push("text-line-through"):ecount.common.isTrue(this.getFontUnderline())&&n.push("text-uline"),this.getState("fontCellBgColor")||ecount.common.isFalse(this.getIsShadow())&&n.push("bg-white"),this.getState("fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.splice(n.indexOf("text-nowrap"),1),n.contains("overflow-hidden")&&n.splice(n.indexOf("overflow-hidden"),1)),ecount.common.isTrue(this.getIsHideColumn())&&n.push("hide"),!ecount.common.isTrue(this.getIsHideColumn())&&ecount.common.isFalse(this.getEditableState())&&n.push("disabled"),this.config.theadSearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname)),n},getStyles:function(){var n={},t=null,y=!1,p=!1,w=!1,b=!1,i=null,r=null,u=null,f=null,e=null,o=null,s=null,h=null,c=null,l=null,a=null,v=null;return t=ecount.gridV3.utils.getColor(this.getState("fontCellBgColor")),y=this.getState("TOP_BORD_USE_TF"),p=this.getState("BTTM_BORD_USE_TF"),w=this.getState("LEFT_BORD_USE_TF"),b=this.getState("RGT_BORD_USE_TF"),i=ecount.gridV3.utils.getColor(this.getState("TOP_BORD_COLOR_CD")),r=this.getState("TOP_BORD_THICK"),u=this.getState("TOP_BORD_STYL_CD"),f=ecount.gridV3.utils.getColor(this.getState("LEFT_BORD_COLOR_CD")),e=this.getState("LEFT_BORD_THICK"),o=this.getState("LEFT_BORD_STYL_CD"),s=ecount.gridV3.utils.getColor(this.getState("BTTM_BORD_COLOR_CD")),h=this.getState("BTTM_BORD_THICK"),c=this.getState("BTTM_BORD_STYL_CD"),l=ecount.gridV3.utils.getColor(this.getState("RGT_BORD_COLOR_CD")),a=this.getState("RGT_BORD_THICK"),v=this.getState("RGT_BORD_STYL_CD"),this.getFontColor()&&(n.color=ecount.gridV3.utils.getColor(this.getFontColor())),t&&(n["background-color"]=t),y||p||w||b?(i&&(n["border-top-color"]=i),u&&(n["border-top-width"]=r+"px"),r&&(n["border-top-style"]=u+" !important"),f&&(n["border-left-color"]=f),e&&(n["border-left-width"]=e+"px"),o&&(n["border-left-style"]=o+" !important"),s&&(n["border-bottom-color"]=s),h&&(n["border-bottom-width"]=h+"px"),c&&(n["border-bottom-style"]=c+" !important"),l&&(n["border-right-color"]=l),a&&(n["border-right-width"]=a+"px"),v&&(n["border-right-style"]=v+" !important")):this.config.table.borderColor&&(n["border-color"]=ecount.gridV3.utils.getColor(this.config.table.borderColor)),n},getAttrs:function(n){var i,t;n=n||{};i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},setCacheTable:function(n){this.tableElement=n},getStateName:function(n){var i=n.split("."),t="";return i.forEach(function(n){t+=n.substring(0,1).toUpperCase()+n.substring(1)}),t},getStateObject:function(n){for(var t=this.state,r=n.split("."),i=0,u=r.length-1;i<u;i++)t=t[r[i]];return t},getCellElement:function(){var r,n,u,t,i,f;if(this.cellElement)return this.cellElement;if(r=this.tableElement,n=null,r&&(u=r.querySelector("thead"),t=u.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(this.rowId)+"']"),t))for(i=0,f=t.length;i<f;i++)if(n=t[i].querySelector("[data-columnid='"+this.id+"']"),n)break;return this.cellElement=n,n},getControlElement:function(){for(var t=this.getCellElement(),i=null,n=0,r=t.children.length;n<r;n++)if(!t.children[n].classList.contains("validation")){i=t.children[n];break}return i},getToggleTargetElement:function(n){return n.addon?this.getCellElement().querySelector('[data-addon="'+n.addon+'"]'):this.getCellElement()},setState:function(n,t,i){var r,f,u,e,o;if(i=/\d+/.test(i)?i:0,r=n.split("."),this.getState(n)!=t){if(f=this.getStateObject(n),!f)return;if(f[r[r.length-1]]=typeof f[r[r.length-1]]=="object"?t:t,u=this.instanceManager.create("ecount.gridV3.container.view.cell",this.state),!u)return;if(e=this.viewTableKeys[n],!e)return;o=this.getCellElement();u.setElement&&u.setElement(o);u.update(this.viewTableKeys[n],this.getState(n))}},getState:function(n){var u=this.getStateObject(n),i=n.split("."),t,r;return u?(t=u[i[i.length-1]],r=typeof t,i[i.length-1]=="propertyName"?t:r=="object"?t:(r=="function"||/^-?\d+$/.test(t),t)):null},isNotEqualObjectValue:function(n,t){var i=!1;for(var r in n)i||n.hasOwnProperty(r)&&n[r]!=t[r]&&(i=!0);return i},getPropertyName:function(){return this.getState("propertyName")},getValue:function(){var n=this.rowData[this.getPropertyName()];return this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]?typeof n=="object"&&n.constructor==Array?n[0].checked:ecount.common.isTrue(n):(this.id==this.constValue.rowCountColumnPropertyName?n=this[this.constValue.rowCountColumnPropertyName]:this.id==this.constValue.rowIndexPropertyName?n=this[this.constValue.rowIndexPropertyName]:this.id==this.constValue.rowStatePropertyName&&(n=this[this.constValue.rowStatePropertyName]),$.isEmpty(n)?"":n)},setValue:function(n,t,i,r){var s;r=r||{isRunChange:!0};var o=typeof r.isRunChange=="boolean"?r.isRunChange:!0,f=!1,h=this.getValue(),u=this.rowData[this.getPropertyName()],e=typeof n;return typeof u=="object"&&e=="object"?u.constructor==Array&&n.constructor==Array?(e="array",n.some(function(n,t){if(this.isNotEqualObjectValue(n,u[t]))return f=!0,!0}.bind(this))):f=this.isNotEqualObjectValue(n,u):f=u!=n,f&&(this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]&&($.isEmpty(u)||u.constructor!=Array)&&(u=[]),(e=="array"||e=="object")&&(n=$.extend(!0,u,n)),this.rowData[this.getPropertyName()]=n,this.controlState&&!/^widget.gridCell.*/.test(this.controlState.controlType)?(s=this.instanceManager.create(this.controlState.controlType,this.controlState),s.preventTriggerEvent=o):o&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getColtrolOptionControlType(),sectionType:this.sectionType,rowItem:i,rowData:i,rowKey:i[this.constValue.keyColumnPropertyName],rowIndex:t,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:h,newValue:n,childElementId:null})),f},getLinechange:function(){return this.getState("linechange")},getControlType:function(){return this.getState("controlType")},getConverter:function(n){if(n){var t=n.substring(0,1);return["1","2","5"].contains(t)?ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?ecount.convertor.dataTypeConvertor[t]:/^(date)\d{2}$/gi.test(n)?ecount.convertor.dataTypeConvertor.date:function(n){return n}}return this.getState("converter")},getIsTodayTime:function(){return this.getState("isTodayTime")},setDataType:function(n){this.setState("dataType",n)},getDataType:function(){var n=this.getState("dataType");return/\d+/.test(n)?n.toString():n},setAmtCalc:function(n){this.setState("amtCalc",n)},getAmtCalc:function(){return this.getState("amtCalc")},getThousandSeparator:function(){return this.getState("thousandSeparator")},setThousandSeparator:function(n){this.setState("thousandSeparator",n)},getDecimalSeparator:function(){return this.getState("decimalSeparator")},setDecimalSeparator:function(n){this.setState("decimalSeparator",n)},getCustomizeDate:function(){return this.getState("customizeDate")},setDateFormat:function(n){this.setState("dateFormat",n)},getDateFormat:function(){return this.getState("dateFormat")},setFontColor:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontColor",n):this.setState("fontColor",n)},getFontColor:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontColor"):this.getState("fontColor")},setFont:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.font",n):this.setState("font",n)},getFont:function(){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.font"):this.getState("font"),n)?"font-"+ecount.convertor.convertFontClassName(n):""},setFontSize:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontSize",n):this.setState("fontSize",n)},getFontSize:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontSize"):this.getState("fontSize"),n)?"font-"+n+"px":""},setFontBold:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontBold",n):this.setState("fontBold",n)},getFontBold:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontBold"):this.getState("fontBold")},setFontUnderline:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontUnderline",n):this.setState("fontUnderline",n)},getFontUnderline:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontUnderline"):this.getState("fontUnderline")},setFontItalic:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontItalic",n):this.setState("fontItalic",n)},getFontItalic:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontItalic"):this.getState("fontItalic")},setFontStrike:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.fontStrike",n):this.setState("fontStrike",n)},getFontStrike:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.fontStrike"):this.getState("fontStrike")},setValign:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.valign",n):this.setState("valign",n)},getValign:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.valign"):this.getState("valign"),n)?"valign-"+n.toLowerCase():""},setAlign:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.align",n):this.setState("align",n)},getAlign:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.align"):this.getState("align"),n)?"text-"+n.toLowerCase():""},setIsShadow:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("columnOption.isShadow",n):this.setState("isShadow",n)},getIsShadow:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.isShadow"):this.getState("isShadow")},setDataType1:function(n){this.setState("dataType1",n)},getDataType1:function(){return this.getState("dataType1")},setDataType2:function(n){this.setState("dataType2",n)},getDataType2:function(){return this.getState("dataType2")},setIsDisplayZero:function(n){this.setState("isDisplayZero",n)},getIsDisplayZero:function(){return this.setState("isDisplayZero")},setDecCount:function(n){this.setState("decCount",n)},getDecCount:function(){return this.getState("decCount")},setIsCheckZero:function(n){this.setState("isCheckZero",n)},getIsCheckZero:function(){return this.getState("isCheckZero")},setIsShowIfZero:function(n){this.setState("isShowIfZero",n)},getIsShowIfZero:function(){return this.getState("isShowIfZero")},getLabel:function(n){var t=this.getLabels();return t&&t[n]||""},getLabels:function(){return this.getState("labels")},getRowDataId:function(){return this.rowId},getRowDataCount:function(){return this[this.constValue.rowCountColumnPropertyName]},getRowDataIndex:function(){return this[this.constValue.rowIndexPropertyName]},getRowDataState:function(){return this[this.constValue.rowStatePropertyName]},getColtrolOptionControlType:function(){return this.getState("controlOption.controlType")},getControlOptionPosition:function(){return this.getState("controlOption.position")},setControlOptionDataType:function(n){this.setState("controlOption.dataType",n)},getControlOptionDataType:function(){var n=this.getState("controlOption.dataType");return n==null||n==undefined?"":n.toString()},getControlOptionIsCheckZero:function(){return ecount.common.isTrue(this.getState("controlOption.isCheckZero"))},setControlOptionNumberType:function(n){this.setState("controlOption.numberType",n)},getControlOptionNumberType:function(){return this.getState("controlOption.numberType")},setControlOptionDecimalUnit:function(n){this.setState("controlOption.decimalUnit",n)},getControlOptionDecimalUnit:function(){var n=this.getState("controlOption.decimalUnit");return $.isEmpty(n)?null:n},getColtrolOptionControlType:function(){return this.getState("controlOption.controlType")},setControlShaded:function(n,t){t=/\d+/.test(t)?t:0;var u=this.state.controls[t],f=u.end(),i=this.instanceManager.create(this.controlState.controlType,this.controlState),r=this.getControlElement();r&&(i.set$El($(r)),i.addClass(this.config.shaded.className))},setControlChangeDataType:function(n,t,i,r,u,f,e,o,s,h,c){var l,a;this.setDataType1(n);l="";switch(n){case"NUM":a=$.isNumber(i)?i.toString():"0";l=(t?"9":"8")+a;this.setDataType(l);this.setDateFormat("");this.setIsDisplayZero(t);this.setIsShowIfZero(f);this.setIsCheckZero(ecount.common.isTrue(u));this.setAmtCalc(r);this.setThousandSeparator(e);this.setDecimalSeparator(o);this.setControlOptionDataType("9"+a);c&&(c.decimalUnit&&this.setControlOptionDecimalUnit(c.decimalUnit),c.numberType&&this.setControlOptionNumberType(c.numberType));break;case"DATETIME":/^(date)\d{2}$/gi.test(s)?l=s:s=="CustomDate"?(l="29",h==""&&(s="")):l="5";this.setDataType(l);this.setDateFormat(s);this.setIsDisplayZero(!1);this.setIsCheckZero(!1);this.setIsShowIfZero(!1);this.setAmtCalc("");this.setThousandSeparator("");this.setDecimalSeparator("");this.setControlOptionDataType("");this.setControlOptionDecimalUnit(null);this.setControlOptionNumberType(null);break;case"TEXT":this.setDataType(l);this.setDateFormat("");this.setIsDisplayZero(!1);this.setIsCheckZero(!1);this.setIsShowIfZero(!1);this.setAmtCalc("");this.setThousandSeparator("");this.setDecimalSeparator("");this.setControlOptionDataType("");this.setControlOptionDecimalUnit(null);this.setControlOptionNumberType(null)}return!0},setControlFont:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFont());this.setFont(n);t&&t.classList.add(this.getFont())},setControlFontColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontColor());this.setFontColor(n);t&&t.classList.add(this.getFontColor())},setControlFontSize:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontSize());this.setFontSize(n);t&&t.classList.add(this.getFontSize())},setControlFontBold:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontBold());this.setFontBold(n);t&&t.classList.add(this.getFontBold())},setControlFontUnderline:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontUnderline());this.setFontUnderline(n);t&&t.classList.add(this.getFontUnderline())},setControlFontItalic:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontItalic());this.setFontItalic(n);t&&t.classList.add(this.getFontItalic())},setControlFontStrike:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontStrike());this.setFontStrike(n);t&&t.classList.add(this.getFontStrike())},setControlVerticalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getValign());this.setValign(n);t&&t.classList.add(this.getValign())},setControlHorizontalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getAlign());this.setAlign(n);t&&t.classList.add(this.getAlign())},setControlIsBackgroundColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getIsShadow());this.setIsShadow(n);t&&t.classList.add(this.getIsShadow())},getChecked:function(n){return this.getState("value",n)},setIsHideColumn:function(n){this.setState("isHideColumn",n)},getIsHideColumn:function(){return this.getState("isHideColumn")},getEditableState:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("columnOption.editableState"):this.getState("editableState")},setEditableState:function(n){return this.setState("editableState",n)},getCursorIndex:function(){return this.getState("cursorIndex")},setControlChecked:function(n,t,i,r,u){var f,e,o,s;u=u||{isRunChange:!0};f=typeof u.isRunChange=="boolean"?u.isRunChange:!0;e=typeof u.isFocusControl=="boolean"?u.isFocusControl:!1;t=$.isNumber(t)?t:0;o=this.getValue();s=this.setValue(n,i,r,!1);this.refreshCell(r,i,{isRunChange:f,isFocusControl:e});s&&f&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getColtrolOptionControlType(),sectionType:this.sectionType,rowItem:r,rowData:r,rowKey:r[this.constValue.keyColumnPropertyName],rowIndex:i,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:o,newValue:n,childElementId:null})},bindTooltip:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="tooltip"&&!n.created){var i=this.getToggleTargetElement(n),r=$(i),t=!1;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";n.delay=n.delay||{};n.delay.show=typeof n.delay.show=="number"?n.delay.show:ecount.common.mouseHoverInTime;n.delay.hide=typeof n.delay.hide=="number"?n.delay.hide:ecount.common.mouseHoverOutTime;(n.directShow==undefined||n.directShow==null)&&(t=!0,n.directShow=!0);ecount.popover.create(r,n);n.created=!0;t&&(n.directShow=!1)}},bindPopover:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="popover"&&!n.created){var f=this.getToggleTargetElement(n),t=$(f),i,e=100,r=300,u=!1;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";(n.directShow==undefined||n.directShow==null)&&(u=!0,n.directShow=!0);ecount.popover.create(t,n);n.created=!0;u&&(n.directShow=!1);t.popover().one("show.bs.popover",function(){var n=$(this).data("bs.popover");i!==undefined?n.tip().css({width:i+"px",maxWidth:r+"px"}):n.tip().css({minWidth:e+"px",maxWidth:r+"px"})})}},getColspanCount:function(){var n=this.getCellElement();return n&&n.colspan||1},addCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.addClass(n)))},removeCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.removeClass(n)))},getCell:function(){return this.getValue()},refreshCell:function(n,t,i){var o,r,s,e;i=i||{isFocusControl:!1};var h=typeof i.isFocusControl=="boolean"?i.isFocusControl:!1,c=this.getCellGenerator(n,t),u=c.end(),f=this.instanceManager.create(u.controlType,u);f.setInstanceManager(this.instanceManager);this.cellState=u;o=f.state[0].controls[0].end();r=this.getCellElement();r.children.length>0&&r.removeChild(r.children[0]);s=f.getControlHTML();r.appendChild($(s)[0]);this.controlState=o;r.style=ecount.gridV3.utils.convertStyles(u.styles,!0);u.className&&u.className.some(function(n){if(n=="")return!1;new RegExp(n,"g").test(r.className)||(r.className!=""&&(r.className+=" "),r.className+=n)});h&&this.constValue.nativeFocusControl[this.controlState.controlType]&&(e=r.querySelector(this.constValue.controlSelector[this.controlState.controlType]),e&&e.focus())},setCellEditable:function(n){if(this.setEditableState(n),n===!0){if(this.removeCellClass(["disabled"]),this.cellState&&this.cellState.className&&this.cellState.className.contains("disabled"))for(var t=this.cellState.className.length;t>-1;t--)this.cellState.className[t]=="disabled"&&this.cellState.className.splice(t,1)}else n===!1&&(this.addCellClass(["disabled"]),this.cellState&&this.cellState.className&&!this.cellState.className.contains("disabled")&&this.cellState.className.add("disabled"))},getCellEditable:function(){return!this.cellState||!this.cellState.className||this.cellState.className.contains("disabled")?!1:!0},getControlControlType:function(){return this.constValue.nativeControlInWidgetV3[this.getControlType()]?this.getControlType():this.controlState?!["widget.gridCell.label","widget.gridCell.link"].contains(this.controlState.controlType)&&/^widget.gridCell.*/.test(this.controlState.controlType)?this.controlState.controlType.replace(".gridCell",""):this.controlState.controlType||"widget.label":"widet.label"},setControlValue:function(n){var t=this.instanceManager.create(this.controlState.controlType,this.controlState),i=this.getControlElement();i&&(t.set$El($(i)),this.controlState.controlType=="widget.gridCell.label"?t.setLabel(n):t.setValue(n))},setCaretLinkPosition:function(n){var i=this.getControlElement(),t=this.instanceManager.create(this.controlState.controlType,this.controlState);i&&t&&(t.set$El($(i)),t.setPosition&&t.setPosition(n))},deactiveModuleEditLayer:function(){var n=this.getModuleEditLayer(),t;return n?(this.instance&&(t=this.instance.getValue(),this.setValue(t)&&(this.config.matrixState&&this.config.matrixState.use&&(this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.row,n.activeRowId,n.activeColumnId,{state:ecount.grid.constValue.columnState.changed}),this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.column,n.activeColumnId,n.activeRowId,{state:ecount.grid.constValue.columnState.changed})),this.getState(this.constValue.rowStatePropertyName)==this.constValue.rowState.deletedNew?this.setState(this.constValue.rowStatePropertyName,this.constValue.rowState.create):[this.constValue.rowState.none,this.constValue.rowState.changed,this.constValue.rowState.deleted].contains(this.getState(this.constValue.rowStatePropertyName))&&this.setState(this.constValue.rowStatePropertyName,this.constValue.rowState.changed),this.setControlValue(t))),n.hide(),n.deactive(),this.destroyWidgetInstance(),n.detachLayerContainer(),n.detachEditLayerChildElement(),!0):!1},clearAddons:function(){var n=this.cellState&&this.cellState.toggle;n&&n.created&&ecount.popover.destroy($(this.getToggleTargetElement(n)))},openFoldLayer:function(n,t){var r=Object.keys(this.config.foldColumn.data).map(function(n){return{key:n,label:this.config.foldColumn.data[n].title,checked:this.config.foldColumn.data[n].checked}}.bind(this)),i={type:"folditem",from:"grid",ownerKey:this.config.common.ecIKey,ecPageID:n.ecPageID||this.config.common.ecPageID,ecContainerId:this.config.common.ecContainerId,serviceKey:ecount.common.makeServiceKey(n.ecPath,"fn"),items:r,boundary:ec$.getZoomedBoundary(t.target,{left:0}),isCheckbox:!0,notUseValue:!0,showingUpDelay:0,_onClicked:!0};_.merge(i.boundary,{x:t.clientX,y:t.clientY,width:1,height:1,top:t.clientY,bottom:t.clientY,left:t.clientX,right:t.clientX});ecount.layer.show(i);ecount.layer.setOnClicked(i.serviceKey,!0)},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t){this.config.editable.use&&this.constValue.foldColumnPropertyNameRex.test(n.gridColumnID)&&this.openFoldLayer(n,t)},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t){var i=this.instanceManager.create(this.controlState.controlType,this.controlState),r=this.getControlElement();r&&(i.set$El($(r)),i._hideLayer&&i._hideLayer(n,t))},_ON_MOUSEOVER:function(n,t){var i,r,u;if(!ecount.global.getDestroyedState(this.config.common.ecPageId)){if(i=this.cellState&&this.cellState.toggle,i&&i.created&&["refresh","destroy"].indexOf(i.state)>-1&&(ecount.popover.destroy($(this.getToggleTargetElement(i)),i.type),delete i.created,delete i.state),i&&!i.created&&(!i.addon||i.addon===t.target.getAttribute("data-addon")))switch(i.type){case"popover":this.bindPopover();break;case"tooltip":this.bindTooltip()}r=this.instanceManager.create(this.controlState.controlType,this.controlState);u=this.getControlElement();r&&u&&(r.set$El($(u)),r._showLayer&&r._showLayer(n,t))}},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.sectionTbodyCell",null,{init:function(n,t,i){_.extend(this,n);_.extend(this,t);this.tempCellClassName="grid-tempCell";this.config=i;this.renderingState="init";this.cellElement=null;this.trElement=null;this.trElementPreviousHeight=null;this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.__isDestroyInstance=!0},destroyAll:function(){var n=this.getState("toggle");n&&n.created&&ecount.popover.destroy($(this.getToggleTargetElement(n)),n.type);this.destroyWidgetInstance();delete this.config;delete this.constValue;delete this.rowVariableNames;this.state=null;this.controlState=null;this.rowData=null;this.cellElement=null;this.moduleEditLayer&&this.moduleEditLayer.destroyAll();this.moduleEditLayer=null},setGridGenerator:function(n){return this.gridGenerator=n,this},setControlGenerator:function(n){return this.controlGenerator=n,this},getControlGenerator:function(){return this.config.common.gridType==this.constValue.gridType.editable?this.renderingState=="init"?(this.controlGenerator.reset&&this.controlGenerator.reset(),this.controlGenerator):widget.generator.control():(this.controlGenerator.reset&&this.controlGenerator.reset(),this.controlGenerator)},setInstanceManager:function(n){return this.instanceManager=n,this},isEmptyValue:function(n){var t=!0;return n.some(function(n){return typeof n.label=="string"||_.isUndefined(n.label)||_.isNull(n.label)||(n.label=String(n.label)),n.label&&n.label.toString().replace("&nbsp;","")!=""?(t=!1,!0):void 0}),t},getCallbackCommand:function(n,t){var r=this.constValue.eventPrefix,i=r;return t&&(i+=t.substring(0,1).toUpperCase()+t.substring(1)),n&&(i+=n.substring(0,1).toUpperCase()+n.substring(1)),i},setRowData:function(n){this.rowData=n},initCellState:function(n){var t;this.cellState&&this.cellState.validation&&(t=this.cellState.validation);this.cellState=n;t&&(this.cellState.validation=t)},getCreatedData:function(n,t,i,r,u,f){if(this.config.common.isDrawing&&this.config.common.isDrawCancel)return null;this.groupRowIndex=u;this.columnRowCount=f;var s=this.getCellGenerator(n,t,u,f),e=s.end(),o=this.instanceManager.create(e.controlType,e);return o.setInstanceManager(this.instanceManager),this.initCellState(e),this.controlState=o.state[0].controls[0].end(),this.setCheckboxCountByAction("init"),o.renderHTML()},setCheckboxCountByAction:function(n){function r(){this.controlState._readOnly?this.config.checkbox.setManageIncreaseDisabledCount(t,1):this.config.checkbox.setManageIncreaseAvailableCount(t,1);var n=this.getValue();n&&this.config.checkbox.setManageIncreaseCheckedCount(t,1)}function u(){this.controlState._readOnly?(this.config.checkbox.setManageIncreaseDisabledCount(t,1),this.config.checkbox.setManageDecreaseAvailableCount(t,1)):(this.config.checkbox.setManageDecreaseDisabledCount(t,1),this.config.checkbox.setManageIncreaseAvailableCount(t,1))}var i=this.constValue.nativeControlInWidgetCheckbox[this.controlState.controlType],t;if(i===!0){t=this.controlState.gridColumnID;switch(n){case"init":r.call(this);break;case"changeReadOnly":u.call(this)}}},extendCellState:function(n){this.cellState.validation=n.validation},getConvertValue:function(){function r(){var n=this.config.column.multiConvert[this.id],t=this.getValue().split(n),i=t.reduce(function(n,t){return n.push(this.convertValue(t)),n}.bind(this),[]);return i.join(n)}var t=this.getControlType()||this.controlState&&this.controlState.controlType,n,i=this.config.column.multiConvert[this.id];return i?r.call(this):(this.constValue.nativeControlInWidgetCheckbox[t]?(n=this.rowData[this.getPropertyName()],typeof n=="boolean"&&(n=[{checked:n,label:""}])):n=this.getValue(),this.convertValue(n))},convertValue:function(n){n=n==undefined||n==null?"":n;n!=""&&this.getDataType1()=="DATETIME"&&(this.getDateFormat()=="Date20"||["YEARMONTH","YEARMONTH_NO"].contains(this.getDataType2()))&&(n=ecount.gridV3.utils.setViewValueDate20(n));var t=this.getConverter();return t&&(n=t(n,{isTodayTime:this.getIsTodayTime(),dataType:this.getDataType(),amtCalc:this.getAmtCalc(),isCheckZero:this.getIsCheckZero(),thousandSeparator:this.getThousandSeparator(),decimalSeparator:this.getDecimalSeparator(),customizeDate:this.getCustomizeDate(),dateFormat:this.getDateFormat()})),n},getCellGenerator:function(n,t,i,r,u){this.rowId=n[this.constValue.keyColumnPropertyName];var f=this.getAttrs({"data-key":ecount.gridV3.utils.escapeHTML(this.rowId),"data-columnid":this.id,"data-rowtype":"line"}),e=this.getConvertValue();return this.rowData=n,this.createCellGenerator({tag:this.cellHeaderType===!0?"th":"td",attrs:f,styles:this.getStyles(),className:null,text:e},n,t,i,r,u)},createCellGenerator:function(n,t,i,r,u,f){var h,l,s,c,a,nt,tt,et,it,v,ot,st,w,b,e,p;if(this.gridGenerator){var y=t[this.rowVariableNames.rowType],rt=t[this.rowVariableNames.mergeSet],o=rt&&rt.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.columnIndex}.bind(this)),ut=t[this.rowVariableNames.treeSet],k,d,g="";o&&(k=o[this.rowVariableNames.colspanCount]||1,d=o[this.rowVariableNames.rowspanCount]||1,g=o[this.rowVariableNames.rowTitle]||"",k>1&&(n.attrs.colspan=k),d>1&&(n.attrs.rowspan=d));ecount.common.isTrue(this.getHeaderType())&&(n.tag="th");n.className=this.getClassName(null,o);(this.config.table.borderRemoveHorizontal&&([this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(y)||this.constValue.topsubtotalRex.test(y))||this.constValue.bottomsubtotalRex.test(y))&&(n.className.contains("border-t")||n.styles["border-top-style"]&&n.styles["border-top-style"]!="solid"||n.className.push("border-t"),n.className.contains("border-b")||n.styles["border-top-style"]&&n.styles["border-top-style"]!="solid"||n.className.push("border-b"));this.config.table.borderRemoveVertical&&([this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(y)||this.constValue.topsubtotalRex.test(y)||this.constValue.bottomsubtotalRex.test(y)?n.className.push("border-l border-r"):(this.isFirstColumn&&(n.className.contains("border-l")||n.className.push("border-l")),this.isLastColumn&&(n.className.contains("border-r")||n.className.push("border-r"))));this.config.editable&&this.config.editable.use&&(l=this.getControlControlType(this.constValue.controlViewMode.input,t,i),l&&(n.className.contains("disabled")||this.constValue.notNoselectionWidget[l]||n.className.push("noselection")),this.constValue.controlInWidget[l]&&l!="widget.input.colLabel"&&n.className.push("nowrap"));h=this.gridGenerator.container().define("ecount.gridV3.container.view.cell",null,n);h.setInstanceManager(this.instanceManager);this.config.tree&&this.config.tree.use&&ut&&this.config.tree.treeColumns.contains(this.id)&&h.css("indent"+(ut[this.rowVariableNames.depth]+1));s=this.createWidgetGenerator(h,{attrs:{},styles:{},className:[],text:n.text},t,i);function ft(){c=s.end();a=c.data}if(ft(),this.config.editable&&this.config.editable.use&&this.constValue.viewControlInEditable[c.controlType]&&l&&(this.constValue.controlInWidget[l]||this.constValue.nativeControlInWidget[l]))if(nt=s.end()&&s.end().data&&s.end().data.length,nt>1){for(tt=[],v=0;v<nt;v++)tt.push("grid-input-data");s.css(tt)}else s.css("grid-input-data");if(s){if(c.id||s.setId([this.sectionType,this.id,this.rowId].join(ecount.constValue.gridDelimiter)),this.constValue.nativeControlInWidgetCheckbox[c.controlType]){if(et=t[this.constValue.keyColumnPropertyName],this.id.test(this.constValue.checkBoxPropertyNameRex)&&(this.config.checkbox.originalStyle||[this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(t[this.rowVariableNames.rowType])||(this.config.editable.use?s.label(t[this.constValue.rowCountColumnPropertyName]):s.label((++this.config.checkbox.madeCount).toString()))),a&&a.length>1){for(it=[],v=0,ot=a.length;v<ot;v++)st=a[v].value,it.push(st);s.value(it)}else s.value(["Y"]);w=this.config.checkbox.manage[this.id];b=f&&f.cindex||0;w&&(w.isRememberChecked&&w.rememberCheckedList.find(function(n){return n[this.constValue.keyColumnPropertyName]==et}.bind(this))||n.text&&n.text[0].checked===!0)&&(a&&a.length>1?f&&b&&b.toString()&&s.select(a[b].value):s.select("Y"),h.value(!0),n.text!==!0&&this.setValue(!0,i,t,{isRunChange:!1}))}c.data&&c.data.length>0&&typeof c.data[0].label=="string"&&c.data[0].label.replace(/&nbsp;/g,"")==""&&(h.removeCss("grid-text-uline-through"),h.removeCss("text-line-through"),h.removeCss("text-uline"));["widget.label","widget.gridCell.label"].contains(c.controlType)||s.delegator(this.config.events.widgetCommonEventDelegator);h.addControl(s)}g!=""&&(s.define("widget.gridCell.label").label(this.getConverteValue(g,{isTodayTime:this.getIsTodayTime(),dataType:this.getDataType(),amtCalc:this.getAmtCalc(),isCheckZero:this.getIsCheckZero(),thousandSeparator:this.getThousandSeparator(),decimalSeparator:this.getDecimalSeparator(),customizeDate:this.getCustomizeDate(),dateFormat:this.getDateFormat()})),ft());s.setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId,gridDataKey:this.rowId,gridColumnID:this.id,gridSectionType:this.sectionType,popupId:this.config.common.popupId,popupLevel:this.config.common.popupLevel,popupType:this.config.common.popupType,isGridV3:!0});o&&t[this.rowVariableNames.rowType]&&(this.constValue.subtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.dynamicsubtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.topsubtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.bottomsubtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.pagetotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.totalRex.test(t[this.rowVariableNames.rowType].toLowerCase()))&&(e=n.className.join(" "),p=o[this.rowVariableNames.isCenterAlign]&&o[this.rowVariableNames.isCenterAlign].toString(),p&&(e=e.replace(this.constValue.alignRex,""),p=="true"?e+=" text-center ":p=="left"?e+=" text-left ":p=="right"?e+=" text-right ":alignInfo=="center"&&(e+=" text-center ")),$.isEmpty(o[this.rowVariableNames.vAlignType])||(e=e.replace(this.constValue.valignRex,"")+("valign-"+o[this.rowVariableNames.vAlignType])),e=!$.isEmpty(o[this.rowVariableNames.isBold])&&ecount.common.isTrue(o[this.rowVariableNames.isBold])?e.replace(this.constValue.boldRex,"")+" text-bold ":e.replace(this.constValue.boldRex,""),e=!$.isEmpty(o[this.rowVariableNames.isFontItalic])&&ecount.common.isTrue(o[this.rowVariableNames.isFontItalic])?e.replace(this.constValue.italicRex,"")+" text-italic ":e.replace(this.constValue.italicRex,""),!$.isEmpty(o[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(o[this.rowVariableNames.isFontStrike])&&!$.isEmpty(o[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(o[this.rowVariableNames.isFontUnderline])?e=e.replace(this.constValue.strikeUnderlineRex,"")+" grid-text-uline-through ":(e=e.replace(this.constValue.strikeUnderlineRex,""),e=!$.isEmpty(o[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(o[this.rowVariableNames.isFontStrike])?e.replace(this.constValue.strikeRex,"")+" text-line-through ":e.replace(this.constValue.strikeRex,""),e=!$.isEmpty(o[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(o[this.rowVariableNames.isFontUnderline])?e.replace(this.constValue.underlineRex,"")+" text-uline ":e.replace(this.constValue.underlineRex,"")),e=!$.isEmpty(o[this.rowVariableNames.fontSize])&&o[this.rowVariableNames.fontSize]>0?e.replace(this.constValue.fontSizeRex,"")+(" font-"+o[this.rowVariableNames.fontSize]+"px "):e.replace(this.constValue.fontSizeRex,""),e=$.isEmpty(o[this.rowVariableNames.font])?e.replace(this.constValue.fontRex,""):e.replace(this.constValue.fontRex,"")+(" font-"+ecount.convertor.convertFontClassName(o[this.rowVariableNames.font])),$.isEmpty(o[this.rowVariableNames.fontColor])||_.trim(o[this.rowVariableNames.fontColor])==="000000"||h.style({color:ecount.gridV3.utils.getColor(o[this.rowVariableNames.fontColor])+";"}),$.isEmpty(o[this.rowVariableNames.cellBgColor])||h.style({"background-color":ecount.gridV3.utils.getColor(o[this.rowVariableNames.cellBgColor])+";"}),$.isEmpty(o[this.rowVariableNames.lineBreak])||o[this.rowVariableNames.lineBreak]!="TRU"||h.css(["text-nowrap","overflow-hidden"]),o&&($.isEmpty(o[this.rowVariableNames.fontBgColor])?s.bgColor(""):s.bgColor(ecount.gridV3.utils.getColor(o[this.rowVariableNames.fontBgColor]))),h.removeAllCss(),h.css(e.trim().split(" ")));this.isEmptyValue(c.data)&&h.removeCss(["grid-text-uline-through","text-line-through","text-uline"])}return h},getDefaultWidgetGenerator:function(n,t,i){var r;return this.controlGenerator=this.getControlGenerator(),this.id.test(this.constValue.checkBoxPropertyNameRex)&&[this.constValue.rowType.subtotal,this.constValue.rowType.subtotal1,this.constValue.rowType.subtotal2,this.constValue.rowType.subtotal3,this.constValue.rowType.subtotal4,this.constValue.rowType.subtotal5,this.constValue.rowType.total].contains(i[this.rowVariableNames.rowType])?r=this.controlGenerator.define("widget.gridCell.label").label("&nbsp;"):this.id.test(this.constValue.rowMoveablePropertyNameRex)?r=this.controlGenerator.define(this.getControlType()).label([{iconCSS:"fa fa-arrow-circle-down"}]):this.id.test(this.constValue.foldColumnPropertyNameRex)?r=this.controlGenerator.define(this.getControlType()):(r=this.controlGenerator.define(this.getControlType()||"widget.gridCell.label"),widget.generator.gridCommon.options(r,this,i,t.text)),r},createWidgetGenerator:function(n,t,i,r){var e=this.getDefaultWidgetGenerator(n,t,i,r),f,u;return this.executeCustomCallback(t.text,n,e,i,r,this.constValue.controlViewMode.view),this.rowData&&this.config.shaded.use&&(f="",f=this.config.shaded.type=="id"?this.rowData[this.constValue.keyColumnPropertyName]:this.config.shaded.type=="groupByKeyColumn"?this.rowData[this.config.shaded.shadeKey[0]]:this.rowData[this.getPropertyName()],this.config.shaded.activeList&&this.config.shaded.activeList[f]&&this.config.shaded.activeList[f].find(function(n){return n.columnId==this.id&&n.rowId==this.rowData[this.constValue.keyColumnPropertyName]}.bind(this))&&(u=e.end(),u.data&&u.data.length>0&&(u.data[0].css?u.data[0].css+=" "+this.config.shaded.className:u.data[0].css=this.config.shaded.className))),e},executeCustomCallback:function(n,t,i,r,u,f,e,o){this.customCellCallback&&this.customCellCallback(n,t,i,this,r,u,f,e,o)},__getClassName:function(){var n=[];return this.config.common.columnType===this.constValue.columnType.multi?this.rowData[this.constValue.rowVariableNames.rowType]&&this.constValue.dynamicsubtotalRex.test(this.rowData[this.constValue.rowVariableNames.rowType])?(this.getState("footerOption.font")&&n.push("font-"+ecount.convertor.convertFontClassName(this.getState("footerOption.font"))),this.getState("footerOption.fontSize")&&n.push("font-"+this.getState("footerOption.fontSize")+"px"),this.getState("footerOption.align")&&n.push("text-"+this.getState("footerOption.align")),this.getState("footerOption.valign")&&n.push("valign-"+this.getState("footerOption.valign")),ecount.common.isTrue(this.getState("footerOption.fontBold"))&&n.push("text-bold"),ecount.common.isTrue(this.getState("footerOption.fontItalic"))&&n.push("text-italic"),ecount.common.isTrue(this.getState("footerOption.fontStrike"))&&ecount.common.isTrue(this.getState("footerOption.fontUnderline"))?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getState("footerOption.fontStrike"))?n.push("text-line-through"):ecount.common.isTrue(this.getState("footerOption.fontUnderline"))&&n.push("text-uline"),this.getState("footerOption.fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.remove("text-nowrap"),n.contains("overflow-hidden")&&n.remove("overflow-hidden")),this.getState("footerOption.fontCellBgColor")||ecount.common.isTrue(this.getState("footerOption.isShadow"))&&n.push("bg-muted"),ecount.common.isTrue(this.getState("footerOption.isHideColumn"))&&n.push("hide"),ecount.common.isFalse(this.getState("footerOption.edtiableState"))&&n.push("disabled"),this.config.tfootSearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname))):(this.getFont()&&n.push(this.getFont()),this.getFontSize()&&n.push(this.getFontSize()),this.getAlign()&&n.push(this.getAlign()),this.getValign()&&n.push(this.getValign()),ecount.common.isTrue(this.getFontBold())&&n.push("text-bold"),ecount.common.isTrue(this.getFontItalic())&&n.push("text-italic"),ecount.common.isTrue(this.getFontStrike())&&ecount.common.isTrue(this.getFontUnderline())?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getFontStrike())?n.push("text-line-through"):ecount.common.isTrue(this.getFontUnderline())&&n.push("text-uline"),this.getState("fontCellBgColor")||ecount.common.isTrue(this.getIsShadow())&&n.push("bg-muted"),this.getState("fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.splice(n.indexOf("text-nowrap"),1),n.contains("overflow-hidden")&&n.splice(n.indexOf("overflow-hidden"),1)),ecount.common.isTrue(this.getIsHideColumn())&&n.push("hide"),ecount.common.isFalse(this.getEditableState())&&n.push("disabled"),this.config.tbodySearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname))):this.rowData[this.rowVariableNames.rowType]&&(this.constValue.subtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.subtotalRex2.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.dynamicsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.topsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.bottomsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.pagetotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.totalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase()))?(this.getState("footerOption.font")&&n.push("font-"+ecount.convertor.convertFontClassName(this.getState("footerOption.font"))),this.getState("footerOption.fontSize")&&n.push("font-"+this.getState("footerOption.fontSize")+"px"),this.getState("footerOption.align")&&n.push("text-"+this.getState("footerOption.align")),this.getState("footerOption.valign")&&n.push("valign-"+this.getState("footerOption.valign")),ecount.common.isTrue(this.getState("footerOption.fontBold"))&&n.push("text-bold"),ecount.common.isTrue(this.getState("footerOption.fontItalic"))&&n.push("text-italic"),ecount.common.isTrue(this.getState("footerOption.fontStrike"))&&ecount.common.isTrue(this.getState("footerOption.fontUnderline"))?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getState("footerOption.fontStrike"))?n.push("text-line-through"):ecount.common.isTrue(this.getState("footerOption.fontUnderline"))&&n.push("text-uline"),this.getState("footerOption.fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.remove("text-nowrap"),n.contains("overflow-hidden")&&n.remove("overflow-hidden")),this.getState("footerOption.fontCellBgColor")||ecount.common.isTrue(this.getState("footerOption.isShadow"))&&n.push("bg-muted"),ecount.common.isTrue(this.getState("footerOption.isHideColumn"))&&n.push("hide"),ecount.common.isFalse(this.getState("footerOption.edtiableState"))&&n.push("disabled"),this.config.tfootSearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname))):(this.getFont()&&n.push(this.getFont()),this.getFontSize()&&n.push(this.getFontSize()),this.getAlign()&&n.push(this.getAlign()),this.getValign()&&n.push(this.getValign()),ecount.common.isTrue(this.getFontBold())&&n.push("text-bold"),ecount.common.isTrue(this.getFontItalic())&&n.push("text-italic"),ecount.common.isTrue(this.getFontStrike())&&ecount.common.isTrue(this.getFontUnderline())?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getFontStrike())?n.push("text-line-through"):ecount.common.isTrue(this.getFontUnderline())&&n.push("text-uline"),this.getState("fontCellBgColor")||ecount.common.isTrue(this.getIsShadow())&&n.push("bg-muted"),this.getState("fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.splice(n.indexOf("text-nowrap"),1),n.contains("overflow-hidden")&&n.splice(n.indexOf("overflow-hidden"),1)),ecount.common.isTrue(this.getIsHideColumn())&&n.push("hide"),ecount.common.isFalse(this.getEditableState())&&n.push("disabled"),this.config.tbodySearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname))),n},getClassName:function(n,t){var i,r;return n=n||{},t=t||{},i=this.__getClassName().join(" "),t[this.constValue.rowVariableNames.alignType]?i=i.replace(this.constValue.alignRex,"")+("text-"+t[this.constValue.rowVariableNames.alignType]+" "):t[this.constValue.rowVariableNames.isCenterAlign]?(r=t[this.constValue.rowVariableNames.isCenterAlign].toString(),r!=="false"&&(i=i.replace(this.constValue.alignRex,"")+(r=="true"?" text-center ":r=="left"?" text-left ":r=="right"?" text-right ":" text-center "))):ecount.common.isTrue(t[this.constValue.rowVariableNames.isCenterAlign])?i=i.replace(this.constValue.alignRex,"")+"text-center ":n.align&&!this.constValue.alignRex.test(i)&&(i+="text-"+n.align+" "),t[this.constValue.rowVariableNames.vAlignType]?i=i.replace(this.constValue.valignRex,"")+("valign-"+t[this.constValue.rowVariableNames.vAlignType]+" "):n.valign&&!this.constValue.valignRex.test(i)&&(i+="valign-"+n.valign+" "),ecount.common.isTrue(t[this.constValue.rowVariableNames.isBold])?i=i.replace(this.constValue.boldRex,"")+"text-bold ":ecount.common.isTrue(n.fontBold)&&!this.constValue.boldRex.test(i)&&(i+="text-bold "),ecount.common.isTrue(t[this.constValue.rowVariableNames.isFontItalic])?i=i.replace(this.constValue.italicRex,"")+"text-italic ":ecount.common.isTrue(n.fontItalic)&&!this.constValue.italicRex.test(i)&&(i+="text-italic "),!n.fontSize||isNaN(n.fontSize)||this.constValue.fontSizeRex.test(i)||(i+="font-"+n.fontSize+"px "),n.font&&!this.constValue.fontRex.test(i)&&(i+="font-"+ecount.convertor.convertFontClassName(n.font)+" "),ecount.common.isTrue(t[this.constValue.rowVariableNames.isFontStrike])&&ecount.common.isTrue(t[this.constValue.rowVariableNames.isFontUnderline])?i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"grid-text-uline-through ":ecount.common.isTrue(t[this.constValue.rowVariableNames.isFontStrike])?i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"text-line-through ":ecount.common.isTrue(t[this.constValue.rowVariableNames.isFontUnderline])?i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"text-uline ":ecount.common.isTrue(n.fontStrike)&&!this.constValue.strikeRex.test(i)&&ecount.common.isTrue(n.fontUnderline)&&!this.constValue.underlineRex.test(i)?i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"grid-text-uline-through ":ecount.common.isTrue(n.fontStrike)&&!this.constValue.strikeRex.test(i)?i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"text-line-through ":ecount.common.isTrue(n.fontUnderline)&&!this.constValue.underlineRex.test(i)&&(i=i.replace(this.constValue.strikeRex,"").replace(this.constValue.underlineRex,"").replace(this.constValue.strikeUnderlineRex,"")+"text-uline "),ecount.common.isTrue(n.isShadow)&&(i=i.replace(/bg-(white|muted)/g,"")+"bg-muted "),i.trim().split(" ")},getStyles:function(){var n={},y=!1,p=!1,w=!1,b=!1,r=null,f=null,e=null,o=null,s=null,h=null,i=null,c=null,l=null,u=null,a=null,v=null,t=null;return this.config.common.columnType===this.constValue.columnType.multi?(this.rowData[this.constValue.rowVariableNames.rowType]&&this.constValue.dynamicsubtotalRex.test(this.rowData[this.constValue.rowVariableNames.rowType])?(this.getState("footerOption.fontColor")&&(n.color=ecount.gridV3.utils.getColor(this.getState("footerOption.fontColor"))),r=ecount.gridV3.utils.getColor(this.getState("footerOption.fontCellBgColor"))):(this.getFontColor()&&(n.color=ecount.gridV3.utils.getColor(this.getFontColor())),r=ecount.gridV3.utils.getColor(this.getState("fontCellBgColor"))),y=this.getState("TOP_BORD_USE_TF"),p=this.getState("BTTM_BORD_USE_TF"),w=this.getState("LEFT_BORD_USE_TF"),b=this.getState("RGT_BORD_USE_TF"),f=ecount.gridV3.utils.getColor(this.getState("TOP_BORD_COLOR_CD")),e=this.getState("TOP_BORD_THICK"),o=this.getState("TOP_BORD_STYL_CD"),s=ecount.gridV3.utils.getColor(this.getState("LEFT_BORD_COLOR_CD")),h=this.getState("LEFT_BORD_THICK"),i=this.getState("LEFT_BORD_STYL_CD"),c=ecount.gridV3.utils.getColor(this.getState("BTTM_BORD_COLOR_CD")),l=this.getState("BTTM_BORD_THICK"),u=this.getState("BTTM_BORD_STYL_CD"),a=ecount.gridV3.utils.getColor(this.getState("RGT_BORD_COLOR_CD")),v=this.getState("RGT_BORD_THICK"),t=this.getState("RGT_BORD_STYL_CD")):this.rowData[this.rowVariableNames.rowType]&&this.config.common.columnType===this.constValue.columnType.single&&(this.constValue.subtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.subtotalRex2.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.dynamicsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.topsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.bottomsubtotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.pagetotalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase())||this.constValue.totalRex.test(this.rowData[this.rowVariableNames.rowType].toLowerCase()))?(this.getState("footerOption.fontColor")&&(n.color=ecount.gridV3.utils.getColor(this.getState("footerOption.fontColor"))),r=ecount.gridV3.utils.getColor(this.getState("footerOption.fontCellBgColor")),y=this.getState("footerOption.TOP_BORD_USE_TF"),p=this.getState("footerOption.BTTM_BORD_USE_TF"),w=this.getState("footerOption.LEFT_BORD_USE_TF"),b=this.getState("footerOption.RGT_BORD_USE_TF"),f=ecount.gridV3.utils.getColor(this.getState("footerOption.TOP_BORD_COLOR_CD")),e=this.getState("footerOption.TOP_BORD_THICK"),o=this.getState("footerOption.TOP_BORD_STYL_CD"),s=ecount.gridV3.utils.getColor(this.getState("footerOption.LEFT_BORD_COLOR_CD")),h=this.getState("footerOption.LEFT_BORD_THICK"),i=this.getState("footerOption.LEFT_BORD_STYL_CD"),c=ecount.gridV3.utils.getColor(this.getState("footerOption.BTTM_BORD_COLOR_CD")),l=this.getState("footerOption.BTTM_BORD_THICK"),u=this.getState("footerOption.BTTM_BORD_STYL_CD"),a=ecount.gridV3.utils.getColor(this.getState("footerOption.RGT_BORD_COLOR_CD")),v=this.getState("footerOption.RGT_BORD_THICK"),t=this.getState("footerOption.RGT_BORD_STYL_CD")):(this.getFontColor()&&(n.color=ecount.gridV3.utils.getColor(this.getFontColor())),r=ecount.gridV3.utils.getColor(this.getState("fontCellBgColor")),y=this.getState("TOP_BORD_USE_TF"),p=this.getState("BTTM_BORD_USE_TF"),w=this.getState("LEFT_BORD_USE_TF"),b=this.getState("RGT_BORD_USE_TF"),f=ecount.gridV3.utils.getColor(this.getState("TOP_BORD_COLOR_CD")),e=this.getState("TOP_BORD_THICK"),o=this.getState("TOP_BORD_STYL_CD"),s=ecount.gridV3.utils.getColor(this.getState("LEFT_BORD_COLOR_CD")),h=this.getState("LEFT_BORD_THICK"),i=this.getState("LEFT_BORD_STYL_CD"),c=ecount.gridV3.utils.getColor(this.getState("BTTM_BORD_COLOR_CD")),l=this.getState("BTTM_BORD_THICK"),u=this.getState("BTTM_BORD_STYL_CD"),a=ecount.gridV3.utils.getColor(this.getState("RGT_BORD_COLOR_CD")),v=this.getState("RGT_BORD_THICK"),t=this.getState("RGT_BORD_STYL_CD")),r&&(n["background-color"]=r),y||p||w||b?(f&&(n["border-top-color"]=f),o&&(n["border-top-width"]=e+"px"),e&&(n["border-top-style"]=o),s&&(n["border-left-color"]=s),h&&(n["border-left-width"]=h+"px"),this.config.table.borderRemoveVertical?this.isFirstColumn&&i&&(n["border-left-style"]=i+" !important"):i&&(n["border-left-style"]=i),c&&(n["border-bottom-color"]=c),l&&(n["border-bottom-width"]=l+"px"),this.config.table.borderRemoveHorizontal?this.isLastRowData&&this.groupRowIndex==this.columnRowCount-1&&t&&(n["border-bottom-style"]=u+" !important"):u&&(n["border-bottom-style"]=u),a&&(n["border-right-color"]=a),v&&(n["border-right-width"]=v+"px"),this.config.table.borderRemoveVertical?this.isLastColumn&&t&&(n["border-right-style"]=t+" !important"):t&&(n["border-right-style"]=t)):this.config.table.borderColor&&(n["border-color"]=ecount.gridV3.utils.getColor(this.config.table.borderColor)),n},getAttrs:function(n){var i,t;n=n||{};i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},setCacheTable:function(n){this.tableElement=n},getStateName:function(n){var i=n.split("."),t="";return i.forEach(function(n){t+=n.substring(0,1).toUpperCase()+n.substring(1)}),t},getStateObject:function(n){for(var t=this.state,r=n.split("."),i=0,u=r.length-1;i<u;i++)t=t[r[i]];return t},getCellStateObject:function(n){for(var t=this.cellState,r=n.split("."),i=0,u=r.length-1;i<u;i++)t=t[r[i]];return t},afterChangeStateValue:function(n){n.className.contains("disabled")?this.setEditableState(!1):this.setEditableState(!0)},getCellElement:function(){var r,n,u,t,i,f;if(this.cellElement)return this.cellElement;if(r=this.tableElement,n=null,r&&(u=r.querySelector("tbody"),t=u.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(this.rowId)+"']"),t))for(i=0,f=t.length;i<f;i++)if(n=t[i].querySelector("[data-columnid='"+this.id+"']"),n)break;return this.cellElement=n,n},getCellPairElement:function(){var r=this.getPairId(),e,t,i,o;if(!r)return null;if(this.cellPairElement)return this.cellPairElement;var u=this.config.layout.container,f=u&&u.querySelector("[data-tableid='"+this.dataTableId+"']"),n=null;if(f&&(e=f.querySelector("tbody"),t=e.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(this.rowId)+"']"),t))for(i=0,o=t.length;i<o;i++)if(n=t[i].querySelector("[data-columnid='"+r+"']"),n)break;return this.cellPairElement=n,n},getControlElement:function(){var n=this.getCellElement(),t=this;return $(n).children().filter(function(n,i){return!i.classList.contains("grid-input-holder")&&!i.classList.contains("validation")&&!i.classList.contains(t.tempCellClassName)})},getCombineControlElement:function(n){var r=this.getCellElement(),u=this,i,t;return n&&(i=this.getModuleEditLayer(),t=i&&i.get$EditLayerElement(),t&&t.length)?$(t[0].children):$(r).children().filter(function(n,t){return!t.classList.contains("grid-input-holder")&&!t.classList.contains("validation")&&!t.classList.contains(u.tempCellClassName)})},getToggleTargetElement:function(n){return n.addon?this.getCellElement().querySelector('[data-addon="'+n.addon+'"]'):this.getCellElement()},setRenderingState:function(n){this.renderingState=n},setState:function(n,t,i){var r,u;if(i=/\d+/.test(i)?i:0,r=n.split("."),this.getState(n)!=t){if(u=this.getStateObject(n),!u)return;u[r[r.length-1]]=typeof u[r[r.length-1]]=="object"?t:t}},getState:function(n){var u=this.getStateObject(n),i=n.split("."),t,r;return u?(t=u[i[i.length-1]],r=typeof t,i[i.length-1]=="propertyName"?t:r=="object"?t:(r=="function"||/^-?\d+$/.test(t),t)):null},setCellState:function(n,t,i){var r,u;if(i=/\d+/.test(i)?i:0,r=n.split("."),this.getCellState(n)!=t){if(u=this.getCellStateObject(n),!u)return;u[r[r.length-1]]=typeof u[r[r.length-1]]=="object"?t:t}},getCellState:function(n,t){var r=this.getCellStateObject(n),u=n.split("."),t,i;return r?(t=r[u[u.length-1]],i=typeof t,i=="object")?t:(i=="function"||/^-?\d+$/.test(t),t):null},isNotEqualObjectValue:function(n,t){var r=!1,u=typeof n,f=typeof t,e,i;if(n===undefined||t===undefined||n===null||t===null||u==="boolean"||f==="boolean"||u==="string"||f==="string"||u==="number"||f==="number")return n!==t;e=Object.keys(n).length>Object.keys(t).length?n:t;for(i in n)r||e.hasOwnProperty(i)&&(u=typeof n[i],f=typeof t[i],n[i]===undefined||t[i]===undefined?r=n[i]!==t[i]:n[i]===null||t[i]===null?r=n[i]!==t[i]:u==="boolean"||f==="boolean"?r=n[i]!==t[i]:u==="string"||f==="string"?r=n[i]!==t[i]:u==="number"||f==="number"?r=n[i]!==t[i]:n[i].constructor==Array&&t&&t[i]&&t[i].constructor==Array?t[i].length!=n[i].length?r=!0:t[i].some(function(t,u){if(this.isNotEqualObjectValue(t,n[i][u]))return r=!0,!0}.bind(this)):n[i]!=(t&&t[i])&&(r=!0));return r},getCell:function(){return this.getValue()},getPropertyName:function(){return this.getState("propertyName")},getValue:function(){var t=this.getCellElements(),n=this.rowData[this.getPropertyName()],r,i,u,f;if(this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]){if(n==null||n==undefined)return!1;if(t&&t.length>1){for(r=[],i=0,u=t.length;i<u;i++)f=t[i],r.push(f.checked);return r}return typeof n=="object"&&n.constructor==Array?n[0].checked:ecount.common.isTrue(n)}return(this.id==this.constValue.rowCountColumnPropertyName?n=this[this.constValue.rowCountColumnPropertyName]:this.id==this.constValue.rowIndexPropertyName?n=this[this.constValue.rowIndexPropertyName]:this.id==this.constValue.rowStatePropertyName&&(n=this[this.constValue.rowStatePropertyName]),/.textarea/.test(this.getControlType()))?_.isNil(n)?"":n:$.isEmpty(n)?"":n},setValue:function(n,t,i,r){r=r||{isRunChange:!0};var h=typeof r.isSetControlValue=="boolean"?r.isSetControlValue:!0,o=typeof r.isRunChange=="boolean"?r.isRunChange:!0,c=typeof r.isForceRunChange=="boolean"?r.isForceRunChange:!1,l=typeof r.isForceSetControlInstanceValue=="boolean"?r.isForceSetControlInstanceValue:!1;(n==undefined||n==null)&&(n="");n!=undefined&&n!=null&&n.constructor&&n instanceof Decimal&&(n=n.toString());var u=!1,a=this.getValue(),f=this.rowData[this.getPropertyName()],e=typeof n,s=this.getConverter();return e!=="object"&&s&&(n=s(n,{dataType:this.getControlOptionDataType(),isCheckZero:ecount.common.isTrue(this.getState("controlOption.isCheckZero")),amtCalc:this.getState("controlOption.amtCalc")}).replace(this.constValue.thousandsPattern,"")),typeof f=="object"&&e=="object"?f.constructor==Array&&n.constructor==Array?(e="array",n.length!=f.length?u=!0:n.some(function(n,t){if(this.isNotEqualObjectValue(n,f[t]))return u=!0,!0}.bind(this))):u=this.isNotEqualObjectValue(n,f):u=f!=n,c&&(u=!0),u&&(this.rowData[this.getPropertyName()]=n,h&&this.setControlInstanceValue(n,{isForceSetControlInstanceValue:l}),i[this.constValue.rowStatePropertyName]==this.constValue.rowState.deletedNew?i[this.constValue.rowStatePropertyName]=this.constValue.rowState.create:[this.constValue.rowState.none,this.constValue.rowState.changed,this.constValue.rowState.deleted].contains(i[this.constValue.rowStatePropertyName])?i[this.constValue.rowStatePropertyName]=this.constValue.rowState.changed:i[this.constValue.rowStatePropertyName]==this.constValue.rowState.create&&(i[this.constValue.rowStatePropertyName]=this.constValue.rowState.changed),this.controlState&&!/^widget.gridCell.*/.test(this.controlState.controlType)?this.__isDestroyInstance||(this.instance.preventTriggerEvent=o):o&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getControlOptionControlType(),sectionType:this.sectionType,rowItem:i,rowData:i,rowKey:i[this.constValue.keyColumnPropertyName],rowIndex:t,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:a,newValue:n,childElementId:null})),u},setCellByControlIndex:function(n,t,i,r,u){var o;u=u||{isRunChange:!0};var h=typeof u.isSetControlValue=="boolean"?u.isSetControlValue:!0,s=typeof u.isRunChange=="boolean"?u.isRunChange:!0,c=typeof u.isForceRunChange=="boolean"?u.isForceRunChange:!1,l=typeof u.isForceSetControlInstanceValue=="boolean"?u.isForceSetControlInstanceValue:!1,a=this.getControlControlType(this.constValue.controlViewMode.input,i,r);(n==undefined||n==null)&&(n="");n!=undefined&&n!=null&&n.constructor&&n instanceof Decimal&&(n=n.toString());var e=!1,v=this.getValue(),f=this.rowData[this.getPropertyName()];return this.constValue.customizerRex.test(a)&&f.constructor!==Array&&(f=[f]),_.isNumber(t)&&(f=f[t]||""),o=typeof n,typeof f=="object"&&o=="object"?f.constructor==Array&&n.constructor==Array?(o="array",n.length!=f.length?e=!0:n.some(function(n,t){if(this.isNotEqualObjectValue(n,f[t]))return e=!0,!0}.bind(this))):e=this.isNotEqualObjectValue(n,f):e=f!=n,c&&(e=!0),e&&(_.isNumber(t)?(this.rowData[this.getPropertyName()].constructor!==Array&&(this.rowData[this.getPropertyName()]=[this.rowData[this.getPropertyName()]]),this.rowData[this.getPropertyName()][t]=n):this.rowData[this.getPropertyName()]=n,h&&this.setControlInstanceValue(n,{isForceSetControlInstanceValue:l,controlIndex:t}),i[this.constValue.rowStatePropertyName]==this.constValue.rowState.deletedNew?i[this.constValue.rowStatePropertyName]=this.constValue.rowState.create:[this.constValue.rowState.none,this.constValue.rowState.changed,this.constValue.rowState.deleted].contains(i[this.constValue.rowStatePropertyName])?i[this.constValue.rowStatePropertyName]=this.constValue.rowState.changed:i[this.constValue.rowStatePropertyName]==this.constValue.rowState.create&&(i[this.constValue.rowStatePropertyName]=this.constValue.rowState.changed),this.controlState&&!/^widget.gridCell.*/.test(this.controlState.controlType)?this.__isDestroyInstance||(this.instance.preventTriggerEvent=s):s&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getControlOptionControlType(),sectionType:this.sectionType,rowItem:i,rowData:i,rowKey:i[this.constValue.keyColumnPropertyName],rowIndex:r,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:v,newValue:n,childElementId:null})),e},getLinechange:function(){return this.getState("linechange")},getPairId:function(){return this.getState("pairId")},getControlType:function(){return this.getState("controlType")},getConverter:function(n){if(n){var t=n.substring(0,1);return["1","2","5"].contains(t)?ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?ecount.convertor.dataTypeConvertor[t]:/^(date)\d{2}$/gi.test(n)?ecount.convertor.dataTypeConvertor.date:function(n){return n}}return this.getState("converter")},getIsTodayTime:function(){return this.getState("isTodayTime")},setDataType:function(n){this.setState("dataType",n)},getDataType:function(){var n=this.getState("dataType");return/\d+/.test(n)?n.toString():n},setAmtCalc:function(n){this.setState("amtCalc",n)},getAmtCalc:function(){return this.getState("amtCalc")},getThousandSeparator:function(){return this.getState("thousandSeparator")},setThousandSeparator:function(n){this.setState("thousandSeparator",n)},getDecimalSeparator:function(){return this.getState("decimalSeparator")},setDecimalSeparator:function(n){this.setState("decimalSeparator",n)},getCustomizeDate:function(){return this.getState("customizeDate")},setDateFormat:function(n){this.setState("dateFormat",n)},getDateFormat:function(){return this.getState("dateFormat")},setFontColor:function(n){this.setState("fontColor",n)},getFontColor:function(){return this.getState("fontColor")},setFont:function(n){this.setState("font",n)},getFont:function(){var n=this.getState("font");return n?"font-"+ecount.convertor.convertFontClassName(n):""},setFontSize:function(n){this.setState("fontSize",n)},getFontSize:function(n){var n=this.getState("fontSize");return n?"font-"+n+"px":""},setFontBold:function(n){this.setState("fontBold",n)},getFontBold:function(){return this.getState("fontBold")},setFontUnderline:function(n){this.setState("fontUnderline",n)},getFontUnderline:function(){return this.getState("fontUnderline")},setFontItalic:function(n){this.setState("fontItalic",n)},getFontItalic:function(){return this.getState("fontItalic")},setFontStrike:function(n){this.setState("fontStrike",n)},getFontStrike:function(){return this.getState("fontStrike")},setValign:function(n){this.setState("valign",n)},getValign:function(n){var n=this.getState("valign");return n?"valign-"+n:""},setAlign:function(n){this.setState("align",n)},getAlign:function(n){var n=this.getState("align");return n?"text-"+n:""},setIsShadow:function(n){this.setState("isShadow",n)},getIsShadow:function(){return this.getState("isShadow")},setDataType1:function(n){this.setState("dataType1",n)},getDataType1:function(){return this.getState("dataType1")},setDataType2:function(n){this.setState("dataType2",n)},getDataType2:function(){return this.getState("dataType2")},setIsDisplayZero:function(n){this.setState("isDisplayZero",n)},getIsDisplayZero:function(){return this.setState("isDisplayZero")},setDecCount:function(n){this.setState("decCount",n)},getDecCount:function(){return this.getState("decCount")},setIsCheckZero:function(n){this.setState("isCheckZero",n)},getIsCheckZero:function(){return this.getState("isCheckZero")},setIsShowIfZero:function(n){this.setState("isShowIfZero",n)},getIsShowIfZero:function(){return this.getState("isShowIfZero")},getChecked:function(n){return this.getState("value",n)},setIsHideColumn:function(n){this.setState("isHideColumn",n);n?this.cellState&&this.cellState.className&&this.cellState.className.remove("hide"):this.cellState&&this.cellState.className&&this.cellState.className.add("hide")},getIsHideColumn:function(){return this.getState("isHideColumn")},getEditableState:function(){return this.getState("editableState")},setEditableState:function(n){return this.setState("editableState",n)},getCursorIndex:function(){return this.getState("cursorIndex")},getLabel:function(n){var t=this.getLabels();return t&&t[n]||""},getLabels:function(){return this.getState("labels")},getRowDataId:function(){return this.rowId},getHeaderType:function(){return this.getState("isCellHeaderType")},setHeaderType:function(n){this.setState("isCellHeaderType",n)},getRowDataCount:function(){return this[this.constValue.rowCountColumnPropertyName]},setRowDataCount:function(n){return this[this.constValue.rowCountColumnPropertyName]=n},getRowDataIndex:function(){return this[this.constValue.rowIndexPropertyName]},setRowDataIndex:function(n){return this[this.constValue.rowIndexPropertyName]=n},getRowDataState:function(){return this[this.constValue.rowStatePropertyName]},setTreesetExpand:function(n){this[this.rowVariableNames.treeSet]&&(this[this.rowVariableNames.treeSet][this.rowVariableNames.expand]=n)},getTreesetExpand:function(){return this[this.rowVariableNames.treeSet]?this[this.rowVariableNames.treeSet][this.rowVariableNames.expand]:!1},setTreesetDepth:function(n){this[this.rowVariableNames.treeSet]&&(this[this.rowVariableNames.treeSet][this.rowVariableNames.depth]=n)},getTreesetExpand:function(){return this[this.rowVariableNames.treeSet]?this[this.rowVariableNames.treeSet][this.rowVariableNames.depth]:-1},getControlOptionControlType:function(){return this.getState("controlOption.controlType")},setControlOptionDataType:function(n){this.setState("controlOption.dataType",n)},getControlOptionDataType:function(){var n=this.getState("controlOption.dataType");return n==null||n==undefined?"":n.toString()},getControlOptionIsCheckZero:function(){return ecount.common.isTrue(this.getState("controlOption.isCheckZero"))},setControlOptionNumberType:function(n){this.setState("controlOption.numberType",n)},getControlOptionNumberType:function(){return this.getState("controlOption.numberType")},setControlOptionDecimalUnit:function(n){this.setState("controlOption.decimalUnit",n)},getControlOptionDecimalUnit:function(){var n=this.getState("controlOption.decimalUnit");return $.isEmpty(n)?null:n},getControlOptionIsPositiveInteger:function(){return ecount.common.isTrue(this.getState("controlOption.isPositiveInteger"))},getControlOptionThousandSeparator:function(){return this.getState("controlOption.thousandSeparator")},getControlOptionDecimalSeparator:function(){return this.getState("controlOption.decimalSeparator")},getCellValidationResult:function(){return this.getCellState("validation.result")},setCellValidationResult:function(n){this.setCellState("validation.result",n)},getCellValidationPopoverPlacement:function(){return this.getCellState("validation.popover.placement")},setCellValidationPopoverPlacement:function(n){this.setCellState("validation.popover.placement",n)},getCellValidationPopoverMessage:function(){return this.getCellState("validation.popover.message")},setCellValidationPopoverMessage:function(n){this.setCellState("validation.popover.message",n)},getCellValidationPopoverVisible:function(){return this.getCellState("validation.popover.visible")},setCellValidationPopoverVisible:function(n){this.setCellState("validation.popover.visible",n)},getCellValidationPopoverTrigger:function(){return this.getCellState("validation.popover.trigger")},setCellValidationPopoverTrigger:function(n){this.setCellState("validation.popover.trigger",n)},getCellValidationCssVisible:function(){return this.getCellState("validation.css.visible")},setCellValidationCssVisible:function(n){this.setCellState("validation.css.visible",n)},deleteValidation:function(){this.getCellValidationResult()||(this.setCellValidationResult(!0),this.hideValidation(),this.config.events.widgetUIEventDelegator&&this.config.events.widgetUIEventDelegator.triggerEvent("control.hideError",{instance:{},cid:this.sectionType+"|"+this.id+"|"+this.rowId}))},showCellControlLayer:function(n){var i=this.getControlElement(),t=this.instanceManager.create(this.controlState.controlType,this.controlState);i&&i.length&&(t.set$El(i),t.isCombinedControl()&&(t=t.get(n.index||0)),t.showDropdown&&t.showDropdown(n.layerOption))},showValidation:function(n){(this.getCellValidationResult()!=n.result||this.getCellValidationPopoverMessage()!=n.message)&&(this.setCellValidationResult(n.result),this.setCellValidationPopoverPlacement(n.placement||"auto"),this.setCellValidationPopoverMessage(n.message),this.setCellValidationPopoverVisible(typeof n.popOverVisible=="boolean"?n.popOverVisible:!0),this.setCellValidationCssVisible(typeof n.cssVisible=="boolean"?n.cssVisible:!0),this.showUIValidation(n))},showUIValidation:function(n){if(!this.getCellValidationResult()){var t=this.getControlElement(),r=this.constValue.customizerRex.test(this.controlState.controlType),i;i=r&&this.instance?this.instance:this.instanceManager.create(this.controlState.controlType,this.controlState);r&&(_.isEmpty(i.controlList)&&i.render($("<div><\/div>")),t=this.getCombineControlElement(this.isModuleEditLayerActive()));t&&t.length&&(i.set$El(t),i.showError({message:this.getCellValidationPopoverMessage(),placement:this.getCellValidationPopoverPlacement(),trigger:this.getCellValidationPopoverTrigger(),directShow:typeof n.showDirect=="boolean"?n.showDirect:!1,hideTimeout:n.hideTimeout||0}),this.__isDestroyInstance||this.instance.showError({message:this.getCellValidationPopoverMessage(),placement:this.getCellValidationPopoverPlacement(),trigger:this.getCellValidationPopoverTrigger(),directShow:typeof n.showDirect=="boolean"?n.showDirect:!1,hideTimeout:n.hideTimeout||0}),/^widget.link.*/.test(this.getControlType())&&t.css({position:"relative",zIndex:3}),this.config.events.widgetUIEventDelegator&&this.config.events.widgetUIEventDelegator.triggerEvent("control.showError",{instance:{},cid:this.sectionType+"|"+this.id+"|"+this.rowId}))}},hideValidation:function(){var t=this.getControlElement(),i=this.constValue.customizerRex.test(this.controlState.controlType),n;n=i&&this.instance?this.instance:this.instanceManager.create(this.controlState.controlType,this.controlState);i&&(_.isEmpty(n.controlList)&&n.render($("<div><\/div>")),t=this.getCombineControlElement(this.isModuleEditLayerActive()));t&&t.length&&(n.set$El(t),n.hideError())},redrawCssValidation:function(){if(!this.getCellValidationResult()){var i=this.constValue.customizerRex.test(this.controlState.controlType),t=this.getControlElement(),n;n=i&&this.instance?this.instance:this.instanceManager.create(this.controlState.controlType,this.controlState);i&&(_.isEmpty(n.controlList)&&n.render($("<div><\/div>")),t=this.getCombineControlElement(this.isModuleEditLayerActive()));t&&t.length&&(n.set$El(t),n.resizeValidation&&n.resizeValidation())}},resetPopover:function(){var n=this.getControlElement(),t=this.instanceManager.create(this.controlState.controlType,this.controlState);n&&n.length&&(t.set$El(n),t.resetPopover(ecount.constValue.CONTROL_UPDATE_IT_SELF,{message:this.getCellValidationPopoverMessage(),placement:this.getCellValidationPopoverPlacement(),directShow:!0,trigger:"manual"}),t.resizeValidation())},getValidationResultInfo:function(){var n=this.getCellValidationResult();return{result:n,columnId:this.getState("id")}},getColspanCount:function(){var n=this.getCellElement();return n&&n.colSpan||1},addCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.addClass(n)))},removeCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.removeClass(n)))},hasCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;return t?(i=this.getCellElement(),t)?(t.set$El(i),t.hasClass(n)):!1:!1},getCell:function(){return this.getValue()},refreshCell:function(n,t,i){function l(n,t,i){var v=$(n),l=null,h,c,p,r,o,f;if(_.isUndefined(i)&&(i={}),this.constValue.nativeControlInWidgetCheckbox[e]){var y=this.getValue(),w=y===!0,s=this.instanceManager.create(t.controlType,t),a=this.getControlElement(),b=_.isUndefined(i.cindex)?0:i.cindex;if(s.set$El(a),a&&a.length&&t.data.length<2?s.setValue(w?"Y":""):s.setValue(y),!this.constValue.checkBoxPropertyNameRex.test(this.id)&&t.data)for(r=0,o=t.data.length;r<o;r++)s.changeLabel&&s.changeLabel(t.data[r].label||"",r);if(h=this.getCellElements(u),h)for(c=0,o=h.length;c<o;c++)t._readOnly?h[c].setAttribute("disabled","disabled"):h[c].removeAttribute("disabled")}else{for(p=$(u),p.find("."+this.tempCellClassName).remove(),r=0,o=u.children.length;r<o;r++)if(f=u.children[r],this.constValue.nativeFocusControl[e])u.children.length>0&&u.removeChild(u.children[0]);else{if(f.classList.contains("grid-input-holder")){l=f;continue}if(f.classList.contains("validation"))continue;f.classList.contains("hide")||(f.classList.add("hide"),f.classList.add(this.tempCellClassName))}l?v.each(function(n,t){u.insertBefore(t,l)}):v.each(function(n,t){u.appendChild(t)})}}function ct(n,t){if($.isNull(n)||$.isNull(t))return!1;var i=n._readOnly,r=t._readOnly;return i===r?!1:!0}var a,o,r,rt,v,h,y,p,ut,w,b,ft,k;i=i||{isFocusControl:!1};var nt=n[this.constValue.rowVariableNames.mergeSet],et=typeof i.isFocusControl=="boolean"?i.isFocusControl:!1,tt=!1,it=-1,c="",d=!1,u=this.getCellElement(),e=this.getControlControlType(this.constValue.controlViewMode.input,n,t);if(this.__isDestroyInstance||(c=this.instance.getGridViewHTML&&this.instance.getGridViewHTML()||"",this.instance.controlType!=e&&(it=this.instance.getCurrentFocusedIndex(),tt=this.deactiveModuleEditLayer(),this.destroyWidgetInstance())),ecount.grid.constValue.customizerRex.test(e)){if(c==""){var ot=this.createModuleEditLayerGenerator(n,t),st=ot.controlGenerator,g=st.end();this.controlState=g;a=this.instanceManager.create(g.controlType,g);a.render($("<div><\/div>"));c=a.getGridViewHTML&&a.getGridViewHTML()||""}l.call(this,c)}else{o=this.cellState&&this.cellState.toggle;o&&o.created&&(ecount.popover.destroy($(this.getToggleTargetElement(o)),o.type),delete o.created,delete o.state);var ht=this.getCellGenerator(n,t,this.groupRowIndex,this.columnRowCount,i),f=ht.end(),s=this.instanceManager.create(f.controlType,f);if(s.setInstanceManager(this.instanceManager),this.initCellState(f),r=s.state[0].controls[0].end(),this.constValue.nativeFocusControl[e]?l.call(this,s.getControlHTML(),r):/^widget.radio.*/.test(e)||/^widget.date.*/.test(e)?(l.call(this,s.getControlHTML(),r),d=!0):r&&r.data&&$.isArray(r.data)&&(_.isEmpty(r.data)||r.data[0].label==null||r.data[0].label==undefined||(r.data[0].label=r.data[0].label.toString()),rt=this.getControlElement(),v="",rt.each(function(n,t){v+=ecount.gridV3.utils.escapeHTML((t.innerHTML||"").replace("&nbsp;",""))}),h="",_.isEmpty(r.data)||(h=r.data[0].label.replace("&nbsp;","")),v&&!_.isEmpty(r.__prettyFilter)&&(y=ecount.convertor.executePrettyFilter(r.__prettyFilter[0],h),y&&y.isChange&&(h=y.value)),h=ecount.gridV3.utils.escapeHTML($("<div><\/div>").html(h).html()),(h!=v||r.forceRedraw||i.forceRedraw)&&(l.call(this,s.getControlHTML(),r,i),d=!0,/.textarea/.test(r.controlType)&&(p=this.getModuleEditLayer(),p&&p.activeColumnId==this.id&&p.activeRowId==this.rowId&&this.setTrHeight()))),s.state[0].controls.length==1&&s.state[0].controls.pop(),ut=this.controlState,this.controlState=r,ct(ut,this.controlState)&&this.setCheckboxCountByAction("changeReadOnly"),u.style=ecount.gridV3.utils.convertStyles(f.styles,!0),f.className&&f.className.some(function(n){if(n=="")return!1;new RegExp(n,"g").test(u.className)||(u.className!=""&&(u.className+=" "),u.className+=n)}),et&&this.constValue.nativeFocusControl[this.controlState.controlType]&&(w=this.getCellElements(u),w))for(b=0,ft=w.length;b<ft;b++)k=w[b],k&&+k.getAttribute("data-index")===i.cindex&&k.focus()}nt&&nt.length>1&&f.attrs.rowspan&&f.attrs.rowspan!=u.rowSpan&&(u.rowSpan=f.attrs.rowspan);tt?this.activeModuleEditLayer(this.getCellElement(),n,t,{type:"index",index:it}):this.constValue.nativeFocusControl[e]||d&&this.replaceModuleChildInViewLayer()},setCellEditable:function(n){if(this.setEditableState(n),n===!0){if(this.removeCellClass(["disabled"]),this.cellState&&this.cellState.className&&this.cellState.className.contains("disabled"))for(var t=this.cellState.className.length;t>-1;t--)this.cellState.className[t]=="disabled"&&this.cellState.className.splice(t,1)}else n===!1&&(this.addCellClass(["disabled"]),this.cellState&&this.cellState.className&&!this.cellState.className.contains("disabled")&&this.cellState.className.add("disabled"))},getCellEditable:function(){return!this.cellState||!this.cellState.className||this.cellState.className.contains("disabled")?!1:!0},getCellElements:function(n){return _.isUndefined(n)?this.cellElement&&this.cellElement.querySelectorAll(this.constValue.controlSelector[this.controlState.controlType]):n.querySelectorAll(this.constValue.controlSelector[this.controlState.controlType])},setControlToggleShaded:function(n,t,i){if(i=/\d+/.test(i)?i:0,this.controlState.controlType=="widget.gridCell.link"){var r=this.instanceManager.create(this.controlState.controlType,this.controlState),u=this.getControlElement();u&&u.length&&(r.set$El(u),n?(r.addClass(t),this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.fixed.addControlClass",{gridTableID:this.dataTableId,gridSectionType:this.sectionType,gridColumnID:this.id,gridDataKey:this.rowId,gridControlIndex:0,gridAddClassNames:t})):(r.removeClass(t),this.config.events.gridRelatedEvents&&this.config.events.gridRelatedEvents._triggerEvent("ecount.gridV3.fixed.removeControlClass",{gridTableID:this.dataTableId,gridSectionType:this.sectionType,gridColumnID:this.id,gridDataKey:this.rowId,gridControlIndex:0,gridRemoveClassNames:t})))}},setControlChecked:function(n,t,i,r,u){var e,c,s;u=u||{isRunChange:!0,isFocusControl:!1};var l=typeof u.isRunChange=="boolean"?u.isRunChange:!0,f=this.config.checkbox.use&&this.config.checkbox.manage[this.id],h=f&&f.checkingDeterminer,a=f&&f.isUseDisableCheck,v=a,o=!!(n.checked===!0);return o&&h&&h(this.rowData)!=!0&&(o=!1),e=this.getValue(),c=this.getControlIsReadOnly()||this.controlState._readOnlyIndex&&this.controlState._readOnlyIndex.indexOf(t)>-1,!c||v||_.get(u,"isForce")?(s=this.setValue(_.isArray(e)?e:n.checked,i,r,{isSetControlValue:!1,isRunChange:!1}),s&&l&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getControlOptionControlType(),sectionType:this.sectionType,rowItem:r,rowData:r,rowKey:r[this.constValue.keyColumnPropertyName],rowIndex:i,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:e,newValue:o,childElementId:null}),s):!1},setControlIncreaseCheckBoxNumber:function(n){var i=this.getControlElement(),t;this.constValue.nativeControlInWidgetCheckbox[this.controlState.controlType]&&(this.controlState.data[0].label=(parseInt(this.controlState.data[0].label,10)+n).toString(),t=this.instanceManager.create(this.controlState.controlType,this.controlState),i&&i.length&&(t.set$El(i),t.changeLabel&&t.changeLabel(this.controlState.data[0].label)))},setControlDecreaseCheckBoxNumber:function(n){var t=this.getControlElement(),i;this.constValue.nativeControlInWidgetCheckbox[this.controlState.controlType]&&(this.controlState.data[0].label=(parseInt(this.controlState.data[0].label,10)+n).toString(),i=this.instanceManager.create(this.controlState.controlType,this.controlState),t&&t.length&&(i.set$El(t),i.changeLabel(this.controlState.data[0].label)))},setControlChangeCheckBoxNumber:function(n){var t=this.getControlElement(),i;this.constValue.nativeControlInWidgetCheckbox[this.controlState.controlType]&&(this.controlState.data[0].label=n,i=this.instanceManager.create(this.controlState.controlType,this.controlState),t&&t.length&&(i.set$El(t),i.changeLabel(this.controlState.data[0].label)))},getViewValueDate20:function(n){var t=/^([1|2][0-9]{3})[\/\-\.]?(0[1-9]|1[0-2])[\/\-\.]?([\/\-\.]\d+)?$/g.exec(n);return t&&(n=t[1]+"/"+t[2]+"/01",t[3]&&(n+=t[3])),n},getControlControlType:function(n,t,i){var r=this.getControlType(),f,e;if(this.constValue.nativeControlInWidgetV3[r])return r;if(n==this.constValue.controlViewMode.input){var o=t[this.rowVariableNames.mergeSet],s=o&&o.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.columnIndex}.bind(this)),h=s&&s[this.rowVariableNames.rowTitle]||"",r=this.getControlOptionControlType(),u=this.getControlGenerator();return u.define(r,this.id,this.id),f=this.gridGenerator.container().define("ecount.gridV3.container.view.cell",null,this.cellState),f.setInstanceManager(this.instanceManager),this.executeCustomCallback(this.getValue(),f,u,t,i,n,null,{from:"getControlType"}),e=u.end(),h!=""&&(e.controlType="widget.gridCell.label"),e.controlType}if(n==this.constValue.controlViewMode.view)return this.controlState?this.controlState.controlType||"widet.label":"widget.label"},getConverteValue:function(n,t){t=t||{};var i=this.getConverter();return typeof n=="boolean"?n:(n!=""&&this.getDataType1()=="DATETIME"&&(this.getDateFormat()=="Date20"||["YEARMONTH","YEARMONTH_NO"].contains(this.getDataType2()))&&(n=this.getViewValueDate20(n)),$.isPlainObject(n)||$.isArray(n))?n:i?i(n,t):n.toString()},setControlValue:function(n){var t=this.getControlElement(),i=this.instanceManager.create(this.controlState.controlType,this.controlState);return t&&t.length&&(n=this.getConverteValue(n,{dataType:this.getControlOptionDataType(),amtCalc:this.getAmtCalc(),isCheckZero:this.getControlOptionIsCheckZero(),thousandSeparator:this.getThousandSeparator(),decimalSeparator:this.getDecimalSeparator()}),i.set$El(t),this.controlState.controlType=="widget.gridCell.label"?i.setLabel(n):i.setValue(n)),!0},getControlValue:function(){var t=this.getModuleEditLayer(),n;return t&&this.instance&&(n=this.instance.getValue(),this.setValue(n,null,null,{isRunChange:!1})),this.getValue()},setControlTreeNodeOpen:function(){var r=this.instanceManager.create(this.controlState.controlType,this.controlState),n=this.getControlElement(),t,i;n&&n.length&&(r.set$El(n),t=r.$el.find(".tree-arrow"),t.hasClass("open")||t.addClass("open"));i=this.rowData[this.constValue.rowVariableNames.treeSet];i&&(i[this.constValue.rowVariableNames.expand]=!0)},setControlTreeNodeClose:function(){var r=this.instanceManager.create(this.controlState.controlType,this.controlState),n=this.getControlElement(),t,i;n&&n.length&&(r.set$El(n),t=r.$el.find(".tree-arrow"),t.hasClass("open")&&t.removeClass("open"));i=this.rowData[this.constValue.rowVariableNames.treeSet];i&&(i[this.constValue.rowVariableNames.expand]=!1)},getControlIsReadOnly:function(){return this.controlState&&this.controlState._readOnly===!0},syncControlValueInRowData:function(n,t,i){var s,r,o;if(i=i||{isRunChange:!1,isSetControlValue:!1},s=this.getModuleEditLayer(),s&&this.instance){if(r=this.instance.getValue(),/widget.code.*/.test(this.instance.controlType))this.instance.getSelectedCode()[0]!=r&&(r=""),this.instance.validate().length>0&&(r=this.instance.getValue());else switch(this.instance.controlType){case"widget.date":var u=this.instance.getSYear(),f=this.instance.getSMonth(),e=this.instance.getSDay();this.instance._isDateSpace||!this.instance._isDateSpace&&u=="===="&&f=="=="&&e==""?(r=u+"-"+f+"-"+e,r=="--"&&(r="")):r=!this.instance._isDateSpace&&u&&f&&e?u+"-"+f+"-"+e:"";break;case"widget.select":o=this.instance.getSelectedItem();r=o&&o.value||""}this.setValue(r,t,n,i)}},getScrollData:function(n){var t={};return t.topMargin=this.config.common.topMargin||0,t.tdElement=$(n),t.currentTop=n.offsetTop+0,t.currentHeight=t.tdElement.height(),t.scrollTop=this.config.layout.$contents?this.config.layout.$contents.scrollTop():$(document).scrollTop(),t.viewportHeight=this.config.layout.contents?this.config.layout.contents[0].offsetHeight:$(window).height(),t.bottomMargin=this.config.common.bottomMargin||0,t.currentBottom=t.topMargin+t.currentTop+t.tdElement.height(),t.bottomLimit=t.scrollTop+t.viewportHeight,t.ratioMargin=t.viewportHeight-t.topMargin>=300?100:10,t.currentLeft=n.offsetLeft,t.currentRight=t.currentLeft+t.tdElement.width(),t.viewportWidth=this.config.layout.$contents?this.config.layout.$contents.width():$(window).width(),t.scrollLeft=this.config.layout.contents?this.config.layout.contents[0].scrollLeft:$(document).scrollLeft(),t.rightLimit=t.scrollLeft+t.viewportWidth,t.ratioMargin2=10,t},scrollRightMove:function(){var n=this.getScrollData(this.getCellElement()),t;n.currentRight>n.scrollLeft&&n.currentRight<=n.rightLimit-n.ratioMargin2-n.bottomMargin||(t=16,this.config.layout.$contents?this.config.layout.$contents.scrollLeft(n.scrollLeft+(n.currentRight-n.rightLimit)+n.ratioMargin2+n.bottomMargin+t):$(document).scrollLeft(n.scrollLeft+(n.currentRight-n.rightLimit)+n.ratioMargin2+n.bottomMargin+t))},scrollLeftMove:function(){var n=this.getScrollData(this.getCellElement());n.currentLeft>n.scrollLeft+n.ratioMargin2&&n.currentLeft<=n.rightLimit||(this.config.layout.$contents?this.config.layout.$contents.scrollLeft(n.currentLeft-n.ratioMargin2+1):$(document).scrollLeft(n.currentLeft-n.ratioMargin2+1))},setControlFocus:function(n,t,i){var f,u,r,e,o;if(i=i||{},!ecount.common.isTrue(this.getIsHideColumn())&&(!this.cellState||!this.cellState.className||!this.cellState.className.contains("disabled")))return f="other",r=this.getControlOptionControlType(),this.constValue.checkBoxPropertyNameRex.test(this.id)||this.constValue.rowMoveablePropertyNameRex.test(this.id)||this.constValue.foldColumnPropertyNameRex.test(this.id)||r&&!this.constValue.nativeViewControlType[r]&&(this.__isDestroyInstance||(f="same")),i.scrollRightMove?this.scrollRightMove():i.scrollLeftMove&&this.scrollLeftMove(),u=this.getCellElement(),r=this.getControlControlType(this.constValue.controlViewMode.input,n,t),this.constValue.checkBoxPropertyNameRex.test(this.id)?this.constValue.controlSelector[r]&&(u.querySelector(this.constValue.controlSelector[r])&&u.querySelector(this.constValue.controlSelector[r]).focus(),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType):this.constValue.rowMoveablePropertyNameRex.test(this.id)?this.constValue.controlSelector[r]&&(u.querySelector(this.constValue.controlSelector[r])&&u.querySelector(this.constValue.controlSelector[r]).focus(),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType):r&&!this.constValue.nativeViewControlType[r]?this.__isDestroyInstance?(i.isLastFocusableIndex&&(i.index=0),this.activeModuleEditLayer(u,n,t,i)):r=="widget.date"&&i.keyType=="click"||r=="widget.radio.multi"&&i.keyType=="click"||this.instance.setFocus(this.instance.getFocusableIndex()):this.getControlIsReadOnly()===!0?f="pass":(e=this.instanceManager.create(this.controlState.controlType,this.controlState),o=this.getControlElement(),o&&o.length&&(e.set$El(o),i.isFirstFocusableIndex?i.index=e.getReversedFocusableIndex():i.isLastFocusableIndex&&(i.index=0),e.setFocus(i.index),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType)),f},setControlPrevFocus:function(n,t,i){var o="other",r=this.getControlControlType(this.constValue.controlViewMode.input,n,t),u,f,e;return this.constValue.checkBoxPropertyNameRex.test(this.id)||this.constValue.rowMoveablePropertyNameRex.test(this.id)||this.constValue.foldColumnPropertyNameRex.test(this.id)||r&&!this.constValue.nativeViewControlType[r]&&(this.__isDestroyInstance||(o="same")),i.scrollLeftMove&&this.scrollLeftMove(),u=this.getCellElement(),this.constValue.checkBoxPropertyNameRex.test(this.id)?this.constValue.controlSelector[r]&&(u.querySelector(this.constValue.controlSelector[r]).focus(),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType):this.constValue.rowMoveablePropertyNameRex.test(this.id)?this.constValue.controlSelector[r]&&(u.querySelector(this.constValue.controlSelector[r]).focus(),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType):r&&!this.constValue.nativeViewControlType[r]?this.__isDestroyInstance?this.activeModuleEditLayer(u,n,t,{type:i.isFirstFocusableIndex?"last":"index",index:i.index,keyType:i.keyType}):this.instance.setFocus(this.instance.getReversedFocusableIndex()):this.constValue.controlSelector[r]&&(this.getControlIsReadOnly()===!0?o="pass":(f=this.instanceManager.create(this.controlState.controlType,this.controlState),e=this.getControlElement(),e&&e.length&&(f.set$El(e),f.setFocus(i.isFirstFocusableIndex?f.getReversedFocusableIndex():i.index)),this.config.common.activeRowId=this.rowId,this.config.common.activeColumnId=this.id,this.config.common.activeSectionType=this.sectionType)),o},setControlFont:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFont());this.setFont(n);t&&t.classList.add(this.getFont())},setControlFontColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontColor());this.setFontColor(n);t&&t.classList.add(this.getFontColor())},setControlFontSize:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontSize());this.setFontSize(n);t&&t.classList.add(this.getFontSize())},setControlFontBold:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontBold());this.setFontBold(n);t&&t.classList.add(this.getFontBold())},setControlFontUnderline:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontUnderline());this.setFontUnderline(n);t&&t.classList.add(this.getFontUnderline())},setControlFontItalic:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontItalic());this.setFontItalic(n);t&&t.classList.add(this.getFontItalic())},setControlFontStrike:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontStrike());this.setFontStrike(n);t&&t.classList.add(this.getFontStrike())},setControlVerticalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getValign());this.setValign(n);t&&t.classList.add(this.getValign())},setControlHorizontalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getAlign());this.setAlign(n);t&&t.classList.add(this.getAlign())},setControlIsBackgroundColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getIsShadow());this.setIsShadow(n);t&&t.classList.add(this.getIsShadow())},bindTooltip:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="tooltip"&&!n.created){var r=this.getToggleTargetElement(n),t=$(r),i=!1;if(t.hasClass("has-error")&&!_.isEmpty(t.attr("data-popoverindex")))return;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";n.delay=n.delay||{};n.delay.show=typeof n.delay.show=="number"?n.delay.show:ecount.common.LAYER_DISAPPEAR_DELAY_400;n.delay.hide=typeof n.delay.hide=="number"?n.delay.hide:ecount.common.LAYER_DISAPPEAR_DELAY_0;(n.directShow==undefined||n.directShow==null)&&(i=!0,n.directShow=!0);ecount.popover.create(t,n);n.created=!0;i&&(n.directShow=!1)}},bindPopover:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="popover"&&!n.created){var f=this.getToggleTargetElement(n),t=$(f),i,e=100,r=300,u=!1;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";(n.directShow==undefined||n.directShow==null)&&(u=!0,n.directShow=!0);ecount.popover.create(t,n);n.created=!0;u&&(n.directShow=!1);t.popover().one("show.bs.popover",function(){var n=$(this).data("bs.popover");i!==undefined?n.tip().css({width:i+"px",maxWidth:r+"px"}):n.tip().css({minWidth:e+"px",maxWidth:r+"px"})})}},openPopup:function(n,t){var i=this.getModuleEditLayer();if(i.activeSectionType==n.gridSectionType&&i.activeColumnId==n.gridColumnID&&i.activeRowId==n.gridDataKey)if(this.instance&&/^widget.code.*/.test(this.instance.controlType)){this.instance.onDblClickHandler(n,t,{__gridOpenPopupTriggerInfo:{rowItem:n.rowData,event:"dblclick"}});this.deactiveModuleEditLayer()}else this.instance&&n.ecFunction=="nationalFlag"?this.instance.openPopupNationalFlag():(i.hideViewLayer(),i.showEditLayer())},getModuleEditLayer:function(){return this.config.common.moduleEditLayer||(this.config.common.moduleEditLayer=new ecount.gridV3.modules.editLayer({ecPageId:this.config.common.ecPageId,scrollContainer:this.config.layout.scrollContainer,layer:this.config.layout.layer,headerElementSelector:".header",contentsElementSelector:".contents",parentElementSelector:"[data-gid='"+this.config.common.ecContainerId+"']",layerContainerAttrbiutes:{"data-tableid":this.dataTableId},isLayer:this.config.common.popupType=="layer"}),this.config.layout.layerRect||this.config.layout.setLayerRect(),this.config.layout.contentsRect||this.config.layout.setContentsRect()),this.config.common.moduleEditLayer.docRect=this.config.layout.layerRect,this.config.common.moduleEditLayer.contentsRect=this.config.layout.contentsRect,this.config.common.moduleEditLayer},isModuleEditLayerActive:function(){return this.getModuleEditLayer().isActive(this.sectionType,this.id,this.rowId)},getGridActiveInfo:function(){return this.isModuleEditLayerActive()},getGridValidateInfo:function(){return this.getCellValidationResult()===!1},getGridInputMode:function(){var n=this.getModuleEditLayer();return n?n.isViewMode()?"view":"input":"none"},openFoldLayer:function(n,t,i){var r={type:"folditem",from:"grid",ownerKey:this.config.common.ecIKey,ecPageID:n.ecPageID||this.config.common.ecPageID,ecContainerId:this.config.common.ecContainerId,serviceKey:ecount.common.makeServiceKey(n.ecPath,"fn"),items:i.displayValues||[],boundary:ec$.getZoomedBoundary(t.target,{left:0}),showingUpDelay:0,_onClicked:!0};_.merge(r.boundary,{x:t.clientX,y:t.clientY,width:1,height:1,top:t.clientY,bottom:t.clientY,left:t.clientX,right:t.clientX});ecount.layer.show(r);ecount.layer.setOnClicked(r.serviceKey,!0)},createModuleEditLayerGenerator:function(n,t,i){var f=this.getControlOptionControlType(),r=this.getControlGenerator(),s,u,e,h,o,c;if(r.define(f,this.id,this.id),s=this.gridGenerator.container().define("ecount.gridV3.container.view.cell",null,i||this.cellState),s.setInstanceManager(this.instanceManager),u={parentPageID:this.config.common.parentEcPageId,ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId,rowKey:this.rowId,gridDataKey:this.rowId,gridColumnID:this.id,gridSectionType:this.sectionType,responseID:this.config.common.widgetCallbackId,isGridV3:!0,getGridActiveInfo:this.getGridActiveInfo.bind(this),getGridValidateInfo:this.getGridValidateInfo.bind(this),getGridInputMode:this.getGridInputMode.bind(this)},/^widget.(code|multiCode).*/g.test(f)&&(u.popupLevel=1,u.popupID=this.config.common.popupId,u.preventOpenPopupByEnter=!1,u.alreadyIncludedLayout=!0,u.eventContainer=this.config.layout.$layer),this.config.common.popupId&&(u.popupId=this.config.common.popupId,u.popupLevel=this.config.common.popupLevel,u.popupType=this.config.common.popupType),r.setGridViewEmpty({titleEmpty:!1,contentsEmpty:!0}),f=="widget.input.number"&&(e=this.getControlOptionDecimalUnit(),this.getControlOptionNumberType()=="decimal"?$.isArray(e)&&e.length==2?r.numericOnly(e[0],e[1],null,!1,this.getControlOptionIsPositiveInteger()):r.numericOnly(null,null,null,!1,this.getControlOptionIsPositiveInteger()):this.getControlOptionNumberType()=="onlyNumber"?r.alignRight():r.numericOnly(null,null,null,!1,this.getControlOptionIsPositiveInteger()),r.setNumericOnlySeparator(this.getControlOptionThousandSeparator()||this.getThousandSeparator()||ecount.config.company.THOU_SEPARATOR,this.getControlOptionDecimalSeparator()||this.getDecimalSeparator()||ecount.config.company.DEC_SEPARATOR)),f=="widget.textarea"&&(r.rowSize(10),r.setObserveHandler(this.setObserveHandlerList.bind(this))),/^widget.code.*/.test(f))r.addCode({label:this.getValue(),value:this.getValue()}).singleCell().codeType(/^widget.multiCode.*/g.test(f)?9:3);else if(ecount.grid.constValue.customizerRex.test(f))h=this.getValue(),_.isNil(h)||h===""||r.fixedSelect(this.getValue());else switch(f){case"widget.date":o=this.getValue();c=r.end();c._isDateSpace?/\d*-\d{0,2}-\d{0,2}$/.test(o)&&r.select(o):/\d{4}-\d{2}-\d{2}/.test(o)&&r.select(o);break;case"widget.select":$.isEmpty(this.getValue())||r.select(this.getValue());break;default:r.value(this.getValue())}return this.executeCustomCallback(this.getValue(),s,r,n,t,this.constValue.controlViewMode.input,i),r.setOptions(u),this.config.events.widgetCommonEventDelegator&&r.delegator(this.config.events.widgetCommonEventDelegator),{cellGenerator:s,controlGenerator:r}},resetWidgetInstance:function(n){var t=this.getModuleEditLayer(),i=t.get$ControlElement();this.instance=this.instanceManager.create(n.controlType,n);this.instance.set$El(i)},createWidgetInstanceInEditLayer:function(n,t){var i=n.end();this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.destroyWidgetInstance,null,{id:this.instanceManager.__datas[i.controlType]&&this.instanceManager.__datas[i.controlType].id});this.instance=this.instanceManager.create(i.controlType,i);this.instance.render(t);this.instance.__will_destroy=!1;this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.createWidgetInstance,null,{id:this.instance.id,instance:this.instance})},destroyWidgetInstance:function(){this.instance&&(this.instance.onFocusOut&&this.instance.onFocusOut(),this.config.events.pageRelatedEvents&&this.config.events.pageRelatedEvents._triggerEvent(ecount.grid.event.list.destroyWidgetInstance,null,{id:this.instance.id}))},setInstanceFocus:function(n){var u,f,t,r,e,i;if(!this.__isDestroyInstance)if(u=this.getModuleEditLayer(),f=u.get$EditLayerElement(),/widget.(date|multiDate|select)/.test(this.instance.controlType)){t=0;switch(n.type){case"last":t=this.instance.getReversedFocusableIndex();break;case"index":t=n.index}this.instance.setFocus(t)}else if(this.constValue.customizerRex.test(this.instance.controlType))if(t=0,n.isLastComponent===!1&&n.componentIndex!==0)e=this.instance.get(n.index),e.setFocus(n.componentIndex||0);else{switch(n.type){case"first":break;case"last":r=this.instance.getVisibleIndex();t=r[r.length-1];break;default:t=n.index}this.instance.setFocus(t)}else i=f.find("input[type='text'], textarea"),i.length>0&&i[0].focus(),this.constValue.isIE?ecview.util.select(i,this.config.common.ecPageId,{useTimer:!1}):ecview.util.select(i,this.config.common.ecPageId)},activeModuleEditLayer:function(n,t,i,r){var s,h;r=_.merge({type:"index",index:0},r||{});var f=this.getCellElement(),u=this.getModuleEditLayer(),c=this.getCellValidationResult();ecount.common.isIOS&&document&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur();u.removeLayer();this.destroyWidgetInstance();u.active(this.sectionType,this.id,this.rowId);this.config&&this.config.layout&&this.config.layout.container&&this.config.layout.container.focus();this.__isDestroyInstance=!1;this.resetTrHeight();u.createLayer();var e=u.getLayerContainerElement(),o=u.get$EditLayerElement(),l=this.createModuleEditLayerGenerator(t,i,r),a=l.controlGenerator;this.createWidgetInstanceInEditLayer(a,o);(ecount.constValue.isIE||ecount.constValue.isFireFox)&&(s=f.clientWidth,h=f.clientHeight,e.style.width=s+"px",e.style.height=h+"px");f.appendChild(e);f.classList.contains(this.constValue.cellEditableActiveRex)||f.classList.add("grid-input-selected-cell");this.config.editable.useViewMode?this.constValue.nativeControlInWidgetHTMLConvertControl[this.instance.controlType]||this.constValue.customizerRex.test(this.instance.controlType)?(u.hideViewLayer(),u.showEditLayer()):this.instance.controlType.indexOf("widget.radio")>=0?(u.hideViewLayer(),u.showEditLayer()):(u.hideEditLayer(),u.showViewLayer()):(u.hideViewLayer(),u.showEditLayer());u.showLayer();this.instance.isCombinedControl()?this.instance.set$El($(o[0].children)):this.instance.set$El($(o[0].children[0]));this.setTrHeight();this.setInstanceFocus(r);c||this.instance.isCombinedControl()||(this.resetPopover(),this.instance.showError({message:this.getCellValidationPopoverMessage(),placement:this.getCellValidationPopoverPlacement(),directShow:!0,trigger:"focus hover"}));this.showFn();this.config.editable.useViewMode&&(this.constValue.nativeControlInWidgetHTMLConvertControl[this.instance.controlType]||this.constValue.customizerRex.test(this.instance.controlType)||this.replaceModuleChildInViewLayer());this.config.common.activeRowId=this.rowId;this.config.common.activeColumnId=this.id;this.config.common.activeSectionType=this.sectionType},resetTrHeight:function(n){n=n||{};var t=this.getCellElement(),i=t.parentElement;n.isChangeChild?this.setTrHeight():i.style.height=this.trElementPreviousHeight?this.trElementPreviousHeight+"px":""},setTrHeight:function(){var r,u,n,i,t,e,f,o;this.__isDestroyInstance||(r=this.getModuleEditLayer(),u=this.getCellElement(),/widget.(radio|date|multiDate)/.test(this.instance.controlType)?(i=u.parentElement,n=this.instance.ecview.$el.height(),n>33&&(t=2,n+t>r.get$LayerContainerElement().height()&&r.get$LayerContainerElement().css({height:n+t+"px"}),r.get$EditLayerElement().css({marginTop:n/-2+"px"}),i.style.height&&(this.trElementPreviousHeight=parseFloat(i.style.height)),i.style.height=n+t+"px")):/widget.textarea/.test(this.instance.controlType)?(i=u.parentElement,f=this.instance.getValue(),o=f?f.split("\n").length:0,n=ecount.gridV2.view.util.getTextareaHeight(Math.max(o,2)),t=5,r.get$LayerContainerElement().css({height:n+t+"px"}),r.get$EditLayerElement().css({marginTop:n/-2+"px"}),r.get$ViewLayerElement().css({marginTop:n/-2+"px",height:n+"px"}),i.style.height=n+t+"px",$(this.getCellElement()).find(".grid-input-data:not(.hide)").height(n-t+"px"),this.instance.setTextareaHeight(n)):ecount.grid.constValue.customizerRex.test(this.instance.controlType)?(i=u.parentElement,t=2,n=0,this.instance.$el.each(function(t,i){if(!i.classList.contains("hidden")){var r=($(i).outerHeight(!0)-$(i).innerHeight())/2;n+=$(i).innerHeight()+r}}),e=n,i.style.height="",n<i.offsetHeight-t&&(n=i.offsetHeight-t),n>26&&(r.get$LayerContainerElement().css({height:n+t+"px"}),r.get$EditLayerElement().css({marginTop:e/-2+"px"}),i.style.height=n+t+"px")):r.get$EditLayerElement().css({marginTop:""}))},setObserveHandlerList:function(n){switch(n.path){case"opt.rows":n.state==!1&&this.setTextareaClass(n)}},setTextareaClass:function(n){var t=n&&n.self;_.get(t,"controlType")=="widget.textarea"&&this.setTrHeight()},showFn:function(){var i=this.getCellElement(),r=this.getCellPairElement(),u,f,n,t;i&&r&&(n=i.getBoundingClientRect(),t=r.getBoundingClientRect(),u=i.parentElement.rowIndex<r.parentElement.rowIndex?t.top+t.height-(n.top+n.height):i.parentElement.rowIndex>r.parentElement.rowIndex?t.top+t.height-(n.top+n.height):Math.abs(n.top+n.height-(t.top+t.height))/-2,f=i.cellIndex<r.cellIndex?n.left+n.width-(t.left+t.width):n.left-t.left+(n.width-t.width),this.instance.setState("fn","style.inline","position:absolute; top:"+u+"px; right:"+f+"px;"))},deactiveModuleEditLayer:function(n,t){t=t||{isForceFocusout:!1};isForceFocusout=typeof t.isForceFocusout=="boolean"?t.isForceFocusout:!1;n=n||"keydown";var r=this.getCellElement(),u=r.parentElement,i=this.getModuleEditLayer();return i?(this.config.common.lazyDeactive===!1&&n=="deactiveInGrid"&&(u.style.height=this.trElementPreviousHeight?this.trElementPreviousHeight+"px":""),/widget.(date|multiDate)/.test(this.instance&&this.instance.controlType)&&this.redrawCssValidation({showDirect:!0}),/widget.textarea/.test(this.instance.controlType)&&this.setTrHeight(),ecount.common.isIOS?isForceFocusout&&document&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur():["keydown","mousedown"].contains(n)&&this.instance&&this.instance.onFocusOut&&this.instance.onFocusOut(!0),this.constValue.customizerRex.test(this.instance&&this.instance.controlType)&&this.refreshCell(this.rowData,this.rowIndex),i.hide(),i.deactive(),this.config.common.deactiveRowId=this.config.common.activeRowId,this.config.common.deactiveColumnId=this.config.common.activeColumnId,this.config.common.deactiveSectionType=this.config.common.activeSectionType,this.config.common.activeRowId=null,this.config.common.activeColumnId=null,this.config.common.activeSectionType=null,this.instance&&(this.instance.__will_destroy=!0),this.__isDestroyInstance=!0,!0):!1},replaceModuleChildInViewLayer:function(){var r,n,t,i;if(!this.__isDestroyInstance&&(r=this.getModuleEditLayer(),n=this.getControlElement(),r&&n&&n.length)){for(t=r.get$ViewLayerElement(),i=t[0];i.lastChild;)i.removeChild(i.lastChild);this.controlState.controlType=="widget.gridCell.treeWidget"?t.append(n.find("span:last").clone().addClass("grid-input-data")[0]):t.append(n[0].cloneNode(!0))}},refreshActiveModulePosition:function(){var t=this.getCellElement(),n=this.getModuleEditLayer();n&&n.isActive(this.sectionType,this.id,this.rowId)&&n.showByTargetElement(t)},setDestroyInstanceFlag:function(n){this.__isDestroyInstance=n},isControlNextFocus:function(){if(!this.__isDestroyInstance){var n=this.instance&&this.instance.getFocusableIndex();return!$.isEmpty(this.instance.getComponent(n))}return!1},isControlPrevFocus:function(){if(!this.__isDestroyInstance){var n=this.instance&&this.instance.getReversedFocusableIndex();return!$.isEmpty(this.instance.getComponent(n))}return!1},getCombineFocusableIndex:function(n){n=n||{};var t=this.instance,i,r,u;return!t&&this.controlState&&(t=this.instanceManager.create(this.controlState.controlType,this.controlState)),i=t.getVisibleIndex(),r=t.getIndex(n.id),u=n.isFirst?0:n.isLast?i.length-1:i.indexOf(r)+(n.isPrev?-1:1),i[u]},getCombineChildIndex:function(n){var t=this.instance;return!t&&this.controlState&&(t=this.instanceManager.create(this.controlState.controlType,this.controlState)),t.getIndex(n.id)},setControlInstanceValue:function(n,t){if(t=t||{isForceSetControlInstanceValue:!1,controlIndex:-1},(!this.__isDestroyInstance||t.isForceSetControlInstanceValue)&&this.instance)if(this.instance.isCombinedControl&&this.instance.isCombinedControl()){if(!_.isNumber(t.controlIndex)||t.controlIndex==-1)return;this.instance.get(t.controlIndex).setStandardValue(n)}else/^widget.code.*/.test(this.instance.controlType)?this.instance.addCode({label:n,value:n}):/^widget.checkbox.*/.test(this.instance.controlType)?$.isBoolean(n)?control.setValue(n):control.setStandardValue(n):this.instance.setStandardValue(n)},clearAddons:function(){var n=this.cellState&&this.cellState.toggle;n&&n.created&&ecount.popover.destroy($(this.getToggleTargetElement(n)))},getFoldLayerValue:function(n,t){var i=this.getConvertValue()||"",u="",f=this.getControlControlType(this.constValue.controlViewMode.input,n,t),r;switch(f){case"widget.link":i=ecount.resource.LBL02263;this.controlState&&this.controlState.data&&(r=_.first(this.controlState.data),r&&r.css&&r.css.contains("text-warning-inverse",!0)&&(u="text-warning-inverse"));break;case"widget.date":_.isEmpty(i)||(i=_.trim(ecount.infra.getECDateFormat("DATE10",!0,i.toDate())))}return $.isNull(i)&&(i=""),{key:this.id,value:i,label:this.config.foldColumn.data[this.id]&&this.config.foldColumn.data[this.id].title,checked:this.config.foldColumn.data[this.id]&&this.config.foldColumn.data[this.id].checked,css:u}},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(n,t,i,r){if(this.config.editable.use){var f=this.getControlOptionControlType(),u=this.getModuleEditLayer();f&&!this.constValue.nativeViewControlType[f]&&(u.activeSectionType==n.gridSectionType&&u.activeColumnId==n.gridColumnID&&u.activeRowId==n.gridDataKey?n.ecFunction=="nationalFlag"?this.openPopup(n,t,n.rowData):u.getMode()=="view"&&n.ecService!=ecount.layer.constValue.FN&&this.setInstanceFocus({}):f=="widget.gridCell.foldColumn"?this.openFoldLayer(n,t,r):this.activeModuleEditLayer(t.target,n.gridRowData,n.gridRowDataIndex))}},_ON_CLICK_CUSTOM:function(n){var r=this.getCellElement(),i=this.getControlControlType(this.constValue.controlViewMode.input,n.gridRowData,n.gridRowIndex),t;i&&(t=this.getCellElement().querySelector(this.constValue.controlSelector[i]),t&&ecount.gridV3.customEvent.fire("click",t,{}))},_ON_DBLCLICK:function(n,t){this.config.editable.use&&this.openPopup(n,t,n.rowData)},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(n){if(this.config.editable.use){var t=this.getModuleEditLayer();t.activeSectionType&&t.activeColumnId&&t.activeRowId&&(t.deactive(),n.mousedownOnControl&&n.targetContainer=="footer"&&(this.config.common.lazyDeactive=!0),ecount.global.setTimeout(this.config.common.ecPageId,function(){this.deactiveModuleEditLayer("deactiveInGrid");n.gridColumnsScope&&n.gridColumnsScope.redrawCssValidationAllColumn&&n.gridColumnsScope.redrawCssValidationAllColumn(n.gridRowIndex)}.bind(this),50))}},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){if(this.config.editable.use){var n=this.getModuleEditLayer();n.activeSectionType&&n.activeColumnId&&n.activeRowId&&(n.hideViewLayer(),n.showEditLayer())}},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){if(this.config.editable.use){var n=this.getModuleEditLayer();n.activeSectionType&&n.activeColumnId&&n.activeRowId&&(n.hideViewLayer(),n.showEditLayer())}},_ON_GRID_KEYDOWN_DELETE:function(){if(this.config.editable.use){var n=this.getModuleEditLayer();n.activeSectionType&&n.activeColumnId&&n.activeRowId&&(n.hideViewLayer(),n.showEditLayer())}},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){if(this.config.editable.use){var n=this.getModuleEditLayer();n.activeSectionType&&n.activeColumnId&&n.activeRowId&&(n.hideViewLayer(),n.showEditLayer())}},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(n){if(this.config.editable.use){var t=this.getModuleEditLayer();t.activeSectionType==n.gridSectionType&&t.activeColumnId==n.gridColumnID&&t.activeRowId==n.gridDataKey||this.deactiveModuleEditLayer("mousedown")}},_ON_MOUSEOUT:function(){this.controlState&&(this.constValue.nativeControlInWidgetHTMLConvertControl[this.controlState.controlType]||this.constValue.customizerRex.test(this.controlState.controlType))},_ON_MOUSEOVER:function(n,t){var i,u,r;if(!ecount.global.getDestroyedState(this.config.common.ecPageId)){if(i=this.cellState&&this.cellState.toggle,i&&i.created&&["refresh","destroy"].indexOf(i.state)>-1&&(ecount.popover.destroy($(this.getToggleTargetElement(i)),i.type),delete i.created,delete i.state),i&&!i.created&&(!i.addon||i.addon===t.target.getAttribute("data-addon")))switch(i.type){case"popover":this.bindPopover();break;case"tooltip":this.bindTooltip()}this.controlState&&(this.constValue.nativeControlInWidgetHTMLConvertControl[this.controlState.controlType]||this.constValue.customizerRex.test(this.controlState.controlType)||this.getControlIsReadOnly()||(u=this.instanceManager.create(this.controlState.controlType,this.controlState,{createActionInstance:this.constValue.nativeFocusControl[this.controlState.controlType]}),r=this.getControlElement(),r&&r.length&&u&&u.set$El(r)))}},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(n){var i=[],t;this.config.events.contextmenu&&typeof this.config.events.contextmenu=="function"?i=this.config.events.contextmenu(this.rowId)||[]:this.config.events.contextmenu&&this.config.events.contextmenu.length>0&&(i=this.config.events.contextmenu||[]);i.length>0&&(t={type:"dropdown",items:i,tabID:this.config.common.ecTabId,gridID:this.config.common.ecGridId,tableId:this.dataTableId,rowId:this.rowId,columnId:this.id,sectionType:this.sectionType,ownerKey:this.config.common.ecIKey,isGridV3:!0,ecPageID:this.config.common.ecPageId,serviceKey:ecount.common.makeServiceKey(n.ecPath,"fn"),containerName:this.config.common.ecContentsName,boundary:ec$.getZoomedBoundary(this.cellElement),showingUpDelay:0,_onClicked:!0},t.boundary.left=n.clientX,t.boundary.bottom=n.clientY,ecount.layer.show(t),ecount.layer.setOnClicked(t.serviceKey,!0),n.suspend=!0)},_ON_SCROLL:function(){}});ecount.class("ecount.gridV3.sectionTfootCell",null,{init:function(n,t,i){_.extend(this,n);_.extend(this,t);this.config=i;this.cellElement=null;this.constValue=ecount.grid.constValue;this.rowVariableNames=this.constValue.rowVariableNames;this.viewTableKeys={className:"add.className"}},destroyAll:function(){var n=this.getState("toggle");n&&n.created&&ecount.popover.destroy($(this.getToggleTargetElement(n)),n.type);this.state=null;this.controlState=null;this.rowData=null;this.cellElement=null},setGridGenerator:function(n){return this.gridGenerator=n,this},setControlGenerator:function(n){return this.controlGenerator=n,this},setInstanceManager:function(n){return this.instanceManager=n,this},isEmptyValue:function(n){var t=!0;return n.some(function(n){return typeof n.label=="string"||_.isUndefined(n.label)||_.isNull(n.label)||(n.label=String(n.label)),n.label&&n.label.toString().replace("&nbsp;","")!=""?(t=!1,!0):void 0}),t},getCallbackCommand:function(n,t){var r=this.constValue.eventPrefix,i=r;return t&&(i+=t.substring(0,1).toUpperCase()+t.substring(1)),n&&(i+=n.substring(0,1).toUpperCase()+n.substring(1)),i},setRowData:function(n){this.rowData=n},getCreatedData:function(n,t,i,r,u,f){this.groupRowIndex=u;this.columnRowCount=f;var s=this.getCellGenerator(n,t,u,f),e=s.end(),o=this.instanceManager.create(e.controlType,e);return o.setInstanceManager(this.instanceManager),this.cellState=e,this.controlState=o.state[0].controls[0].end(),o.renderHTML()},getCellGenerator:function(n,t,i,r){var e,u,f;this.rowId=n[this.constValue.keyColumnPropertyName];this.rowData=n;e=this.getAttrs({"data-key":ecount.gridV3.utils.escapeHTML(this.rowId),"data-columnid":this.id,"data-rowtype":"line","data-columnsectiontype":"tfoot"});this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]?(u=this.rowData[this.getPropertyName()],typeof u=="boolean"&&(u=[{checked:u,label:""}])):u=this.getValue();u=u==undefined||u==null?"":u;var o=this.getState("dataType1"),s=this.getState("dataType2"),h=this.getDateFormat();return u!=""&&o=="DATETIME"&&(h=="Date20"||["YEARMONTH","YEARMONTH_NO"].contains(s))&&(u=ecount.gridV3.utils.setViewValueDate20(u)),f=this.getConverter(),f&&(u=f(u,{isTodayTime:this.getIsTodayTime(),dataType:this.getDataType(),amtCalc:this.getAmtCalc(),isCheckZero:this.getIsCheckZero(),thousandSeparator:this.getThousandSeparator(),decimalSeparator:this.getDecimalSeparator(),customizeDate:this.getCustomizeDate(),dateFormat:this.getDateFormat()})),this.rowData=n,this.createCellGenerator({tag:"td",attrs:e,styles:this.getStyles(),className:this.getClassName(),text:u},n,t,i,r)},createCellGenerator:function(n,t,i){var f,e,s,r,o;if(this.gridGenerator){var a=t[this.rowVariableNames.mergeSet],u=a&&a.find(function(n){return n[this.rowVariableNames.mergeStartIndex]==this.columnIndex}.bind(this)),h,c,l="";u&&(h=u[this.rowVariableNames.colspanCount]||1,c=u[this.rowVariableNames.rowspanCount]||1,l=u[this.rowVariableNames.rowTitle]||"",h>1&&(n.attrs.colspan=h),c>1&&(n.attrs.rowspan=c));this.config.table.borderRemoveHorizontal&&(n.className.contains("border-t")||n.className.push("border-t"),n.className.contains("border-b")||n.className.push("border-b"));this.config.table.borderRemoveVertical&&(n.className.contains("border-l")||n.className.push("border-l"),n.className.contains("border-r")||n.className.push("border-r"));f=this.gridGenerator.container().define("ecount.gridV3.container.view.cell",null,n);f.setInstanceManager(this.instanceManager);e=this.createWidgetGenerator(f,{attrs:{},styles:{},className:[],text:n.text},t,i);function v(){s=e.end()}v();e&&(s.id||e.setId([this.sectionType,this.id,this.rowId].join(ecount.constValue.gridDelimiter)),["widget.label","widget.gridCell.label"].contains(s.controlType)||e.delegator(this.config.events.widgetCommonEventDelegator),f.addControl(e));l!=""&&(e.define("widget.gridCell.label").label(l),v());e.setOptions({ecPageID:this.config.common.ecPageId,containerName:this.config.common.ecContentsName,tabId:this.config.common.ecTabId,gridID:this.config.common.ecContainerId,gridDataKey:this.rowId,gridColumnID:this.id,gridSectionType:this.sectionType,popupId:this.config.common.popupId,popupLevel:this.config.common.popupLevel,popupType:this.config.common.popupType,isGridV3:!0});u&&t[this.rowVariableNames.rowType]&&(this.constValue.subtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.topsubtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.bottomsubtotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.pagetotalRex.test(t[this.rowVariableNames.rowType].toLowerCase())||this.constValue.totalRex.test(t[this.rowVariableNames.rowType].toLowerCase()))&&(r=n.className.join(" "),o=u[this.rowVariableNames.isCenterAlign]&&u[this.rowVariableNames.isCenterAlign].toString(),o&&(r=r.replace(this.constValue.alignRex,""),o=="true"?r+=" text-center ":o=="left"?r+=" text-left ":o=="right"?r+=" text-right ":alignInfo=="center"&&(r+=" text-center ")),$.isEmpty(u[this.rowVariableNames.vAlignType])||(r=r.replace(this.constValue.valignRex,"")+("valign-"+u[this.rowVariableNames.vAlignType])),r=!$.isEmpty(u[this.rowVariableNames.isBold])&&ecount.common.isTrue(u[this.rowVariableNames.isBold])?r.replace(this.constValue.boldRex,"")+" text-bold ":r.replace(this.constValue.boldRex,""),r=!$.isEmpty(u[this.rowVariableNames.isFontItalic])&&ecount.common.isTrue(u[this.rowVariableNames.isFontItalic])?r.replace(this.constValue.italicRex,"")+" text-italic ":r.replace(this.constValue.italicRex,""),!$.isEmpty(u[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(u[this.rowVariableNames.isFontStrike])&&!$.isEmpty(u[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(u[this.rowVariableNames.isFontUnderline])?r=r.replace(this.constValue.strikeUnderlineRex,"")+" grid-text-uline-through ":(r=r.replace(this.constValue.strikeUnderlineRex,""),r=!$.isEmpty(u[this.rowVariableNames.isFontStrike])&&ecount.common.isTrue(u[this.rowVariableNames.isFontStrike])?r.replace(this.constValue.strikeRex,"")+" text-line-through ":r.replace(this.constValue.strikeRex,""),r=!$.isEmpty(u[this.rowVariableNames.isFontUnderline])&&ecount.common.isTrue(u[this.rowVariableNames.isFontUnderline])?r.replace(this.constValue.underlineRex,"")+" text-uline ":r.replace(this.constValue.underlineRex,"")),r=!$.isEmpty(u[this.rowVariableNames.fontSize])&&u[this.rowVariableNames.fontSize]>0?r.replace(this.constValue.fontSizeRex,"")+(" font-"+u[this.rowVariableNames.fontSize]+"px "):r.replace(this.constValue.fontSizeRex,""),r=$.isEmpty(u[this.rowVariableNames.font])?r.replace(this.constValue.fontRex,""):r.replace(this.constValue.fontRex,"")+(" font-"+ecount.convertor.convertFontClassName(u[this.rowVariableNames.font])),$.isEmpty(u[this.rowVariableNames.fontColor])||_.trim(u[this.rowVariableNames.fontColor])==="000000"||f.style({color:ecount.gridV3.utils.getColor(u[this.rowVariableNames.fontColor])+";"}),$.isEmpty(u[this.rowVariableNames.cellBgColor])||f.style({"background-color":ecount.gridV3.utils.getColor(u[this.rowVariableNames.cellBgColor])+";"}),$.isEmpty(u[this.rowVariableNames.lineBreak])||u[this.rowVariableNames.lineBreak]!="TRU"||f.css(["text-nowrap","overflow-hidden"]),u&&($.isEmpty(u[this.rowVariableNames.fontBgColor])?e.bgColor(""):e.bgColor(ecount.gridV3.utils.getColor(u[this.rowVariableNames.fontBgColor]))),f.removeAllCss(),f.css(r.trim().split(" ")));this.isEmptyValue(s.data)&&f.removeCss(["grid-text-uline-through","text-line-through","text-uline"])}return f},makeWidgetGenerator:function(n){return this.controlGenerator.reset&&this.controlGenerator.reset(),this.controlGenerator.define(this.getControlType()||"widget.gridCell.label").label(n)},createWidgetGenerator:function(n,t,i,r){var u=this.makeWidgetGenerator(t.text);return this.id==this.constValue.checkBoxPropertyName&&u.value(["Y"]),widget.generator.gridCommon.options(u,this,i,t.text),this.customCellCallback&&this.customCellCallback(t.text,n,u,this,i,r),u},getClassName:function(){var n=[];return this.getFont()&&n.push(this.getFont()),this.getFontSize()&&n.push(this.getFontSize()),this.getAlign()&&n.push(this.getAlign()),this.getValign()&&n.push(this.getValign()),ecount.common.isTrue(this.getFontBold())&&n.push("text-bold"),ecount.common.isTrue(this.getFontItalic())&&n.push("text-italic"),ecount.common.isTrue(this.getFontStrike())&&ecount.common.isTrue(this.getFontUnderline())?n.push("grid-text-uline-through"):ecount.common.isTrue(this.getFontStrike())?n.push("text-line-through"):ecount.common.isTrue(this.getFontUnderline())&&n.push("text-uline"),this.getState("fontCellBgColor")||this.config.common.columnType===this.constValue.columnType.multi&&ecount.common.isFalse(this.getIsShadow())&&n.push("bg-white"),this.getState("fontEcsTxtProcCd")=="TRU"?(n.contains("text-nowrap")||n.push("text-nowrap"),n.contains("overflow-hidden")||n.push("overflow-hidden")):(n.contains("text-nowrap")&&n.splice(n.indexOf("text-nowrap"),1),n.contains("overflow-hidden")&&n.splice(n.indexOf("overflow-hidden"),1)),ecount.common.isTrue(this.getIsHideColumn())&&n.push("hide"),!ecount.common.isTrue(this.getIsHideColumn())&&ecount.common.isFalse(this.getEditableState())&&n.push("disabled"),this.config.tfootSearch.use&&(this.id.test(this.constValue.checkBoxPropertyNameRex)||this.id.test(this.constValue.rowMoveablePropertyNameRex)||this.id.test(this.constValue.foldColumnPropertyNameRex)||this.id.test(this.constValue.rowNumberingPropertyNameRex)||n.push(this.constValue.searchTextClassname)),n},getStyles:function(){var n={},t=null,y=!1,p=!1,w=!1,b=!1,i=null,r=null,u=null,f=null,e=null,o=null,s=null,h=null,c=null,l=null,a=null,v=null;return t=ecount.gridV3.utils.getColor(this.getState("fontCellBgColor")),y=this.getState("TOP_BORD_USE_TF"),p=this.getState("BTTM_BORD_USE_TF"),w=this.getState("LEFT_BORD_USE_TF"),b=this.getState("RGT_BORD_USE_TF"),i=ecount.gridV3.utils.getColor(this.getState("TOP_BORD_COLOR_CD")),r=this.getState("TOP_BORD_THICK"),u=this.getState("TOP_BORD_STYL_CD"),f=ecount.gridV3.utils.getColor(this.getState("LEFT_BORD_COLOR_CD")),e=this.getState("LEFT_BORD_THICK"),o=this.getState("LEFT_BORD_STYL_CD"),s=ecount.gridV3.utils.getColor(this.getState("BTTM_BORD_COLOR_CD")),h=this.getState("BTTM_BORD_THICK"),c=this.getState("BTTM_BORD_STYL_CD"),l=ecount.gridV3.utils.getColor(this.getState("RGT_BORD_COLOR_CD")),a=this.getState("RGT_BORD_THICK"),v=this.getState("RGT_BORD_STYL_CD"),this.getFontColor()&&(n.color=ecount.gridV3.utils.getColor(this.getFontColor())),t&&(n["background-color"]=t),y||p||w||b?(i&&(n["border-top-color"]=i),u&&(n["border-top-width"]=r+"px"),r&&(n["border-top-style"]=u+" !important"),f&&(n["border-left-color"]=f),e&&(n["border-left-width"]=e+"px"),o&&(n["border-left-style"]=o+" !important"),s&&(n["border-bottom-color"]=s),h&&(n["border-bottom-width"]=h+"px"),c&&(n["border-bottom-style"]=c+" !important"),l&&(n["border-right-color"]=l),a&&(n["border-right-width"]=a+"px"),v&&(n["border-right-style"]=v+" !important")):this.config.table.borderColor&&(n["border-color"]=ecount.gridV3.utils.getColor(this.config.table.borderColor)),n},getAttrs:function(n){var i,t;n=n||{};i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},setCacheTable:function(n){this.tableElement=n},getStateName:function(n){var i=n.split("."),t="";return i.forEach(function(n){t+=n.substring(0,1).toUpperCase()+n.substring(1)}),t},getStateObject:function(n){for(var t=this.state,r=n.split("."),i=0,u=r.length-1;i<u;i++)t=t[r[i]];return t},getCellElement:function(){var t,n,u,i,r,f;if(this.cellElement)return this.cellElement;if(t=this.tableElement,n=null,t&&(u=t.querySelector("tfoot")||t.querySelector("tbody"),i=u.querySelectorAll("tr[data-key='"+ecount.gridV3.utils.replaceForQuerySelectorId(this.rowId)+"']"),i))for(r=0,f=i.length;r<f;r++)if(n=i[r].querySelector("[data-columnid='"+this.id+"']"),n)break;return this.cellElement=n,n},getControlElement:function(){for(var t=this.getCellElement(),i=null,n=0,r=t.children.length;n<r;n++)if(!t.children[n].classList.contains("validation")){i=t.children[n];break}return i},getToggleTargetElement:function(n){return n.addon?this.getCellElement().querySelector('[data-addon="'+n.addon+'"]'):this.getCellElement()},setState:function(n,t,i){var r,f,u,e,o;if(i=/\d+/.test(i)?i:0,r=n.split("."),this.getState(n)!=t){if(f=this.getStateObject(n),!f)return;if(f[r[r.length-1]]=typeof f[r[r.length-1]]=="object"?t:t,u=this.instanceManager.create("ecount.gridV3.container.view.cell",this.state),!u)return;if(e=this.viewTableKeys[n],!e)return;o=this.getCellElement();u.setElement&&u.setElement(o);u.update(this.viewTableKeys[n],this.getState(n))}},getState:function(n){var u=this.getStateObject(n),i=n.split("."),t,r;return u?(t=u[i[i.length-1]],r=typeof t,i[i.length-1]=="propertyName"?t:r=="object"?t:(r=="function"||/^-?\d+$/.test(t),t)):null},isNotEqualObjectValue:function(n,t){var i=!1;for(var r in n)i||Object.hasOwnProperty(r)&&n[r]!=t[r]&&(i=!0);return i},getPropertyName:function(){return this.getState("propertyName")},getValue:function(){var n=this.rowData[this.getPropertyName()];return this.constValue.nativeControlInWidgetCheckbox[this.getControlType()]?typeof n=="object"&&n.constructor==Array?n[0].checked:ecount.common.isTrue(n):(this.id==this.constValue.rowCountColumnPropertyName?n=this[this.constValue.rowCountColumnPropertyName]:this.id==this.constValue.rowIndexPropertyName?n=this[this.constValue.rowIndexPropertyName]:this.id==this.constValue.rowStatePropertyName&&(n=this[this.constValue.rowStatePropertyName]),$.isEmpty(n)?"":n)},setValue:function(n,t,i,r){var u,s;r=r||{isRunChange:!0};u=typeof r.isRunChange=="boolean"?r.isRunChange:!0;n!=undefined&&n!=null&&n.constructor&&n instanceof Decimal&&(n=n.toString());var f=!1,e=this.rowData[this.getPropertyName()],o=this.getState("converter");return typeof n!="object"&&o&&(n=o(n,{dataType:this.getControlOptionDataType(),isCheckZero:ecount.common.isTrue(this.getState("controlOption.isCheckZero")),amtCalc:this.getState("controlOption.amtCalc")}).replace(this.constValue.thousandsPattern,"")),f=e!=n,f&&(this.rowData[this.getPropertyName()]=n,/^widget.gridCell.*/.test(this.controlState.controlType)?u&&this.config.events.widgetCommonEventDelegator&&this.config.events.widgetCommonEventDelegator._triggerEvent(ECountEvent.Type.CONTROL_CHANGE,{command:this.getCallbackCommand("Change",this.sectionType),gridId:this.config.common.ecContainerId,controlType:this.getColtrolOptionControlType(),sectionType:this.sectionType,rowItem:i,rowData:i,rowKey:i[this.constValue.keyColumnPropertyName],rowIndex:t,columnInfo:this,columnId:this.id,columnProperty:this.getPropertyName(),oldValue:e,newValue:n,childElementId:null}):(s=this.instanceManager.create(this.controlState.controlType,this.controlState),s.preventTriggerEvent=u)),f},getLinechange:function(){return this.getState("linechange")},getControlType:function(){return this.getState("controlType")},getConverter:function(n){if(n){var t=n.substring(0,1);return["1","2","5"].contains(t)?ecount.convertor.dataTypeConvertor[t]:["8","9"].contains(t)?ecount.convertor.dataTypeConvertor[t]:/^(date)\d{2}$/gi.test(n)?ecount.convertor.dataTypeConvertor.date:function(n){return n}}return this.getState("converter")},getIsTodayTime:function(){return this.getState("isTodayTime")},setDataType:function(n){this.setState("dataType",n)},getDataType:function(){var n=this.getState("dataType");return/\d+/.test(n)?n.toString():n},setAmtCalc:function(n){this.setState("amtCalc",n)},getAmtCalc:function(){return this.getState("amtCalc")},getThousandSeparator:function(){return this.getState("thousandSeparator")},setThousandSeparator:function(n){this.setState("thousandSeparator",n)},getDecimalSeparator:function(){return this.getState("decimalSeparator")},setDecimalSeparator:function(n){this.setState("decimalSeparator",n)},getCustomizeDate:function(){return this.getState("customizeDate")},setDateFormat:function(n){this.setState("dateFormat",n)},getDateFormat:function(){return this.getState("dateFormat")},setFontColor:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontColor",n):this.setState("fontColor",n)},getFontColor:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontColor"):this.getState("fontColor")},setFont:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.font",n):this.setState("font",n)},getFont:function(){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.font"):this.getState("font"),n)?"font-"+ecount.convertor.convertFontClassName(n):""},setFontSize:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontSize",n):this.setState("fontSize",n)},getFontSize:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontSize"):this.getState("fontSize"),n)?"font-"+n+"px":""},setFontBold:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontBold",n):this.setState("fontBold",n)},getFontBold:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontBold"):this.getState("fontBold")},setFontUnderline:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontUnderline",n):this.setState("fontUnderline",n)},getFontUnderline:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontUnderline"):this.getState("fontUnderline")},setFontItalic:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontItalic",n):this.setState("fontItalic",n)},getFontItalic:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontItalic"):this.getState("fontItalic")},setFontStrike:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.fontStrike",n):this.setState("fontStrike",n)},getFontStrike:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.fontStrike"):this.getState("fontStrike")},setValign:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.valign",n):this.setState("valign",n)},getValign:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.valign"):this.getState("valign"),n)?"valign-"+n.toLowerCase():""},setAlign:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.align",n):this.setState("align",n)},getAlign:function(n){var n;return(n=this.config.common.columnType==this.constValue.columnType.single?this.getState("align")?this.getState("align"):this.getState("footerOption.align"):this.getState("align"),n)?"text-"+n.toLowerCase():""},setIsShadow:function(n){this.config.common.columnType==this.constValue.columnType.single?this.setState("footerOption.isShadow",n):this.setState("isShadow",n)},getIsShadow:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.isShadow"):this.getState("isShadow")},setDataType1:function(n){this.setState("dataType1",n)},getDataType1:function(){return this.getState("dataType1")},setDataType2:function(n){this.setState("dataType2",n)},getDataType2:function(){return this.getState("dataType2")},setIsDisplayZero:function(n){this.setState("isDisplayZero",n)},getIsDisplayZero:function(){return this.setState("isDisplayZero")},setDecCount:function(n){this.setState("decCount",n)},getDecCount:function(){return this.getState("decCount")},setIsCheckZero:function(n){this.setState("isCheckZero",n)},getIsCheckZero:function(){return this.getState("isCheckZero")},setIsShowIfZero:function(n){this.setState("isShowIfZero",n)},getIsShowIfZero:function(){return this.getState("isShowIfZero")},getRowDataId:function(){return this.rowId},getRowDataCount:function(){return this[this.constValue.rowCountColumnPropertyName]},getRowDataIndex:function(){return this[this.constValue.rowIndexPropertyName]},getRowDataState:function(){return this[this.constValue.rowStatePropertyName]},getColtrolOptionControlType:function(){return this.getState("controlOption.controlType")},setControlOptionDataType:function(n){this.setState("controlOption.dataType",n)},getControlOptionDataType:function(){var n=this.getState("controlOption.dataType");return n==null||n==undefined?"":n.toString()},getControlOptionIsCheckZero:function(){return ecount.common.isTrue(this.getState("controlOption.isCheckZero"))},setControlOptionNumberType:function(n){this.setState("controlOption.numberType",n)},getControlOptionNumberType:function(){return this.getState("controlOption.numberType")},setControlOptionDecimalUnit:function(n){this.setState("controlOption.decimalUnit",n)},getControlOptionDecimalUnit:function(){var n=this.getState("controlOption.decimalUnit");return $.isEmpty(n)?null:n},getColtrolOptionControlType:function(){return this.getState("controlOption.controlType")},setControlShaded:function(n,t){t=/\d+/.test(t)?t:0;var u=this.state.controls[t],f=u.end(),i=this.instanceManager.create(this.controlState.controlType,this.controlState),r=this.getControlElement();r&&(i.set$El($(r)),i.addClass(this.config.shaded.className))},setControlFont:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFont());this.setFont(n);t&&t.classList.add(this.getFont())},setControlFontColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontColor());this.setFontColor(n);t&&t.classList.add(this.getFontColor())},setControlFontSize:function(n){var r=this.getCellElement(),t,i;r&&r.classList.remove(this.getFontSize());this.setFontSize(n);t=this.instanceManager.create(this.controlState.controlType,this.controlState);i=this.getControlElement();i&&(t.set$El($(i)),t.setValue(["Y"],checked))},setControlFontBold:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontBold());this.setFontBold(n);t&&t.classList.add(this.getFontBold())},setControlFontUnderline:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontUnderline());this.setFontUnderline(n);t&&t.classList.add(this.getFontUnderline())},setControlFontItalic:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontItalic());this.setFontItalic(n);t&&t.classList.add(this.getFontItalic())},setControlFontStrike:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getFontStrike());this.setFontStrike(n);t&&t.classList.add(this.getFontStrike())},setControlVerticalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getValign());this.setValign(n);t&&t.classList.add(this.getValign())},setControlHorizontalAlign:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getAlign());this.setAlign(n);t&&t.classList.add(this.getAlign())},setControlIsBackgroundColor:function(n){var t=this.getCellElement();t&&t.classList.remove(this.getIsShadow());this.setIsShadow(n);t&&t.classList.add(this.getIsShadow())},getChecked:function(n){return this.getState("value",n)},setIsHideColumn:function(n){this.setState("isHideColumn",n)},getIsHideColumn:function(){return this.getState("isHideColumn")},getEditableState:function(){return this.config.common.columnType==this.constValue.columnType.single?this.getState("footerOption.editableState"):this.getState("editableState")},setEditableState:function(n){return this.setState("editableState",n)},getCursorIndex:function(){return this.getState("cursorIndex")},setControlChecked:function(){},bindTooltip:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="tooltip"&&!n.created){var i=this.getToggleTargetElement(n),r=$(i),t=!1;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";n.delay=n.delay||{};n.delay.show=typeof n.delay.show=="number"?n.delay.show:ecount.common.mouseHoverInTime;n.delay.hide=typeof n.delay.hide=="number"?n.delay.hide:ecount.common.mouseHoverOutTime;(n.directShow==undefined||n.directShow==null)&&(t=!0,n.directShow=!0);ecount.popover.create(r,n);n.created=!0;t&&(n.directShow=!1)}},bindPopover:function(){var n=this.cellState&&this.cellState.toggle;if(n&&n.type=="popover"&&!n.created){var f=this.getToggleTargetElement(n),t=$(f),i,e=100,r=300,u=!1;n.container=this.config.events.bootstrapContainer?this.config.events.$bootstrapContainer:"body";(n.directShow==undefined||n.directShow==null)&&(u=!0,n.directShow=!0);ecount.popover.create(t,n);n.created=!0;u&&(n.directShow=!1);t.popover().one("show.bs.popover",function(){var n=$(this).data("bs.popover");i!==undefined?n.tip().css({width:i+"px",maxWidth:r+"px"}):n.tip().css({minWidth:e+"px",maxWidth:r+"px"})})}},getColspanCount:function(){var n=this.getCellElement();return n&&n.colspan||1},addCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.addClass(n)))},removeCellClass:function(n){var t=this.instanceManager.create("ecount.gridV3.container.view.cell",this.cellState),i;t&&(i=this.getCellElement(),t&&(t.set$El(i),t.removeClass(n)))},getCell:function(){return this.getValue()},refreshCell:function(n,t){var o=this.getCellGenerator(n,t,this.groupRowIndex,this.columnRowCount),r=o.end(),u=this.instanceManager.create(r.controlType,r),f,i,e;u.setInstanceManager(this.instanceManager);this.cellState=r;f=u.state[0].controls[0].end();i=this.getCellElement();i.children.length>0&&i.removeChild(i.children[0]);e=u.getControlHTML();i.appendChild($(e)[0]);this.controlState=f;i.style=ecount.gridV3.utils.convertStyles(r.styles,!0);r.className&&r.className.forEach(function(n){i.classList.contains(n)||i.classList.add(n)})},setCellEditable:function(n){if(this.setEditableState(n),n===!0){if(this.removeCellClass(["disabled"]),this.cellState&&this.cellState.className&&this.cellState.className.contains("disabled"))for(var t=this.cellState.className.length;t>-1;t--)this.cellState.className[t]=="disabled"&&this.cellState.className.splice(t,1)}else n===!1&&(this.addCellClass(["disabled"]),this.cellState&&this.cellState.className&&!this.cellState.className.contains("disabled")&&this.cellState.className.add("disabled"))},getCellEditable:function(){return!this.cellState||!this.cellState.className||this.cellState.className.contains("disabled")?!1:!0},getControlControlType:function(){return this.constValue.nativeControlInWidgetV3[this.getControlType()]?this.getControlType():this.controlState?!["widget.gridCell.label","widget.gridCell.link"].contains(this.controlState.controlType)&&/^widget.gridCell.*/.test(this.controlState.controlType)?this.controlState.controlType.replace(".gridCell",""):this.controlState.controlType||"widget.label":"widet.label"},setControlValue:function(n){var i=this.getControlElement(),t=this.instanceManager.create(this.controlState.controlType,this.controlState);return i&&(t.set$El($(i)),this.controlState.controlType=="widget.gridCell.label"?t.setLabel(n):t.setValue(n)),!0},getControlValue:function(){return this.getValue()},deactiveModuleEditLayer:function(){var n=this.getModuleEditLayer(),t;return n?(this.instance&&(t=this.instance.getValue(),this.setValue(t)&&(this.config.matrixState&&this.config.matrixState.use&&(this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.row,n.activeRowId,n.activeColumnId,{state:ecount.grid.constValue.columnState.changed}),this.config.matrixState.setCell(ecount.grid.constValue.matrixState.standardLine.column,n.activeColumnId,n.activeRowId,{state:ecount.grid.constValue.columnState.changed})),this.getState(this.constValue.rowStatePropertyName)==this.constValue.rowState.deletedNew?this.setState(this.constValue.rowStatePropertyName,this.constValue.rowState.create):[this.constValue.rowState.none,this.constValue.rowState.changed,this.constValue.rowState.deleted].contains(this.getState(this.constValue.rowStatePropertyName))&&this.setState(this.constValue.rowStatePropertyName,this.constValue.rowState.changed),this.setControlValue(t))),n.hide(),n.deactive(),this.destroyWidgetInstance(),n.detachLayerContainer(),n.detachEditLayerChildElement(),!0):!1},clearAddons:function(){var n=this.cellState&&this.cellState.toggle;n&&n.created&&ecount.popover.destroy($(this.getCellElement()))},_ON_CHANGE:function(){},_ON_CLICK_SERVICE:function(){},_ON_CLICK:function(){},_ON_DBLCLICK:function(){},_ON_FOCUSIN:function(){},_ON_FOCUSOUT:function(){},_ON_GRID_ACTIVATE:function(){},_ON_GRID_DEACTIVATE:function(){},_ON_GRID_FOCUS_IN:function(){},_ON_GRID_FOCUS_OUT:function(){},_ON_GRID_KEYDOWN_ARROW_DOWN:function(){},_ON_GRID_KEYDOWN_ARROW_LEFT:function(){},_ON_GRID_KEYDOWN_ARROW_OTHERS:function(){},_ON_GRID_KEYDOWN_ARROW_RIGHT:function(){},_ON_GRID_KEYDOWN_ARROW_UP:function(){},_ON_GRID_KEYDOWN_BACKSPACE:function(){},_ON_GRID_KEYDOWN_ENTER:function(){},_ON_GRID_KEYDOWN_ESC:function(){},_ON_GRID_KEYDOWN_SPACE:function(){},_ON_GRID_KEYUP_ARROW_DOWN:function(){},_ON_GRID_KEYUP_ARROW_LEFT:function(){},_ON_GRID_KEYUP_ARROW_RIGHT:function(){},_ON_GRID_KEYUP_ARROW_UP:function(){},_ON_GRID_KEYUP_SPACE:function(){},_ON_GRID_KEYUP:function(){},_ON_GRID_PASTE:function(){},_ON_INPUT:function(){},_ON_KEYDOWN_ENTER:function(){},_ON_KEYDOWN_F8:function(){},_ON_KEYDOWN_SPACE:function(){},_ON_KEYDOWN_TAB:function(){},_ON_KEYUP:function(){},_ON_MOUSEDOWN:function(){},_ON_MOUSEOUT:function(n,t){var i=this.instanceManager.create(this.controlState.controlType,this.controlState),r=this.getControlElement();r&&(i.set$El($(r)),i._hideLayer&&i._hideLayer(n,t))},_ON_MOUSEOVER:function(n,t){var i,r,u;if(!ecount.global.getDestroyedState(this.config.common.ecPageId)){if(i=this.cellState&&this.cellState.toggle,i&&i.created&&["refresh","destroy"].indexOf(i.state)>-1&&(ecount.popover.destroy($(this.getToggleTargetElement(i)),i.type),delete i.created,delete i.state),i&&!i.created)switch(i.type){case"popover":this.bindPopover();break;case"tooltip":this.bindTooltip()}r=this.instanceManager.create(this.controlState.controlType,this.controlState);u=this.getControlElement();r&&u&&(r.set$El($(u)),r._showLayer&&r._showLayer(n,t))}},_ON_MOUSEUP:function(){},_ON_GRID_CONTEXTMENU:function(){}});ecount.class("ecount.gridV3.col",null,{init:function(n,t,i){_.extend(this,n);this.config=t;this.dataTableId=i.dataTableId;this.dataResizeTableId=i.dataResizeTableId;this.colElement=null},destroyAll:function(){delete this.config},getCreatedData:function(){var n={attrs:{"data-columnid":this.id},styles:{},className:["colgroup-col"]};this.width&&(n.styles.width=/\d+/.test(this.width)?this.width.toString()+"px":"");ecount.common.isTrue(this.isHideColumn)&&n.className.push("hide");var i=this.gridGenerator.control().define("ecount.gridV3.control.view.col",null,n),t=i.end(),r=this.instanceManager.create(t.controlType,t);return this.state=t,r.renderHTML()},setGridGenerator:function(n){return this.gridGenerator=n,this},setControlGenerator:function(n){return this.controlGenerator=n,this},setInstanceManager:function(n){return this.instanceManager=n,this},getColElement:function(){var n=this.config.layout.container.querySelector("[data-resizetableid="+this.dataResizeTableId+"] colgroup"),t=n&&n.querySelector("[data-columnid='"+this.id+"']");return this.colElement=t,t},getFixedColElement:function(){var n=this.config.layout.container.querySelector(".grid-clone-top colgroup");return n&&n.querySelector("[data-columnid='"+this.id+"']")},getStateObject:function(n,t){for(var i=this.state[t],u=n.split("."),r=0,f=u.length-1;r<f;r++)i=i[u[r]];return i},setState:function(n,t,i){var r,u;if(i=/\d+/.test(i)?i:0,r=n.split("."),this.getState(n)!=t){if(u=this.getStateObject(n,i),!u)return;typeof u[r[r.length-1]]=="object"?u[r[r.length-1]].constructor==Array?u[r[r.length-1]].push(t):u[r[r.length-1]]=t:u[r[r.length-1]]=t}},getState:function(n,t){var r,u,i,f;return(t=/\d+/.test(t)?t:0,r=this.getStateObject(n,t),u=n.split("."),!r)?null:(i=r[u[u.length-1]],f=typeof i,f=="object")?i:f=="function"?i:/^\d+/.test(i)?parseInt(i,10):i},getColumnId:function(){return this.getState("attrs.data-columnid")},setWidth:function(n,t){this.setState("styles.width",n,t);var i=this.getColElement();i&&(i.style.width=n+"px")},getWidth:function(){var n=this.getState("styles.width");return/\d+/.test(n)?n:null},getVisible:function(){return!ecount.common.isTrue(this.isHideColumn)},setVisible:function(n){var t,i,r;this.isHideColumn=!n;t=n?"remove":"add";i=this.getColElement();i&&i.classList[t]("hide");r=this.getFixedColElement();r&&r.classList[t]("hide")}});ecount.gridV3.template={section:"<%var sectionTag = obj.sectionTag,sectionClassname = obj.sectionClassname,rows = obj.rows;%>"+"<<%=sectionTag%> <%=ecount.gridV3.utils.convertToClassName(sectionClassname)%>>"+"<% if (rows.length > 0) { %>"+"<% for (var i = 0, len = rows.length; i < len; i++) { %>"+"<tr <%=ecount.gridV3.utils.convertAttrs(rows[i].attrs)%> <%=ecount.gridV3.utils.convertStyles(rows[i].styles)%> <%=ecount.gridV3.utils.convertToClassName(rows[i].className)%>>"+"<% for (var j = 0, lenx = rows[i].cells.length; j < lenx; j++) { %>"+"<%= rows[i].cells[j] %>"+"<% } %>"+"<\/tr>"+"<% } %>"+"<% } %>"+"<\/<%=sectionTag%>>",colgroup:"<%var sectionTag = obj.sectionTag,cols = obj.cols;%>"+"<<%=sectionTag%>>"+"<% for (var i = 0, len = cols.length; i < len; i++) { %>"+"<%=cols[i]%>"+"<% } %>"+"<\/<%=sectionTag%>>",table:"<% var table = obj.table;%>"+"<table <%=ecount.gridV3.utils.convertAttrs(table.attrs)%> <%=ecount.gridV3.utils.convertStyles(table.styles)%> <%=ecount.gridV3.utils.convertToClassName(table.className)%>>"+"{{colgroup}}{{thead}}{{tbody}}{{tfoot}}<\/table>",topToolbar:"",bottomToolbar:""};ecount.class("ecount.gridV3.generator",null,{controlData:null,containerData:null,controlMethod:{define:function(n,t,i){return this.resetData(),this.initDatas(i),this.controlData.controlType=n,this},initDatas:function(n){return n=n||[],typeof n=="object"&&n.constructor!=Array&&(n=[n]),this.controlData=n,this},label:function(n){return this.controlData.text=n,this},resetData:function(){return this.controlData={controlType:"widget.gridCell.label",attrs:{},styles:{},className:[],text:"",value:""},this},end:function(){return this.controlData}},containerMethod:{define:function(n,t,i){return this.initDatas(i),this.containerData.controlType=n,this},initDatas:function(n){return _.extend(this.containerData,n),this},resetData:function(){return this.containerData={controlType:"widget.container",controls:[],attrs:{},styles:{},className:[],text:"",value:""},this},setInstanceManager:function(n){this.containerData.instanceManager=n},css:function(n){if(typeof n=="object"){if(n.constructor==Array)for(var t=0,i=n.length;t<i;t++)this.containerData.className.contains(n[t])||this.containerData.className.push(n[t])}else this.containerData.className.contains(n)||this.containerData.className.push(n)},getCss:function(){return Object.clone(this.containerData.className)},removeCss:function(n){var t,i,r;if(typeof n=="object"){if(n.constructor==Array)for(i=0,r=n.length;i<r;i++)t=this.containerData.className.indexOf(n[i]),t>-1&&this.containerData.className.splice(t,1)}else t=this.containerData.className.indexOf(n),t>-1&&this.containerData.className.splice(t,1)},removeAllCss:function(){this.containerData.className=[]},attr:function(n,t){if(n=="class")this.css(t);else if(n=="style"){var i={};i[n]=t;this.style(i)}else this.containerData.attrs[n]=t},removeAttr:function(n){if(n=="class")throw"class attribute 를 삭제하기 위해선 removeCss 함수를 사용해 주세요";if(n=="style")throw"style attribute 를 삭제하기 위해선 removeStyle 함수를 사용해 주세요";delete this.containerData.attrs[n]},style:function(n){for(var t in n)this.containerData.styles[t]=n[t]},getStyle:function(){return Object.clone(this.containerData.styles)},removeStyle:function(n){delete this.containerData.styles[n]},value:function(n){return this.containerData.value=n,this},disabled:function(n){n?this.css("disabled"):this.removeCss("disabled")},setToggleTarget:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.target=n,this},setToggleType:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.type=n,this},setToggleState:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.directShow=!0,this.containerData.toggle.state=n,this},setToggleAddon:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.addon=n,this},setToggleTrigger:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.trigger=n,this},setTogglePlacement:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.placement=n,this},setToggleHtml:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle["data-html"]=n,this},setToggleTemplate:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle["data-template"]=n,this},setToggleMultiPopover:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.multiPopover=n,this},setToggleTitle:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.title=n,this},setToggleContent:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.content=n,this},setToggleDelayShow:function(n){return this.containerData.toggle||(this.containerData.toggle={}),this.containerData.toggle.delay||(this.containerData.toggle.delay={}),this.containerData.toggle.delay.show=n,this},setToggleDelayHide:function(n){this.containerData.toggle||(this.containerData.toggle={});this.containerData.toggle.delay||(this.containerData.toggle.delay={});this.containerData.toggle.delay.hide=n},setCellHeaderType:function(n){return this.containerData.tag=ecount.common.isTrue(n)?"th":"td",this},addControl:function(n){return this.containerData.controls.push(n),this},end:function(){return this.containerData}},control:function(){return this.controlMethod.resetData(),this.controlMethod},container:function(){return this.containerMethod.resetData(),this.containerMethod},destroyAll:function(){}});ecount.class("ecount.gridV3.control.view",null,{template:"<{{tag}} {{styles}} {{attrs}} {{className}}>{{text}}<\/{{tag}}>",init:function(n){this.resetData();this.state=this.initDatas(n)},initDatas:function(n){return n=n||[],typeof n=="object"&&n.constructor!=Array&&(n=[n]),n},resetData:function(){this.html="";this.state=[]},render:function(){},getText:function(n){return n=/\d+/.test(n)?n:0,this.state[n].text},setText:function(n,t){t=/\d+/.test(t)?t:0;this.state[t].text=n},renderHTML:function(){for(var t,n,r="",i=0,u=this.state.length;i<u;i++)t=this.template,n=this.state[i],n.tag&&(t=t.replace(/{{tag}}/g,n.tag)),r=t.replace(/{{styles}}/g,ecount.gridV3.utils.convertStyles(n.styles)).replace(/{{attrs}}/g,ecount.gridV3.utils.convertAttrs(n.attrs)).replace(/{{className}}/g,ecount.gridV3.utils.convertToClassName(n.className)).replace(/{{text}}/g,n.text);return r}});ecount.class("ecount.gridV3.control.view.col","ecount.gridV3.control.view",{template:"<col {{styles}} {{attrs}} {{className}} />"});ecount.class("ecount.gridV3.container.view",null,{init:function(n){n=n||[];typeof n=="object"&&n.constructor!=Array&&(n=[n]);this.resetData();this.state=this.initDatas(n)},resetData:function(){this.template="<{{tag}} {{styles}} {{attrs}} {{className}}>{{widget}}{{addon}}<\/{{tag}}>";this.state=[]},initDatas:function(n){return n.forEach(function(n){n.controls||(n.controls=[])}),n},createData:function(n){n=/\d+/.test(n)?n:0;this.state[n]||(this.state[n]={styles:{},className:"",attrs:{},value:"",text:"",controls:[]})},set$El:function(n){this.el=n},setInstanceManager:function(n){this.instanceManager=n},setStatus:function(n){this.status=n},addControl:function(n,t){t=/\d+/.test(t)?t:0;this.createData(t);this.state[t].controls.push(n)},setStyle:function(){},setStyles:function(n,t){t=/\d+/.test(t)?t:0;this.createData(t);for(var i in n)this.state[t].styles[i]=n[i]},setAttrs:function(n,t){t=/\d+/.test(t)?t:0;this.createData(t);for(var i in n)this.state[t].attrs[i]=n[i]},isHeader:function(n,t){return indext=/\d+/.test(t)?t:0,this.createData(t),this.state[t].tag=n?"th":"td",this},label:function(){return this},value:function(n,t){return t=/\d+/.test(t)?t:0,this.createData(t),this.state[t].value=n,this},text:function(n,t){return t=/\d+/.test(t)?t:0,this.createData(t),this.state[t].text=n,this},addClass:function(n){if(n!=undefined&&n!=null&&this.el){typeof n=="string"&&(n=[n]);for(var t=0,i=n.length;t<i;t++)this.el.classList.contains(n[t])||this.el.classList.add(n[t])}},removeClass:function(n){if(n!=undefined&&n!=null&&this.el){typeof n=="string"&&(n=[n]);for(var t=0,i=n.length;t<i;t++)this.el.classList.contains(n[t])&&this.el.classList.remove(n[t])}},hasClass:function(n){return classList==undefined||classList==null?!1:this.el?this.el.classList.contains(n):!1},update:function(n,t){var i=n.split(".");i[0]=="add"?i[1]=="className"?(typeof t=="string"&&(t=[t]),this.el.className=t.join(" ")):i[1]=="attribute"||i[1]=="style":i[0]=="remove"?i[1]=="className"?this.el.className=t:i[1]=="attribute"||i[1]=="style":i[0]=="replace"&&(i[1]=="className"?this.el.className=t:i[1]=="attribute"||i[1]=="style")},renderHTML:function(){for(var i,n,r="",t=0,u=this.state.length;t<u;t++)i=this.template,n=this.state[t],n.tag&&(i=i.replace(/{{tag}}/g,n.tag)),r=i.replace(/{{styles}}/g,ecount.gridV3.utils.convertStyles(n.styles)).replace(/{{attrs}}/g,ecount.gridV3.utils.convertAttrs(n.attrs)).replace(/{{className}}/g,ecount.gridV3.utils.convertToClassName(n.className)).replace(/{{text}}/g,ecount.gridV3.utils.replaceRegexpString(n.text)).replace("{{addon}}",this.getAddonHTML(t));return ecount.gridV3.utils.replaceRegexpString(r.replace("{{widget}}",ecount.gridV3.utils.replaceRegexpString(this.getControlHTML())))},getControlHTML:function(){var n="";return this.state.forEach(function(t){t.controls.forEach(function(t){var i=t.end(),u,r;(["widget.caretLink","widget.faCheckLink","widget.thumbnailLink","widget.mergeAddRow"].contains(i.controlType)||"widget.checkbox"==i.controlType&&i.data.length==1)&&(u=i.controlType.split("."),u.splice(1,0,"gridCell"),i.controlType=u.join("."));ecount.grid.constValue.nativeControlInWidgetHTMLConvertControl[i.controlType]||ecount.grid.constValue.customizerRex.test(i.controlType)?(r=this.instanceManager.create(i.controlType,i),r.render($("<div><\/div>")),n=r.getGridViewHTML&&r.getGridViewHTML()||""):(r=this.instanceManager.create(i.controlType,i),r.destroy$El&&r.destroy$El(null),n=r.getComposedDomString())}.bind(this))}.bind(this)),n},getAddonHTML:function(n){return this.state&&this.state[n]&&this.state[n].toggle&&this.state[n].toggle.addon=="userHelpMark"?' <span class="user-help-mark" data-addon="userHelpMark"/>':""},serialize:function(){return this.state}});ecount.class("ecount.gridV3.container.view.cell","ecount.gridV3.container.view",{template:"<{{tag}} {{styles}} {{attrs}} {{className}}>{{widget}}<\/{{tag}}>"});