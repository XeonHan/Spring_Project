window.__define_resource&&__define_resource("MSG09969","LBL12057","LBL12055","MSG04285","MSG05944","LBL09693","LBL12056","LBL20066","MSG10414","MSG10415","MSG10418","MSG10431","LBL01611","MSG05986","MSG05970","MSG06854","MSG06855","MSG06856","LBL02502","LBL09629","MSG01541","MSG07518","LBL03686","LBL09240","MSG07964","MSG05991","LBL11726","LBL01732","LBL06157","LBL01042","BTN00672","LBL12238","LBL05628","LBL03617","LBL01241","LBL06953","LBL05626","LBL03684","LBL03615","LBL05636","LBL12236","BTN00991","BTN00992","LBL19235","LBL19236","LBL19237","LBL19397","BTN00102","BTN00103","BTN00104","BTN00593","BTN00588","BTN00594","BTN00106","MSG06017","MSG07277","MSG05967","MSG10488","MSG10487","MSG10810","MSG10833","LBL20477","MSG02529","LBL02468","LBL93513","LBL07157","LBL12548","BTN00223","LBL12547","LBL01158","LBL12549","LBL02533","LBL00443","LBL03662","LBL04686","LBL02939","LBL03206","LBL09042","LBL03685","LBL90114","LBL93344","LBL08578","LBL09044","LBL93434","LBL10942","LBL93315","LBL35302","LBL21551","LBL00139","LBL03858","LBL03862","LBL03935","LBL04600","LBL06223","LBL06222","LBL00689","LBL35303","LBL09351","LBL93739","LBL93740","LBL09258","LBL93341","LBL93342","LBL01550","LBL93347","LBL93345","LBL93346","LBL93338","LBL02362","LBL02358","LBL93357","LBL02732","LBL02728","LBL02286","LBL02288","LBL02283","LBL01409","LBL93364","LBL01411","LBL12182","LBL10946","LBL10947","LBL93689","LBL93690","LBL10939","LBL00267","LBL00432","LBL00434","LBL00420","LBL00683","LBL00684","LBL00672","LBL00771","LBL03882","LBL03815","LBL93041","LBL03838","LBL02253","LBL02361","LBL02595","LBL02597","LBL02586","LBL03843","LBL02660","LBL06290","LBL93046","LBL90014","LBL93054","LBL93055","LBL10326","LBL02096","LBL93057","LBL00375","LBL93060","LBL01320","LBL93063","LBL93062","LBL93065","LBL93066","LBL01107","LBL01620","LBL02184","LBL00313","LBL00625","LBL01348","LBL35663","LBL01786","LBL00865","LBL01267","LBL04525","LBL01266","LBL04527","LBL04392","LBL00528","LBL00522","LBL01213","MSG11221","MSG10501","MSG10503","MSG10934","MSG10553","MSG10936","MSG10505","MSG10962","MSG11433","MSG10893","MSG10894","MSG10895","MSG10896","MSG10897","MSG10898","MSG10899","MSG10900","MSG10901","MSG11118","MSG11119","MSG11120","MSG10902","MSG10903","MSG10904","MSG10905","MSG10906","MSG10907","MSG10908","MSG10909","MSG10554","MSG10614","MSG10615","MSG10502","MSG10910","MSG10911","LBL21299","MSG11205","LBL70053","LBL01177","LBL19012","LBL10165","LBL02695","LBL19486","MSG09514","LBL19298","MSG09935","MSG10009","MSG09936","MSG05624","MSG05619","MSG05636","MSG05637","MSG05652","LBL02354","LBL10790","LBL02458","LBL02715","LBL10989","LBL09977","LBL02710","LBL11576","MSG05897","MSG00141","MSG10591","MSG10585","MSG10586","MSG00609","LBL20671","LBL20670","LBL20686","LBL20669","LBL02933","LBL20685","LBL21798","LBL01579","LBL20387","LBL08148","LBL20383","LBL20755","LBL20659","LBL20897","LBL17088","LBL70401","LBL20388","LBL20660","LBL20389","MSG00550","LBL08056","BTN00070","BTN00133","LBL08356","MSG10592","LBL20375","LBL20376","LBL02853","MSG02929","MSG10971","MSG11731","MSG10972","LBL22614","LBL22618","LBL22611","LBL22612","LBL22613","LBL22615","LBL22616","LBL22617","LBL22619","LBL22620","MSG00923","LBL22624","LBL22625","LBL22626","LBL22627","LBL22628","MSG04805","LBL22629","LBL22630","LBL22810","LBL22631","LBL22632","LBL22633","LBL22634","MSG11614","MSG11627","LBL21368","LBL21899","LBL80114");$.extend(ecount.common.createNamespace("ecmodule.common.fileStorage"),{fileStorageHost:"",outerFileStorageHost:"",etcFileStorageHost:"",EmailMaxFileStorageHost:"",tempComCode:"T0000",ecfileRequestApiPath:window.requestUrl.domainType=="W"?"/WMAPI/Mail/ECFRequest":"/ECAPI/SVC/Common/Infra/ECFRequest",isAwsS3StorageHost:function(n){return/(test-ecfs|test-eofs|ecfs[a-z0-9][a-z0-9]|test-ecfskr-mail|ecfskr-mail|ecfskr-mail[a-z0-9][a-z0-9])\.s3(\.[\w\d\-]+)*\.amazonaws(\.com\.cn|\.com)/gi.test(n)},getAwsS3StorageUrlObj:function(n){var t=/(?:(https?)?:)?\/\/([^\/]+)(\/[^\?]+)(?:\?(.+)){0,1}/gi.exec(n),i={protocol:"",host:"",path:"",query:""};if(t&&t.length==5)i.protocol=t[1],i.host=t[2],i.path=t[3],i.query=t[4]||"";else if(t&&t.length==4)i.protocol=t[1],i.host=t[2],i.path=t[3];else return null;return i},getHostPrefix:function(n){return"host:"+n+(ecount.delimiter||"∬")},saveSpecialImage:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("SaveSpecialImage"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : DeleteFile")},success:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(JSON.parse('{"Data":"true"}'))}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : SaveSpecialImage")},success:function(n){i&&i(JSON.parse(n))}})},saveFile:function(n,t,i,r){n.unshift("SaveFile");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : SaveFile")},success:function(n){i&&i(JSON.parse(n))}})},saveFiles:function(n,t,i,r){n.unshift("SaveFiles");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : SaveFile")},success:function(n){i&&i(JSON.parse(n))}})},saveResizeImage:function(n,t,i,r){n.unshift("SaveResizeImage");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : SaveResizeImage")},success:function(n){i&&i(JSON.parse(n))}})},saveTempFile:function(n,t,i,r){n.unshift("SaveTempFile");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : SaveTempFile")},success:function(n){i&&i(JSON.parse(n))}})},saveTempFiles:function(n,t,i,r){n.unshift("SaveTempFiles");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : SaveTempFiles")},success:function(n){i&&i(JSON.parse(n))}})},saveTempResizeImage:function(n,t,i,r){var u,f,e,o,s;n.unshift("SaveTempResizeImage");u=this;ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage();u.isAwsS3StorageHost(u.getFileStorageHost(t))?(t!=1&&(f=u.getFileStorageHost(t),e=u.getHostPrefix(f),n.unshift(e)),o=encodeURIComponent("/"+n.join("/").replaceAll("%","%25")),$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:o},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : saveTempResizeImage")},success:function(n){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(n.Data)}})):(s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : SaveTempResizeImage")},success:function(n){i&&i(JSON.parse(n))}}))},getViewVideoUrl:function(n,t){var i,u,f,r;if(n.unshift("ViewVideo"),i=this,i.isAwsS3StorageHost(i.getFileStorageHost(t))){t!=1&&(u=i.getFileStorageHost(t),f=i.getHostPrefix(u),n.unshift(f));r="/"+n.join("/");try{r=decodeURIComponent(r)}catch(e){}finally{r=encodeURIComponent(r)}return ecount.common.buildFullSessionUrl(i.ecfileRequestApiPath)+"&Key="+r}return i._makeUrl(n,t)},getViewImgUrl:function(n){var u,f,t,i,r;return u=n.shift(),t=this.replaceImageName(n.shift()),i=n.shift(),f=n.shift(),r=n.shift(),$.isEmpty(t)&&$.isEmpty(i)?"":$.isEmpty(r)||$.isEmpty(Date.parse(r))?"/ECFile/ViewImage/"+u+"/"+f+"/"+t+"/"+i:"/ECFile/ViewImage/"+u+"/"+f+"/"+t+"/"+i+"/"+r},replaceImageName:function(n){var t=n;return t.indexOf("&")>-1&&(t=t.replaceAll("&","∬amp∬")),t.indexOf("%")>-1&&(t=t.replaceAll("%","∬pct∬")),encodeURIComponent(t)},deleteFile:function(n,t,i,r){var u,e,o,f;if(n.unshift("DeleteFile"),u=this,ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage(),u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(s){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : DeleteFile")},success:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(JSON.parse('{"Data":"true"}'))}})}else i&&i(JSON.parse('{"Data":"true"}'))},deleteFileV2:function(n,t,i,r,u){var f,o,s,e;if(n.unshift("DeleteWithOtherDelimeter"),f=this,ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage(),f.isAwsS3StorageHost(f.getFileStorageHost(t))){t!=1&&(o=f.getFileStorageHost(t),s=f.getHostPrefix(o),n.unshift(s));e="/"+n.join("/");try{e=decodeURIComponent(e)}catch(h){}finally{e=encodeURIComponent(e)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(f.ecfileRequestApiPath),data:{Key:e,delimeter:i},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();u?u():ecount.alert("File server error : DeleteFile")},success:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r&&r(JSON.parse('{"Data":"true"}'))}})}else r&&r(JSON.parse('{"Data":"true"}'))},deleteFileDirect:function(n,t,i,r){var u,e,o,f;if(n.unshift("DeleteFile"),u=this,ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage(),u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));n.add("");n.add("N");f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(s){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : DeleteFile")},success:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(JSON.parse('{"Data":"true"}'))}})}else i&&i(JSON.parse('{"Data":"true"}'))},deleteOwner:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("DeleteOwner"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : DeleteOwner")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : DeleteOwner")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})},deletePartition:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("DeletePartition"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : DeletePartition")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : DeletePartition")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})},deleteCollection:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("DeleteCollection"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : DeleteCollection")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : DeleteCollection")},success:function(){i&&i(JSON.parse('{"Data":"true"}'))}})},checkStorageQuota:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("CheckStorageQuota"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : CheckStorageQuota")},success:function(n){i&&i(n.Data)}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : CheckStorageQuota")},success:function(n){i&&i(JSON.parse(n))}})},checkFileExists:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("FileExists"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/").replaceAll("%","%25");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f.replaceAll("%","%25"))}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : FileExists")},success:function(n){i&&i(n.Data)}})}else{try{n[3]=decodeURIComponent(n[3])}catch(c){}n[3]=encodeURIComponent(n[3]);s=u._makeUrl(n,t);$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : FileExists")},success:function(n){if(i){var t=JSON.parse(n);t.IsLegacy=!0;i(t)}}})}},checkFileExistsV2:function(n,t,i){var u=this,r=this.etcFileStorageHost+"/FileExists";ecount.common.api({url:r,contentType:"application/json; charset=UTF-8",crossDomain:!1,external:!0,data:Object.toJSON(n),error:function(){i?i():ecount.alert("File server error : FileExists")},success:function(n){t&&t(JSON.parse(n))}})},viewFileV2:function(n,t,i,r){var f=this,u=this.etcFileStorageHost+"/ViewFile";console.log("viewV2");console.log(u);ecount.common.api({url:u,contentType:"application/json; charset=UTF-8",crossDomain:!1,external:!0,data:Object.toJSON(n),error:function(){r?r():ecount.alert("File server error : ViewFile")},success:function(n){i&&i(n)}})},downloadFileV2:function(n,t,i,r){var u=$.extend(!0,{},n.EtcOption),f=this,e=n,o=f.etcFileStorageHost+"/DownloadFile?JobId="+u.JobId+"&ComCode="+u.ComCode+"&FileName="+e.FileName+"&SavePath="+u.SavePath;ecount.document.cfdr(o,function(n){if(ecount.common.isIOS)ecount.parentFrame.location=n.Data;else{var i=$("#ifrmdownload");i.length==0&&(i=$('<iframe name="ifrmdownload" style="width:0px; height:0px;border:0" class="hidden"><\/iframe>'),$("body").append(i));i[0].src=n.Data}t&&t()},r)},checkOwnerExists:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("OwnerExists"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : OwnerExists")},success:function(n){i&&i(n.Data)}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : OwnerExists")},success:function(n){i&&i(JSON.parse(n))}})},commitReSize:function(n,t,i,r){var u,f,e,o,s;n.unshift("commitReSize");u=this;ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage();u.isAwsS3StorageHost(u.getFileStorageHost(t))?(t!=1&&(f=u.getFileStorageHost(t),e=u.getHostPrefix(f),n.unshift(e)),o=encodeURIComponent("/"+n.join("/").replaceAll("%","%25")),$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:o},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : Commit")},success:function(n){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(n.Data)}})):(s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : Commit")},success:function(n){i&&i(JSON.parse(n))}}))},commit:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("Commit"),u=this,ecount.common.showProgressbarInPage&&ecount.common.showProgressbarInPage(),u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : Commit")},success:function(n){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();i&&i(n.Data)}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){ecount.common.hideProgressbarInPage&&ecount.common.hideProgressbarInPage();r?r():ecount.alert("File server error : Commit")},success:function(n){i&&i(JSON.parse(n))}})},status:function(n,t,i,r){var u,e,o,f,s;if(n.unshift("Status"),u=this,u.isAwsS3StorageHost(u.getFileStorageHost(t))){t!=1&&(e=u.getFileStorageHost(t),o=u.getHostPrefix(e),n.unshift(o));f="/"+n.join("/");try{f=decodeURIComponent(f)}catch(h){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : Status")},success:function(n){i&&i(n.Data)}})}else s=u._makeUrl(n,t),$.ajax({type:"post",url:s,error:function(){r?r():ecount.alert("File server error : Status")},success:function(n){i&&i(JSON.parse(n))}})},viewFile:function(n,t,i,r){n.unshift("ViewFile");var u=this,f=u._makeUrl(n,t);$.ajax({type:"post",url:f,error:function(){r?r():ecount.alert("File server error : ViewFile")},success:function(n){i&&i(n)}})},copyOwnerKey:function(n,t,i,r){var h=n.splice(2,6),u=this,e,o,s,f;if(u.isAwsS3StorageHost(u.getFileStorageHost(t))){e=n;e.unshift("CopyOwnerKey");t!=1&&(o=u.getFileStorageHost(t),s=u.getHostPrefix(o),e.unshift(s));f="/"+e.join("/");try{f=decodeURIComponent(f)}catch(c){}finally{f=encodeURIComponent(f)}$.encryptAjax({type:"post",url:ecount.common.buildSessionUrl(u.ecfileRequestApiPath),data:{Key:f},dataTypeCustom:"json",error:function(){r?r():ecount.alert("File server error : Status")},success:function(n){i&&i(n.Data)}})}else u.checkStorageQuota(h,t,function(f){var e=n,o;e.unshift("CopyOwnerKey");u.getFileStorageHost(t)==f.Domain?(e.push(f.OwnerKey),o=u._makeUrl(e,t),$.ajax({type:"post",url:o,error:function(){r?r():ecount.alert("File server error : CopyOwnerKey")},success:function(n){i&&i(n)}})):r?r():ecount.alert("File server error : CopyOwnerKey")})},downloadFile:function(n,t,i,r,u,f,e,o){function s(){var s,f,h,c;r=$.isFunction(r)?r:function(){ecount.alert("The file does not exist.")};s=n.clone().splice(0,3);n.length>=5&&s.push(n[4]);f=this;n[7]!=undefined&&n[7].toString!="0"&&ecount.cloudStorage.down.download({PROVIDER_SEQ:n[7],ACCOUNT:n[8],id:n[9]});h=n;h.unshift("DownloadFile");c=f._makeUrl(h,t);f.checkFileExists(s,t,function(n){if(n.Data.toString().toLowerCase()=="false"){r();return}if(f.isAwsS3StorageHost(f.getFileStorageHost(t)))ecount.document.cfdr(c,function(n){var t;if(typeof n!="undefined"&&n.forceDownload){if(ecount.common.isIOS){if(ecount.common.isSafari||ecount.common.isChrome){window.open(n.Data,"");return}ecount.parentFrame.location=n.Data;return}t=$("#ifrmdownload");t.length==0&&(t=$('<iframe name="ifrmdownload" style="width:0px; height:0px;border:0" class="hidden"><\/iframe>'),$("body").append(t));t[0].src=n.Data}else i&&i()},u,e,o);else{var s=c;ecount.document.cfdrLegacy(s,function(n){var t;if(ecount.common.isIOS){if(ecount.common.isSafari||ecount.common.isChrome){window.open(n.Data,"");return}ecount.parentFrame.location=n.Data;return}t=$("#ifrmdownload");t.length==0&&(t=$('<iframe name="ifrmdownload" style="width:0px; height:0px;border:0" class="hidden"><\/iframe>'),$("body").append(t));t[0].src=n.Data;i&&i()},u)}},r)}if(f){s.call(this);return}ecmodule.common.fileSecurity.checkFileAllowed("download",[{name:n[2],size:0}],0,function(n){n&&s.call(this)}.bind(this))},getFileStorageHost:function(n){var t=this;return n==-3?ecount.zoneBaseDatas.CustomerCenterLibraryFileStorageHost:n==-2?ecount.zoneBaseDatas.CustomerCenterFileStorageHost:n==1?ecount.zoneBaseDatas.FileStorageHost:n==2?t.etcFileStorageHost:n==4?ecount.zoneBaseDatas.EmailMaxFileStorageHost:ecount.zoneBaseDatas.innerFileStorageHost},getFileStorageType:function(n){var t=this;return n==ecount.zoneBaseDatas.CustomerCenterLibraryFileStorageHost?-3:n==ecount.zoneBaseDatas.CustomerCenterFileStorageHost?-2:n==ecount.zoneBaseDatas.FileStorageHost?1:n==t.etcFileStorageHost?2:n==ecount.zoneBaseDatas.EmailMaxFileStorageHost?4:0},_makeUrl:function(n,t,i){var u=this,r=window.requestUrl.protocol+"://";return r=typeof i!="undefined"?r+i:r+u.getFileStorageHost(t),r+"/"+n.join("/")},downloadFileNew:function(n){var t=$.extend({},n);if(t.FsComCode=t.FsComCode||t.comCode,t.FsOwnerKey=t.FsOwnerKey||t.fsOwnerKey||t.ownerKey||t.OWNER_ID,t.FsFileName=t.FsFileName||t.name,t.account=t.account||t.ACCOUNT,t.id=t.file_id=t.fileId||t.fileDes||t.file_id||t.id,t.storage_cd=t.storage_cd||t.STORAGE_CD||ecmodule.common.fileStorage.convertProviderSeqToStorageCd(t.provider_seq),["I","O","E"].contains(t.storage_cd.toString())){if(!t.type)switch(t.storage_cd.toString()){case"E":t.type=2;break;case"O":t.type=1;break;default:t.type=0}t.FileStorage||(t.FileStorage=ecmodule.common.fileStorage.getFileStorageHost(t.type))}$.isEmpty(t.storage_cd)||["I","O","E"].contains(t.storage_cd.toString())?ecount.document.downloadFile(t):ecount.cloudStorage.down.download({PROVIDER_SEQ:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(t.storage_cd),ACCOUNT:t.account,id:t.file_id||t.id})},commitFileNew:function(n){!$.isEmpty(n.ownerKey)&&($.isEmpty(n.storage_cd)||["I","O","E"].contains(n.storage_cd))?_.isEmpty(n.expireIn)?ecmodule.common.fileStorage.commit([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey],n.type,n.callback,n.errCallback):ecmodule.common.fileStorage.commit([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey,n.expireIn],n.type,n.callback,n.errCallback):n.callback&&n.callback()},commitFileNewV1:function(n){n.forEach(function(n){!$.isEmpty(n.ownerKey)&&($.isEmpty(n.storage_cd)||["I","O","E"].contains(n.storage_cd))?ecmodule.common.fileStorage.commit([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey],n.type,n.callback,n.errCallback):n.callback&&n.callback()})},commitFileNewV2:function(n){n.forEach(function(n){!$.isEmpty(n.ownerKey)&&($.isEmpty(n.storage_cd)||["I","O","E"].contains(n.storage_cd))?ecmodule.common.fileStorage.commitReSize([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey,n.resize,n.owner_name],n.type,n.callback,n.errCallback):n.callback&&n.callback()})},deleteFileNew:function(n){if($.isEmpty(n.storage_cd)||["I","O","E"].contains(n.storage_cd))if($.isEmpty(n.ownerKey))n.callback&&n.callback();else if($.isEmpty(n.removeFileList))ecmodule.common.fileStorage.deleteOwner([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey],n.type,n.callback,n.errCallback);else{var t=n.removeFileList.select(function(n){return n.name}).join(ecount.delimiter);ecmodule.common.fileStorage.deleteFile([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,t,n.ownerKey],n.type,n.callback,n.errCallback)}else!$.isEmpty(n.removeFileList)&&n.removeFileList.length>1?n.removeFileList.forEach(function(t){ecount.cloudStorage.deleteFile([{provider_seq:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.storage_cd),account:n.account,id:t.file_id||t.id},])}):ecount.cloudStorage.deleteFile([{provider_seq:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.storage_cd),account:n.account,id:n.file_id},]),n.callback&&n.callback()},deleteFileNewV2:function(n){if($.isEmpty(n.storage_cd)||["I","O","E"].contains(n.storage_cd))if($.isEmpty(n.ownerKey))n.callback&&n.callback();else if($.isEmpty(n.removeFileList))ecmodule.common.fileStorage.deleteOwner([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,n.ownerKey],n.type,n.callback,n.errCallback);else{var t=n.removeFileList.select(function(n){return n.name}).join(n.delimeter);ecmodule.common.fileStorage.deleteFileV2([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,t,n.ownerKey],n.type,n.delimeter,n.callback,n.errCallback)}else!$.isEmpty(n.removeFileList)&&n.removeFileList.length>1?n.removeFileList.forEach(function(t){ecount.cloudStorage.deleteFile([{provider_seq:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.storage_cd),account:n.account,id:t.file_id||t.id},])}):ecount.cloudStorage.deleteFile([{provider_seq:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.storage_cd),account:n.account,id:n.file_id},]),n.callback&&n.callback()},deleteMultiFileWithInfo:function(n,t){$.isEmpty(n)||$.isEmpty(n.fileIdList)||ecount.common.api({ecPageID:t,parentData:n.parentData,url:"/SVC/Common/Infra/DeleteFileInfoByFileId",data:{Request:{Data:n.rowItem},isSendMessage:ecenum.useYn.yes,Key:n.Key},success:function(){ecmodule.common.fileStorage.deleteMultiFile(n,n.rowItem)}})},deleteMultiFile:function(n,t){var r,i,u,f;if(!$.isEmpty(t)){r=t.groupBy("STORAGE_CD");for(i in r)switch(i){case"I":case"O":case"E":u=i=="E"?2:i=="O"?1:0;f=r[i].select(function(n){return n.OWNER_ID});f.forEach(function(t){ecmodule.common.fileStorage.deleteOwner([n.lifeTime||ecenum.tempfileLifetime.infinity,n.comCode,t],n.type||u)});break;default:r[i].forEach(function(n){var t=n.FILE_DES.split(ecount.delimiter);t.forEach(function(t){ecount.cloudStorage.deleteFile([{PROVIDER_SEQ:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(i),ACCOUNT:n.ACCOUNT,id:t}])})})}n.callback&&n.callback()}},deleteFileInfo:function(n,t,i,r){ecount.common.api({ecPageID:r,url:"/Common/Infra/DeleteFileInfo",data:Object.toJSON(t),success:function(t){i&&i.call(n,t.Data)}.bind(n)})},saveFileInfo:function(n,t,i,r,u,f,e){var n=$.extend({},{UploadFileList:t,RemoveFileList:i,FileList:r,AttachInfoColumns:["name","size"],IsUpdate:($.isEmpty(uploadFileList)&&$.isEmpty(removeFileList))?!1:!0},n);ecount.common.api({ecPageID:e,url:"/Common/Infra/SaveFileInfo",data:Object.toJSON(n),success:function(n){n.Status!="200"?f?f.call(this,n):ecount.alert(n.Error):u&&u.call(this,n.Data)}.bind(this),error:function(n){f?f.call(this,n):ecount.alert(n.Error)}.bind(this)})},saveFileInfoV2:function(n,t,i,r,u){var f=t.uploadFiles,e=t.removeFiles,a=t.files,o=n.columns||["name","size"],s=a.except(e,function(n){return n.name.toLowerCase()}).union(f,function(n){return n.name.toLowerCase()}),h=[],c=[],l=0;s.forEach(function(n){for(var i=[],t=0;t<o.length;t++)i.push(n[o[t]]);l+=parseInt(n.size);h.push(i.join("§"));c.push(n.id||n.file_id)});var v=h.join(ecount.delimiter),y=c.join(ecount.delimiter),p=$.extend({},{ATTACH_INFO:v,FILE_DES:y,TOTAL_SIZE:l,FileCount:s.length,IsUpdate:($.isEmpty(f)&&$.isEmpty(e))?!1:!0},n);ecount.common.api({ecPageID:u,url:"/Common/Infra/SaveFileInfo",data:Object.toJSON(p),success:function(n){n.Status!="200"?r?r(n):ecount.alert(n.Error):i&&i(n.Data)},error:function(n){r?r(n):ecount.alert(n.Error)}})},saveFileInfoV3:function(n,t,i,r,u){if(n.account=="ECOUNT"&&$.isEmpty(n.owner_id)){ecount.alert(ecount.resource.MSG09969);return}var f=t.uploadFiles,e=t.removeFiles,o=t.files,w=o.newFileStorageConfig,s=n.columns||["name","size"],h=o.except(e,function(n){return n.name.toLowerCase()}).union(f,function(n){return n.name.toLowerCase()}),c=[],l=[],a=0;h.forEach(function(n){for(var i=[],t=0;t<s.length;t++)i.push(n[s[t]]);a+=parseInt(n.size);c.push(i.join("§"));l.push(n.id||n.file_id)});var v=c.join(ecount.delimiter),y=l.join(ecount.delimiter),p=$.extend({},{ATTACH_INFO:v,FILE_DES:y,TOTAL_SIZE:a,FileCount:h.length,IsUpdate:($.isEmpty(f)&&$.isEmpty(e))?!1:!0},n);ecount.common.api({ecPageID:u,url:"/Common/Infra/SaveFileInfo",data:Object.toJSON(p),success:function(t){if(t.Status!="200")r?r(t):ecount.alert(t.Error.Message);else if(f&&f.length>0){var u={lifeTime:n.lifeTime,comCode:n.comCode,ownerKey:n.owner_id,type:n.type,storage_cd:n.storage_cd,errCallback:r};u.callback=i.bind(this,t.Data);ecmodule.common.fileStorage.commitFileNew(u)}else i&&i(t.Data)},error:function(n){r?r(n):ecount.alert(n.responseJSON.Error.Message)}})},saveFileInfoV4:function(n,t,i,r,u){for(var c,e=0;e<n.length;e++)if($.isEmpty(n[e].owner_id)){ecount.alert(ecount.resource.MSG09969);return}var f=t.uploadFiles,o=t.removeFiles,l=t.files,s=n.columns||["name","size"],h=l.except(o,function(n){return n.name.toLowerCase()}).union(f,function(n){return n.name.toLowerCase()});h.forEach(function(t,i){for(var u=[],r=0;r<s.length;r++)u.push(t[s[r]]);n[i].ATTACH_INFO=u.join("§");n[i].FILE_DES=t.id||t.file_id;n[i].TOTAL_SIZE=parseInt(t.size);n[i].FileCount=1});c={FileCount:h.length,lstFileUpload:n,IsUpdate:($.isEmpty(f)&&$.isEmpty(o))?!1:!0};ecount.common.api({ecPageID:u,url:"/Common/Infra/SaveFileInfoBatch",data:Object.toJSON(c),success:function(t){if(t.Status!=="200")r?r(t):ecount.alert(t.Error.Message);else if(f&&f.length>0){var u=[],e=f.length;f.forEach(function(r,f){var o={lifeTime:n[f].lifeTime,comCode:n[f].comCode,ownerKey:n[f].owner_id,type:n[f].type,storage_cd:n[f].storage_cd};e-1===f&&(o.callback=i.bind(this,t.Data));u.push(o)});ecmodule.common.fileStorage.commitFileNewV1(u)}else i&&i(t.Data)},error:function(n){r?r(n):ecount.alert(n.responseJSON.Error.Message)}})},saveFileInfoV5:function(n,t,i,r,u){for(var s,o,f=0;f<n.length;f++)n[f].account=="ECOUNT"&&$.isEmpty(n[f].owner_id)&&(ecount.alert(ecount.resource.MSG09969),r());for(s=[],o=[],f=0;f<t.length;f++){var e=t[f],h=e.uploadFiles,c=e.removeFiles,l=e.files,g=l.newFileStorageConfig;e.uploadFiles.length>0&&e.uploadFiles.forEach(function(n){o.push(n)});var a=["name","size"],v=l.except(c,function(n){return n.name.toLowerCase()}).union(h,function(n){return n.name.toLowerCase()}),y=[],p=[],w=0;v.forEach(function(n){for(var i=[],t=0;t<a.length;t++)i.push(n[a[t]]);w+=parseInt(n.size);y.push(i.join("§"));p.push(n.id||n.file_id)});var b=y.join(ecount.delimiter),k=p.join(ecount.delimiter),d=$.extend({},{ATTACH_INFO:b,FILE_DES:k,TOTAL_SIZE:w,FileCount:v.length},n[f]);s.push(d)}ecount.common.api({ecPageID:u,url:"/Common/Infra/SaveFileInfo",data:Object.toJSON({AttachInfos:s,IsUpdate:($.isEmpty(h)&&$.isEmpty(c))?!1:!0}),success:function(t){var e,h,f,u,s;if(t.Status!="200")r?r(t):ecount.alert(t.Error.Message);else if(o&&o.length>0&&n&&n.length>0){for(n=n.where(function(n){return n.storage_cd!="I"}),e=[],h=n.length,f=0;f<n.length;f++)u=n[f],s={lifeTime:u.lifeTime,comCode:u.comCode,ownerKey:u.owner_id,type:u.type,storage_cd:u.storage_cd},h-1===f&&(s.callback=i.bind(this,t.Data)),e.push(s);e.length>0&&ecmodule.common.fileStorage.commitFileNewV1(e)}else n&&n.length>0&&(t.Data.comCode=n[0].comCode),i&&i(t.Data)},error:function(n){r?r(n):ecount.alert(n.responseJSON.Error.Message)}})},saveFileInfoV6:function(n,t,i,r,u){for(var c,e=0;e<n.length;e++)if($.isEmpty(n[e].owner_id)){ecount.alert(ecount.resource.MSG09969);return}var f=t.uploadFiles,o=t.removeFiles,l=t.files,s=n.columns||["name","size"],h=l.except(o,function(n){return n.name.toLowerCase()}).union(f,function(n){return n.name.toLowerCase()});h.forEach(function(t,i){for(var u=[],r=0;r<s.length;r++)u.push(t[s[r]]);n[i].ATTACH_INFO=u.join("§");n[i].FILE_DES=t.id||t.file_id;n[i].TOTAL_SIZE=parseInt(t.size);n[i].FileCount=1});c={FileCount:h.length,lstFileUpload:n,IsUpdate:($.isEmpty(f)&&$.isEmpty(o))?!1:!0};ecount.common.api({ecPageID:u,url:"/Common/Infra/SaveFileInfoBatch",data:Object.toJSON(c),success:function(t){if(t.Status!=="200")r?r(t):ecount.alert(t.Error.Message);else if(f&&f.length>0){var u=[],e=f.length;f.forEach(function(f,o){var s={lifeTime:n[o].lifeTime,comCode:n[o].comCode,ownerKey:n[o].owner_id,type:n[o].type,storage_cd:n[o].storage_cd,resize:n[o].resize_format_string,owner_name:n[o].owner_name};e-1===o&&(s.callback=i.bind(this,t.Data),s.errCallback=r);u.push(s)});ecmodule.common.fileStorage.commitFileNewV2(u)}else i&&i(t.Data)},error:function(n){r?r(n):ecount.alert(n.responseJSON.Error.Message)}})},setRowDataForFileInfo:function(n){var t;if($.isArray(n))for(t=0;t<n.length;t++)n[t].FILE_INFO={text:n[t].FILE_COUNT,PARAMFIELDS:["FILE_ID"],VALUEKEYFIELDS:["OWNER_ID","STORAGE_CD","ACCOUNT"]};else if(n&&n.result&&$.isArray(n.result.Data))for(t=0;t<n.result.Data.length;t++)n.result.Data[t].FILE_INFO={text:n.result.Data[t].FILE_COUNT,PARAMFIELDS:["FILE_ID"],VALUEKEYFIELDS:["OWNER_ID","STORAGE_CD","ACCOUNT"]};else typeof n=="object"&&(n.FILE_INFO={text:n.FILE_COUNT,PARAMFIELDS:["FILE_ID"],VALUEKEYFIELDS:["OWNER_ID","STORAGE_CD","ACCOUNT"]});return n},setFileInfoForWidget:function(n,t){var i=[];return $.isEmpty(n)||!$.isArray(n.FileInfoList)||$.isEmpty(n.FileInfoList)||n.FileInfoList.forEach(function(r){i.push({comCode:n.COM_CODE,fsOwnerKey:n.OWNER_ID,name:r.name,provider_seq:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.STORAGE_CD),PROVIDER_SEQ:ecmodule.common.fileStorage.convertStorageCdToProviderSeq(n.STORAGE_CD),account:n.ACCOUNT,ACCOUNT:n.ACCOUNT,file_id:r.file_id||r.id,id:r.file_id||r.id,size:parseInt(r.size),status:t,storage_cd:n.STORAGE_CD})}),i},convertStorageCdToProviderSeq:function(n){if(n==null)return"0";var t="0";switch(n){case"G":t="1";break;case"M":t="2";break;case"D":t="3";break;case"B":t="4";break;default:t="0"}return t},convertProviderSeqToStorageCd:function(n,t){if(n==undefined){if(t==undefined)return"";switch(t){case 0:return"I";case 1:return"O";case 2:return"E";default:return"I"}}switch(n.toString()){case"1":return"G";case"2":return"M";case"3":return"D";case"4":return"B";default:return t==0?"I":t==1?"O":t==2?"E":"I"}}});ecount.module("ecmodule.common.notification",{AccountSlipHashMap:new $.HashMap({"1001":"1101","1002":"1102","1008":"1103","1003":"1104","1005":"1105","2002":"1106","2001":"1107","2005":"1108","2006":"1109","2007":"1110","2003":"1111","2008":"1112","5001":"1113","6001":"1114","9001":"1115","4504":"1116","2015":"1117","2014":"1118","2013":"1119","9003":"1120","9805":"1121","9804":"1122","9806":"1123","4001":"1124","4501":"1125","2016":"1126","4020":"1127","9801":"1128","9807":"1129","9802":"1130","9803":"1131","9808":"1132","9809":"1133","9810":"1134","9811":"1135","4510":"1136","4010":"1137","3501":"1138","1004":"1139","3601":"1140","3001":"1141","2004":"1142","9812":"1143"}),keyColumnPrefixList:new $.HashMap({"4110":"EST","4212":"REQ","4120":"REQ","4140":"OUT","4210":"PUR","4220":"ORD","4040":"PLAN","4160":"SLIP","4131":"QC_PREV","4137":"QC","4138":"M_FC","4139":"OUT"}),EapprovalNotiHashMap:new $.HashMap({"210N":"N","210CN":"CN","210CM":"CM","210CD":"CD","210CC":"CC","210A":"A","210AX":"AX","210BA":"BA","210AA":"AA","210R":"R","210RX":"RX","210CT":"CT"}),getMessengerSocketUI:function(){var n=ecount.getParentFrame(window),t;if(ecount&&ecount.ens&&ecount.ens.showUI)return ecount.ens;if(n&&n.ecount&&n.ecount.ens&&n.ecount.ens.showUI||n&&ecount.getParentFrame(n)&&(n=ecount.getParentFrame(n),n.ecount&&n.ecount.ens&&n.ecount.ens.showUI))return n.ecount.ens;if(opener){t=opener;do if(t.ecount&&t.ecount.ens&&t.ecount.ens.showUI)return t.ecount.ens;while(t=t.opener)}if(n&&n.messenger&&n.messenger.pEns&&n.messenger.pEns.showUI)return n.messenger.pEns;try{if(messenger&&messenger.pEns&&messenger.pEns.showUI)return messenger.pEns}catch(i){console.log(i)}},getMessengerSocket:function(){var n=ecount.getParentFrame(window);if(ecount&&ecount.ens)return ecount.ens;if(n&&n.ecount&&n.ecount.ens||n&&ecount.getParentFrame(n)&&(n=ecount.getParentFrame(n),n.ecount&&n.ecount.ens))return n.ecount.ens;if(opener&&opener.ecount&&opener.ecount.ens)return opener.ecount.ens;if(n&&n.messenger&&n.messenger.pEns)return n.messenger.pEns;try{if(messenger&&messenger.pEns)return messenger.pEns}catch(t){console.log(t)}},sendPacket:function(n,t){function r(n,t){switch(n){case"QRS":i.socket.send(i.commands.QRS(t.ROOM_SEQ,t.ROOM_NAME,t.MANAGER_ID,t.LOCK_YN,t.INVITE_YN,t.STORE_YN));break;case"QRD":i.socket.send(i.commands.QRD(t));break;case"QFMA":i.socket.send(i.commands.QFMA(t[0],t[1]));break;case"QFMD":i.socket.send(i.commands.QFMD(t[0],t[1]));break;case"QNMA":i.socket.send(i.commands.QNMA(t[0],t[1]));break;case"QNMD":i.socket.send(i.commands.QNMD(t[0],t[1]));break;case"QLS":i.socket.send(i.commands.QLS(t[0],t[1]));break;case"QRBC":i.socket.send(i.commands.QRBC(t[0],t[1]));break;case"QRNG":i.socket.send(i.commands.QRNG(t));break;case"QRMG":i.socket.send(i.commands.QRMG(t[0],t[1],t[2],t[3],t[4],t[5]));break;case"onDetailPageEventBind":i.trigger("onDetailPageEventBind")}}var i=this.getMessengerSocket();i?r(n,t):console.log("messenger connect error")},updateRoomInfo:function(n){this.sendPacket("QRS",n)},deleteRoom:function(n){this.sendPacket("QRD",n)},addFavMsg:function(n,t){var i=[n,t];this.sendPacket("QFMA",i)},delFavMsg:function(n,t){var i=[n,t];this.sendPacket("QFMD",i)},linkMessage:function(n,t){var i=[n,t];this.sendPacket("QLS",i)},changeDefaultBoard:function(n,t){var i=[n,t];this.sendPacket("QRBC",i)},normalizeRoom:function(n){this.sendPacket("QRNG",n)},roomMakeForGroup:function(n,t,i,r,u,f){var e=[n,t,i,r,u,f];this.sendPacket("QRMG",e)},addUser:function(n,t){var i=this;n.IsUse=!0;ecount.common.api({url:"/Common/Infra/MessengerUserChange",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},delUser:function(n,t){var i=this;n.IsUse=!1;ecount.common.api({url:"/Common/Infra/MessengerUserChange",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},changeCompanyName:function(n,t){var i=this;ecount.common.api({url:"/Common/Infra/MessengerCompanyChange",data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},dataDelete:function(n,t,i){if(n.count()!=0){var r={RoomSeqListInfo:n};ecount.common.api({url:"/Common/Infra/DeleteMessengerData",ecPageID:i,data:r,success:function(){$.isFunction(t)&&t()}})}},siteChange:function(n,t){ecount.common.api({url:"/Common/Infra/MessengerSiteChange",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){$.isFunction(t)&&t()},success:function(){$.isFunction(t)&&t()}})},getAcccountSlipCd:function(n,t){return this.AccountSlipHashMap.get(n+t)},notiSlip:function(n,t){function i(n){n&&n();return}var r=this;n||i(t);n.NotiActionType||i(t);n.IRoomLinkedSlip||i(t);n.IRoomLinkedSlip.length==0&&i(t);n.IRoomLinkedSlip[0]!=undefined&&(n.IRoomLinkedSlip[0].IO_NO&&n.IRoomLinkedSlip[0].IO_NO!=0||i(t));ecount.common.api({url:"/Common/Infra/NotiMessengerSlip",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){t&&t()},success:function(n){n.Data&&r.sendPacket("onDetailPageEventBind");t&&t()}})},notiBoard:function(n,t){function i(n){n&&n();return}var r=this;n||i(t);n.NotiActionType||i(t);n.IRoomLinkedBoard||i(t);n.IRoomLinkedBoard.length==0&&i(t);n.IRoomLinkedBoard[0].BOARD_NUM&&n.IRoomLinkedBoard[0].BOARD_NUM!=0||i(t);ecount.common.api({url:"/Groupware/Common/NotiMessengerBoard",data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},notiApproval:function(n,t){function i(n){n&&n();return}var r=this;n||i(t);n.NotiActionType||i(t);n.IRoomLinkedEdms||i(t);n.IRoomLinkedEdms.length==0&&i(t);ecount.common.api({url:"/Groupware/EApproval/NotiMessengerEdms",ecPageID:n._ecPageID,async:!1,data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},notiVote:function(n,t){function i(n){n&&n();return}var r=this;n||i(t);n.NotiActionType||i(t);n.IRoomLinkedVote||i(t);n.IRoomLinkedVote.length==0&&i(t);ecount.common.api({url:"/Groupware/Common/NotiMessengerVote",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},notiSurvey:function(n,t){function i(n){n&&n();return}n||i(t);n.NotiActionType||i(t);n.IRoomLinkedSurvey||i(t);n.IRoomLinkedSurvey.length==0&&i(t);ecount.common.api({url:"/SVC/Groupware/Survey/NotiMessengerSurvey",ecPageID:n._ecPageID,data:Object.toJSON(n),error:function(){t&&t()},success:function(){t&&t()}})},notiECDrive:function(n,t){function i(n){n&&n();return}n||i(t);ecount.common.api({url:"/SVC/Groupware/ECDrive/NotiMessengerECDrive",ecPageID:n.ecPageID,data:{Request:{Data:n.messengerData}},error:function(){t&&t()},success:function(){t&&t()}})},updateBoardNotiToMessenger:function(n,t){var u,r,f=n.actionType||"",i=n.data||[];u="notiBoard";r={IRoomLinkedBoard:[],NotiActionType:n.actionType};i=$.isArray(i)?i:[i];i.forEach(function(t){$.isArray(n.roomSeq)&&n.roomSeq.length>0?n.roomSeq.forEach(function(n){r.IRoomLinkedBoard.push({ROOM_SEQ:n,BOARD_CD:t.BOARD_CD,BOARD_SEQ:t.BOARD_SEQ,BOARD_NUM:t.BOARD_NUM,TITLE:t.TITLE,Contents:t.Contents,BOARD_NAME:t.BOARD_NAME,MENU_TYPE:t.MENU_TYPE})}.bind(this)):r.IRoomLinkedBoard.push({ROOM_SEQ:n.roomSeq,BOARD_CD:t.BOARD_CD,BOARD_SEQ:t.BOARD_SEQ,BOARD_NUM:t.BOARD_NUM,TITLE:t.TITLE,Contents:t.Contents,BOARD_NAME:t.BOARD_NAME,MENU_TYPE:t.MENU_TYPE})}.bind(this));ecmodule.common.notification[u](r,t);n.roomSeq&&ecmodule.common.notification.changeDefaultBoard(n.roomSeq,i[0].BOARD_CD)},updateNotiToMessenger:function(n,t){var i=n.slipCd,r,c=n.actionType||"",u=n.data||[],f,e,o="",s="",h={IRoomLinkedSlip:[],NotiActionType:n.actionType,_ecPageID:n._ecPageID};u=$.isArray(u)?u:[u];u.forEach(function(t){if(i=t.SLIP_CD||i,r=i&&i.substring(0,2)=="11",f=i=="4410"||i=="4411"?"SLIP_DT":r?"TRX_DATE":"IO_DATE",e=i=="4410"||i=="4411"?"SLIP_SNO":r?"TRX_NO":"IO_NO",this.keyColumnPrefixList.has(i)){var u=this.keyColumnPrefixList.get(i.toString());f=u+"_DATE";e=u+"_NO"}(o=t[f]||t[f.ecClassize()]||t[f.ecCamelize()],s=t[e]||t[e.ecClassize()]||t[e.ecCamelize()],o)&&($.isArray(n.roomSeq)&&n.roomSeq.length>0?n.roomSeq.forEach(function(n){h.IRoomLinkedSlip.push({ROOM_SEQ:n,SLIP_CD:i,IO_DATE:o,IO_NO:s,SER_NO:r?null:t.SER_NO})}.bind(this)):h.IRoomLinkedSlip.push({ROOM_SEQ:n.roomSeq,SLIP_CD:i,IO_DATE:o,IO_NO:s,SER_NO:r?null:t.SER_NO}))}.bind(this));ecmodule.common.notification.notiSlip(h,t)},updateDateChNotiToMessenger:function(n,t){var i=this,u=n.oldData||{},f=n.newData||{},r={roomSeq:n.roomSeq,slipCd:n.slipCd,_ecPageID:n._ecPageID};i.updateNotiToMessenger($.extend({actionType:"D",data:u},r),function(){i.updateNotiToMessenger($.extend({actionType:"N",data:f},r),t)})},updateSaveAndConfirmNotiToMessenger:function(n,t){var i=this,r={roomSeq:n.roomSeq,slipCd:n.slipCd,_ecPageID:n._ecPageID};i.updateNotiToMessenger($.extend({actionType:"M",data:n.data},r),function(){i.updateNotiToMessenger($.extend({actionType:"P",data:n.data},r),t)})},updateEdmsNotiToMessenger:function(n,t){var r,u=n.actionType||"",i=n.data||[];r={IRoomLinkedEdms:[],NotiActionType:n.actionType,MessengerEcountBotNoti:n.ecountBotNoti,_ecPageID:n._ecPageID};i=$.isArray(i)?i:[i];i.forEach(function(t){$.isArray(n.roomSeq)&&n.roomSeq.length>0?n.roomSeq.forEach(function(n){r.IRoomLinkedEdms.push({ROOM_SEQ:n,EDMS_IDX:t.EDMS_IDX,TITLE:t.TITLE})}.bind(this)):r.IRoomLinkedEdms.push({ROOM_SEQ:n.roomSeq,EDMS_IDX:t.EDMS_IDX,TITLE:t.TITLE})}.bind(this));ecmodule.common.notification.notiApproval(r,t)},updateVoteNotiToMessenger:function(n,t){var r,u=n.actionType||"",i=n.data||[];r={IRoomLinkedVote:[],NotiActionType:n.actionType,_ecPageID:n._ecPageID};i=$.isArray(i)?i:[i];i.forEach(function(t){$.isArray(n.roomSeq)&&n.roomSeq.length>0?n.roomSeq.forEach(function(n){r.IRoomLinkedVote.push({ROOM_SEQ:n,VOTE_IDX:t.VOTE_IDX,TITLE:t.TITLE})}.bind(this)):r.IRoomLinkedVote.push({ROOM_SEQ:n.roomSeq,VOTE_IDX:t.VOTE_IDX,TITLE:t.TITLE})}.bind(this));ecmodule.common.notification.notiVote(r,t)},updatSurveyNotiToMessenger:function(n,t){var r,u=n.actionType||"",i=n.data||[];r={IRoomLinkedSurvey:[],NotiActionType:n.actionType,_ecPageID:n._ecPageID};i=$.isArray(i)?i:[i];i.forEach(function(t){$.isArray(n.roomSeq)&&n.roomSeq.length>0?n.roomSeq.forEach(function(n){r.IRoomLinkedSurvey.push({ROOM_SEQ:n,SHARE_TGT_SNO:t.SHARE_TGT_SNO,SHARE_TGT_CTT:t.SHARE_TGT_CTT})}.bind(this)):r.IRoomLinkedSurvey.push({ROOM_SEQ:n.roomSeq,SHARE_TGT_SNO:t.SHARE_TGT_SNO,SHARE_TGT_CTT:t.SHARE_TGT_CTT})}.bind(this));ecmodule.common.notification.notiSurvey(r,t)},makeChattingRoom:function(n,t){var i=this.getMessengerSocketUI();i?i.showUI("","",n,t):console.log("messenger connect error")}});window.ecount||(window.ecount={});window.ecmodule||(window.ecmodule={});(typeof window.ecmodule.common=="undefined"||window.ecmodule.common==null)&&(window.ecmodule.common={});ecmodule.common.eapproval={_ecountResource:ecount&&ecount.resource?ecount.resource:window.name!="__externalEcountIFrame"&&parent&&parent.ecount&&parent.ecount.resource?parent.ecount.resource:{}};ecmodule.common.eapproval={_ecountResource:ecount&&ecount.resource?ecount.resource:window.name!="__externalEcountIFrame"&&parent&&parent.ecount&&parent.ecount.resource?parent.ecount.resource:{},_gwerErrorToResource:{ERROR0000:ecmodule.common.eapproval._ecountResource.LBL12057,ERROR0001:ecmodule.common.eapproval._ecountResource.LBL12055,ERROR0002:ecmodule.common.eapproval._ecountResource.MSG04285,ERROR0003:ecmodule.common.eapproval._ecountResource.MSG05944,ERROR0004:ecmodule.common.eapproval._ecountResource.LBL09693,ERROR0005:ecmodule.common.eapproval._ecountResource.LBL12056,ERROR0006:ecmodule.common.eapproval._ecountResource.LBL20066,ERROR0008:ecmodule.common.eapproval._ecountResource.MSG10414,ERROR0009:ecmodule.common.eapproval._ecountResource.MSG10415,ERROR0010:ecmodule.common.eapproval._ecountResource.MSG10418,ERROR0011:ecmodule.common.eapproval._ecountResource.MSG10431,ERROR0012:ecmodule.common.eapproval._ecountResource.LBL01611,ERROR0013:ecmodule.common.eapproval._ecountResource.MSG05986,ERROR0014:ecmodule.common.eapproval._ecountResource.MSG05970},_cn:function(n){return $&&$.isNull?$.isNull(n):n===null||typeof n=="undefined"},_cne:function(n){return $&&$.isEmpty?$.isEmpty(n):this._cn(n)||n==""},_isnew:null,_isNF:function(){return this._cn(this._isnew)&&(this._isnew=window.widget?!0:!1),this._isnew},_buildFullSessionUrl:function(n){var r,u,t;if(!this._cn(ecount)&&!this._cn(ecount.common)&&!this._cn(ecount.common.buildSessionUrl))return ecount.common.buildSessionUrl(n);r=location.search.match(/(ec_req_sid=[^&]*)/g);u=location.search.match(/(SESSION_ID=[^&]*)/g);this._cn(r)&&(r=[]);this._cn(u)&&(u=[]);var i={},e="",f=n.split("?");return i.path=f[0],i.query="",f.length>1&&(i.query=f[1]),t=i.query,r.length>0&&(e=r[0]),i.query.indexOf("ec_req_sid")!=-1||(t!=""&&(t+="&"),t+=e),t!=""&&(t="?"+t),i.path+t},_sendMessage:function(n,t){if(this._isNF()){if(n.popupType=="layer"){n.sendMessage(n,t);return}this._cn(t.callback)||t.callback()}this._cn(opener)||(this._cn(opener.sendMessageFromNF)||opener.sendMessageFormNF(t),this._cn(t.callback)||t.callback())},_api2:function(n){var t=function(t){t.Success=!0;n.callback(t,n.data&&n.data.REQ_APP_TYPE)}.bind(this),i=function(t,i,r){n.callback({Data:null,Success:!1,Status:i,Error:[{type:"_apierror",msg:r}]})}.bind(this),r={ecPageID:n.ecPageID,url:n.url,data:Object.toJSON(n.data),success:t,error:i};ecount.common.api(r)},_api:function(n){var t=function(t){t.Success=!0;n.callback(t,n.data&&n.data.REQ_APP_TYPE)}.bind(this),i=function(t,i,r){n.callback({Data:null,Success:!1,Status:i,Error:[{type:"_apierror",msg:r}]})}.bind(this),r;if(this._isNF()){r={ecPageID:n.ecPageID,url:n.url,data:Object.toJSON(n.data),success:t,error:i};ecount.common.api(r);return}$.ajax({url:this._buildFullSessionUrl("/ecapi/"+n.url),method:"POST",type:"post",data:this._cn(n.data)?"":JSON.stringify(n.data),cache:!1,contentType:"application/json; charset=UTF-8",dataType:"json",success:t,error:i})},_openWindow:function(n,t){var r=t.url,i,u;if(this._isNF()&&!this._cn(n)&&r.indexOf(".aspx")==-1){this._cn(t.additional)||t.additional!=!0||this._cn(t.popupID)||delete t.popupID;n.openWindow(t);return}if(!this._cn(t.param)){i="";for(u in t.param)i!=""&&(i+="&"),i+=u+"="+encodeURIComponent(t.param[u]);this._cn(n)||(i!=""&&(i+="&"),i+="parentPageID="+(n.popupID||n.pageID),i!=""&&(i+="&"),i+="__ecPageID="+n.ecPageID);i!=""&&(r=r.indexOf("?")!=-1?r+"&"+i:r+"?"+i)}r=this._buildFullSessionUrl(r);window.open(r,"_gwerO_"+this._cn(t.fpopupID)?"":t.fpopupID,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no"+(!this._cn(t.param)&&!this._cn(t.param.width)?",width="+t.param.width+"px":"")+(!this._cn(t.param)&&!this._cn(t.param.height)?",height="+t.param.height+"px":""))},_showErrorPopup:function(n,t,i,r){var o,u,h,c,d,g;this._cn(r)&&(r="N");var l="",y="",p=[],nt={Request:{ErrorList:[],isShowMenuPath:"Y",FromProgramId:"E070103"}};if(t.ERRORINDEX.length==0){this._cn(i)&&i("OK");return}for(o=0;o<t.ERRORINDEX.length;o++){var w=t.ERRORINDEX[o],f=t.RESULT[w],b=f.ERROR,a=t.ERROR_SLIP[w],v={IO_DATE:f.DATE+"-"+f.NO,MESSAGE:[]};if(b!=""){var e=b.split(ecount.delimiter),s=f.ERP_FROM_SLIP_NM,k=[];for(u=0;u<e.length;u++)h=null,c={Key:[f.DATE+"-"+f.NO],Errors:[]},$.isNull(a)||$.isEmpty(a)||(h=a[e[u]]),$.isNull(h)?(v.MESSAGE.push(this._gwerErrorToResource[e[u]]),c.Errors.push({Name:s,Code:null,Message:this._gwerErrorToResource[e[u]],Param:null})):h.forEach(function(n){v.MESSAGE.push(String.format(this._gwerErrorToResource[e[u]],n,s));c.Errors.push({Name:s,Code:null,Message:String.format(this._gwerErrorToResource[e[u]],n,s),Param:null})}.bind(this)),k.push(c);p.push(v);nt.Request.ErrorList.push(k)}}r=="Y"?(l=ecmodule.common.eapproval._ecountResource.MSG06854,y=ecmodule.common.eapproval._ecountResource.MSG06855):l=ecmodule.common.eapproval._ecountResource.MSG06856;d={parentData:p,titleDate:ecmodule.common.eapproval._ecountResource.LBL02502,msgTopWarning:l,msgBottomWarning:y,titleMsg:ecmodule.common.eapproval._ecountResource.LBL09629,confirmFlag:r,callback:i};g={width:600,height:500,popupType:!1,additional:!1};this._onNoticeCommonOpen(n,g,d)},_showErrorPopup2:function(n,t,i,r,u){var f,v,s,y,p;this._cn(u)&&(u="N");var e="",h="",c=[];if(t.ERRORINDEX.length==0){this._cn(r)&&r("OK");return}for(f=0;f<t.ERRORINDEX.length;f++){var o=t.ERRORINDEX[f],w=t.RESULT[o],l=w.ERROR,a={IO_DATE:i.Key[o],MESSAGE:[]};if(l!=""){for(v=l.split(ecount.delimiter),s=0;s<v.length;s++)a.MESSAGE.push(t.RESULT[o].RESX_CD);c.push(a)}}u=="Y"?(e=ecmodule.common.eapproval._ecountResource.MSG06854,h=ecmodule.common.eapproval._ecountResource.MSG01541):e=ecmodule.common.eapproval._ecountResource.MSG07518;y={parentData:c,titleDate:ecmodule.common.eapproval._ecountResource.LBL02502,msgTopWarning:e,msgBottomWarning:h,titleMsg:ecmodule.common.eapproval._ecountResource.LBL09629,confirmFlag:u,callback:r};p={width:600,height:500,popupType:!1,additional:!1};this._onNoticeCommonOpen(n,p,y)},_onNoticeCommonOpen:function(n,t,i){var r,o,u,f,e;if(this._cn(n)||this._cn(n.openWindow)){for(r="",this._cne(i.msgTopWarning)||(r+=i.msgTopWarning,r+="\n\n"),o=0;o<i.parentData.length;o++){for(u="",f=i.parentData[o],e=0;e<f.MESSAGE.length;e++)this._cne(f.MESSAGE[e])||(u!=""&&(u+=","),u+=f.MESSAGE[e]);u!=""&&(r+=f.IO_DATE,r+=":",r+=u,r+="\n")}this._cne(i.msgBottomWarning)||(r+="\n\n",r+=i.msgBottomWarning);i.confirmFlag=="Y"?window.confirm(r)?i.callback("OK"):i.callback("CANCEL"):(window.alert(r),i.callback("CANCEL"))}else n.openWindow({url:"/ECERP/Popup.Common/NoticeCommonCustom",param:t,pageOption:i})},_onEndApi:function(n,t,i){var u,f,r;this._cn(t.Data)||(this._cn(t.Data.Errors)?this._cn(i.callback)||i.callback(t):(u=ecount.resource.LBL03686,f=ecount.resource.LBL09240,n=="deleteGWERDoc"&&(r=$.isArray(t.Data.Errors)?t.Data.Errors.first():t.Data.Errors,r&&r.Code=="ERR00002"&&(u=r.Name,f=r.Param.SubMessage)),ecount.alert(String.format(ecount.resource.MSG07964,u,f))))},_deleteError:function(n,t){for(var r,f=0;f<n.length;f++){var i=n[f],s=i.DATE.substr(0,4)+"/"+i.DATE.substr(4,2)+"/"+i.DATE.substr(6,2),e=s+"-"+i.NO,o=ecount.infra.getECDateFormat("DATE10",!1,s.toDatetime()).trim();o=o+"-"+i.NO;var u={MESSAGE:[]},h=common.refLink.erp.getMappingInfo(),c=h[i.TYPE].label;if(u.IO_DATE="["+ecmodule.common.eapproval._ecountResource[c]+"]"+o,i.Error.Errors==undefined)for(r=0;r<i.Error.length;r++)i.Error[r].IsValiedType1==!1&&u.MESSAGE.push(ecmodule.common.eapproval._ecountResource.LBL09693),i.Error[r].IsValiedType2==!1&&u.MESSAGE.push(ecmodule.common.eapproval._ecountResource.MSG05991),i.Error[r].IsValiedType3==!1&&u.MESSAGE.push(ecmodule.common.eapproval._ecountResource.MSG05944);else if(typeof i.Error.Errors[e]!="undefined")for(r=0;r<i.Error.Errors[e].length;r++)u.MESSAGE.push(i.Error.Errors[e][r].Message);u.MESSAGE.length>0&&t.push(u)}},_openErrorPopup2:function(n,t,i,r,u,f){var e={parentData:r,titleDate:ecount.resource.LBL02502,msgTopWarning:t,msgBottomWarning:"",titleMsg:eecount.resource.LBL09629,confirmFlag:u,callback:f.callback};n.openWindow({url:"/ECERP/Popup.Common/NoticeCommonCustom",param:{width:600,height:500,popupType:!1,additional:!1},pageOption:e})},_openErrorPopup:function(n,t,i,r,u,f){var e={parentData:r,titleDate:ecmodule.common.eapproval._ecountResource.LBL02502,msgTopWarning:t,msgBottomWarning:"",titleMsg:ecmodule.common.eapproval._ecountResource.LBL09629,confirmFlag:u,callback:f.callback};this._onNoticeCommonOpen(n,{width:600,height:500,popupType:!1,additional:!1},e)},makeNotification:function(n,t,i){var e,l,a,v,h,f,c,p,u,w,b,s,r;i=this._cn(i)?{DATA:{}}:i;e=$.extend(i,t);l="|";for(a in n){v=n[a];for(h in v.messages){var y=v.messages[h],o={SMS_TXT:"",EMAIL_TXT:"",MEMO_TXT:""},s=h;for(this._cn(e.DATA)&&(e.DATA={}),(h in e.DATA)?y.target!==e.DATA[h].TARGET?(o.MCODE=h,o.ACODE=a,o.TARGET=y.target):o=null:(o.MCODE=h,o._ACODE=a,o.TARGET=y.target),this._cn(o)||(e.DATA[s]=o),l.indexOf("|"+s+"|")==-1&&(l+=s+"|"),f=e.DATA[s],this._cn(f.RECEIVERS)&&(f.RECEIVERS=[]),this._cn(f.TARGET)&&(f.TARGET=[]),c={},u=0;u<f.RECEIVERS.length;u++)r=f.RECEIVERS[u],c[r.USER_ID]=u;for(u=0;u<f.TARGET.length;u++)r=f.TARGET[u],r.ID in c||f.RECEIVERS.push({USER_ID:r.ID,UNAME:r.NAME,CHK_YN:t.EMAIL_CHK_YN=="Y"||t.SMS_CHK_YN=="Y"||t.MEMO_CHK_YN=="Y"?"Y":"N",EMAIL_CHK_YN:t.EMAIL_CHK_YN,HPNO_CHK_YN:t.SMS_CHK_YN,MEMO_CHK_YN:t.MEMO_CHK_YN});for(c={},u=0;u<f.TARGET.length;u++)r=f.TARGET[u],c[r.ID]=u;for(p=[],u=0;u<f.RECEIVERS.length;u++)r=f.RECEIVERS[u],r.USER_ID in c&&p.push(r);f.RECEIVERS=p}}w={N:ecount.resource.LBL11726,M:ecount.resource.LBL01732,D:ecount.resource.LBL06157,C:ecount.resource.LBL01042,CX:ecount.resource.BTN00672,"210N":ecount.resource.LBL11726,"210A":ecount.resource.LBL12238,"210AX":ecount.resource.LBL05628,"210CT":ecount.resource.LBL03617,"210R":ecount.resource.LBL01241,"210RX":ecount.resource.LBL06953,"210BA":ecount.resource.LBL05626,"210AA":ecount.resource.LBL03684,"210CC":ecount.resource.LBL03615,"210CN":ecount.resource.LBL05636,"210CM":ecount.resource.LBL12236,"210RB":ecount.resource.BTN00991,"210RA":ecount.resource.BTN00992,"210A2":ecount.resource.LBL19235,"210CB":ecount.resource.LBL19236,"210CW":ecount.resource.LBL19237,"210S":ecount.resource.LBL19397};b={"0":ecount.resource.BTN00102,"1":ecount.resource.BTN00103,"7":ecount.resource.BTN00104,"8":ecount.resource.BTN00593,"3":ecount.resource.BTN00588,"31":ecount.resource.BTN00594,"11":ecount.resource.BTN00106};for(s in e.DATA)l.indexOf("|"+s+"|")==-1?delete e.DATA[s]:(r=e.DATA[s],r.LABEL=w[r.MCODE],delete r.TARGET,this._cn(r.ACODE)||delete r.ACODE,this._cn(r._ACODE)||delete r._ACODE,delete r.MCODE);return e},setActionMessage:function(n,t,i,r,u,f,e){var ht,k,lt,g,st,it,l,p,s,o,rt,h,a,at,c;if(this._cn(f))return{};f=parseInt(f,10);ht=f==-1?e:n.ApprovalDetails[f].APP_ID;f=f==-1?0:f;var nt=[],vt=[],ot=[],tt=n.ApprovalDetails[f],ut={},v=ecount.delimiter,ft=v;if(!this._cn(t))for(k=v,s=0;s<t.length;s++)o=t[s],o.value!=ht&&(k.indexOf(v+o.value+v)==-1&&(k+=o.value,k+=v,vt.push({ID:o.value,NAME:o.label})),ft.indexOf(v+o.value+v)==-1&&(ft+=o.value,ft+=v,ot.push({ID:o.value,NAME:o.label})));if(!this._cn(n))for(k=v,s=0;s<n.ApprovalDetails.length;s++)o=n.ApprovalDetails[s],o.APP_ID!=ht&&(k.indexOf(v+o.APP_ID+v)==-1&&(k+=o.APP_ID,k+=v,nt.push({ID:o.APP_ID,NAME:o.APP_ID_NAME})),ft.indexOf(v+o.APP_ID+v)==-1&&(ft+=o.APP_ID,ft+=v,ot.push({ID:o.APP_ID,NAME:o.APP_ID_NAME})));var d=null,w=null,ct=null,yt=null;for(s=n.ApprovalDetails.length-1;s>=0;s--)o=n.ApprovalDetails[s],g={IDX:s,LINE:o.APP_TYPE},this._cn(o.APP_DT)||this._cn(d)&&(d=g),o.APP_TYPE=="2"&&(yt=o);if(this._cn(d))w={IDX:0,LINE:n.ApprovalDetails[0].APP_TYPE};else{for(lt=n.ApprovalDetails[d.IDX],s=d.IDX-1;s>=0;s--)if(o=n.ApprovalDetails[s],g={IDX:s,LINE:o.APP_TYPE},!this._cn(o.APP_DT)){ct=g;break}for(s=d.IDX+1;s<n.ApprovalDetails.length;s++)if(o=n.ApprovalDetails[s],g={IDX:s,LINE:o.APP_TYPE},this._cn(o.APP_DT))if(lt.APP_STATUS=="3"){if(g.LINE!=lt.APP_TYPE){w=g;break}}else{w=g;break}}if(st=function(t){t.next==null?n.ApprovalDetails.length>1?(t.result_app_type="9",t.result_line_compelete="Y"):t.result_app_type="1":tt.APP_TYPE!=t.next.LINE&&(t.result_line_compelete="Y")}.bind(this),it=function(t,i){var u,e,f,o,r;for(i=this._cn(i)?"":i,u={},r=0;r<t.length;r++)e=t[r],this._cn(e)||(f=n.ApprovalDetails[e.IDX],i!=f.APP_ID&&(u[f.APP_ID]=f.APP_ID_NAME));o=[];for(r in u)o.push({ID:r,NAME:u[r]});return o}.bind(this),!this._cn(w)){if(!this._cn(w.IDX)&&f==w.IDX){for(l={next:null,target:[],result_app_type:null,result_line_compelete:null},p=f+1,p<n.ApprovalDetails.length&&(o=n.ApprovalDetails[p],l.next={IDX:p,LINE:o.APP_TYPE}),st(l),ut["1"]=l,l={next:null,target:[],result_app_type:null,result_line_compelete:null},s=f+1;s<n.ApprovalDetails.length;s++)if(o=n.ApprovalDetails[s],this._cn(o.APP_DT))if(rt={IDX:s,LINE:o.APP_TYPE},o.APP_TYPE==tt.APP_TYPE)l.target.push(rt);else{l.next=rt;break}st(l);ut["7"]=l}if(i=="Y"&&this._cn(tt.APP_DT)&&tt.APP_TYPE==w.LINE&&f>w.IDX){for(l={next:null,target:[],result_app_type:null,result_line_compelete:null},p=f+1,p<n.ApprovalDetails.length&&(o=n.ApprovalDetails[p],l.next={IDX:p,LINE:o.APP_TYPE}),s=w.IDX;s<n.ApprovalDetails.length&&s<f;s++)o=n.ApprovalDetails[s],this._cn(o.APP_DT)&&(rt={IDX:s,LINE:o.APP_TYPE},l.target.push(rt));st(l);ut["8"]=l}if(!this._cn(d)&&f==d.IDX){if(l={next:null,target:[],result_app_type:null,result_line_compelete:null},this._cn(ct)?l.result_app_type="0":(p=ct.IDX+1,p<n.ApprovalDetails.length&&(o=n.ApprovalDetails[p],l.next={IDX:p,LINE:o.APP_TYPE})),!this._cn(l.next))for(s=l.next.IDX;s<=w.IDX;s++)o=n.ApprovalDetails[s],rt={IDX:s,LINE:o.APP_TYPE},l.target.push(rt);ut["11"]=l}}h={COMPLETE:"210CT",CC:"210CC",REG:"210N",APP:"210A",APPCAN:"210AX",CMTREG:"210CN",CMTUPT:"210CM",RJT:"210R",RJTCAN:"210RX",PREVAPP:"210BA",POSTAPP:"210AA"};a={};a[h.COMPLETE]={target:nt};a[h.CC]={target:vt};a[h.REG]={target:nt};a[h.CMTREG]={target:r!="Y"?nt:ot};a[h.CMTUPT]={target:r!="Y"?nt:ot};a[h.RJT]={target:nt};a[h.RJTCAN]={target:nt};var y=function(n,t,i){this._cn(i)||i.length==0||(n[t]=i)}.bind(this),et=function(n,t){var i=ut[t];switch(t){case"1":case"7":case"8":if(this._cn(i))break;t=="7"?y(n.messages,h.PREVAPP,{target:it(i.target,tt.APP_ID)}):t=="8"&&y(n.messages,h.POSTAPP,{target:it(i.target,tt.APP_ID)});i.result_app_type=="9"?et(n,"9"):this._cn(i.next)||y(n.messages,h.APP+(t=="7"?"_7":""),{target:it([i.next])});break;case"11":if(this._cn(i))break;y(n.messages,h.APPCAN,{target:it(i.target,tt.APP_ID)});this._cn(i.next)||i.next.IDX==f||y(n.messages,h.APP,{target:it([i.next])});break;case"9":y(n.messages,h.COMPLETE,a[h.COMPLETE]);r!="Y"&&y(n.messages,h.CC,a[h.CC])}}.bind(this),b={};return u.indexOf("|0|")!=-1&&(c={messages:{}},at=ut["1"],i=="Y"||i=="N"&&this._cn(at.next)?y(c.messages,h.REG,a[h.REG]):y(c.messages,h.REG,{target:it([at.next])}),r=="Y"&&y(c.messages,h.CC,a[h.CC]),et(c,"1"),b["0"]=c),u.indexOf("|1|")!=-1&&(c={messages:{}},et(c,"1"),b["1"]=c),u.indexOf("|7|")!=-1&&(c={messages:{}},et(c,"7"),b["7"]=c),u.indexOf("|8|")!=-1&&(c={messages:{}},et(c,"8"),b["8"]=c),u.indexOf("|11|")!=-1&&(c={messages:{}},et(c,"11"),b["11"]=c),u.indexOf("|3|")!=-1&&(c={messages:{}},y(c.messages,h.RJT,a[h.RJT]),b["3"]=c),u.indexOf("|31|")!=-1&&(c={messages:{}},y(c.messages,h.RJTCAN,a[h.RJTCAN]),b["31"]=c),u.indexOf("|CMTREG|")!=-1&&(c={messages:{}},y(c.messages,h.CMTREG,a[h.CMTREG]),b.CMTREG=c),u.indexOf("|CMTUPT|")!=-1&&(c={messages:{}},y(c.messages,h.CMTUPT,a[h.CMTUPT]),b.CMTUPT=c),b},checkErpSlip:function(n,t,i,r,u){u=this._cn(u)?!1:u;var f={data:{TARGET:t},callback:function(t){var f=[],h,c,o,a;if(t.Success&&t.Data.ResultData&&(h=t.Data.ResultData,c=[],f=h.ERRORINDEX,!this._cn(r))){for(o=0;o<f.length;o++){var l=h.RESULT[f[o]],v=l.ERROR,s="",e="";for(a in this._gwerErrorToResource)e=a,v.indexOf(e)!=-1&&(r(e,l)&&(e=""),e!=""&&(s!=""&&(s+=ecount.delimiter),s+=e));s!=""&&(l.ERROR=s,c.push(f[o]))}h.ERRORINDEX=c;f=c}if(f.length>0){t.Data.ResultData.RESULT.length==t.Data.ResultData.ERRORINDEX.length&&(u=!1);ecmodule.common.eapproval._showErrorPopup(n,t.Data.ResultData,function(n,r){if(this._cn(r)||r(),n=="OK"){i(!0,t);return}i(!1,t)}.bind(this),u?"Y":"N");return}i(!0,t)}.bind(this)},e={url:"/groupware/eapproval/CheckErpSlip",callback:function(n){this._onEndApi("checkErpSlip",n,f)}.bind(this),data:f.data};this._api(e)},checkErpSlip2:function(n,t,i,r,u){u=this._cn(u)?!1:u;var f={data:{TARGET:t},callback:function(t){var f=[],h,c,o,a;if(t.Success&&t.Data.ResultData&&(h=t.Data.ResultData,c=[],f=h.ERRORINDEX,r&&r)){for(o=0;o<f.length;o++){var l=h.RESULT[f[o]],v=l.ERROR,s="",e="";for(a in this._gwerErrorToResource)e=a,v.indexOf(e)!=-1&&(r(e,l)&&(e=""),e!=""&&(s!=""&&(s+=ecount.delimiter),s+=e));s!=""&&(l.ERROR=s,c.push(f[o]))}h.ERRORINDEX=c;f=c}if(f.length>0){t.Data.ResultData.RESULT.length==t.Data.ResultData.ERRORINDEX.length&&(u=!1);ecmodule.common.eapproval._showErrorPopup(n,t.Data.ResultData,function(n,r){if(this._cn(r)||r(),n=="OK"){i(!0,t);return}i(!1,t)}.bind(this),u?"Y":"N");return}i(!0,t)}.bind(this)},e={ecPageID:n.ecPageID,url:"/svc/groupware/eapproval/CheckErpSlip",callback:function(n){this._onEndApi("checkErpSlip",n,f)}.bind(this),data:{Request:{Data:f.data}}};this._api(e)},checkGWERDoc:function(n){var t=$.extend({url:"/groupware/eapproval/CheckGWERDoc",callback:function(t){this._onEndApi("checkGWERDoc",t,n)}.bind(this)},n);this._api(t)},deleteGWERDoc:function(n,t,i,r){r=this._cn(r)?!0:!1;var u=function(r){var e;if(r==!0){var u=i.callback,f=u;(this._cn(i.MODE)||i.MODE!="SILENT")&&(f=function(t){for(var e,o,f,r=[],i=0;i<t.Data.length;i++)for(e in t.Data[i])o=e,f=t.Data[i][o],typeof f!="string"&&this._deleteError(f,r);r.length>0?this._openErrorPopup(n,ecmodule.common.eapproval._ecountResource.MSG06017,"",r,"N",{callback:function(n,i){i();u&&u(t)}.bind(this)}):(t.ERPCOMPLETE="Y",u&&u(t))}.bind(this));i.callback=f;e={url:"/groupware/eapproval/DeleteDraft",callback:function(n){this._onEndApi("deleteGWERDoc",n,i)}.bind(this),data:$.extend(i,{EDMS_IDX_LIST:t})};this._api(e)}else i.callback({Data:null,Success:!1,Status:"200",Error:[{type:"userCancel",msg:""}]})}.bind(this);r?this._cn(ecount)||this._cn(ecount.confirm)?confirm(ecmodule.common.eapproval._ecountResource.MSG07277)?u(!0):u(!1):ecount.confirm(ecmodule.common.eapproval._ecountResource.MSG07277,u):u(!0)},deleteGWERDoc2:function(n,t,i,r){r=$.isNull(r)?!0:!1;var f=i&&i.Permit?i.Permit:null,u=[],e=function(r,e,o){var v=this,c,a,s,h,l,y;if(r){for(c=!1,a=e.Data.ResultData.RESULT,s=0;s<a.length;s++)h=a[s],t[s].EDMS_IDX==h.EDMS_IDX&&t[s].Version==h.Version&&(h.ERROR==""?(c=!0,l={EDMS_IDX:h.EDMS_IDX,Version:h.Version,ABOL_TF:t[s].ABOL_TF||0,APRV_LINE_SNO:t[s].APRV_LINE_SNO||0,POSN_NM:t[s].POSN_NM||""},u.push(l)):e.Data.ResultData.REMOVABLE&&(c=!0,l={EDMS_IDX:h.EDMS_IDX,Version:h.Version,ABOL_TF:t[s].ABOL_TF||0,APRV_LINE_SNO:t[s].APRV_LINE_SNO||0,POSN_NM:t[s].POSN_NM||""},u.push(l)));u.callback=i.callback;c?(y={ecPageID:n.ecPageID,url:"/SVC/Groupware/EApproval/DeleteDraft",callback:function(n){ecount.common.hideProgressbar(!0);v._onEndApi("deleteGWERDoc",n,u)},data:{Key:i.Key,Request:{Data:u,Permit:f,ErpSlipDeleteFlag:o?"Y":"N"}}},v._api2(y)):ecount.alert(String.format("{0}",ecount.resource.MSG05967))}else ecount.common.hideProgressbar(!0)}.bind(this),o=function(u,o,s,h,c){var l,a,v;if(o==!0){l=i.callback;a=l;($.isNull(i.MODE)||i.MODE!="SILENT")&&(a=function(t){var r=[],i,f,e,u;if(t.Data)for(i=0;i<t.Data.length;i++)for(f in t.Data[i])e=f,u=t.Data[i][e],typeof u!="string"&&this._deleteError(u,r);r.length>0?this._openErrorPopup2(n,ecmodule.common.eapproval._ecountResource.MSG06017,"",r,"N",{callback:function(n,i){i();l&&l(t)}.bind(this)}):(t.ERPCOMPLETE="Y",l&&l(t))}.bind(this));i.callback=a;v=[];$(t).each(function(n,t){v.push({Data:{EDMS_IDX:t.EDMS_IDX,Version:t.Version,ErpSlipDeleteFlag:c?"Y":"N",Permit:f},Permit:f})}.bind(this));var p={Data:v},y={data:p,callback:function(t){var u=[],f;if(t.Success&&t.Data.ResultData&&(f=t.Data.ResultData,u=f.ERRORINDEX),!$.isNull(u)&&u.length>0){t.Data.ResultData.RESULT.length==t.Data.ResultData.ERRORINDEX.length&&(r=!1);ecmodule.common.eapproval._showErrorPopup2(n,t.Data.ResultData,i,function(n,i){if(this._cn(i)||i(),n=="OK"){e(!0,t,c);return}e(!1,t,c)}.bind(this),r?"Y":"N");return}e(!0,t,c)}.bind(this)},w={ecPageID:n.ecPageID,url:"/SVC/Groupware/EApproval/DeleteEnableCheck",callback:function(n){this._onEndApi("DeleteEnableCheck",n,y)}.bind(this),data:y.data};this._api(w)}else i.callback({Data:null,Success:!1,Status:"200",Error:[{type:"userCancel",msg:""}]})}.bind(this);if(r){var s=new ecount.errorMessage({contents:this.contents}),h=ecount.resource.MSG10488,c=ecount.resource.MSG10487;t[0].ABOL_TF==1&&(h=ecount.resource.MSG10810,c=ecount.resource.MSG10833);s.addConfirm({message:i.hasRefErp?h:c,checkbox:i.hasRefErp?["checkbox",ecount.resource.LBL20477]:null,callback:o,addParam:{width:i.hasRefErp?450:350}});s.show()}else o("",!0)},convertOF2NF:function(n,t,i,r){var u=t.FS_I_OWNER_KEY,o;t.FROM_EDMS_IDX&&(n=t.FROM_EDMS_IDX,u=t.FROM_FS_I_OWNER_KEY);var f=[],s=ecmodule.common.fileStorage.getFileStorageHost(0),e={};f.push({func:function(i,r){$.ajax({url:this._buildFullSessionUrl("/ECMain/EGD/EGD016P_02_X.aspx?print_flag=Y&ex_show=Y&vgubun=Y&edms_idx="+n+"&page=0&page2=1&net_flag=Y&first=Y&doc_state=00&ISAJAX=Y&draft_flag=1&comment_flag=1&detail_flag=1"),success:function(u){var s=u,f,e,o,h;if(u.indexOf("<!--DRAFT::CONTENT0-->")==-1){r();return}if(f={},f.idx=s.match(/<!--DRAFT::CONTENT0--><textarea class="p_data">(.|\r|\n)*<\/textarea><!--DRAFT::CONTENT0::END-->/g)[0],f.idx=f.idx.replace(/<!--DRAFT::CONTENT0--><textarea class="p_data">/g,""),f.idx=f.idx.replace(/<\/textarea><!--DRAFT::CONTENT0::END-->/g,""),f.idx.indexOf(n)==-1){r();return}e=f.idx.split("::");f.idx=e[0];f.nameYN=e[1];f.singleLineYN=e[2];f.formser=e[3];f.erp=s.match(/<!--DRAFT::CONTENT1--><textarea class="p_data">(.|\r|\n)*<\/textarea><!--DRAFT::CONTENT1::END-->/g)[0];f.erp=f.erp.replace(/<!--DRAFT::CONTENT1--><textarea class="p_data">/g,"");f.erp=f.erp.replace(/<\/textarea><!--DRAFT::CONTENT1::END-->/g,"");f.content=s.match(/<!--DRAFT::CONTENT2--><textarea class="p_data">(.|\r|\n)*<\/textarea><!--DRAFT::CONTENT2::END-->/g)[0];f.content=f.content.replace(/<!--DRAFT::CONTENT2--><textarea class="p_data">/g,"");f.content=f.content.replace(/<\/textarea><!--DRAFT::CONTENT2::END-->/g,"");f.form=s.match(/<!--DRAFT::CONTENT3--><textarea class="p_data">(.|\r|\n)*<\/textarea><!--DRAFT::CONTENT3::END-->/g)[0];f.form=f.form.replace(/<!--DRAFT::CONTENT3--><textarea class="p_data">/g,"");f.form=f.form.replace(/<\/textarea><!--DRAFT::CONTENT3::END-->/g,"");f.replaceCode="";f.formser=="0"&&(o=0,ecmodule.common.eapproval._cn(f.nameYN)||f.nameYN!="1"||(o+=2),ecmodule.common.eapproval._cn(f.singleLineYN)||f.singleLineYN!="Y"||(o+=1),o>0&&(h="[ecount02:"+o+"]",f.form=f.form.replace(/\[ecount02\]/g,h),f.replaceCode=h));ecmodule.common.eapproval._cn(t.FORM_INFO)&&(t.FORM_INFO={FORM_TYPE:"GF020",FORM_SEQ:null});t.FORM_INFO.FORM_SEQ=f.formser;i(f)},error:function(){r()}})}.bind(this),success:function(n){if(e=n,!ecmodule.common.eapproval._cn(t.REF_ERP))for(var i=0;i<t.REF_ERP.length;i++)t.REF_ERP[i].RENDER="Y",t.REF_ERP[i].VERSION_NO="1"}.bind(this)});!0&&(f.push({func:function(n,i){var r="//"+s+"/SaveTempFiles/"+ecenum.tempfileLifetime.twoHour+"/"+encodeURIComponent([ecmodule.common.fileStorage.tempComCode,ecount.company.COM_CODE].join(ecount.delimiter))+"/"+u+"?_t="+(new Date).getTime();ecmodule.common.render.sendFile({url:r,files:[{type:"text/plain; charset=utf-8",fname:"content.html",name:"file",src:e.content},{type:"text/plain; charset=utf-8",fname:"form.html",name:"file2",src:e.form},{type:"text/plain; charset=utf-8",fname:"erp.html",name:"file3",src:e.erp},{type:"text/plain; charset=utf-8",fname:"info.json",name:"file4",src:Object.toJSON(t)}]},function(t){t.indexOf(u)!=-1?n():i()}.bind(this),i)}.bind(this),success:function(){console.log("upload content");console.log(arguments)}.bind(this)}),f.push({func:function(i,f){var e={};e.data={EDMS_IDX:n,FS_I_OWNER_KEY:u,VIEW_FORM_SER:t.FORM_INFO.FORM_SEQ};e.callback=function(n){n.Success?i(n):f()};e.url="/groupware/eapproval/UpdateDraftOF2NF";e.ecPageID=r;this._api(e)}.bind(this),success:function(n){n.Data&&n.Data.Data&&n.Data.Data.NVERSION_NO&&(t.VERSION_NO=n.Data.Data.NVERSION_NO)}.bind(this)}));o=new common.asyncChain(f);o.start(function(){i&&i(!0)},function(){ecount.alert(ecount.resource.MSG02529,function(){i&&i(!1)})})},createGWERDoc:function(n,t,i,r){var f=function(u){var f={};this._cn(i)||(f=$.extend({},i));f.url="/ECERP/SVC/EGD/EGD001M";f.param={};t.ROOM_SEQ=n&&n.ROOM_SEQ;this._cn(t)||(f.param=$.extend(f.param,{ERPINFO:JSON.stringify(u),TRX_TYPE:t.TRX_TYPE,Permit:t.Permit}),f.param={Request:{Data:f.param}},f.param.Request.STETOrderProcNo=t.STETOrderProcNo,f.param.Request.STETOrderProcStep=t.STETOrderProcStep,f.param.Request.STETIsFromOrderMng=t.STETIsFromOrderMng,f.param.Request.STETLinkType=t.STETLinkType,f.param.Request.ROOM_SEQ=t.ROOM_SEQ,f.param.Request.FormSeq=t.FORM_SEQ,this._cne(t.FROM_EDMS_IDX)||(f.param.Request.Data.FROM_EDMS_IDX=t.FROM_EDMS_IDX,f.url="/ECERP/SVC/EGD/EGD002M",t.FORM_SEQ==0&&(f.param.Request.IsFromZaOnly=!0)));f.param.width=Math.max(ecount.infra.getPageWidthFromConfig(),782);f.param.height=900;f.popupID="EGD001M";f.modal=n.pageOption&&n.pageOption.popupType=="layer"?!0:!1;ecount.link.getConfigUrlData(n.ecPageID,"E070103",n.viewBag.IsEnableNoL4,"link",function(){this._openWindow(n,f);r&&r()}.bind(this))}.bind(this),u=[];this._cn(t)||this._cn(t.ERPS)||(u=t.ERPS);u.length>0?this.checkErpSlip2(n,u,function(n,t){var u,e,r,i;if(n){if(this._cn(t.Data)||this._cn(t.Data.ResultData)){this._cn(t.Error)||this._cn(t.Error[0])||this._cn(t.Error[0].msg)||this._cn(t.Error[0].msg.Message)||(this._cn(ecount.alert)?alert(t.Error[0].msg.Message):ecount.alert(t.Error[0].msg.Message));return}for(u=[],e=t.Data.ResultData,r=0;r<e.RESULT.length;r++)i=e.RESULT[r],this._cne(i.ERROR)&&u.push({TYPE:i.TYPE,PRG_ID:i.PRG_ID,DATE:i.DATE,NO:i.NO,FTYPE:i.ERP_BASIC_TYPE,TRX_TYPE:i.ERP_TRX_TYPE,TRX_SER_NO:i.ERP_SER_NO,VERSION_NO:i.ERP_VERSION_NO,WH_CD:i.ERP_WH_CD,EXPARAM:i.ERP_EXPARAM,RENDER:"N"});f(u);return}}.bind(this),function(){return!1}.bind(this),!0):f(u)},viewGWERDoc:function(n,t,i){var u,r={Request:{Data:{}},width:900,height:700};$.isNull(t)||(r.Request.Data=$.extend({},i),r.Request.Data.EDMS_IDX=t,u={url:"/ECERP/SVC/EGD/EGD016P_02",param:r,name:$.isEmpty(ecount.resource.LBL02468)?"E-Approval":ecount.resource.LBL02468,popupID:"EGD016P_02"},i.popupType&&(u.popupType=r.Request.Data.popupType,u.l7Param=r.Request.Data.popupType===!0?{MovePage:!0}:undefined),n.openWindow(u))},viewGWERDocCC:function(n,t,i,r){if(!this._cn(t)){i=$.extend({},i);var u={};this._cn(r)||(u=$.extend({},r));u.url="/ECERP/EGD/EGD003P";u.param=i;u.param.EDMS_IDX=t;u.param.name=ecmodule.common.eapproval._ecountResource.LBL02468;u.popupID="EGD003P";this._openWindow(n,u)}},viewGWERDocRef:function(n,t){ecmodule.common.eapproval.viewGWERDoc(n,t,{MODE:"PRINT",popupType:!0})},editGWERDoc:function(n,t,i,r){if(!this._cn(t)){this._cn(i)&&(i={MODE:""});this._cn(i.MODE)&&(i.MODE="");var u={};this._cn(r)||(u=$.extend({},r));u.url="/ECERP/SVC/EGD/EGD002M";u.param={Request:{EditMode:ecenum.editMode.modify,Data:$.extend(i,{EDMS_IDX:t})}};$.isEmpty(i.FORM_SEQ)||(u.param.Request.FormSeq=i.FORM_SEQ,i.FORM_SEQ==0&&(u.param.Request.IsFromZaOnly=!0,u.param.Request.FormSeq=1));u.name=ecmodule.common.eapproval._ecountResource.LBL93513;u.popupID="EGD002M";u.param.width=ecount.infra.getPageWidthFromConfig();u.param.height=900;u.modal=!0;this._openWindow(n,u)}},approveGWERDoc:function(n,t,i,r,u,f,e){var o={data:{}};if(o.data.EDMS_IDX=t,r=="CC"){if(u!="Y"&&u!="C"){ecount.alert("잘못된 요청입니다.");return}o.data.CCConfirmYN=u;o.data.CCConfirmYN=="C"&&(o.data.CCConfirmYN="N")}else{if(!$.isNumeric(r)){ecount.alert("잘못된 요청입니다.");return}o.data.EDMS_ROLE_INDEX=r;o.data.REQ_APP_TYPE=u}o.data.NOTIFICATIONINFO=e;o.data.VERSION_NO=i;o.callback=f;o.url="/groupware/eapproval/ApproveDraft";this._api(o)},viewGWERDocHistory:function(n,t,i,r,u){if(!this._cn(t)){var f={};this._cn(u)||(f=$.extend({},u));f.url="/ECERP/SVC/EGD/EGD016P_04";f.param={Request:{Data:{EDMS_IDX:t,EDMS_DATE:i,EDMS_NO:r}}};f.pageOption={};f.name=ecmodule.common.eapproval._ecountResource.LBL07157;f.popupID="EGD016P_04";this._openWindow(n,f)}},previewGWERDoc:function(n,t,i,r){var e="EGD016P_01",f,o,u;this._cn(i)||(!this._cn(i.hideCodes)&&i.hideCodes.length>0&&(f="",f=i.hideCodes.join("|"),f=f.replace(/ecount/g,""),f="\\[ecount("+f+")(:[0-9])?\\]",o=new RegExp(f,"g"),t.form=t.form.replace(o,""),t.hideCodes=i.hideCodes,t.isPreview=!0),this._cne(i.popupID)||(e=i.popupID));u={};this._cn(r)||(u=$.extend({},r));u.url="/ECERP/EGD/EGD016P_01";u.param={width:800,height:600};u.name=ecmodule.common.eapproval._ecountResource.LBL07157;u.pageOption=t;u.popupType=!0;u.popupID=e;this._openWindow(n,u)},getListOrderProcSlips:function(n,t,i,r){var u={data:{}};u.data.ORDER_PROC_NO=t;u.data.ORDER_PROC_STEP=i;u.callback=r;u.ecPageID=n.ecPageID;u.url="/groupware/eapproval/GetListOrderProcSlips";this._api(u)},checkUser:function(n,t){var i="",r;if(typeof n=="string")i=n;else for(r=0;r<n.length;r++)i!=""&&(i+=ecount.delimiter),i+=n[r];ecmodule.common.eapproval._api({url:"/Common/Infra/GetListUserNotiInfo",data:{LIST_ID:i},callback:function(i){var f=[],s={},h,u,e,o,r;if(i.Success){for(h=i.Data,r=0;r<h.length;r++){if(u=h[r],e=u.Key.USER_ID.toUpperCase(),s[e]=u,u.GW_USE!="0"){f.push({ID:e,NAME:u.UNAME,MSG:"LBL12548"});continue}if(u.CANCEL=="Y"){f.push({ID:e,NAME:u.UNAME,MSG:"BTN00223"});continue}if(ecmodule.common.eapproval._cne(u.UNAME)){f.push({ID:e,NAME:"",MSG:"LBL12547"});continue}}for(o=n.split(ecount.delimiter),r=0;r<o.length;r++)ecmodule.common.eapproval._cne(o[r])||o[r].toUpperCase()in s||f.push({ID:o[r].toUpperCase(),NAME:"",MSG:"LBL01158"});ecmodule.common.eapproval._cn(t)||t(!0,{errors:f,userinfo:s})}else ecmodule.common.eapproval._cn(t)||t(!1,i)}.bind(this)})},loadDraftListCore:function(n,t,i,r,u){var o=!1,f,v,e,c;this._cn(u)||!this._cn(u.printCss);var s=null,h="FUNCTION",l=!1,a=null;if(this._cn(u)||(this._cn(u.printCss)||(o=!0,s=u.printCss,h="PRINT"),this._cne(u.pageMode)||(h=u.pageMode),this._cn(u.hideCodes)||(a=u.hideCodes),this._cn(u.showProgress)||(l=u.showProgress)),f={},f.url="/ECERP/EGD/EGD016P_01",f.param={width:800,height:600},o&&(f.param.printCss=s),f.name=ecmodule.common.eapproval._ecountResource.LBL07157,f.pageOption={drafts:i,callback:function(t,i,u){o&&h=="PRINT"&&(ecmodule.common.eapproval._cn(u._printFunc)||u._printFunc({hideCodes:a,printhide:"Y",printCss:s}));ecmodule.common.eapproval._cn(r)||r(t,i,u);l&&!ecmodule.common.eapproval._cn(n)&&n.hideProgressbar()}},f.popupType=!0,f.popupID="EGD016P_01",h=="PREVIEW"){this._cn(u)||(this._cn(u.popupType)||(f.popupType=u.popupType),this._cn(u.popupID)||(f.popupID=u.popupID),this._cn(u.width)||(f.param.width=u.width),this._cn(u.height)||(f.param.height=u.height),this._cn(u.name)||(f.name=u.name));this._openWindow(n,f);return}v=ecount.popup.parent.ecount.global.registerEcRepository(f.pageOption);f.param.ecRepositoryID=v;f.param.destroyImmediately=!1;f.param.callback=function(){};e=n.$contents.find(".p_draftviewer");e.length>0&&e.remove();e=n.$contents.find(".wrapper-grid");e.length==0&&n.$contents.append('<div class="wrapper-grid"><\/div>');e=n.$contents.find(".tedms_ifrm");e.length>0&&e.remove();l&&!this._cn(n)&&n.showProgressbar();c=ecount.common.buildSessionUrl(f.url+"?ecRepositoryID="+encodeURIComponent(f.param.ecRepositoryID))+(o?"":"&printCss="+encodeURIComponent(s));c=$.ecrt(c);n.$contents.find(".wrapper-grid").append('<iframe class="tedms_ifrm" style="position:absolute;left:-1000px;top:-1000px;width:0px;height:0px" src="'+c+'" frameborder="0"><\/iframe>')},loadDraftList:function(n,t,i,r,u){var f=[];i.forEach(function(n){f.push({comcode:t,edmsidx:n})});ecmodule.common.eapproval.loadDraftListCore(n,t,f,r,u)},code:{getAccInfo:function(n,t){var i="";switch(n){case"CASE92":i="E010505";break;case"CASE98":i="E010201";break;case"CASE93":i="E010403";break;case"CASE94":i="E010408";break;case"CASE09":i=t?t.prgId:"";break;case"CASE60":i=t?t.prgId:"";break;case"CASE10":i=t?t.prgId:"";break;case"CASE01":t.serNo=="02"?i="E010404":t.serNo=="01"&&(i="E010401");break;case"CASE32":i=t?t.prgId:"";break;case"CASE02":i=t?t.prgId:"";break;case"CASE12":i=t?t.prgId:"";break;case"CASE05":t.serNo=="01"?i="E010409":t.serNo=="05"&&(i="E010410");break;case"CASE99":i=t?t.prgId:"";break;case"CASE11":i=t?t.prgId:"";break;case"CASE15":i=t?t.prgId:"";break;case"CASE13":t.serNo=="02"?i="E010402":t.serNo=="08"&&(i="E010414");break;case"CASE16":i=t?t.prgId:"";break;case"CASE04":i=t?t.prgId:"";break;case"CASE06":i=t?t.prgId:"";break;case"CASE51":i=t?t.prgId:"";break;case"CASE50":i=t?t.prgId:"";break;case"CASE53":i=t?t.prgId:"";break;case"CASE55":i=t?t.prgId:"";break;case"CASE52":i=t?t.prgId:"";break;case"CASE54":i=t?t.prgId:"";break;case"CASE08":i=t?t.prgId:"";break;case"CASE03":i=t?t.prgId:"";break;case"CASE17":i=t?t.prgId:"";break;case"CASE07":i=t?t.prgId:"";break;case"CASE30":i=t?t.prgId:"";break;case"CASE31":i=t?t.prgId:"";break;default:i=""}return i},getInvtInfo:function(n){var t="";switch(n){case"EST":t="E040201";break;case"HYUN":t="E040314";break;case"REQ":t="E040301";break;case"PLN":t="E040411";break;case"ORD":t="E040203";break;case"EPD":t="E020710";break;case"SALE":t="E040205";break;case"BUY":t="E040303";break;default:t=n}return t},menuSeqToErpCD:function(n){var t="";n=""+n;switch(n){case"68":t="CASE94";break;case"69":t="CASE93";break;case"486":t="EST";break;case"488":t="ORD";break;case"504":t="HYUN";break;case"508":t="REQ";break;case"522":t="PLN";break;default:t=""}return t},erpCDToMenuSeq:function(n){var t="";switch(n){case"CASE94":t="68";break;case"CASE93":t="69";break;case"EST":t="486";break;case"ORD":t="488";break;case"HYUN":t="504";break;case"REQ":t="508";break;case"PLN":t="522";break;default:t=""}return t},erpCdToPrgId:function(n){var t="";n=""+n;switch(n){case"68":t="E010408";break;case"69":t="E010403";break;case"486":t="E040201";break;case"488":t="E040203";break;case"504":t="E040314";break;case"508":t="E040301";break;case"522":t="E040411";break;default:t=""}return t}},setPageSize:function(n,t){var i,r,e,o;if(!this._cn(n))if(this._cn(t)&&(t={}),i=t.width,r=t.height,this._cn(r)&&(r=600),this._cne(n.popupID)||this._cne(n.popupType)){if(top.window===window&&window.name!="__externalEcountIFrame"&&!this._cn(window.opener)&&!n.alreadyIncludedLayout){if(this._cn(i)){var u=ecount.config.user,h=parseInt(u.LABEL_WIDTH,10),c=parseInt(u.INPUT_WIDTH,10),f,s;f=u.MN_FILL_CHK_YN=="Y"?750:parseInt(u.MN_LABEL_WIDTH,10);s=u.FILL_CHK_YN=="Y"?f:Math.max(h+c,f);i=s}e=ecount.common.getZoomRatio();o={width:(i+30)*(2-e),height:r*(2-e)};top.window.resizeTo(o.width,o.height)}}else this._cn(i)&&(i=ecount.infra.getPageWidthFromConfig()),n.resizeLayer(i,r)},removeCodeFromPrintOption:function(n,t,i){if(!this._cn(t)&&!this._cn(t.hideCodes)&&t.hideCodes.length>0){var r="";r=".p_o"+t.hideCodes.join(",.p_o");this._cne(t.printhide)?(n.find(r).remove(),(r.indexOf("ecount13")!=-1||r.indexOf("ecount-4870")!=-1)&&n.find("#trComment,#trEdmsNo").length>0&&(n.find("#trComment,#trEdmsNo,.p_oecount20,.p_oecount15").remove(),n.find(".p_oecount16").parent().children("p").remove(),n.find(".p_oecount-4900").parent().children("p").remove())):(n.find(".p_xgwerprint").removeClass("p_xgwerprint"),n.find(r).addClass("p_xgwerprint"),(r.indexOf("ecount13")!=-1||r.indexOf("ecount-4870")!=-1)&&n.find("#trComment,#trEdmsNo").length>0&&(n.find("#trComment,#trEdmsNo,.p_oecount20,.p_oecount15").addClass("p_xgwerprint"),n.find(".p_oecount16").parent().children("p").addClass("p_xgwerprint"),n.find(".p_oecount-4900").parent().children("p").addClass("p_xgwerprint")));$.isEmpty(i)||i!="0"||($(".p_pbreak.first").hasClass("gwer_erp_result")?($(".p_pbreak.first").removeClass("page-break"),n.find(".p_pbreak").children("div").eq(0).attr("style").indexOf("page-break-before")!=-1&&n.find(".p_pbreak").children("div").eq(0).remove()):$(".p_pbreak.first").remove())}},applyPrintOption:function(n,t,i){if(!this._cn(t)&&!this._cn(t.hideCodes)&&t.hideCodes.length>0){var r=$(".p_gwertempelement");$(".p_gwertempelement").length==0&&(r=$('<div class="p_gwertempelement"><\/div>').appendTo(document.body));r.append(n);this.removeCodeFromPrintOption(r,t,i);n=r.html();r.html("")}return n},getPrintOptionInfo:function(n){var i=[{v:"01",l:ecmodule.common.eapproval._ecountResource.LBL02533},{v:"02",l:ecmodule.common.eapproval._ecountResource.LBL00443},{v:"13",l:ecmodule.common.eapproval._ecountResource.LBL03662},{v:"16",l:ecmodule.common.eapproval._ecountResource.LBL04686}],f=[],r=[],e=[],u=n,t;for(this._cn(n)&&(u=""),u=ecount.delimiter+u+ecount.delimiter,t=0;t<i.length;t++)r.push(i[t].v),f.push(i[t].l),u.indexOf(ecount.delimiter+i[t].v+ecount.delimiter)==-1&&e.push(i[t].v);return{l:f,v:r,s:e,selValueToHideCodes:function(n){for(var u=n.join(ecount.delimiter),i="",u=ecount.delimiter+u+ecount.delimiter,t=0;t<r.length;t++)u.indexOf(ecount.delimiter+r[t]+ecount.delimiter)==-1&&(i!=""&&(i+=ecount.delimiter),i+=r[t]);return i}}},notimgr:{checkSMS:function(n){var t,i,r,u;if(n.DATA.SLIP_DEFAULT.MESSAGE.SMS_CHK_YN=="Y"){for(t=0,i=0;i<n.DATA.SLIP_DATA.length;i++)r=n.DATA.SLIP_DATA[i],t+=r.DATA.MESSAGE.SMS_CHECKED_COUNT;if(t>0)return u=n.SMS_PRICE.times(new Decimal(t)),n.AMT_EMONEY.gte(n.SMS_USE_PRICE)?(n.IS_VALID_SMS_PRICE=!0,!0):(n.IS_VALID_SMS_PRICE=!1,!1)}return n.IS_VALID_SMS_PRICE=!0,!0},allUserCheck:function(n,t){return String.format("{0}{1}{0}",ecount.delimiter,n).indexOf(String.format("{0}{1}{0}",ecount.delimiter,t))==-1},makeData:function(n,t,i){var r=n.SLIP_DEFAULT,s="",v,y,b,c,w,d,l,p,u,f,e,o;if(r.MESSAGE.MEMO_CHK_YN!="Y"&&(r.MESSAGE.APP_PUSH_CHK_YN="N"),ecmodule.common.eapproval._cn(t))for(u=0;u<n.SLIP_DATA.length;u++)for(f=n.SLIP_DATA[u],e=0;e<f.DATA.RECEIVERS.length;e++)o=f.DATA.RECEIVERS[e],ecmodule.common.eapproval.notimgr.allUserCheck(s,o.USER_ID.toUpperCase())&&(s!=""&&(s+=ecount.delimiter),s+=o.USER_ID.toUpperCase());else{var h=ecmodule.common.eapproval.makeNotification(t,r.MESSAGE,{}),k=[],a={};for(u=0;u<n.SLIP_DATA.length;u++)f=n.SLIP_DATA[u],a[f.CODE]=u;if(!$.isEmpty(h.DATA))for(u in h.DATA)if(!(u in a))if(v=u.split("_")[0],v in a){var g=n.SLIP_DATA[a[v]],c=$.extend(!0,{},g),w=h.DATA[u];c.TAB_LABEL=w.LABEL;c.CODE=u;c.DATA.RECEIVERS=[];n.SLIP_DATA.push(c)}else if(!ecmodule.common.eapproval._cn(t.widgetDefault))for(y=0;y<t.widgetDefault.SLIP_DATA.length;y++)b=t.widgetDefault.SLIP_DATA[y],b.CODE==v&&(c=$.extend(!0,{},b),w=h.DATA[u],c.TAB_LABEL=w.LABEL,c.CODE=u,c.DATA.RECEIVERS=[],n.SLIP_DATA.push(c));for(u=0;u<n.SLIP_DATA.length;u++)if(f=n.SLIP_DATA[u],f.DATA.MESSAGE.EMAIL_CHK_YN=r.MESSAGE.EMAIL_CHK_YN,f.DATA.MESSAGE.APP_PUSH_CHK_YN=r.MESSAGE.APP_PUSH_CHK_YN,f.DATA.MESSAGE.MEMO_CHK_YN=r.MESSAGE.MEMO_CHK_YN,f.DATA.MESSAGE.SMS_CHK_YN=r.MESSAGE.SMS_CHK_YN,!$.isEmpty(h.DATA)&&f.CODE in h.DATA){for(f.TAB_LABEL=h.DATA[f.CODE].LABEL,k.push(f),d={},l={},e=0;e<h.DATA[f.CODE].RECEIVERS.length;e++)o=h.DATA[f.CODE].RECEIVERS[e],l[o.USER_ID.toUpperCase()]=e;for(p=[],e=0;e<f.DATA.RECEIVERS.length;e++)o=f.DATA.RECEIVERS[e],d[o.USER_ID.toUpperCase()]=e,o.USER_ID.toUpperCase()in l&&(ecmodule.common.eapproval.notimgr.allUserCheck(s,o.USER_ID.toUpperCase())&&(s!=""&&(s+=ecount.delimiter),s+=o.USER_ID.toUpperCase()),p.push(o),delete l[o.USER_ID.toUpperCase()]);for(e in l)o=h.DATA[f.CODE].RECEIVERS[l[e]],ecmodule.common.eapproval.notimgr.allUserCheck(s,o.USER_ID.toUpperCase())&&(s!=""&&(s+=ecount.delimiter),s+=o.USER_ID.toUpperCase()),p.push($.extend(!0,{},o));f.DATA.RECEIVERS=p}n.SLIP_DATA=k}if(r.RECEIVERS=[],r.MESSAGE.EMAIL_CHECKED_COUNT=0,r.MESSAGE.MEMO_CHECKED_COUNT=0,r.MESSAGE.APP_CHECKED_COUNT=0,r.MESSAGE.SMS_CHECKED_COUNT=0,s==""){ecmodule.common.eapproval._cn(i)||i(n);return}ecmodule.common.eapproval._api({ecPageID:n.ecPageID,url:"/Common/Infra/GetListUserNotiInfo",data:{LIST_ID:s},callback:function(t){var c,s,l,o,f,h,u,e;if(t.Success){for(c=t.Data,s={},o=0;o<c.length;o++)e=c[o],e.Key.USER_ID.toUpperCase()in s||(l=r.RECEIVERS.length,r.RECEIVERS.push({USER_ID:e.Key.USER_ID,UNAME:e.UNAME,EMAIL:e.EMAIL,HP_NO:e.HP_NO,EMAIL_CHK_YN:r.MESSAGE.EMAIL_CHK_YN,APP_PUSH_CHK_YN:r.MESSAGE.MEMO_CHK_YN,MEMO_CHK_YN:r.MESSAGE.MEMO_CHK_YN,HPNO_CHK_YN:r.MESSAGE.SMS_CHK_YN}),s[e.Key.USER_ID.toUpperCase()]=l);for(o=0;o<n.SLIP_DATA.length;o++){for(f=n.SLIP_DATA[o],f.DATA.MESSAGE.EMAIL_CHECKED_COUNT=0,f.DATA.MESSAGE.MEMO_CHECKED_COUNT=0,f.DATA.MESSAGE.APP_CHECKED_COUNT=0,f.DATA.MESSAGE.SMS_CHECKED_COUNT=0,f.DATA.MESSAGE.EMAIL_CHK_YN=r.MESSAGE.EMAIL_CHK_YN,f.DATA.MESSAGE.APP_PUSH_CHK_YN=r.MESSAGE.APP_PUSH_CHK_YN,f.DATA.MESSAGE.MEMO_CHK_YN=r.MESSAGE.MEMO_CHK_YN,f.DATA.MESSAGE.SMS_CHK_YN=r.MESSAGE.SMS_CHK_YN,h=0;h<f.DATA.RECEIVERS.length;h++)u=f.DATA.RECEIVERS[h],u.USER_ID.toUpperCase()in s&&(e=r.RECEIVERS[s[u.USER_ID.toUpperCase()]],u.USER_ID=e.USER_ID,ecmodule.common.eapproval._cne(u.EMAIL)&&(u.EMAIL=e.EMAIL),ecmodule.common.eapproval._cne(u.HP_NO)&&(u.HP_NO=e.HP_NO)),ecmodule.common.eapproval._cn(u.EMAIL_CHK_YN)&&(u.EMAIL_CHK_YN=r.MESSAGE.EMAIL_CHK_YN),ecmodule.common.eapproval._cn(u.APP_PUSH_CHK_YN)&&(u.APP_PUSH_CHK_YN=r.MESSAGE.MEMO_CHK_YN),ecmodule.common.eapproval._cn(u.MEMO_CHK_YN)&&(u.MEMO_CHK_YN=r.MESSAGE.MEMO_CHK_YN),ecmodule.common.eapproval._cn(u.HPNO_CHK_YN)&&(u.HPNO_CHK_YN=r.MESSAGE.SMS_CHK_YN),ecmodule.common.eapproval._cne(u.EMAIL_CHK_YN)||u.EMAIL_CHK_YN!="Y"||ecmodule.common.eapproval._cne(u.EMAIL)?u.EMAIL_CHK_YN="N":f.DATA.MESSAGE.EMAIL_CHECKED_COUNT++,ecmodule.common.eapproval._cne(u.MEMO_CHK_YN)||u.MEMO_CHK_YN!="Y"||f.DATA.MESSAGE.MEMO_CHECKED_COUNT++,ecmodule.common.eapproval._cne(u.APP_PUSH_CHK_YN)||u.APP_PUSH_CHK_YN!="Y"||f.DATA.MESSAGE.APP_CHECKED_COUNT++,ecmodule.common.eapproval._cne(u.HPNO_CHK_YN)||u.HPNO_CHK_YN!="Y"||ecmodule.common.eapproval._cne(u.HP_NO)?u.HPNO_CHK_YN="N":f.DATA.MESSAGE.SMS_CHECKED_COUNT++;r.MESSAGE.EMAIL_CHECKED_COUNT+=f.DATA.MESSAGE.EMAIL_CHECKED_COUNT;r.MESSAGE.MEMO_CHECKED_COUNT+=f.DATA.MESSAGE.MEMO_CHECKED_COUNT;r.MESSAGE.APP_CHECKED_COUNT+=f.DATA.MESSAGE.APP_CHECKED_COUNT;r.MESSAGE.SMS_CHECKED_COUNT+=f.DATA.MESSAGE.SMS_CHECKED_COUNT}ecmodule.common.eapproval._cn(i)||i(n)}}.bind(this)})}.bind(this)},mappingInfo_status:function(){return{E040207:{label:"LBL02939",form_type:"SO030"},E040212:{label:"LBL03206",form_type:"SO031"}}},mappingInfo_RELATION:function(){return{E010301:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"AF020",label:"LBL09042"},E010201:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"AF020",label:"LBL03685"},E010311:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"AF020",label:"LBL90114"},E040406:{viewer:{url:"/ECERP/SVC/ESJ/ESJ010R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"SF420",label:"LBL93344"},E040220:{viewer:{url:"/ECERP/SVC/ESE/ESE003R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"SF770",label:"LBL08578"},E010303:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"AF020",label:"LBL09044"},E060204:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"AF020",label:"LBL93434"},E040628:{viewer:{url:"/ECERP/SVC/ESQ/ESQ307R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},form_type:"SF743",label:"LBL10942"}}},getMappingList:function(){var n=this.mappingInfo();return _.map(["E040201","E040203","E040205","E040220","E040225","E040314","E040301","E040303","E040411","E040404","E040406","E040407","E040416","E040501","E040503","E040507","E040628","E010201","E010408","E010403","E010505","E010301","E010311","E010303","E010404","E010405","E010401","E010406","E010407","E010409","E010402","E010412","E010411","E010410","E010413","E010414","E010501","E010504","E010503","E060204","E060202","E060203","E060205","E060206","E060207","E010601","E010602","E010603","E010604","E010605","E010611","E010612","E020710","E040253"],function(t){var i={};return i[t]=n[t],i})},mappingInfo:function(){return{E040205:{viewer:{url:"/ECERP/SVC/ESD/ESD007R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0 }]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESD/ESD006M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"490",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESD006M",label:"LBL93315",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESD/EGD006M",FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESD/EGD006M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL35302",pageId:"ESD007M",url:"/ECERP/SVC/ESD/ESD007M"},label:"LBL93315",erp_ser_no:"0",available:!0,form_type:"SF030",type:""},E040253:{viewer:{url:"/ECERP/SVC/ESD/ESD007R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0 }]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESD/ESD066M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"2880",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESD066M",label:"LBL21551",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESD/EGD006M",FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESD/EGD006M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL35302",pageId:"ESD007M",url:"/ECERP/SVC/ESD/ESD007M"},label:"LBL21551",erp_ser_no:"0",available:!0,form_type:"SF030",type:""},E040220:{viewer:{url:"/ECERP/SVC/ESE/ESE003R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESE/ESE001M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESE001M",label:"LBL08578",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESE/ESE001M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00139",pageId:"ESE002M",url:"/ECERP/SVC/ESE/ESE002M"},label:"LBL08578",erp_ser_no:"0",available:!1,form_type:"SF770",type:""},E040225:{viewer:{url:"/ECERP/SVC/ESE/ESE005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESE/ESE004M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESE004M",label:"LBL03858",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESE/ESE004M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL03862",pageId:"ESE005M",url:"/ECERP/SVC/ESE/ESE005M"},label:"LBL03935",erp_ser_no:"0",available:!1,form_type:"SF780",type:""},E040303:{viewer:{url:"/ECERP/SVC/ESG/ESG010R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0, "IO_TYPE":"{99}"}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESG/ESG009M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"510",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESG009M",label:"LBL00689",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESG/ESG009M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESG/ESG009M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL35303",pageId:"ESG010M",url:"/ECERP/SVC/ESG/ESG010M"},label:"LBL09351",erp_ser_no:"0",available:!1,form_type:"SF210",type:""},E040404:{viewer:{url:"/ECERP/SVC/ESJ/ESJ007R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESJ/ESJ006M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESG022M",label:"LBL93341",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESJ/ESJ006M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93342",pageId:"ESJ007M",url:"/ECERP/SVC/ESJ/ESJ007M"},label:"LBL01550",erp_ser_no:"0",available:!1,form_type:"SF410",type:""},E040406:{viewer:{url:"/ECERP/SVC/ESJ/ESJ010R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0 }]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESJ/ESJ008M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"526",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESJ008M",label:"LBL93344",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESJ/ESJ008M",FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESJ/ESJ008M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL93347",pageId:"ESJ010M",url:"/ECERP/SVC/ESJ/ESJ010M"},label:"LBL93344",erp_ser_no:"0",available:!0,form_type:"SF420",type:""},E040407:{viewer:{url:"/ECERP/SVC/ESJ/ESJ010R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0 }]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESJ/ESJ009M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"526",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESJ009M",label:"LBL93345",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESJ/ESJ009M",FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESJ/ESJ009M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL93347",pageId:"ESJ010M",url:"/ECERP/SVC/ESJ/ESJ010M"},label:"LBL93345",erp_ser_no:"0",available:!0,form_type:"SF420",type:""},E040416:{viewer:{url:"/ECERP/SVC/ESJ/ESJ010R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}, "SER_NO":0 }]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESJ/ESJ022M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},loadType:"526",copyNewYn:"Y",eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESJ022M",label:"LBL93346",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESJ/ESJ022M",FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESJ/ESJ022M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL93347",pageId:"ESJ010M",url:"/ECERP/SVC/ESJ/ESJ010M"},label:"LBL93346",erp_ser_no:"0",available:!0,form_type:"SF420",type:""},E040501:{viewer:{url:"/ECERP/SVC/ESM/ESM003R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1,isSlipRelation:!0},input:{url:"/ECERP/SVC/ESM/ESM001M",newCopyurl:"/ECERP/SVC/Popup/SlipCopy",loadType:"539",copyNewYn:"Y",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESM001M",label:"LBL93357",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESM/ESM001M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},newCopy:function(n,t,r){var u=[];if(r.length>0)for(u.push(n.PRG_ID),i=0;i<r.length;i++)u.push(r[i].TO_PRG_ID);return{Request:{AddAccount:!1,Key:{Date:n.DATE,No:n.NO},ProgramId:n.PRG_ID,PrevUrl:"/ECERP/SVC/ESM/ESM001M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103",isPopup:!0,SlipCopyMenu:u}}}},list:{label:"LBL02732",pageId:"ESM002M",url:"/ECERP/SVC/ESM/ESM002M"},label:"LBL02728",erp_ser_no:"0",available:!1,form_type:"SF600",type:""},E040503:{viewer:{url:"/ECERP/SVC/ESM/ESM004R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESM/ESM003M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESM003M",label:"LBL02286",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESM/ESM003M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02288",pageId:"ESM016M",url:"/ECERP/SVC/ESM/ESM016M"},label:"LBL02283",erp_ser_no:"0",available:!1,form_type:"SF610",type:""},E040507:{viewer:{url:"/ECERP/SVC/ESM/ESM007R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESM/ESM005M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESM005M",label:"LBL01409",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESM/ESM005M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93364",pageId:"ESM006M",url:"/ECERP/SVC/ESM/ESM006M"},label:"LBL01411",erp_ser_no:"0",available:!1,form_type:"SF500",type:""},E040628:{viewer:{url:"/ECERP/SVC/ESQ/ESQ307R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESQ/ESQ307M",param:{Request:{key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',pageId:"ESQ307M",label:"LBL10946",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESQ/ESQ307M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL10947",pageId:"ESQ308M",url:"/ECERP/SVC/ESQ/ESQ308M"},label:"LBL10942",erp_ser_no:"0",available:!1,form_type:"SF743",type:""},E010505:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&FORM_TYPE=AF060&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},list:{url:"/ECERP/SVC/EBG/EBG001M",label:"LBL00267",pageId:"EBG001M"},input:{url:"/ECERP/SVC/EBD/EBD016M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M",Data:{DefaultGbType:"N"}}},eqstr:"IO_DATE={0}&IO_NO={1}&IO_TYPE=98&SER_NO=06&DefaultGbType=Z",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType": "Z","IsFromEapproval":"true"}',pageId:"EBD016M",label:"LBL00267",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"06",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.DATE,IO_NO:n.NO,IO_TYPE:"98",SER_NO:"06",IsFromEapproval:!0,EditMode:ecenum.editMode.copy}}}}},label:"LBL00267",available:!1,erp_ser_no:"2",form_type:"AF060",type:"CASE92"},E040201:{viewer:{url:"/ECERP/SVC/ESD/ESD002R",param:'FORM_SEQ={2}&FORM_TYPE=SF010&BASIC_TYPE={4}&EXREQ=GWER&IsFromEapproval=true&Slips=[{"IO_DATE": "{0}", "IO_NO": {1}}]&SlipsInfos=[{"IO_DATE": "{0}", "IO_NO": {1}}]',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESD/ESD001M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"EST_DATE":"{0}", "EST_NO":"{1}", "EditFlag":"M"}',pageId:"ESD001M",label:"LBL00432",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00434",pageId:"ESD002M",url:"/ECERP/SVC/ESD/ESD002M"},label:"LBL00420",available:!1,erp_ser_no:"0",ftype:"0",form_type:"SF010",type:"EST"},E040301:{viewer:{url:"/ECERP/SVC/ESG/ESG005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESG/ESG004M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"",PrevUrl:""}},eqstr:"",eparam:'{"ORD_DATE":"{0}", "ORD_NO":"{1}", "EditFlag":"M"}',pageId:"ESG004M",label:"LBL00683",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00684",pageId:"ESG005M",url:"/ECERP/SVC/ESG/ESG005M"},label:"LBL00672",available:!1,erp_ser_no:"100",form_type:"SF200",type:"REQ"},E020710:{viewer:{url:"/ECERP/SVC/EPD/EPD021R",param:'SlipsInfos=[{"IO_DATE": {0}, "IO_NO": {1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&FORM_TYPE=PF080&BASIC_TYPE={3}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EPD/EPD020M",param:{Request:{}},eqstr:"",pageId:"EPD020M",eparam:'{"strDate":"{0}", "strSlipNo":"{1}", "EditFlag":"M","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"slipCopy","Reset","close","delete"]},label:"LBL00771",copy:function(n,t){var i={Request:t};return i.Request.strDate=n.DATE,i.Request.strSlipNo=n.NO,i.Request.isSlipCopy=!0,i.Request.EDIT_FLAG="I",i}},list:{label:"LBL03882",pageId:"EPD021M",url:"/ECERP/SVC/EPD/EPD021M"},label:"LBL03815",available:!1,erp_ser_no:"100",form_type:"PF080",type:"EPD"},E010201:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD001M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',pageId:"EBD001M",label:"LBL93041",copy:function(n,t){return t.TRX_DATE=n.DATE,t.TRX_NO=n.NO,t.EditFlag="Copy",t.DefaultGbType="N",t.TRX_TYPE=n.TRX_TYPE,t.SER_NO=n.SER_NO,t.isOpenPopup=!0,t}},list:{label:"LBL03685",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL03685",available:!1,erp_ser_no:"0",form_type:"AF020",type:"CASE98"},E010403:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&FORM_TYPE=AF050&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD015M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M",Data:{DefaultGbType:"N"}}},eqstr:"",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType":"Z","IsFromEapproval":"true"}',pageId:"EBD015M",label:"LBL03838",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"05",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.DATE,IO_NO:n.NO,IO_TYPE:"98",SER_NO:"05",IsFromEapproval:!0,EditMode:ecenum.editMode.copy}}}}},list:{label:"LBL02253",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL02253",available:!1,form_type:"AF050",type:"CASE93"},E040411:{viewer:{url:"/ECERP/SVC/ESJ/ESJ005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESJ/ESJ004M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"",PrevUrl:""}},eqstr:"",eparam:'{"PLAN_DATE":"{0}", "PLAN_NO":"{1}", "EditFlag":"M","IsFromEdms":"true"}',pageId:"ESJ004M",label:"LBL02361",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02362",pageId:"ESJ005M",url:"/ECERP/SVC/ESJ/ESJ005M"},label:"LBL02358",available:!1,form_type:"SF400",type:"PLN"},E040203:{viewer:{url:"/ECERP/SVC/ESD/ESD005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESD/ESD004M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"",PrevUrl:""}},eqstr:"",eparam:'{"REQ_DATE":"{0}", "REQ_NO":"{1}", "EditFlag":"M"}',pageId:"ESD004M",label:"LBL02595",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02597",pageId:"ESD005M",url:"/ECERP/SVC/ESD/ESD005M"},label:"LBL02586",erp_ser_no:"0",available:!1,form_type:"SF020",type:"ORD"},E010408:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&FORM_TYPE=AF040&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD002M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M",Data:{DefaultGbType:"N"}}},eqstr:"",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType":"Z","IsFromEapproval":"true"}',pageId:"EBD002M",label:"LBL03843",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"04",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.DATE,IO_NO:n.NO,IO_TYPE:"98",SER_NO:"04",IsFromEapproval:!0,EditMode:ecenum.editMode.copy}}}}},list:{label:"LBL02660",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL02660",available:!1,form_type:"AF040",type:"CASE94"},E040314:{viewer:{url:"/ECERP/SVC/ESG/ESG019R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}&IsFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESG/ESG018M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"PUR_DATE":"{0}", "PUR_NO":"{1}", "EditFlag":"M"}',pageId:"ESG018M",label:"LBL04600",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL06223",pageId:"ESG019M",url:"/ECERP/SVC/ESG/ESG019M"},label:"LBL06290",available:!1,erp_ser_no:"00004",form_type:"SF220",type:"HYUN"},E010301:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_09",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_09",label:"LBL93046",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/ESM/ESM003M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93046",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93046",available:!1,erp_ser_no:"0",form_type:"AF020"},E010311:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD014M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD014M",label:"LBL90114",copy:function(n,t){return t.IO_DATE=n.DATE,t.IO_NO=n.NO,t.TrxDate=n.DATE,t.TrxNo=n.NO,t.EditFlag="Copy",t}},list:{label:"LBL90114",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL90114",available:!1,erp_ser_no:"0",form_type:"AF020"},E010303:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_10",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_10",label:"LBL90014",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_10",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL90014",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL90014",available:!1,erp_ser_no:"0",form_type:"AF020"},E010404:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_01",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93054",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_01",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93054",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93054",available:!1,erp_ser_no:"0",form_type:"AF020"},E010405:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_32",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93055",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_32",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93055",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93055",available:!1,erp_ser_no:"0",form_type:"AF020"},E010401:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_03",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL10326",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_03",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL10326",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL10326",available:!1,erp_ser_no:"0",form_type:"AF020"},E010406:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_02",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL02096",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_02",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02096",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL02096",available:!1,erp_ser_no:"0",form_type:"AF020"},E010407:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_12",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93057",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_12",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93057",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93057",available:!1,erp_ser_no:"0",form_type:"AF020"},E010409:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_05_00",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00375",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_05_00",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00375",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00375",available:!1,erp_ser_no:"0",form_type:"AF020"},E010402:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_13_00",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93060",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_13_00",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93060",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93060",available:!1,erp_ser_no:"0",form_type:"AF020"},E010412:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_16",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL01320",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_16",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01320",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01320",available:!1,erp_ser_no:"0",form_type:"AF020"},E010411:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_04",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93063",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_04",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93063",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93063",available:!1,erp_ser_no:"0",form_type:"AF020"},E010410:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_05_001",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93062",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_05_001",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93062",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93062",available:!1,erp_ser_no:"0",form_type:"AF020"},E010413:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_06",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93065",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_06",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93065",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93065",available:!1,erp_ser_no:"0",form_type:"AF020"},E010414:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_13_001",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL93066",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_13_001",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL93066",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL93066",available:!1,erp_ser_no:"0",form_type:"AF020"},E060204:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_54",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL01107",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_54",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01107",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01107",available:!1,erp_ser_no:"0",form_type:"AF020"},E060202:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_52",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL01620",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_52",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01620",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01620",available:!1,erp_ser_no:"0",form_type:"AF020"},E060203:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_55",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL02184",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_55",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02184",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL02184",available:!1,erp_ser_no:"0",form_type:"AF020"},E060205:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_53",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00313",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_53",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00313",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00313",available:!1,erp_ser_no:"0",form_type:"AF020"},E060206:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_50",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00625",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_50",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00625",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00625",available:!1,erp_ser_no:"0",form_type:"AF020"},E060207:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_51",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL01348",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_51",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01348",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01348",available:!1,erp_ser_no:"0",form_type:"AF020"},E010501:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_11",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL35663",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_11",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL35663",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL35663",available:!1,erp_ser_no:"0",form_type:"AF020"},E010504:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_15",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL01786",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_15",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01786",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01786",available:!1,erp_ser_no:"0",form_type:"AF020"},E010503:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_99",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00865",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_99",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00865",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00865",available:!1,erp_ser_no:"0",form_type:"AF020"},E010601:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD010M_08",param:{Key:{},EditFlag:"I",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["saveprint"],"slipCopy","rewrite","popupClose","delete","fold"]},pageId:"EBD010M_01",label:"LBL01267",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EBD/EBD010M_08",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},noSvc:!0},list:{label:"LBL01267",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01267",available:!1,erp_ser_no:"0",form_type:"AF020"},E010602:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD010M_03_01",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["saveprint"],"slipCopy","rewrite","popupClose","delete","fold"]},pageId:"EBD010M_01",label:"LBL04525",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EBD/EBD010M_03_01",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},noSvc:!0},list:{label:"LBL04525",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL04525",available:!1,erp_ser_no:"0",form_type:"AF020"},E010603:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD010M_17",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["saveprint"],"slipCopy","rewrite","popupClose","delete","fold"]},pageId:"EBD010M_01",label:"LBL01266",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EBD/EBD010M_17",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},noSvc:!0},list:{label:"LBL01266",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL01266",available:!1,erp_ser_no:"0",form_type:"AF020"},E010604:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD010M_08_01",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["saveprint"],"slipCopy","rewrite","popupClose","delete","fold"]},pageId:"EBD010M_01",label:"LBL04527",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EBD/EBD010M_08_01",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},noSvc:!0},list:{label:"LBL04527",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL04527",available:!1,erp_ser_no:"0",form_type:"AF020"},E010605:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/EBD/EBD010M_07",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["saveprint"],"slipCopy","rewrite","popupClose","delete","fold"]},pageId:"EBD010M_01",label:"LBL04392",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EBD/EBD010M_07",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}},noSvc:!0},list:{label:"LBL04392",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL04392",available:!1,erp_ser_no:"0",form_type:"AF020"},E010611:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_30",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00528",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_30",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00528",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00528",available:!1,erp_ser_no:"0",form_type:"AF020"},E010612:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}&isFromEapproval=true',groupSelectors:[".wrapper-print"],selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD010M_31",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/SVC/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}","IsFromEdms":"true"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete","fold"]},pageId:"EBD010M_01",label:"LBL00522",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/SVC/EBD/EBD010M_31",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00522",pageId:"EBG001M",url:"/ECERP/SVC/EBG/EBG001M"},label:"LBL00522",available:!1,erp_ser_no:"0",form_type:"AF020"}}}};(typeof common=="undefined"||common==null)&&(common={});typeof common.pageToPage=="undefined"&&common.pageToPage==null&&(common.pageToPage={});common.pageToPage.bindRefParent=function(n){var i,s,r,t,u,f;try{if(i=!1,!ecmodule.common.eapproval._cn(opener)&&(i=!0,ecmodule.common.eapproval._cn(opener.closed)||opener.closed&&(i=!1),i))try{s=opener.p2p_onMessageHandler}catch(h){i=!1}if(ecmodule.common.eapproval._isNF()&&n!=null){var e=!1,o="self";if(!ecmodule.common.eapproval._cn(n))if(n===window||n===top.window)o="window";else if(ecmodule.common.eapproval._cne(n.__ecPageID)||ecmodule.common.eapproval._cne(n.popupLevel)||(e=!0,o="layer"),!ecmodule.common.eapproval._cne(n.__ecPageID)&&n.__ecPageID.length>3&&n.__ecPageID.substring(0,3).toLowerCase()!="egd")return!1;i&&opener.p2p_onMessageHandler&&!e?opener.p2p_onMessageHandler({page:n,pageID:"REF_POPUP",fromID:n.pageID},{request:"FINDPARENT",setParentInfo:function(n,t){this.RefParent={page:n,popup:{page:this,fromID:this.pageID},send:function(n,t){return typeof this.page.messageFromChild=="undefined"||this.page.messageFromChild==null?!1:this.page.messageFromChild(this.popup,this.initData,n,t)},initData:t};this.RefParent.send("INIT",{test:"hahaha"})}.bind(n)}):n.sendMessage({page:n,pageID:"REF_POPUP",fromID:n.pageID},{request:"FINDPARENT",setParentInfo:function(n,t){this.RefParent={page:n,popup:{page:this,fromID:this.pageID},send:function(n,t){return typeof this.page.messageFromChild=="undefined"||this.page.messageFromChild==null?!1:this.page.messageFromChild(this.popup,this.initData,n,t)},initData:t};this.RefParent.send("INIT",{test:"hahaha"})}.bind(n)})}else if(i)if(opener.__ecPageInvoke){if(r="",t=location.search.match(/(__ecPageID=[^&]*)/g),(typeof t=="undefined"||t==null)&&(t=[]),t.length>0&&(r=t[0].substring(11)),r=="")return;u="";t=location.href.match(/(\/[^&]*\.aspx)/ig);(typeof t=="undefined"||t==null)&&(t=[]);t.length>0&&(f=t[0].split("/"),u=f[f.length-1].replace(".aspx",""));opener.__ecPageInvoke(r,"onMessageHandler",{page:window,pageID:"REF_POPUP",fromID:u},{request:"FINDPARENT",setParentInfo:function(n,t){this.RefParent={page:n,popup:{page:this,fromID:u},send:function(n,t){return typeof this.page.messageFromChild=="undefined"||this.page.messageFromChild==null?!1:this.page.messageFromChild(this.popup,this.initData,n,t)},initData:t};this.RefParent.send("INIT",{test:"hahaha"})}.bind(window)})}else opener.p2p_onMessageHandler&&n&&opener.p2p_onMessageHandler({page:n,pageID:"REF_POPUP",fromID:n.pageID},{request:"FINDPARENT",setParentInfo:function(n,t){this.RefParent={page:n,popup:{page:this,fromID:this.pageID},send:function(n,t){return typeof this.page.messageFromChild=="undefined"||this.page.messageFromChild==null?!1:this.page.messageFromChild(this.popup,this.initData,n,t)},initData:t};this.RefParent.send("INIT",{test:"hahaha"})}.bind(n)})}catch(h){}};common.pageToPage.constructRefReceiver=function(n,t,i,r){if(t.pageID!="REF_POPUP")return!1;if(!(typeof i.request=="undefined"||i.request==null))switch(i.request){case"FINDPARENT":if(!(typeof i.setParentInfo=="undefined"||i.setParentInfo==null))return n.messageFromChild=typeof r.receiveMessage=="undefined"||r.receiveMessage==null?function(){}:r.receiveMessage,i.setParentInfo(n,r.getInitData(t,i)),!0}return!1};common.pageToPage.hasParent=function(n){return!(typeof n.RefParent=="undefined"||n.RefParent==null)};common.pageToPage.sendToParent=function(n,t,i){return common.pageToPage.hasParent(n)?n.RefParent.send(t,i):!0};(typeof common=="undefined"||common==null)&&(common={});(typeof common.asyncChain=="undefined"||common.asyncChain==null)&&(common.asyncChain=function(n){this.queue=n},common.asyncChain.prototype.start=function(n,t){var i=[];if(this.queue.length==0){n&&n(i);return}this.success=n;this.error=t;this._run(i)},common.asyncChain.prototype._run=function(n){var t,i,r,u;this.queue.length>0?(t=this.queue.shift(),i={req:t},n.push(i),r=function(){i.result={exception:null,success:!0,result:arguments};try{t.success&&t.success.apply(null,arguments)}catch(r){i.result.exception=r}this._run(n)}.bind(this),u=function(){i.result={exception:null,success:!1,result:arguments};try{t.error&&t.error.apply(null,arguments)}catch(r){i.result.exception=r}this.error&&this.error(n)}.bind(this),t.func?t.func(r,u):t.ajax&&$.ajax($.extend({success:r,error:u},t.ajax))):this.success&&this.success(n)});(typeof common=="undefined"||common==null)&&(common={});(typeof common.refLink=="undefined"||common.refLink==null)&&(common.refLink={erp:{getMappingInfo:function(){return this._mappingInfo},_mappingInfo:{CASE92:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},list:{url:"/ECERP/EBG/EBG013M",label:"LBL01213"},input:{url:"/ECERP/EBD/EBD016M?JournalType=06",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M"}},eqstr:"IO_DATE={0}&IO_NO={1}&IO_TYPE=98&SER_NO=06&DefaultGbType=Z",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType": "Z"}',pageId:"EBD016M",label:"LBL00267",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"06",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.Date,IO_NO:n.No,IO_TYPE:"98",SER_NO:"06"},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},label:"LBL00267",available:!1,erp_ser_no:"2",form_type:"AF060"},EST:{viewer:{url:"/ECERP/SVC/ESD/ESD002R",param:'FORM_SEQ={2}&FORM_TYPE=SF010&BASIC_TYPE={4}&EXREQ=GWER&Slips=[{"IO_DATE": "{0}", "IO_NO": {1}}]&SlipsInfos=[{"IO_DATE": "{0}", "IO_NO": {1}}]',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESD/ESD001M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M"}},eqstr:"",eparam:'{"EST_DATE":"{0}", "EST_NO":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["slipSave"],["slipSavePrint"],"slipCopy","rebuildContent","slipClose","slipDelete"]},pageId:"ESD001M",label:"LBL00432",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00434"},label:"LBL00420",available:!1,erp_ser_no:"0",ftype:"0",form_type:"SF010"},REQ:{viewer:{url:"/ECERP/SVC/ESG/ESG005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESG/ESG004M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"",PrevUrl:""}},eqstr:"",eparam:'{"ORD_DATE":"{0}", "ORD_NO":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["slipSave"],["slipSavePrint"],"slipCopy","rebuildContent","popupClose","slipClose","slipDelete"],exceptID:["finishSlipLoad"]},pageId:"ESG004M",label:"LBL00683",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL00684"},label:"LBL00672",available:!1,erp_ser_no:"100",form_type:"SF200"},EPD:{viewer:{url:"/ECERP/SVC/EPD/EPD021R",param:'SlipsInfos=[{"IO_DATE": {0}, "IO_NO": {1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&FORM_TYPE=PF080&BASIC_TYPE={3}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EPD/EPD020M",param:{Request:{}},eqstr:"",pageId:"EPD020M",eparam:'{"strDate":"{0}", "strSlipNo":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"slipCopy","Reset","close","delete"]},label:"LBL00771",copy:function(n,t){var i={Request:t};return i.Request.strDate=n.DATE,i.Request.strSlipNo=n.NO,i.Request.isSlipCopy=!0,i.Request.EDIT_FLAG="I",i}},list:{label:"LBL03882"},label:"LBL03815",available:!1,erp_ser_no:"100",form_type:"PF080"},CASE98:{viewer:{url:"/ECERP/SVC/EBZ/EBZ013P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD001M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M"}},eqstr:"",eparam:'{"TRX_DATE":"{0}", "TRX_NO":"{1}", "EditFlag":"M", "isOpenPopup":true, "DefaultGbType":"Z", "TRX_TYPE":"{10}", "SER_NO":"{11}"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"trxCopy","rewrite","close","delete"]},pageId:"EBD001M",label:"LBL93041",copy:function(n,t){return t.TRX_DATE=n.DATE,t.TRX_NO=n.NO,t.EditFlag="Copy",t.DefaultGbType="N",t.TRX_TYPE=n.TRX_TYPE,t.SER_NO=n.SER_NO,t.isOpenPopup=!0,t}},list:{label:"LBL01213"},label:"LBL03685",available:!1,erp_ser_no:"0",form_type:"AF020"},CASE93:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD015M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M",Data:{DefaultGbType:"N"}}},eqstr:"",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType":"Z"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"slipCopy","rewrite","popupClose","delete"]},pageId:"EBD015M",label:"LBL03838",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"05",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.DATE,IO_NO:n.NO,IO_TYPE:"98",SER_NO:"05",IsFromEapproval:!0,EditMode:ecenum.editMode.copy}}}}},list:{label:"LBL01213"},label:"LBL02253",available:!1,form_type:"AF050"},PLN:{viewer:{url:"/ECERP/SVC/ESJ/ESJ005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/ESJ/ESJ004M",param:{},eqstr:"",eparam:'{"IO_DATE":"{0}", "IO_NO":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["save"],["savePrint"],"slipCopy","bomView","rebuildContent","close","delete"]},pageId:"ESJ004M",label:"LBL02361",copy:function(n,t){return t.IO_DATE=n.DATE,t.IO_NO=n.NO,t.isSlipCopy=!0,t.EditFlag="M",t}},list:{label:"LBL02362"},label:"LBL02358",available:!1,form_type:"SF400"},ORD:{viewer:{url:"/ECERP/SVC/ESD/ESD005R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESD/ESD004M",param:{Request:{Key:{},EditMode:"01",FromProgramId:"",PrevUrl:""}},eqstr:"",eparam:'{"REQ_DATE":"{0}", "REQ_NO":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["slipSave"],["slipSavePrint"],"slipCopy","rebuildContent","slipClose","slipDelete"],exceptID:["finishSlipLoad"]},pageId:"ESD004M",label:"LBL02595",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL02597"},label:"LBL02586",erp_ser_no:"0",available:!1,form_type:"SF020"},CASE94:{viewer:{url:"/ECERP/SVC/EBG/EBG002P_01",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/EBD/EBD002M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M"}},eqstr:"",eparam:'{"TrxDate":"{0}", "TrxNo":"{1}", "EditFlag":"M", "IsPopup":true, "IsFromViewHistory": false, "DefaultGbType":"Z"}',pageId:"EBD002M",label:"LBL03843",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},Data:{JournalType:"04",EditFlag:"Copy",DefaultGbType:"N",IO_DATE:n.Date,IO_NO:n.No,IO_TYPE:"98",SER_NO:"04"},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL01213"},label:"LBL02660",available:!1,form_type:"AF040"},HYUN:{viewer:{url:"/ECERP/SVC/ESG/ESG019R",param:'SlipsInfos=[{"IO_DATE":"{0}","IO_NO":{1}}]&cs_flag=N&fax_Flag=Y&FORM_SEQ={2}&EXREQ=GWER&BASIC_TYPE={4}',selectors:[".wrapper-print-content.grid-wrapper-print-content"],isOld:!1},input:{url:"/ECERP/SVC/ESG/ESG018M",param:{Request:{Key:{},EditMode:"1",FromProgramId:"E070103",PrevUrl:"/ECERP/EGD/EGD002M"}},eqstr:"",eparam:'{"PUR_DATE":"{0}", "PUR_NO":"{1}", "EditFlag":"M"}',footerOption:{type:"show",targetID:[["slipSave"],["slipSavePrint"],"slipCopy","rebuildContent","slipClose","slipDelete"]},pageId:"ESG018M",label:"LBL04600",copy:function(n){return{Request:{Key:{Date:n.DATE,No:n.NO},PrevUrl:"/ECERP/EGD/EGD002M",EditMode:ecenum.editMode.copy,FromProgramId:"E070103"}}}},list:{label:"LBL06223"},label:"LBL06290",available:!1,erp_ser_no:"00004",form_type:"SF220"}}}});ecount&&ecount.runtime&&ecount.runtime.ready&&ecount.runtime.ready(function(){ecmodule.common.eapproval._ecountResource=ecount&&ecount.resource?ecount.resource:window.name!="__externalEcountIFrame"&&parent&&parent.ecount&&parent.ecount.resource?parent.ecount.resource:{};ecmodule.common.eapproval._gwerErrorToResource={ERROR0000:ecmodule.common.eapproval._ecountResource.LBL12057,ERROR0001:ecmodule.common.eapproval._ecountResource.LBL12055,ERROR0002:ecmodule.common.eapproval._ecountResource.MSG04285,ERROR0003:ecmodule.common.eapproval._ecountResource.MSG05944,ERROR0004:ecmodule.common.eapproval._ecountResource.LBL09693,ERROR0005:ecmodule.common.eapproval._ecountResource.LBL12056,ERROR0006:ecmodule.common.eapproval._ecountResource.LBL20066,ERROR0008:ecmodule.common.eapproval._ecountResource.MSG10414,ERROR0009:ecmodule.common.eapproval._ecountResource.MSG10415,ERROR0010:ecmodule.common.eapproval._ecountResource.MSG10418,ERROR0011:ecmodule.common.eapproval._ecountResource.MSG10431,ERROR0012:ecmodule.common.eapproval._ecountResource.LBL01611,ERROR0013:ecmodule.common.eapproval._ecountResource.MSG05986,ERROR0014:ecmodule.common.eapproval._ecountResource.MSG05970}});ecount.resource||(ecount.resource={});(typeof ecmodule=="undefined"||ecmodule==null)&&(ecmodule={});(typeof ecmodule.common=="undefined"||ecmodule.common==null)&&(ecmodule.common={});(typeof ecmodule.common.render=="undefined"||ecmodule.common.render==null)&&$(window).length!=0&&(ecmodule.common.render={bInit:!1,bResouceGet:!1,_parentEdms:null,_ifobj:{name:"",ifrm:null,window:null,document:null},_cc:null,_cc_edms:null,_bindCallback:null,_resid:"",_cn:function(n){return n===null||typeof n=="undefined"},_cne:function(n){return this._cn(n)||n==""},_debug:function(n){ecmodule.common.render._cn(console)||ecmodule.common.render._cn(console.log)||console.log(n)},bindCC:function(n){this._cc=n;this._cc_edms=this._cc.ecmodule.common.render;this._cn(this._bindCallback)||this._bindCallback()},sendFile:function(n,t,i){var e="---------------------------"+Math.floor(Math.random()*Math.pow(10,8)),f="",r,u,o;if(!this._cn(n.param))for(r in n.param)u=(f==""?"--":"\r\n--")+e+'\r\nContent-Disposition: form-data; name="'+r+'"\r\n\r\n',u+=n.param[r],f+=u;if(!this._cn(n.files))for(r=0;r<n.files.length;r++)u=(f==""?"--":"\r\n--")+e+'\r\nContent-Disposition: form-data; name="'+n.files[r].name+'"; ',u+='filename="'+n.files[r].fname+'"\r\n',this._cne(n.files[r].type)||(u+="Content-Type: "+n.files[r].type+"\r\n\r\n"),u+=n.files[r].src,f+=u;o="multipart/form-data; boundary="+e;f!=""&&(f+="\r\n--"+e+"--");n.url+=(n.url.indexOf("?")==-1?"?":"&")+"xct="+encodeURIComponent(o);$.ajax({url:n.url,method:"POST",data:f,beforeSend:function(n){n.setRequestHeader("Content-Type",o)},success:this._cn(t)?null:t,error:i})},_createTempIF:function(n,t){if(this._cne(t)&&(t="_edms_iframe"),this._cne(n)&&(n=""),$("."+t).length>0&&$("."+t).remove(),$("."+t).length==0){$(document.body).append('<iframe src="'+n+'" name="'+this._ifobj.name+'" class="'+t+' _edms_module" style="position:absolute;z-index:0;width:0;height:0;left:-100px;top:-100px"><\/iframe>');var i=this;this._ifobj.ifrm=$("."+t).get(0);$(this._ifobj.ifrm).load(function(){ecmodule.common.render._debug("onload if");i._ifobj.window=this.contentWindow||this;i._ifobj.document=this.contentDocument||i._ifobj.window.document;ecmodule.common.render._cn(i._ifobj.onloadCustomCallback)||i._ifobj.onloadCustomCallback();i._ifobj.onloadCustomCallback=null})}},moveTempIF:function(n,t,i){var e,r,u,f;if(n=$.ecrt(n),this._cn(i)&&(i=!1),this._cn(t))this._cn(this._ifobj.ifrm)||i?this._createTempIF(n):$(this._ifobj.ifrm).attr("src",n);else{if(this._createTempIF(),e=$("<form><\/form>"),r=$tfrom.get(0),!this._cn(t.reqdata))for(u in t.reqdata)f=$('<input type="hidden" name="'+u+'"/>'),f.value=t.reqdata[u],$tfrom.append(f);r.target=this._ifobj.name;r.method=this._cn(t.method)?"get":t.method;r.action=n;this._ifobj.ifrm.onloadCustomCallback=null;this._cn(t.callback)||(this._ifobj.ifrm.onloadCustomCallback=t.callback);tfrom.submit()}},init:function(n){var e,i;if(this._cne(n)&&(n=""),n!=""||!this.bInit){if(e=null,i=window.name=="__externalEcountIFrame"?window:parent,this._cn(i)||i===window||this._cn(i.common)||this._cn(i.ecmodule.common.render)||(e=i.ecmodule.common.render),this._cn(this._parentEdms)&&n=="cc"){if(this._cn(window.opener)||this._cn(window.opener.common)||this._cn(window.opener.ecmodule.common.render)?this._cn(i)||i===window||this._cn(i.common)||this._cn(i.ecmodule.common.render)||(this._parentEdms=i.ecmodule.common.render):this._parentEdms=window.opener.ecmodule.common.render,!this._cn(this._parentEdms)){this._parentEdms.bindCC(window);return}}else if(n=="cc")return;if(!this._cn(window.$)&&!this._cn($(window))){if(this._ifobj.name==""){var u=new Date,t=(u.getFullYear()+1e4).toString(),r=t.substring(t.length-4,t.length),f=r;t=(u.getMonth()+100).toString();r=t.substring(t.length-2,t.length);f+=r;t=(u.getDate()+100).toString();r=t.substring(t.length-2,t.length);f+=r;t=(u.getHours()+100).toString();r=t.substring(t.length-2,t.length);f+=r;t=(u.getMinutes()+100).toString();r=t.substring(t.length-2,t.length);f+=r;t=(u.getSeconds()+100).toString();r=t.substring(t.length-2,t.length);f+=r}this._cn(e)||ecmodule.common.render.init("cc");this._ifobj.name==""&&(this._ifobj.name="_edms_iframe_"+f);this.bInit=!0}}},_getStyleToJQObj:function(n){var r=null,u={background:{check:{"background-image":"none"},list:["background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size"]},"border-bottom":{check:{"border-bottom-width":"0px"},list:["border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width"]},"border-left":{check:{"border-left-width":"0px"},list:["border-left-color","border-left-style","border-left-width"]},"border-right":{check:{"border-right-width":"0px"},list:["border-right-color","border-right-style","border-right-width"]},"border-top":{check:{"border-top-width":"0px"},list:["border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width"]},"border-image":{check:{"border-image-source":"none"},list:["border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width"]}},s={"box-sizing":"content-box",clear:"none",float:"none",left:"auto","margin-bottom":"0","margin-left":"0","margin-right":"0","margin-top":"0",left:"auto",bottom:"auto",top:"auto",right:"auto","max-height":"none","max-width":"none","min-height":"0","min-width":"0","padding-bottom":"0","padding-left":"0","padding-right":"0","padding-top":"0",position:"static","text-decoration":"none","z-index":"auto","vertical-align":"baseline","text-overflow":"clip"},i=["width","height","content","background-color","border-collapse","display","color","font-family","font-size","font-style","font-weight","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","opacity","overflow-wrap","overflow-x","overflow-y","text-align","text-indent","visibility","white-space","word-break","word-spacing","word-wrap"],f={},e,o,t;if(this._cn(window.getComputedStyle)){r=n.currentStyle;for(t in u){e=0;for(o in u[t].check)r[o]!=u[t].check[o]&&e++;e>0&&(this._cn(u[t].list)||(i=i.concat(u[t].list)))}for(t in s)r[t]!=s[t]&&i.push(t);for(t=0;t<i.length;t++)!this._cne(r[i[t]])&&t>1||n.tagName=="col"||n.tagName=="colgroup"?f[i[t]]=r[i[t]]:t==0?f[i[t]]=r[i[t]]:t==1&&(f[i[t]]=r[i[t]])}else{r=window.getComputedStyle(n,null);for(t in u){e=0;for(o in u[t].check)r.getPropertyValue(o)!=u[t].check[o]&&e++;e>0&&(i=i.concat(u[t].list))}for(t in s)r.getPropertyValue(t)!=s[t]&&i.push(t);for(t=0;t<i.length;t++)!this._cne(r.getPropertyValue(i[t]))&&t>1||n.tagName=="col"||n.tagName=="colgroup"?f[i[t]]=r.getPropertyValue(i[t]):t==0?f[i[t]]=n.offsetWidth:t==1&&(f[i[t]]=n.offsetHeight)}return f},_getStyles:function(){for(var t,i=[],n=0;n<document.styleSheets.length;n++)t=document.styleSheets[n].rules||document.styleSheets[n].cssRules,!this._cn(t)&&t.length>0&&(i=i.concat(t));return i},_cpStyle:function(n,t){sprop=this._getStyleToJQObj(n);t.className="";$(t).css(sprop)},_imgManager:function(n,t){var r,i,u;return this.bResouceGet?(r="",n.tagName.toLowerCase()=="img"?this._cne($(n).attr("data-resid"))&&(i=$(n).attr("src"),r="i",$(n).attr("data-src",i).attr("src","__res"+t+"__"),$(n).attr("data-restype",r).attr("data-resid",t)):this._cne(n.style.backgroundImage)||n.style.backgroundImage.indexOf("url(")==-1||this._cne($(n).attr("data-resid"))&&(i=$(n).css("background-image").replace(/^url\("?/,"").replace(/"?\)$/,""),r="b",$(n).attr("data-src",i).css("background-image","url(__res"+t+"__)"),$(n).attr("data-restype",r).attr("data-resid",t)),this._cn(i)||i.indexOf("//")!=-1||(i.indexOf("/")==0?i="//"+location.hostname+(location.port==""?"":":"+location.port)+i:(u=location.pathname.split("/"),u.pop(),u=u.join("/"),i="//"+location.hostname+(location.port==""?"":":"+location.port)+u+"/"+i)),{id:t,t:r,src:i}):{t:""}},_getCSO0:function(n,t){var i,u,e,l,c,r;t="ncp";i={$el:null,length:0,resource:[]};u=null;u=n!="undefined"&&n!=null&&typeof n=="string"?$("<div><\/div>").append(n).children():$(n);var f=u.clone(),a=this._resid,s=":not(script,link)";if(t!="ncp"||!0){r=u.find("*"+s);this._debug("obj count:"+r.length);var v=f.find("*"+s),h=n,o=f.get(0);for(t!="ncp"&&this._cpStyle(h,o),e=0;e<r.length;e++)h=r.get(e),o=v.get(e),t!="ncp"&&this._cpStyle(h,o),l=a+i.resource.length,c=this._imgManager(o,l),c.t!=""&&i.resource.push(c);i.length=r.length+1}else r=u.find("*"+s),i.length=r.length+1;return f.find("script,link").remove(),f.css("position","static").css({left:"auto",top:"auto"}),i.$el=f,i},_getCSO2:function(n){var w=this._getStyles(),u=$(n),o=null,b=function(n){for(var r,f,e,i=n.split(/;/g),u={},t=0;t<i.length;t++){if(i[t]=="")break;if(r=i[t].match(/^[^:]*:\s*/g),this._cn(r)||r.length<2){this._cn(o)||(u[o]+=i[t]);o=null;continue}f=r[0].replace(/^\s*/g,"").replace(/\s*:\s*$/g,"");e=i[t].split(r[0])[1].replace(/\s*;\s*$/g,"");o=f;u[f]=e}return u},a,v,s,f,h,e,k,d,t,i,r,l;for(u.addClass("_cx"),u.find("*").addClass("_cx"),a=[],t=0;t<w.length;t++)for(v=w[t],s=0;s<v.length;s++)if(f=v[s],!this._cn(f.style)&&(h=f.selectorText,e=f.style.cssText,!this._cne(h)&&!this._cne(e)&&h.indexOf(":")==-1)){i=b.call(this,e);k=a.length;a[k]={s:f,cssobj:i};d=$(h);for(r in i)d.attr("data-"+r,i[r])}var y=u.clone(),p=y.find("*"),g=u.find("*"),nt={$el:null,length:p.length+1};for(this._cpStyle(u[0],y[0]),t=0;t<p.length;t++){var c=p.eq(t),tt=c.get(0),e=tt.style.cssText;if(!this._cne(e)){i=b.call(this,e);for(r in i)c.attr("data-"+r,i[r])}l=c.data();l.width=g.get(t).clientWidth;l.height=g.get(t).clientHeight;c.css(l)}return nt.$el=y,nt},_getCSO1:function(n){var s=[],f={},e=[],r,y,t,p,c,o,u,l,h,a;for(e.push(n),r=$(n),r.addClass("_cx"),r.find("*").addClass("_cx"),y=$(n).clone();e.length>0;)if(t=e.shift(),p={fnm:"",snm:"",cssText:""},$t=$(t),!r.hasClass("_cxc")){if(h=r.find("._cx"),this._cne($t.data("cx_idx"))){var v=$t.parent(),i="";i+=v.length>0?"._cx"+v.data("cx_idx")+">":"";i+=t.tagName;this._cne(t.id)&&(i+="#"+t.id);c=t.className.replace(/^\s+/,"").replace(/\s+$/,"");c!=""&&(o=c.split(/\s+/).join("."),o!=""&&(i+="."+o));u=null;this._cn(f[i])?(u={sel:o,inline:$(t).attr("style"),cominline:t.style.cssText,comstyle:this._getStyleToJQObj(t)},l=s.length,s[l]=u,f[u.sel]=l):u=s[f[i]];h=r.find(u.clsAll);h.addClass("_cx"+f[i]).data("cx_idx",f[i])}a=r.children().toArray();a.length>0&&(e=e.concat(a))}return{$el:null,length:0}},getComputedStyleObject:function(n,t){this._cn(t)&&(t="");var i=new Date;return this._getCSO0(n,t)},getComputedStyleHtml:function(n,t){var r=this.getComputedStyleObject(n,t),u=r.$el,i=$(document.createElement("div"));return i.css("display","none"),i.append(u),{src:i.html(),resource:r.resource}},getComputedStyleHtml$:function(n,t,i){var o=[],s,f,u,r,e;if(i)for(s=$(i,document),f=0;f<s.length;f++)for(u=s.eq(f).find(n),r=0;r<u.length;r++)e=u.get(r),o.push(_.extend(this.getComputedStyleHtml(e),{group:f+1}));else for(u=$(n,document),r=0;r<u.length;r++)e=u.get(r),o.push(this.getComputedStyleHtml(e));return o},getHTML:function(n){this.__COMMON_RENDER_CALLBACK_ID&&(console.log("[ unexpected ] this.__COMMON_RENDER_CALLBACK_ID - "+this.__COMMON_RENDER_CALLBACK_ID),window.clearTimeout(this.__COMMON_RENDER_CALLBACK_ID));this.__COMMON_RENDER_CALLBACK_ID=window.setTimeout(function(){this.__COMMON_RENDER_CALLBACK_ID=null;this._bindCallback=function(){};console.log("[ clear by timeout ] this.__COMMON_RENDER_CALLBACK_ID - "+this.__COMMON_RENDER_CALLBACK_ID);this._cn(n.callback)||n.callback({error:"error",result:[]})}.bind(this),this._cn(n.timeout)?15e3:n.timeout);console.log("[ create ] this.__COMMON_RENDER_CALLBACK_ID - "+this.__COMMON_RENDER_CALLBACK_ID);this._bindCallback=function(t,i){var r,f,u,e;if(!this._cn(t)||!n.wait){if(this.__COMMON_RENDER_CALLBACK_ID&&(console.log("[ clear ] this.__COMMON_RENDER_CALLBACK_ID - "+this.__COMMON_RENDER_CALLBACK_ID),window.clearTimeout(this.__COMMON_RENDER_CALLBACK_ID),this.__COMMON_RENDER_CALLBACK_ID=null),this._bindCallback=null,i)n.error="warning";else{for(r=[],f=this._resid,u=0;u<n.selectors.length;u++)this._cc_edms._resid=f+"_"+r.length,e=this._cc_edms.getComputedStyleHtml$(n.selectors[u],null,n.groupSelectors&&n.groupSelectors[u]),r=r.concat(e);n.result=r}this._cn(n.callback)||n.callback(n)}}.bind(this);this.moveTempIF(n.url,null,!0)},runCallback:function(n){if(!this._cn(parent)&&parent.$&&parent.$("iframe._edms_iframe._edms_module").length>0){var t=parent.$("iframe._edms_iframe._edms_module")[0],i=null;if(t.contentDocument?i=t.contentDocument:t.contentWindow&&(i=t.contentWindow.document),!(i===document))return}this._cn(this._parentEdms)?this._cn(this._bindCallback)||this._bindCallback(!0,n):this._cn(this._parentEdms._bindCallback)||(console.log(this._parentEdms._bindCallback),this._parentEdms._bindCallback(!0,n))}});this.name.indexOf("generalSlip")==-1&&($?this.location.href.indexOf("EBG002P_02")>-1?ecmodule.common.render.init():$(window).load(function(){ecmodule.common.render.init()}):ecmodule.common.render.init());ecount.TemporarySave=function(){var n={isSaved:!1,isLoad:!1,isOpenPopup:!1,compareTempStorage:{masterData:"",detailData:"",editorData:"",extraDetailData:"",viewBagData:"",KeyValue:""},key:{COM_CODE:"",BOARD_CD:"",BOARD_SEQ:"",BOARD_TYPE:"",IO_DATE:"",IO_NO:0,IO_TYPE:"",VERSION_NO:0,LOGIN_ID:"",LastModified:"",IsUsedExtraFeatures:!1,ExtraTabPanesID:[]},timerEntity:[],timerOptions:{pageID:"",timerID:0,IsRaisingActionEvent:!1,periodTimer:2e4},availableStorage:0,detailLineMaxCnt:100,savedStorage:0,maxSaveStorage:3072},t;return{setKeys:function(n){t=n=="acc"?["_m_acc","_d_acc","size_acc","wid_acc","formtype_acc","c_c_acc","v_key_acc","vb_key"]:["_m","_d","size","wid","formtype","c_c","v_key","vb_key"]},getKeys:function(){return t!=null?t:["_m","_d","size","wid","formtype","c_c","v_key","vb_key"]},setViewBagKey:function(n,t){var i="",r,u;switch(n){case"inv":i=t.COM_CODE+t.LOGIN_ID+t.IO_TYPE+t.IO_DATE+t.IO_NO;break;case"acc":i=t.COM_CODE+t.LOGIN_ID+t.IO_TYPE+t.TRX_DATE+t.TRX_NO;break;case"board":i=t.COM_CODE+t.LOGIN_ID+t.BOARD_TYPE+t.BOARD_CD+t.BOARD_SEQ}r=localStorage.getItem(ecount.TemporarySave.getKeys()[7]);u=btoa(unescape(encodeURIComponent(i)));r&&localStorage.removeItem(r);localStorage.setItem(ecount.TemporarySave.getKeys()[7],u)},getViewBagKey:function(){return localStorage.getItem(ecount.TemporarySave.getKeys()[7])},getTimerForPageID:function(t,i){var r,u;if(i||ecount.TemporarySave.unregisterDestroyedTimer(),r=null,n.timerEntity.length<=0)return null;for(u=0;u<n.timerEntity.length;u++)if(n.timerEntity[u]!=null&&n.timerEntity[u].pageID==t){r=n.timerEntity[u];break}return r!=null&&r.timerID!=null&&r.timerID>=0&&clearTimeout(r.timerID),r},setTempSaveTimerOptions:function(t){if(t==null)return!1;var i=ecount.TemporarySave.getTimerForPageID(t.pageID);return i==null&&n.timerEntity.push(t),!0},setUnregistTimerOptions:function(t,i){var u=ecount.TemporarySave.getTimerForPageID(t,i),r;if(u!=null){if(u.timerID!=null&&u.timerID>=0&&clearTimeout(u.timerID),u=null,n.timerEntity.length<=0)return null;for(r=0;r<n.timerEntity.length;r++)if(n.timerEntity[r]!=null&&n.timerEntity[r].pageID==t){n.timerEntity[r]=null;break}for(r=n.timerEntity.length-1;r>=0;r--)n.timerEntity[r]==null&&n.timerEntity.splice(r,1)}},unregisterDestroyedTimer:function(){var t,i;if(n.timerEntity.length>0)for(t=0;t<n.timerEntity.length;t++)if(n.timerEntity[t]!=null)try{i=ecount.runtime.getPage(n.timerEntity[t].pageID);i&&$("body").find(i.$el).length!=0||(console.log("ecount.TemporarySave.timer >> setUnregistTimerOptions >> "+n.timerEntity[t].pageID),ecount.TemporarySave.setUnregistTimerOptions(n.timerEntity[t].pageID,!0))}catch(r){}},setRasingEvent:function(t){var i=ecount.TemporarySave.getTimerForPageID(t);return i!=null&&(i.IsRaisingActionEvent=!0,n.timerEntity[t]!=null&&n.timerEntity[t].timerID>=0&&clearTimeout(n.timerEntity[t].timerID)),!0},resetEvent:function(t){var i=ecount.TemporarySave.getTimerForPageID(t);return i!=null&&(i.IsRaisingActionEvent=!1,n.timerEntity[t]!=null&&n.timerEntity[t].timerID>=0&&clearTimeout(n.timerEntity[t].timerID)),!0},getTimerOptions:function(){return n.timerOptions},setSaveFlag:function(t){n.isSaved=t},getSaveFlag:function(){return n.isSaved},setCompareTempMasterData:function(t){var i=Object.toJSON(t);return n.compareTempStorage.masterData=i,!_.isEmpty(i)},setCompareTempDetailData:function(t){var r,u,i,f;if(t==null)return!1;for(r=JSON.parse(t),u=[],i=0;i<ecount.TemporarySave.getDetailMaxCount();i++){if(r[i]==null)break;r[i].SERIAL_IDX&&(r[i].SERIAL_IDX="");u.push(r[i])}return f=u.toJSON(),n.compareTempStorage.detailData=f,!_.isEmpty(f)},setCompareTempEditorData:function(t){var i=Object.toJSON(t);return n.compareTempStorage.editorData=i,!_.isEmpty(i)},setCompareTempExtraDetailData:function(t){var r,u,i,f;if(t==null||ecount.TemporarySave.getIsUsedExtraFeatures()==!1)return!1;for(r=JSON.parse(t),u=[],i=0;i<ecount.TemporarySave.getDetailMaxCount();i++){if(r[i]==null)break;r[i].SERIAL_IDX&&(r[i].SERIAL_IDX="");u.push(r[i])}return f=u.toJSON(),n.compareTempStorage.extraDetailData=f,!_.isEmpty(f)},setCompareTempViewBagData:function(t){if(t==null)return!1;n.compareTempStorage.viewBagData=Object.toJSON(t)},setCompareTempKeyValue:function(t){var i=Object.toJSON(t);return n.compareTempStorage.KeyValue=i,!_.isEmpty(i)},getCompareTempMasterData:function(){return JSON.parse(n.compareTempStorage.masterData)},getCompareTempDetailData:function(){return n.compareTempStorage.detailData},getCompareTempEditorData:function(){return JSON.parse(n.compareTempStorage.editorData)},getCompareTempExtraDetailData:function(){return JSON.parse(n.compareTempStorage.extraDetailData)},getCompareTempViewBagData:function(){return JSON.parse(n.compareTempStorage.viewBagData)},getCompareTempKeyValue:function(){return JSON.parse(n.compareTempStorage.KeyValue)},setLoadFlag:function(t){n.isLoad=t},getLoadFlag:function(){return n.isLoad},getOptions:function(){return n.options},setKey:function(n){n!=null&&(n.COM_CODE==null&&(n.COM_CODE=""),n.IO_DATE==null&&(n.IO_DATE=""),n.IO_NO==null&&(n.IO_NO=0),n.IO_TYPE==null&&(n.IO_TYPE=""),n.VERSION_NO==null&&(n.VERSION_NO=0),n.LOGIN_ID==null&&(n.LOGIN_ID=""),n.IsUsedExtraFeatures==null&&(n.IsUsedExtraFeatures=!1),n.ExtraTabPanesID==null&&(n.ExtraTabPanesID=[]),n.BOARD_CD==null&&(n.BOARD_CD=0),n.BOARD_SEQ==null&&(n.BOARD_SEQ=0),n.BOARD_TYPE==null&&(n.BOARD_TYPE="N"),n.EDMS_IDX==null&&(n.EDMS_IDX=""),key=n)},getKey:function(){return n.key},setComCode:function(t){n.key.COM_CODE=t},getComCode:function(){return n.key.COM_CODE},setIoDate:function(t){n.key.IO_DATE=t},getIoDate:function(){return n.key.IO_DATE},setIoNo:function(t){n.key.IO_NO=t},getIoNo:function(){return n.key.IO_NO},setIoType:function(t){n.key.IO_TYPE=t},getIoType:function(){return n.key.IO_TYPE},setVersionNo:function(t){n.key.VERSION_NO=t},getVersionNo:function(){return n.key.VERSION_NO},setLoginID:function(t){n.key.LOGIN_ID=t},getLoginID:function(){return n.key.LOGIN_ID},getDetailMaxCount:function(){return n.detailLineMaxCnt},setSaveStorage:function(t){n.savedStorage+=t},getSaveStorage:function(){return n.savedStorage},getmaxSaveStorage:function(){return n.maxSaveStorage},setavailableStorage:function(t){n.availableStorage=t},getavailableStorage:function(){return n.availableStorage},setLastModifiedDate:function(t){n.key.LastModified=t},setIsOpenPopup:function(t){n.isOpenPopup=t},getIsOpenPopup:function(){return n.isOpenPopup},getIsUsedExtraFeatures:function(){return n.key.IsUsedExtraFeatures||!1},setIsUsedExtraFeatures:function(t){n.key.IsUsedExtraFeatures=t},getExtraTabPanesID:function(){return n.key.ExtraTabPanesID},setExtraTabPanesID:function(t){n.key.ExtraTabPanesID=t||[]},setBoardCD:function(t){n.key.BOARD_CD=t},getBoardCD:function(){return n.key.BOARD_CD},setBoardSeq:function(t){n.key.BOARD_SEQ=t},getBoardSeq:function(){return n.key.BOARD_SEQ},setBoardType:function(t){n.key.BOARD_TYPE=t},getBoardType:function(){return n.key.BOARD_TYPE}}}();ecount.TemporarySave.config=function(){return{IsSupport:function(){return typeof Storage!="undefined"||window.localStorage?!0:!1},IsEnableSave:function(){var n=this.getCurrentMaxSize(ecount.TemporarySave.getKeys());return n-=this.getUsedDataLength(),ecount.TemporarySave.setavailableStorage(n),!0},getMasterData:function(n){var t=[];try{t=localStorage.getItem(n[0]);t=t!=null?JSON.parse(t):[]}catch(i){}return t},getDetailData:function(n){var t=[];try{t=localStorage.getItem(n[1]).decodeBase64();t=pako.inflate(t,{to:"string"});t=t!=null?JSON.parse(t):[]}catch(i){}return t},getExtraDetailData:function(n){var t=[];try{ecount.TemporarySave.getIsUsedExtraFeatures()?(t=localStorage.getItem(n).decodeBase64(),t=pako.inflate(t,{to:"string"}),t=t!=null?JSON.parse(t):[]):t=[]}catch(i){}return t},getViewBagData:function(n){var t=null;try{t=localStorage.getItem(n);$.isNull(t)||(t=t.decodeBase64(),t=pako.inflate(t,{to:"string"}),$.isNull(t)||(t=JSON.parse(t)))}catch(i){}return t},setMasterData:function(n,t){try{var i=JSON.stringify(n);if(ecount.TemporarySave.setSaveStorage(i.length/1024),ecount.TemporarySave.config.IsSupport()&&ecount.TemporarySave.config.IsEnableSave())return localStorage.setItem(t[0],i),!0}catch(r){return!1}return!0},setDetailData:function(n,t){var r,f,i,u;if(n==null)return!1;try{for(r=JSON.parse(n),f=[],i=0;i<ecount.TemporarySave.getDetailMaxCount();i++){if(r[i]==null)break;r[i].SERIAL_IDX&&(r[i].SERIAL_IDX="");f.push(r[i])}if(u=f.toJSON(),ecount.TemporarySave.setSaveStorage(u.length/1024),ecount.TemporarySave.config.IsSupport()&&ecount.TemporarySave.config.IsEnableSave())return u=pako.deflate(u,{to:"string"}),localStorage.setItem(t[1],u.encodeBase64()),!0}catch(e){return!1}return!0},setEditorData:function(n,t){try{var i=JSON.stringify(n);if(ecount.TemporarySave.setSaveStorage(i.length/1024),ecount.TemporarySave.config.IsSupport()&&ecount.TemporarySave.config.IsEnableSave())return i=pako.deflate(i,{to:"string"}),localStorage.setItem(t[1],i.encodeBase64()),!0}catch(r){return!1}return!0},setExtraDetailData:function(n,t){var r,f,i,u;if(t==null||ecount.TemporarySave.getIsUsedExtraFeatures()==!1)return!1;try{for(r=JSON.parse(t),f=[],i=0;i<ecount.TemporarySave.getDetailMaxCount();i++){if(r[i]==null)break;r[i].SERIAL_IDX&&(r[i].SERIAL_IDX="");f.push(r[i])}if(u=f.toJSON(),ecount.TemporarySave.setSaveStorage(u.length/1024),ecount.TemporarySave.config.IsSupport()&&ecount.TemporarySave.config.IsEnableSave())return u=pako.deflate(u,{to:"string"}),localStorage.setItem(n,u.encodeBase64()),!0}catch(e){return!1}return!0},setViewBagData:function(n,t){if(n==null)return!1;try{var i=Object.toJSON(n);if(ecount.TemporarySave.setSaveStorage(i.length/1024),ecount.TemporarySave.config.IsSupport()&&ecount.TemporarySave.config.IsEnableSave())return i=pako.deflate(i,{to:"string"}),localStorage.setItem(t,i.encodeBase64()),!0}catch(r){return!1}return!0},getRestoreOnLoadFlag:function(){return localStorage.getItem("restoreOnLoad")},setRestoreOnLoadFlag:function(n){localStorage.setItem("restoreOnLoad",n)},setInitDataFlag:function(n){if(typeof n!="boolean"){console.log("## setInitDataFlag 을 처리하지 못했습니다. 타입을 확인해주세요!! Please Check Type!!");return}if(n){localStorage.setItem("isInitTempSave",n);return}if(!n){localStorage.removeItem("isInitTempSave");return}},getInitDataFlag:function(){return JSON.parse(localStorage.getItem("isInitTempSave"))},getCurrentMaxSize:function(n){if(ecount.TemporarySave.config.IsSupport()&&!localStorage.getItem(n[2])){try{localStorage.setItem(n[2],ecount.TemporarySave.getmaxSaveStorage())}catch(t){return 0}return parseInt(localStorage.getItem(n[2]))}return ecount.TemporarySave.config.IsSupport()?parseInt(localStorage.getItem(n[2])):0},getUsedDataLength:function(){for(var r,t,i=0,n=0;n<localStorage.length;n++)r=localStorage.key(n),t=localStorage[r],i=t.length<=0?0:t.length/1024,ecount.TemporarySave.setSaveStorage(i);return ecount.TemporarySave.getSaveStorage()},clearstorage:function(n){if(localStorage.getItem(n[0])!=null&&localStorage.removeItem(n[0]),localStorage.getItem(n[1])!=null&&localStorage.removeItem(n[1]),localStorage.getItem(n[6])!=null&&localStorage.removeItem(n[6]),ecount.TemporarySave.getIsUsedExtraFeatures()){if(ecount.TemporarySave.getExtraTabPanesID()==null)return;for(var t=0;t<ecount.TemporarySave.getExtraTabPanesID().length;t++)ecount.TemporarySave.getExtraTabPanesID()[t].tabID&&localStorage.removeItem(ecount.TemporarySave.getExtraTabPanesID()[t].tabID)}localStorage.removeItem(localStorage.getItem(n[7]));localStorage.removeItem(n[7]);localStorage.removeItem("restoreOnLoad")},setKeyValue:function(n,t){var i=JSON.stringify(n);if(ecount.TemporarySave.config.IsSupport()){try{localStorage.setItem(t[6],i)}catch(r){}return localStorage.getItem(t[6])}return""},getKeyValue:function(n){var t={};try{t=localStorage.getItem(n[6]);t=t!=null?JSON.parse(t):{}}catch(i){}return t},getCurrentVoucherDatas:function(){return{}},getCompleteMessage:function(){return""},getSummaryAtSelectedCols:function(n){var f={},r,u,t,i;if(n==null||n.length<=0)return f;for(t=0;t<n.length;t++)f[n[t]]=new Decimal(0);try{for(r=ecount.TemporarySave.config.getDetailData(ecount.TemporarySave.getKeys()),u=new Decimal(0),t=0;t<n.length;t++){for(u=new Decimal(0),n[t]=="remarks"&&(n[t]="totalAmount"),i=0;i<r.length;i++)r[i][n[t].toUpperCase()]!=null&&r[i][n[t].toUpperCase()]!=""&&(u=u.plus(new Decimal(r[i][n[t].toUpperCase()])));f[n[t]]=u}}catch(e){}return f},getChoiceMenu:function(n){if(n.TYPE=="ACC")return"acc";if(n.TYPE=="TAX")return"tax";if(n.TYPE==="DRAFT"||n.EDMS_IDX==="")return"draft";var t=ecount.TemporarySave.config.getKeyValue(ecount.TemporarySave.getKeys());return(t.IO_DATE||"")==""||(t.BOARD_CD||"")==""?(n.BOARD_CD||"")!=""?"board":n.EDMS_IDX?"draft":"inv":(t.BOARD_CD||"")==""?"slip":"inv"},getDataOnTop:function(){return[]},getDataOnBottom:function(n){var t=[];try{t=localStorage.getItem(n[1]).decodeBase64();t=pako.inflate(t,{to:"string"});t=t!=null?JSON.parse(t):[]}catch(i){}return t}}}();ecount.TemporarySave.enum={callType:{start:"start",reset:"reset"}};ecount.module("ecmodule.common.xNoti",{master:{CNNT_TGT_KEY:"",COND_SNO:null,Data:[],NOTI_FCTY_TYPCD:"",NOTI_SNO:1,NOTI_TYPCD:"",USE_SMS:!0},detail:{ANSW_WRTR_TF:null,APP_NOTI_SEND_TF:null,CC_TF:null,CS_SHARER_TF:null,DLVRR_TF:null,EMAIL_SEND_TF:null,EMAIL_TTL_CTT:"",LNK_ATT_TF:null,SMS_SEND_TF:null,KAKAO_SEND_TF:null,MSGR_MSOP_CTT:"",MSGR_SEND_TF:null,MSOP_SEND_TF:null,NOTI_DEPT:[],NOTI_ID:[],NOTI_NAME:[],NOTI_DEPT_DES:[],SHARER_TF:null,SMS_SEND_CTT:"",WRTR_TF:null},getInitNotiInfo:function(n){var t,r,i;if(n=n||{},t=$.extend({},this.master,n.data||{}),!t.Data||t.Data.length==0)return r={NOTI_TYPCD:"",Data:_.cloneDeep(this.detail)},t.NOTI_TYPCD&&(r.NOTI_TYPCD=t.NOTI_TYPCD),t.Data=[r],t;for(i=0;i<t.Data.length;i++)t.Data[i].Data=$.extend({},this.detail,t.Data[i].Data||{});return t},getNotiInfoByTab:function(n){var i,t;if(n=n||{},!n.detail||n.detail.length==0)return _.cloneDeep(this.detail);if(n.detail.length==1)return _.first(n.detail).Data;for(t=0;t<n.detail.length;t++)if(n.detail[t].NOTI_TYPCD==n.tabId){i=n.detail[t].Data;break}return!i||!n.tabId?_.first(n.detail).Data:i},getCttPopoverText:function(n){n=n||{};var t={NC:ecount.resource.MSG11221,NS:ecount.resource.MSG10501,NB:ecount.resource.MSG10503,C:ecount.resource.MSG11221,CS:ecount.resource.MSG10934,A:ecount.resource.MSG10553,O:ecount.resource.MSG10936,SS:ecount.resource.MSG10501,SB:ecount.resource.MSG10503,SE:ecount.resource.MSG10505,FILE_SECU:ecount.resource.MSG10962,CP:ecount.resource.MSG11433};return n.sendType?t[n.sendType]:""},getCttPlaceHolder:function(n){var i,t;return(n=n||{},i={NS:{N:ecount.resource.MSG10893,M:ecount.resource.MSG10894,D:ecount.resource.MSG10895},NB:{N:ecount.resource.MSG10896,M:ecount.resource.MSG10897,D:ecount.resource.MSG10898,RN:ecount.resource.MSG10899,RM:ecount.resource.MSG10900,RD:ecount.resource.MSG10901},NC:{N:ecount.resource.MSG11118,M:ecount.resource.MSG11119,D:ecount.resource.MSG11120},C:{SC:ecount.resource.MSG10902},CS:{N:ecount.resource.MSG10903,M:ecount.resource.MSG10904,D:ecount.resource.MSG10905,DN:ecount.resource.MSG10906,CX:ecount.resource.MSG10907,noti:{DN:ecount.resource.MSG10908,CX:ecount.resource.MSG10909}},A:{A:ecount.resource.MSG10554},O:{C:ecount.resource.MSG10614,P:ecount.resource.MSG10615},SS:{S:ecount.resource.MSG10502},SB:{S:ecount.resource.MSG10910},SE:{S:ecount.resource.MSG10911},FILE_SECU:{FSEC:ecount.resource.LBL21299},CP:{M:ecount.resource.MSG11205}},!n.sendType||!n.tabId)?"":(t=i[n.sendType][n.tabId],n.noti&&(t=i[n.sendType].noti[n.tabId]),_.includes(t,"<br/>")&&(t=t.replace(/<br\/>/g,"\n")),t)},getNotiTargetCnt:function(n){return n=n||{},n.detail||(n.detail=this.getNotiInfoByTab({detail:n.data,tabId:n.tabId})),this.getNotiIdData({detail:n.detail}).length+this.getNotiDeptData({detail:n.detail}).length},getNotiIdData:function(n){var i,t;if(n=n||{},n.detail||(n.detail=this.getNotiInfoByTab({detail:n.data,tabId:n.tabId})),n.key||(n.key="NOTI_ID",n.label="NOTI_NAME"),i=[],!$.isEmpty(n.detail[n.key]))for(t=0;t<n.detail[n.key].length;t++)i.push({label:n.detail[n.label][t],value:n.detail[n.key][t]});return i},getNotiDeptData:function(n){var i,t;if(n=n||{},n.detail||(n.detail=this.getNotiInfoByTab({detail:n.data,tabId:n.tabId})),n.key||(n.key="NOTI_DEPT",n.label="NOTI_DEPT_DES"),i=[],!$.isEmpty(n.detail[n.key]))for(t=0;t<n.detail[n.key].length;t++)i.push({label:n.detail[n.label][t],value:n.detail[n.key][t]});return i},getSendTypeData:function(n){var u,f,e,t,r,i,o;for(n=n||{},n.detail||(n.detail=this.getNotiInfoByTab({detail:n.data,tabId:n.tabId})),u=ecount.config.company.SEND_CONFIG.SMS_USE,$.isEmpty(n.isUseSMS)||(u=n.isUseSMS?ecount.config.company.SEND_CONFIG.SMS_USE:n.isUseSMS),f=ecount.config.company.SEND_CONFIG.KAKAO_USE,$.isEmpty(n.isUseSMS)||(f=n.isUseSMS?ecount.config.company.SEND_CONFIG.KAKAO_USE:n.isUseSMS),e=ecount.config.company.SEND_CONFIG.MOBILE_USE,$.isEmpty(n.isUseSMS)||(e=n.isUseSMS?ecount.config.company.SEND_CONFIG.MOBILE_USE:n.isUseSMS),t={type:{label:[ecount.resource.LBL70053,ecount.resource.LBL01177,ecount.resource.LBL19012,ecount.resource.LBL10165,ecount.resource.LBL02695,ecount.resource.LBL19486],popover:ecount.resource.MSG09514,value:["EMAIL_SEND_TF","SMS_SEND_TF","KAKAO_SEND_TF","MSGR_SEND_TF","MSOP_SEND_TF","APP_NOTI_SEND_TF"],select:[],readOnlyByIndex:[]},link:{setAddonTitle:ecount.resource.LBL19298,setAddonPopover:{content:ecount.resource.MSG09935,isLeftView:!0},value:["LNK_ATT_TF"],select:[],hide:!0,readOnly:!1}},r=!1,i=0;i<t.type.value.length;i++)ecount.common.isTrue(n.detail[t.type.value[i]])&&(n.isCheckedTarget===!0?_.includes(n.isReadonlyNotiType,t.type.value[i])||(r=!0):r=!0,r==!0&&t.type.select.push(t.type.value[i]),r=!1);return ecount.common.isTrue(n.detail.LNK_ATT_TF)&&(t.link.select=t.link.value),_.includes(t.type.select,"SMS_SEND_TF")&&(t.link.hide=!1),n.isShowMobile&&(t.link.hide=!1),u||(t.type.label=t.type.label.filter(function(n){return n!==ecount.resource.LBL01177}),t.type.value=t.type.value.filter(function(n){return n!=="SMS_SEND_TF"}),t.type.select=t.type.select.filter(function(n){return n!=="SMS_SEND_TF"}),t.link.hide=!0,t.link.select=[]),f||(t.type.label=t.type.label.filter(function(n){return n!==ecount.resource.LBL19012}),t.type.value=t.type.value.filter(function(n){return n!=="KAKAO_SEND_TF"}),t.type.select=t.type.select.filter(function(n){return n!=="KAKAO_SEND_TF"})),(n.tabId=="D"||n.tabId=="RD")&&(t.link.readOnly=!0,t.link.select=[]),_.includes(t.type.select,"MSOP_SEND_TF")||(o=_.findIndex(t.type.value,function(n){return n==="APP_NOTI_SEND_TF"}),o>-1&&t.type.readOnlyByIndex.push(_.findIndex(t.type.value,function(n){return n==="APP_NOTI_SEND_TF"}))),n.isCheckedTarget===!0&&_.forEach(t.type.value,function(n,i){_.includes(["EMAIL_SEND_TF","SMS_SEND_TF","KAKAO_SEND_TF","MSGR_SEND_TF"],n)&&t.type.readOnlyByIndex.push(i)}),t},setNotiCttValue:function(n){var i,u,t,r;if(n=n||{},n.from&&n.to){for(t=0;t<n.from.Data.length;t++)n.from.Data[t].NOTI_TYPCD==n.to.NOTI_TYPCD&&(i=n.from.Data[t]);for(t=0;t<n.to.Data.length;t++)n.to.Data[t].NOTI_TYPCD==n.to.NOTI_TYPCD&&(u=n.to.Data[t]);for(r in i.Data)u.Data[r]=i.Data[r]}},getNotiLayerValue:function(n){var i,t;if(n=n||{},n.data){for(i={},t=0;t<n.data.length;t++)n.data[t].key&&(_.includes(["notiUser","notiSite"],n.data[t].key)&&(n.data[t].value=_.includes(n.data[t].value,ecount.delimiter)?_.split(n.data[t].value,ecount.delimiter):$.isEmpty(n.data[t].value)?[]:[n.data[t].value]),i[n.data[t].key]=n.data[t].value);return i}},setNotiCss:function(n){if(n=n||{},n.notiType&&n.user&&n.site&&n.myLayer){var t=n.user.getSelectedCode().length+n.site.getSelectedCode().length;n.isBoardNoti&&(t+=5);n.myLayer.setPressed(n.notiType.getCheckedItems().length>0&&t>0)}},onNotiChange:function(n){var i,r,e;if(n=n||{},n.notiType){var u=_.findIndex(n.notiType.data,function(n){return n.value==="APP_NOTI_SEND_TF"}),f=function(){return n.notiType.getCheckedItems().select(function(n){return n.value})},t=f();(n.target=="MSOP_SEND_TF"&&(_.includes(t,"MSOP_SEND_TF")?(i=[],n.useNotiTarget===!0&&(i=n.notiTarget.getCheckedItems().filter(function(n){return n.value=="CS_SHARER_TF"})),i.length?n.notiType.setReadOnly(!1,u):n.notiType.readOnly(!1),n.notiType.setCheckedValue("APP_NOTI_SEND_TF")):(n.notiType.setReadOnly(!0,u),n.notiType.setCheckedValue("APP_NOTI_SEND_TF",!1))),n.alwaysShow)||n.linkCtrl&&(n.target=="CS_SHARER_TF"&&(r=n.notiType.getComponents().filter(function(n){return!["MSOP_SEND_TF","APP_NOTI_SEND_TF"].contains(n.value)}),r.length&&(e=r.map(function(t){return n.notiType.setReadOnly(n.isCheckedTarget,t.index),t.value}),n.isCheckedTarget===!0&&(n.notiType.setCheckedValue(e,!1),t=f()))),_.includes(t,"SMS_SEND_TF")?n.linkCtrl.show():n.linkCtrl.hide(),n.myLayer&&n.myLayer.setLayerPosition())}},isSendSMS:function(n){if((n=n||{},!n.master)||!n.master.USE_SMS||!_.includes(n.layerInfo.notiSendWay,"SMS_SEND_TF"))return!1;var t=n.layerInfo.notiUser.length+n.layerInfo.notiSite.length;return(n.layerInfo.isBoradTarget&&(t+=5),t==0)?!1:!0},isSendSMSMulti:function(n){for(var i,r,t=0;t<n.layerInfoList.length;t++)if(i=n.master,Array.isArray(i)&&(i=i[t]),r=ecmodule.common.xNoti.isSendSMS({master:i,layerInfo:n.layerInfoList[t]}),r)return!0;return!1},isCheckEnableSendSms:function(n){var t=_.cloneDeep(n),f=[],r,i,e,o,u;for(Array.isArray(n.master)||(t.master=[t.master]),r=0;r<t.master.length;r++)i=t.master[r],Array.isArray(i.Data)||(i.Data=[i.Data],i.Data[0].Data||(e={Data:_.cloneDeep(i.Data[0]),NOTI_TYPCD:i.NOTI_TYPCD},i.Data[0]=e)),Array.isArray(t.layerInfo)||(t.layerInfo=[t.layerInfo]),i.Data.reduce(function(n,u){return n.push({NOTI_FCTY_TYPCD:i.NOTI_FCTY_TYPCD,NOTI_TYPCD:u.NOTI_TYPCD,SendData:t.SendData,Data:{NOTI_ID:(t.layerInfo[r].notiUser||[]).distinct(),NOTI_DEPT:t.layerInfo[r].notiSite||[],LNK_ATT_TF:t.layerInfo[r].notiLinkAttach.length==1,SMS_SEND_CTT:u.Data.SMS_SEND_CTT||"",SMS_SEND_TF:_.includes(t.layerInfo[r].notiSendWay,"SMS_SEND_TF"),KAKAO_SEND_TF:_.includes(t.layerInfo[r].notiSendWay,"KAKAO_SEND_TF")}}),n}.bind(this),f);o={Request:{NotiProgramId:t.NotiProgramId,Data:f}};u="/ECErp/SVC/Popup/EGA008P_05";ecount.common.api({ecPageID:t.ecPageID,url:"/ECAPI/SVC/Common/SendInside/CheckSendInsideNotice",data:o,success:function(n){if(n.Data.EnableEMoney)if(n.Data.ERROR_CODE=="E000"){if(this.pageHidden&&(this.pageHidden.NOTI_RECEIVER=n.Data.NOTI_RECEIVER||[],this.pageHidden.SMS_SEND_NO=n.Data.SMS_SEND_NO||""),n.Data.SMS_TYPE=="3"){ecount.confirm(ecount.resource.MSG09936,function(n){t.callback&&t.callback(n)});return}t.callback&&t.callback(!0)}else{switch(n.Data.ERROR_CODE){case"":case"E001":ecount.alert(ecount.resource.MSG05624);break;case"E002":ecount.confirm(ecount.resource.MSG05619,function(n){n&&this.openWindow({url:"/ECErp/SVC/Popup/EGA008M",popupType:!0,param:{width:660,height:470}})}.bind(this));break;case"E003":ecount.confirm(String.format(ecount.resource.MSG05636,n.Data.CALLER),{height:320,callback:function(t){t&&this.openWindow({url:u,param:{width:660,height:470,DirectOpen:"Y",Caller:n.Data.CALLER}})}.bind(this)});break;case"E004":ecount.confirm(ecount.resource.MSG05637,function(n){n&&this.openWindow({url:u,param:{width:660,height:470}})}.bind(this));break;case"E009":case"E010":ecount.confirm(String.format(ecount.resource.MSG05652,n.Data.CALLER),function(t){t&&this.openWindow({url:u,param:{width:660,height:470,DirectOpen:"Y",Caller:n.Data.CALLER,Status:"C",AuthType:"1"}})}.bind(this))}t.callback&&t.callback(!1)}else ecount.confirm(ecount.resource.MSG10009,function(n){n&&ecount.common.openKCPType1({emn_flag:"N",callComCode:ecount.company.COM_CODE,access_site:"ECOUNT",ccProdDesc:encodeURIComponent(ecount.company.COM_CODE+" SMS")});_.isFunction(t.callback)&&t.callback(!1)}.bind(this))}.bind(this),error:function(n){console.log("============================= sms isCheckEnableSendSms =============================");console.log(n);console.log("============================= sms isCheckEnableSendSms =============================")}})},convertSendTypeForSave:function(n){var t,i;if(n=n||{},n.customizer&&n.detail)for(t=0;t<n.customizer.length;t++)for(i=0;i<n.customizer[t].length;i++)n.detail[n.customizer[t][i]]=!0},convertDetailsForSave:function(n){var i,t,r,u;n=n||{};i=[];for(t in n.details){r={NOTI_TYPCD:t,Data:{}};for(u in n.details[t])r.Data[u]=n.details[t][u];i.push(r)}return i},createDatasForSlipSave:function(n){var i,r,f,u,t;if(n=n||{},n.master){for(i={NOTI_FCTY_TYPCD:n.master.NOTI_FCTY_TYPCD,NOTI_TYPCD:n.master.NOTI_TYPCD,USE_SMS:n.master.USE_SMS,SMS_SEND_NO:this.pageHidden.SMS_SEND_NO||"",Data:{EMAIL_SEND_TF:!1,SMS_SEND_TF:!1,KAKAO_SEND_TF:!1,MSGR_SEND_TF:!1,MSOP_SEND_TF:!1,APP_NOTI_SEND_TF:!1,LNK_ATT_TF:n.linkCtrl.getValue()||!1,EMAIL_TTL_CTT:"",SMS_SEND_CTT:"",MSGR_MSOP_CTT:"",NOTI_ID:Array.isArray(n.user)?n.user:n.user&&n.user.getSelectedCode()||[],NOTI_DEPT:Array.isArray(n.site)?n.site:n.site&&n.site.getSelectedCode()||[],NOTI_RECEIVER:this.pageHidden.NOTI_RECEIVER||[]}},n.master.NOTI_FCTY_TYPCD=="NB"&&(i.Data.NOTI_ID_CS=[]),r=n.notiType.getCheckedInfo(),t=0;t<r.length;t++)i.Data[r[t].value]=r[t].checked;for(t=0;t<n.master.Data.length;t++)n.master.Data[t].NOTI_TYPCD==(n.master.NOTI_TYPCD||"")&&(f=n.master.Data[t]);for(u=["EMAIL_TTL_CTT","SMS_SEND_CTT","MSGR_MSOP_CTT"],t=0;t<u.length;t++)i.Data[u[t]]=f.Data[u[t]];return i}},saveNotiInfo:function(n,t,i){n.Request.Data.Data=this.convertDetailsForSave({details:n.Request.Data.Data});ecount.common.api({ecPageID:i,url:"/ECAPI/SVC/Common/SendInside/SaveSendInside",data:n,success:function(n){t&&t(n)}})},getSendTargetData:function(n){var t,r,i;if(n=n||{},n.detail||(n.detail=this.getNotiInfoByTab({detail:n.data,tabId:n.tabId})),t={label:[ecount.resource.LBL02354,ecount.resource.LBL10790,ecount.resource.LBL02458,ecount.resource.LBL02715,ecount.resource.LBL10989,ecount.resource.LBL09977],value:["WRTR_TF","ANSW_WRTR_TF","DLVRR_TF","CC_TF","SHARER_TF","CS_SHARER_TF"],select:[]},n.disableList&&n.disableList.length>0){for(r=[],i=0;i<t.value.length;i++)_.includes(n.disableList,t.value[i])&&r.push(i);t.label=t.label.filter(function(n,t){return!_.includes(r,t)});t.value=t.value.filter(function(n,t){return!_.includes(r,t)})}switch(n.NOTI_FCTY_TYPCD){case"NC":t.label=[ecount.resource.LBL02710,ecount.resource.LBL10989];t.value=["PRTC_TF","SHARER_TF"];break;case"CP":t.label=[ecount.resource.LBL11576];t.value=["SDR_TF"];t.select=["SDR_TF"];t.readOnlyByIndex=[0]}for(i=0;i<t.value.length;i++)ecount.common.isTrue(n.detail[t.value[i]])&&t.select.push(t.value[i]);return t},convertSendTargetForSave:function(n){if(n=n||{},n.checked&&n.checked.length>0)for(var t=0;t<n.checked.length;t++)n.detail[n.checked[t]]=!0},sendNotiInfo:function(n,t,i,r){var u={Request:{NotiProgramId:r,Data:{NOTI_FCTY_TYPCD:n.master.NOTI_FCTY_TYPCD,NOTI_TYPCD:n.master.NOTI_TYPCD,NOTI_RECEIVER:n.master.NOTI_RECEIVER,SMS_SEND_NO:n.master.SMS_SEND_NO,SendData:n.sendData,Data:{EMAIL_SEND_TF:n.details.EMAIL_SEND_TF||!1,SMS_SEND_TF:n.details.SMS_SEND_TF||!1,KAKAO_SEND_TF:n.details.KAKAO_SEND_TF||!1,MSGR_SEND_TF:n.details.MSGR_SEND_TF||!1,MSOP_SEND_TF:n.details.MSOP_SEND_TF||!1,APP_NOTI_SEND_TF:n.details.APP_NOTI_SEND_TF||!1,LNK_ATT_TF:n.details.LNK_ATT_TF||!1,NOTI_ID:n.details.NOTI_ID||[],NOTI_DEPT:n.details.NOTI_DEPT||[],EMAIL_TTL_CTT:n.details.EMAIL_TTL_CTT||"",SMS_SEND_CTT:n.details.SMS_SEND_CTT||"",MSGR_MSOP_CTT:n.details.MSGR_MSOP_CTT||""}}}};ecount.common.api({ecPageID:i,url:"/ECAPI/SVC/Common/SendInside/SendInsideNotice",data:u,success:function(n){t&&t(n)}})}});ecount.module("ecmodule.common.sid_manager",{sid:1e3,getTempSid:function(){var n=Math.random().toString(36).substr(2,11);return"$"+n+this.sid+++"$"},limit_date_bizz_except:function(){var t,n;if(this.pageOption.attr_specs.attr_filt_specs.id=="attr_limit_date"&&this.pageOption.cond_owner_key!="ST005"&&this.pageOption.cond_owner_key!="GW001"&&this.pageOption.cond_owner_key!="sc_inventory"&&this.pageOption.cond_owner_key!="sc_groupware"){this.pageOption.attr_specs.attr_filt_specs.attr_setup_items=this.pageOption.attr_specs.attr_filt_specs.attr_setup_items.filter(function(n){return n!="attr_bizz"});for(t in this.pageOption.attr_specs.attr_setup_items)t=="attr_bizz"&&delete this.pageOption.attr_specs.attr_setup_items[t];if(this.viewBag.FormInfos[this.pageOption.outputFormType])for(n=0;n<this.viewBag.FormInfos[this.pageOption.outputFormType].length;n++)this.viewBag.FormInfos[this.pageOption.outputFormType][n].columns=this.viewBag.FormInfos[this.pageOption.outputFormType][n].columns.filter(function(n){return n.id!="attr_bizz"})}}});ecount.TemporarySave.localstorage=function(){return{isDataChanged:function(n){var t=!0,i=function(n){var t=0,e,i,f,r,u;if(_.isEmpty(n.viewBag_datas)||(t+=!_.isEqual(n.viewBag_datas,ecount.TemporarySave.getCompareTempViewBagData())),_.isEmpty(n.keys)||(e=_.cloneDeep(ecount.TemporarySave.getCompareTempKeyValue()),delete e.LastModified,t+=!_.isEqual(n.keys,e)),_.isEmpty(n.widget_datas)||(t+=n.widget_datas!==ecount.TemporarySave.getCompareTempMasterData()),_.isEmpty(n.grid_datas)||(t+=n.grid_datas!==ecount.TemporarySave.getCompareTempDetailData()),n.keys.IsUsedExtraFeatures)for(i="",f=0;f<n.keys.ExtraTabPanesID.length;f++)(i=n.keys.ExtraTabPanesID[f].tabID,i!=null&&i!="")&&(t+=n[i+"_datas"]!==ecount.TemporarySave.getCompareTempExtraDetailData(i));return _.isEmpty(n.editor_datas)||(r="",u="",_.isObject(n.editor_datas)?(r=Object.toJSON(n.editor_datas),u=Object.toJSON(ecount.TemporarySave.getCompareTempEditorData(ecount.TemporarySave.getKeys())),console.log(r!==u)):(r=Object.toJSON(n.editor_datas),u=Object.toJSON(ecount.TemporarySave.getCompareTempEditorData(ecount.TemporarySave.getKeys()))),t+=r!==u),t>0}(n);return i?ecount.TemporarySave.config.setInitDataFlag(!1):(ecount.TemporarySave.setSaveFlag(!1),t=!1),t},setCompareTempData:function(n){var f=ecount.TemporarySave.config.getChoiceMenu(n.keys),t=!1,i,r,u;n.viewBag_datas&&ecount.TemporarySave.setCompareTempViewBagData(n.viewBag_datas);switch(f){case"inv":case"acc":case"tax":if(n.keys.LastModified=Date.ecFormat(11,Date.now),ecount.TemporarySave.setCompareTempDetailData(n.grid_datas)&&ecount.TemporarySave.setCompareTempMasterData(n.widget_datas)&&ecount.TemporarySave.setCompareTempKeyValue(n.keys)&&(t=!0),!t)break;if(i="",r=null,n.keys.IsUsedExtraFeatures){for(u=0;u<n.keys.ExtraTabPanesID.length;u++)(i=n.keys.ExtraTabPanesID[u].tabID,i!=null&&i!="")&&((r=n[i+"_datas"],r==null||r.length<=0)||ecount.TemporarySave.setCompareTempExtraDetailData(r));n.keys.LastModified=Date.ecFormat(11,Date.now);ecount.TemporarySave.setCompareTempKeyValue(n.keys)!=null&&(t=!0)}break;default:n.keys.LastModified=Date.ecFormat(11,Date.now);ecount.TemporarySave.setCompareTempEditorData(n.editor_datas)==!0&&ecount.TemporarySave.setCompareTempMasterData(n.widget_datas)==!0&&ecount.TemporarySave.setCompareTempKeyValue(n.keys)!=null&&(t=!0)}return t},setData:function(n,t){var o,i,r,u,f,e;if(n==null)return!1;if(ecount.TemporarySave.getSaveFlag()==!1){if(t===ecount.TemporarySave.enum.callType.reset&&!this.isDataChanged(n))return ecount.testLog&&(console.log("#########################################################"),console.log("##### 기존 값과 동일하여 임시저장이 취소되었습니다. #####"),console.log("#########################################################")),!1;if(o=this.setCompareTempData(n),t===ecount.TemporarySave.enum.callType.start||!o)return ecount.testLog&&(console.log("###################################################################################"),console.log("##### 초기값 저장이거나, 비교값 저장에 문제가 있어 임시저장이 취소되었습니다. #####"),console.log("###################################################################################")),!1;i=!1;ecount.TemporarySave.setSaveFlag(!0);try{if(r=ecount.TemporarySave.config.getChoiceMenu(n.keys),r=="inv"||r=="acc"||r=="tax"){if(n.keys.LastModified=Date.ecFormat(11,Date.now),ecount.TemporarySave.config.setDetailData(n.grid_datas,ecount.TemporarySave.getKeys())==!0&&ecount.TemporarySave.config.setMasterData(n.widget_datas,ecount.TemporarySave.getKeys())==!0&&ecount.TemporarySave.config.setKeyValue(n.keys,ecount.TemporarySave.getKeys())!=null&&(i=!0),i&&(u="",f=null,n.keys.IsUsedExtraFeatures)){for(e=0;e<n.keys.ExtraTabPanesID.length;e++)(u=n.keys.ExtraTabPanesID[e].tabID,u!=null&&u!="")&&((f=n[u+"_datas"],f==null||f.length<=0)||ecount.TemporarySave.config.setExtraDetailData(u,f));n.keys.LastModified=Date.ecFormat(11,Date.now);ecount.TemporarySave.config.setKeyValue(n.keys,ecount.TemporarySave.getKeys())!=null&&(i=!0)}}else n.keys.LastModified=Date.ecFormat(11,Date.now),ecount.TemporarySave.config.setEditorData(n.editor_datas,ecount.TemporarySave.getKeys())==!0&&ecount.TemporarySave.config.setMasterData(n.widget_datas,ecount.TemporarySave.getKeys())==!0&&ecount.TemporarySave.config.setKeyValue(n.keys,ecount.TemporarySave.getKeys())!=null&&(i=!0);n.viewBag_datas&&(ecount.TemporarySave.setViewBagKey(r,n.keys),ecount.TemporarySave.config.setViewBagData(n.viewBag_datas,ecount.TemporarySave.getViewBagKey()));ecount.testLog&&(console.log("############################################################"),console.log(String.format("##### {0}: {1} localStorage 에 임시저장되었습니다. #####","retType",r)),console.log("############################################################"));ecount.TemporarySave.setSaveFlag(!1)}catch(s){return!1}return i}return ecount.TemporarySave.setSaveFlag(!1),!0},getData:function(n,t,i){var e={widget_datas:[],keys:{},grid_datas:[]},r,u,o,f;if(ecount.TemporarySave.getLoadFlag()==!1){ecount.TemporarySave.setLoadFlag(!0);try{if(r={widget_datas:ecount.TemporarySave.config.getMasterData(ecount.TemporarySave.getKeys()),keys:ecount.TemporarySave.config.getKeyValue(ecount.TemporarySave.getKeys()),grid_datas:ecount.TemporarySave.config.getDetailData(ecount.TemporarySave.getKeys())},n!=r.keys.COM_CODE||t!=r.keys.LOGIN_ID||i!=r.keys.IO_TYPE)return ecount.TemporarySave.setLoadFlag(!1),e;if(ecount.TemporarySave.getIsUsedExtraFeatures())for(u="",o=null,f=0;f<ecount.TemporarySave.getExtraTabPanesID().length;f++)(u=ecount.TemporarySave.getExtraTabPanesID()[f].tabID,u!=null&&u!="")&&(r[u]=ecount.TemporarySave.config.getExtraDetailData(u));return ecount.TemporarySave.setLoadFlag(!1),r}catch(s){return ecount.TemporarySave.setLoadFlag(!1),e}}},getDataFromBoard:function(n,t,i,r,u){var e={widget_datas:[],keys:{},editor_datas:[]},f;if(ecount.TemporarySave.getLoadFlag()==!1){ecount.TemporarySave.setLoadFlag(!0);try{return(f={widget_datas:ecount.TemporarySave.config.getDataOnTop(),keys:ecount.TemporarySave.config.getKeyValue(ecount.TemporarySave.getKeys()),editor_datas:ecount.TemporarySave.config.getDataOnBottom(ecount.TemporarySave.getKeys())},n!=f.keys.COM_CODE||t!=f.keys.LOGIN_ID||i!=f.keys.BOARD_CD||r!=f.keys.BOARD_SEQ||u!=f.keys.BOARD_TYPE)?(ecount.TemporarySave.setLoadFlag(!1),e):(ecount.TemporarySave.setLoadFlag(!1),f)}catch(o){return ecount.TemporarySave.setLoadFlag(!1),e}}},getDataFromDraft:function(n,t,i){var u={widget_datas:[],keys:{},editor_datas:[]},r;if(!ecount.TemporarySave.getLoadFlag()){ecount.TemporarySave.setLoadFlag(!0);try{return(r={widget_datas:ecount.TemporarySave.config.getMasterData(ecount.TemporarySave.getKeys()),keys:ecount.TemporarySave.config.getKeyValue(ecount.TemporarySave.getKeys()),editor_datas:ecount.TemporarySave.config.getDataOnBottom(ecount.TemporarySave.getKeys())},n!=r.keys.COM_CODE||t!=r.keys.LOGIN_ID||i!=r.keys.EDMS_IDX)?(ecount.TemporarySave.setLoadFlag(!1),u):(ecount.TemporarySave.setLoadFlag(!1),r)}catch(f){return ecount.TemporarySave.setLoadFlag(!1),u}}},clear:function(){ecount.TemporarySave.config.clearstorage(ecount.TemporarySave.getKeys())}}}();ecount.TemporarySave.timer=function(){var n=0;return{register:function(t){var i;return(console.log("ecount.TemporarySave.timer >> register >> "+t),i=ecount.TemporarySave.getTimerForPageID(t),i!=null)?!0:(i=ecount.TemporarySave.getTimerOptions(),i.pageID=t,i.timerID=n,ecount.TemporarySave.setTempSaveTimerOptions(i))?!0:!1},unregister:function(n){console.log("ecount.TemporarySave.timer >> unregister >> "+n);ecount.TemporarySave.setUnregistTimerOptions(n)},start:function(t){var i=ecount.TemporarySave.getTimerForPageID(t),r;if(i==null)return!1;r=ecount.TemporarySave.config.getInitDataFlag()===null||ecount.TemporarySave.config.getInitDataFlag()?0:i.periodTimer;n=setTimeout(function(){console.log("ecount.TemporarySave.timer >> start >> "+t);ecount.TemporarySave.config.setInitDataFlag(!0);ecount.TemporarySave.timer.monitor(t,ecount.TemporarySave.enum.callType.start)},r);i.timerID=n},reset:function(t){if(ecount.TemporarySave.resetEvent(t)){var i=ecount.TemporarySave.getTimerForPageID(t);if(i==null)return!1;i.timerID>=0&&clearTimeout(i.timerID);n=setTimeout(function(){ecount.TemporarySave.timer.monitor(t,ecount.TemporarySave.enum.callType.reset)},i.periodTimer);i.timerID=n}},monitor:function(n,t){var i=ecount.TemporarySave.getTimerForPageID(n),r;if(i==null)return!1;if(i.timerID>=0&&clearTimeout(i.timerID),i.IsRaisingActionEvent)return ecount.TemporarySave.timer.reset(n),!0;if(ecount.TemporarySave.getSaveFlag()==!1){if(ecount.TemporarySave.getIsOpenPopup()==!1)try{r=ecount.TemporarySave.config.getCurrentVoucherDatas();ecount.TemporarySave.localstorage.setData(r,t)&&(ecount.TemporarySave.config.getInitDataFlag()||ecount.TemporarySave.config.getCompleteMessage())}catch(u){}ecount.TemporarySave.timer.reset(n)}else ecount.TemporarySave.timer.reset(n);return!0},rasingEvent:function(n){var t=ecount.TemporarySave.getTimerForPageID(n);if(t==null)return!1;ecount.TemporarySave.setRasingEvent(n)&&(t.timerID>=0&&clearTimeout(t.timerID),ecount.TemporarySave.timer.reset(n))},end:function(n){var t=ecount.TemporarySave.getTimerForPageID(n);return t==null?!1:(t.timerID>=0&&clearTimeout(t.timerID),!0)}}}();ecount.TemporarySave.module=function(){var n={IsNeedGridRedraw:!1,Foreign_Value:"",Foreign_Text:"",gridRowCol:{}},t=function(n,t,i,r,u,f,e,o){return empty={widget_datas:[],keys:{COM_CODE:n,BOARD_CD:"",BOARD_SEQ:"",BOARD_TYPE:"",IO_DATE:"",IO_NO:t||0,IO_TYPE:i,EDMS_IDX:o,VERSION_NO:r||0,LOGIN_ID:u,IsUsedExtraFeatures:f||!1,ExtraTabPanesID:e||[]},grid_datas:[]}},r=function(t,i,r,u,f,e){var o,s,h;try{if(ecount.TemporarySave.module.setRedrawFlag(!0),ecount.TemporarySave.getIsUsedExtraFeatures()&&t.contents.changeTab(e),t.contents.restore(i),u=r,ecount.TemporarySave.module.setHideHeaderTempsaveButtons(t),n.Foreign_Value=t.getControls("foreign_type")&&t.getControls("foreign_type").getValue(),n.Foreign_Text=t.getControls("foreign_type")&&t.getControls("foreign_type").getValue(1),t.contents.getGrid(null,e).settings&&t.contents.getGrid(null,e).settings.setTbodyRowDatas?(t.contents.getGrid(null,e).settings.setTbodyRowDatas(u),t.contents.getGrid(null,e).draw()):(t.contents.getGrid(null,e).settings.setRowData(u),t.contents.getGrid(null,e).draw()),ecount.TemporarySave.getIsUsedExtraFeatures())for(o="",s="",h=0;h<ecount.TemporarySave.getExtraTabPanesID().length;h++)ecount.TemporarySave.getExtraTabPanesID()[h].tabID!=null&&(s=ecount.TemporarySave.getExtraTabPanesID()[h].gridID,o=ecount.TemporarySave.getExtraTabPanesID()[h].tabID,f[o]!=null)&&(t.contents.getGrid(s,o).settings&&t.contents.getGrid(s,o).settings.setTbodyRowDatas?(t.contents.getGrid(s,o).settings.setTbodyRowDatas(f[o]),t.contents.getGrid(s,o).draw()):(t.contents.getGrid(s,o).settings.setRowData(f[o]),t.contents.getGrid(s,o).draw()));return!0}catch(c){return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(t),!1}},u=function(n,t,i,r,u){try{return ecount.TemporarySave.module.setRedrawFlag(!0),n.contents.restore(t),r=i,n.IsFromBankAccountActivity=u.keys.IsFromBankAccountActivity,n.IsFromCardActivity=u.keys.IsFromCardActivity,n.IsFromPgActivity=u.keys.IsFromPgActivity,ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),n.contents.getGrid().settings&&n.contents.getGrid().settings.setTbodyRowDatas?(n.contents.getGrid().settings.setTbodyRowDatas(r),n.contents.getGrid().draw()):(n.contents.getGrid().settings.setRowData(r),n.contents.getGrid().draw()),n.contents.getGrid().settings.setRowData(r),n.contents.getGrid().draw(),!0}catch(f){return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!1}},i=function(n,t,i){var r,u,f;try{if(ecount.TemporarySave.module.setRedrawFlag(!0),r=n.contents.find(function(n){return n.__type==widget.generator.CONTROL&&(n.controlType=="widget.textEditor"||n.controlType=="widget.textEditor.webMail"||n.controlType=="widget.textEditor.webMailNew")}),(r||[]).length>0)for(u=0;u<r.length;u++)try{f=JSON.parse(i);r[u].restore(f[0])}catch(e){}return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!0}catch(e){return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!1}},f=function(n,t,i,r,u,f){try{var e,o="";switch(u.keys.IO_TYPE){case"TI040":e=f.inputFormDetail1;o="1";break;case"TI050":e=f.inputFormDetail2;o="2";break;case"TI060":e=f.inputFormDetail3;o="3";break;case"TI070":e=f.inputFormDetail4;o="4"}return ecount.TemporarySave.module.setRedrawFlag(!0),n.contents.restore(t),r=i,n.perNoList=JSON.parse(u.keys.perNoList),n.curiosDataList=JSON.parse(u.keys.curiosDataList),n.incomeTypeNmList=JSON.parse(u.keys.incomeTypeNmList),n.taxGubunNmList=JSON.parse(u.keys.taxGubunNmList),n.taxationDesList=JSON.parse(u.keys.taxationDesList),n.prodDesList=JSON.parse(u.keys.prodDesList),n.pageOption.inputFormDetail=e,n.income_add_type=o,ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),n.contents.getGrid().settings.setRowData(r),n.contents.getGrid().getSettings().setFormData(n.pageOption.inputFormDetail),n.contents.getGrid().draw(n.pageOption.inputFormDetail),!0}catch(s){return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!1}},e=function(n,t,i){try{ecount.TemporarySave.module.setRedrawFlag(!0);n.contents.restore(t);var r=n.contents.find(function(n){return n.__type==="canvasEditorContainer"});return r[0].find(function(n){return n.__type==="report"})[0].getItems("drawing_paper_contentTab").setContent(i),ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!0}catch(u){return ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n),!1}};return{setPosition:function(t){n.gridRowCol=t},getPosition:function(){return n.gridRowCol},setRedrawFlag:function(t){n.IsNeedGridRedraw=t},getRedrawFlag:function(){return n.IsNeedGridRedraw},setForeignValue:function(t){n.Foreign_Value=t},getForeignValue:function(){return n.Foreign_Value},setForeignText:function(t){n.Foreign_Text=t},getForeignText:function(){return n.Foreign_Text},pageLoad:function(n,t,i,r,u){var e,o,f;if(n==null)return!1;if(e=!1,ecount.TemporarySave.setIsUsedExtraFeatures(n.IsUsedExtraFeatures||!1),ecount.TemporarySave.setExtraTabPanesID(n.ExtraTabPanesID||[]),ecount.TemporarySave.module.setHideHeaderTempsaveButtons(t),o=ecount.TemporarySave.config.getChoiceMenu(n),o=="inv"){if(f=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.IO_TYPE),_.isEmpty(f.widget_datas))return t.TS_initTemporarySave(),!0;if(ecount.TemporarySave.config.setInitDataFlag(!1),n.EDIT_FLAG!="M")f.keys.IO_NO==0?(e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i()):(e=!1,r!=null&&r());else{var g=f.keys.IO_DATE,nt=f.keys.IO_NO,tt=f.keys.VERSION_NO;n.VERSION_NO=n.VERSION_NO==""?"0":n.VERSION_NO;n.IO_DATE!=g||n.IO_NO!=nt||parseInt(n.VERSION_NO)>parseInt(tt)?(r!=null&&r(),e=!1):(ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i(),e=!0)}u!=null&&u()}else if(o=="acc"){if(f=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.IO_TYPE),_.isEmpty(f.widget_datas))return t.TS_initTemporarySave(),!0;if(ecount.TemporarySave.config.setInitDataFlag(!1),n.EDIT_FLAG!="M")f.keys.TRX_NO==0?(e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i()):(e=!1,r!=null&&r());else{var s=f.keys.COM_CODE,h=f.keys.LOGIN_ID,y=f.keys.IO_TYPE,p=f.keys.TRX_DATE,w=f.keys.TRX_NO;n.COM_CODE!=s||n.LOGIN_ID!=h||n.IO_TYPE!=y||n.TRX_DATE!=p||n.TRX_NO!=w?(e=!1,r!=null&&r()):(e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i())}u!=null&&u()}else if(o=="tax"){var c=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE1),l=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE2),a=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE3),v=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE4),f;if(f=c.widget_datas!=null&&c.widget_datas.length>0?c:l.widget_datas!=null&&l.widget_datas.length>0?l:a.widget_datas!=null&&a.widget_datas.length>0?a:v.widget_datas!=null&&v.widget_datas.length>0?v:ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.IO_TYPE),_.isEmpty(f.widget_datas))return t.TS_initTemporarySave(),!0;if(ecount.TemporarySave.config.setInitDataFlag(!1),n.EDIT_FLAG!="M")f.keys.TRX_NO==0?(e=!0,i!=null&&i()):(e=!1,r!=null&&r());else{var s=f.keys.COM_CODE,h=f.keys.LOGIN_ID,y=f.keys.IO_TYPE,p=f.keys.TRX_DATE,w=f.keys.TRX_NO;n.COM_CODE!=s||n.LOGIN_ID!=h||n.IO_TYPE!=y||n.TRX_DATE!=p||n.TRX_NO!=w?(e=!1,r!=null&&r()):(e=!0,i!=null&&i())}u!=null&&u()}else if(o==="draft"){if(f=ecount.TemporarySave.localstorage.getDataFromDraft(n.COM_CODE,n.LOGIN_ID,n.EDMS_IDX),_.isEmpty(f.editor_datas))return t.TS_initTemporarySave(),!0;ecount.TemporarySave.config.setInitDataFlag(!1);n.EDIT_FLAG==="I"?parseInt(f.keys.EDMS_IDX||"0")!==0&&(e=!1,r!=null&&r()):(n.COM_CODE!=f.keys.COM_CODE||n.EDMS_IDX!=f.keys.EDMS_IDX||n.LOGIN_ID!=f.keys.LOGIN_ID)&&(e=!1,r!=null&&r());e=!0;ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i();u!=null&&u()}else{if(f=ecount.TemporarySave.localstorage.getDataFromBoard(n.COM_CODE,n.LOGIN_ID,n.BOARD_CD,n.BOARD_SEQ,n.BOARD_TYPE),_.isEmpty(f.editor_datas))return t.TS_initTemporarySave(),!0;if(ecount.TemporarySave.config.setInitDataFlag(!1),n.EDIT_FLAG!="M")if(parseInt(f.keys.BOARD_SEQ||"0")==0)e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i();else if(f.keys.BOARD_TYPE=="R"){var s=f.keys.COM_CODE,b=f.keys.BOARD_SEQ,k=f.keys.BOARD_TYPE,d=f.keys.BOARD_CD,h=f.keys.LOGIN_ID;n.COM_CODE!=s||n.BOARD_SEQ!=b||n.BOARD_TYPE!=k||n.BOARD_CD!=d||n.LOGIN_ID!=h?(e=!1,r!=null&&r()):(e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i())}else e=!1,r!=null&&r();else{var s=f.keys.COM_CODE,b=f.keys.BOARD_SEQ,k=f.keys.BOARD_TYPE,d=f.keys.BOARD_CD,h=f.keys.LOGIN_ID;n.COM_CODE!=s||n.BOARD_SEQ!=b||n.BOARD_TYPE!=k||n.BOARD_CD!=d||n.LOGIN_ID!=h?(e=!1,r!=null&&r()):(e=!0,ecount.common.isTrue(ecount.TemporarySave.config.getRestoreOnLoadFlag())?ecount.TemporarySave.module.restoreOnLoad(n,t):i!=null&&i())}u!=null&&u()}return e},onRedrawComplete:function(t,i,r){var o,s,u,e,f;if(n.IsNeedGridRedraw){if(n.gridRowCol.columnId=n.gridRowCol.columnId==null?"prod_cd":n.gridRowCol.columnId,n.gridRowCol.rowKey=n.gridRowCol.rowKey==null?"0":n.gridRowCol.rowKey,i.setCellFocus(n.gridRowCol.columnId,n.gridRowCol.rowKey,{direction:"up"}),ecount.TemporarySave.module.setRedrawFlag(!1),r!=null){r();try{if(o=ecount.TemporarySave.config.getKeyValue(ecount.TemporarySave.getKeys()),s=ecount.TemporarySave.localstorage.getData(o.COM_CODE,o.LOGIN_ID,o.IO_TYPE),s==null)return;if(u=i.getRowList(),e="",u!=null)for(f=0;f<u.length;f++)e=u[f][ecount.grid.constValue.keyColumnPropertyName],$.isEmpty(u[f].PROD_CD)?(i.setCell("supply_amt",e,""),i.setCell("vat_amt",e,""),i.setCell("p_amt1",e,""),i.setCell("p_amt2",e,"")):(i.setCell("supply_amt",e,$.isEmpty(u[f].SUPPLY_AMT)?"0":u[f].SUPPLY_AMT),i.setCell("vat_amt",e,$.isEmpty(u[f].VAT_AMT)?"0":u[f].VAT_AMT),i.setCell("p_amt1",e,$.isEmpty(u[f].P_AMT1)?"0":u[f].P_AMT1),i.setCell("p_amt2",e,$.isEmpty(u[f].P_AMT2)?"0":u[f].P_AMT2))}catch(t){}return}}else ecount.TemporarySave.module.setRedrawFlag(!1)},getRefreshData:function(n,i){var l=ecount.TemporarySave.config.getChoiceMenu(n),v=!1,y,h,e,p,f,o,c,u,s,a,r;if(n.IS_REFRESH_TIMESTAMP!=undefined&&n.IS_REFRESH_TIMESTAMP==!0&&(v=!0),l=="inv"){if(i.contents==null)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO,n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID);if(i.contents.getGrid(null,n.TAB_ID).grid==null)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO,n.LOGIN_ID);var b=new Date,s=i.contents.getGrid(null,n.TAB_ID).grid.getLastUpdateTime(),k=(b-s)/1e3;if(k<=30&&v==!1)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO,n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID);if(y=n.MAIN_TAB_ID||i._mainTabName||"details",f=[],f=i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave?i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave():i.contents.getGrid(null,n.TAB_ID).grid.getRowListForTempSave(),r={widget_datas:i.contents.save(y),keys:{COM_CODE:n.COM_CODE,IO_DATE:"",IO_NO:n.IO_NO||0,IO_TYPE:n.IO_TYPE,VERSION_NO:n.VERSION_NO||0,LOGIN_ID:n.LOGIN_ID,IsUsedExtraFeatures:n.IsUsedExtraFeatures||!1,ExtraTabPanesID:n.ExtraTabPanesID||[]},grid_datas:f,viewBag_datas:i.viewBag.DefaultOption},n.IsUsedExtraFeatures&&(h="",e="",n.ExtraTabPanesID!=null))for(u=0;u<n.ExtraTabPanesID.length;u++)(h=n.ExtraTabPanesID[u].gridID,e=n.ExtraTabPanesID[u].tabID,e!=null&&e!="")&&(r[e+"_datas"]=i.contents.getGrid(h,e).grid.getTbodyRowListForTempSave?i.contents.getGrid(h,e).grid.getTbodyRowListForTempSave():i.contents.getGrid(h,e).grid.getRowListForTempSave());if(n.EDIT_FLAG!="M"){if(p=i.getControls(n.IO_DATE_CONTROLID.toString()),p==null)return r.keys.IO_DATE="",r}else return r.keys.IO_DATE=n.IO_DATE,r}else if(l=="acc"){if(i.contents==null)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO,n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID);f=[];f=i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave?i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave():i.contents.getGrid(null,n.TAB_ID).grid.getRowListForTempSave();r={widget_datas:i.contents.save(),keys:{COM_CODE:n.COM_CODE,TYPE:n.TYPE,IO_TYPE:n.IO_TYPE,LOGIN_ID:n.LOGIN_ID,TRX_DATE:n.TRX_DATE||0,TRX_NO:n.TRX_NO||0,IsFromBankAccountActivity:i.IsFromBankAccountActivity||!1,IsFromCardActivity:i.IsFromCardActivity||!1,IsFromPgActivity:i.IsFromPgActivity||!1},grid_datas:f,viewBag_datas:i.viewBag.DefaultOption}}else if(l=="tax"){if(i.contents==null)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO,n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID);var d=i.initTempsaveConfig(),w=d.IO_TYPE,f=[];f=i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave?i.contents.getGrid(null,n.TAB_ID).grid.getTbodyRowListForTempSave():i.contents.getGrid(null,n.TAB_ID).grid.getRowListForTempSave();r={widget_datas:i.contents.save(),keys:{COM_CODE:n.COM_CODE,TYPE:n.TYPE,IO_TYPE:n.IO_TYPE==w?n.IO_TYPE:w,LOGIN_ID:n.LOGIN_ID,TRX_DATE:n.TRX_DATE||0,TRX_NO:n.TRX_NO||0,perNoList:n.perNoList,curiosDataList:n.curiosDataList,incomeTypeNmList:n.incomeTypeNmList,taxGubunNmList:n.taxGubunNmList,taxationDesList:n.taxationDesList,prodDesList:n.prodDesList},grid_datas:f}}else if(l==="draft"){if(i.contents==null)return t(n.COM_CODE,n.IO_NO,n.IO_TYPE,n.VERSION_NO||"1",n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID,n.EDMS_IDX);if(o=i.contents.find(function(n){return n.__type==="canvasEditorContainer"}),(o||[]).length>0)return c=o[0].find(function(n){return n.__type==="report"})[0].getItems("drawing_paper_contentTab").getContent(),{widget_datas:i.contents.save(),keys:{COM_CODE:n.COM_CODE,EDMS_IDX:n.EDMS_IDX,LOGIN_ID:n.LOGIN_ID},editor_datas:c,viewBag_datas:i.viewBag.DefaultOption}}else{function g(n){return(n||"")==""?"":n.replace(/(<([^>]+)>)/gi,"")}if(i.contents==null)return t(n.COM_CODE,n.IO_NO||0,n.IO_TYPE||"",n.VERSION_NO||"1",n.LOGIN_ID,n.IsUsedExtraFeatures,n.ExtraTabPanesID);if(o=i.contents.find(function(n){return n.__type==widget.generator.CONTROL&&(n.controlType=="widget.textEditor"||n.controlType=="widget.textEditor.webMail"||n.controlType=="widget.textEditor.webMailNew")}),(o||[]).length>0){for(c=[],u=0;u<o.length;u++){s=o[u].save();a=this.__KeysOfJson(s);try{if(g(s[a[1].toString()])=="")continue;c.push({id:s[a[0].toString()],value:s[a[1].toString()]})}catch(nt){}}r={widget_datas:[],keys:{COM_CODE:n.COM_CODE,BOARD_CD:n.BOARD_CD||"",BOARD_SEQ:n.BOARD_SEQ||"",BOARD_TYPE:n.BOARD_TYPE||"",LOGIN_ID:n.LOGIN_ID},editor_datas:c,viewBag_datas:i.viewBag.DefaultOption}}}return r},__KeysOfJson:function(n){var t=[];for(var i in n)t.push(i);return t},getCompleteMessage:function(n,t){var i=Date.ecFormat(32,Date.now),r=String.format(ecount.resource.MSG05897,i);t.footer.getControl(n).setLabel(r);ecount.TemporarySave.module.setHideHeaderTempsaveButtons(t);t.adjustContentsDimensions()},applyData:function(n,t){n.applyOnReload?ecount.TemporarySave.module.reload(t):ecount.TemporarySave.module.loadData(n,t)},loadData:function(n,t){var s,o;if(n==null)return!1;if(ecount.TemporarySave.setIsOpenPopup(!1),s=ecount.TemporarySave.config.getChoiceMenu(n),s=="inv"){if((o=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.IO_TYPE),o==null)||o.widget_datas==null||o.widget_datas.length<=0)return!1;if(n.EDIT_FLAG!="M")return o.keys.IO_NO==0?r(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o,n.TAB_ID):!1;var nt=o.keys.IO_DATE,tt=o.keys.IO_NO,it=o.keys.VERSION_NO;return n.VERSION_NO=n.VERSION_NO==""?"0":n.VERSION_NO,n.IO_DATE!=nt||n.IO_NO!=tt||parseInt(n.VERSION_NO)>parseInt(it)?!1:r(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o,n.TAB_ID)}if(s=="acc"){if((o=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.IO_TYPE),o==null)||o.widget_datas==null||o.widget_datas.length<=0)return!1;if(n.EDIT_FLAG!="M")return o.keys.TRX_NO==0?u(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o):!1;var h=o.keys.COM_CODE,c=o.keys.LOGIN_ID,p=o.keys.IO_TYPE,w=o.keys.TRX_DATE,b=o.keys.TRX_NO;return n.COM_CODE!=h||n.LOGIN_ID!=c||n.IO_TYPE!=p||n.TRX_DATE!=w||n.TRX_NO!=b?!1:u(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o)}if(s=="tax"){var l=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE1),a=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE2),v=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE3),y=ecount.TemporarySave.localstorage.getData(n.COM_CODE,n.LOGIN_ID,n.TYPE4);if((l.widget_datas!=null&&l.widget_datas.length>0?o=l:a.widget_datas!=null&&a.widget_datas.length>0?o=a:v.widget_datas!=null&&v.widget_datas.length>0?o=v:y.widget_datas!=null&&y.widget_datas.length>0&&(o=y),o==null)||o.widget_datas==null||o.widget_datas.length<=0)return!1;if(n.EDIT_FLAG!="M")return o.keys.TRX_NO==0?f(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o,n):!1;var h=o.keys.COM_CODE,c=o.keys.LOGIN_ID,p=o.keys.IO_TYPE,w=o.keys.TRX_DATE,b=o.keys.TRX_NO;return n.COM_CODE!=h||n.LOGIN_ID!=c||n.IO_TYPE!=p||n.TRX_DATE!=w||n.TRX_NO!=b?!1:f(t,o.widget_datas,o.grid_datas,n.GRID_DATA,o)}if(s==="draft")return(o=ecount.TemporarySave.localstorage.getDataFromDraft(n.COM_CODE,n.LOGIN_ID,n.EDMS_IDX),o==null)?!1:o.widget_datas==null||o.editor_datas==null?!1:n.EDIT_FLAG!=="I"&&parseInt(o.keys.EDMS_IDX||"0")===0?!1:n.COM_CODE!=o.keys.COM_CODE||n.EDMS_IDX!=o.keys.EDMS_IDX||n.LOGIN_ID!=o.keys.LOGIN_ID?!1:e(t,o.widget_datas,o.editor_datas,o);if((o=ecount.TemporarySave.localstorage.getDataFromBoard(n.COM_CODE,n.LOGIN_ID,n.BOARD_CD,n.BOARD_SEQ,n.BOARD_TYPE),o==null)||o.widget_datas==null||o.editor_datas==null)return!1;if(n.EDIT_FLAG!="M"){if(parseInt(o.keys.BOARD_SEQ||"0")==0)return i(t,o.widget_datas,o.editor_datas,o);if((o.keys.BOARD_TYPE||"")=="R"){var h=o.keys.COM_CODE,k=o.keys.BOARD_SEQ,d=o.keys.BOARD_TYPE,g=o.keys.BOARD_CD,c=o.keys.LOGIN_ID;return n.COM_CODE!=h||n.BOARD_SEQ!=k||n.BOARD_TYPE!=d||n.BOARD_CD!=g||n.LOGIN_ID!=c?!1:i(t,o.widget_datas,o.editor_datas,o)}return!1}var h=o.keys.COM_CODE,k=o.keys.BOARD_SEQ,d=o.keys.BOARD_TYPE,g=o.keys.BOARD_CD,c=o.keys.LOGIN_ID;return n.COM_CODE!=h||n.BOARD_SEQ!=k||n.BOARD_TYPE!=d||n.BOARD_CD!=g||n.LOGIN_ID!=c?!1:i(t,o.widget_datas,o.editor_datas,o)},removeall:function(n){ecount.TemporarySave.localstorage.clear();ecount.TemporarySave.module.setHideHeaderTempsaveButtons(n)},setHideHeaderTempsaveButtons:function(n){var i=n._ecParent||n,t=i.contents.getToolbar("ecloadtempSaveToolbar");t.itemList[0].hide();t.itemList[1].hide();t.itemList[2].hide();t.itemList.every(function(n){return n.isVisible()===!1})&&t.hide()},setShowHeaderTempsaveButtons:function(n){if(!ecount.TemporarySave.config.getInitDataFlag()){var i=n._ecParent||n,t=i.contents.getToolbar("ecloadtempSaveToolbar");t.show();t.itemList[0].show();t.itemList[1].show();t.itemList[2].show()}},restoreOnLoad:function(n,t){ecount.TemporarySave.config.setRestoreOnLoadFlag("N");ecount.TemporarySave.module.loadData(n,t)},reload:function(n){if(ecount.TemporarySave.config.setRestoreOnLoadFlag("Y"),n.hasPopupId())n.onReload("","auto");else n.onAllSubmit("")}}}();ecount.module("ecmodule.common.ecdrive",{version:"0.8.1",ECDIRVE_OTYPE_DIR:2,ECDIRVE_OTYPE_FILE:1,setSessionInfo:function(n){ecmodule.common.ecdrive.SESSION_KEY=n.SESSION_KEY;ecmodule.common.ecdrive.EXPIRED_DATE=new Date;ecmodule.common.ecdrive.ENABLE_REDIRECT_URL=!1},ECDriveErrorCode:{ExistsSameFolderAndFile:{CODE:"DRV00007",MSG:ecount.resource.MSG00141,MSG_TXT:"같은 폴더(파일)이 존재합니다."},NoPermission:{CODE:"DRV00006",MSG:ecount.resource.MSG10591,MSG_TXT:"권한이 없습니다."},NoUseageSpace:{CODE:"DRV00005",MSG:ecount.resource.MSG10585,MSG_TXT:"드라이브 공간이 부족 합니다."},NoExistsFolderAndFile:{CODE:"DRV00002",MSG:ecount.resource.MSG10586,MSG_TXT:"대상 파일(디렉터리)가 없습니다."},NoPermissionByErrorCode:{CODE:"DRV00003",MSG:ecount.resource.MSG00141,MSG_TXT:"{대상에} 권한이 없습니다."},DoNotDownloadAuthToken:{CODE:"DRV00100",MSG:ecount.resource.MSG00609,MSG_TXT:"(발급실패) 파일을 다운로드 할 수 없습니다."},DoNotDownloadAuthTokenInvalid:{CODE:"DRV00101",MSG:ecount.resource.MSG00609,MSG_TXT:"(잘못된 요청입니다.) 파일을 다운로드 할 수 없습니다."},DoNotDownloadAuthTokenExpired:{CODE:"DRV00102",MSG:ecount.resource.MSG00609,MSG_TXT:"(만료된 요청입니다.) 파일을 다운로드 할 수 없습니다."}},pathCombine:function(){for(var t,n="",i=0;i<arguments.length;i++)t=arguments[i],t=t.replace(/^\/*/ig,"").replace(/\/*$/ig,""),n!=""&&(n+="/"),n+=t;return n},parsePathAndName:function(n,t){var r=n.lastIndexOf("/"),i="",f=n,e=0,u;return n.substring(0,1)=="/"&&(e=1),r!=-1&&(i=n.substring(e,r),f=n.substring(r+1)),i!=""&&(u=i.split("/")[0],t||u.indexOf("<")!=-1&&(i=i.substring(u.length))),{path:i,name:f}},debugCallback:function(){},_task2:function(n,t,i,r){var o,s,h,c,f,u;if(!n||!Array.isArray(n)){var l=ecmodule.common.ecdrive.task.taskToFile(n,t,i),a=l.isAsyncTask,e=l.file;if(e)if(t){if(o=ecmodule.common.cloud.getFile(t.id),!o){console.log("cancelled task start========");console.log(t);console.log("cancelled task end========");return}t=o}else ecmodule.common.ecdrive.task.taskPopupOpen([e]),t=e;s=function(n,t){t&&setTimeout(function(){ecmodule.common.cloud.removeFile(t.id);ecmodule.common.ecdrive.task.taskPopupClose()},1e3)};h=function(n,t){var u,i;if(Array.isArray(n)&&(u={Data:[n[0].ERROR]},n=u),i=ecmodule.common.ecdrive._getErrorMessage(n.Data[0]),t&&(ecmodule.common.cloud.handleFileStatus(t.id,100),ecmodule.common.cloud.handleFileResult(t.id,"fail")),s(!1,t),$.isEmpty(i))r&&r(!1,n);else{ecount.alert(i,function(){r&&r(!1,n)});return}};n=$.extend({ASYNCCOUNT:10},n);c=n;c=[n];f=[];u=function(n,i,e){if(n[i])if(n[i].RESULT.ISFINISH==!0)t&&(ecmodule.common.cloud.handleFileStatus(t.id,100),ecmodule.common.cloud.handleFileResult(t.id,"success")),f.push(n[i]),u(n,i+1);else var o=setInterval(function(){ecmodule.common.ecdrive.apiCall("GetTask",{PTID:n[i].TASK.TID,ALLYN:"N",EXJOIN:"Y"},function(r,s){t&&ecmodule.common.cloud.handleFileStatus(t.id,(e-s.Data.length)*100/e);s.Data.length==0&&(clearInterval(o),t&&ecmodule.common.cloud.handleFileResult(t.id,"success"),n[i].RESULT.ISFINISH=!0,ecmodule.common.ecdrive.apiCall("GetTask",{PTID:n[i].TASK.TID,TASKNAME:"TASK_MOVETOBIN",DTYPE:"R",ALLYN:"Y",EXJOIN:"Y"},function(t,r){r.Data.length>0&&(n[i].RESULT.CONFLICTLIST=r.Data.select(function(n){return n.DATA}));f.push(n[i]);u(n,i+1)}))})},500);else s(!0,t),r&&r(!0,{Data:f})};t&&ecmodule.common.cloud.startFileProc(t.id);ecmodule.common.ecdrive.apiCall("Task",{TASKS:c,MODE:i},function(n,i){if(n){var f=i.Data,e=f.first(function(n){return $.isNull(n.ERROR)==!1});e?h(i,t):$.isEmpty(f[0].RESULT)==!1?$.isEmpty(f[0].RESULT)||f[0].RESULT.ISFINISH!=!0?$.isEmpty(f[0].TASK.TID)||ecmodule.common.ecdrive.apiCall("GetTask",{PTID:f[0].TASK.TID,ALLYN:"Y"},function(n,t){u(f,0,t.Data.length)}):u(f,0,0):r&&r(!0,{Data:i.Data})}else h(i,t)})}},_taskList:function(n,t,i){var f,s,u,h;if(!n||n.length==0){i(!0,null);return}var r=null,o=[],e=[];for(f=0;f<n.length;f++)s=n[f],u=ecmodule.common.ecdrive.task.taskToFile(s,null,t),u&&u.file&&e.push(u.file),o.push(function(n){return{func:function(i,r){ecmodule.common.ecdrive._task2(n.task,n.file,t,function(n,t){n?i(t):r(t)})},success:function(n){r==null?r=n:r.Data=r.Data.concat(n.Data)},error:function(n){r=n}}}(u));e.length>0&&ecmodule.common.ecdrive.task.taskPopupOpen(e);h=new common.asyncChain(o);h.start(function(){i&&i(!0,r)},function(){i&&i(!1,r)})},createDirectory:function(n,t,i,r){r||(r=ecmodule.common.ecdrive.debugCallback);var u={TASK:"MKDIR",PATH:ecmodule.common.ecdrive.pathCombine(n,t)};ecmodule.common.ecdrive._task2(u,null,i,r)},createDirectoryAll:function(n,t,i,r){r||(r=ecmodule.common.ecdrive.debugCallback);var u={TASK:"MKDIR",PATH:ecmodule.common.ecdrive.pathCombine(n,t),DATA:JSON.stringify({FORCEALL:!0})};ecmodule.common.ecdrive._task2(u,i,r)},createDirectorysAll:function(n,t,i){var u,f,r;for(i||(i=ecmodule.common.ecdrive.debugCallback),u=[],f=JSON.stringify({FORCEALL:!0}),r=0;r<n.length;r++)u.push({TASK:"MKDIR",PATH:n[r],DATA:f});ecmodule.common.ecdrive._taskList(u,t,i)},createShareDrive:function(n,t,i,r){r||(r=ecmodule.common.ecdrive.debugCallback);var u={TASK:"MKDRV",DATA:t,PATH:n};ecmodule.common.ecdrive._task2(u,null,i,r)},move:function(n,t,i,r,u,f,e){e||(e=ecmodule.common.ecdrive.debugCallback);var o=ecmodule.common.ecdrive.makeMoveTask(n,t,i,r);ecmodule.common.ecdrive._task2(o,u,f,e)},makeMoveTask:function(n,t,i,r){var u={F:ecmodule.common.ecdrive.pathCombine(n,t),FT:i,T:r};return{TASK:"MOVE",DATA:JSON.stringify(u)}},copy:function(n,t,i,r,u,f,e){e||(e=ecmodule.common.ecdrive.debugCallback);var o=ecmodule.common.ecdrive.makeCopyTask(n,t,i,r);ecmodule.common.ecdrive._task2(o,u,f,e)},makeCopyTask:function(n,t,i,r){var u={F:ecmodule.common.ecdrive.pathCombine(n,t),FT:i,T:r};return{TASK:"COPY",DATA:JSON.stringify(u)}},addDocument:function(n,t,i,r){i||(i=ecmodule.common.ecdrive.debugCallback);var u=ecmodule.common.ecdrive.makeAddDocumentTask(n,r);ecmodule.common.ecdrive._task2(u,null,t,i)},makeAddDocumentTask:function(n,t){return{TASK:"ADDDOC",OID:n,option:t}},deleteDocument:function(n,t,i,r){i||(i=ecmodule.common.ecdrive.debugCallback);var u=ecmodule.common.ecdrive.makeDeleteDocumentTask(n,r);ecmodule.common.ecdrive._task2(u,null,t,i)},makeDeleteDocumentTask:function(n,t){return{TASK:"DELDOC",OID:n,option:t}},deleteObject:function(n,t,i,r,u){u||(u=ecmodule.common.ecdrive.debugCallback);var f=ecmodule.common.ecdrive.makeDeleteObjectTask(n,t,i);ecmodule.common.ecdrive._task2(f,null,r,u)},makeDeleteObjectTask:function(n,t,i){return{TASK:"MOVETOBIN",PATH:ecmodule.common.ecdrive.pathCombine(n,t),OTYPE:i&3}},"delete":function(n,t,i,r,u){u||(u=ecmodule.common.ecdrive.debugCallback);var f={TASK:"DELETE",PATH:ecmodule.common.ecdrive.pathCombine(n,t),OTYPE:i&3};ecmodule.common.ecdrive._task2(f,null,r,u)},deleteFromBin:function(n,t,i,r,u){r||(r=ecmodule.common.ecdrive.debugCallback);var f=ecmodule.common.ecdrive.makeDeleteFromBinTask(n,t,u);ecmodule.common.ecdrive._task2(f,null,i,r)},makeDeleteFromBinTask:function(n,t,i){return{TASK:"DELETE",PATH:n,OID:"<<B<"+t,option:i}},emptyBin:function(n,t,i){i||(i=ecmodule.common.ecdrive.debugCallback);var r={TASK:"EMPTYBIN",PATH:n};ecmodule.common.ecdrive._task2(r,null,t,i)},restoreFileVersion:function(n,t,i){i||(i=ecmodule.common.ecdrive.debugCallback);var r={TASK:"RESTOREFILEVERSION",TID:n};ecmodule.common.ecdrive._task2(r,null,t,i)},deleteFileVersion:function(n,t,i){i||(i=ecmodule.common.ecdrive.debugCallback);var r={TASK:"DELETEFILEVERSION",TID:n};ecmodule.common.ecdrive._task2(r,null,t,i)},restoreFileVersionByOID:function(n,t,i,r){r||(r=ecmodule.common.ecdrive.debugCallback);var u={TASK:"RESTOREFILEVERSION",OID:n,DATA:JSON.stringify({VER:t})};ecmodule.common.ecdrive._task2(u,null,i,r)},deleteFileVersionByOID:function(n,t,i,r){r||(r=ecmodule.common.ecdrive.debugCallback);var u={TASK:"DELETEFILEVERSION",OID:n,DATA:JSON.stringify({VER:t})};ecmodule.common.ecdrive._task2(u,null,i,r)},setFileNotRemove:function(n,t,i,r,u){u||(u=ecmodule.common.ecdrive.debugCallback);var f={TASK:"FILENOTREMOVE",OID:n,PATH:t,DATA:i};ecmodule.common.ecdrive._task2(f,null,r,u)},fileDownload:function(n,t,i,r,u,f){ecmodule.common.fileSecurity.checkFileAllowed("download",[{name:i,size:0}],0,function(e){e==!0&&ecmodule.common.ecdrive.fileDownloadByPath(n,ecmodule.common.ecdrive.pathCombine(t,i),r,u,f)},n.ecPageID)},filesDownload:function(n,t,i,r,u){for(var f,s,e=[],o=0;o<t.length;o++)f=t[o],s={type:"download",fileInfo:[{name:f.name,size:0}],maxFileSize:0,pname:f.PATH,name:f.NAME,EcPageId:n.ecPageID},e.push(s);ecmodule.common.fileSecurity.checkFilesAllowed(e,function(t){if(t==!0){var f=[];e.forEach(function(n){var t={pname:n.pname,name:n.name,filePath:ecmodule.common.ecdrive.pathCombine(n.pname,n.name)};f.push(t)});ecmodule.common.ecdrive.filesDownloadByPath(n,f,i,r,u)}})},fileDownloadByPath:function(n,t,i,r,u){u||(u=function(t,i){t&&(ecount.document&&ecount.document.downloadFile?ecount.document.downloadFile({downloadURL:i.Data.URL,ecPageID:n?n.ecPageID:"",isEcDrive:!0}):location=i.Data.URL)});var f={CMD:"FILEDOWNLOADSTART",OPATH:t,MODE:r,FILE:{VERSION:i}};ecmodule.common.ecdrive.apiCall("File",f,u)},filesDownloadByPath:function(n,t,i,r,u){var f=[],e;t.forEach(function(n){f.push({CMD:"FILEDOWNLOADSTART",OPATH:n.filePath,MODE:r,FILE:{VERSION:i}})});e={Files:f};ecmodule.common.ecdrive.apiCall("Files",e,u)},fileDownloadByOID:function(n,t,i,r,u){u||(u=function(t,i){t&&(ecount.document&&ecount.document.downloadFile?ecmodule.common.fileSecurity.checkFileAllowed("download",[{name:i.Data.FILE.NAME,size:0}],0,function(t){t==!0&&ecount.document.downloadFile({downloadURL:i.Data.URL,ecPageID:n?n.ecPageID:"",isEcDrive:!0})},n?n.ecPageID:""):location=i.Data.URL)});var f={CMD:"FILEDOWNLOADSTART",OID:t,MODE:r,FILE:{VERSION:i}};ecmodule.common.ecdrive.apiCall("File",f,u)},getFileDownloadURLForMail:function(n,t,i,r){var u={CMD:"FILEDOWNLOADSTART_REF",OPATH:n,MODE:t,FILE:{VERSION:i}};ecmodule.common.ecdrive.apiCall("File",u,r)},restoreObject:function(n,t,r){r||(r=ecmodule.common.ecdrive.debugCallback);Array.isArray(n)==!1&&(n=[n]);var u=[];for(i=0;i<n.length;i++)u.push({TASK:"RESTOREBIN",OID:n[i].OID,DATA:n[i].DATA,option:{name:n[i].NAME}});ecmodule.common.ecdrive._taskList(u,t,r)},rename:function(n,t,i,r,u,f){f||(f=ecmodule.common.ecdrive.debugCallback);var e={F:ecmodule.common.ecdrive.pathCombine(n,t),FT:r,T:n,N:i},o={TASK:"_RENAME",DATA:JSON.stringify(e)};ecmodule.common.ecdrive._task2(o,null,u,f)},apiCall:function(n,t,i){ecmodule.common.ecdrive._apiCall({url:"/SVC/Groupware/ECDrive/"+n,data:t,sessionKey:ecmodule.common.ecdrive.SESSION_KEY,enableRedirectUrl:ecmodule.common.ecdrive.ENABLE_REDIRECT_URL,expiredDate:ecmodule.common.ecdrive.EXPIRED_DATE,success:function(n){i(!0,n)},error:function(n){var r=!1,t;i&&(r=i(!1,n));!r&&n&&n.length>0&&(t=ecmodule.common.ecdrive._getErrorMessage(n[0]),$.isEmpty(t)||ecount.alert(t))}})},_getErrorMessage:function(n){var f,r,i;if(n&&n.ERROR){var t=null,e=n.ERROR.Code,o=n.ERROR.Message,u=n.ERROR.Param;switch(e){case ecmodule.common.ecdrive.ECDriveErrorCode.ExistsSameFolderAndFile.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.ExistsSameFolderAndFile.MSG;break;case ecmodule.common.ecdrive.ECDriveErrorCode.NoPermission.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.NoPermission.MSG;break;case ecmodule.common.ecdrive.ECDriveErrorCode.NoUseageSpace.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.NoUseageSpace.MSG;break;case ecmodule.common.ecdrive.ECDriveErrorCode.NoExistsFolderAndFile.CODE:r="";"PATH"in u&&(r=u.PATH,f=ecmodule.common.ecdrive.parsePathAndName(r),r=f.name);t=ecmodule.common.ecdrive.ECDriveErrorCode.NoExistsFolderAndFile.MSG;$.isEmpty(r)||(t+=String.format("<br/>- {0}",r));break;case ecmodule.common.ecdrive.ECDriveErrorCode.NoPermissionByErrorCode.CODE:r="";i="";"PERMISSION"in u&&(i=u.PERMISSION,i=i.indexOf("R")!=-1?ecount.resource.LBL20671:i.indexOf("A")!=-1?ecount.resource.LBL20670:i.indexOf("C")!=-1?ecount.resource.LBL20686:i.indexOf("M")!=-1?ecount.resource.LBL20669:i.indexOf("D")!=-1?ecount.resource.LBL02933:"");t=ecmodule.common.ecdrive.ECDriveErrorCode.NoPermissionByErrorCode.MSG;$.isEmpty(r)||(t+=String.format("<br/>- {0}",r));$.isEmpty(i)||(t+=String.format("<br/>( "+ecount.resource.LBL20685+" )",i));break;case ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthToken.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthToken.MSG;break;case ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthTokenInvalid.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthTokenInvalid.MSG;break;case ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthTokenExpired.CODE:t=ecmodule.common.ecdrive.ECDriveErrorCode.DoNotDownloadAuthTokenExpired.MSG;break;default:t=o}return t}return null},fileDownloadExternal:function(n,t,i,r,u){u||(u=function(t,i){t&&(ecount.document&&ecount.document.downloadFile?ecount.document.downloadFile({downloadURL:i.Data.URL,ecPageID:n?n.ecPageID:"",isEcDrive:!0}):location=i.Data.URL)});var f={ACTION:"FILEDOWNLOAD",DATA:Object.toJSON({VERSION:r,OID:t,NAME:i})},e=function(n,t){if(n){var i=t.Data.AUTHTOKEN;ecmodule.common.ecdrive._externalTask(i,null,u)}else u&&u(n,t)};ecmodule.common.ecdrive.makeAuthToken(f,e)},makeAuthToken:function(n,t){ecmodule.common.ecdrive._apiCall({url:"/SVC/Groupware/ECDrive/AuthToken",data:n,success:function(n){t(!0,n)},error:function(n){var r=!1,i;t&&(r=t(!1,n));!r&&n&&n.length>0&&(i=ecmodule.common.ecdrive._getErrorMessage(n[0]),$.isEmpty(i)||ecount.alert(i))}})},_externalTask:function(n,t,i){ecmodule.common.ecdrive._apiCall({url:"/SVC/Groupware/ECDrive/ExternalTask",data:{TOKEN:n,DATA:t},success:function(n){i(!0,n)},error:function(n){var r=!1,t;i&&(r=i(!1,n));!r&&n&&n.length>0&&(t=ecmodule.common.ecdrive._getErrorMessage(n[0]),$.isEmpty(t)||ecount.alert(t))}})},_apiCall:function(n){var r=n.success,u=n.error,i=function(n){u&&u(n)},t=$.extend({},n);if(t.success=function(n){if(n){if(n.Status=="200"){r&&r(n);return}i([{TASK:null,ERROR:n.Errors&&n.Errors.length>0?n.Errors[0]:n.Error}]);return}i([{TASK:null,ERROR:{Code:"",Message:null}}])},t.error=function(n,t,r){r&&r.Code&&r.Param?i([{TASK:null,ERROR:r}]):i([{TASK:null,ERROR:{Code:r.Code,Message:r.Message,HttpStatus:t}}])},n.enableRedirectUrl){var f=function(){ecount.common.api({url:"/SVC/Groupware/ECDrive/GetSessionKey",data:Object.toJSON({SESSION_KEY:n.sessionKey}),success:function(i){ecmodule.common.ecdrive.EXPIRED_DATE=new Date;ecmodule.common.ecdrive.SESSION_KEY=i.Data;n.sessionKey=ecmodule.common.ecdrive.SESSION_KEY;n.sessionKey&&(t.url+=t.url.indexOf("?")<=-1?"?":"&",t.url+="SESSION_ID="+n.sessionKey);ecount.common.api(t)}})},e=function(){n.sessionKey&&(t.url+=t.url.indexOf("?")<=-1?"?":"&",t.url+="SESSION_ID="+n.sessionKey);ecount.common.api(t)},o=new Date,s=o-n.expiredDate,h=Math.round(s%864e5%36e5/6e4);h>20?f():e()}else ecount.common.api(t)},getTaskActionResource:function(n){return ecmodule.common.ecdrive.resourceCodes||(ecmodule.common.ecdrive.resourceCodes={},ecmodule.common.ecdrive.resourceCodes.MKDRV=ecount.resource.LBL21798?ecount.resource.LBL21798:"RES_드라이브 생성",ecmodule.common.ecdrive.resourceCodes.MKDIR=ecount.resource.LBL01579?ecount.resource.LBL01579:"RES_생성",ecmodule.common.ecdrive.resourceCodes.MOVE=ecount.resource.LBL20387?ecount.resource.LBL20387:"RES_이동",ecmodule.common.ecdrive.resourceCodes.COPY=ecount.resource.LBL08148?ecount.resource.LBL08148:"RES_복사",ecmodule.common.ecdrive.resourceCodes.RENAME=ecount.resource.LBL20383?ecount.resource.LBL20383:"RES_이름변경",ecmodule.common.ecdrive.resourceCodes.EMPTYBIN=ecount.resource.LBL20755?ecount.resource.LBL20755:"RES_휴지통비우기",ecmodule.common.ecdrive.resourceCodes.DELETEFILEVERSION=ecount.resource.LBL06157?ecount.resource.LBL06157:"RES_삭제",ecmodule.common.ecdrive.resourceCodes.DELETE=ecount.resource.LBL06157?ecount.resource.LBL06157:"RES_삭제",ecmodule.common.ecdrive.resourceCodes.RESTOREBIN=ecount.resource.LBL20659?ecount.resource.LBL20659:"RES_복구",ecmodule.common.ecdrive.resourceCodes.RESTOREFILEVERSION=ecount.resource.LBL20659?ecount.resource.LBL20659:"RES_복구",ecmodule.common.ecdrive.resourceCodes.TASK_RESTOREBINACTION=ecount.resource.LBL20659?ecount.resource.LBL20659:"RES_복구",ecmodule.common.ecdrive.resourceCodes.TASK_FILECOPY=ecount.resource.LBL08148?ecount.resource.LBL08148:"RES_파일복사",ecmodule.common.ecdrive.resourceCodes.FILEUPLOADEND=ecount.resource.LBL20897?ecount.resource.LBL20897:"RES_파일업로드",ecmodule.common.ecdrive.resourceCodes.FILEDOWNLOADSTART=ecount.resource.LBL17088?ecount.resource.LBL17088:"RES_다운로드",ecmodule.common.ecdrive.resourceCodes.FILEDOWNLOADSTART_REF=ecount.resource.LBL70401?ecount.resource.LBL70401:"RES_파일첨부",ecmodule.common.ecdrive.resourceCodes.ADDDOC=ecount.resource.LBL20388?ecount.resource.LBL20388:"RES_중요문서함에 추가",ecmodule.common.ecdrive.resourceCodes.DELDOC=ecount.resource.LBL20660?ecount.resource.LBL20660:"RES_중요문서함에 제거",ecmodule.common.ecdrive.resourceCodes.MOVETOBIN=ecount.resource.LBL20389?ecount.resource.LBL20389:"RES_휴지통으로 이동",ecmodule.common.ecdrive.resourceCodes.TASK_MOVETOBIN=ecount.resource.LBL20389?ecount.resource.LBL20389:"RES_휴지통으로 이동"),resourcecode=ecmodule.common.ecdrive.resourceCodes[n],$.isEmpty(resourcecode)&&(resourcecode=n),resourcecode},driveNameValidate:function(n){return $.isEmpty(n)?!0:n.match(/[\\\/\:\*\?\"\</>/|]/g)!==null?!1:!0},openPopupFileManager:function(n,t,i){var r=$.extend({Request:{OID:t,MODE:i}},{width:500,height:450});n.openWindow({url:"/ECERP/SVC/EDV/EDV001P_011",modal:!0,param:r})},openPopupHistoryList:function(n,t,i,r,u){var f=$.extend({MODE:r,PATH:t,OTYPE:i},u,{width:1220,height:650});n.openWindow({url:"/ECERP/SVC/EDV/EDV001P_009",modal:!0,param:f})},openPopupSelectECDriveItem:function(n,t,i,r){var f=!0,u;r&&r=="N"&&(f=!1);u={width:1100,height:500,POPUP_MODE:"Y"};i&&(u=$.extend(u,i));n.openWindow({url:"/ECERP/SVC/EDV/EDV001M",modal:f,param:u,pageOption:t});return},openFileSelectPopup:function(n,t,i,r,u){i=$.extend({callback:t},i);i=$.extend(i,{title:ecount.resource.LBL08056,btnApplyTitle:ecount.resource.BTN00070,btnCancelTtitle:ecount.resource.BTN00133,isMultiSelect:!0,selectOptions:ecmodule.common.ecdrive.ECDIRVE_OTYPE_FILE,showOptions:ecmodule.common.ecdrive.ECDIRVE_OTYPE_DIR|ecmodule.common.ecdrive.ECDIRVE_OTYPE_FILE});r=$.extend({height:550},r);ecmodule.common.ecdrive.openPopupSelectECDriveItem(n,i,r,u)},openERPRefListPopup:function(n,t){ecmodule.common.ecdrive.getERPHIDByOID([t],function(i,r){var u="",f;i&&(u=r[t]);$.isEmpty(u)&&(u="-1");$.isEmpty(u)||(f={width:425,height:326,HID:u,Request:{Data:{USERID:null,IDX:null,BASE_DATE_FROM:null,BASE_DATE_TO:null}}},n.openWindow({url:"/ECERP/SVC/ENT/ENT004P_01",param:f}))},!0)},getERPHIDByOID:function(n,t,i){i=i===!0?!0:!1;ecmodule.common.ecdrive._apiCall({url:"/SVC/Common/Infra/GetListERPHIDByECDriveOID",data:{Request:{Data:{List:n,ReadOnly:i}}},success:function(n){var i={};n&&n.Data&&(i=$.extend(i,n.Data));t&&t(!0,i)},error:function(n){var r=!1,i;t&&(r=t(!1,n));!r&&n&&n.length>0&&(i=ecmodule.common.ecdrive._getErrorMessage(n[0]),$.isEmpty(i)||ecount.alert(i))}})}});ecount.module("ecmodule.common.ecdrive.ui",{version:"0.8.0",TASK_INTERVAL:300,_refreashManager:{initialize:function(){this._refreashCount||(this._refreashCount=0);this._isRefreash||(this._isRefreash=!1);this._currentPath||(this._currentPath="");this._CONST_REFREASH_COUNT||(this._CONST_REFREASH_COUNT=5)}.bind(this),setRefreash:function(n,t){n!=this.currentPath&&(this._currentPath=n);var i=n.split("/"),r=t.split("/");this._isRefreash=Math.abs(i.length-r.length)<=1}.bind(this),refreash:function(n){this._isRefreash&&this._refreashCount<=0&&(this._refreashCount+=1,n())}.bind(this),refreashByLastFile:function(n,t,i){t?n.id==t.id&&(i(),this._reflashCount=0):(i(),this._reflashCount=0)}.bind(this)},getIconCssName:function(n){var i=n.OTYPE&&parseInt(n.OTYPE),t;if((i&1)>0){t=n.NAME;t=t.substring(t.lastIndexOf("."));switch(t.toLowerCase()){case".txt":return"file-text";case".pdf":return"file-pdf";case".xls":case".xlsx":case".csv":return"file-excel";case".doc":case".docx":return"file-word";case".ppt":case".pptx":return"file-ppt";case".mp3":case".wma":case".wav":case".flac":case".midi":case".ogg":return"file-audio";case".avi":case".divx":case".mov":case".mp4":case".mpg":case".wmv":return"file-video";case".jpeg":case".jpg":case".png":case".bmp":case".ico":case".svg":case".webp":case".gif":case".heic":case".tiff":return"file-picture";case".zip":case".rar":case".rar5":case".7z":return"file-zip";case".hwp":return"file-hwp";default:return"file-text"}}else{if((n.OTYPE&268435456)>0)return"file-share";if((n.OTYPE&2)>0)return"file-folder"}return"file-folder"},getOtypeByPath:function(n){return n.lastIndexOf(".")>-1?1:2},getLastNameByPath:function(n){if($.isEmpty(n))return n;var t=n.length,i=n.lastIndexOf("/");return n.substring(i+1,t)},getParentPath:function(n){if(n&&n.length>0){var t=n.lastIndexOf("/");return n.substr(0,t)}return n},uploadFile:function(n,t,i,r,u,f,e,o){var s,w;n._refreshDate=null;s=f;$.isEmpty(s)&&(s=n._getCurrPath());var a=t.getNative(),b=a.webkitRelativePath||a.name,v=ecmodule.common.ecdrive.pathCombine(s,b),h=ecmodule.common.ecdrive.parsePathAndName(v,!0),k=h.path.toUpperCase()!=s.toUpperCase()?h.path.substring(s.length+1):"",d=h.path.toUpperCase(),l=null;this._refreashManager.initialize();this._refreashManager.setRefreash(s,h.path);$.isEmpty(k)||(l=h.path);var c=[],y=!1,p=this;c.push({func:function(t,r){if(!ecmodule.common.cloud.getFile(i.id)){console.log("uploadfile no job stop!!-1");r();return}setTimeout(function(){ecmodule.common.ecdrive.apiCall("GetDetail",{MODE:n.MODE,OPATH:v},function(n){return y=n,t(),!0})},this.TASK_INTERVAL)}});c.push({func:function(n,t){if(!ecmodule.common.cloud.getFile(i.id)){console.log("uploadfile no job stop!!-2");t();return}if(!y){n();return}if(u&&u.conflictConfirmPlan){u.conflictConfirmPlan.confirm?n():t();return}ecount.confirm(ecount.resource.MSG10592,function(i){u&&(u.conflictConfirmPlan={confirm:i});i?n():t()})}});$.isEmpty(l)||c.push({func:function(t,r){if(!ecmodule.common.cloud.getFile(i.id)){console.log("uploadfile no job stop!!-3");r();return}setTimeout(function(){ecmodule.common.ecdrive.createDirectorysAll([l],n.MODE,function(n){n?t():r()})},this.TASK_INTERVAL)}});c.push({func:function(f,o){if(!ecmodule.common.cloud.getFile(i.id)){console.log("uploadfile no job stop!!-4");o();return}var h=!1;u&&u.conflictConfirmPlan&&(h=!0);t.ecdriveCallback=function(i,r){var u,c;if(i)p._refreashManager.refreashByLastFile(t,e,function(){ecmodule.common.ecdrive.ui.selectDirectory("01",s,n,!0)}),h||f();else{if(r&&r.type&&r.data&&r.type!="uploading"&&r.type.indexOf("cancel")!=0&&(u=r.data,u&&u.Status=="500"&&(c=ecmodule.common.ecdrive._getErrorMessage({TASK:null,ERROR:u.Errors&&u.Errors.length>0?u.Errors[0]:u.Error}),!$.isEmpty(c)))){p._refreashManager.refreashByLastFile(t,e,function(){ecmodule.common.ecdrive.ui.selectDirectory("01",s,n,!0)});ecount.alert(c,function(){ecmodule.common.cloud.removeFile(t.id);o()});return}ecmodule.common.cloud.removeFile(t.id);o()}};setTimeout(function(){ecmodule.common.cloud.startFileProc(t.id);n.contents.getCloud().handlerFilesAdded(t,r);h&&f()},this.TASK_INTERVAL)}});w=new common.asyncChain(c);w.start(function(){o&&o(!0,i)},function(){o&&o(!0,i);setTimeout(function(){ecmodule.common.cloud.removeFile(t.id);ecmodule.common.ecdrive.task.taskPopupClose()},1e3)})},uploadFiles:function(n,t,i,r){var e,u,s,l;n._refreshDate=null;var f=[],h=[],a={},o=[],v=n._getCurrPath(),c={};for(t.length>0&&(c=t[t.length-1]),e=0;e<t.length;e++)u=t[e],s={id:u.id,fileType:ecmodule.common.ecdrive.ui.getIconCssName({NAME:u.name,OTYPE:1}),fileName:u.name,percent:u.percent},h.push(function(t,r){return{func:function(u,f){if(!ecmodule.common.cloud.getFile(r.id)){console.log("uploadfiles no job stop!!");f(null);return}ecmodule.common.ecdrive.ui.uploadFile(n,t,r,i,a,v,c,function(n,t){n?u(t):f(t)})},success:function(n){f.push(n)},error:function(n){f=n}}}(u,s)),o.push(s);o.length>0&&ecmodule.common.ecdrive.task.taskPopupOpen(o);l=new common.asyncChain(h);l.start(function(){r&&r(!0,f)},function(){r&&r(!1,f)})},selectBinDirectory:function(n,t,i,r,u,f){ecmodule.common.ecdrive.ui.onSelectAny("B",n,t,f,i,r,u)},selectDirectory:function(n,t,i,r,u){ecmodule.common.ecdrive.ui.onSelectAny("D",n,i,u,t,r)},_getSelectManager:function(){if(!ecmodule.common.ecdrive.ui._selectManager){var n={targets:{},LCST:null,LCPATH:null,LCTYPE:null};n.try=function(n,t,i,r){var u=this.getOrAdd(n,t);this.tryRegSchedule(n,t,i,r)}.bind(n);n.find=function(n,t){return this.targets[this._makekey(n,t)]}.bind(n);n._makekey=function(n,t){return(n+":::"+t).toUpperCase()};n.getOrAdd=function(n,t){var i=this._makekey(n,t);return i in this.targets?this.targets[i]:(this.targets[i]={LCST:null,LCET:null,job:null},this.targets[i])}.bind(n);n.tryRegSchedule=function(n,t,i,r){var f=this.getOrAdd(n,t),u=f.job;if(u||(f.job={RST:null,EST:null,h:null},u=f.job),u.h)console.log("event merged!!!");else return u.RST=i,u.EST=i.addSeconds(1),u.h=setTimeout(function(){this.LCST=null;r();u.h=null;console.log("event executed!!!");this.clearJobSchedule(n,t)}.bind(this),1e3),!0;return!1}.bind(n);n.clearJobSchedule=function(n,t){var r=this.getOrAdd(n,t),i=r.job;i&&(i.h!=null&&clearTimeout(i.h),i.h=null)}.bind(n);ecmodule.common.ecdrive.ui._selectManager=n}return ecmodule.common.ecdrive.ui._selectManager},onSelectAny:function(n,t,i,r,u,f,e){var o,s,h,c;if(console.log("::::::::::::>>>>>onSelectAny:"+n+":"+t+":"+u+":"+f),o=ecmodule.common.ecdrive.ui._getSelectManager(),s=n,i&&i.ecPageID&&(s=i.ecPageID+":"+n),h=null,c=new Date,n=="D"){var l=u,y=f,v=function(){r&&r.apply(this,arguments);var n=o.getOrAdd(s,l);n.LCET=new Date};h=function(){if(o.LCTYPE==s&&o.LCPATH==l&&o.LCST&&o.LCST.addSeconds(3)>c){console.log("skipped event");return}o.LCTYPE=s;o.LCPATH=l;o.LCST=c;var n=o.getOrAdd(s,l);n.LCST=c;ecmodule.common.ecdrive.ui.selectDirectoryCore(l,i,y,v)};(t=="01"||t=="06"||t=="08"||t=="22")&&(o.try(s,l,c,h),h=null)}else if(n=="B"){var a=u,p=f,w=e,v=function(){r&&r.apply(this,arguments);var n=o.getOrAdd(s,a);n.LCET=new Date};h=function(){if(o.LCTYPE!=s||o.LCPATH!=a||!o.LCST||!(o.LCST.addSeconds(3)>c)){o.LCTYPE=s;o.LCPATH=a;o.LCST=c;var n=o.getOrAdd(s,a);n.LCST=c;i._getBinListData(a,p,w,v)}};t=="02"&&(o.try(s,l,c,h),h=null)}h&&h()},selectDirectoryCore:function(n,t,i,r){var u,o,f,e;if($.isEmpty(n))return!1;u=n;o=t._getFolderType_2(u);t._setFooterHideOn("B");t._setHeaderHideOn("B");t._setPagingHideOn("B");ecmodule.common.ecdrive.ui.refreshUsage(t);f=function(n,f,e){var h=n&&n.filter(function(n){return(n.OTYPE&2)>0?!0:!1}),o=t.contents.getCloud().getControl("leftTree"),s=null;o&&(e&&(u=t._getParentPath(u),f=u,t._setGridContentsPath(u)),t._setTreeItemDrawByPath(u,!0),r?t._setTreeItemDrawByListData(h,!1,f,r(e)):t._setTreeItemDrawByListData(h,!1,f),s=o.getNode(u),o.deselectAll(s),i&&o.openNode(s),s.selctDirCall="Y",o.selectNode(s))}.bind(t);e=function(){var n=ecmodule.common.ecdrive.parsePathAndName(u,!0);return $.isEmpty(n.path)||(r?ecmodule.common.ecdrive.ui.selectDirectory("02",n.path,t,i,r(!1)):ecmodule.common.ecdrive.ui.selectDirectory("03",n.path,t,i)),!0}.bind(t);switch(o){case"M":t._setGridContents({OPATH:u,MODE:t.MODE},u,f.bind(t),e);t._setGridContentsPath(u);t._setHeaderHideOn("B");t._setGridSortAble(!0);break;case"S":t._setGridContents({MODE:t.MODE},u,f.bind(t),e);t._setGridContentsPath(u);t._setFooterHideOn("S");t._setHeaderHideOn("S");t._setGridSortAble(!1);break;case"MF":t._setGridContents({OPATH:u,MODE:t.MODE},u,f.bind(t),e);t._setGridContentsPath(u);t._setHeaderHideOn("B");t._setGridSortAble(!0);break;case"SD":t._setGridContents({OPATH:u,MODE:t.MODE},u,f.bind(t),e);t._setGridContentsPath(u);t._setHeaderHideOn("B");t._setGridSortAble(!0);break;case"SDF":t._setGridContents({OPATH:u,MODE:t.MODE},u,f.bind(t),e);t._setGridContentsPath(u);t._setHeaderHideOn("B");t._setGridSortAble(!0)}},selectHashDirectory:function(n,t,i){t&&(t=t.replace(/[/\s]+$/,"").replace(/^[/\s]+/,""));$.isEmpty(n)?ecmodule.common.ecdrive.ui.selectDirectory("04",t||i.MY_DRIVE_PATH,i,!0):n.toUpperCase()=="B"?ecmodule.common.ecdrive.ui.selectBinDirectory("01",i,t):n.toUpperCase()=="H"&&ecmodule.common.ecdrive.ui.selectDirectory("05",t,i,!0,function(n){var i=n?1:2;ecmodule.common.ecdrive.openPopupHistoryList(this,t,i,this.MODE)}.bind(i))},moveMultiFunc:function(n,t,i){for(var s,o=[],f=[],e=0;e<n.length;e++){var r=n[e],h=(r.FROM_OTYPE&1)>0?1:2,c=ecmodule.common.ecdrive.makeMoveTask(r.FROM_PATH,r.FROM_NAME,h,r.TO_PATH),u=ecmodule.common.ecdrive.task.taskToFile(c,null,r.MODE);u&&u.file&&(f.push(u.file),r.file=u.file);o.push(function(n){return{func:function(i){ecmodule.common.ecdrive.ui.moveFunc(n,t,function(){i()})}}}(r))}s=new common.asyncChain(o);f.length>0&&ecmodule.common.ecdrive.task.taskPopupOpen(f);s.start(function(){i&&i()},function(){i&&i()})},moveFunc:function(n,t,i){var u=(n.FROM_OTYPE&1)>0?1:2,r=null;n.file&&(r=n.file);ecmodule.common.ecdrive.move(n.FROM_PATH,n.FROM_NAME,u,n.TO_PATH,r,n.MODE,function(r,u){var e,f,o,s,h,c,l;if(r){if(u.Data[0].ERROR!=null)return i&&i(),!0;for(e=0;e<u.Data.length;e++)if(f=u.Data[e],f.RESULT&&f.RESULT.ISFINISH===!0){if(o=f.RESULT.CONFLICTLIST,o&&o.length>0&&(s=[],o.forEach(function(n){var t=JSON.parse(n);t&&t.T=="F"||s.push(t.DATA)}),s.length>0)){h=JSON.parse(f.TASK.DATA);t.openWindow({url:"/ECERP/SVC/EDV/EDV001P_010",modal:!0,param:{width:800,height:400,Request:{FROM_PATH:h.F,TO_PATH:h.T,CONFLICTS_DATA:s}},pageOption:{applyCallback:function(t){ecmodule.common.ecdrive.restoreObject(t.oids,n.MODE,function(n,t){if(n&&t.Data[0].ERROR!=null)return i&&i(),!0;i&&i()}.bind(this))}.bind(this),cancelCallback:function(){i&&i()}.bind(this)}});return}c=n.TO_PATH;l=n.FROM_PATH;t._getCurrPath()==n.TO_PATH&&(c=n.FROM_PATH,l=n.TO_PATH);t._setTreeItemDrawByPath(c,!0);ecmodule.common.ecdrive.ui.selectDirectory("06",l,t,!0)}i&&i()}else i&&i()}.bind(this))},copyMultiFunc:function(n,t,i){for(var s,o=[],f=[],e=0;e<n.length;e++){var r=n[e],h=(r.FROM_OTYPE&1)>0?1:2,c=ecmodule.common.ecdrive.makeCopyTask(r.FROM_PATH,r.FROM_NAME,h,r.TO_PATH),u=ecmodule.common.ecdrive.task.taskToFile(c,null,r.MODE);u&&u.file&&(f.push(u.file),r.file=u.file);o.push(function(n){return{func:function(i){ecmodule.common.ecdrive.ui.copyFunc(n,t,function(){i()})}}}(r))}s=new common.asyncChain(o);f.length>0&&ecmodule.common.ecdrive.task.taskPopupOpen(f);s.start(function(){i&&i()},function(){i&&i()})},copyFunc:function(n,t,i){var u=(n.FROM_OTYPE&1)>0?1:2,r=null;n.file&&(r=n.file);ecmodule.common.ecdrive.copy(n.FROM_PATH,n.FROM_NAME,u,n.TO_PATH,r,n.MODE,function(r,u){var e,f,o,s,h,c,l;if(t._refreshDate=null,r){if(u.Data[0].ERROR!=null)return i&&i(),!0;for(e=0;e<u.Data.length;e++)if(f=u.Data[e],f.RESULT&&f.RESULT.ISFINISH===!0){if(o=f.RESULT.CONFLICTLIST,o&&o.length>0&&(s=[],o.forEach(function(n){var t=JSON.parse(n);t&&t.T=="F"||s.push(t.DATA)}),s.length>0)){h=JSON.parse(f.TASK.DATA);t.openWindow({url:"/ECERP/SVC/EDV/EDV001P_010",modal:!0,param:{width:800,height:400,Request:{FROM_PATH:h.F,TO_PATH:h.T,CONFLICTS_DATA:s}},pageOption:{applyCallback:function(t){ecmodule.common.ecdrive.restoreObject(t.oids,n.MODE,function(n,t){if(n&&t.Data[0].ERROR!=null)return i&&i(),!0;i&&i()}.bind(this))}.bind(this),cancelCallback:function(){i&&i()}.bind(this)}});return}c=n.TO_PATH;l=n.FROM_PATH;t._getCurrPath()==n.TO_PATH&&(c=n.FROM_PATH,l=n.TO_PATH);t._setTreeItemDrawByPath(c,!0);ecmodule.common.ecdrive.ui.selectDirectory("07",l,t,!0)}i&&i()}else i&&i()}.bind(this))},moveTrashMultiFunc:function(n,t,i){for(var r,e,f=[],u=0;u<n.length;u++)r=n[u],e=ecmodule.common.ecdrive.makeDeleteObjectTask(r.targetPath,r.targetName,r.targetType),f.push(e);ecmodule.common.ecdrive._taskList(f,t.MODE,i)},importDocMultiFunc:function(n,t,i){for(var r,e,f=[],u=0;u<n.length;u++)r=n[u],e=ecmodule.common.ecdrive.makeAddDocumentTask(r.targetOid,{name:r.targetPath,otype:r.targetOtype}),f.push(e);ecmodule.common.ecdrive._taskList(f,t.MODE,i)},deleteDocMultiFunc:function(n,t,i){for(var r,e,f=[],u=0;u<n.length;u++)r=n[u],e=ecmodule.common.ecdrive.makeDeleteDocumentTask(r.targetOid,{name:r.targetDispalyName,otype:r.targetType}),f.push(e);ecmodule.common.ecdrive._taskList(f,t.MODE,i)},restoreObjectMultiFunc:function(n,t,i){for(var e,o,u=[],f=[],r=0;r<n.length;r++)e=n[r],u.push(function(n){return{func:function(i){ecmodule.common.ecdrive.ui.restoreBinObjectFunc(n,t,function(){i()})}}}(e));o=new common.asyncChain(u);f.length>0&&ecmodule.common.ecdrive.task.taskPopupOpen(f);o.start(function(){i&&i()},function(){i&&i()})},restoreBinObjectFunc:function(n,t,i){var r={OID:n.targetOid,NAME:n.targetName,DATA:!1,viewname:n.viewname};ecmodule.common.ecdrive.restoreObject(r,t.MODE,function(r,u){var f,e,o,s;if(r){if(u.Data[0].ERROR!=null){ecount.alert("[ERROR] : "+u.Data[0].ERROR.Message);return}for(f=0;f<u.Data.length;f++)if(e=u.Data[f],e.RESULT&&e.RESULT.ISFINISH===!0)if(o=e.RESULT.CONFLICTLIST,o&&o.length>0){if(s=[],o.forEach(function(n){var t=JSON.parse(n);t&&t.T=="F"||t.DATA&&s.push(t.DATA)}),s.length>0){t.openWindow({url:"/ECERP/SVC/EDV/EDV001P_010",modal:!0,param:{width:800,height:400,Request:{CONFLICTS_DATA:s}},pageOption:{applyCallback:function(t){ecmodule.common.ecdrive.restoreObject(t.oids,n.MODE,function(n,t){if(n&&t.Data[0].ERROR!=null)return i&&i(),!0;i&&i()}.bind(this))}.bind(this),cancelCallback:function(){i&&i()}.bind(this)}});return}}else ecmodule.common.ecdrive.ui.selectBinDirectory("02",t,t._getCurrPath()||"");i&&i()}else i&&i()}.bind(this))},deleteFromBinMultiFunc:function(n,t,i){for(var r,e,f=[],u=0;u<n.length;u++)r=n[u],e=ecmodule.common.ecdrive.makeDeleteFromBinTask("",r.binOid,{name:r.targetDispalyName,otype:r.targetType}),f.push(e);ecmodule.common.ecdrive._taskList(f,t.MODE,i)},parseHashQueryString:function(n){var t,f,i,r,u,n;if($.isEmpty(n))return{};for(t={},f=n.split("&"),i=0;i<f.length;i++)r=f[i].split("="),u=r[0],u&&(r.length>1?(n=decodeURIComponent(r[1]),t[u]=n):t[u]=null);return t},refreshUsage:function(n){var t=function(){var t={ALLDRIVE:!0,MODE:n.MODE};ecmodule.common.ecdrive.apiCall("GetUsage",t,function(t,i){t&&i.Data&&i.Data.Objects&&i.Data.Objects.forEach(function(t){var r,i;t.OID==="<<P"?(r=ecount.resource.LBL20375+'<div class="usage">'+String.format(ecount.resource.LBL20376,Number.formatSize(t.FSIZE))+"<\/div>",n.contents.getCloud().getControl("menu")&&n.contents.getCloud().getControl("menu").setLabel("usage",r)):t.OID==="<<S"&&(i=[],t.Objects.forEach(function(n){i.push({id:n.NAME,text:n.NAME})}),n.TREE_BIN_DATA=i)}.bind(this))})};t.call(n)}});ecount.module("ecmodule.common.ecdrive.task",{taskPopupClose:function(){if(ecmodule.common.ecdrive.task.taskCloseHandle||(ecmodule.common.ecdrive.task.taskCloseHandle=null),ecmodule.common.cloud.isOpen()){var n=ecmodule.common.cloud.getAllFiles();n&&n.length!=0||(ecmodule.common.ecdrive.task.taskCloseHandle==null||!0)&&(ecmodule.common.ecdrive.task.taskCloseHandle=setTimeout(function(){ecmodule.common.cloud.isOpen()&&ecmodule.common.cloud.close();ecmodule.common.ecdrive.task.taskCloseHandle=null},1e3))}else ecmodule.common.ecdrive.task.taskCloseHandle&&window.clearTimeout(ecmodule.common.ecdrive.task.taskCloseHandle),ecmodule.common.ecdrive.task.taskCloseHandle=null},taskPopupOpen:function(n){if(ecmodule.common.cloud.isOpen()==!1){var t={callbackHandler:function(n){n&&n.type=="button"&&(ecmodule.common.cloud.removeAllFiles(),ecmodule.common.ecdrive.task.taskPopupClose());console.log("start ==== task callbackHandler ===========");console.log(arguments);console.log("end ==== task callbackHandler ===========")},toolbar:{message:"",button:ecount.resource.LBL02853},fileList:n};ecmodule.common.cloud.init(t);ecmodule.common.cloud.render()}else ecmodule.common.cloud.addFile(n)},taskToFile:function(n,t){var r=!1,s,h,f,o;if(r=["MOVE","COPY","RESTOREBIN","MKDIR","MOVETOBIN","ADDDOC","DELDOC","DELETE"].contains(n.TASK),n.TASK=="_RENAME"&&(n.TASK="MOVE"),r&&(n.TASK=="MKDIR"&&(n.DATA&&n.DATA.indexOf("FORCEALL")!=-1||(r=!1)),n.TASK=="DELETE"&&$.isEmpty(n.OID)&&(r=!1)),t)r=t.isAsyncTask;else if(ecmodule.common.ecdrive.idindex||(ecmodule.common.ecdrive.idindex=1),r){s=n.TASK+"_"+ecmodule.common.ecdrive.idindex;h=n.TASK;ecmodule.common.ecdrive.idindex++;var c=ecmodule.common.ecdrive.getTaskActionResource(n.TASK),e=null,i="",u=n.OTYPE;switch(n.TASK){case"MKDIR":i=n.PATH;u=2;break;case"MOVE":e=JSON.parse(n.DATA);i=e.F;break;case"COPY":e=JSON.parse(n.DATA);i=e.F;break;case"RESTOREBIN":i=n.option.name;break;case"MOVETOBIN":i=n.PATH;u=n.OTYPE;break;case"ADDDOC":i=n.option?n.option.name:"";u=n.option?n.option.otype:"";break;case"DELDOC":i=n.option?n.option.name:"";u=n.option?n.option.otype:"";break;case"DELETE":i=n.option?n.option.name:"";u=n.option?n.option.otype:""}u||(u=1);i=i.replaceAll("\\","/");f=ecmodule.common.ecdrive.parsePathAndName(i);o="["+c+"]  "+f.name;$.isEmpty(f.path)||(o+=" ("+f.path+")");t={id:s,filetype:ecmodule.common.ecdrive.ui.getIconCssName({NAME:f.name,OTYPE:u}),fileName:o,isAsyncTask:r,ecdriveTask:n}}return{task:n,file:t,isAsyncTask:r}}});$.extend(ecount.common.createNamespace("ecmodule.common.fileSecurity"),{checkFileAllowed:function(n,t,i,r,u){ecount.common.api({url:"/SVC/SelfCustomize/Config/CheckFileSecurityPolicy",data:{Request:{Type:n,FileInfo:t,MaxFileSize:i,EcPageId:u}},success:function(n){var i="",t;i=this.ecPageID!=undefined&&this.ecPageID!=null&&this.ecPageID.indexOf("SendOutside")>=0?{file_size:ecount.resource.MSG02929,up_down:ecount.resource.MSG10971}:n.Data.blockedLimitSize==2048?{file_size:ecount.resource.MSG11731,up_down:ecount.resource.MSG10971}:{file_size:String.format(ecount.resource.MSG10972,n.Data.blockedLimitSize),up_down:ecount.resource.MSG10971};t=!0;n.Data.allowType=="B"&&(ecount.alert(i[n.Data.blockedType]),t=!1);r&&r(t)}})},checkFilesAllowed:function(n,t){ecount.common.api({url:"/SVC/SelfCustomize/Config/CheckFilesSecurityPolicy",data:{Files:n},success:function(n){var u={file_size:String.format(ecount.resource.MSG10972,n.Data.blockedLimitSize),up_down:ecount.resource.MSG10971},i=!0,r=0;n.Data.forEach(function(n){n.AllowType=="B"&&(r+=1,i=!1)});r>0&&ecount.alert(u[n.Data[0].BlockedType]);t&&t(i)}})}});ecount.module("ecmodule.common.globalWidget",{Nation:{getValidateData:function(n){var i={},t=ecount.resource;switch(n){case"COM_NO":case"HOME_NO":case"FAX":i={KR:{min:7,max:11,msg:t.LBL22614},US:{min:10,max:12,msg:t.LBL22618},TW:{min:6,max:10,msg:t.LBL22611},CN:{min:8,max:12,msg:t.LBL22612},TH:{min:7,max:9,msg:t.LBL22613},VN:{min:7,max:11,msg:t.LBL22614},ID:{min:7,max:12,msg:t.LBL22615},PH:{len:10,msg:t.LBL22616},MY:{len:10,msg:t.LBL22616}};break;case"HP_NO":i={KR:{min:10,max:11,msg:t.LBL22617},US:{min:10,max:12,msg:t.LBL22618},TW:{len:10,msg:t.LBL22616},CN:{len:11,msg:t.LBL22619},TH:{len:10,msg:t.LBL22616},VN:{len:10,msg:t.LBL22616},ID:{min:11,max:13,msg:t.LBL22620},PH:{len:11,msg:t.LBL22619},MY:{len:11,msg:t.LBL22619}};break;case"BUSINESS_NO":i={KR:{len:10,msg:t.LBL22616,reg:"[^0-9]",rgxMsg:t.MSG00923},US:{len:9,msg:t.LBL22624,reg:"[^0-9]",rgxMsg:t.MSG00923},TW:{len:8,msg:t.LBL22625,reg:"[^0-9]",rgxMsg:t.MSG00923},CN:{len:18,msg:t.LBL22626,reg:"[^0-9]",rgxMsg:t.MSG00923},TH:{len:13,msg:t.LBL22627,reg:"[^0-9]",rgxMsg:t.MSG00923},VN:{len:[10,14],msg:t.LBL22628,reg:"[^0-9|-]",rgxMsg:t.MSG04805},ID:{len:13,msg:t.LBL22627,reg:"[^0-9]",rgxMsg:t.MSG00923},PH:{len:10,msg:t.LBL22616,reg:"[^0-9]",rgxMsg:t.MSG00923},MY:{min:9,max:24,msg:t.LBL22629,reg:"[^0-9]",rgxMsg:t.MSG00923}};break;case"G_BUSINESS_NO":i={KR:{len:10,msg:t.LBL22616},US:{len:9,msg:t.LBL22624},TW:{len:8,msg:t.LBL22625},CN:{len:18,msg:t.LBL22626},TH:{len:[10,13],msg:t.LBL22628},VN:{len:[10,13],msg:t.LBL22628},ID:{len:[15,16],msg:t.LBL22630},PH:{len:[12,14],msg:t.LBL22810},MY:{len:15,msg:t.LBL22631}};break;case"JUMIN_NO":i={KR:{len:13,msg:t.LBL22627},US:{len:9,msg:t.LBL22624},TW:{len:10,msg:t.LBL22616},CN:{len:18,msg:t.LBL22626},TH:{len:13,msg:t.LBL22627},VN:{len:[9,12],msg:t.LBL22632},ID:{len:16,msg:t.LBL22633},PH:{len:12,msg:t.LBL22634},MY:{len:12,msg:t.LBL22634}}}return i},validate:function(n){n&&n()},getInitGobalWidgetListDataByKey:function(n,t,i){if(_.isEmpty(n)||_.isEmpty(n.initData)||_.isEmpty(t)||_.isEmpty(i))return"";var r=n.initData.find(function(i){return(i.Key||i.KEY).WIGT_TYPECD==ecmodule.common.globalWidget.Nation.getGlobalWidgetDataMappingKey(n,t)});return _.isEmpty(r)?"":r[i]||""},getMultiGobalWidgetListDataByKey:function(n,t,i,r){if(_.isEmpty(n)||_.isEmpty(t)||_.isEmpty(i)||_.isEmpty(r))return"";var u=n.initData.find(function(r){return r.Key.CNNT_TGT_KEY==t&&r.Key.WIGT_TYPECD==ecmodule.common.globalWidget.Nation.getGlobalWidgetDataMappingKey(n,i)}.bind(this));return _.isEmpty(u)?"":u[r]||""},getGlobalWidgetDataMappingKey:function(n,t){return _.isEmpty(n)?null:_.isEmpty(n.globalWidgetCheckList)?null:(n.globalWidgetCheckList.find(function(n){return n.id.toUpperCase()==t.toUpperCase()})||{}).key},makeGlobalWidgetData:function(n,t){if(_.isEmpty(n))return{};if(_.isEmpty(t))return{};var i=ecmodule.common.globalWidget.Nation.getCheckList(n,!0),r=n.getControl;return i.map(function(i,u){var f=r(i),e=i.getNationalFlag?i.getNationalFlag(f):f.getNationalFlag();return{CNNT_TGT_ID:t.subPrg_id||t.prg_id||t.pageID,CNNT_TGT_TYPECD:_.isEmpty(t.prg_id)?"POOPUP_ID":"PRG_ID",WIGT_TYPECD:ecmodule.common.globalWidget.Nation.getGlobalWidgetDataMappingKey(n,i.id),CNNT_TGT_KEY:t.tgtKey,CNTY_CD:e.toUpperCase()==(t.stateCode||ecount.company.STATE_CODE).toUpperCase()?"":e,WRTR_ID:t.isEditNew?"":ecmodule.common.globalWidget.Nation.getInitGobalWidgetListDataByKey(n,i.id,"WRTR_ID"),WRT_DTM:t.isEditNew?"":ecmodule.common.globalWidget.Nation.getInitGobalWidgetListDataByKey(n,i.id,"WRT_DTM"),index:u,ctrlID:i.id}})},makeMultiGlobalWidgetData:function(n,t){if(_.isEmpty(n))return{};if(_.isEmpty(t))return{};var i=_.isEmpty(t.prg_id);return{CNNT_TGT_ID:i==!0?t.pageID:t.prg_id,CNNT_TGT_TYPECD:i==!0?"POOPUP_ID":"PRG_ID",WIGT_TYPECD:ecmodule.common.globalWidget.Nation.getGlobalWidgetDataMappingKey(n,t.cid),CNNT_TGT_KEY:t.tgtKey,CNTY_CD:t.nationFlag||n.getControl(t.controlId).getNationalFlag(),WRTR_ID:ecmodule.common.globalWidget.Nation.getMultiGobalWidgetListDataByKey(n,t.tgtKey,t.cid,"WRTR_ID"),WRT_DTM:ecmodule.common.globalWidget.Nation.getMultiGobalWidgetListDataByKey(n,t.tgtKey,t.cid,"WRT_DTM")}},getCheckList:function(n,t){var r=n.globalWidgetCheckList,u=n.getControl,i=[];return r.forEach(function(n){var r=u(n),f;r&&(f=n.getValue?n.getValue(r,t):r.getValue(n.index||0),_.isEmpty(f)||i.push(n))}),i},setGlobalWidgetNationMsg:function(n){var t=[],i=[];return n.forEach(function(n){t.push("- "+n.title+"<br>");i.push(n.title+" : "+n.msg+"<br>")}),String.format(ecount.resource.MSG11614,t.join(""),i.join(""))},getJumInControlFilterSetting:function(n){var t={maxLength:n.toUpperCase()=="KR"?13:28};return n.toUpperCase()=="CN"?_.extend(t,{message:ecount.resource.MSG11627,regexp:"[^a-zA-Z0-9]"}):_.extend(t,{message:ecount.resource.MSG00923,regexp:"[^0-9]"})},getGlobalWidgetCheckListValue:function(n,t,i){if(!_.isEmpty(n)&&!_.isEmpty(n.globalWidgetCheckList)){var r=n.globalWidgetCheckList.find(function(n){return n.id==t});return _.isEmpty(r)?"":r[i]||""}},getGlobalWidgetnationSyncData:function(n,t,i){return t.map(function(t){var r=(i||[]).find(function(n){return t.CNNT_TGT_ID==n.Key.CNNT_TGT_ID&&t.CNNT_TGT_KEY==n.Key.CNNT_TGT_KEY&&t.WIGT_TYPECD==n.Key.WIGT_TYPECD});return r&&n.forEach(function(n){t[n]=r[n]}),t})},gobalWidgetListGroupBy:function(n,t){var i,r;if(!t.length)return{};i={};for(r in n)t.forEach(function(t){t.Key.WIGT_TYPECD==n[r]&&(i[r]=_.extend({},t))});return i}}});ecount.module("ecmodule.common.payment",{paymentOption:{"1":{name:"KOCES",payMethod:["CARD","CASH","PAY"],payMethodTranTypeObj:{CARD:"G120",CASH:"G130",CARD_CANCEL:"G120",CASH_CANCEL:"G130"},createReceiptTemplate:function(n){var v="[SORT]C;",y="[SORT]L;",e="[PRINT]-----------------------------------------------;",p="[PRINT] ;",b={0:"[ 회원용 ] ;",1:"[ 매입사용 ] ;"},w=18,a=0,o="",s="",t,l,f,h,c;for(month=n.month.toString().padStart(2,"0"),t=1,l=0;l<2;l++){var i="",r="",u="";if(i+=String.format("S{0}=",t++)+"[IMAGE];",i+=String.format("S{0}=",t++)+y,i+=String.format("S{0}=",t++)+String.format("[PRINT]{0};",n.comInfo.COM_DES),i+=String.format("S{0}=",t++)+String.format("[PRINT]{0} {1} {2};",n.businessNoFormat,n.comInfo.BOSS_NAME,n.comInfo.TEL_NO),i+=String.format("S{0}=",t++)+String.format("[PRINT]{0};",n.comInfo.COM_ADDR),i+=String.format("S{0}=",t++)+e,i+=String.format("S{0}=",t++)+"[BOLD]Y;",i+=String.format("S{0}=",t++)+"[SIZE]H1;",i+=String.format("S{0}=",t++)+v,i+=String.format("S{0}=",t++)+"[PRINT]{0};",i+=String.format("S{0}=",t++)+"[DEFAULT];",i+=String.format("S{0}=",t++)+y,n.payMethod=="CASH"?(i+=n.isReprint?"":"{1}",i+=n.isReprint?"":"{2}",i+=String.format("S{0}=",t++)+"[PRINT]식별 번호 : "+(n.isReprint?n.cardNo:"{3}")+";"):(i+=String.format("S{0}=",t++)+"[PRINT]카드 종류 : "+(n.isReprint?n.issueNm:"{1}")+";",i+=n.isReprint?"":String.format("S{0}=",t++)+"[PRINT]가맹 번호 : {2};",i+=String.format("S{0}=",t++)+"[PRINT]카드 번호 : "+(n.isReprint?n.cardNo:"{3}")+String.format("({0});",month=="00"?"일시불":String.format("할부{0}",month))),i+=String.format("S{0}=",t++)+"[PRINT]거래 일자 : "+(n.isReprint?n.responDt:"{4}")+";",i+=String.format("S{0}=",t++)+e,n.itemMarkTf=="Y"&&n.slipInfo!=null){for(f=0;f<n.slipInfo.length;f++)for(f==0&&(r+=String.format("S{0}=",t++)+"[PRINT]      제품명             단가  수량     금액  ;",r+=String.format("S{0}=",t++)+e),a=w,h=0;h<n.slipInfo[f].PROD_NM.length;h+=a){for(c=h;c<n.slipInfo[f].PROD_NM.length;c++)if(s+=n.slipInfo[f].PROD_NM.slice(c,c+1),ecmodule.common.payment.stringByte(s)>=w){a=s.length;break}r+=String.format("S{0}=[PRINT]",t++)+ecmodule.common.payment.addSpace(s,"I")+ecmodule.common.payment.addSpace("","B");h==0?(r+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[f].PRICE,{fractionLimit:ecount.config.company.DEC_AMT}),"P")+ecmodule.common.payment.addSpace("","B"),r+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[f].QTY,{fractionLimit:ecount.config.company.DEC_AMT}),"Q")+ecmodule.common.payment.addSpace("","B"),r+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[f].SUPPLY_AMT,{fractionLimit:ecount.config.company.DEC_AMT}),"S")+";"):(r+=ecmodule.common.payment.addSpace("","P")+ecmodule.common.payment.addSpace("","B"),r+=ecmodule.common.payment.addSpace("","Q")+ecmodule.common.payment.addSpace("","B"),r+=ecmodule.common.payment.addSpace("","S")+";");s=""}r+=String.format("S{0}=",t++)+e}u+=String.format("S{0}=",t++)+"[PRINT]거래  금액 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.supplyAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"A")+";";u+=String.format("S{0}=",t++)+"[PRINT]부  가  세 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.vatAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"V")+";";u+=String.format("S{0}=",t++)+"[PRINT]합      계 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.payAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"T")+";";u+=String.format("S{0}=",t++)+e;u+=String.format("S{0}=",t++)+"[PRINT]승인  번호 : "+(n.isReprint?n.approvNo:"{5}")+";";u+=n.payMethod=="CASH"?n.isReprint?"":"{6}":String.format("S{0}=",t++)+"[PRINT]매  입  사 : "+(n.isReprint?n.acquerNm:"{6}")+";";u+=String.format("S{0}=",t++)+p;u+=String.format("S{0}=",t++)+v;u+=String.format("S{0}=",t++)+"[PRINT]"+b[l];u+=String.format("S{0}=",t++)+p;o+=i;_.isEmpty(r)||(o+=r.replace(/[{}&%^]/g," "));o+=u;o+=String.format("S{0}=",t++)+"[CUT];"}return o}},"2":{name:"KICC",payMethod:["CARD","CASH","PAY"],payMethodTranTypeObj:{CARD:10,CASH:20,PAY:30,CARD_CANCEL:11,CASH_CANCEL:21,PAY_CANCEL:31},createReceiptTemplate:function(n){var t="\r\n",y="\x1ba\x01",o="\x1ba\x03",v="\x1b!\x01",p="\x1b!\x11",h="----------------------------------------------",s="",d={0:"[ 회원용 ]",1:"[ 매입사용 ]"},i="",f="",r="",u="",w="",k=18,b=0,c="",l,a,e;if(s+=n.comInfo.COM_DES,s+=t,s+=String.format("{0} {1} {2}",n.businessNoFormat,n.comInfo.BOSS_NAME,n.comInfo.TEL_NO),s+=t,s+=n.comInfo.COM_ADDR,i=y+v,i+="\x1cp\x013",i+=t,i+=o,i+=s,i+=t,i+=h,i+=t,i+=y,i+=p,i+="{0}",i+=t,i+=v,i+=o,i+="카드 종류 : "+(n.isReprint?n.issueNm:"{1}"),i+=t,n.payMethod=="CASH"?(i+=n.isReprint?"":"{2}",i+="식별 번호 : "+(n.isReprint?n.cardNo:"{3}")):(i+=n.isReprint?"":"가맹 번호 : {2}"+t,i+="카드 번호 : "+(n.isReprint?n.cardNo:"{3}")+String.format("({0})",n.installment=="0"?ecount.resource.LBL21899:ecount.resource.LBL80114)),i+=t,i+=o,i+="거래 일시 : "+(n.isReprint?n.responDt:"{4}"),f+="",n.itemMarkTf=="Y"&&n.slipInfo!=null)for(e=0;e<n.slipInfo.length;e++)for(f+=o,e==0&&(f+="      제품명             단가  수량     금액  ",f+=t,f+=h,f+=t),b=k,l=0;l<n.slipInfo[e].PROD_NM.length;l+=b){for(a=l;a<n.slipInfo[e].PROD_NM.length;a++)if(c+=n.slipInfo[e].PROD_NM.slice(a,a+1),ecmodule.common.payment.stringByte(c)>=k){b=c.length;break}f+=ecmodule.common.payment.addSpace(c,"I")+ecmodule.common.payment.addSpace("","B");l==0?(f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].PRICE,{fractionLimit:ecount.config.company.DEC_AMT}),"P")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].QTY,{fractionLimit:ecount.config.company.DEC_AMT}),"Q")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].SUPPLY_AMT,{fractionLimit:ecount.config.company.DEC_AMT}),"S")):(f+=ecmodule.common.payment.addSpace("","P")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace("","Q")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace("","S"));f+=t;c=""}for(r+=o,r+="거래  금액 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.supplyAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"A"),r+=t,r+=o,r+="부  가  세 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.vatAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"V"),r+=t,r+=o,r+="합      계 : "+p+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.payAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"T"),r+=v,r+=t,r+=h,r+=t,r+=o,r+="승인  번호 : "+p+(n.isReprint?n.approvNo:"{5}"),r+=t,r+=v,r+="매  입  사 : "+(n.isReprint?n.acquerNm:"{6}"),u+=i,u+=t,u+=h,u+=t,_.isEmpty(f)||(u+=f.replace(/[{}&%^]/g," "),u+=h,u+=t),u+=r,u+=t,u+=t,u+=y+"^Keeper^",u+=t,u+=t,u+=t,u+=t,u+="\x1bi",e=0;e<2;e++)e==0&&(w+="EP"),w+=u.replace("^Keeper^",d[e]);return w}},"3":{name:"KIS",payMethod:["CARD","CASH","PAY"],payMethodTranTypeObj:{CARD:"D1",CASH:"CC",PAY:"v1",CARD_CANCEL:"D2",CASH_CANCEL:"CR",PAY_CANCEL:"v2"},createReceiptTemplate:function(n){var t="\r\n",y="\x1ba\x01",o="\x1ba\x03",b="\x1b@",v="\x1b!\x01",p="\x1b!\x11",h="----------------------------------------------",s="",g={0:"[ 회원용 ]",1:"[ 매입사용 ]"},i="",f="",r="",u="",k="",d=18,w=0,c="",l,a,e;if(s+=n.comInfo.COM_DES,s+=t,s+=String.format("{0} {1} {2}",n.businessNoFormat,n.comInfo.BOSS_NAME,n.comInfo.TEL_NO),s+=t,s+=n.comInfo.COM_ADDR,i=y+v,i+="\x1cp\x013",i+=t,i+=b,i+=o,i+=s,i+=t,i+=h,i+=t,i+=y,i+=p,i+="{0}",i+=t,i+=v,i+=o,i+=b,i+="카드 종류 : "+(n.isReprint?n.issueNm:"{1}"),i+=t,n.payMethod=="CASH"?(i+=n.isReprint?"":"{2}",i+="식별 번호 : "+(n.isReprint?n.cardNo:"{3}")):(i+=n.isReprint?"":"가맹 번호 : {2}"+t,i+="카드 번호 : "+(n.isReprint?n.cardNo:"{3}")+String.format("({0})",n.installment=="0"?ecount.resource.LBL21899:ecount.resource.LBL80114)),i+=t,i+=o,i+="거래 일시 : "+(n.isReprint?n.responDt:"{4}"),f+="",n.itemMarkTf=="Y"&&n.slipInfo!=null)for(e=0;e<n.slipInfo.length;e++)for(f+=o,e==0&&(f+="      제품명             단가  수량     금액  ",f+=t,f+=h,f+=t),w=d,l=0;l<n.slipInfo[e].PROD_NM.length;l+=w){for(a=l;a<n.slipInfo[e].PROD_NM.length;a++)if(c+=n.slipInfo[e].PROD_NM.slice(a,a+1),ecmodule.common.payment.stringByte(c)>=d){w=c.length;break}f+=ecmodule.common.payment.addSpace(c,"I")+ecmodule.common.payment.addSpace("","B");l==0?(f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].PRICE,{fractionLimit:ecount.config.company.DEC_AMT}),"P")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].QTY,{fractionLimit:ecount.config.company.DEC_AMT}),"Q")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace(String.fastFormat(n.slipInfo[e].SUPPLY_AMT,{fractionLimit:ecount.config.company.DEC_AMT}),"S")):(f+=ecmodule.common.payment.addSpace("","P")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace("","Q")+ecmodule.common.payment.addSpace("","B"),f+=ecmodule.common.payment.addSpace("","S"));f+=t;c=""}for(r+=o,r+="거래  금액 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.supplyAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"A"),r+=t,r+=o,r+="부  가  세 : "+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.vatAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"V"),r+=t,r+=o,r+="합      계 : "+p+ecmodule.common.payment.addSpace(n.minusSign+String.format(ecount.resource.LBL21368,String.fastFormat(n.payAmt,{fractionLimit:ecount.config.company.DEC_AMT})),"T"),r+=v,r+=t,r+=h,r+=t,r+=o,r+="승인  번호 : "+p+(n.isReprint?n.approvNo:"{5}"),r+=t,r+=v,r+="매  입  사 : "+(n.isReprint?n.acquerNm:"{6}"),u+=i,u+=t,u+=h,u+=t,_.isEmpty(f)||(u+=f.replace(/[{}&%^]/g," "),u+=h,u+=t),u+=r,u+=t,u+=t,u+=y+"^Keeper^",u+=t,u+=t,u+=t,u+=t,u+="\x1bi",e=0;e<2;e++)k+=u.replace("^Keeper^",g[e]);return k}}},paymentType:{CASH:{controlList:["receiptType"]},CARD:{controlList:["customizer"]},PAY:{controlList:["paymentBarcode"]}},addSpace:function(n,t){var u=47,i=0,r=0,f="",o,s,e;switch(t){case"I":r=19;i=r-n.length;o=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;o.test(n)&&(s=n.replace(/[^\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F]/gi,""),i=i-s.length,i<0&&(i=0));break;case"P":r=9;i=r-n.length;break;case"Q":r=4;i=r-n.length;break;case"S":r=11;i=r-n.length;break;case"B":r=1;i=r-n.length;break;case"A":r=20;i=u-15-n.length;break;case"V":r=20;i=u-15-n.length;break;case"T":r=20;i=u-15-n.length}for(e=0;e<i;e++)f+=" ";return["P","Q","S","A","V","T"].contains(t)?f+n:n+f},charByte:function(n){if(n==null||n.length==0)return 0;var t=n.charCodeAt(0);return t<=127?1:2},stringByte:function(n){for(var i=0,t=0;t<n.length;t++)i+=this.charByte(n.substring(t,t+1));return i}});